// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: void fn00401000(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401000(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem10[0x0040406C:word32] = Mem0[0x00404070:word32] - Mem0[0x00404078:word32];
	if (GetBkColor(293789) == ~0x00)
	{
		Mem56[0x00404078:word32] = 0x00207C0A;
		Mem63[0x00404088:word32] = Mem56[0x00404070:word32] >> (byte) (0x0050A5DB - dwLoc1C);
	}
	word32 dwLoc0C_26 = 0x00;
	while (dwLoc0C_26 < dwArg0C)
	{
		Mem39[0x004040A0:word32] = Mem10[0x0040409C:word32] - 0x000D4E0C - Mem10[0x00404068:word32];
		Mem48[dwArg04 + dwLoc0C_26:byte] = Mem39[dwArg08 + dwLoc0C_26:byte];
		dwLoc0C_26 = dwLoc0C_26 + 0x01;
	}
}

// 004010A0: void fn004010A0(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn004010A0(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem9[0x00404070:word32] = dwLoc30;
	word32 eax_14 = LoadIconA(0x00, 0x00404000);
	Mem17[0x00404090:word32] = dwLoc30;
	if (eax_14 != 0x00)
		Mem242[0x00404090:word32] = dwLoc30 + 0x001744E3;
	CopyIcon(eax_14);
	Mem31[0x00404078:word32] = Mem17[0x00404078:word32] *s 0x00908369 - dwLoc30;
	if (dwArg0C >=u 0x01)
	{
		byte dl_70 = Mem31[dwArg04 + 0x00:byte];
		word32 dwLoc0C_110 = 0x01;
		word32 dwLoc1C_106 = 0x00;
		do
		{
			byte cl_86 = Mem31[dwArg04 + dwLoc0C_110:byte];
			Mem94[0x004040B0:word32] = Mem31[0x00404074:word32] *s 491973 + 195922;
			word32 edx_89 = dwLoc0C_110 + 0x01;
			dwLoc0C_110 = edx_89;
			if ((word32) cl_86 == (word32) dl_70)
			{
				if ((word32) Mem94[dwArg04 + edx_89:byte] == 0x00)
				{
					Mem139[dwArg08 + dwLoc1C_106:byte] = dl_70;
					Mem148[0x004040B0:word32] = 365600 << (byte) dwLoc28;
					dwLoc1C_106 = dwLoc1C_106 + 0x01;
					dwLoc0C_110 = edx_89 + 0x01;
				}
				else
				{
					Mem156[0x004040B0:word32] = Mem94[0x004040B0:word32] *s dwLoc28 + 0x0014E415;
					word32 eax_167 = fn004012A0(fp - 0x14, dwArg04 + edx_89) + edx_89;
					dwLoc0C_110 = fn004012A0(fp - 44, dwArg04 + eax_167) + eax_167;
					word32 dwLoc20_189 = 0x00;
					while (dwLoc20_189 <u dwLoc14)
					{
						Mem214[dwArg08 + dwLoc1C_106:byte] = Mem156[dwArg08 + (dwLoc1C_106 - dwLoc2C):byte];
						dwLoc1C_106 = dwLoc1C_106 + 0x01;
						dwLoc20_189 = dwLoc20_189 + 0x01;
					}
				}
			}
			else
			{
				Mem226[dwArg08 + dwLoc1C_106:byte] = cl_86;
				dwLoc1C_106 = dwLoc1C_106 + 0x01;
			}
		} while (dwLoc0C_110 <u dwArg0C);
	}
}

// 004012A0: Register word32 fn004012A0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn004012A0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_12 = 0x00;
	word32 dwLoc24_13 = 0x00;
	do
	{
		word32 ecx_16 = (word32) Mem0[dwArg08 + 0x00:byte];
		Mem28[0x004040B0:word32] = dwLoc14 >> (byte) (dwLoc18 *s Mem0[0x00404074:word32]);
		Mem38[0x00404074:word32] = dwLoc10 *s 0x000AD0DF;
		word32 ecx_33 = dwLoc0C_12 << 0x07 | ecx_16 & 0x7F;
		word32 ecx_40 = dwLoc24_13 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc0C_12 = ecx_33;
		dwLoc24_13 = ecx_40;
	} while ((ecx_16 & 0x80) != 0x00);
	Mem50[dwArg04 + 0x00:word32] = ecx_33;
	return ecx_40;
}

// 00401320: Register word32 fn00401320(Stack word32 dwArg04)
word32 fn00401320(word32 dwArg04)
{
	word32 eax_38;
	Mem10[0x0040409C:word32] = Mem0[0x004040B0:word32] *s 497375;
	word32 eax_27 = CreateFileA(dwArg04, 0x80000000, 0x01, 0x00, 0x03, 0x80, 0x00);
	if (eax_27 == ~0x00)
		eax_38 = 0x00;
	else
		eax_38 = eax_27;
	return eax_38;
}

// 00401380: void fn00401380(Stack word32 dwArg04, Stack byte bArg08, Stack word32 dwArg0C)
void fn00401380(word32 dwArg04, byte bArg08, word32 dwArg0C)
{
	Mem9[0x004040B0:word32] = SetParent;
	word32 dwLoc0C_10 = 0x00;
	while (dwLoc0C_10 < dwArg0C)
	{
		Mem27[dwArg04 + dwLoc0C_10:byte] = bArg08;
		dwLoc0C_10 = dwLoc0C_10 + 0x01;
	}
	Mem43[0x004040A0:word32] = 0x00077A9E << (byte) (dwLoc14 * 0x02) << (byte) dwLoc20;
}

// 004013E0: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Mem24[0x0040409C:word32] = dwLoc24 << (byte) (dwLoc18 *s 457000 - dwLoc18);
	Mem26[0x004040A0:word32] = AdjustWindowRect;
	Mem28[0x0040409C:word32] = CreateWindowExW;
	GetModuleHandleA(0x00);
	Mem53[0x004040B0:word32] = Mem28[0x0040409C:word32] >> (byte) ((Mem28[0x0040409C:word32] + 610931) - dwLoc0C);
	LoadIconA(GetModuleHandleA(0x00), 0x00);
	LoadCursorA(0x00, 0x7F00);
	Mem76[0x0040409C:word32] = 0x00 >> (byte) dwLoc14 >> ~0x65;
	word32 eax_94 = Mem76[0x0040409C:word32] - dwLoc0C >> (byte) Mem76[0x00404068:word32];
	Mem95[0x004040B0:word32] = eax_94;
	word32 eax_99 = DPB(eax_94, RegisterClassA(fp - 188), 0);
	if (dwArg08 != 0x01)
		Mem810[0x00404098:word32] = 0x00;
	else
	{
		Mem811[0x00404098:word32] = 0x01;
		Mem813[0x00404080:word32] = dwArg04;
	}
	word32 dwLoc30_143;
	CreateWindowExA(0x00, 0x00404028, 0x0040401C, 0x01, 492646, 0x0574, 0x00437887, 4796946, 0x00, 0x00, GetModuleHandleA(0x00), 0x00);
	Mem133[0x0040409C:word32] = GetLastInputInfo;
	word32 esp_128 = fp - 0x016C;
	word32 edx_138 = Mem133[0x004040A0:word32] - Mem133[0x004040A0:word32] << (byte) dwLoc14;
	if (Mem133[0x00404098:word32] == 0x00)
	{
		esp_128 = fp - 0x0170;
		dwLoc30_143 = GetModuleHandleA(0x00);
	}
	else
		dwLoc30_143 = dwArg04;
	Mem150[0x004040B4:word32] = dwLoc28 << (byte) dwLoc28;
	word32 esp_151 = esp_128 - 0x04;
	Mem152[esp_151 + 0x00:word32] = 0x00404034;
	Mem154[esp_151 - 0x04 + 0x00:word32] = 0x00;
	word32 esp_153 = esp_151 - 0x04;
	word32 eax_155 = LoadCursorA(Mem154[esp_151 - 0x04 + 0x00:HINSTANCE], Mem154[esp_151 + 0x00:LPCSTR]);
	if (eax_155 != 0x00)
	{
		Mem797[0x00404090:word32] = 0x00;
		Mem800[esp_151 - 0x08 + 0x00:word32] = eax_155;
		SetCursor(Mem800[esp_151 - 0x08 + 0x00:HCURSOR]);
		esp_153 = esp_151 - 0x08;
	}
	Mem165[0x004040A0:word32] = 4204422;
	word32 edx_174 = dwLoc30_143 + Mem165[dwLoc30_143 + 0x3C:word32];
	word32 esp_177 = esp_153 - 0x04;
	Mem178[esp_177 + 0x00:word32] = 0x44;
	Mem180[esp_177 - 0x04 + 0x00:word32] = 0x00;
	Mem183[esp_177 - 0x08 + 0x00:word32] = fp - 0x7C;
	fn00401380(dwArg00, bArg04, dwArg08);
	Mem192[0x00404068:word32] = edx_138 *s edx_138 >> ~0x32;
	Mem195[esp_177 + 0x00:word32] = fp - 0x7C;
	GetStartupInfoA(Mem195[esp_177 + 0x00:LPSTARTUPINFOA]);
	Mem197[0x00404068:word32] = WindowFromDC;
	if (false)
	{
		word32 ecx_316 = Mem197[0x00404078:word32] *s 5137939 - 0x0016F766;
		Mem320[0x00404078:word32] = Mem197[0x00404090:word32];
		Mem324[0x00404070:word32] = ecx_316 * 0x02;
		Mem329[esp_177 - 0x04 + 0x00:word32] = fp - 0xD0;
		Mem332[esp_177 - 0x08 + 0x00:word32] = fp - 0xE0;
		CopyRect(Mem332[esp_177 - 0x08 + 0x00:LPRECT], Mem332[esp_177 - 0x04 + 0x00:(ptr RECT)]);
		Mem339[0x00404078:word32] = Mem332[0x00404078:word32] >> (byte) (Mem332[0x00404070:word32] + 3487854);
		Mem346[0x0040409C:word32] = DeleteMenu;
		word32 eax_356 = ((word32) Mem346[edx_174 + 0x06:word16] - 0x01) *s 0x28 + ((edx_174 + 0x18) + (word32) Mem346[edx_174 + 0x14:word16]);
		word32 eax_372 = (uint32) ((uint64) (uint32) (Mem346[eax_356 + 0x10:word32] - 0x01 + Mem346[edx_174 + 0x3C:word32]) /u Mem346[edx_174 + 0x3C:word32]) *s Mem346[edx_174 + 0x3C:word32] + Mem346[eax_356 + 0x14:word32];
		Mem376[0x004040A0:word32] = ExcludeUpdateRgn;
		Mem378[esp_177 - 0x0C + 0x00:word32] = 0x0200;
		word32 eax_379 = fn00402730(dwArg00);
		if (eax_379 != 0x00)
		{
			Mem390[0x00404068:word32] = GetScrollRange;
			Mem392[esp_177 - 0x0C + 0x00:word32] = 0x0200;
			Mem395[esp_177 - 0x10 + 0x00:word32] = eax_379;
			Mem398[esp_177 - 0x14 + 0x00:word32] = dwLoc30_143;
			GetModuleFileNameA(Mem398[esp_177 - 0x14 + 0x00:HMODULE], Mem398[esp_177 - 0x10 + 0x00:LPSTR], Mem398[esp_177 - 0x0C + 0x00:DWORD]);
			Mem403[0x00404090:word32] = Mem398[0x00404090:word32] *s 0x000B44DD - Mem398[0x00404078:word32];
			Mem407[0x00404088:word32] = ~0x0071BBAC;
			Mem413[0x00404078:word32] = 0x00;
			Mem418[0x0040406C:word32] = 0x000B44DD - Mem413[0x004040B4:word32] + Mem413[0x0040406C:word32];
			Mem425[esp_177 - 0x18 + 0x00:word32] = fp - 0xF0;
			Mem428[esp_177 - 0x1C + 0x00:word32] = fp - 0x0100;
			CopyRect(Mem428[esp_177 - 0x1C + 0x00:LPRECT], Mem428[esp_177 - 0x18 + 0x00:(ptr RECT)]);
			Mem430[0x00404078:word32] = 0x00912CB0;
			Mem438[esp_177 - 0x20 + 0x00:word32] = eax_379;
			word32 eax_439 = fn00401320(dwArg00);
			if (eax_439 != 0x00)
			{
				Mem457[0x0040409C:word32] = SetMenuItemBitmaps;
				Mem459[esp_177 - 0x20 + 0x00:word32] = 0x00;
				Mem462[esp_177 - 0x24 + 0x00:word32] = eax_439;
				word32 eax_464 = GetFileSize(Mem462[esp_177 - 0x24 + 0x00:HANDLE], Mem462[esp_177 - 0x20 + 0x00:LPDWORD]) - eax_372;
				Mem469[0x00404068:word32] = DefDlgProcW;
				if (eax_464 != 0x00)
				{
					Mem479[esp_177 - 0x28 + 0x00:word32] = eax_464 + 0x10;
					word32 eax_480 = fn00402730(dwArg00);
					if (eax_480 != 0x00)
					{
						Mem494[0x00404074:word32] = Mem479[0x00404074:word32] << (byte) Mem479[0x00404068:word32];
						Mem496[esp_177 - 0x28 + 0x00:word32] = 0x00;
						Mem498[esp_177 - 44 + 0x00:word32] = 0x00;
						Mem501[esp_177 - 0x30 + 0x00:word32] = eax_372;
						Mem504[esp_177 - 0x34 + 0x00:word32] = eax_439;
						SetFilePointer(Mem504[esp_177 - 0x34 + 0x00:HANDLE], Mem504[esp_177 - 0x30 + 0x00:LONG], Mem504[esp_177 - 44 + 0x00:PLONG], Mem504[esp_177 - 0x28 + 0x00:DWORD]);
						Mem507[esp_177 - 0x38 + 0x00:word32] = 0x00;
						Mem510[esp_177 - 0x3C + 0x00:word32] = fp - 0x84;
						Mem513[esp_177 - 0x40 + 0x00:word32] = eax_464;
						Mem516[esp_177 - 0x44 + 0x00:word32] = eax_480;
						Mem519[esp_177 - 0x48 + 0x00:word32] = eax_439;
						if (ReadFile(Mem519[esp_177 - 0x48 + 0x00:HANDLE], Mem519[esp_177 - 0x44 + 0x00:LPVOID], Mem519[esp_177 - 0x40 + 0x00:DWORD], Mem519[esp_177 - 0x3C + 0x00:LPDWORD], Mem519[esp_177 - 0x38 + 0x00:LPOVERLAPPED]) != 0x00 && dwLoc84 == eax_464)
						{
							Mem539[0x00404074:word32] = GetWindowModuleFileNameA;
							Mem549[esp_177 - 0x4C + 0x00:word32] = eax_439;
							CloseHandle(Mem549[esp_177 - 0x4C + 0x00:HANDLE]);
							Mem552[0x0040409C:word32] = GetKeyState;
							if (dwLoc84 == eax_464)
							{
								Mem562[0x00404074:word32] = RegisterClassExW;
								Mem564[esp_177 - 0x50 + 0x00:word32] = 0x40;
								Mem569[esp_177 - 0x54 + 0x00:word32] = eax_480 - 0x40 + eax_464;
								Mem572[esp_177 - 88 + 0x00:word32] = eax_480;
								fn00401000(dwArg00, dwArg04, dwArg08);
								Mem576[0x004040B0:word32] = SetCaretPos;
								word32 eax_577 = Mem576[0x00404088:word32];
								Mem580[esp_177 - 0x50 + 0x00:word32] = 0x0040403C;
								word32 eax_581 = DPB(eax_577, AddAtomA(Mem580[esp_177 - 0x50 + 0x00:LPCSTR]), 0);
								word16 ax_582 = AddAtomA(Mem580[esp_177 - 0x50 + 0x00:LPCSTR]);
								if ((word32) ax_582 == 0x00)
								{
									Mem795[0x00404078:word32] = eax_577 *s 0x003C36F4;
									Mem796[0x00404088:word32] = 183105;
								}
								Mem592[0x0040406C:word32] = 0x007CFCF7 >> (byte) Mem580[0x00404070:word32];
								word32 edx_594 = Mem592[eax_480 + 0x00:word32];
								Mem597[0x0040409C:word32] = OemToCharW;
								Mem604[esp_177 - 0x54 + 0x00:word32] = GetDesktopWindow();
								if (GetDC(Mem604[esp_177 - 0x54 + 0x00:HWND]) == 0x00)
									Mem791[0x00404088:word32] = 4543457;
								word32 ecx_614 = Mem604[eax_480 + 0x04:word32];
								word32 dwLoc10_616 = 0x00;
								while (dwLoc10_616 <u edx_594)
								{
									Mem630[eax_480 + dwLoc10_616 + 0x08:word32] = Mem604[eax_480 + dwLoc10_616 + 0x08:word32] ^ 1111;
									dwLoc10_616 = dwLoc10_616 + 0x08;
								}
								Mem642[esp_177 - 88 + 0x00:word32] = ecx_614;
								Mem645[0x00404094:word32] = fn00402730(dwArg00);
								if (Mem645[0x00404094:word32] != 0x00)
								{
									word32 esp_695;
									Mem652[esp_177 - 88 + 0x00:word32] = edx_594;
									Mem655[esp_177 - 0x5C + 0x00:word32] = Mem652[0x00404094:word32];
									Mem660[esp_177 - 0x60 + 0x00:word32] = eax_480 + 0x08;
									fn004010A0(dwArg00, dwArg04, dwArg08);
									Mem664[esp_177 - 88 + 0x00:word32] = 0x00401C03;
									word32 eax_668 = Mem664[esp_177 - 88 + 0x00:word32];
									Mem676[0x004040A8:word32] = Mem664[fs:0x18:word32];
									Mem680[0x0040407C:word32] = edi;
									Mem681[0x00404064:word32] = esi;
									Mem682[0x0040408C:word32] = ebx;
									Mem687[0x00404084:word32] = fp - 0x04;
									Mem690[0x00404068:word32] = (edx_138 >> 117) + Mem687[0x004040A0:word32];
									if (Mem690[0x00404098:word32] != 0x00)
									{
										Mem769[esp_177 - 88 + 0x00:word32] = eax_668 - Mem690[0x00404080:word32];
										fn00401CD0(fp - 0x04, dwArg00);
										esp_695 = esp_177 - 0x54;
									}
									else
									{
										Mem773[esp_177 - 88 + 0x00:word32] = 0x00;
										Mem779[esp_177 - 0x5C + 0x00:word32] = eax_668 - GetModuleHandleA(Mem773[(esp_177 - 88) + 0x00:LPCSTR]);
										fn00401CD0(fp - 0x04, dwArg00);
										esp_695 = esp_177 - 88;
									}
									word32 esp_697 = esp_695 - 0x04;
									Mem698[esp_697 + 0x00:word32] = Mem690[0x00404094:word32];
									if (fn00401F60(fp - 0x04, dwArg00) != 0x00)
									{
										Mem719[fp - 0x0C + 0x00:word32] = 689636 << (byte) Mem698[0x00404074:word32] << (byte) Mem698[(fp - 0x0C) + 0x00:word32];
										Mem726[fp - 0x24 + 0x00:word32] = Mem719[0x004040B0:word32] + Mem719[0x004040B0:word32] >> (byte) Mem719[(fp - 0x24) + 0x00:word32];
										Mem732[0x004040A0:word32] = Mem726[fp - 0x14 + 0x00:word32] >> (byte) Mem726[0x004040A0:word32];
										word32 eax_737 = Mem732[0x00404068:word32] >> (byte) Mem732[(fp - 0x14) + 0x00:word32];
										Mem738[fp - 0x14 + 0x00:word32] = eax_737;
										byte cl_746 = (byte) (Mem738[fp - 0x14 + 0x00:word32] + 0x00044821);
										word32 edx_747 = 346496 << (byte) Mem738[0x0040409C:word32] >> cl_746;
										Mem749[0x0040409C:word32] = edx_747;
										word32 esp_750;
										word32 ebp_751;
										byte SCZO_752;
										word32 ebx_753;
										word32 esi_754;
										word32 edi_755;
										word32 ecx_756;
										word32 eax_757;
										byte cl_758;
										word32 edx_759;
										byte Z_760;
										byte SZO_761;
										byte C_762;
										word16 ax_763;
										selector fs_764;
										Mem749[0x004040AC:word32]();
										return eax_757;
									}
									else
									{
										Mem706[esp_697 + 0x00:word32] = Mem698[0x00404094:word32];
										fn004026F0(dwArg00);
										Mem710[esp_697 + 0x00:word32] = 0x00283338;
										ExitProcess(Mem710[esp_697 + 0x00:UINT]);
									}
								}
								else
								{
									Mem649[esp_177 - 88 + 0x00:word32] = 0x9541;
									ExitProcess(Mem649[esp_177 - 88 + 0x00:UINT]);
								}
							}
						}
					}
				}
			}
		}
	}
	return 0x00;
}

// 00401CD0: void fn00401CD0(Register word32 ebp, Stack word32 dwArg04)
void fn00401CD0(word32 ebp, word32 dwArg04)
{
	word32 dwLoc40_17;
	Mem11[0x004040A0:word32] = OemToCharA;
	Mem13[0x0040409C:word32] = GetClientRect;
	word32 esp_20 = fp - 0x44;
	if (Mem13[0x00404098:word32] != 0x00)
		dwLoc40_17 = Mem13[0x00404080:word32];
	else
	{
		esp_20 = fp - 0x48;
		dwLoc40_17 = GetModuleHandleA(0x00);
	}
	if (dwLoc40_17 != 0x00)
	{
		Mem71[0x004040B0:word32] = CloseClipboard;
		word32 edx_75 = dwLoc40_17 + Mem71[dwLoc40_17 + 0x3C:word32];
		word32 esp_77 = esp_20 - 0x04;
		Mem78[esp_77 + 0x00:word32] = 0x40;
		Mem80[esp_77 - 0x04 + 0x00:word32] = 0x3000;
		Mem84[esp_77 - 0x08 + 0x00:word32] = Mem80[edx_75 + 0x50:word32];
		Mem86[esp_77 - 0x0C + 0x00:word32] = 0x00;
		Mem88[0x004040A4:word32] = VirtualAlloc(Mem86[esp_77 - 0x0C + 0x00:LPVOID], Mem86[esp_77 - 0x08 + 0x00:SIZE_T], Mem86[esp_77 - 0x04 + 0x00:DWORD], Mem86[esp_77 + 0x00:DWORD]);
		if (Mem88[0x004040A4:word32] != 0x00)
		{
			byte cl_96 = (byte) (Mem88[0x004040A0:word32] + 0x0005FDA0);
			Mem100[0x004040A0:word32] = 146514 << cl_96;
			Mem104[esp_77 - 0x10 + 0x00:word32] = Mem100[edx_75 + 0x50:word32];
			Mem107[esp_77 - 0x14 + 0x00:word32] = dwLoc40_17;
			Mem110[esp_77 - 0x18 + 0x00:word32] = Mem107[0x004040A4:word32];
			fn00401000(dwArg00, dwArg04, dwArg08);
			word32 ecx_116 = Mem110[0x004040A4:word32] - dwLoc40_17;
			if (Mem110[edx_75 + 0xA4:word32] != 0x00)
			{
				word32 dwLoc14_151 = dwLoc40_17 + Mem110[edx_75 + 0xA0:word32];
				while (Mem110[dwLoc14_151 + 0x04:word32] != 0x00)
				{
					word32 edx_174 = Mem110[dwLoc14_151 + 0x04:word32] - 0x08 >>u 0x01;
					Mem192[0x0040409C:word32] = dwLoc08 - 0x000307D0;
					word32 eax_169 = dwLoc10 *s 0x000C3235 - 399158920;
					word32 eax_187 = dwLoc14_151 + 0x08;
					word32 dwLoc0C_193 = 0x00;
					while (dwLoc0C_193 <u edx_174)
					{
						Mem209[0x00404074:word32] = eax_169 - dwLoc1C << (byte) (0x000398A7 - Mem192[0x004040A0:word32]);
						if ((word32) eax_187[dwLoc0C_193 * 0x02] >> 0x0C == 0x03)
							Mem242[Mem209[0x004040A4:word32] + Mem209[dwLoc14_151 + 0x00:word32] + ((word32) eax_187[dwLoc0C_193 * 0x02] & 0x0FFF):word32] = Mem209[Mem209[0x004040A4:word32] + Mem209[dwLoc14_151 + 0x00:word32] + ((word32) eax_187[dwLoc0C_193 * 0x02] & 0x0FFF):word32] + ecx_116;
						dwLoc0C_193 = dwLoc0C_193 + 0x01;
					}
					dwLoc14_151 = dwLoc14_151 + Mem192[dwLoc14_151 + 0x04:word32];
				}
			}
			Mem129[esp_77 - 0x10 + 0x00:word32] = dwArg04;
			word32 eax_132 = Mem129[esp_77 - 0x10 + 0x00:word32] + Mem129[0x004040A4:word32];
			word32 esp_136;
			word32 ebp_137;
			byte SCZO_138;
			word32 esi_139;
			word32 eax_140;
			word32 ecx_141;
			byte Z_142;
			word32 edx_143;
			byte SZO_144;
			byte C_145;
			byte cl_146;
			eax_132();
		}
	}
}

// 00401F60: Register word32 fn00401F60(Register word32 ebp, Stack word32 dwArg04)
word32 fn00401F60(word32 ebp, word32 dwArg04)
{
	word32 eax_279;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc2C_128 = edx_16 + 0x18 + (word32) Mem0[edx_16 + 0x14:word16];
	word32 eax_33 = VirtualAlloc(0x00, Mem0[edx_16 + 0x50:word32], 0x3000, 0x40);
	if (eax_33 == 0x00)
	{
		eax_279 = 0x00;
		return eax_279;
	}
	Mem102[0x0040409C:word32] = dwLoc30 >> (byte) (Mem0[0x004040A0:word32] + 188323) >> (byte) dwLoc44;
	fn00401000(eax_33, dwArg04, Mem102[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem102[edx_16 + 0x06:word16] *s 0x28);
	word32 esp_118 = fp - 0x6C;
	word32 dwLoc10_120 = 0x00;
	while (dwLoc10_120 <u (word32) Mem102[edx_16 + 0x06:word16])
	{
		if (Mem102[dwLoc2C_128 + 0x14:word32] != 0x00 && Mem102[dwLoc2C_128 + 0x10:word32] != 0x00)
		{
			fn00401000(eax_33 + Mem102[dwLoc2C_128 + 0x0C:word32], dwArg04 + Mem102[dwLoc2C_128 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem102[dwLoc2C_128 + 0x10:word32] - 0x01 + Mem102[edx_16 + 0x3C:word32]) /u Mem102[edx_16 + 0x3C:word32]) *s Mem102[edx_16 + 0x3C:word32]);
			esp_118 = fp - 0x6C;
		}
		Mem156[0x00404068:word32] = dwLoc20 *s dwLoc30 + Mem102[0x00404074:word32];
		dwLoc2C_128 = dwLoc2C_128 + 0x28;
		dwLoc10_120 = dwLoc10_120 + 0x01;
	}
	word32 edx_200 = eax_33 + Mem102[eax_33 + 0x3C:word32];
	word32 dwLoc58_206 = eax_33 + Mem102[edx_200 + 0x80:word32];
	while (Mem102[dwLoc58_206 + 0x10:word32] != 0x00)
	{
		esp_118 = esp_118 - 0x04;
		Mem226[esp_118 + 0x00:word32] = eax_33 + Mem102[dwLoc58_206 + 0x0C:word32];
		word32 eax_227 = GetModuleHandleA(Mem226[esp_118 + 0x00:LPCSTR]);
		word32 dwLoc18_228 = eax_227;
		if (eax_227 == 0x00)
		{
			if (Mem226[0x00404098:word32] != 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
			Mem354[esp_118 - 0x04 + 0x00:word32] = eax_33 + Mem226[dwLoc58_206 + 0x0C:word32];
			word32 eax_355 = LoadLibraryA(Mem354[esp_118 - 0x04 + 0x00:LPCSTR]);
			Mem360[0x00404068:word32] = Mem354[0x00404068:word32] *s 626861 >> ~0x0A;
			esp_118 = esp_118 - 0x04;
			dwLoc18_228 = eax_355;
			if (eax_355 == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
		}
		word32 dwLoc40_241;
		word32 dwLoc28_240;
		Mem236[0x00404068:word32] = Mem226[0x0040409C:word32] *s 0x00042D11;
		if (Mem236[dwLoc58_206 + 0x00:word32] != 0x00)
		{
			dwLoc28_240 = eax_33 + Mem236[dwLoc58_206 + 0x00:word32];
			dwLoc40_241 = eax_33 + Mem236[dwLoc58_206 + 0x10:word32];
		}
		else
		{
			dwLoc28_240 = eax_33 + Mem236[dwLoc58_206 + 0x10:word32];
			dwLoc40_241 = eax_33 + Mem236[dwLoc58_206 + 0x00:word32];
		}
		word32 dwLoc14_244 = 0x00;
		if (Mem236[dwLoc58_206 + 0x10:word32] != 0x00 && Mem236[dwLoc58_206 + 0x00:word32] != 0x00)
			dwLoc14_244 = 0x01;
		while (Mem236[dwLoc28_240 + 0x00:word32] != 0x00)
		{
			Mem264[0x00404074:word32] = 0x00 << (byte) Mem236[0x0040409C:word32];
			if ((Mem264[dwLoc28_240 + 0x00:word32] & 0x80000000) != 0x00)
			{
				word32 esp_302 = esp_118 - 0x04;
				Mem303[esp_302 + 0x00:word32] = Mem264[dwLoc28_240 + 0x00:word32] & 0x7FFFFFFF;
				Mem306[esp_302 - 0x04 + 0x00:word32] = dwLoc18_228;
				Mem309[dwLoc28_240 + 0x00:word32] = GetProcAddress(Mem306[esp_302 - 0x04 + 0x00:HMODULE], Mem306[esp_302 + 0x00:LPCSTR]);
			}
			else
			{
				word32 esp_314 = esp_118 - 0x04;
				Mem315[esp_314 + 0x00:word32] = Mem264[dwLoc28_240 + 0x00:word32] + 0x02 + eax_33;
				Mem318[esp_314 - 0x04 + 0x00:word32] = dwLoc18_228;
				Mem321[dwLoc28_240 + 0x00:word32] = GetProcAddress(Mem318[esp_314 - 0x04 + 0x00:HMODULE], Mem318[esp_314 + 0x00:LPCSTR]);
			}
			esp_118 = esp_118 - 0x08;
			if (Mem264[dwLoc28_240 + 0x00:word32] == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
			if (dwLoc14_244 != 0x00)
				Mem296[dwLoc40_241 + 0x00:word32] = Mem264[dwLoc28_240 + 0x00:word32];
			dwLoc28_240 = dwLoc28_240 + 0x04;
			dwLoc40_241 = dwLoc40_241 + 0x04;
		}
		dwLoc58_206 = dwLoc58_206 + 0x14;
	}
	if (Mem102[0x00404098:word32] != 0x00)
	{
		word32 ecx_659 = Mem102[0x00404080:word32] - Mem102[edx_200 + 0x34:word32];
		if (Mem102[edx_200 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc1C_668 = eax_33 + Mem102[edx_200 + 0xA0:word32];
			while (Mem102[dwLoc1C_668 + 0x04:word32] != 0x00)
			{
				word32 ecx_685 = Mem102[dwLoc1C_668 + 0x04:word32] - 0x08 >>u 0x01;
				word32 edx_688 = dwLoc1C_668 + 0x08;
				word32 dwLoc10_691 = 0x00;
				while (dwLoc10_691 <u ecx_685)
				{
					if ((word32) edx_688[dwLoc10_691 * 0x02] >> 0x0C == 0x03)
						Mem740[eax_33 + Mem102[dwLoc1C_668 + 0x00:word32] + ((word32) edx_688[dwLoc10_691 * 0x02] & 0x0FFF):word32] = Mem102[eax_33 + Mem102[dwLoc1C_668 + 0x00:word32] + ((word32) edx_688[dwLoc10_691 * 0x02] & 0x0FFF):word32] + ecx_659;
					dwLoc10_691 = dwLoc10_691 + 0x01;
				}
				dwLoc1C_668 = dwLoc1C_668 + Mem102[dwLoc1C_668 + 0x04:word32];
			}
		}
	}
	word32 esp_383 = esp_118 - 0x04;
	Mem384[esp_383 + 0x00:word32] = 0x00;
	Mem388[esp_383 - 0x04 + 0x00:word32] = Mem384[edx_200 + 0x50:word32];
	Mem390[esp_383 - 0x08 + 0x00:word32] = 0x00;
	Mem392[esp_383 - 0x0C + 0x00:word32] = 0x04;
	Mem394[esp_383 - 0x10 + 0x00:word32] = 0x00;
	Mem396[esp_383 - 0x14 + 0x00:word32] = ~0x00;
	word32 eax_397 = CreateFileMappingA(Mem396[esp_383 - 0x14 + 0x00:HANDLE], Mem396[esp_383 - 0x10 + 0x00:LPSECURITY_ATTRIBUTES], Mem396[esp_383 - 0x0C + 0x00:DWORD], Mem396[esp_383 - 0x08 + 0x00:DWORD], Mem396[esp_383 - 0x04 + 0x00:DWORD], Mem396[esp_383 + 0x00:LPCSTR]);
	if (eax_397 == 0x00)
	{
		eax_279 = 0x00;
		return eax_279;
	}
	Mem410[0x004040A0:word32] = Mem396[0x00404068:word32] *s Mem396[0x00404074:word32] << (byte) dwLoc30;
	if (Mem410[0x00404098:word32] != 0x00)
	{
		Mem626[esp_383 - 0x18 + 0x00:word32] = Mem410[0x00404080:word32];
		Mem628[esp_383 - 0x1C + 0x00:word32] = 0x00;
		Mem630[esp_383 - 0x20 + 0x00:word32] = 0x00;
		Mem632[esp_383 - 0x24 + 0x00:word32] = 0x00;
		Mem634[esp_383 - 0x28 + 0x00:word32] = 0x22;
		Mem637[esp_383 - 44 + 0x00:word32] = eax_397;
		Mem639[0x004040A4:word32] = MapViewOfFileEx(Mem637[esp_383 - 44 + 0x00:HANDLE], Mem637[esp_383 - 0x28 + 0x00:DWORD], Mem637[esp_383 - 0x24 + 0x00:DWORD], Mem637[esp_383 - 0x20 + 0x00:DWORD], Mem637[esp_383 - 0x1C + 0x00:SIZE_T], Mem637[esp_383 - 0x18 + 0x00:LPVOID]);
	}
	else
	{
		Mem643[esp_383 - 0x18 + 0x00:word32] = Mem410[edx_200 + 0x34:word32];
		Mem645[esp_383 - 0x1C + 0x00:word32] = 0x00;
		Mem647[esp_383 - 0x20 + 0x00:word32] = 0x00;
		Mem649[esp_383 - 0x24 + 0x00:word32] = 0x00;
		Mem651[esp_383 - 0x28 + 0x00:word32] = 0x22;
		Mem654[esp_383 - 44 + 0x00:word32] = eax_397;
		Mem656[0x004040A4:word32] = MapViewOfFileEx(Mem654[esp_383 - 44 + 0x00:HANDLE], Mem654[esp_383 - 0x28 + 0x00:DWORD], Mem654[esp_383 - 0x24 + 0x00:DWORD], Mem654[esp_383 - 0x20 + 0x00:DWORD], Mem654[esp_383 - 0x1C + 0x00:SIZE_T], Mem654[esp_383 - 0x18 + 0x00:LPVOID]);
	}
	word32 esp_416 = esp_118 - 0x30;
	if (Mem410[0x004040A4:word32] == 0x00)
	{
		word32 esp_491;
		if (Mem410[0x00404098:word32] != 0x00)
		{
			Mem574[esp_416 - 0x04 + 0x00:word32] = Mem410[0x00404080:word32];
			esp_491 = esp_416 - 0x04;
			if (UnmapViewOfFile(Mem574[esp_416 - 0x04 + 0x00:LPCVOID]) == 0x00)
			{
				Mem586[esp_416 - 0x08 + 0x00:word32] = 0x8000;
				Mem588[esp_416 - 0x0C + 0x00:word32] = 0x00;
				Mem591[esp_416 - 0x10 + 0x00:word32] = Mem588[0x00404080:word32];
				esp_491 = esp_416 - 0x10;
				if (VirtualFree(Mem591[esp_416 - 0x10 + 0x00:LPVOID], Mem591[esp_416 - 0x0C + 0x00:SIZE_T], Mem591[esp_416 - 0x08 + 0x00:DWORD]) == 0x00)
				{
					eax_279 = 0x00;
					return eax_279;
				}
			}
		}
		else
		{
			Mem603[esp_416 - 0x04 + 0x00:word32] = Mem410[edx_200 + 0x34:word32];
			esp_491 = esp_416 - 0x04;
			if (UnmapViewOfFile(Mem603[esp_416 - 0x04 + 0x00:LPCVOID]) == 0x00)
			{
				Mem609[esp_416 - 0x08 + 0x00:word32] = 0x8000;
				Mem611[esp_416 - 0x0C + 0x00:word32] = 0x00;
				Mem615[esp_416 - 0x10 + 0x00:word32] = Mem611[edx_200 + 0x34:word32];
				esp_491 = esp_416 - 0x10;
				if (VirtualFree(Mem615[esp_416 - 0x10 + 0x00:LPVOID], Mem615[esp_416 - 0x0C + 0x00:SIZE_T], Mem615[esp_416 - 0x08 + 0x00:DWORD]) == 0x00)
				{
					eax_279 = 0x00;
					return eax_279;
				}
			}
		}
		if (Mem410[0x00404098:word32] != 0x00)
		{
			word32 esp_540 = esp_491 - 0x04;
			Mem541[esp_540 + 0x00:word32] = Mem410[0x00404080:word32];
			Mem543[esp_540 - 0x04 + 0x00:word32] = 0x00;
			Mem545[esp_540 - 0x08 + 0x00:word32] = 0x00;
			Mem547[esp_540 - 0x0C + 0x00:word32] = 0x00;
			Mem549[esp_540 - 0x10 + 0x00:word32] = 0x22;
			Mem552[esp_540 - 0x14 + 0x00:word32] = eax_397;
			Mem554[0x004040A4:word32] = MapViewOfFileEx(Mem552[esp_540 - 0x14 + 0x00:HANDLE], Mem552[esp_540 - 0x10 + 0x00:DWORD], Mem552[esp_540 - 0x0C + 0x00:DWORD], Mem552[esp_540 - 0x08 + 0x00:DWORD], Mem552[esp_540 - 0x04 + 0x00:SIZE_T], Mem552[esp_540 + 0x00:LPVOID]);
		}
		else
		{
			word32 esp_557 = esp_491 - 0x04;
			Mem558[esp_557 + 0x00:word32] = Mem410[edx_200 + 0x34:word32];
			Mem560[esp_557 - 0x04 + 0x00:word32] = 0x00;
			Mem562[esp_557 - 0x08 + 0x00:word32] = 0x00;
			Mem564[esp_557 - 0x0C + 0x00:word32] = 0x00;
			Mem566[esp_557 - 0x10 + 0x00:word32] = 0x22;
			Mem569[esp_557 - 0x14 + 0x00:word32] = eax_397;
			Mem571[0x004040A4:word32] = MapViewOfFileEx(Mem569[esp_557 - 0x14 + 0x00:HANDLE], Mem569[esp_557 - 0x10 + 0x00:DWORD], Mem569[esp_557 - 0x0C + 0x00:DWORD], Mem569[esp_557 - 0x08 + 0x00:DWORD], Mem569[esp_557 - 0x04 + 0x00:SIZE_T], Mem569[esp_557 + 0x00:LPVOID]);
		}
		esp_416 = esp_491 - 0x18;
		if (Mem410[0x004040A4:word32] == 0x00)
		{
			if (Mem410[0x00404098:word32] != 0x00)
			{
				Mem513[esp_416 - 0x04 + 0x00:word32] = 0x40;
				Mem515[esp_416 - 0x08 + 0x00:word32] = 0x3000;
				Mem519[esp_416 - 0x0C + 0x00:word32] = Mem515[edx_200 + 0x50:word32];
				Mem522[esp_416 - 0x10 + 0x00:word32] = Mem519[0x00404080:word32];
				Mem524[0x004040A4:word32] = VirtualAlloc(Mem522[esp_416 - 0x10 + 0x00:LPVOID], Mem522[esp_416 - 0x0C + 0x00:SIZE_T], Mem522[esp_416 - 0x08 + 0x00:DWORD], Mem522[esp_416 - 0x04 + 0x00:DWORD]);
			}
			else
			{
				Mem526[esp_416 - 0x04 + 0x00:word32] = 0x40;
				Mem528[esp_416 - 0x08 + 0x00:word32] = 0x3000;
				Mem532[esp_416 - 0x0C + 0x00:word32] = Mem528[edx_200 + 0x50:word32];
				Mem536[esp_416 - 0x10 + 0x00:word32] = Mem532[edx_200 + 0x34:word32];
				Mem538[0x004040A4:word32] = VirtualAlloc(Mem536[esp_416 - 0x10 + 0x00:LPVOID], Mem536[esp_416 - 0x0C + 0x00:SIZE_T], Mem536[esp_416 - 0x08 + 0x00:DWORD], Mem536[esp_416 - 0x04 + 0x00:DWORD]);
			}
			esp_416 = esp_491 - 0x28;
			if (Mem410[0x004040A4:word32] == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
		}
	}
	word32 esp_429 = esp_416 - 0x04;
	Mem430[esp_429 + 0x00:word32] = Mem410[edx_200 + 0x50:word32];
	Mem433[esp_429 - 0x04 + 0x00:word32] = eax_33;
	Mem436[esp_429 - 0x08 + 0x00:word32] = Mem433[0x004040A4:word32];
	fn00401000(dwArg00, dwArg04, dwArg08);
	if (Mem436[0x00404098:word32] != 0x00)
	{
		Mem468[esp_429 + 0x00:word32] = Mem436[0x004040A4:word32] + Mem436[edx_200 + 0x28:word32];
		Mem471[esp_429 - 0x04 + 0x00:word32] = Mem468[0x00404080:word32];
		fn00402580(dwArg00, dwArg04);
	}
	else
	{
		Mem476[esp_429 + 0x00:word32] = Mem436[0x004040A4:word32];
		fn00402670(dwArg00);
	}
	Mem449[0x004040AC:word32] = Mem436[0x004040A4:word32] + Mem436[edx_200 + 0x28:word32];
	Mem452[edx_200 + 0x28:word32] = Mem449[0x004040AC:word32];
	eax_279 = 0x01;
	return eax_279;
}

// 00402580: void fn00402580(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00402580(word32 dwArg04, word32 dwArg08)
{
	word32 eax_18 = Mem0[Mem0[Mem0[0x004040A8:word32] + 0x30:word32] + 0x0C:word32];
	Mem23[0x004040A0:word32] = (0x000AD806 >> (byte) (dwLoc1C *s 531005 + 508331)) - Mem0[0x004040A0:word32] - Mem0[0x00404074:word32];
	word32 eax_25 = Mem23[eax_18 + 0x0C:word32];
	word32 dwLoc18_26 = eax_25;
	word32 edx_31 = Mem23[0x00404074:word32] - dwLoc14;
	while (0x01 != 0x00)
	{
		Mem60[0x004040A0:word32] = 0x00 >> (byte) (Mem23[0x004040A0:word32] + 130004);
		if (dwLoc18_26 == 0x00)
			return;
		Mem71[0x0040409C:word32] = Mem60[0x00404074:word32] *s 0x000F117E >> (byte) edx_31;
		if (Mem71[dwLoc18_26 + 0x18:word32] == dwArg04)
		{
			Mem80[dwLoc18_26 + 0x1C:word32] = dwArg08;
			return;
		}
		Mem85[0x0040409C:word32] = Mem71[0x0040409C:word32] *s 3078608;
		word32 ecx_87 = Mem85[dwLoc18_26 + 0x00:word32];
		dwLoc18_26 = ecx_87;
		if (ecx_87 == eax_25)
			return;
	}
}

// 00402670: void fn00402670(Stack word32 dwArg04)
void fn00402670(word32 dwArg04)
{
	Mem39[Mem0[Mem0[0x004040A8:word32] + 0x30:word32] + 0x08:word32] = dwArg04;
}

// 004026F0: void fn004026F0(Stack word32 dwArg04)
void fn004026F0(word32 dwArg04)
{
	Mem14[0x0040409C:word32] = ~0x18F97085 << (byte) Mem0[0x00404074:word32];
	HeapFree(GetProcessHeap(), 0x00, dwArg04);
}

// 00402730: Register word32 fn00402730(Stack word32 dwArg04)
word32 fn00402730(word32 dwArg04)
{
	Mem15[0x004040B0:word32] = dwLoc14 >> (byte) (0x0003A732 - dwLoc08);
	word32 eax_25 = HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
	Mem35[0x004040B0:word32] = Mem15[0x004040A0:word32] + 0x000F036D + dwLoc10 << (byte) dwLoc08;
	return eax_25;
}

