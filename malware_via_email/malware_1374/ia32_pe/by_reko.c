// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401050: void fn00401050(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401050(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc08_16 = 0x00;
	while (dwLoc08_16 < dwArg0C)
	{
		Mem30[dwArg04 + dwLoc08_16:byte] = Mem0[dwArg08 + dwLoc08_16:byte];
		dwLoc08_16 = dwLoc08_16 + 0x01;
	}
}

// 00401160: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 eax_17 = GetCommandLineA();
	word32 esp_18;
	word32 ebp_19;
	byte SCZO_20;
	word32 ebx_21;
	word32 esi_22;
	word32 edi_23;
	word32 eax_24;
	byte SZO_25;
	byte C_26;
	byte Z_27;
	word32 ecx_28;
	word32 edx_29;
	selector fs_30;
	COMCTL32.dll!Ordinal_17();
	word32 eax_33 = GetModuleHandleA(0x00);
	if (RegOpenKeyA(0x80000002, 0x0040BFB0, fp - 0x18) == 0x00)
	{
		if ((dwArg04 & 0xFFFF) != 0x00)
			Mem463[0x0040C038:word32] = 0x00;
		else
			Mem464[0x0040C038:word32] = 0x01;
		if (Mem0[0x0040C038:word32] != 0x00)
			Mem462[0x0040C028:word32] = dwArg04;
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		word32 edx_357 = Mem0[0x00408000:word32];
		word32 ecx_360 = Mem0[0x00408004:word32];
		word32 dwLoc08_362 = 0x00;
		while (dwLoc08_362 <u edx_357)
		{
			Mem376[dwLoc08_362 + 0x00408008:word32] = Mem0[dwLoc08_362 + 0x00408008:word32] ^ 11111;
			dwLoc08_362 = dwLoc08_362 + 0x08;
		}
		word32 ebp_414;
		Mem383[fp - 0x40 + 0x00:word32] = ecx_360;
		Mem387[0x0040C034:word32] = fn00401EB0(dwArg00);
		Mem390[fp - 0x40 + 0x00:word32] = edx_357;
		Mem393[fp - 0x44 + 0x00:word32] = Mem390[0x0040C034:word32];
		Mem398[fp - 0x48 + 0x00:word32] = 0x00408008;
		fn00402060(dwArg00, dwArg04, dwArg08);
		Mem404[0x0040C03C:word32] = Mem398[fs_30:0x18:word32];
		Mem408[0x0040C024:word32] = edi_23;
		Mem409[0x0040C020:word32] = esi_22;
		Mem410[0x0040C030:word32] = ebx_21;
		Mem411[0x0040C02C:word32] = fp - 0x04;
		if (Mem411[0x0040C038:word32] != 0x00)
		{
			Mem441[fp - 0x40 + 0x00:word32] = dwArg04;
			Mem446[fp - 0x44 + 0x00:word32] = 0x004018BD - dwArg04;
			ebp_414 = fn00401EE0(dwArg00, dwArg04);
		}
		else
		{
			Mem452[fp - 0x40 + 0x00:word32] = eax_33;
			Mem457[fp - 0x44 + 0x00:word32] = 0x004018BD - eax_33;
			ebp_414 = fn00401EE0(dwArg00, dwArg04);
		}
		Mem418[fp - 0x40 + 0x00:word32] = Mem411[0x0040C034:word32];
		word32 eax_419 = fn00401920(ebp_414, dwArg00);
		word32 esp_426;
		word32 ebp_427;
		byte SCZO_428;
		word32 ebx_429;
		word32 esi_430;
		word32 edi_431;
		word32 eax_432;
		byte SZO_433;
		byte C_434;
		byte Z_435;
		word32 ecx_436;
		word32 edx_437;
		selector fs_438;
		Mem418[0x0040C040:word32]();
		return eax_432;
	}
	else
	{
		Mem65[fp - 0x40 + 0x00:word32] = 0x00;
		Mem67[fp - 0x44 + 0x00:word32] = 0x004010D0;
		Mem69[fp - 0x48 + 0x00:word32] = 0x00;
		Mem71[fp - 0x4C + 0x00:word32] = 1000;
		Mem74[fp - 0x50 + 0x00:word32] = eax_33;
		DialogBoxParamA(Mem74[fp - 0x50 + 0x00:HINSTANCE], Mem74[fp - 0x4C + 0x00:LPCSTR], Mem74[fp - 0x48 + 0x00:HWND], Mem74[fp - 0x44 + 0x00:DLGPROC], Mem74[fp - 0x40 + 0x00:LPARAM]);
		return 0x00;
	}
}

// 00401900: Register word32 fn00401900(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401900(word32 dwArg04, word32 dwArg08)
{
	return GetProcAddress(dwArg04, dwArg08);
}

// 00401920: Register word32 fn00401920(Register word32 ebp, Stack word32 dwArg04)
word32 fn00401920(word32 ebp, word32 dwArg04)
{
	word32 eax_201;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc20_118 = edx_16 + 0x18 + (word32) Mem0[edx_16 + 0x14:word16];
	word32 eax_33 = VirtualAlloc(0x00, Mem0[edx_16 + 0x50:word32], 0x3000, 0x40);
	if (eax_33 == 0x00)
	{
		eax_201 = 0x00;
		return eax_201;
	}
	fn00401050(eax_33, dwArg04, Mem0[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem0[edx_16 + 0x06:word16] *s 0x28);
	word32 dwLoc0C_112 = 0x00;
	while (dwLoc0C_112 <u (word32) Mem0[edx_16 + 0x06:word16])
	{
		if (Mem0[dwLoc20_118 + 0x14:word32] != 0x00 && Mem0[dwLoc20_118 + 0x10:word32] != 0x00)
			fn00401050(eax_33 + Mem0[dwLoc20_118 + 0x0C:word32], dwArg04 + Mem0[dwLoc20_118 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem0[dwLoc20_118 + 0x10:word32] - 0x01 + Mem0[edx_16 + 0x3C:word32]) /u Mem0[edx_16 + 0x3C:word32]) *s Mem0[edx_16 + 0x3C:word32]);
		dwLoc20_118 = dwLoc20_118 + 0x28;
		dwLoc0C_112 = dwLoc0C_112 + 0x01;
	}
	word32 ecx_181 = eax_33 + Mem0[eax_33 + 0x3C:word32];
	word32 esp_195 = fp - 116;
	word32 eax_197 = CreateFileMappingA(~0x00, 0x00, 0x04, 0x00, Mem0[ecx_181 + 0x50:word32], 0x00);
	if (eax_197 == 0x00)
	{
		eax_201 = 0x00;
		return eax_201;
	}
	word32 dwLoc40_209 = eax_33 + Mem0[ecx_181 + 0x80:word32];
	while (Mem0[dwLoc40_209 + 0x10:word32] != 0x00)
	{
		word32 dwLoc2C_235;
		word32 dwLoc1C_234;
		word32 esp_227 = esp_195 - 0x04;
		Mem228[esp_227 + 0x00:word32] = eax_33 + Mem0[dwLoc40_209 + 0x0C:word32];
		word32 eax_229 = LoadLibraryA(Mem228[esp_227 + 0x00:LPCSTR]);
		if (Mem228[dwLoc40_209 + 0x00:word32] != 0x00)
		{
			dwLoc1C_234 = eax_33 + Mem228[dwLoc40_209 + 0x00:word32];
			dwLoc2C_235 = eax_33 + Mem228[dwLoc40_209 + 0x10:word32];
		}
		else
		{
			dwLoc1C_234 = eax_33 + Mem228[dwLoc40_209 + 0x10:word32];
			dwLoc2C_235 = eax_33 + Mem228[dwLoc40_209 + 0x00:word32];
		}
		word32 dwLoc10_238 = 0x00;
		if (Mem228[dwLoc40_209 + 0x10:word32] != 0x00 && Mem228[dwLoc40_209 + 0x00:word32] != 0x00)
			dwLoc10_238 = 0x01;
		while (true)
		{
			esp_195 = esp_227;
			if (Mem228[dwLoc1C_234 + 0x00:word32] == 0x00)
				break;
			if ((Mem228[dwLoc1C_234 + 0x00:word32] & 0x80000000) != 0x00)
			{
				Mem291[esp_227 - 0x04 + 0x00:word32] = Mem228[dwLoc1C_234 + 0x00:word32] & 0x7FFFFFFF;
				Mem294[esp_227 - 0x08 + 0x00:word32] = eax_229;
				Mem300[dwLoc1C_234 + 0x00:word32] = fn00401900(dwArg00, dwArg04);
			}
			else
			{
				Mem306[esp_227 - 0x04 + 0x00:word32] = Mem228[dwLoc1C_234 + 0x00:word32] + 0x02 + eax_33;
				Mem309[esp_227 - 0x08 + 0x00:word32] = eax_229;
				Mem314[dwLoc1C_234 + 0x00:word32] = fn00401900(dwArg00, dwArg04);
			}
			if (Mem228[dwLoc1C_234 + 0x00:word32] == 0x00)
			{
				eax_201 = 0x00;
				return eax_201;
			}
			if (dwLoc10_238 != 0x00)
				Mem284[dwLoc2C_235 + 0x00:word32] = Mem228[dwLoc1C_234 + 0x00:word32];
			dwLoc1C_234 = dwLoc1C_234 + 0x04;
			dwLoc2C_235 = dwLoc2C_235 + 0x04;
		}
		dwLoc40_209 = dwLoc40_209 + 0x14;
	}
	if (Mem0[0x0040C038:word32] != 0x00)
	{
		word32 edx_636 = Mem0[0x0040C028:word32] - Mem0[ecx_181 + 0x34:word32];
		if (Mem0[ecx_181 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc18_645 = eax_33 + Mem0[ecx_181 + 0xA0:word32];
			while (Mem0[dwLoc18_645 + 0x04:word32] != 0x00)
			{
				word32 edx_660 = Mem0[dwLoc18_645 + 0x04:word32] - 0x08 >>u 0x01;
				word32 eax_663 = dwLoc18_645 + 0x08;
				word32 dwLoc0C_666 = 0x00;
				while (dwLoc0C_666 <u edx_660)
				{
					if ((word32) eax_663[dwLoc0C_666 * 0x02] >> 0x0C == 0x03)
						Mem707[eax_33 + Mem0[dwLoc18_645 + 0x00:word32] + ((word32) eax_663[dwLoc0C_666 * 0x02] & 0x0FFF):word32] = Mem0[eax_33 + Mem0[dwLoc18_645 + 0x00:word32] + ((word32) eax_663[dwLoc0C_666 * 0x02] & 0x0FFF):word32] + edx_636;
					dwLoc0C_666 = dwLoc0C_666 + 0x01;
				}
				dwLoc18_645 = dwLoc18_645 + Mem0[dwLoc18_645 + 0x04:word32];
			}
		}
	}
	if (Mem0[0x0040C038:word32] != 0x00)
	{
		word32 esp_602 = esp_195 - 0x04;
		Mem603[esp_602 + 0x00:word32] = Mem0[0x0040C028:word32];
		Mem605[esp_602 - 0x04 + 0x00:word32] = 0x00;
		Mem607[esp_602 - 0x08 + 0x00:word32] = 0x00;
		Mem609[esp_602 - 0x0C + 0x00:word32] = 0x00;
		Mem611[esp_602 - 0x10 + 0x00:word32] = 0x22;
		Mem614[esp_602 - 0x14 + 0x00:word32] = eax_197;
		Mem616[4243484:word32] = MapViewOfFileEx(Mem614[esp_602 - 0x14 + 0x00:HANDLE], Mem614[esp_602 - 0x10 + 0x00:DWORD], Mem614[esp_602 - 0x0C + 0x00:DWORD], Mem614[esp_602 - 0x08 + 0x00:DWORD], Mem614[esp_602 - 0x04 + 0x00:SIZE_T], Mem614[esp_602 + 0x00:LPVOID]);
	}
	else
	{
		word32 esp_619 = esp_195 - 0x04;
		Mem620[esp_619 + 0x00:word32] = Mem0[ecx_181 + 0x34:word32];
		Mem622[esp_619 - 0x04 + 0x00:word32] = 0x00;
		Mem624[esp_619 - 0x08 + 0x00:word32] = 0x00;
		Mem626[esp_619 - 0x0C + 0x00:word32] = 0x00;
		Mem628[esp_619 - 0x10 + 0x00:word32] = 0x22;
		Mem631[esp_619 - 0x14 + 0x00:word32] = eax_197;
		Mem633[4243484:word32] = MapViewOfFileEx(Mem631[esp_619 - 0x14 + 0x00:HANDLE], Mem631[esp_619 - 0x10 + 0x00:DWORD], Mem631[esp_619 - 0x0C + 0x00:DWORD], Mem631[esp_619 - 0x08 + 0x00:DWORD], Mem631[esp_619 - 0x04 + 0x00:SIZE_T], Mem631[esp_619 + 0x00:LPVOID]);
	}
	word32 esp_358 = esp_195 - 0x18;
	if (Mem0[4243484:word32] == 0x00)
	{
		word32 esp_438;
		Mem411[esp_358 - 0x04 + 0x00:word32] = 4243400;
		Mem413[esp_358 - 0x08 + 0x00:word32] = 4243416;
		Mem416[esp_358 - 0x0C + 0x00:word32] = GetModuleHandleA(Mem413[esp_358 - 0x08 + 0x00:LPCSTR]);
		word32 eax_417 = GetProcAddress(Mem416[esp_358 - 0x0C + 0x00:HMODULE], Mem416[esp_358 - 0x08 + 0x00:LPCSTR]);
		Mem420[esp_358 - 0x10 + 0x00:word32] = 4243432;
		Mem422[esp_358 - 0x14 + 0x00:word32] = 4243444;
		Mem425[esp_358 - 0x18 + 0x00:word32] = GetModuleHandleA(Mem422[esp_358 - 0x14 + 0x00:LPCSTR]);
		word32 eax_426 = GetProcAddress(Mem425[esp_358 - 0x18 + 0x00:HMODULE], Mem425[esp_358 - 0x14 + 0x00:LPCSTR]);
		if (Mem425[0x0040C038:word32] != 0x00)
		{
			Mem511[esp_358 - 0x1C + 0x00:word32] = Mem425[0x0040C028:word32];
			esp_438 = esp_358 - 0x1C;
			if (eax_417() == 0x00)
			{
				Mem536[esp_358 - 0x20 + 0x00:word32] = 0x8000;
				Mem538[esp_358 - 0x24 + 0x00:word32] = 0x00;
				Mem541[esp_358 - 0x28 + 0x00:word32] = Mem538[0x0040C028:word32];
				esp_438 = esp_358 - 0x28;
				if (eax_426() == 0x00)
				{
					eax_201 = 0x00;
					return eax_201;
				}
			}
		}
		else
		{
			Mem562[esp_358 - 0x1C + 0x00:word32] = Mem425[ecx_181 + 0x34:word32];
			esp_438 = esp_358 - 0x1C;
			if (eax_417() == 0x00)
			{
				Mem577[esp_358 - 0x20 + 0x00:word32] = 0x8000;
				Mem579[esp_358 - 0x24 + 0x00:word32] = 0x00;
				Mem583[esp_358 - 0x28 + 0x00:word32] = Mem579[ecx_181 + 0x34:word32];
				esp_438 = esp_358 - 0x28;
				if (eax_426() == 0x00)
				{
					eax_201 = 0x00;
					return eax_201;
				}
			}
		}
		if (Mem425[0x0040C038:word32] != 0x00)
		{
			word32 esp_477 = esp_438 - 0x04;
			Mem478[esp_477 + 0x00:word32] = Mem425[0x0040C028:word32];
			Mem480[esp_477 - 0x04 + 0x00:word32] = 0x00;
			Mem482[esp_477 - 0x08 + 0x00:word32] = 0x00;
			Mem484[esp_477 - 0x0C + 0x00:word32] = 0x00;
			Mem486[esp_477 - 0x10 + 0x00:word32] = 0x22;
			Mem489[esp_477 - 0x14 + 0x00:word32] = eax_197;
			Mem491[4243484:word32] = MapViewOfFileEx(Mem489[esp_477 - 0x14 + 0x00:HANDLE], Mem489[esp_477 - 0x10 + 0x00:DWORD], Mem489[esp_477 - 0x0C + 0x00:DWORD], Mem489[esp_477 - 0x08 + 0x00:DWORD], Mem489[esp_477 - 0x04 + 0x00:SIZE_T], Mem489[esp_477 + 0x00:LPVOID]);
		}
		else
		{
			word32 esp_494 = esp_438 - 0x04;
			Mem495[esp_494 + 0x00:word32] = Mem425[ecx_181 + 0x34:word32];
			Mem497[esp_494 - 0x04 + 0x00:word32] = 0x00;
			Mem499[esp_494 - 0x08 + 0x00:word32] = 0x00;
			Mem501[esp_494 - 0x0C + 0x00:word32] = 0x00;
			Mem503[esp_494 - 0x10 + 0x00:word32] = 0x22;
			Mem506[esp_494 - 0x14 + 0x00:word32] = eax_197;
			Mem508[4243484:word32] = MapViewOfFileEx(Mem506[esp_494 - 0x14 + 0x00:HANDLE], Mem506[esp_494 - 0x10 + 0x00:DWORD], Mem506[esp_494 - 0x0C + 0x00:DWORD], Mem506[esp_494 - 0x08 + 0x00:DWORD], Mem506[esp_494 - 0x04 + 0x00:SIZE_T], Mem506[esp_494 + 0x00:LPVOID]);
		}
		esp_358 = esp_438 - 0x18;
		if (Mem425[4243484:word32] == 0x00)
		{
			if (Mem425[0x0040C038:word32] == 0x00)
			{
				Mem450[esp_358 - 0x04 + 0x00:word32] = 0x40;
				Mem452[esp_358 - 0x08 + 0x00:word32] = 0x3000;
				Mem456[esp_358 - 0x0C + 0x00:word32] = Mem452[ecx_181 + 0x50:word32];
				Mem460[esp_358 - 0x10 + 0x00:word32] = Mem456[ecx_181 + 0x34:word32];
				Mem462[4243484:word32] = VirtualAlloc(Mem460[esp_358 - 0x10 + 0x00:LPVOID], Mem460[esp_358 - 0x0C + 0x00:SIZE_T], Mem460[esp_358 - 0x08 + 0x00:DWORD], Mem460[esp_358 - 0x04 + 0x00:DWORD]);
				esp_358 = esp_358 - 0x10;
			}
			else
			{
				Mem464[esp_358 - 0x04 + 0x00:word32] = 0x40;
				Mem466[esp_358 - 0x08 + 0x00:word32] = 0x3000;
				Mem470[esp_358 - 0x0C + 0x00:word32] = Mem466[ecx_181 + 0x50:word32];
				Mem473[esp_358 - 0x10 + 0x00:word32] = Mem470[0x0040C028:word32];
				Mem475[4243484:word32] = VirtualAlloc(Mem473[esp_358 - 0x10 + 0x00:LPVOID], Mem473[esp_358 - 0x0C + 0x00:SIZE_T], Mem473[esp_358 - 0x08 + 0x00:DWORD], Mem473[esp_358 - 0x04 + 0x00:DWORD]);
				esp_358 = esp_358 - 0x10;
			}
		}
	}
	word32 esp_371 = esp_358 - 0x04;
	Mem372[esp_371 + 0x00:word32] = Mem0[ecx_181 + 0x50:word32];
	Mem375[esp_371 - 0x04 + 0x00:word32] = eax_33;
	Mem378[esp_371 - 0x08 + 0x00:word32] = Mem375[4243484:word32];
	fn00401050(dwArg00, dwArg04, dwArg08);
	if (Mem378[0x0040C038:word32] != 0x00)
	{
		Mem399[esp_371 + 0x00:word32] = Mem378[4243484:word32] + Mem378[ecx_181 + 0x28:word32];
		Mem402[esp_371 - 0x04 + 0x00:word32] = Mem399[0x0040C028:word32];
		fn00401E40(dwArg00, dwArg04);
	}
	else
	{
		Mem407[esp_371 + 0x00:word32] = Mem378[4243484:word32];
		fn00402030(dwArg00);
	}
	Mem388[0x0040C040:word32] = Mem378[4243484:word32] + Mem378[ecx_181 + 0x28:word32];
	Mem391[ecx_181 + 0x28:word32] = Mem388[0x0040C040:word32];
	eax_201 = 0x01;
	return eax_201;
}

// 00401E40: void fn00401E40(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00401E40(word32 dwArg04, word32 dwArg08)
{
	word32 ecx_14 = Mem0[Mem0[Mem0[Mem0[0x0040C03C:word32] + 0x30:word32] + 0x0C:word32] + 0x0C:word32];
	word32 dwLoc0C_15 = ecx_14;
	while (0x01 != 0x00 && dwLoc0C_15 != 0x00)
	{
		if (Mem0[dwLoc0C_15 + 0x18:word32] == dwArg04)
		{
			Mem50[dwLoc0C_15 + 0x1C:word32] = dwArg08;
			return;
		}
		word32 eax_53 = Mem0[dwLoc0C_15 + 0x00:word32];
		dwLoc0C_15 = eax_53;
		if (eax_53 == ecx_14)
			return;
	}
}

// 00401EB0: Register word32 fn00401EB0(Stack word32 dwArg04)
word32 fn00401EB0(word32 dwArg04)
{
	return VirtualAlloc(0x00, dwArg04, 0x3000, 0x40);
}

// 00401EE0: Register word32 fn00401EE0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401EE0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc20_13;
	if (Mem0[0x0040C038:word32] != 0x00)
		dwLoc20_13 = Mem0[0x0040C028:word32];
	else
		dwLoc20_13 = dwArg08;
	word32 eax_16 = dwLoc20_13 + Mem0[dwLoc20_13 + 0x3C:word32];
	Mem29[4243484:word32] = VirtualAlloc(0x00, Mem0[eax_16 + 0x50:word32], 0x3000, 0x40);
	if (Mem29[4243484:word32] != 0x00)
	{
		word32 eax_72 = Mem29[4243484:word32];
		fn00401050(eax_72, dwLoc20_13, Mem29[eax_16 + 0x50:word32]);
		word32 ecx_77 = Mem29[4243484:word32] - dwLoc20_13;
		if (Mem29[eax_16 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc0C_104 = dwLoc20_13 + Mem29[eax_16 + 0xA0:word32];
			while (Mem29[dwLoc0C_104 + 0x04:word32] != 0x00)
			{
				word32 ecx_119 = Mem29[dwLoc0C_104 + 0x04:word32] - 0x08 >>u 0x01;
				word32 edx_122 = dwLoc0C_104 + 0x08;
				word32 dwLoc08_125 = 0x00;
				while (dwLoc08_125 <u ecx_119)
				{
					if ((word32) edx_122[dwLoc08_125 * 0x02] >> 0x0C == 0x03)
						Mem166[Mem29[4243484:word32] + Mem29[dwLoc0C_104 + 0x00:word32] + ((word32) edx_122[dwLoc08_125 * 0x02] & 0x0FFF):word32] = Mem29[Mem29[4243484:word32] + Mem29[dwLoc0C_104 + 0x00:word32] + ((word32) edx_122[dwLoc08_125 * 0x02] & 0x0FFF):word32] + ecx_77;
					dwLoc08_125 = dwLoc08_125 + 0x01;
				}
				dwLoc0C_104 = dwLoc0C_104 + Mem29[dwLoc0C_104 + 0x04:word32];
			}
		}
		word32 edx_88 = dwArg04 + Mem29[4243484:word32];
		word32 esp_90;
		word32 ebp_91;
		byte SCZO_92;
		word32 esi_93;
		byte Z_94;
		word32 eax_95;
		word32 ecx_96;
		word32 edx_97;
		byte C_98;
		byte SZO_99;
		edx_88();
		return ebp_91;
	}
	else
		return ebp;
}

// 00402030: void fn00402030(Stack word32 dwArg04)
void fn00402030(word32 dwArg04)
{
	Mem13[Mem0[Mem0[0x0040C03C:word32] + 0x30:word32] + 0x08:word32] = dwArg04;
}

// 00402060: void fn00402060(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00402060(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc0C_112 = 0x01;
	byte cl_12 = Mem0[dwArg04 + 0x00:byte];
	word32 dwLoc18_118 = 0x00;
	do
	{
		word32 ecx_34 = dwLoc0C_112 + 0x01;
		byte al_31 = Mem0[dwArg04 + dwLoc0C_112:byte];
		dwLoc0C_112 = ecx_34;
		if ((word32) al_31 == (word32) cl_12)
		{
			if ((word32) Mem0[dwArg04 + ecx_34:byte] == 0x00)
			{
				Mem80[dwArg08 + dwLoc18_118:byte] = cl_12;
				dwLoc18_118 = dwLoc18_118 + 0x01;
				dwLoc0C_112 = ecx_34 + 0x01;
			}
			else
			{
				word32 eax_98 = fn00402160(fp - 0x10, dwArg04 + ecx_34) + ecx_34;
				dwLoc0C_112 = fn00402160(fp - 0x20, dwArg04 + eax_98) + eax_98;
				word32 dwLoc1C_113 = 0x00;
				while (dwLoc1C_113 <u dwLoc10)
				{
					Mem130[dwArg08 + dwLoc18_118:byte] = Mem0[dwArg08 + (dwLoc18_118 - dwLoc20):byte];
					dwLoc18_118 = dwLoc18_118 + 0x01;
					dwLoc1C_113 = dwLoc1C_113 + 0x01;
				}
			}
		}
		else
		{
			Mem142[dwArg08 + dwLoc18_118:byte] = al_31;
			dwLoc18_118 = dwLoc18_118 + 0x01;
		}
	} while (dwLoc0C_112 <u dwArg0C);
}

// 00402160: Register word32 fn00402160(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00402160(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_12 = 0x00;
	word32 dwLoc10_13 = 0x00;
	do
	{
		word32 ecx_16 = (word32) Mem0[dwArg08 + 0x00:byte];
		word32 eax_25 = dwLoc08_12 << 0x07 | ecx_16 & 0x7F;
		word32 edx_28 = dwLoc10_13 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc08_12 = eax_25;
		dwLoc10_13 = edx_28;
	} while ((ecx_16 & 0x80) != 0x00);
	Mem38[dwArg04 + 0x00:word32] = eax_25;
	return edx_28;
}

