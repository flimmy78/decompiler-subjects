// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08049BFC: void _init()
void _init()
{
	word32 edx_13 = Mem0[0x080D4FF8 + 0x00:word32];
	if (edx_13 != 0x00)
	{
		word32 esp_31;
		word32 ebp_32;
		word32 ebx_33;
		byte SCZO_34;
		word32 edx_35;
		byte SZO_36;
		byte C_37;
		byte Z_38;
		word32 eax_39;
		!__gmon_start__();
	}
	frame_dummy();
	__do_global_ctors_aux();
}

// 0804A620: void _start(Register word32 edx, Stack word32 dwArg00)
void _start(word32 edx, word32 dwArg00)
{
	__align(fp + 0x04);
	__libc_start_main(0x0804B07E, dwArg00, fp + 0x04, 0x080C7220, 135033360, edx, fp);
	__hlt();
}

// 0804A650: void __do_global_dtors_aux(Register word32 esi)
void __do_global_dtors_aux(word32 esi)
{
	if (Mem0[135774756:byte] == 0x00)
	{
		word32 eax_23 = Mem0[0x0817C228:word32];
		if (eax_23 <u 0x00)
			Mem34[0x0817C228:word32] = eax_23 + 0x01;
		Mem35[135774756:byte] = 0x01;
	}
}

// 0804A6B0: void frame_dummy()
void frame_dummy()
{
	if (Mem0[0x080D4EF4:word32] != 0x00 && 0x00 != 0x00)
	{
		word32 esp_28;
		word32 ebp_29;
		byte SCZO_30;
		word32 eax_31;
		byte SZO_32;
		byte C_33;
		byte Z_34;
		0x00();
	}
}

// 0804A6D4: void fversion(Stack word32 dwArg04)
void fversion(word32 dwArg04)
{
	fprintf(dwArg04, 135034046, Mem0[0x080DA7F8:word32], 0x080C74DC);
}

// 0804A702: void fusage(Stack word32 dwArg04)
void fusage(word32 dwArg04)
{
	fversion(dwArg04);
	fwrite(0x080C7558, 0x01, 0x30, dwArg04);
	fwrite(0x080C758C, 0x01, 0x23, dwArg04);
	fwrite(0x080C75B0, 0x01, 0x2D, dwArg04);
	fwrite(0x080C75E0, 0x01, 0x39, dwArg04);
	fwrite(0x080C761C, 0x01, 0x26, dwArg04);
	fwrite(135034436, 0x01, 44, dwArg04);
	fwrite(0x080C7674, 0x01, 0x23, dwArg04);
	fwrite(0x080C7698, 0x01, 0x2B, dwArg04);
	fwrite(0x080C76C4, 0x01, 0x2A, dwArg04);
	fwrite(0x080C76F0, 0x01, 0x2B, dwArg04);
	fwrite(0x080C771C, 0x01, 0x29, dwArg04);
	fwrite(0x080C7748, 0x01, 0x28, dwArg04);
	fwrite(0x080C7774, 0x01, 0x3E, dwArg04);
	fwrite(0x080C77B4, 0x01, 0x30, dwArg04);
	fwrite(0x080C77E8, 0x01, 0x3C, dwArg04);
	fwrite(0x080C7828, 0x01, 77, dwArg04);
	fwrite(135035000, 0x01, 0x48, dwArg04);
	fwrite(0x080C78C4, 0x01, 0x35, dwArg04);
	fwrite(0x080C78FC, 0x01, 0x3F, dwArg04);
	fwrite(0x080C793C, 0x01, 0x32, dwArg04);
	fwrite(0x080C7970, 0x01, 0x36, dwArg04);
	fwrite(135035304, 0x01, 0x4A, dwArg04);
	fwrite(135035380, 0x01, 55, dwArg04);
	fwrite(0x080C7A2C, 0x01, 0x2F, dwArg04);
	fwrite(0x080C7A5C, 0x01, 0x25, dwArg04);
	fwrite(0x080C7A84, 0x01, 0x26, dwArg04);
	fwrite(0x080C7AAC, 0x01, 0x25, dwArg04);
	fwrite(135035604, 0x01, 0x30, dwArg04);
	fwrite(0x080C7B08, 0x01, 0x30, dwArg04);
	fwrite(0x080C7B3C, 0x01, 0x25, dwArg04);
	fwrite(0x080C7B64, 0x01, 0x3F, dwArg04);
	fwrite(135035812, 0x01, 0x2A, dwArg04);
	fwrite(0x080C7BD0, 0x01, 0x2B, dwArg04);
	fwrite(135035900, 0x01, 0x31, dwArg04);
	fwrite(0x080C7C30, 0x01, 0x32, dwArg04);
	fwrite(0x080C7C64, 0x01, 0x2D, dwArg04);
	fwrite(0x080C7C94, 0x01, 0x33, dwArg04);
	fwrite(0x080C7CC8, 0x01, 0x3E, dwArg04);
	fwrite(0x080C7D08, 0x01, 0x33, dwArg04);
	fwrite(0x080C7D3C, 0x01, 0x2E, dwArg04);
	fwrite(0x080C7D6C, 0x01, 0x29, dwArg04);
	fwrite(0x080C7D98, 0x01, 0x2E, dwArg04);
	fwrite(0x080C7DC8, 0x01, 0x27, dwArg04);
	fwrite(0x080C7DF0, 0x01, 0x2B, dwArg04);
	fwrite(0x080C7E1C, 0x01, 0x20, dwArg04);
	if (Mem0[135775128:word32] != 0x00)
		show_params(fp - 0x04, dwArg04);
	Mem333[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x08:word32];
	exit(Mem333[fp - 0x1C + 0x00:int32]);
}

// 0804AD86: void wrap_GC_warn_proc(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wrap_GC_warn_proc(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_9 = (byte) (word32) Mem0[135774799:byte];
	if (al_9 != 0x00)
	{
		word32 eax_34 = Mem0[135775500:word32] + Mem0[135775504:word32];
		135775520[(eax_34 - ~0x0F) * 0x08] = dwArg04;
		135775524[(eax_34 - ~0x0F) * 0x08] = dwArg08;
		if (Mem54[135775504:word32] <=u 0x13)
			Mem112[135775504:word32] = Mem54[135775504:word32] + 0x01;
		else
			Mem116[135775500:word32] = Mem54[135775500:word32] + 0x01;
		if (Mem54[0x0817C5C0:word32] == 0x00)
		{
			Mem67[0x0817C5C0:word32] = 0x01;
			while (Mem67[135775504:word32] > 0x00)
			{
				Mem90[135775500:word32] = Mem67[135775500:word32] - ~0x0F;
				word32 eax_94 = 135775520[Mem90[135775500:word32] * 0x08];
				Mem95[fp - 0x28 + 0x00:word32] = 135775524[Mem90[135775500:word32] * 0x08];
				Mem96[fp - 44 + 0x00:word32] = eax_94;
				printf(Mem96[fp - 44 + 0x00:(ptr char)], Mem96[fp - 0x30 + 0x00:<unknown>]);
				Mem98[fp - 0x28 + 0x00:word32] = 0x01;
				Mem99[fp - 44 + 0x00:word32] = 0x01;
				sleep_till_anykey(gs, dwArg00, dwArg04);
				Mem104[135775504:word32] = Mem99[135775504:word32] - 0x01;
				Mem108[135775500:word32] = Mem104[135775500:word32] + 0x01;
			}
			Mem75[0x0817C5C0:word32] = 0x00;
		}
	}
	else if (Mem0[0x0817C3CC:word32] != 0x00)
	{
		word32 edx_121 = Mem0[0x0817C3CC:word32];
		word32 esp_130;
		word32 ebp_131;
		byte SCZO_132;
		word32 eax_133;
		byte al_134;
		byte SZO_135;
		byte C_136;
		byte Z_137;
		word32 edx_138;
		word32 ecx_139;
		byte CZ_140;
		selector gs_141;
		edx_121();
	}
	else
		fprintf(Mem0[0x0817C1E4:word32], dwArg04, tLoc30);
}

// 0804AEF1: void sig_chld()
void sig_chld()
{
	do
	{
		word32 esp_12;
		word32 ebp_13;
		byte SCZO_14;
		word32 eax_15;
		byte SZO_16;
		!waitpid();
	} while (fp > 0x10);
	mySignal(0x11, 0x0804AEF1);
}

// 0804AF31: Register word32 make_optional_header_string(Stack word32 dwArg04)
word32 make_optional_header_string(word32 dwArg04)
{
	word32 eax_124;
	if (strchr(dwArg04, '\x0A') == 0x00 && strchr(dwArg04, '\x0D') == 0x00)
	{
		word32 dwLoc10_163 = dwArg04 + 0x01;
		while ((byte) (word32) Mem0[dwLoc10_163 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[dwLoc10_163 + 0x00:byte]) != 0x3A)
			dwLoc10_163 = dwLoc10_163 + 0x01;
		if ((byte) (word32) Mem0[dwLoc10_163 + 0x00:byte] == 0x3A && dwLoc10_163 != dwArg04)
		{
			word32 eax_80 = strlen(dwArg04);
			Strnew_size(eax_80 + 0x03, eax_80 + 0x03);
			Strcopy_charp_n(eax_80 + 0x03, dwArg04, dwLoc10_163 - dwArg04);
			if (strcasecmp(Mem0[eax_80 + 0x03:word32], 0x080C7E3D) == 0x00)
				Mem156[135774888:word32] = 0x01;
			Strcat_charp(eax_80 + 0x03, 0x080C7E4A);
			word32 v13_108 = dwLoc10_163 + 0x00;
			word32 dwLoc10_109 = v13_108;
			if ((byte) (word32) Mem0[v13_108 + 0x00:byte] != 0x00)
			{
				while ((byte) (word32) Mem0[dwLoc10_109 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_109 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					dwLoc10_109 = dwLoc10_109 + 0x01;
				Strcat_charp(eax_80 + 0x03, dwLoc10_109);
			}
			Strcat_charp(eax_80 + 0x03, 0x080C7E4D);
			eax_124 = eax_80 + 0x03;
		}
		else
			eax_124 = 0x00;
	}
	else
		eax_124 = 0x00;
	return eax_124;
}

// 0804B07E: FpuStack real64 main(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, FpuStack real64 rArg0)
real64 main(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, real64 rArg0)
{
	__align(fp - 0x04);
	word32 esp_27;
	word32 ebp_28;
	word32 esi_29;
	word32 ebx_30;
	byte SCZO_31;
	word32 eax_32;
	byte SO_33;
	byte SZO_34;
	byte C_35;
	byte Z_36;
	byte al_37;
	word32 edx_38;
	word32 ecx_39;
	byte S_40;
	byte dl_41;
	word16 ax_42;
	byte CZP_43;
	word16 dx_44;
	selector gs_45;
	byte bpl_46;
	!setlocale();
	word32 esp_49;
	word32 ebp_50;
	word32 esi_51;
	word32 ebx_52;
	byte SCZO_53;
	word32 eax_54;
	byte SO_55;
	byte SZO_56;
	byte C_57;
	byte Z_58;
	byte al_59;
	word32 edx_60;
	word32 ecx_61;
	byte S_62;
	byte dl_63;
	word16 ax_64;
	byte CZP_65;
	word16 dx_66;
	selector gs_67;
	byte bpl_68;
	!bindtextdomain();
	word32 eax_70 = textdomain(135036515);
	newGeneralList(eax_70);
	Mem71[0x08180538:word32] = eax_70;
	newGeneralList(eax_70);
	Mem72[0x0818071C:word32] = eax_70;
	word32 esp_79;
	word32 ebp_80;
	word32 esi_81;
	word32 ebx_82;
	byte SCZO_83;
	word32 eax_84;
	byte SO_85;
	byte SZO_86;
	byte C_87;
	byte Z_88;
	byte al_89;
	word32 edx_90;
	word32 ecx_91;
	byte S_92;
	byte dl_93;
	word16 ax_94;
	byte CZP_95;
	word16 dx_96;
	selector gs_97;
	byte bpl_98;
	!GC_malloc();
	currentdir();
	Mem101[0x08180544:word32] = eax_84;
	word32 esi_104;
	word32 ebx_105;
	byte SCZO_106;
	word32 eax_107;
	byte SO_108;
	byte SZO_109;
	byte C_110;
	byte Z_111;
	byte al_112;
	word32 edx_113;
	word32 ecx_114;
	byte S_115;
	byte dl_116;
	word16 ax_117;
	byte CZP_118;
	word16 dx_119;
	byte bpl_121;
	selector gs_120;
	word32 ebp_103;
	word32 esp_102;
	!getpid();
	Mem122[0x0818072C:word32] = eax_107;
	Mem123[0x0817C31C:word32] = 0x00;
	Mem124[135775068:word32] = 0x00;
	word32 dwLoc24_125 = 0x01;
	while (dwLoc24_125 < dwArg04)
	{
		if ((byte) (word32) Mem124[dwArg08[dwLoc24_125 * 0x04] + 0x00:byte] == 0x2D)
		{
			if (strcmp(0x080C7E67, dwArg08[dwLoc24_125 * 0x04]) == 0x00)
			{
				dwArg08[dwLoc24_125 * 0x04] = 0x080C7E6F;
				word32 v13_2941 = dwLoc24_125 + 0x01;
				dwLoc24_125 = v13_2941;
				if (v13_2941 >= dwArg04)
					fusage(Mem2940[0x0817C1E4:word32]);
				Mem2952[135775068:word32] = dwArg08[v13_2941 * 0x04];
				dwArg08[v13_2941 * 0x04] = 0x080C7E6F;
			}
			else if (strcmp(0x080C7E76, dwArg08[dwLoc24_125 * 0x04]) != 0x00 && strcmp(135036537, dwArg08[dwLoc24_125 * 0x04]) != 0x00)
			{
				if (strcmp(135036543, dwArg08[dwLoc24_125 * 0x04]) == 0x00 || strcmp(0x080C7E82, dwArg08[dwLoc24_125 * 0x04]) == 0x00)
				{
					fversion(Mem124[0x0817C220:word32]);
					exit(0x00);
				}
			}
			else
				fusage(Mem124[0x0817C220:word32]);
		}
		dwLoc24_125 = dwLoc24_125 + 0x01;
	}
	word32 eax_137 = getenv(135036555);
	word32 dwLoc54_138 = eax_137;
	if (non_null(eax_137) == 0x00)
	{
		word32 eax_2891 = getenv(135036562);
		dwLoc54_138 = eax_2891;
		if (non_null(eax_2891) == 0x00)
		{
			word32 eax_2900 = getenv(135036571);
			dwLoc54_138 = eax_2900;
			if (non_null(eax_2900) == 0x00)
			{
l0804B3A3:
				word32 eax_148 = init_rc(ebp_103);
				newHist(eax_148);
				Mem149[0x08180528:word32] = eax_148;
				newHist(eax_148);
				Mem150[0x08180540:word32] = eax_148;
				newHist(eax_148);
				Mem151[0x0818063C:word32] = eax_148;
				newHist(eax_148);
				Mem152[0x08180530:word32] = eax_148;
				newHist(eax_148);
				Mem153[0x08180668:word32] = eax_148;
				if ((byte) (word32) Mem153[0x080D5380:byte] != 0x00 && Mem153[esp_102 + 0x50:word32] != 0x00)
				{
					Mem2857[esp_102 + 0x04:word32] = Mem153[0x080D5370:word32];
					Mem2859[esp_102 + 0x00:word32] = Mem2857[esp_102 + 0x50:word32];
					Mem2861[0x080D5370:word32] = wc_guess_locale_charset(gs_120, dwArg00, dwArg04);
					Mem2863[esp_102 + 0x04:word32] = Mem2861[0x080D5378:word32];
					Mem2865[esp_102 + 0x00:word32] = Mem2863[esp_102 + 0x50:word32];
					Mem2867[0x080D5378:word32] = wc_guess_locale_charset(gs_120, dwArg00, dwArg04);
				}
				Mem162[esp_102 + 141:byte] = (byte) (word32) Mem153[0x080DC0A0:byte];
				Mem164[0x080D537C:word32] = Mem162[135091060:word32];
				Mem166[esp_102 + 0x00:word32] = Mem164[135774804:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2835[esp_102 + 0x00:word32] = 0x080C7EA0;
					Mem2837[esp_102 + 0x84:word32] = getenv(Mem2835[esp_102 + 0x00:(ptr char)]);
					if (Mem2837[esp_102 + 0x84:word32] != 0x00)
					{
l0804B4A0:
						Mem2843[135774804:word32] = Mem2837[esp_102 + 0x84:word32];
						goto l0804B4AC;
					}
					Mem2844[esp_102 + 0x00:word32] = 0x080C7EAB;
					Mem2846[esp_102 + 0x84:word32] = getenv(Mem2844[esp_102 + 0x00:(ptr char)]);
					if (Mem2846[esp_102 + 0x84:word32] != 0x00)
						goto l0804B4A0;
					Mem2849[esp_102 + 0x00:word32] = 0x080C7EB6;
					Mem2851[esp_102 + 0x84:word32] = getenv(Mem2849[esp_102 + 0x00:(ptr char)]);
					if (Mem2851[esp_102 + 0x84:word32] != 0x00)
						goto l0804B4A0;
				}
l0804B4AC:
				Mem174[esp_102 + 0x00:word32] = Mem166[135774808:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2816[esp_102 + 0x00:word32] = 0x080C7EC1;
					Mem2818[esp_102 + 0x84:word32] = getenv(Mem2816[esp_102 + 0x00:(ptr char)]);
					if (Mem2818[esp_102 + 0x84:word32] != 0x00)
					{
l0804B514:
						Mem2824[135774808:word32] = Mem2818[esp_102 + 0x84:word32];
						goto l0804B520;
					}
					Mem2825[esp_102 + 0x00:word32] = 0x080C7ECE;
					Mem2827[esp_102 + 0x84:word32] = getenv(Mem2825[esp_102 + 0x00:(ptr char)]);
					if (Mem2827[esp_102 + 0x84:word32] != 0x00)
						goto l0804B514;
					Mem2830[esp_102 + 0x00:word32] = 135036635;
					Mem2832[esp_102 + 0x84:word32] = getenv(Mem2830[esp_102 + 0x00:(ptr char)]);
					if (Mem2832[esp_102 + 0x84:word32] != 0x00)
						goto l0804B514;
				}
l0804B520:
				Mem181[esp_102 + 0x00:word32] = Mem174[0x0817C25C:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2797[esp_102 + 0x00:word32] = 0x080C7EE8;
					Mem2799[esp_102 + 0x84:word32] = getenv(Mem2797[esp_102 + 0x00:(ptr char)]);
					if (Mem2799[esp_102 + 0x84:word32] != 0x00)
					{
l0804B588:
						Mem2805[0x0817C25C:word32] = Mem2799[esp_102 + 0x84:word32];
						goto l0804B594;
					}
					Mem2806[esp_102 + 0x00:word32] = 135036658;
					Mem2808[esp_102 + 0x84:word32] = getenv(Mem2806[esp_102 + 0x00:(ptr char)]);
					if (Mem2808[esp_102 + 0x84:word32] != 0x00)
						goto l0804B588;
					Mem2811[esp_102 + 0x00:word32] = 0x080C7EFC;
					Mem2813[esp_102 + 0x84:word32] = getenv(Mem2811[esp_102 + 0x00:(ptr char)]);
					if (Mem2813[esp_102 + 0x84:word32] != 0x00)
						goto l0804B588;
				}
l0804B594:
				Mem188[esp_102 + 0x00:word32] = Mem181[0x0817C260:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2778[esp_102 + 0x00:word32] = 0x080C7F06;
					Mem2780[esp_102 + 0x84:word32] = getenv(Mem2778[esp_102 + 0x00:(ptr char)]);
					if (Mem2780[esp_102 + 0x84:word32] != 0x00)
					{
l0804B5FC:
						Mem2786[0x0817C260:word32] = Mem2780[esp_102 + 0x84:word32];
						goto l0804B608;
					}
					Mem2787[esp_102 + 0x00:word32] = 0x080C7F0F;
					Mem2789[esp_102 + 0x84:word32] = getenv(Mem2787[esp_102 + 0x00:(ptr char)]);
					if (Mem2789[esp_102 + 0x84:word32] != 0x00)
						goto l0804B5FC;
					Mem2792[esp_102 + 0x00:word32] = 0x080C7F18;
					Mem2794[esp_102 + 0x84:word32] = getenv(Mem2792[esp_102 + 0x00:(ptr char)]);
					if (Mem2794[esp_102 + 0x84:word32] != 0x00)
						goto l0804B5FC;
				}
l0804B608:
				Mem195[esp_102 + 0x00:word32] = Mem188[0x0817C270:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2771[esp_102 + 0x00:word32] = 135036705;
					Mem2773[esp_102 + 0x84:word32] = getenv(Mem2771[esp_102 + 0x00:(ptr char)]);
					if (Mem2773[esp_102 + 0x84:word32] != 0x00)
						Mem2777[0x0817C270:word32] = Mem2773[esp_102 + 0x84:word32];
				}
				Mem202[esp_102 + 0x00:word32] = Mem195[0x0817C274:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2764[esp_102 + 0x00:word32] = 0x080C7F2C;
					Mem2766[esp_102 + 0x84:word32] = getenv(Mem2764[esp_102 + 0x00:(ptr char)]);
					if (Mem2766[esp_102 + 0x84:word32] != 0x00)
						Mem2770[0x0817C274:word32] = Mem2766[esp_102 + 0x84:word32];
				}
				Mem209[esp_102 + 0x00:word32] = Mem202[0x080D5320:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2757[esp_102 + 0x00:word32] = 0x080C7F35;
					Mem2759[esp_102 + 0x84:word32] = getenv(Mem2757[esp_102 + 0x00:(ptr char)]);
					if (Mem2759[esp_102 + 0x84:word32] != 0x00)
						Mem2763[0x080D5320:word32] = Mem2759[esp_102 + 0x84:word32];
				}
				Mem216[esp_102 + 0x00:word32] = Mem209[135774944:word32];
				if (non_null(dwArg00) == 0x00)
				{
					Mem2750[esp_102 + 0x00:word32] = 0x080C7F3C;
					Mem2752[esp_102 + 0x84:word32] = getenv(Mem2750[esp_102 + 0x00:(ptr char)]);
					if (Mem2752[esp_102 + 0x84:word32] != 0x00)
						Mem2756[135774944:word32] = Mem2752[esp_102 + 0x84:word32];
				}
				Mem224[esp_102 + 0x80:word32] = 0x01;
				while (Mem224[esp_102 + 0x80:word32] < Mem224[ebp_103 + 0x08:word32])
				{
					byte al_1592 = (byte) (word32) Mem224[Mem224[ebp_103 + 0x0C:word32][Mem224[esp_102 + 0x80:word32] * 0x04] + 0x00:byte];
					if (al_1592 == 0x2D)
					{
						Mem1623[esp_102 + 0x04:word32] = Mem224[ebp_103 + 0x0C:word32][Mem224[esp_102 + 0x80:word32] * 0x04];
						Mem1624[esp_102 + 0x00:word32] = 0x080C7F43;
						if (strcmp(Mem1624[esp_102 + 0x00:(ptr char)], Mem1624[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1630[esp_102 + 0x80:word32] = Mem1624[esp_102 + 0x80:word32] + 0x01;
							if (Mem1630[esp_102 + 0x80:word32] >= Mem1630[ebp_103 + 0x08:word32])
							{
								word32 eax_1650 = Mem1630[0x0817C1E4:word32];
								Mem1651[esp_102 + 0x04:word32] = 0x01;
								Mem1652[esp_102 + 0x00:word32] = eax_1650;
								fusage(dwArg00);
							}
							Mem1638[esp_102 + 0x00:word32] = Mem1630[ebp_103 + 0x0C:word32][Mem1630[esp_102 + 0x80:word32] * 0x04];
							if (atoi(Mem1638[esp_102 + 0x00:(ptr char)]) > 0x00)
							{
								Mem1647[esp_102 + 0x00:word32] = Mem1638[ebp_103 + 0x0C:word32][Mem1638[esp_102 + 0x80:word32] * 0x04];
								Mem1649[0x080D52B4:word32] = atoi(Mem1647[esp_102 + 0x00:(ptr char)]);
							}
							goto l0804C857;
						}
						Mem1657[esp_102 + 0x04:word32] = Mem1624[ebp_103 + 0x0C:word32][Mem1624[esp_102 + 0x80:word32] * 0x04];
						Mem1658[esp_102 + 0x00:word32] = 0x080C7F46;
						if (strcmp(Mem1658[esp_102 + 0x00:(ptr char)], Mem1658[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1663[0x080D52BC:word32] = 0x00;
							goto l0804C857;
						}
						Mem1668[esp_102 + 0x04:word32] = Mem1658[ebp_103 + 0x0C:word32][Mem1658[esp_102 + 0x80:word32] * 0x04];
						Mem1669[esp_102 + 0x00:word32] = 0x080C7F49;
						if (strcmp(Mem1669[esp_102 + 0x00:(ptr char)], Mem1669[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1675[esp_102 + 0x80:word32] = Mem1669[esp_102 + 0x80:word32] + 0x01;
							if (Mem1675[esp_102 + 0x80:word32] >= Mem1675[ebp_103 + 0x08:word32])
							{
								word32 eax_1695 = Mem1675[0x0817C1E4:word32];
								Mem1696[esp_102 + 0x04:word32] = 0x01;
								Mem1697[esp_102 + 0x00:word32] = eax_1695;
								fusage(dwArg00);
							}
							Mem1683[esp_102 + 0x00:word32] = Mem1675[ebp_103 + 0x0C:word32][Mem1675[esp_102 + 0x80:word32] * 0x04];
							if (atoi(Mem1683[esp_102 + 0x00:(ptr char)]) > 0x00)
							{
								Mem1692[esp_102 + 0x00:word32] = Mem1683[ebp_103 + 0x0C:word32][Mem1683[esp_102 + 0x80:word32] * 0x04];
								Mem1694[0x080D52C0:word32] = atoi(Mem1692[esp_102 + 0x00:(ptr char)]);
							}
							goto l0804C857;
						}
						word32 eax_1701 = Mem1669[ebp_103 + 0x0C:word32][Mem1669[esp_102 + 0x80:word32] * 0x04];
						Mem1702[esp_102 + 0x08:word32] = 0x02;
						Mem1703[esp_102 + 0x04:word32] = eax_1701;
						Mem1704[esp_102 + 0x00:word32] = 0x080C7F4C;
						if (strncmp(Mem1704[esp_102 + 0x00:(ptr char)], Mem1704[esp_102 + 0x04:(ptr char)], Mem1704[esp_102 + 0x08:int32]) == 0x00)
						{
							if ((byte) (word32) Mem1704[Mem1704[ebp_103 + 0x0C:word32][Mem1704[esp_102 + 0x80:word32] * 0x04] + 0x02:byte] != 0x00)
								Mem1735[esp_102 + 0x84:word32] = Mem1704[ebp_103 + 0x0C:word32][Mem1704[esp_102 + 0x80:word32] * 0x04] + 0x02;
							else
							{
								Mem1737[esp_102 + 0x80:word32] = Mem1704[esp_102 + 0x80:word32] + 0x01;
								if (Mem1737[esp_102 + 0x80:word32] >= Mem1737[ebp_103 + 0x08:word32])
								{
									word32 eax_1747 = Mem1737[0x0817C1E4:word32];
									Mem1748[esp_102 + 0x04:word32] = 0x01;
									Mem1749[esp_102 + 0x00:word32] = eax_1747;
									fusage(dwArg00);
								}
								Mem1746[esp_102 + 0x84:word32] = Mem1737[ebp_103 + 0x0C:word32][Mem1737[esp_102 + 0x80:word32] * 0x04];
							}
							Mem1722[esp_102 + 0x04:word32] = Mem1704[135091060:word32];
							Mem1724[esp_102 + 0x00:word32] = Mem1722[esp_102 + 0x84:word32];
							Mem1726[135091060:word32] = wc_guess_charset_short(gs_120, dwArg00, dwArg04);
							Mem1727[0x080DC0A0:byte] = 0x00;
							Mem1728[0x080D5381:byte] = 0x00;
							goto l0804C857;
						}
						word32 eax_1753 = Mem1704[ebp_103 + 0x0C:word32][Mem1704[esp_102 + 0x80:word32] * 0x04];
						Mem1754[esp_102 + 0x08:word32] = 0x02;
						Mem1755[esp_102 + 0x04:word32] = eax_1753;
						Mem1756[esp_102 + 0x00:word32] = 0x080C7F4F;
						if (strncmp(Mem1756[esp_102 + 0x00:(ptr char)], Mem1756[esp_102 + 0x04:(ptr char)], Mem1756[esp_102 + 0x08:int32]) == 0x00)
						{
							if ((byte) (word32) Mem1756[Mem1756[ebp_103 + 0x0C:word32][Mem1756[esp_102 + 0x80:word32] * 0x04] + 0x02:byte] != 0x00)
								Mem1785[esp_102 + 0x84:word32] = Mem1756[ebp_103 + 0x0C:word32][Mem1756[esp_102 + 0x80:word32] * 0x04] + 0x02;
							else
							{
								Mem1787[esp_102 + 0x80:word32] = Mem1756[esp_102 + 0x80:word32] + 0x01;
								if (Mem1787[esp_102 + 0x80:word32] >= Mem1787[ebp_103 + 0x08:word32])
								{
									word32 eax_1797 = Mem1787[0x0817C1E4:word32];
									Mem1798[esp_102 + 0x04:word32] = 0x01;
									Mem1799[esp_102 + 0x00:word32] = eax_1797;
									fusage(dwArg00);
								}
								Mem1796[esp_102 + 0x84:word32] = Mem1787[ebp_103 + 0x0C:word32][Mem1787[esp_102 + 0x80:word32] * 0x04];
							}
							Mem1774[esp_102 + 0x04:word32] = Mem1756[0x080D5370:word32];
							Mem1776[esp_102 + 0x00:word32] = Mem1774[esp_102 + 0x84:word32];
							Mem1778[0x080D5370:word32] = wc_guess_charset_short(gs_120, dwArg00, dwArg04);
							goto l0804C857;
						}
						Mem1804[esp_102 + 0x04:word32] = Mem1756[ebp_103 + 0x0C:word32][Mem1756[esp_102 + 0x80:word32] * 0x04];
						Mem1805[esp_102 + 0x00:word32] = 0x080C7F52;
						if (strcmp(Mem1805[esp_102 + 0x00:(ptr char)], Mem1805[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1810[135775058:byte] = 0x01;
							goto l0804C857;
						}
						Mem1815[esp_102 + 0x04:word32] = Mem1805[ebp_103 + 0x0C:word32][Mem1805[esp_102 + 0x80:word32] * 0x04];
						Mem1816[esp_102 + 0x00:word32] = 135036761;
						if (strcmp(Mem1816[esp_102 + 0x00:(ptr char)], Mem1816[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1821[135775058:byte] = 0x00;
							goto l0804C857;
						}
						Mem1826[esp_102 + 0x04:word32] = Mem1816[ebp_103 + 0x0C:word32][Mem1816[esp_102 + 0x80:word32] * 0x04];
						Mem1827[esp_102 + 0x00:word32] = 135036771;
						if (strcmp(Mem1827[esp_102 + 0x00:(ptr char)], Mem1827[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1833[esp_102 + 0x80:word32] = Mem1827[esp_102 + 0x80:word32] + 0x01;
							if (Mem1833[esp_102 + 0x80:word32] >= Mem1833[ebp_103 + 0x08:word32])
							{
								word32 eax_1845 = Mem1833[0x0817C1E4:word32];
								Mem1846[esp_102 + 0x04:word32] = 0x01;
								Mem1847[esp_102 + 0x00:word32] = eax_1845;
								fusage(dwArg00);
							}
							Mem1842[esp_102 + 0x5C:word32] = Mem1833[ebp_103 + 0x0C:word32][Mem1833[esp_102 + 0x80:word32] * 0x04];
							Mem1844[135774788:word32] = Mem1842[esp_102 + 0x5C:word32];
							goto l0804C857;
						}
						Mem1852[esp_102 + 0x04:word32] = Mem1827[ebp_103 + 0x0C:word32][Mem1827[esp_102 + 0x80:word32] * 0x04];
						Mem1853[esp_102 + 0x00:word32] = 0x080C7F66;
						if (strcmp(Mem1853[esp_102 + 0x00:(ptr char)], Mem1853[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1858[esp_102 + 0x8E:byte] = 0x01;
							Mem1861[135774784:byte] = (byte) (word32) Mem1858[esp_102 + 0x8E:byte];
							goto l0804C857;
						}
						Mem1866[esp_102 + 0x04:word32] = Mem1853[ebp_103 + 0x0C:word32][Mem1853[esp_102 + 0x80:word32] * 0x04];
						Mem1867[esp_102 + 0x00:word32] = 135036777;
						if (strcmp(Mem1867[esp_102 + 0x00:(ptr char)], Mem1867[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1872[esp_102 + 100:word32] = 0x01;
							goto l0804C857;
						}
						Mem1877[esp_102 + 0x04:word32] = Mem1867[ebp_103 + 0x0C:word32][Mem1867[esp_102 + 0x80:word32] * 0x04];
						Mem1878[esp_102 + 0x00:word32] = 0x080C7F6C;
						if (strcmp(Mem1878[esp_102 + 0x00:(ptr char)], Mem1878[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1883[esp_102 + 0x60:word32] = 0x01;
							goto l0804C857;
						}
						Mem1888[esp_102 + 0x04:word32] = Mem1878[ebp_103 + 0x0C:word32][Mem1878[esp_102 + 0x80:word32] * 0x04];
						Mem1889[esp_102 + 0x00:word32] = 0x080C7F6F;
						if (strcmp(Mem1889[esp_102 + 0x00:(ptr char)], Mem1889[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1894[0x080D52D8:word32] = 0x00;
							goto l0804C857;
						}
						Mem1899[esp_102 + 0x04:word32] = Mem1889[ebp_103 + 0x0C:word32][Mem1889[esp_102 + 0x80:word32] * 0x04];
						Mem1900[esp_102 + 0x00:word32] = 0x080C7F72;
						if (strcmp(Mem1900[esp_102 + 0x00:(ptr char)], Mem1900[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1905[esp_102 + 0x68:word32] = 0x01;
							goto l0804C857;
						}
						Mem1910[esp_102 + 0x04:word32] = Mem1900[ebp_103 + 0x0C:word32][Mem1900[esp_102 + 0x80:word32] * 0x04];
						Mem1911[esp_102 + 0x00:word32] = 0x080C7F75;
						if (strcmp(Mem1911[esp_102 + 0x00:(ptr char)], Mem1911[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem1917[esp_102 + 0x80:word32] = Mem1911[esp_102 + 0x80:word32] + 0x01;
							if (Mem1917[esp_102 + 0x80:word32] >= Mem1917[ebp_103 + 0x08:word32])
							{
								word32 eax_1995 = Mem1917[0x0817C1E4:word32];
								Mem1996[esp_102 + 0x04:word32] = 0x01;
								Mem1997[esp_102 + 0x00:word32] = eax_1995;
								fusage(dwArg00);
							}
							Mem1925[0x0817C31C:word32] = Mem1917[ebp_103 + 0x0C:word32][Mem1917[esp_102 + 0x80:word32] * 0x04];
							if ((byte) (word32) Mem1925[Mem1925[0x0817C31C:word32] + 0x00:byte] != 0x7E && (byte) ((word32) Mem1925[Mem1925[0x0817C31C:word32] + 0x00:byte]) != 0x2F)
							{
								word32 eax_1936 = Mem1925[0x08180544:word32];
								Mem1937[esp_102 + 0x00:word32] = eax_1936;
								Strnew_charp(eax_1936, dwArg00);
								Mem1938[esp_102 + 0x4C:word32] = eax_1936;
								if (Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem1938[Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x00:word32] + (Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x04:word32] - 0x01):byte]) != 0x2F)
								{
									if (Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x04:word32] + 0x01 >= Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x08:word32])
									{
										Mem1984[esp_102 + 0x00:word32] = Mem1938[esp_102 + 0x4C:word32];
										Strgrow(dwArg00);
									}
									word32 eax_1970 = Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x04:word32];
									Mem1973[Mem1938[Mem1938[esp_102 + 0x4C:word32] + 0x00:word32] + eax_1970:byte] = 0x2F;
									Mem1976[Mem1973[esp_102 + 0x4C:word32] + 0x04:word32] = eax_1970 + 0x01;
									Mem1982[Mem1976[Mem1976[esp_102 + 0x4C:word32] + 0x00:word32] + Mem1976[Mem1976[esp_102 + 0x4C:word32] + 0x04:word32]:byte] = 0x00;
								}
								Mem1950[esp_102 + 0x04:word32] = Mem1938[0x0817C31C:word32];
								Mem1952[esp_102 + 0x00:word32] = Mem1950[esp_102 + 0x4C:word32];
								Strcat_charp(dwArg00, dwArg04);
								Mem1955[esp_102 + 0x00:word32] = Mem1952[Mem1952[esp_102 + 0x4C:word32] + 0x00:word32];
								Mem1957[0x0817C31C:word32] = cleanupName(dwArg00);
							}
							goto l0804C857;
						}
						Mem2002[esp_102 + 0x04:word32] = Mem1911[ebp_103 + 0x0C:word32][Mem1911[esp_102 + 0x80:word32] * 0x04];
						Mem2003[esp_102 + 0x00:word32] = 0x080C7F7F;
						if (strcmp(Mem2003[esp_102 + 0x00:(ptr char)], Mem2003[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2008[135774792:byte] = 0x01;
							goto l0804C857;
						}
						Mem2013[esp_102 + 0x04:word32] = Mem2003[ebp_103 + 0x0C:word32][Mem2003[esp_102 + 0x80:word32] * 0x04];
						Mem2014[esp_102 + 0x00:word32] = 0x080C7F82;
						if (strcmp(Mem2014[esp_102 + 0x00:(ptr char)], Mem2014[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							if (Mem2014[0x0817C310:word32] != 0x00)
								Mem2023[0x0817C310:word32] = 0x00;
							else
								Mem2024[0x0817C310:word32] = 0x01;
							goto l0804C857;
						}
						Mem2029[esp_102 + 0x04:word32] = Mem2014[ebp_103 + 0x0C:word32][Mem2014[esp_102 + 0x80:word32] * 0x04];
						Mem2030[esp_102 + 0x00:word32] = 0x080C7F85;
						if (strcmp(Mem2030[esp_102 + 0x00:(ptr char)], Mem2030[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2035[135774876:word32] = 0x01;
							goto l0804C857;
						}
						Mem2040[esp_102 + 0x04:word32] = Mem2030[ebp_103 + 0x0C:word32][Mem2030[esp_102 + 0x80:word32] * 0x04];
						Mem2041[esp_102 + 0x00:word32] = 0x080C7F8B;
						if (strcmp(Mem2041[esp_102 + 0x00:(ptr char)], Mem2041[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2046[135774876:word32] = 0x04;
							goto l0804C857;
						}
						Mem2051[esp_102 + 0x04:word32] = Mem2041[ebp_103 + 0x0C:word32][Mem2041[esp_102 + 0x80:word32] * 0x04];
						Mem2052[esp_102 + 0x00:word32] = 0x080C7F98;
						if (strcmp(Mem2052[esp_102 + 0x00:(ptr char)], Mem2052[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2057[135774876:word32] = 0x02;
							goto l0804C857;
						}
						Mem2062[esp_102 + 0x04:word32] = Mem2052[ebp_103 + 0x0C:word32][Mem2052[esp_102 + 0x80:word32] * 0x04];
						Mem2063[esp_102 + 0x00:word32] = 135036835;
						if (strcmp(Mem2063[esp_102 + 0x00:(ptr char)], Mem2063[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2068[135774876:word32] = 0x06;
							goto l0804C857;
						}
						Mem2073[esp_102 + 0x04:word32] = Mem2063[ebp_103 + 0x0C:word32][Mem2063[esp_102 + 0x80:word32] * 0x04];
						Mem2074[esp_102 + 0x00:word32] = 0x080C7FAE;
						if (strcmp(Mem2074[esp_102 + 0x00:(ptr char)], Mem2074[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2079[135774876:word32] = 0x0E;
							goto l0804C857;
						}
						Mem2084[esp_102 + 0x04:word32] = Mem2074[ebp_103 + 0x0C:word32][Mem2074[esp_102 + 0x80:word32] * 0x04];
						Mem2085[esp_102 + 0x00:word32] = 135036858;
						if (strcmp(Mem2085[esp_102 + 0x00:(ptr char)], Mem2085[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2090[135774876:word32] = 0x10;
							goto l0804C857;
						}
						Mem2095[esp_102 + 0x04:word32] = Mem2085[ebp_103 + 0x0C:word32][Mem2085[esp_102 + 0x80:word32] * 0x04];
						Mem2096[esp_102 + 0x00:word32] = 0x080C7FC4;
						if (strcmp(Mem2096[esp_102 + 0x00:(ptr char)], Mem2096[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2101[135774876:word32] = 0x00;
							Mem2102[0x0817C2A0:word32] = 0x01;
							Mem2103[esp_102 + 0x5C:word32] = 0x080C7FCE;
							Mem2105[135774788:word32] = Mem2103[esp_102 + 0x5C:word32];
							goto l0804C857;
						}
						Mem2110[esp_102 + 0x04:word32] = Mem2096[ebp_103 + 0x0C:word32][Mem2096[esp_102 + 0x80:word32] * 0x04];
						Mem2111[esp_102 + 0x00:word32] = 0x080C7FD8;
						if (strcmp(Mem2111[esp_102 + 0x00:(ptr char)], Mem2111[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2116[135775120:word32] = 0x01;
							goto l0804C857;
						}
						Mem2121[esp_102 + 0x04:word32] = Mem2111[ebp_103 + 0x0C:word32][Mem2111[esp_102 + 0x80:word32] * 0x04];
						Mem2122[esp_102 + 0x00:word32] = 0x080C7FE1;
						if (strcmp(Mem2122[esp_102 + 0x00:(ptr char)], Mem2122[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2127[135775120:word32] = 0x01;
							Mem2129[esp_102 + 0x80:word32] = Mem2127[esp_102 + 0x80:word32] + 0x01;
							if (Mem2129[esp_102 + 0x80:word32] >= Mem2129[ebp_103 + 0x08:word32])
							{
								word32 eax_2152 = Mem2129[0x0817C1E4:word32];
								Mem2153[esp_102 + 0x04:word32] = 0x01;
								Mem2154[esp_102 + 0x00:word32] = eax_2152;
								fusage(dwArg00);
							}
							word32 eax_2133 = Mem2129[135775124:word32];
							if (eax_2133 == 0x00)
							{
								newGeneralList(eax_2133);
								Mem2151[135775124:word32] = eax_2133;
							}
							word32 eax_2143 = Mem2129[ebp_103 + 0x0C:word32][Mem2129[esp_102 + 0x80:word32] * 0x04];
							Mem2144[esp_102 + 0x04:word32] = ~0x00;
							Mem2145[esp_102 + 0x00:word32] = eax_2143;
							word32 eax_2146 = allocStr(dwArg00, dwArg04);
							word32 edx_2147 = Mem2145[135775124:word32];
							Mem2148[esp_102 + 0x04:word32] = eax_2146;
							Mem2149[esp_102 + 0x00:word32] = edx_2147;
							pushValue(dwArg00, dwArg04);
							goto l0804C857;
						}
						Mem2159[esp_102 + 0x04:word32] = Mem2122[ebp_103 + 0x0C:word32][Mem2122[esp_102 + 0x80:word32] * 0x04];
						Mem2160[esp_102 + 0x00:word32] = 0x080C7FF0;
						if (strcmp(Mem2160[esp_102 + 0x00:(ptr char)], Mem2160[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2166[esp_102 + 0x80:word32] = Mem2160[esp_102 + 0x80:word32] + 0x01;
							if (Mem2166[esp_102 + 0x80:word32] >= Mem2166[ebp_103 + 0x08:word32])
							{
								word32 eax_2178 = Mem2166[0x0817C1E4:word32];
								Mem2179[esp_102 + 0x04:word32] = 0x01;
								Mem2180[esp_102 + 0x00:word32] = eax_2178;
								fusage(dwArg00);
							}
							Mem2175[esp_102 + 0x00:word32] = Mem2166[ebp_103 + 0x0C:word32][Mem2166[esp_102 + 0x80:word32] * 0x04];
							Mem2177[0x081807A0:word32] = atoi(Mem2175[esp_102 + 0x00:(ptr char)]);
							goto l0804C857;
						}
						Mem2185[esp_102 + 0x04:word32] = Mem2160[ebp_103 + 0x0C:word32][Mem2160[esp_102 + 0x80:word32] * 0x04];
						Mem2186[esp_102 + 0x00:word32] = 0x080C7FF6;
						if (strcmp(Mem2186[esp_102 + 0x00:(ptr char)], Mem2186[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2192[esp_102 + 0x80:word32] = Mem2186[esp_102 + 0x80:word32] + 0x01;
							if (Mem2192[esp_102 + 0x80:word32] >= Mem2192[ebp_103 + 0x08:word32])
							{
								word32 eax_2247 = Mem2192[0x0817C1E4:word32];
								Mem2248[esp_102 + 0x04:word32] = 0x01;
								Mem2249[esp_102 + 0x00:word32] = eax_2247;
								fusage(dwArg00);
							}
							word32 eax_2200 = Mem2192[ebp_103 + 0x0C:word32][Mem2192[esp_102 + 0x80:word32] * 0x04];
							Mem2201[esp_102 + 0x00:word32] = eax_2200;
							word32 esi_2204;
							word32 ebx_2205;
							byte SCZO_2206;
							word32 eax_2207;
							byte SO_2208;
							byte SZO_2209;
							byte C_2210;
							byte Z_2211;
							byte al_2212;
							word32 edx_2213;
							word32 ecx_2214;
							byte S_2215;
							byte dl_2216;
							word16 ax_2217;
							byte CZP_2218;
							word16 dx_2219;
							byte bpl_2221;
							!atof();
							Mem2222[esp_102 + 0x30:real64] = rArg0;
							real64 rLoc1_2224 = Mem2222[0x080C8E50:real64];
							rArg0 = rLoc1_2224;
							if (Mem2222[esp_102 + 0x30:real64] >=u rLoc1_2224 != 0x00)
							{
								real64 rArg0_2235 = Mem2222[esp_102 + 0x30:real64];
								rArg0 = rArg0_2235;
								if (Mem2222[0x080C8E58:real64] >=u rArg0_2235 != 0x00)
								{
									rArg0 = Mem2222[esp_102 + 0x30:real64];
									Mem2245[0x080D53A0:real64] = rArg0;
									Mem2246[135775108:word32] = 0x01;
								}
							}
							goto l0804C857;
						}
						Mem2254[esp_102 + 0x04:word32] = Mem2186[ebp_103 + 0x0C:word32][Mem2186[esp_102 + 0x80:word32] * 0x04];
						Mem2255[esp_102 + 0x00:word32] = 0x080C7FFB;
						if (strcmp(Mem2255[esp_102 + 0x00:(ptr char)], Mem2255[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2261[esp_102 + 0x80:word32] = Mem2255[esp_102 + 0x80:word32] + 0x01;
							if (Mem2261[esp_102 + 0x80:word32] >= Mem2261[ebp_103 + 0x08:word32])
							{
								word32 eax_2316 = Mem2261[0x0817C1E4:word32];
								Mem2317[esp_102 + 0x04:word32] = 0x01;
								Mem2318[esp_102 + 0x00:word32] = eax_2316;
								fusage(dwArg00);
							}
							word32 eax_2269 = Mem2261[ebp_103 + 0x0C:word32][Mem2261[esp_102 + 0x80:word32] * 0x04];
							Mem2270[esp_102 + 0x00:word32] = eax_2269;
							word32 esi_2273;
							word32 ebx_2274;
							byte SCZO_2275;
							word32 eax_2276;
							byte SO_2277;
							byte SZO_2278;
							byte C_2279;
							byte Z_2280;
							byte al_2281;
							word32 edx_2282;
							word32 ecx_2283;
							byte S_2284;
							byte dl_2285;
							word16 ax_2286;
							byte CZP_2287;
							word16 dx_2288;
							byte bpl_2290;
							!atof();
							Mem2291[esp_102 + 0x28:real64] = rArg0;
							real64 rLoc1_2293 = Mem2291[0x080C8E50:real64];
							rArg0 = rLoc1_2293;
							if (Mem2291[esp_102 + 0x28:real64] >=u rLoc1_2293 != 0x00)
							{
								real64 rArg0_2304 = Mem2291[esp_102 + 0x28:real64];
								rArg0 = rArg0_2304;
								if (Mem2291[0x080C8E60:real64] >=u rArg0_2304 != 0x00)
								{
									rArg0 = Mem2291[esp_102 + 0x28:real64];
									Mem2314[135091112:real64] = rArg0;
									Mem2315[135775112:word32] = 0x01;
								}
							}
							goto l0804C857;
						}
						Mem2323[esp_102 + 0x04:word32] = Mem2255[ebp_103 + 0x0C:word32][Mem2255[esp_102 + 0x80:word32] * 0x04];
						Mem2324[esp_102 + 0x00:word32] = 0x080C8000;
						if (strcmp(Mem2324[esp_102 + 0x00:(ptr char)], Mem2324[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2329[0x0817C2D8:word32] = 0x01;
							goto l0804C857;
						}
						Mem2334[esp_102 + 0x04:word32] = Mem2324[ebp_103 + 0x0C:word32][Mem2324[esp_102 + 0x80:word32] * 0x04];
						Mem2335[esp_102 + 0x00:word32] = 0x080C8005;
						if (strcmp(Mem2335[esp_102 + 0x00:(ptr char)], Mem2335[esp_102 + 0x04:(ptr char)]) == 0x00)
						{
							Mem2340[0x080D52CC:byte] = 0x00;
							goto l0804C857;
						}
						Mem2345[esp_102 + 0x04:word32] = Mem2335[ebp_103 + 0x0C:word32][Mem2335[esp_102 + 0x80:word32] * 0x04];
						Mem2346[esp_102 + 0x00:word32] = 0x080C800F;
						if (strcmp(Mem2346[esp_102 + 0x00:(ptr char)], Mem2346[esp_102 + 0x04:(ptr char)]) != 0x00)
						{
							Mem2376[esp_102 + 0x04:word32] = Mem2346[ebp_103 + 0x0C:word32][Mem2346[esp_102 + 0x80:word32] * 0x04];
							Mem2377[esp_102 + 0x00:word32] = 0x080C8012;
							if (strcmp(Mem2377[esp_102 + 0x00:(ptr char)], Mem2377[esp_102 + 0x04:(ptr char)]) == 0x00)
								goto l0804C245;
							Mem2386[esp_102 + 0x04:word32] = Mem2377[ebp_103 + 0x0C:word32][Mem2377[esp_102 + 0x80:word32] * 0x04];
							Mem2387[esp_102 + 0x00:word32] = 0x080C8022;
							if (strcmp(Mem2387[esp_102 + 0x00:(ptr char)], Mem2387[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2393[esp_102 + 0x80:word32] = Mem2387[esp_102 + 0x80:word32] + 0x01;
								if (Mem2393[esp_102 + 0x80:word32] >= Mem2393[ebp_103 + 0x08:word32])
								{
									word32 eax_2403 = Mem2393[0x0817C1E4:word32];
									Mem2404[esp_102 + 0x04:word32] = 0x01;
									Mem2405[esp_102 + 0x00:word32] = eax_2403;
									fusage(dwArg00);
								}
								Mem2402[esp_102 + 88:word32] = Mem2393[ebp_103 + 0x0C:word32][Mem2393[esp_102 + 0x80:word32] * 0x04];
								goto l0804C857;
							}
							Mem2410[esp_102 + 0x04:word32] = Mem2387[ebp_103 + 0x0C:word32][Mem2387[esp_102 + 0x80:word32] * 0x04];
							Mem2411[esp_102 + 0x00:word32] = 0x080C8028;
							if (strcmp(Mem2411[esp_102 + 0x00:(ptr char)], Mem2411[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2417[esp_102 + 0x80:word32] = Mem2411[esp_102 + 0x80:word32] + 0x01;
								if (Mem2417[esp_102 + 0x80:word32] >= Mem2417[ebp_103 + 0x08:word32])
								{
									word32 eax_2464 = Mem2417[0x0817C1E4:word32];
									Mem2465[esp_102 + 0x04:word32] = 0x01;
									Mem2466[esp_102 + 0x00:word32] = eax_2464;
									fusage(dwArg00);
								}
								Mem2426[esp_102 + 0x00:word32] = Mem2417[ebp_103 + 0x0C:word32][Mem2417[esp_102 + 0x80:word32] * 0x04];
								Mem2428[esp_102 + 0x48:word32] = make_optional_header_string(dwArg00);
								if (Mem2428[esp_102 + 0x48:word32] != 0x00)
								{
									if (Mem2428[135774884:word32] == 0x00)
										Mem2459[135774884:word32] = Mem2428[esp_102 + 0x48:word32];
									else
									{
										word32 eax_2460 = Mem2428[135774884:word32];
										Mem2462[esp_102 + 0x04:word32] = Mem2428[esp_102 + 0x48:word32];
										Mem2463[esp_102 + 0x00:word32] = eax_2460;
										Strcat(dwArg00, dwArg04);
									}
								}
								while ((byte) (word32) Mem2428[Mem2428[ebp_103 + 0x0C:word32][Mem2428[esp_102 + 0x80:word32] * 0x04] + 0x00:byte] != 0x00)
								{
									Mem2446[Mem2428[ebp_103 + 0x0C:word32][Mem2428[esp_102 + 0x80:word32] * 0x04] + 0x00:byte] = 0x00;
									word32 eax_2449 = (Mem2446[esp_102 + 0x80:word32] << 0x02) + Mem2446[ebp_103 + 0x0C:word32];
									Mem2453[eax_2449 + 0x00:word32] = Mem2446[eax_2449 + 0x00:word32] + 0x01;
								}
								goto l0804C857;
							}
							Mem2471[esp_102 + 0x04:word32] = Mem2411[ebp_103 + 0x0C:word32][Mem2411[esp_102 + 0x80:word32] * 0x04];
							Mem2472[esp_102 + 0x00:word32] = 0x080C8030;
							if (strcmp(Mem2472[esp_102 + 0x00:(ptr char)], Mem2472[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2477[0x080D5384:word32] = 0x00;
								goto l0804C857;
							}
							Mem2482[esp_102 + 0x04:word32] = Mem2472[ebp_103 + 0x0C:word32][Mem2472[esp_102 + 0x80:word32] * 0x04];
							Mem2483[esp_102 + 0x00:word32] = 0x080C803A;
							if (strcmp(Mem2483[esp_102 + 0x00:(ptr char)], Mem2483[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2488[135775080:word32] = 0x00;
								Mem2489[135775084:word32] = 0x00;
								goto l0804C857;
							}
							Mem2494[esp_102 + 0x04:word32] = Mem2483[ebp_103 + 0x0C:word32][Mem2483[esp_102 + 0x80:word32] * 0x04];
							Mem2495[esp_102 + 0x00:word32] = 0x080C8045;
							if (strcmp(Mem2495[esp_102 + 0x00:(ptr char)], Mem2495[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2500[135775080:word32] = 0x01;
								Mem2501[135775084:word32] = 0x01;
								goto l0804C857;
							}
							Mem2506[esp_102 + 0x04:word32] = Mem2495[ebp_103 + 0x0C:word32][Mem2495[esp_102 + 0x80:word32] * 0x04];
							Mem2507[esp_102 + 0x00:word32] = 0x080C804D;
							if (strcmp(Mem2507[esp_102 + 0x00:(ptr char)], Mem2507[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2513[esp_102 + 0x80:word32] = Mem2507[esp_102 + 0x80:word32] + 0x01;
								if (Mem2513[esp_102 + 0x80:word32] >= Mem2513[ebp_103 + 0x08:word32])
								{
									word32 eax_2551 = Mem2513[0x0817C1E4:word32];
									Mem2552[esp_102 + 0x04:word32] = 0x01;
									Mem2553[esp_102 + 0x00:word32] = eax_2551;
									fusage(dwArg00);
								}
								word32 eax_2521 = Mem2513[ebp_103 + 0x0C:word32][Mem2513[esp_102 + 0x80:word32] * 0x04];
								Mem2522[esp_102 + 0x00:word32] = eax_2521;
								encodeB(eax_2521, dwArg00);
								word32 eax_2523 = Mem2522[eax_2521 + 0x00:word32];
								Mem2524[esp_102 + 0x08:word32] = 0x00;
								Mem2525[esp_102 + 0x04:word32] = eax_2523;
								Mem2526[esp_102 + 0x00:word32] = 0x080C8054;
								Strnew_m_charp(eax_2523, dwArg00);
								Mem2527[135775012:word32] = eax_2523;
								while ((byte) (word32) Mem2527[Mem2527[ebp_103 + 0x0C:word32][Mem2527[esp_102 + 0x80:word32] * 0x04] + 0x00:byte] != 0x00)
								{
									Mem2543[Mem2527[ebp_103 + 0x0C:word32][Mem2527[esp_102 + 0x80:word32] * 0x04] + 0x00:byte] = 0x00;
									word32 eax_2546 = (Mem2543[esp_102 + 0x80:word32] << 0x02) + Mem2543[ebp_103 + 0x0C:word32];
									Mem2550[eax_2546 + 0x00:word32] = Mem2543[eax_2546 + 0x00:word32] + 0x01;
								}
								goto l0804C857;
							}
							Mem2558[esp_102 + 0x04:word32] = Mem2507[ebp_103 + 0x0C:word32][Mem2507[esp_102 + 0x80:word32] * 0x04];
							Mem2559[esp_102 + 0x00:word32] = 0x080C805B;
							if (strcmp(Mem2559[esp_102 + 0x00:(ptr char)], Mem2559[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2564[135775000:word32] = 0x01;
								goto l0804C857;
							}
							Mem2569[esp_102 + 0x04:word32] = Mem2559[ebp_103 + 0x0C:word32][Mem2559[esp_102 + 0x80:word32] * 0x04];
							Mem2570[esp_102 + 0x00:word32] = 0x080C805E;
							if (strcmp(Mem2570[esp_102 + 0x00:(ptr char)], Mem2570[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2575[135774828:word32] = 0x01;
								goto l0804C857;
							}
							Mem2580[esp_102 + 0x04:word32] = Mem2570[ebp_103 + 0x0C:word32][Mem2570[esp_102 + 0x80:word32] * 0x04];
							Mem2581[esp_102 + 0x00:word32] = 0x080C8061;
							if (strcmp(Mem2581[esp_102 + 0x00:(ptr char)], Mem2581[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
								Mem2586[esp_102 + 0x00:word32] = 0x080C8068;
								Mem2588[0x0817C2C8:word32] = getenv(Mem2586[esp_102 + 0x00:(ptr char)]);
								goto l0804C857;
							}
							word32 eax_2592 = Mem2581[ebp_103 + 0x0C:word32][Mem2581[esp_102 + 0x80:word32] * 0x04];
							Mem2593[esp_102 + 0x08:word32] = 0x07;
							Mem2594[esp_102 + 0x04:word32] = eax_2592;
							Mem2595[esp_102 + 0x00:word32] = 0x080C806D;
							if (strncmp(Mem2595[esp_102 + 0x00:(ptr char)], Mem2595[esp_102 + 0x04:(ptr char)], Mem2595[esp_102 + 0x08:int32]) == 0x00)
							{
								Mem2606[0x0817C2C8:word32] = Mem2595[ebp_103 + 0x0C:word32][Mem2595[esp_102 + 0x80:word32] * 0x04] + 0x07;
								goto l0804C857;
							}
							Mem2611[esp_102 + 0x04:word32] = Mem2595[ebp_103 + 0x0C:word32][Mem2595[esp_102 + 0x80:word32] * 0x04];
							Mem2612[esp_102 + 0x00:word32] = 0x080C8075;
							if (strcmp(Mem2612[esp_102 + 0x00:(ptr char)], Mem2612[esp_102 + 0x04:(ptr char)]) != 0x00)
							{
								Mem2681[esp_102 + 0x04:word32] = Mem2612[ebp_103 + 0x0C:word32][Mem2612[esp_102 + 0x80:word32] * 0x04];
								Mem2682[esp_102 + 0x00:word32] = 0x080C8078;
								if (strcmp(Mem2682[esp_102 + 0x00:(ptr char)], Mem2682[esp_102 + 0x04:(ptr char)]) == 0x00)
									goto l0804C662;
								Mem2691[esp_102 + 0x04:word32] = Mem2682[ebp_103 + 0x0C:word32][Mem2682[esp_102 + 0x80:word32] * 0x04];
								Mem2692[esp_102 + 0x00:word32] = 0x080C7E6F;
								if (strcmp(Mem2692[esp_102 + 0x00:(ptr char)], Mem2692[esp_102 + 0x04:(ptr char)]) != 0x00)
								{
									Mem2701[esp_102 + 0x04:word32] = Mem2692[ebp_103 + 0x0C:word32][Mem2692[esp_102 + 0x80:word32] * 0x04];
									Mem2702[esp_102 + 0x00:word32] = 0x080C8097;
									if (strcmp(Mem2702[esp_102 + 0x00:(ptr char)], Mem2702[esp_102 + 0x04:(ptr char)]) == 0x00)
										Mem2707[0x08180724:word32] = 0x01;
									else
									{
										Mem2712[esp_102 + 0x04:word32] = Mem2702[ebp_103 + 0x0C:word32][Mem2702[esp_102 + 0x80:word32] * 0x04];
										Mem2713[esp_102 + 0x00:word32] = 0x080C809E;
										if (strcmp(Mem2713[esp_102 + 0x00:(ptr char)], Mem2713[esp_102 + 0x04:(ptr char)]) == 0x00)
										{
											Mem2718[esp_102 + 0x00:word32] = 0x080C80A6;
											Mem2720[0x08180534:word32] = rcFile(dwArg00);
										}
										else
										{
											word32 eax_2721 = Mem2713[0x0817C1E4:word32];
											Mem2722[esp_102 + 0x04:word32] = 0x01;
											Mem2723[esp_102 + 0x00:word32] = eax_2721;
											fusage(dwArg00);
										}
									}
								}
								goto l0804C857;
							}
l0804C662:
							Mem2621[esp_102 + 0x04:word32] = Mem2612[ebp_103 + 0x0C:word32][Mem2612[esp_102 + 0x80:word32] * 0x04];
							Mem2622[esp_102 + 0x00:word32] = 0x080C8078;
							if (strcmp(Mem2622[esp_102 + 0x00:(ptr char)], Mem2622[esp_102 + 0x04:(ptr char)]) == 0x00)
							{
l0804C6BC:
								Mem2633[esp_102 + 0x00:word32] = Mem2622[0x0817C220:word32];
								show_params(ebp_103, dwArg00);
								Mem2634[esp_102 + 0x00:word32] = 0x00;
								exit(Mem2634[esp_102 + 0x00:int32]);
							}
							Mem2636[esp_102 + 0x80:word32] = Mem2622[esp_102 + 0x80:word32] + 0x01;
							if (Mem2636[esp_102 + 0x80:word32] >= Mem2636[ebp_103 + 0x08:word32])
								goto l0804C6BC;
							word32 eax_2643 = Mem2636[ebp_103 + 0x0C:word32][Mem2636[esp_102 + 0x80:word32] * 0x04];
							Mem2644[esp_102 + 0x04:word32] = 0x080C8085;
							Mem2645[esp_102 + 0x00:word32] = eax_2643;
							if (strcmp(Mem2645[esp_102 + 0x00:(ptr char)], Mem2645[esp_102 + 0x04:(ptr char)]) == 0x00)
								goto l0804C6BC;
							word32 eax_2654 = Mem2645[ebp_103 + 0x0C:word32][Mem2645[esp_102 + 0x80:word32] * 0x04];
							Mem2655[esp_102 + 0x00:word32] = eax_2654;
							if (set_param_option(eax_2654, ebp_103, dwArg00, out esp_102, out ebp_103) == 0x00)
							{
								word32 eax_2668 = Mem2655[0x0817C1E4:word32];
								Mem2669[esp_102 + 0x08:word32] = Mem2655[ebp_103 + 0x0C:word32][Mem2655[esp_102 + 0x80:word32] * 0x04];
								Mem2670[esp_102 + 0x04:word32] = 0x080C8087;
								Mem2671[esp_102 + 0x00:word32] = eax_2668;
								fprintf(Mem2671[esp_102 + 0x00:(ptr FILE)], Mem2671[esp_102 + 0x04:(ptr char)], Mem2671[esp_102 + 0x08:(ptr char)]);
								Mem2673[135775128:word32] = 0x01;
								word32 eax_2674 = Mem2673[0x0817C1E4:word32];
								Mem2675[esp_102 + 0x04:word32] = 0x01;
								Mem2676[esp_102 + 0x00:word32] = eax_2674;
								fusage(dwArg00);
							}
						}
						else
						{
l0804C245:
							Mem2363[esp_102 + 0x04:word32] = (int32) (byte) (word32) Mem2346[Mem2346[ebp_103 + 0x0C:word32][Mem2346[esp_102 + 0x80:word32] * 0x04] + 0x01:byte];
							Mem2364[esp_102 + 0x00:word32] = 0x080C8015;
							byte bpl_2365;
							word32 eax_2367 = Mem2364[Sprintf(dwArg00, out bpl_2365) + 0x00:word32];
							Mem2368[esp_102 + 0x00:word32] = eax_2367;
							set_param_option(eax_2367, ebp_103, dwArg00, out esp_102, out ebp_103);
						}
					}
					else if ((byte) (word32) Mem224[Mem224[ebp_103 + 0x0C:word32][Mem224[esp_102 + 0x80:word32] * 0x04] + 0x00:byte] == 0x2B)
						Mem2738[esp_102 + 0x78:word32] = Mem224[ebp_103 + 0x0C:word32][Mem224[esp_102 + 0x80:word32] * 0x04] + 0x01;
					else
					{
						Mem224[esp_102 + 116:word32][Mem224[esp_102 + 0x6C:word32] * 0x04] = Mem224[ebp_103 + 0x0C:word32][Mem224[esp_102 + 0x80:word32] * 0x04];
						Mem2748[esp_102 + 0x6C:word32] = Mem2746[esp_102 + 0x6C:word32] + 0x01;
					}
l0804C857:
					Mem1617[esp_102 + 0x80:word32] = Mem224[esp_102 + 0x80:word32] + 0x01;
				}
				Mem249[0x081804E8:word32] = 0x00;
				Mem250[0x08180730:word32] = 0x00;
				Mem251[0x08180720:word32] = 0x00;
				Mem252[0x08180718:word32] = 0x00;
				Mem253[0x08180728:word32] = ~0x00;
				word32 eax_254 = Mem253[0x0817C31C:word32];
				if (eax_254 == 0x00)
				{
					Mem1582[esp_102 + 0x00:word32] = 0x080C80B2;
					Mem1586[0x0817C31C:word32] = rcFile(dwArg00);
				}
				Mem260[esp_102 + 0x00:word32] = 0x01;
				word32 esp_261;
				word32 ebp_262;
				word32 esi_263;
				word32 ebx_264;
				byte SCZO_265;
				word32 eax_266;
				byte SO_267;
				byte SZO_268;
				byte C_269;
				byte Z_270;
				byte al_271;
				word32 edx_272;
				word32 ecx_273;
				byte S_274;
				byte dl_275;
				word16 ax_276;
				byte CZP_277;
				word16 dx_278;
				selector gs_279;
				byte bpl_280;
				!isatty();
				if (eax_266 == 0x00 && Mem260[135774876:word32] == 0x00)
					Mem1581[135774876:word32] = 0x01;
				if (Mem260[135774876:word32] != 0x00 && Mem260[0x081807A0:word32] == 0x00)
					Mem1576[0x081807A0:word32] = 0x50;
				if (Mem260[135774876:word32] == 0x00 && Mem260[135775120:word32] == 0x00)
				{
					fmInit(gs_279);
					Mem1569[esp_261 + 0x04:word32] = 0x0804DF16;
					Mem1570[esp_261 + 0x00:word32] = 0x1C;
					mySignal(dwArg00, dwArg04);
				}
				else if ((Mem260[135774876:word32] & 0x10) != 0x00 && Mem260[0x080D530C:word32] != 0x00)
					Mem1564[135774940:word32] = 0x01;
				sync_with_option(ebp_262, gs_279);
				initCookie();
				if (Mem260[0x080D5360:word32] != 0x00)
				{
					Mem1554[esp_261 + 0x00:word32] = Mem260[0x08180668:word32];
					loadHistory(dwArg00);
				}
				word32 edx_296 = Mem260[0x080D5370:word32];
				word32 eax_297 = Mem260[135091060:word32];
				Mem298[esp_261 + 0x04:word32] = edx_296;
				Mem299[esp_261 + 0x00:word32] = eax_297;
				wtf_init(dwArg00, dwArg04);
				if (Mem299[135775120:word32] != 0x00)
					backend(gs_279);
				if (Mem299[135774876:word32] != 0x00)
				{
					Mem1550[esp_261 + 0x04:word32] = 0x01;
					Mem1551[esp_261 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
				Mem308[esp_261 + 0x04:word32] = 0x0804AEF1;
				Mem309[esp_261 + 0x00:word32] = 0x11;
				mySignal(dwArg00, dwArg04);
				Mem311[esp_261 + 0x04:word32] = 0x0804DF79;
				Mem312[esp_261 + 0x00:word32] = 0x0D;
				word32 eax_313 = mySignal(dwArg00, dwArg04);
				Mem316[esp_261 + 0x00:word32] = 0x0804AD86;
				word32 esi_319;
				word32 ebx_320;
				byte SCZO_321;
				word32 eax_322;
				byte SO_323;
				byte SZO_324;
				byte C_325;
				byte Z_326;
				byte al_327;
				word32 edx_328;
				word32 ecx_329;
				byte S_330;
				byte dl_331;
				word16 ax_332;
				byte CZP_333;
				word16 dx_334;
				byte bpl_336;
				selector gs_1128;
				word32 ebp_1008;
				word32 esp_1009;
				!GC_set_warn_proc();
				Mem337[0x0817C3CC:word32] = eax_322;
				Strnew(eax_322);
				Mem338[esp_1009 + 0x54:word32] = eax_322;
				if (Mem338[esp_1009 + 0x6C:word32] != 0x00)
				{
					Mem1549[esp_1009 + 0x80:word32] = 0x00;
					goto l0804D172;
				}
				Mem1320[esp_1009 + 0x00:word32] = 0x00;
				word32 esi_1323;
				word32 ebx_1324;
				byte SCZO_1325;
				word32 eax_1326;
				byte SO_1327;
				byte SZO_1328;
				byte C_1329;
				byte Z_1330;
				byte al_1331;
				word32 edx_1332;
				word32 ecx_1333;
				byte S_1334;
				byte dl_1335;
				word16 ax_1336;
				byte CZP_1337;
				word16 dx_1338;
				byte bpl_1340;
				!isatty();
				if (eax_1326 == 0x00)
				{
					Mem1392[esp_1009 + 0x00:word32] = 0x00;
					word32 esp_1393;
					word32 ebp_1394;
					word32 esi_1395;
					word32 ebx_1396;
					byte SCZO_1397;
					word32 eax_1398;
					byte SO_1399;
					byte SZO_1400;
					byte C_1401;
					byte Z_1402;
					byte al_1403;
					word32 edx_1404;
					word32 ecx_1405;
					byte S_1406;
					byte dl_1407;
					word16 ax_1408;
					byte CZP_1409;
					word16 dx_1410;
					selector gs_1411;
					byte bpl_1412;
					!dup();
					Mem1413[esp_1393 + 0x04:word32] = 0x080C80C0;
					Mem1414[esp_1393 + 0x00:word32] = eax_1398;
					word32 eax_1415 = fdopen(Mem1414[esp_1393 + 0x00:int32], Mem1414[esp_1393 + 0x04:(ptr char)]);
					Mem1416[esp_1393 + 0x04:word32] = 134522348;
					Mem1417[esp_1393 + 0x00:word32] = eax_1415;
					Mem1419[esp_1393 + 0x7C:word32] = newFileStream(eax_1415, dwArg00, dwArg04);
					Mem1421[esp_1393 + 0x00:word32] = Mem1419[esp_1393 + 0x7C:word32];
					word32 ebp_1422;
					word32 eax_1423 = openGeneralPagerBuffer(ebp_1394, gs_1411, dwArg00, out ebp_1422);
					Mem1424[esp_1393 + 0x88:word32] = eax_1423;
					Mem1425[esp_1393 + 0x04:word32] = 0x00;
					Mem1426[esp_1393 + 0x00:word32] = 0x01;
					word32 esi_1429;
					word32 ebx_1430;
					byte SCZO_1431;
					word32 eax_1432;
					byte SO_1433;
					byte SZO_1434;
					byte C_1435;
					byte Z_1436;
					byte al_1437;
					word32 edx_1438;
					word32 ecx_1439;
					byte S_1440;
					byte dl_1441;
					word16 ax_1442;
					byte CZP_1443;
					word16 dx_1444;
					byte bpl_1446;
					!dup2();
					goto l0804CCAA;
				}
				if (Mem1320[esp_1009 + 0x68:word32] != 0x00)
				{
					word32 eax_1449 = Mem1320[0x0817C31C:word32];
					Mem1450[esp_1009 + 0x10:word32] = 0x00;
					Mem1451[esp_1009 + 0x0C:word32] = 0x00;
					Mem1452[esp_1009 + 0x08:word32] = ~0x00;
					Mem1453[esp_1009 + 0x04:word32] = 0x00;
					Mem1454[esp_1009 + 0x00:word32] = eax_1449;
					Mem1456[esp_1009 + 0x88:word32] = loadGeneralFile(ebp_1008, gs_1128, dwArg00);
					if (Mem1456[esp_1009 + 0x88:word32] == 0x00)
					{
						Mem1459[esp_1009 + 0x04:word32] = 0x080C80C3;
						Mem1461[esp_1009 + 0x00:word32] = Mem1459[esp_1009 + 0x54:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					goto l0804CCAA;
				}
				if (Mem1320[esp_1009 + 100:word32] != 0x00)
				{
					Mem1464[esp_1009 + 0x00:word32] = 0x080C80E0;
					Strnew_charp(eax_1326, dwArg00);
					Mem1465[esp_1009 + 0x44:word32] = eax_1326;
					Mem1466[esp_1009 + 0x04:word32] = 0x080C8118;
					Mem1468[esp_1009 + 0x00:word32] = Mem1466[esp_1009 + 0x44:word32];
					Strcat_charp(dwArg00, dwArg04);
					word32 eax_1469 = Mem1468[0x080DA7F8:word32];
					Mem1470[esp_1009 + 0x10:word32] = 0x00;
					Mem1471[esp_1009 + 0x0C:word32] = 0x080C8140;
					Mem1472[esp_1009 + 0x08:word32] = eax_1469;
					Mem1473[esp_1009 + 0x04:word32] = 0x080C8184;
					Mem1475[esp_1009 + 0x00:word32] = Mem1473[esp_1009 + 0x44:word32];
					Strcat_m_charp(dwArg00);
					Mem1476[esp_1009 + 0x0C:word32] = 0x00;
					Mem1477[esp_1009 + 0x08:word32] = 0x080C81A8;
					Mem1478[esp_1009 + 0x04:word32] = 0x080C8204;
					Mem1480[esp_1009 + 0x00:word32] = Mem1478[esp_1009 + 0x44:word32];
					Strcat_m_charp(dwArg00);
					Mem1482[esp_1009 + 0x00:word32] = Mem1480[esp_1009 + 0x44:word32];
					Mem1484[esp_1009 + 0x88:word32] = loadHTMLString(ebp_1008, gs_1128, dwArg00);
					if (Mem1484[esp_1009 + 0x88:word32] == 0x00)
					{
						Mem1487[esp_1009 + 0x04:word32] = 0x080C825E;
						Mem1489[esp_1009 + 0x00:word32] = Mem1487[esp_1009 + 0x54:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					else if (Mem1484[esp_1009 + 0x88:word32] != 0x01)
						Mem1500[Mem1484[esp_1009 + 0x88:word32] + 0x40:word16] = (word16) ((word32) Mem1484[Mem1484[esp_1009 + 0x88:word32] + 0x40:word16] | 0x18);
					goto l0804CCAA;
				}
				Mem1501[esp_1009 + 0x00:word32] = 0x080C8277;
				Mem1503[esp_1009 + 0x84:word32] = getenv(Mem1501[esp_1009 + 0x00:(ptr char)]);
				if (Mem1503[esp_1009 + 0x84:word32] == 0x00)
				{
					Mem1536[esp_1009 + 0x00:word32] = 0x080C8281;
					Mem1538[esp_1009 + 0x84:word32] = getenv(Mem1536[esp_1009 + 0x00:(ptr char)]);
					if (Mem1538[esp_1009 + 0x84:word32] == 0x00)
					{
						if ((byte) (word32) Mem1538[135774799:byte] != 0x00)
							fmTerm(gs_1128);
						word32 eax_1546 = Mem1538[0x0817C1E4:word32];
						Mem1547[esp_1009 + 0x04:word32] = 0x01;
						Mem1548[esp_1009 + 0x00:word32] = eax_1546;
						fusage(dwArg00);
l0804CCAA:
						if (Mem1320[esp_1009 + 0x88:word32] == 0x00)
						{
							if ((byte) (word32) Mem1320[135774799:byte] != 0x00)
								fmTerm(gs_1128);
							if (Mem1320[Mem1320[esp_1009 + 0x54:word32] + 0x04:word32] != 0x00)
							{
								word32 eax_1387 = Mem1320[Mem1320[esp_1009 + 0x54:word32] + 0x00:word32];
								Mem1388[esp_1009 + 0x04:word32] = Mem1320[0x0817C1E4:word32];
								Mem1389[esp_1009 + 0x00:word32] = eax_1387;
								fputs(Mem1389[esp_1009 + 0x00:(ptr char)], Mem1389[esp_1009 + 0x04:(ptr FILE)]);
							}
							Mem1383[esp_1009 + 0x00:word32] = 0x02;
							w3m_exit(gs_1128);
						}
						Mem1370[esp_1009 + 0x80:word32] = ~0x00;
l0804D172:
						while (Mem338[esp_1009 + 0x80:word32] < Mem338[esp_1009 + 0x6C:word32])
						{
							if (Mem338[esp_1009 + 0x80:word32] >= 0x00)
							{
								Mem1119[135774784:byte] = (byte) (word32) Mem338[esp_1009 + 0x8E:byte];
								Mem1121[135774788:word32] = Mem1119[esp_1009 + 0x5C:word32];
								word32 eax_1122 = Mem1121[135774876:word32];
								if (eax_1122 == 0x02)
								{
									Mem1202[esp_1009 + 0x00:word32] = 0x34;
									word32 esi_1205;
									word32 ebx_1206;
									byte SCZO_1207;
									word32 eax_1208;
									byte SO_1209;
									byte SZO_1210;
									byte C_1211;
									byte Z_1212;
									byte al_1213;
									word32 edx_1214;
									word32 ecx_1215;
									byte S_1216;
									byte dl_1217;
									word16 ax_1218;
									byte CZP_1219;
									word16 dx_1220;
									byte bpl_1222;
									!GC_malloc();
									Mem1223[esp_1009 + 0x70:word32] = eax_1208;
									Mem1225[Mem1223[esp_1009 + 0x70:word32] + 0x08:word32] = 0x03;
									word32 eax_1230 = Mem1225[esp_1009 + 116:word32][Mem1225[esp_1009 + 0x80:word32] * 0x04];
									Mem1232[esp_1009 + 0x10:word32] = Mem1225[esp_1009 + 0x70:word32];
									Mem1233[esp_1009 + 0x0C:word32] = 0x00;
									Mem1234[esp_1009 + 0x08:word32] = ~0x00;
									Mem1235[esp_1009 + 0x04:word32] = 0x00;
									Mem1236[esp_1009 + 0x00:word32] = eax_1230;
									Mem1238[esp_1009 + 0x88:word32] = loadGeneralFile(ebp_1008, gs_1128, dwArg00);
									goto l0804CEFE;
								}
								if (Mem1121[esp_1009 + 88:word32] != 0x00 && Mem1121[esp_1009 + 0x80:word32] == 0x00)
								{
									Mem1262[esp_1009 + 0x04:word32] = 0x080C829F;
									Mem1264[esp_1009 + 0x00:word32] = Mem1262[esp_1009 + 88:word32];
									if (strcmp(Mem1264[esp_1009 + 0x00:(ptr char)], Mem1264[esp_1009 + 0x04:(ptr char)]) == 0x00)
										Mem1311[esp_1009 + 0x40:word32] = Mem1264[135774740:word32];
									else
									{
										word32 eax_1313 = Mem1264[esp_1009 + 88:word32];
										Mem1314[esp_1009 + 0x04:word32] = 0x080C82A1;
										Mem1315[esp_1009 + 0x00:word32] = eax_1313;
										Mem1317[esp_1009 + 0x40:word32] = fopen(Mem1315[esp_1009 + 0x00:(ptr char)], Mem1315[esp_1009 + 0x04:(ptr char)]);
									}
									if (Mem1264[esp_1009 + 0x40:word32] == 0x00)
									{
										Mem1274[esp_1009 + 0x04:word32] = Mem1264[esp_1009 + 88:word32];
										Mem1275[esp_1009 + 0x00:word32] = 0x080C82A3;
										byte bpl_1276;
										Mem1278[esp_1009 + 0x04:word32] = Sprintf(dwArg00, out bpl_1276);
										Mem1280[esp_1009 + 0x00:word32] = Mem1278[esp_1009 + 0x54:word32];
										Strcat(dwArg00, dwArg04);
										goto l0804D16A;
									}
									word32 eax_1281 = Mem1264[esp_1009 + 0x40:word32];
									Mem1282[esp_1009 + 0x00:word32] = eax_1281;
									Strfgetall(eax_1281, dwArg00);
									Mem1283[esp_1009 + 0x3C:word32] = eax_1281;
									if (Mem1283[esp_1009 + 0x40:word32] != Mem1283[135774740:word32])
									{
										Mem1308[esp_1009 + 0x00:word32] = Mem1283[esp_1009 + 0x40:word32];
										fclose(Mem1308[esp_1009 + 0x00:(ptr FILE)]);
									}
									Mem1287[esp_1009 + 0x18:word32] = 0x00;
									Mem1288[esp_1009 + 0x14:word32] = 0x00;
									Mem1289[esp_1009 + 0x10:word32] = 0x00;
									Mem1290[esp_1009 + 0x0C:word32] = 0x00;
									Mem1291[esp_1009 + 0x08:word32] = 0x00;
									Mem1292[esp_1009 + 0x04:word32] = 0x080C82B8;
									Mem1293[esp_1009 + 0x00:word32] = 0x00;
									Mem1295[esp_1009 + 0x70:word32] = newFormList(gs_1128, dwArg00, dwArg04, dwArg08, dwArg0C);
									Mem1299[Mem1295[esp_1009 + 0x70:word32] + 0x28:word32] = Mem1295[Mem1295[esp_1009 + 0x3C:word32] + 0x00:word32];
									Mem1301[Mem1299[esp_1009 + 0x70:word32] + 44:word32] = 0x00;
									Mem1306[Mem1301[esp_1009 + 0x70:word32] + 0x30:word32] = Mem1301[Mem1301[esp_1009 + 0x3C:word32] + 0x04:word32];
								}
								else
									Mem1259[esp_1009 + 0x70:word32] = 0x00;
								word32 eax_1248 = Mem1121[esp_1009 + 116:word32][Mem1121[esp_1009 + 0x80:word32] * 0x04];
								Mem1250[esp_1009 + 0x10:word32] = Mem1121[esp_1009 + 0x70:word32];
								Mem1251[esp_1009 + 0x0C:word32] = 0x00;
								Mem1252[esp_1009 + 0x08:word32] = ~0x00;
								Mem1253[esp_1009 + 0x04:word32] = 0x00;
								Mem1254[esp_1009 + 0x00:word32] = eax_1248;
								Mem1256[esp_1009 + 0x88:word32] = loadGeneralFile(ebp_1008, gs_1128, dwArg00);
l0804CEFE:
								if (Mem1121[esp_1009 + 0x88:word32] == 0x00)
								{
									Mem1152[esp_1009 + 0x04:word32] = Mem1121[esp_1009 + 116:word32][Mem1121[esp_1009 + 0x80:word32] * 0x04];
									Mem1153[esp_1009 + 0x00:word32] = 0x080C828A;
									byte bpl_1154;
									Mem1156[esp_1009 + 0x04:word32] = Sprintf(dwArg00, out bpl_1154);
									Mem1158[esp_1009 + 0x00:word32] = Mem1156[esp_1009 + 0x54:word32];
									Strcat(dwArg00, dwArg04);
									goto l0804D16A;
								}
								if (Mem1121[esp_1009 + 0x88:word32] == 0x01)
									goto l0804D16A;
								word32 eax_1162 = Mem1121[Mem1121[esp_1009 + 0x88:word32] + 0xB4:word32];
								if (eax_1162 >= 0x04)
								{
									if (eax_1162 > 0x05)
									{
										if (eax_1162 != 0x0C)
											goto l0804CFB4;
										goto l0804CFEE;
									}
									word32 esi_1185 = Mem1121[135091052:word32];
									word32 ebx_1186 = Mem1121[0x080D5378:word32];
									word32 eax_1191 = Mem1121[esp_1009 + 116:word32][Mem1121[esp_1009 + 0x80:word32] * 0x04];
									Mem1192[esp_1009 + 0x00:word32] = eax_1191;
									Strnew_charp(eax_1191, dwArg00);
									Mem1193[esp_1009 + 0x08:word32] = esi_1185;
									Mem1194[esp_1009 + 0x04:word32] = ebx_1186;
									Mem1195[esp_1009 + 0x00:word32] = eax_1191;
									word32 ebx_1196;
									word32 edx_1198 = Mem1195[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_1196) + 0x00:word32];
									word32 eax_1199 = Mem1195[0x08180528:word32];
									Mem1200[esp_1009 + 0x04:word32] = edx_1198;
									Mem1201[esp_1009 + 0x00:word32] = eax_1199;
									unshiftHist(dwArg00, dwArg04);
								}
l0804CFB4:
								Mem1174[esp_1009 + 0x00:word32] = Mem1121[esp_1009 + 0x88:word32] + 0x84;
								byte bpl_1175;
								word32 edx_1177 = Mem1174[parsedURL2Str(dwArg00, out bpl_1175) + 0x00:word32];
								word32 eax_1178 = Mem1174[0x08180668:word32];
								Mem1179[esp_1009 + 0x04:word32] = edx_1177;
								Mem1180[esp_1009 + 0x00:word32] = eax_1178;
								pushHashHist(dwArg00, dwArg04);
								goto l0804CFEE;
							}
							if (Mem338[esp_1009 + 0x88:word32] != 0x01)
							{
l0804CFEE:
								if (Mem338[Mem338[esp_1009 + 0x88:word32] + 0x5C:word32] == 0x00)
								{
									if (Mem338[Mem338[esp_1009 + 0x88:word32] + 0xB4:word32] != 0x04 || (Mem338[Mem338[esp_1009 + 0x88:word32] + 0xF0:word32] == 0x00 || Mem338[Mem338[esp_1009 + 0x88:word32] + 0x98:word32] == 0x00))
										goto l0804D066;
									word32 eax_1110 = Mem338[Mem338[esp_1009 + 0x88:word32] + 0x98:word32];
									Mem1111[esp_1009 + 0x04:word32] = 0x080C829F;
									Mem1112[esp_1009 + 0x00:word32] = eax_1110;
									if (strcmp(Mem1112[esp_1009 + 0x00:(ptr char)], Mem1112[esp_1009 + 0x04:(ptr char)]) != 0x00)
										goto l0804D051;
								}
								else
								{
l0804D051:
									Mem1094[Mem338[esp_1009 + 0x88:word32] + 244:byte] = (byte) (word32) Mem338[esp_1009 + 0x8E:byte];
								}
l0804D066:
								word32 eax_1018 = Mem338[0x08180718:word32];
								if (eax_1018 == 0x00)
								{
									Mem1059[0x08180718:word32] = newTab(eax_1018);
									Mem1061[0x08180730:word32] = Mem1059[0x08180718:word32];
									Mem1063[0x081804E8:word32] = Mem1061[0x08180730:word32];
									Mem1064[0x08180720:word32] = 0x01;
									word32 edx_1065 = Mem1064[0x08180718:word32];
									word32 eax_1066 = Mem1064[0x08180718:word32];
									Mem1068[eax_1066 + 0x08:word32] = Mem1064[esp_1009 + 0x88:word32];
									Mem1070[edx_1065 + 0x0C:word32] = Mem1068[eax_1066 + 0x08:word32];
								}
								else if (Mem338[esp_1009 + 0x60:word32] != 0x00)
								{
									_newT(eax_1018);
									Mem1076[Mem338[Mem338[0x08180718:word32] + 0x08:word32] + 0x18:word32] = Mem338[esp_1009 + 0x88:word32];
									Mem1079[esp_1009 + 0x00:word32] = Mem1076[Mem1076[0x08180718:word32] + 0x08:word32];
									delBuffer(gs_1128, dwArg00);
								}
								else
								{
									Mem1083[Mem338[Mem338[0x08180718:word32] + 0x08:word32] + 0x18:word32] = Mem338[esp_1009 + 0x88:word32];
									Mem1086[Mem1083[0x08180718:word32] + 0x08:word32] = Mem1083[esp_1009 + 0x88:word32];
								}
								if ((Mem338[135774876:word32] == 0x00 || Mem338[135774876:word32] == 0x01) && (Mem338[Mem338[Mem338[0x08180718:word32] + 0x08:word32] + 188:word32] != 0x00 && (byte) ((word32) Mem338[135774792:byte]) != 0x00))
									rFrame(ebp_1008, gs_1128);
								if (Mem338[135774876:word32] != 0x00)
								{
									Mem1039[esp_1009 + 0x00:word32] = Mem338[Mem338[0x08180718:word32] + 0x08:word32];
									do_dump(ebp_1008, gs_1128, dwArg00);
								}
								else
									Mem1042[Mem338[0x08180718:word32] + 0x08:word32] = Mem338[esp_1009 + 0x88:word32];
							}
l0804D16A:
							Mem992[esp_1009 + 0x80:word32] = Mem338[esp_1009 + 0x80:word32] + 0x01;
						}
						if (Mem338[135774876:word32] != 0x00)
						{
							if (Mem338[Mem338[esp_1009 + 0x54:word32] + 0x04:word32] != 0x00)
							{
								word32 eax_966 = Mem338[Mem338[esp_1009 + 0x54:word32] + 0x00:word32];
								Mem967[esp_1009 + 0x04:word32] = Mem338[0x0817C1E4:word32];
								Mem968[esp_1009 + 0x00:word32] = eax_966;
								fputs(Mem968[esp_1009 + 0x00:(ptr char)], Mem968[esp_1009 + 0x04:(ptr FILE)]);
							}
							save_cookies(ebp_1008);
							Mem962[esp_1009 + 0x00:word32] = 0x00;
							w3m_exit(gs_1128);
						}
						if (Mem338[135775176:word32] != 0x00)
						{
							Mem867[135775176:word32] = 0x00;
							Mem869[0x08180718:word32] = Mem867[0x08180730:word32];
							word32 eax_870 = Mem869[0x081804E8:word32];
							if (eax_870 == 0x00)
							{
								Mem947[0x08180718:word32] = newTab(eax_870);
								Mem949[0x08180730:word32] = Mem947[0x08180718:word32];
								Mem951[0x081804E8:word32] = Mem949[0x08180730:word32];
								Mem952[0x08180720:word32] = 0x01;
							}
							if (Mem869[Mem869[0x08180718:word32] + 0x0C:word32] != 0x00 && Mem869[Mem869[0x08180718:word32] + 0x0C:word32] != 0x01)
								Mem945[Mem869[0x08180718:word32] + 0x08:word32] = Mem869[Mem869[0x08180718:word32] + 0x0C:word32];
							else
							{
								word32 eax_905;
								word32 esi_896 = Mem869[0x08180718:word32];
								word32 ebx_897 = Mem869[0x08180718:word32];
								word32 edx_898 = Mem869[0x081807A0:word32];
								if (Mem869[0x0817C2D8:word32] != 0x00)
									eax_905 = 0x06;
								else
									eax_905 = 0x01;
								word32 ecx_907 = edx_898 - eax_905;
								word32 eax_908 = ecx_907;
								if (ecx_907 < 0x00)
									eax_908 = 0x00;
								Mem918[esp_1009 + 0x00:word32] = eax_908;
								Mem920[ebx_897 + 0x08:word32] = newBuffer(eax_908, dwArg00);
								Mem922[esi_896 + 0x0C:word32] = Mem920[ebx_897 + 0x08:word32];
								Mem925[Mem922[Mem922[0x08180718:word32] + 0x08:word32] + 0x40:word16] = 0x18;
								Mem928[Mem925[Mem925[0x08180718:word32] + 0x08:word32] + 0x04:word32] = 0x080C82BD;
							}
							ldDL(ebp_1008, gs_1128);
						}
						else
							Mem954[0x08180718:word32] = Mem338[0x081804E8:word32];
						if (Mem338[0x081804E8:word32] == 0x00 || (Mem338[Mem338[0x08180718:word32] + 0x0C:word32] == 0x00 || Mem338[Mem338[0x08180718:word32] + 0x0C:word32] == 0x01))
						{
							if (Mem338[esp_1009 + 0x88:word32] == 0x01 && (byte) ((word32) Mem338[135774799:byte]) != 0x00)
							{
								Mem850[esp_1009 + 0x10:word32] = 0x00;
								Mem851[esp_1009 + 0x0C:word32] = 0x00;
								Mem852[esp_1009 + 0x08:word32] = 0x0200;
								Mem853[esp_1009 + 0x04:word32] = 0x080C7E50;
								Mem854[esp_1009 + 0x00:word32] = 0x080C82D1;
								inputLineHistSearch(ebp_1008, gs_1128, dwArg00, dwArg04, dwArg08, dwArg0C);
							}
							if ((byte) (word32) Mem338[135774799:byte] != 0x00)
								fmTerm(gs_1128);
							if (Mem338[Mem338[esp_1009 + 0x54:word32] + 0x04:word32] != 0x00)
							{
								word32 eax_841 = Mem338[Mem338[esp_1009 + 0x54:word32] + 0x00:word32];
								Mem842[esp_1009 + 0x04:word32] = Mem338[0x0817C1E4:word32];
								Mem843[esp_1009 + 0x00:word32] = eax_841;
								fputs(Mem843[esp_1009 + 0x00:(ptr char)], Mem843[esp_1009 + 0x04:(ptr FILE)]);
							}
							if (Mem338[esp_1009 + 0x88:word32] == 0x01)
							{
								save_cookies(ebp_1008);
								if (Mem338[Mem338[esp_1009 + 0x54:word32] + 0x04:word32] == 0x00)
								{
									Mem837[esp_1009 + 0x00:word32] = 0x00;
									w3m_exit(gs_1128);
								}
							}
							Mem831[esp_1009 + 0x00:word32] = 0x02;
							w3m_exit(gs_1128);
						}
						if (Mem338[Mem338[esp_1009 + 0x54:word32] + 0x04:word32] != 0x00)
						{
							word32 eax_801 = Mem338[Mem338[esp_1009 + 0x54:word32] + 0x00:word32];
							Mem802[esp_1009 + 0x10:word32] = 0x00;
							Mem803[esp_1009 + 0x0C:word32] = 0x01;
							Mem804[esp_1009 + 0x08:word32] = 0x01;
							Mem805[esp_1009 + 0x04:word32] = 0x00;
							Mem806[esp_1009 + 0x00:word32] = eax_801;
							disp_message_nsec(ebp_1008, gs_1128, dwArg00);
						}
						Mem392[135774784:byte] = 0x00;
						Mem393[135774788:word32] = 0x00;
						Mem394[0x080D5381:byte] = 0x01;
						Mem397[0x080DC0A0:byte] = (byte) (word32) Mem394[esp_1009 + 141:byte];
						Mem401[Mem397[0x08180718:word32] + 0x08:word32] = Mem397[Mem397[0x08180718:word32] + 0x0C:word32];
						word32 eax_403 = Mem401[Mem401[0x08180718:word32] + 0x08:word32];
						Mem404[esp_1009 + 0x04:word32] = 0x01;
						Mem405[esp_1009 + 0x00:word32] = eax_403;
						real64 rArg0_406;
						displayBuffer(ebp_1008, gs_1128, dwArg00, dwArg04, rArg0, out rArg0_406);
						if (Mem405[esp_1009 + 0x78:word32] != 0x00)
						{
							Mem799[esp_1009 + 0x00:word32] = Mem405[esp_1009 + 0x78:word32];
							_goLine(ebp_1008, gs_1128, dwArg00);
						}
						while (true)
						{
l0804D41C:
							if (Mem405[135775176:word32] != 0x00)
							{
								Mem797[135775176:word32] = 0x00;
								ldDL(ebp_1008, gs_1128);
							}
							if (Mem405[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0xF8:word32] != 0x00)
								break;
							if (Mem405[135775136:word32] != 0x00)
							{
								Mem481[0x08180728:word32] = ~0x00;
								Mem482[0x08180670:word32] = 0x00;
								Mem485[0x081804E0:word32] = Mem482[Mem482[135775136:word32] + 0x04:word32];
								word32 eax_488 = 135103140[Mem485[Mem485[135775136:word32] + 0x00:word32] * 0x08];
								word32 esi_491;
								word32 ebx_492;
								byte SCZO_493;
								word32 eax_494;
								byte SO_495;
								byte SZO_496;
								byte C_497;
								byte Z_498;
								byte al_499;
								word32 edx_500;
								word32 ecx_501;
								byte S_502;
								byte dl_503;
								word16 ax_504;
								byte CZP_505;
								word16 dx_506;
								byte bpl_508;
								eax_488();
								Mem509[0x081804E0:word32] = 0x00;
								Mem512[135775136:word32] = Mem509[Mem509[135775136:word32] + 0x08:word32];
								goto l0804D81C;
							}
							if (Mem405[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0x0100:word32] != 0x00)
							{
								word16 ax_749 = (word16) (word32) Mem405[Mem405[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0x0100:word32] + 0x04:word16];
								if (ax_749 != 0x00)
								{
									Mem756[0x080D53C0:word32] = Mem405[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0x0100:word32];
									if (Mem756[Mem756[0x080D53C0:word32] + 0x00:word32] == 0x00)
									{
										Mem764[Mem756[Mem756[0x08180718:word32] + 0x08:word32] + 0x0100:word32] = 0x00;
										Mem765[0x08180728:word32] = ~0x00;
										Mem766[0x08180670:word32] = 0x00;
										Mem769[0x081804E0:word32] = Mem766[Mem766[0x080D53C0:word32] + 0x0C:word32];
										word32 eax_772 = 135103140[Mem769[Mem769[0x080D53C0:word32] + 0x08:word32] * 0x08];
										word32 esi_775;
										word32 ebx_776;
										byte SCZO_777;
										word32 eax_778;
										byte SO_779;
										byte SZO_780;
										byte C_781;
										byte Z_782;
										byte al_783;
										word32 edx_784;
										word32 ecx_785;
										byte S_786;
										byte dl_787;
										word16 ax_788;
										byte CZP_789;
										word16 dx_790;
										byte bpl_792;
										eax_772();
										Mem793[0x081804E0:word32] = 0x00;
										goto l0804D81C;
									}
								}
								else
									Mem796[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0x0100:word32] = 0x00;
							}
							if (Mem405[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0x0100:word32] == 0x00)
								Mem744[0x080D53C0:word32] = 135775144;
							Mem526[0x08180690:word32] = 0x00;
							if (Mem526[0x080D5384:word32] != 0x00)
								mouse_active();
							if (Mem526[Mem526[0x080D53C0:word32] + 0x00:word32] > 0x00)
							{
								Mem718[esp_1009 + 0x04:word32] = 0x08058864;
								Mem719[esp_1009 + 0x00:word32] = 0x0E;
								mySignal(dwArg00, dwArg04);
								word32 eax_722 = Mem719[Mem719[0x080D53C0:word32] + 0x00:word32];
								Mem723[esp_1009 + 0x00:word32] = eax_722;
								word32 esi_726;
								word32 ebx_727;
								byte SCZO_728;
								word32 eax_729;
								byte SO_730;
								byte SZO_731;
								byte C_732;
								byte Z_733;
								byte al_734;
								word32 edx_735;
								word32 ecx_736;
								byte S_737;
								byte dl_738;
								word16 ax_739;
								byte CZP_740;
								word16 dx_741;
								byte bpl_743;
								!alarm();
							}
							Mem551[esp_1009 + 0x04:word32] = 0x0804DF16;
							Mem552[esp_1009 + 0x00:word32] = 0x1C;
							mySignal(dwArg00, dwArg04);
							if (Mem552[135774940:word32] != 0x00 && (Mem552[0x080D530C:word32] != 0x00 && (Mem552[Mem552[Mem552[0x08180718:word32] + 0x08:word32] + 0x68:word32] != 0x00 && (byte) ((word32) Mem552[Mem552[Mem552[0x08180718:word32] + 0x08:word32] + 0xF6:byte]) == 0x00)))
							{
								do
								{
									if (Mem552[135775160:word32] != 0x00)
										resize_screen(gs_1128);
									word32 eax_709 = Mem552[Mem552[0x08180718:word32] + 0x08:word32];
									Mem710[esp_1009 + 0x04:word32] = 0x02;
									Mem711[esp_1009 + 0x00:word32] = eax_709;
									loadImage(ebp_1008, gs_1128);
									Mem713[esp_1009 + 0x04:word32] = 0x00;
									Mem714[esp_1009 + 0x00:word32] = 0x01;
								} while (sleep_till_anykey(gs_1128, dwArg00, dwArg04) <= 0x00);
							}
							else
							{
								do
								{
									if (Mem552[135775160:word32] != 0x00)
										resize_screen(gs_1128);
									Mem681[esp_1009 + 0x04:word32] = 0x00;
									Mem682[esp_1009 + 0x00:word32] = 0x01;
								} while (sleep_till_anykey(gs_1128, dwArg00, dwArg04) <= 0x00);
							}
							byte al_560 = do_getch(gs_1128);
							Mem561[esp_1009 + 0x8F:byte] = al_560;
							word32 eax_563 = Mem561[Mem561[0x080D53C0:word32] + 0x00:word32];
							if (eax_563 > 0x00)
							{
								Mem655[esp_1009 + 0x00:word32] = 0x00;
								word32 esi_658;
								word32 ebx_659;
								byte SCZO_660;
								word32 eax_661;
								byte SO_662;
								byte SZO_663;
								byte C_664;
								byte Z_665;
								byte al_666;
								word32 edx_667;
								word32 ecx_668;
								byte S_669;
								byte dl_670;
								word16 ax_671;
								byte CZP_672;
								word16 dx_673;
								byte bpl_675;
								!alarm();
							}
							if (Mem561[0x080D5384:word32] != 0x00)
								mouse_inactive();
							if (((word32) (byte) (word32) Mem561[(word32) (byte) (word32) Mem561[esp_1009 + 0x8F:byte] + 0x080DB700:byte] & 0x11) != 0x00)
							{
								if (Mem561[0x0817C2BC:word32] != 0x00)
								{
									if ((Mem561[135775132:word32] != 0x00 && Mem561[esp_1009 + 0x8F:byte] == 0x30 || Mem561[esp_1009 + 0x8F:byte] > 0x30) && Mem561[esp_1009 + 0x8F:byte] <= 0x39)
									{
										Mem636[135775132:word32] = Mem561[135775132:word32] * 0x05 * 0x02 + ((int32) Mem561[esp_1009 + 0x8F:byte] - 0x30);
										if (Mem636[135775132:word32] > 10000)
											Mem640[135775132:word32] = 10000;
									}
									else
									{
										Mem618[esp_1009 + 0x00:word32] = Mem561[Mem561[0x08180718:word32] + 0x08:word32];
										set_buffer_environ(ebp_1008, dwArg00);
										Mem621[esp_1009 + 0x00:word32] = Mem618[Mem618[0x08180718:word32] + 0x08:word32];
										save_buffer_position(dwArg00);
										Mem623[esp_1009 + 0x00:word32] = (int32) Mem621[esp_1009 + 0x8F:byte];
										keyPressEventProc(dwArg00);
										Mem624[135775132:word32] = 0x00;
									}
								}
								else
								{
									Mem648[esp_1009 + 0x00:word32] = Mem561[Mem561[0x08180718:word32] + 0x08:word32];
									set_buffer_environ(ebp_1008, dwArg00);
									Mem651[esp_1009 + 0x00:word32] = Mem648[Mem648[0x08180718:word32] + 0x08:word32];
									save_buffer_position(dwArg00);
									Mem653[esp_1009 + 0x00:word32] = (int32) Mem651[esp_1009 + 0x8F:byte];
									keyPressEventProc(dwArg00);
									Mem654[135775132:word32] = 0x00;
								}
							}
							Mem602[135091140:word32] = Mem561[0x08180728:word32];
							Mem603[0x08180728:word32] = ~0x00;
							Mem604[0x08180670:word32] = 0x00;
						}
						Mem459[esp_1009 + 0x38:word32] = Mem405[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0xF8:word32];
						Mem462[Mem459[Mem459[0x08180718:word32] + 0x08:word32] + 0xF8:word32] = 0x00;
						word32 eax_466 = Mem462[Mem462[0x08180718:word32] + 0x08:word32];
						Mem467[esp_1009 + 0x04:word32] = Mem462[Mem462[esp_1009 + 0x38:word32] + 0x14:word32];
						Mem468[esp_1009 + 0x00:word32] = eax_466;
						gotoLine(ebp_1008, gs_1128, dwArg00, dwArg04);
						Mem473[Mem468[Mem468[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem468[Mem468[esp_1009 + 0x38:word32] + 0x18:word32];
						Mem474[esp_1009 + 0x00:word32] = 0x01;
						esp_1009 = _followForm(gs_1128, out ebp_1008);
l0804D81C:
						goto l0804D41C;
					}
				}
				Mem1506[esp_1009 + 0x10:word32] = 0x00;
				Mem1507[esp_1009 + 0x0C:word32] = 0x00;
				Mem1508[esp_1009 + 0x08:word32] = ~0x00;
				Mem1509[esp_1009 + 0x04:word32] = 0x00;
				Mem1511[esp_1009 + 0x00:word32] = Mem1509[esp_1009 + 0x84:word32];
				Mem1513[esp_1009 + 0x88:word32] = loadGeneralFile(ebp_1008, gs_1128, dwArg00);
				if (Mem1513[esp_1009 + 0x88:word32] == 0x00)
				{
					Mem1517[esp_1009 + 0x04:word32] = Mem1513[esp_1009 + 0x84:word32];
					Mem1518[esp_1009 + 0x00:word32] = 0x080C828A;
					byte bpl_1519;
					Mem1521[esp_1009 + 0x04:word32] = Sprintf(dwArg00, out bpl_1519);
					Mem1523[esp_1009 + 0x00:word32] = Mem1521[esp_1009 + 0x54:word32];
					Strcat(dwArg00, dwArg04);
				}
				else if (Mem1513[esp_1009 + 0x88:word32] != 0x01)
				{
					Mem1529[esp_1009 + 0x00:word32] = Mem1513[esp_1009 + 0x88:word32] + 0x84;
					byte bpl_1530;
					word32 edx_1532 = Mem1529[parsedURL2Str(dwArg00, out bpl_1530) + 0x00:word32];
					word32 eax_1533 = Mem1529[0x08180668:word32];
					Mem1534[esp_1009 + 0x04:word32] = edx_1532;
					Mem1535[esp_1009 + 0x00:word32] = eax_1533;
					pushHashHist(dwArg00, dwArg04);
				}
				goto l0804CCAA;
			}
		}
	}
	Mem2877[0x080D5370:word32] = wc_guess_locale_charset(gs_120, dwLoc54_138, Mem124[0x080D5370:word32]);
	Mem2879[esp_102 + 0x04:word32] = Mem2877[135091060:word32];
	Mem2881[esp_102 + 0x00:word32] = Mem2879[esp_102 + 0x50:word32];
	Mem2883[135091060:word32] = wc_guess_locale_charset(gs_120, dwArg00, dwArg04);
	Mem2885[esp_102 + 0x04:word32] = Mem2883[0x080D5378:word32];
	Mem2887[esp_102 + 0x00:word32] = Mem2885[esp_102 + 0x50:word32];
	Mem2889[0x080D5378:word32] = wc_guess_locale_charset(gs_120, dwArg00, dwArg04);
	goto l0804B3A3;
}

// 0804D821: void keyPressEventProc(Stack word32 dwArg04)
void keyPressEventProc(word32 dwArg04)
{
	Mem10[0x08180728:word32] = dwArg04;
	byte al_13 = (byte) (word32) Mem10[dwArg04 + 0x080D91E0:byte];
	word32 eax_15 = 135103140[(word32) al_13 * 0x08];
	word32 esp_16;
	word32 ebp_17;
	byte SCZO_18;
	word32 eax_19;
	byte al_20;
	eax_15();
}

// 0804D847: void pushEvent(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08)
void pushEvent(word32 eax, word32 dwArg04, word32 dwArg08)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SZO_14;
	byte C_15;
	byte Z_16;
	!GC_malloc();
	Mem21[eax_12 + 0x00:word32] = dwArg04;
	Mem25[eax_12 + 0x04:word32] = dwArg08;
	Mem27[eax_12 + 0x08:word32] = 0x00;
	if (Mem27[135775136:word32] != 0x00)
		Mem40[Mem27[135775140:word32] + 0x08:word32] = eax_12;
	else
		Mem42[135775136:word32] = eax_12;
	Mem34[135775140:word32] = eax_12;
}

// 0804D89F: void dump_source(Stack word32 dwArg04)
void dump_source(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0xB8:word32] != 0x00)
	{
		word32 eax_33 = fopen(Mem0[dwArg04 + 0xB8:word32], 0x080C82A1);
		if (eax_33 != 0x00)
		{
			while (true)
			{
				byte al_42 = (byte) fgetc(eax_33);
				if (feof(eax_33) != 0x00)
					break;
				putchar((int32) al_42);
			}
			fclose(eax_33);
		}
	}
}

// 0804D913: void dump_head(Register word32 ebp, Stack word32 dwArg04)
void dump_head(word32 ebp, word32 dwArg04)
{
	if (Mem0[dwArg04 + 0xD8:word32] == 0x00)
	{
		if ((Mem0[135774876:word32] & 0x08) != 0x00)
			putchar(0x0A);
	}
	else
	{
		while (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
		{
			word32 esi_58 = Mem0[Mem0[fp + 0x04:word32] + 0xD0:word32];
			word32 ebx_59 = Mem0[135091052:word32];
			word32 eax_61 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem62[fp - 44 + 0x00:word32] = eax_61;
			Strnew_charp(eax_61, dwArg00);
			Mem64[fp - 0x24 + 0x00:word32] = esi_58;
			Mem65[fp - 0x28 + 0x00:word32] = ebx_59;
			Mem66[fp - 44 + 0x00:word32] = eax_61;
			word32 ebx_68;
			Mem72[fp - 0x28 + 0x00:word32] = Mem66[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_68) + 0x00:word32];
			Mem73[fp - 44 + 0x00:word32] = 0x080C82EA;
			printf(Mem73[fp - 44 + 0x00:(ptr char)], Mem73[fp - 0x28 + 0x00:(ptr char)]);
			Mem77[fp - 0x10 + 0x00:word32] = Mem73[Mem73[fp - 0x10 + 0x00:word32] + 0x04:word32];
		}
		Mem55[fp - 44 + 0x00:word32] = 0x080C7E50;
		puts(Mem55[fp - 44 + 0x00:(ptr char)]);
	}
}

// 0804D9B6: void dump_extra(Register word32 ebp, Stack word32 dwArg04)
void dump_extra(word32 ebp, word32 dwArg04)
{
	byte bpl_13;
	Mem18[fp - 0x18 + 0x00:word32] = Mem0[parsedURL2Str(dwArg04 + 0x84, out bpl_13) + 0x00:word32];
	Mem19[fp - 0x1C + 0x00:word32] = 0x080C82ED;
	printf(Mem19[fp - 0x1C + 0x00:(ptr char)], Mem19[fp - 0x18 + 0x00:(ptr char)]);
	if (Mem19[Mem19[fp + 0x04:word32] + 0xAC:word32] != 0x00)
	{
		Mem41[fp - 0x1C + 0x00:word32] = Mem19[Mem19[fp + 0x04:word32] + 0xAC:word32];
		byte bpl_42;
		Mem46[fp - 0x18 + 0x00:word32] = Mem41[parsedURL2Str(dwArg00, out bpl_42) + 0x00:word32];
		Mem47[fp - 0x1C + 0x00:word32] = 0x080C8302;
		printf(Mem47[fp - 0x1C + 0x00:(ptr char)], Mem47[fp - 0x18 + 0x00:(ptr char)]);
	}
	Mem29[fp - 0x1C + 0x00:word32] = Mem19[Mem19[fp + 0x04:word32] + 0xD0:word32];
	Mem33[fp - 0x18 + 0x00:word32] = wc_ces_to_charset(dwArg00);
	Mem34[fp - 0x1C + 0x00:word32] = 0x080C8314;
	printf(Mem34[fp - 0x1C + 0x00:(ptr char)], Mem34[fp - 0x18 + 0x00:(ptr char)]);
}

// 0804DA34: void do_dump(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void do_dump(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_11 = mySignal(0x02, 134536956);
	word32 esp_15;
	word32 ebp_16;
	byte SCZO_17;
	word32 eax_18;
	byte SZO_19;
	byte C_20;
	byte Z_21;
	selector gs_22;
	!__sigsetjmp();
	if (eax_18 != 0x00)
		mySignal(0x02, eax_11);
	else
	{
		if ((Mem0[135774876:word32] & 0x08) != 0x00)
			dump_extra(ebp_16, dwArg04);
		if ((Mem0[135774876:word32] & 0x02) != 0x00)
		{
			Mem75[esp_15 + 0x00:word32] = Mem0[ebp_16 + 0x08:word32];
			dump_head(ebp_16, dwArg00);
		}
		if ((Mem0[135774876:word32] & 0x04) != 0x00)
		{
			Mem73[esp_15 + 0x00:word32] = Mem0[ebp_16 + 0x08:word32];
			dump_source(dwArg00);
		}
		if (Mem0[135774876:word32] == 0x01)
		{
			word32 eax_66 = Mem0[0x0817C220:word32];
			Mem67[esp_15 + 0x08:word32] = 0x00;
			Mem68[esp_15 + 0x04:word32] = eax_66;
			Mem70[esp_15 + 0x00:word32] = Mem68[ebp_16 + 0x08:word32];
			saveBuffer(gs_22, dwArg00, dwArg04, dwArg08);
		}
		Mem61[esp_15 + 0x04:word32] = Mem0[ebp_16 - 0x0C + 0x00:word32];
		Mem62[esp_15 + 0x00:word32] = 0x02;
		mySignal(dwArg00, dwArg04);
	}
}

// 0804DB05: void nulcmd()
void nulcmd()
{
}

// 0804DB0A: void pcmap()
void pcmap()
{
}

// 0804DB0F: void escKeyProc(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void escKeyProc(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[0x08180728:word32] >= 0x00 && (Mem0[0x08180728:word32] & 0x10000000) != 0x00)
	{
		word32 eax_72 = getKeyData(Mem0[0x08180728:word32] >> 0x10 & 1919);
		if (eax_72 == 0x00)
			return;
		if (dwArg08 != 0x0200)
		{
			if (dwArg08 != 0x0400)
			{
				if (dwArg08 != 0x0100)
					dwArg0C = Mem0[eax_72 + 0x00:word32];
				else
					dwArg0C = Mem0[eax_72 + 0x04:word32];
			}
			else
				dwArg0C = Mem0[eax_72 + 0x0C:word32];
		}
		else
			dwArg0C = Mem0[eax_72 + 0x08:word32];
		dwArg08 = dwArg08 | DPB(Mem0[0x08180728:word32], 0x00, 0);
	}
	Mem40[0x08180728:word32] = dwArg04 | dwArg08;
	byte al_45 = (byte) (word32) Mem40[dwArg04 + dwArg0C:byte];
	word32 eax_47 = 135103140[(word32) al_45 * 0x08];
	word32 esp_50;
	word32 ebp_51;
	byte SCZO_52;
	word32 eax_53;
	byte SZO_54;
	byte C_55;
	byte S_56;
	byte Z_57;
	word32 edx_58;
	byte al_59;
	word16 ax_60;
	eax_47();
}

// 0804DBCA: void escmap(Register word32 ebp, Register selector gs)
void escmap(word32 ebp, selector gs)
{
	Mem10[fp - 0x0D + 0x00:byte] = do_getch(gs);
	if (((word32) (byte) (word32) Mem10[(word32) (byte) (word32) Mem10[fp - 0x0D + 0x00:byte] + 0x080DB700:byte] & 0x11) != 0x00)
	{
		word32 eax_25 = (int32) Mem10[fp - 0x0D + 0x00:byte];
		Mem26[fp - 0x24 + 0x00:word32] = 0x080D9260;
		Mem27[fp - 0x28 + 0x00:word32] = 0x0100;
		Mem28[fp - 44 + 0x00:word32] = eax_25;
		escKeyProc(dwArg00, dwArg04, dwArg08);
	}
}

// 0804DC0E: void escbmap(Register word32 ebp, Register selector gs)
void escbmap(word32 ebp, selector gs)
{
	Mem10[fp - 0x0D + 0x00:byte] = do_getch(gs);
	if (((word32) (byte) (word32) Mem10[(word32) (byte) (word32) Mem10[fp - 0x0D + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
	{
		Mem30[fp - 44 + 0x00:word32] = (int32) Mem10[fp - 0x0D + 0x00:byte];
		escdmap(fp - 0x04, gs, dwArg00);
	}
	else if (((word32) (byte) (word32) Mem10[(word32) (byte) (word32) Mem10[fp - 0x0D + 0x00:byte] + 0x080DB700:byte] & 0x11) != 0x00)
	{
		word32 eax_42 = (int32) Mem10[fp - 0x0D + 0x00:byte];
		Mem43[fp - 0x24 + 0x00:word32] = 0x080D92E0;
		Mem44[fp - 0x28 + 0x00:word32] = 0x0200;
		Mem45[fp - 44 + 0x00:word32] = eax_42;
		escKeyProc(dwArg00, dwArg04, dwArg08);
	}
}

// 0804DC78: void escdmap(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void escdmap(word32 ebp, selector gs, word32 dwArg04)
{
	Mem17[fp - 0x20 + 0x00:byte] = do_getch(gs);
	if (((word32) (byte) (word32) Mem17[(word32) (byte) (word32) Mem17[fp - 0x20 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
	{
		Mem54[fp - 0x10 + 0x00:word32] = Mem17[fp - 0x10 + 0x00:word32] * 0x05 * 0x02 + (int32) Mem17[(fp - 0x20) + 0x00:byte] - 0x30;
		Mem56[fp - 0x20 + 0x00:byte] = do_getch(gs);
	}
	if (Mem17[fp - 0x20 + 0x00:byte] == 0x7E)
	{
		Mem38[fp - 0x34 + 0x00:word32] = 0x080D9360;
		Mem39[fp - 0x38 + 0x00:word32] = 0x0400;
		Mem41[fp - 0x3C + 0x00:word32] = Mem39[fp - 0x10 + 0x00:word32];
		escKeyProc(dwArg00, dwArg04, dwArg08);
	}
}

// 0804DCF4: void multimap(Register word32 ebp, Register selector gs)
void multimap(word32 ebp, selector gs)
{
	Mem10[fp - 0x0D + 0x00:byte] = do_getch(gs);
	if (((word32) (byte) (word32) Mem10[(word32) (byte) (word32) Mem10[fp - 0x0D + 0x00:byte] + 0x080DB700:byte] & 0x11) != 0x00)
	{
		Mem37[0x08180728:word32] = (int32) Mem10[fp - 0x0D + 0x00:byte] | (Mem10[0x08180728:word32] << 0x10 | 0x10000000);
		word32 eax_38 = (int32) Mem37[fp - 0x0D + 0x00:byte];
		Mem39[fp - 0x24 + 0x00:word32] = 0x00;
		Mem40[fp - 0x28 + 0x00:word32] = 0x00;
		Mem41[fp - 44 + 0x00:word32] = eax_38;
		escKeyProc(dwArg00, dwArg04, dwArg08);
	}
}

// 0804DD53: void tmpClearBuffer(Stack word32 dwArg04)
void tmpClearBuffer(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x5C:word32] == 0x00 && writeBufferCache(dwArg04) == 0x00)
	{
		Mem30[Mem0[fp + 0x04:word32] + 0x08:word32] = 0x00;
		Mem32[Mem30[fp + 0x04:word32] + 0x0C:word32] = 0x00;
		Mem34[Mem32[fp + 0x04:word32] + 0x10:word32] = 0x00;
		Mem36[Mem34[fp + 0x04:word32] + 0x14:word32] = 0x00;
	}
}

// 0804DD9C: void pushBuffer(Register word32 ebp, Register selector gs)
void pushBuffer(word32 ebp, selector gs)
{
	deleteImage(gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	if (Mem0[0x080D5398:word32] != 0x00)
	{
		Mem67[fp - 44 + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		tmpClearBuffer(dwArg00);
	}
	if (Mem0[Mem0[0x08180718:word32] + 0x0C:word32] == Mem0[Mem0[0x08180718:word32] + 0x08:word32])
	{
		Mem35[Mem0[fp + 0x04:word32] + 0x18:word32] = Mem0[Mem0[0x08180718:word32] + 0x0C:word32];
		word32 edx_36 = Mem35[0x08180718:word32];
		word32 eax_37 = Mem35[0x08180718:word32];
		Mem39[eax_37 + 0x08:word32] = Mem35[fp + 0x04:word32];
		Mem41[edx_36 + 0x0C:word32] = Mem39[eax_37 + 0x08:word32];
	}
	else
	{
		word32 eax_45 = Mem0[Mem0[0x08180718:word32] + 0x0C:word32];
		Mem46[fp - 0x28 + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem47[fp - 44 + 0x00:word32] = eax_45;
		Mem51[fp - 0x10 + 0x00:word32] = prevBuffer(dwArg00, dwArg04);
		if (Mem51[fp - 0x10 + 0x00:word32] != 0x00)
		{
			Mem57[Mem51[fp - 0x10 + 0x00:word32] + 0x18:word32] = Mem51[fp + 0x04:word32];
			Mem61[Mem57[fp + 0x04:word32] + 0x18:word32] = Mem57[Mem57[0x08180718:word32] + 0x08:word32];
			Mem64[Mem61[0x08180718:word32] + 0x08:word32] = Mem61[fp + 0x04:word32];
		}
	}
}

// 0804DE4F: void delBuffer(Register selector gs, Stack word32 dwArg04)
void delBuffer(selector gs, word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		if (Mem0[Mem0[0x08180718:word32] + 0x08:word32] == dwArg04)
			Mem53[Mem0[0x08180718:word32] + 0x08:word32] = Mem0[dwArg04 + 0x18:word32];
		word32 ebx_38;
		word32 eax_39 = deleteBuffer(gs, Mem0[Mem0[0x08180718:word32] + 0x0C:word32], dwArg04, out ebx_38);
		Mem40[ebx_38 + 0x0C:word32] = eax_39;
		if (Mem40[Mem40[0x08180718:word32] + 0x08:word32] == 0x00)
			Mem49[Mem40[0x08180718:word32] + 0x08:word32] = Mem40[Mem40[0x08180718:word32] + 0x0C:word32];
	}
}

// 0804DEBD: void repBuffer(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void repBuffer(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 ebx_23;
	word32 eax_24 = replaceBuffer(gs, Mem0[Mem0[0x08180718:word32] + 0x0C:word32], dwArg04, dwArg08, out ebx_23);
	Mem25[ebx_23 + 0x0C:word32] = eax_24;
	Mem28[Mem25[0x08180718:word32] + 0x08:word32] = Mem25[fp + 0x08:word32];
}

// 0804DEFC: void intTrap()
void intTrap()
{
	word32 esp_10;
	word32 ebp_11;
	byte SCZO_12;
	!siglongjmp();
	resize_hook();
}

// 0804DF16: void resize_hook()
void resize_hook()
{
	Mem8[135775160:word32] = 0x01;
	mySignal(0x1C, 0x0804DF16);
}

// 0804DF3C: void resize_screen(Register selector gs)
void resize_screen(selector gs)
{
	Mem8[135775160:word32] = 0x00;
	setlinescols();
	setupscreen();
	if (Mem8[0x08180718:word32] != 0x00)
	{
		real64 rArg0_28;
		displayBuffer(fp - 0x04, gs, Mem8[Mem8[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_28);
	}
}

// 0804DF79: void SigPipe()
void SigPipe()
{
	init_migemo();
	mySignal(0x0D, 0x0804DF79);
}

// 0804DF9A: void nscroll(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void nscroll(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_9 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	word32 eax_12 = Mem0[eax_9 + 0x0C:word32];
	if (Mem0[eax_9 + 0x08:word32] != 0x00)
	{
		Mem54[Mem0[fp - 0x10 + 0x00:word32] + 0x0C:word32] = lineSkip(gs, eax_9, eax_12, dwArg04, 0x00);
		if (Mem54[Mem54[fp - 0x10 + 0x00:word32] + 0x0C:word32] == Mem54[(fp - 0x14) + 0x00:word32])
		{
			Mem189[fp - 0x1C + 0x00:word32] = Mem54[fp - 0x1C + 0x00:word32] + Mem54[fp + 0x04:word32];
			if (Mem189[Mem189[Mem189[fp - 0x10 + 0x00:word32] + 0x0C:word32] + 0x1C:word32] > Mem189[(fp - 0x1C) + 0x00:word32])
				Mem198[fp - 0x1C + 0x00:word32] = Mem189[Mem189[Mem189[fp - 0x10 + 0x00:word32] + 0x0C:word32] + 0x1C:word32];
			else if (Mem189[Mem189[Mem189[fp - 0x10 + 0x00:word32] + 0x14:word32] + 0x1C:word32] < Mem189[(fp - 0x1C) + 0x00:word32])
				Mem209[fp - 0x1C + 0x00:word32] = Mem189[Mem189[Mem189[fp - 0x10 + 0x00:word32] + 0x14:word32] + 0x1C:word32];
		}
		else
		{
			Mem213[fp - 0x20 + 0x00:word32] = Mem54[Mem54[Mem54[fp - 0x10 + 0x00:word32] + 0x0C:word32] + 0x1C:word32];
			Mem223[fp - 0x24 + 0x00:word32] = Mem213[Mem213[Mem213[fp - 0x10 + 0x00:word32] + 0x0C:word32] + 0x1C:word32] + (int32) ((word16) ((word32) Mem213[Mem213[(fp - 0x10) + 0x00:word32] + 0x5A:word16])) - 0x01;
			if (Mem223[0x0817C2C4:word32] != 0x00)
				Mem243[fp - 0x28 + 0x00:word32] = 0x00;
			else
				Mem249[fp - 0x28 + 0x00:word32] = Mem223[Mem223[fp - 0x14 + 0x00:word32] + 0x1C:word32] - Mem223[(fp - 0x20) + 0x00:word32] + Mem223[fp + 0x04:word32];
			if (Mem223[fp - 0x1C + 0x00:word32] < Mem223[(fp - 0x20) + 0x00:word32])
				Mem242[fp - 0x1C + 0x00:word32] = Mem223[fp - 0x20 + 0x00:word32] + Mem223[(fp - 0x28) + 0x00:word32];
			if (Mem223[fp - 0x1C + 0x00:word32] > Mem223[(fp - 0x24) + 0x00:word32])
				Mem238[fp - 0x1C + 0x00:word32] = Mem223[fp - 0x24 + 0x00:word32] + Mem223[(fp - 0x28) + 0x00:word32];
		}
		Mem65[fp - 0x38 + 0x00:word32] = Mem54[fp - 0x1C + 0x00:word32];
		Mem67[fp - 0x3C + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32];
		gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
		Mem70[fp - 0x3C + 0x00:word32] = Mem67[fp - 0x10 + 0x00:word32];
		arrangeLine(dwArg00);
		if (Mem70[fp + 0x04:word32] > 0x00)
		{
			if (Mem70[Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x10:word32] + 44:word32] != 0x00 && Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 0x30:word32] >= Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x44:word32] + Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x50:word32])
			{
				Mem137[fp - 0x38 + 0x00:word32] = 0x01;
				Mem139[fp - 0x3C + 0x00:word32] = Mem137[fp - 0x10 + 0x00:word32];
				cursorDown(fp - 0x04, gs, dwArg00);
			}
			else
			{
				while (Mem70[Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x10:word32] + 0x0C:word32] != 0x00 && (Mem70[Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 0x0C:word32] + 44:word32] != 0x00 && Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 0x30:word32] + Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 0x18:word32] < Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x44:word32] + Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x50:word32]))
				{
					Mem124[fp - 0x38 + 0x00:word32] = 0x01;
					Mem126[fp - 0x3C + 0x00:word32] = Mem124[fp - 0x10 + 0x00:word32];
					cursorDown0(fp - 0x04, gs, dwArg00, dwArg04);
				}
			}
		}
		else if (Mem70[Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x10:word32] + 0x30:word32] + Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 0x18:word32] < Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x44:word32] + Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x50:word32])
		{
			Mem155[fp - 0x38 + 0x00:word32] = 0x01;
			Mem157[fp - 0x3C + 0x00:word32] = Mem155[fp - 0x10 + 0x00:word32];
			cursorUp(fp - 0x04, gs, dwArg00);
		}
		else
		{
			while (Mem70[Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x10:word32] + 0x10:word32] != 0x00 && (Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 44:word32] != 0x00 && Mem70[Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x10:word32] + 0x30:word32] >= Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x44:word32] + Mem70[Mem70[(fp - 0x10) + 0x00:word32] + 0x50:word32]))
			{
				Mem184[fp - 0x38 + 0x00:word32] = 0x01;
				Mem186[fp - 0x3C + 0x00:word32] = Mem184[fp - 0x10 + 0x00:word32];
				cursorUp0(fp - 0x04, gs, dwArg00, dwArg04);
			}
		}
		Mem81[fp - 0x38 + 0x00:word32] = Mem70[fp + 0x08:word32];
		Mem83[fp - 0x3C + 0x00:word32] = Mem81[fp - 0x10 + 0x00:word32];
		real64 rArg0_85;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_85);
	}
}

// 0804E22A: void pgFore(Register selector gs)
void pgFore(selector gs)
{
	if (Mem0[0x0817C2BC:word32] != 0x00)
		nscroll(fp - 0x04, gs, searchKeyNum() *s ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5A:word16])) - 0x01));
	else
	{
		word32 eax_52;
		if (Mem0[135775132:word32] != 0x00)
			eax_52 = searchKeyNum();
		else
			eax_52 = searchKeyNum() *s ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5A:word16])) - 0x01);
		nscroll(fp - 0x04, gs, eax_52);
	}
}

// 0804E2B9: void pgBack(Register selector gs)
void pgBack(selector gs)
{
	if (Mem0[0x0817C2BC:word32] != 0x00)
		nscroll(fp - 0x04, gs, searchKeyNum() *s (0x01 - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5A:word16]))));
	else
	{
		word32 eax_63;
		if (Mem0[135775132:word32] != 0x00)
			eax_63 = -searchKeyNum();
		else
			eax_63 = searchKeyNum() *s (0x01 - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5A:word16])));
		nscroll(fp - 0x04, gs, eax_63);
	}
}

// 0804E35C: void lup1(Register selector gs)
void lup1(selector gs)
{
	nscroll(fp - 0x04, gs, searchKeyNum());
}

// 0804E379: void ldown1(Register selector gs)
void ldown1(selector gs)
{
	nscroll(fp - 0x04, gs, -searchKeyNum());
}

// 0804E398: void ctrCsrV(Register word32 ebp, Register selector gs)
void ctrCsrV(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_38 = (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5A:word16];
		word32 ecx_53 = (int32) ((word16) (DPB(eax_38, (word16) eax_38 >>u 0x0F, 0) + eax_38) >> 0x01) - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4A:word16]));
		if (ecx_53 != 0x00)
		{
			Mem81[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x0C:word32] = lineSkip(gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x0C:word32], -ecx_53, 0x00);
			Mem84[fp - 44 + 0x00:word32] = Mem81[Mem81[0x08180718:word32] + 0x08:word32];
			arrangeLine(dwArg00);
			word32 eax_87 = Mem84[Mem84[0x08180718:word32] + 0x08:word32];
			Mem88[fp - 0x28 + 0x00:word32] = 0x00;
			Mem89[fp - 44 + 0x00:word32] = eax_87;
			real64 rArg0_91;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_91);
		}
	}
}

// 0804E457: void ctrCsrH(Register word32 ebp, Register selector gs)
void ctrCsrH(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_35 = (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 88:word16];
		word32 ecx_45 = (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16] - (int32) ((word16) (DPB(eax_35, (word16) eax_35 >>u 0x0F, 0) + eax_35) >> 0x01);
		if (ecx_45 != 0x00)
		{
			columnSkip(Mem0[Mem0[0x08180718:word32] + 0x08:word32], ecx_45);
			arrangeCursor(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
			word32 eax_63 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem64[fp - 0x28 + 0x00:word32] = 0x00;
			Mem65[fp - 44 + 0x00:word32] = eax_63;
			real64 rArg0_68;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_68);
		}
	}
}

// 0804E4E7: void rdrwSc(Register word32 ebp, Register selector gs)
void rdrwSc(word32 ebp, selector gs)
{
	clear();
	arrangeCursor(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	word32 eax_14 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem15[fp - 0x18 + 0x00:word32] = 0x01;
	Mem16[fp - 0x1C + 0x00:word32] = eax_14;
	real64 rArg0_20;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_20);
}

// 0804E51C: void clear_mark(Stack word32 dwArg04)
void clear_mark(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 dwLoc08_20 = 0x00;
		while (Mem0[dwArg04 + 0x28:word32] > dwLoc08_20)
		{
			Mem0[dwArg04 + 0x04:word32][dwLoc08_20 * 0x02] = (word16) ((word32) Mem0[dwArg04 + 0x04:word32][dwLoc08_20 * 0x02] & ~0x01);
			dwLoc08_20 = dwLoc08_20 + 0x01;
		}
	}
}

// 0804E569: Register word32 srchcore(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 srchcore(word32 ebp, selector gs, word32 dwArg04)
{
	if (dwArg04 != 0x00 && dwArg04 != Mem0[0x0817C3C0:word32])
		Mem166[0x0817C3C0:word32] = dwArg04;
	word32 eax_30;
	if (Mem0[0x0817C3C0:word32] != 0x00)
	{
		byte al_46 = (byte) (word32) Mem0[Mem0[0x0817C3C0:word32] + 0x00:byte];
		if (al_46 != 0x00)
		{
			word32 edx_50 = Mem0[0x080D5370:word32];
			Mem55[fp + 0x04:word32] = conv_search_string(gs, Mem0[0x0817C3C0:word32], edx_50);
			Mem56[fp - 0x28 + 0x00:word32] = 134536956;
			Mem57[fp - 44 + 0x00:word32] = 0x02;
			Mem60[fp - 0x10 + 0x00:word32] = mySignal(dwArg00, dwArg04);
			word32 eax_61 = crmode(gs);
			Mem62[fp - 0x28 + 0x00:word32] = 0x01;
			Mem63[fp - 44 + 0x00:word32] = 0x081805A0;
			byte SCZO_66;
			word32 eax_67;
			byte SZO_68;
			byte C_69;
			byte Z_70;
			word32 edx_71;
			byte al_72;
			selector gs_122;
			word32 ebp_114;
			word32 esp_113;
			!__sigsetjmp();
			if (eax_67 == 0x00)
			{
				Mem91[ebp_114 - 0x10 + 0x00:word32] = 0x00;
				while (true)
				{
					word32 eax_102;
					if (Mem91[135775132:word32] != 0x00)
						eax_102 = Mem91[135775132:word32];
					else
						eax_102 = 0x01;
					if (eax_102 <= Mem91[(ebp_114 - 0x10) + 0x00:word32])
						break;
					word32 eax_128;
					word32 edx_107 = Mem91[ebp_114 + 0x08:word32];
					word32 eax_109 = Mem91[Mem91[0x08180718:word32] + 0x08:word32];
					Mem110[esp_113 + 0x04:word32] = edx_107;
					Mem111[esp_113 + 0x00:word32] = eax_109;
					word32 eax_112 = Mem111[ebp_114 + 0x0C:word32];
					byte SCZO_115;
					word32 eax_116;
					byte SZO_117;
					byte C_118;
					byte Z_119;
					word32 edx_120;
					byte al_121;
					eax_112();
					Mem123[ebp_114 - 0x14 + 0x00:word32] = eax_116;
					if (Mem123[135775132:word32] != 0x00)
						eax_128 = Mem123[135775132:word32] - 0x01;
					else
						eax_128 = 0x00;
					if (eax_128 > Mem123[(ebp_114 - 0x10) + 0x00:word32] && (byte) (Mem123[(ebp_114 - 0x14) + 0x00:word32] & 0x01) != 0x00)
					{
						Mem150[esp_113 + 0x00:word32] = Mem123[Mem123[Mem123[0x08180718:word32] + 0x08:word32] + 0x10:word32];
						clear_mark(dwArg00);
					}
					Mem140[ebp_114 - 0x10 + 0x00:word32] = Mem123[ebp_114 - 0x10 + 0x00:word32] + 0x01;
				}
			}
			Mem86[esp_113 + 0x04:word32] = Mem63[ebp_114 - 0x0C + 0x00:word32];
			Mem87[esp_113 + 0x00:word32] = 0x02;
			mySignal(dwArg00, dwArg04);
			term_raw(gs_122);
			eax_30 = Mem87[ebp_114 - 0x14 + 0x00:word32];
			return eax_30;
		}
	}
	eax_30 = 0x02;
	return eax_30;
}

// 0804E6A3: void disp_srchresult(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void disp_srchresult(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if ((dwArg04 & 0x02) != 0x00)
	{
		byte bpl_33;
		word32 eax_35 = Mem0[Sprintf(0x080C832E, out bpl_33) + 0x00:word32];
		Mem36[fp - 0x18 + 0x00:word32] = 0x01;
		Mem37[fp - 0x1C + 0x00:word32] = eax_35;
		disp_message(gs, dwArg00, dwArg04);
	}
	else if ((dwArg04 & 0x04) != 0x00)
	{
		byte bpl_50;
		word32 eax_52 = Mem0[Sprintf(0x080C833C, out bpl_50) + 0x00:word32];
		Mem53[fp - 0x18 + 0x00:word32] = 0x01;
		Mem54[fp - 0x1C + 0x00:word32] = eax_52;
		disp_message(gs, dwArg00, dwArg04);
	}
	else if (Mem0[0x080D5304:word32] != 0x00)
	{
		byte bpl_68;
		word32 eax_70 = Mem0[Sprintf(135037775, out bpl_68) + 0x00:word32];
		Mem71[fp - 0x18 + 0x00:word32] = 0x01;
		Mem72[fp - 0x1C + 0x00:word32] = eax_70;
		disp_message(gs, dwArg00, dwArg04);
	}
}

// 0804E74F: void dispincsrch(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void dispincsrch(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc14_276 = 0x00;
	if (dwArg04 == 0x00 && dwArg08 == 0x00)
	{
		Mem295[0x0817C40C:word32] = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x0C:word32];
		Mem299[0x0817C410:word32] = Mem295[Mem295[Mem295[0x08180718:word32] + 0x08:word32] + 0x10:word32];
		Mem303[0x0817C44C:word32] = Mem299[Mem299[Mem299[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
		Mem308[0x0817C448:word16] = (word16) (word32) Mem303[Mem303[Mem303[0x08180718:word32] + 0x08:word32] + 0x48:word16];
		Mem313[135775306:word16] = (word16) (word32) Mem308[Mem308[Mem308[0x08180718:word32] + 0x08:word32] + 0x4A:word16];
		Mem317[135775312:word32] = Mem313[Mem313[Mem313[0x08180718:word32] + 0x08:word32] + 0x50:word32];
		Mem321[135775300:word32] = Mem317[Mem317[Mem317[0x08180718:word32] + 0x08:word32] + 0x44:word32];
		Mem323[0x0817C504:word32] = Mem321[0x0817C410:word32];
		Mem325[0x0817C508:word32] = Mem323[0x0817C44C:word32];
		return;
	}
	word32 eax_32 = Mem0[dwArg08 + 0x00:word32];
	if (dwArg04 != 0x13)
	{
		if (dwArg04 == 0x1C)
		{
			Mem287[135775040:word32] = -Mem0[135775040:word32];
			goto l0804EB53;
		}
		if (dwArg04 == 0x12)
		{
			Mem275[0x0818053C:word32] = 0x0807CD41;
			dwLoc14_276 = 0x01;
		}
		else if (dwArg04 >= 0x00)
			return;
	}
	else
	{
		Mem288[0x0818053C:word32] = 0x0807C948;
		dwLoc14_276 = 0x01;
	}
	if (dwLoc14_276 != 0x00)
	{
		if ((byte) (word32) Mem0[eax_32 + 0x00:byte] != 0x00)
		{
			if (Mem0[0x0818053C:word32] == 0x0807C948)
				Mem200[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + 0x01;
			Mem96[0x0817C40C:word32] = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x0C:word32];
			Mem100[0x0817C410:word32] = Mem96[Mem96[Mem96[0x08180718:word32] + 0x08:word32] + 0x10:word32];
			Mem104[0x0817C44C:word32] = Mem100[Mem100[Mem100[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
			Mem109[0x0817C448:word16] = (word16) (word32) Mem104[Mem104[Mem104[0x08180718:word32] + 0x08:word32] + 0x48:word16];
			Mem114[135775306:word16] = (word16) (word32) Mem109[Mem109[Mem109[0x08180718:word32] + 0x08:word32] + 0x4A:word16];
			Mem118[135775312:word32] = Mem114[Mem114[Mem114[0x08180718:word32] + 0x08:word32] + 0x50:word32];
			Mem122[135775300:word32] = Mem118[Mem118[Mem118[0x08180718:word32] + 0x08:word32] + 0x44:word32];
			if (srchcore(fp - 0x04, gs, eax_32) == 0x02 && Mem122[0x0818053C:word32] == 0x0807C948)
			{
				Mem162[Mem122[Mem122[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem122[Mem122[Mem122[0x08180718:word32] + 0x08:word32] + 0x4C:word32] - 0x01;
				Mem166[0x0817C40C:word32] = Mem162[Mem162[Mem162[0x08180718:word32] + 0x08:word32] + 0x0C:word32];
				Mem170[0x0817C410:word32] = Mem166[Mem166[Mem166[0x08180718:word32] + 0x08:word32] + 0x10:word32];
				Mem174[0x0817C44C:word32] = Mem170[Mem170[Mem170[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
				Mem179[0x0817C448:word16] = (word16) (word32) Mem174[Mem174[Mem174[0x08180718:word32] + 0x08:word32] + 0x48:word16];
				Mem184[135775306:word16] = (word16) (word32) Mem179[Mem179[Mem179[0x08180718:word32] + 0x08:word32] + 0x4A:word16];
				Mem188[135775312:word32] = Mem184[Mem184[Mem184[0x08180718:word32] + 0x08:word32] + 0x50:word32];
				Mem192[135775300:word32] = Mem188[Mem188[Mem188[0x08180718:word32] + 0x08:word32] + 0x44:word32];
			}
			Mem137[fp - 44 + 0x00:word32] = Mem122[Mem122[0x08180718:word32] + 0x08:word32];
			arrangeCursor(fp - 0x04, gs, dwArg00);
			word32 eax_140 = Mem137[Mem137[0x08180718:word32] + 0x08:word32];
			Mem141[fp - 0x28 + 0x00:word32] = 0x01;
			Mem142[fp - 44 + 0x00:word32] = eax_140;
			real64 rArg0_144;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_144);
			Mem149[fp - 44 + 0x00:word32] = Mem142[Mem142[Mem142[0x08180718:word32] + 0x08:word32] + 0x10:word32];
			clear_mark(dwArg00);
		}
		return;
	}
	if ((byte) (word32) Mem0[eax_32 + 0x00:byte] != 0x00)
	{
		Mem225[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x0C:word32] = Mem0[0x0817C40C:word32];
		Mem229[Mem225[Mem225[0x08180718:word32] + 0x08:word32] + 0x10:word32] = Mem225[0x0817C410:word32];
		Mem233[Mem229[Mem229[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem229[0x0817C44C:word32];
		Mem238[Mem233[Mem233[0x08180718:word32] + 0x08:word32] + 0x48:word16] = (word16) (word32) Mem233[0x0817C448:word16];
		Mem243[Mem238[Mem238[0x08180718:word32] + 0x08:word32] + 0x4A:word16] = (word16) (word32) Mem238[135775306:word16];
		Mem247[Mem243[Mem243[0x08180718:word32] + 0x08:word32] + 0x50:word32] = Mem243[135775312:word32];
		Mem251[Mem247[Mem247[0x08180718:word32] + 0x08:word32] + 0x44:word32] = Mem247[135775300:word32];
		arrangeCursor(fp - 0x04, gs, Mem251[Mem251[0x08180718:word32] + 0x08:word32]);
		Mem256[fp - 0x28 + 0x00:word32] = Mem251[0x0818053C:word32];
		Mem258[fp - 44 + 0x00:word32] = Mem256[fp - 0x10 + 0x00:word32];
		srchcore(fp - 0x04, gs, dwArg00);
		Mem262[fp - 44 + 0x00:word32] = Mem258[Mem258[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		Mem266[0x0817C504:word32] = Mem262[Mem262[Mem262[0x08180718:word32] + 0x08:word32] + 0x10:word32];
		Mem270[0x0817C508:word32] = Mem266[Mem266[Mem266[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
	}
	word32 eax_213 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem214[fp - 0x28 + 0x00:word32] = 0x01;
	Mem215[fp - 44 + 0x00:word32] = eax_213;
	real64 rArg0_216;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_216);
	Mem221[fp - 44 + 0x00:word32] = Mem215[Mem215[Mem215[0x08180718:word32] + 0x08:word32] + 0x10:word32];
	clear_mark(dwArg00);
l0804EB53:
	while (true)
	{
		byte al_48 = (byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte];
		Mem53[fp - 0x10 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32] + 0x01;
		if (al_48 != 0x00 == 0x00)
			break;
		if (Mem53[135775040:word32] > 0x00)
		{
			word32 eax_62 = Mem53[fp + 0x0C:word32];
			Mem66[eax_62 + 0x00:word16] = (word16) ((word32) Mem53[eax_62 + 0x00:word16] | 0x02);
			Mem68[fp + 0x0C:word32] = Mem66[fp + 0x0C:word32] + 0x02;
		}
		else
		{
			word32 eax_70 = Mem53[fp + 0x0C:word32];
			Mem74[eax_70 + 0x00:word16] = (word16) ((word32) Mem53[eax_70 + 0x00:word16] & ~0x02);
			Mem76[fp + 0x0C:word32] = Mem74[fp + 0x0C:word32] + 0x02;
		}
	}
}

// 0804EB6D: void isrch(Register word32 ebp, Register selector gs)
void isrch(word32 ebp, selector gs)
{
	dispincsrch(fp - 0x04, gs, 0x00, 0x00);
	Mem44[0x0818053C:word32] = Mem0[fp + 0x04:word32];
	word32 eax_45 = Mem44[0x08180530:word32];
	Mem46[fp - 300 + 0x00:word32] = 0x0804E74F;
	Mem47[fp - 0x0130 + 0x00:word32] = eax_45;
	Mem48[fp - 0x0134 + 0x00:word32] = 0x10;
	Mem49[fp - 0x0138 + 0x00:word32] = 0x00;
	Mem51[fp - 0x013C + 0x00:word32] = Mem49[fp + 0x08:word32];
	Mem57[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg0C);
	if (Mem57[fp - 0x10 + 0x00:word32] == 0x00)
	{
		Mem77[Mem57[Mem57[0x08180718:word32] + 0x08:word32] + 0x0C:word32] = Mem57[fp - 0x0108 + 0x00:word32];
		Mem81[Mem77[Mem77[0x08180718:word32] + 0x08:word32] + 0x10:word32] = Mem77[fp - 0x0104 + 0x00:word32];
		Mem85[Mem81[Mem81[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem81[fp - 200 + 0x00:word32];
		Mem90[Mem85[Mem85[0x08180718:word32] + 0x08:word32] + 0x48:word16] = (word16) (word32) Mem85[fp - 0xCC + 0x00:word16];
		Mem95[Mem90[Mem90[0x08180718:word32] + 0x08:word32] + 0x4A:word16] = (word16) (word32) Mem90[fp - 202 + 0x00:word16];
		Mem99[Mem95[Mem95[0x08180718:word32] + 0x08:word32] + 0x50:word32] = Mem95[fp - 0xC4 + 0x00:word32];
		Mem103[Mem99[Mem99[0x08180718:word32] + 0x08:word32] + 0x44:word32] = Mem99[fp - 0xD0 + 0x00:word32];
	}
	word32 eax_65 = Mem57[Mem57[0x08180718:word32] + 0x08:word32];
	Mem66[fp - 0x0138 + 0x00:word32] = 0x01;
	Mem67[fp - 0x013C + 0x00:word32] = eax_65;
	real64 rArg0_69;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_69);
}

// 0804ECDF: void srch(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
void srch(word32 ebp, selector gs, word32 dwArg08)
{
	word32 eax_9 = searchKeyData();
	if (eax_9 == 0x00 || (byte) ((word32) Mem0[eax_9 + 0x00:byte]) == 0x00)
	{
		Mem111[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, dwArg08, 0x00, 0x10, Mem0[0x08180530:word32]);
		if (Mem111[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem111[Mem111[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
			Mem134[fp - 0x10 + 0x00:word32] = Mem111[0x0817C3C0:word32];
		if (Mem111[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_121 = Mem111[Mem111[0x08180718:word32] + 0x08:word32];
			Mem122[fp - 0x38 + 0x00:word32] = 0x00;
			Mem123[fp - 0x3C + 0x00:word32] = eax_121;
			real64 rArg0_124;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_124);
			return;
		}
		Mem126[fp - 0x18 + 0x00:word32] = 0x01;
	}
	Mem44[fp - 0x1C + 0x00:word32] = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
	if (Mem44[fp + 0x04:word32] == 0x0807C948)
		Mem99[Mem44[Mem44[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem44[Mem44[Mem44[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + 0x01;
	Mem51[fp - 0x38 + 0x00:word32] = Mem44[fp + 0x04:word32];
	Mem53[fp - 0x3C + 0x00:word32] = Mem51[fp - 0x10 + 0x00:word32];
	Mem57[fp - 0x14 + 0x00:word32] = srchcore(fp - 0x04, gs, dwArg00);
	if ((byte) (Mem57[fp - 0x14 + 0x00:word32] & 0x01) != 0x00)
	{
		Mem87[fp - 0x3C + 0x00:word32] = Mem57[Mem57[Mem57[0x08180718:word32] + 0x08:word32] + 0x10:word32];
		clear_mark(dwArg00);
	}
	else
		Mem91[Mem57[Mem57[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem57[fp - 0x1C + 0x00:word32];
	word32 eax_66 = Mem57[Mem57[0x08180718:word32] + 0x08:word32];
	Mem67[fp - 0x38 + 0x00:word32] = 0x00;
	Mem68[fp - 0x3C + 0x00:word32] = eax_66;
	real64 rArg0_71;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_71);
	if (Mem68[fp - 0x18 + 0x00:word32] != 0x00)
	{
		Mem78[fp - 0x34 + 0x00:word32] = Mem68[fp - 0x10 + 0x00:word32];
		Mem80[fp - 0x38 + 0x00:word32] = Mem78[fp + 0x08:word32];
		Mem82[fp - 0x3C + 0x00:word32] = Mem80[fp - 0x14 + 0x00:word32];
		disp_srchresult(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
	}
	Mem76[0x0818053C:word32] = Mem68[fp + 0x04:word32];
}

// 0804EE29: void srchfor(Register selector gs)
void srchfor(selector gs)
{
	srch(fp - 0x04, gs, 0x080C8354);
}

// 0804EE45: void isrchfor(Register selector gs)
void isrchfor(selector gs)
{
	isrch(fp - 0x04, gs);
}

// 0804EE61: void srchbak(Register selector gs)
void srchbak(selector gs)
{
	srch(fp - 0x04, gs, 0x080C8369);
}

// 0804EE7D: void isrchbak(Register selector gs)
void isrchbak(selector gs)
{
	isrch(fp - 0x04, gs);
}

// 0804EE99: void srch_nxtprv(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void srch_nxtprv(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[0x0818053C:word32] == 0x00)
		disp_message(gs, 0x080C8388, 0x01);
	else
	{
		if (dwArg04 != 0x00)
			dwArg04 = 0x01;
		if (Mem0[0x0818053C:word32] == 0x0807CD41)
			dwArg04 = 0x00;
		if (dwArg04 == 0x00)
			Mem92[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + 0x01;
		Mem53[fp - 0x10 + 0x00:word32] = srchcore(fp - 0x04, gs, Mem0[0x0817C3C0:word32]);
		if ((byte) (Mem53[fp - 0x10 + 0x00:word32] & 0x01) != 0x00)
		{
			Mem84[fp - 44 + 0x00:word32] = Mem53[Mem53[Mem53[0x08180718:word32] + 0x08:word32] + 0x10:word32];
			clear_mark(dwArg00);
		}
		word32 eax_71;
		word32 eax_61 = Mem53[Mem53[0x08180718:word32] + 0x08:word32];
		Mem62[fp - 0x28 + 0x00:word32] = 0x00;
		Mem63[fp - 44 + 0x00:word32] = eax_61;
		real64 rArg0_65;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_65);
		word32 edx_67 = Mem63[0x0817C3C0:word32];
		if (Mem63[fp + 0x04:word32] != 0x00)
			eax_71 = 0x080C8369;
		else
			eax_71 = 0x080C8354;
		Mem72[fp - 0x24 + 0x00:word32] = edx_67;
		Mem73[fp - 0x28 + 0x00:word32] = eax_71;
		Mem75[fp - 44 + 0x00:word32] = Mem73[fp - 0x10 + 0x00:word32];
		disp_srchresult(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
	}
}

// 0804EF7E: void srchnxt(Register selector gs)
void srchnxt(selector gs)
{
	srch_nxtprv(fp - 0x04, gs, 0x00);
}

// 0804EF92: void srchprv(Register selector gs)
void srchprv(selector gs)
{
	srch_nxtprv(fp - 0x04, gs, 0x01);
}

// 0804EFA6: void shiftvisualpos(Stack word32 dwArg04, Stack word32 dwArg08)
void shiftvisualpos(word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x10:word32];
	Mem18[dwArg04 + 0x50:word32] = Mem0[dwArg04 + 0x50:word32] - dwArg08;
	if (Mem18[dwArg04 + 0x50:word32] - Mem18[eax_10 + 0x30:word32] >= (int32) ((word16) ((word32) Mem18[dwArg04 + 88:word16])))
		Mem74[dwArg04 + 0x50:word32] = Mem18[eax_10 + 0x30:word32] + (int32) ((word16) ((word32) Mem18[dwArg04 + 88:word16])) - 0x01;
	else if (Mem18[dwArg04 + 0x50:word32] - Mem18[eax_10 + 0x30:word32] < 0x00)
		Mem92[dwArg04 + 0x50:word32] = Mem18[eax_10 + 0x30:word32];
	arrangeLine(dwArg04);
	if (Mem18[dwArg04 + 0x50:word32] - Mem18[eax_10 + 0x30:word32] == -dwArg08 && (word16) ((word32) Mem18[dwArg04 + 0x48:word16]) == 0x00)
		Mem64[dwArg04 + 0x50:word32] = Mem18[eax_10 + 0x30:word32];
}

// 0804F05A: void shiftl(Register selector gs)
void shiftl(selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_33 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x44:word32];
		columnSkip(Mem0[Mem0[0x08180718:word32] + 0x08:word32], searchKeyNum() *s (0x01 - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 88:word16]))) + 0x01);
		shiftvisualpos(Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x44:word32] - eax_33);
		real64 rArg0_68;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_68);
	}
}

// 0804F101: void shiftr(Register selector gs)
void shiftr(selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_27 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x44:word32];
		columnSkip(Mem0[Mem0[0x08180718:word32] + 0x08:word32], searchKeyNum() *s ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 88:word16])) - 0x01) - 0x01);
		shiftvisualpos(Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x44:word32] - eax_27);
		real64 rArg0_59;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_59);
	}
}

// 0804F197: void col1R(Register selector gs)
void col1R(selector gs)
{
	word32 eax_10 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	word32 eax_13 = Mem0[eax_10 + 0x10:word32];
	word32 eax_15 = searchKeyNum();
	if (eax_13 != 0x00)
	{
		word32 dwLoc18_31 = 0x00;
		while (dwLoc18_31 < eax_15)
		{
			word32 eax_55 = Mem0[eax_10 + 0x44:word32];
			columnSkip(Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01);
			if (Mem0[eax_10 + 0x44:word32] == eax_55)
				break;
			shiftvisualpos(Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01);
			dwLoc18_31 = dwLoc18_31 + 0x01;
		}
		real64 rArg0_52;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_52);
	}
}

// 0804F238: void col1L(Register selector gs)
void col1L(selector gs)
{
	word32 eax_10 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	word32 eax_13 = Mem0[eax_10 + 0x10:word32];
	word32 eax_15 = searchKeyNum();
	if (eax_13 != 0x00)
	{
		word32 dwLoc18_32 = 0x00;
		while (dwLoc18_32 < eax_15 && Mem0[eax_10 + 0x44:word32] != 0x00)
		{
			columnSkip(Mem0[Mem0[0x08180718:word32] + 0x08:word32], ~0x00);
			shiftvisualpos(Mem0[Mem0[0x08180718:word32] + 0x08:word32], ~0x00);
			dwLoc18_32 = dwLoc18_32 + 0x01;
		}
		real64 rArg0_55;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_55);
	}
}

// 0804F2CF: void setEnv(Register word32 ebp, Register selector gs)
void setEnv(word32 ebp, selector gs)
{
	Mem9[0x08180670:word32] = 0x00;
	word32 eax_10 = searchKeyData();
	if (eax_10 == 0x00 || ((byte) ((word32) Mem9[eax_10 + 0x00:byte]) == 0x00 || strchr(eax_10, '=') == 0x00))
	{
		if (eax_10 != 0x00 && (byte) ((word32) Mem9[eax_10 + 0x00:byte]) != 0x00)
		{
			byte bpl_143;
			Mem146[fp - 0x10 + 0x00:word32] = Mem9[Sprintf(0x080C83A7, out bpl_143) + 0x00:word32];
		}
		word32 eax_105 = Mem9[0x08180530:word32];
		Mem106[fp - 44 + 0x00:word32] = 0x00;
		Mem107[fp - 0x30 + 0x00:word32] = eax_105;
		Mem108[fp - 0x34 + 0x00:word32] = 0x10;
		Mem110[fp - 0x38 + 0x00:word32] = Mem108[fp - 0x10 + 0x00:word32];
		Mem111[fp - 0x3C + 0x00:word32] = 0x080C83AB;
		Mem115[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		if (Mem115[fp - 0x10 + 0x00:word32] == 0x00 || (byte) ((word32) Mem115[Mem115[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
		{
			word32 eax_123 = Mem115[Mem115[0x08180718:word32] + 0x08:word32];
			Mem124[fp - 0x38 + 0x00:word32] = 0x00;
			Mem125[fp - 0x3C + 0x00:word32] = eax_123;
			real64 rArg0_126;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_126);
			return;
		}
	}
	Mem44[fp - 0x38 + 0x00:word32] = 0x3D;
	Mem46[fp - 0x3C + 0x00:word32] = Mem44[fp - 0x10 + 0x00:word32];
	Mem48[fp - 0x18 + 0x00:word32] = strchr(Mem46[fp - 0x3C + 0x00:(ptr char)], Mem46[fp - 0x38 + 0x00:char]);
	if (Mem48[fp - 0x18 + 0x00:word32] != 0x00 && Mem48[(fp - 0x18) + 0x00:word32] >u Mem48[(fp - 0x10) + 0x00:word32])
	{
		Mem77[fp - 0x38 + 0x00:word32] = Mem48[fp - 0x18 + 0x00:word32] - Mem48[(fp - 0x10) + 0x00:word32];
		Mem79[fp - 0x3C + 0x00:word32] = Mem77[fp - 0x10 + 0x00:word32];
		Mem81[fp - 0x14 + 0x00:word32] = allocStr(dwArg00, dwArg04);
		Mem83[fp - 0x18 + 0x00:word32] = Mem81[fp - 0x18 + 0x00:word32] + 0x01;
		Mem86[fp - 0x38 + 0x00:word32] = Mem83[fp - 0x18 + 0x00:word32];
		Mem88[fp - 0x3C + 0x00:word32] = Mem86[fp - 0x14 + 0x00:word32];
		set_environ(dwArg00, dwArg04);
	}
	word32 eax_59 = Mem48[Mem48[0x08180718:word32] + 0x08:word32];
	Mem60[fp - 0x38 + 0x00:word32] = 0x00;
	Mem61[fp - 0x3C + 0x00:word32] = eax_59;
	real64 rArg0_66;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_66);
}

// 0804F405: void pipeBuf(Register word32 ebp, Register selector gs)
void pipeBuf(word32 ebp, selector gs)
{
	Mem15[0x08180670:word32] = 0x00;
	word32 eax_16 = searchKeyData();
	if (eax_16 == 0x00 || (byte) ((word32) Mem15[eax_16 + 0x00:byte]) == 0x00)
		Mem195[fp - 0x14 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C83B9, 0x080C7E50, 0x80, Mem15[0x0818063C:word32]);
	if (Mem15[fp - 0x14 + 0x00:word32] != 0x00)
	{
		word32 esi_173 = Mem15[0x080D5378:word32];
		word32 ebx_174 = Mem15[135091052:word32];
		word32 eax_175 = Mem15[fp - 0x14 + 0x00:word32];
		Mem176[fp - 0x3C + 0x00:word32] = eax_175;
		Strnew_charp(eax_175, dwArg00);
		Mem177[fp - 0x34 + 0x00:word32] = esi_173;
		Mem178[fp - 0x38 + 0x00:word32] = ebx_174;
		Mem179[fp - 0x3C + 0x00:word32] = eax_175;
		word32 ebx_180;
		Mem183[fp - 0x14 + 0x00:word32] = Mem179[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_180) + 0x00:word32];
	}
	if (Mem15[fp - 0x14 + 0x00:word32] != 0x00 && (byte) ((word32) Mem15[Mem15[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem78[fp - 0x38 + 0x00:word32] = 0x00;
		Mem79[fp - 0x3C + 0x00:word32] = 0x00;
		byte bpl_80;
		Mem83[fp - 0x18 + 0x00:word32] = Mem79[tmpfname(fp - 0x04, dwArg00, dwArg04, out bpl_80) + 0x00:word32];
		word32 eax_85 = Mem83[fp - 0x18 + 0x00:word32];
		Mem86[fp - 0x38 + 0x00:word32] = 0x080C83CA;
		Mem87[fp - 0x3C + 0x00:word32] = eax_85;
		Mem89[fp - 0x1C + 0x00:word32] = fopen(Mem87[fp - 0x3C + 0x00:(ptr char)], Mem87[fp - 0x38 + 0x00:(ptr char)]);
		if (Mem89[fp - 0x1C + 0x00:word32] == 0x00)
		{
			Mem93[fp - 0x38 + 0x00:word32] = Mem89[fp - 0x14 + 0x00:word32];
			Mem94[fp - 0x3C + 0x00:word32] = 0x080C83CC;
			byte bpl_95;
			word32 eax_97 = Mem94[Sprintf(dwArg00, out bpl_95) + 0x00:word32];
			Mem98[fp - 0x38 + 0x00:word32] = 0x01;
			Mem99[fp - 0x3C + 0x00:word32] = eax_97;
			disp_message(gs, dwArg00, dwArg04);
		}
		else
		{
			word32 eax_102 = Mem89[Mem89[0x08180718:word32] + 0x08:word32];
			Mem103[fp - 0x34 + 0x00:word32] = 0x01;
			Mem105[fp - 0x38 + 0x00:word32] = Mem103[fp - 0x1C + 0x00:word32];
			Mem106[fp - 0x3C + 0x00:word32] = eax_102;
			saveBuffer(gs, dwArg00, dwArg04, dwArg08);
			Mem109[fp - 0x3C + 0x00:word32] = Mem106[fp - 0x1C + 0x00:word32];
			fclose(Mem109[fp - 0x3C + 0x00:(ptr FILE)]);
			Mem112[fp - 0x3C + 0x00:word32] = Mem109[fp - 0x18 + 0x00:word32];
			word32 eax_113 = shell_quote(dwArg00);
			Mem114[fp - 0x34 + 0x00:word32] = 0x01;
			Mem115[fp - 0x38 + 0x00:word32] = eax_113;
			Mem117[fp - 0x3C + 0x00:word32] = Mem115[fp - 0x14 + 0x00:word32];
			Mem120[fp - 0x3C + 0x00:word32] = Mem117[myExtCommand(dwArg00, dwArg04, dwArg08) + 0x00:word32];
			Mem122[fp - 0x10 + 0x00:word32] = getpipe(fp - 0x04, dwArg00);
			if (Mem122[fp - 0x10 + 0x00:word32] == 0x00)
			{
				Mem125[fp - 0x38 + 0x00:word32] = 0x01;
				Mem126[fp - 0x3C + 0x00:word32] = 0x080C83E4;
				disp_message(gs, dwArg00, dwArg04);
			}
			else
			{
				Mem130[Mem122[fp - 0x10 + 0x00:word32] + 0x00:word32] = Mem122[fp - 0x14 + 0x00:word32];
				word32 esi_131 = Mem130[135091052:word32];
				word32 ebx_132 = Mem130[0x080D5378:word32];
				word32 eax_133 = Mem130[fp - 0x14 + 0x00:word32];
				Mem134[fp - 0x3C + 0x00:word32] = eax_133;
				Strnew_charp(eax_133, dwArg00);
				Mem135[fp - 0x34 + 0x00:word32] = esi_131;
				Mem136[fp - 0x38 + 0x00:word32] = ebx_132;
				Mem137[fp - 0x3C + 0x00:word32] = eax_133;
				word32 ebx_138;
				Mem141[fp - 0x34 + 0x00:word32] = Mem137[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_138) + 0x00:word32];
				Mem142[fp - 0x38 + 0x00:word32] = 0x080C83F5;
				Mem143[fp - 0x3C + 0x00:word32] = 0x080C83FE;
				byte bpl_144;
				Mem148[Mem143[fp - 0x10 + 0x00:word32] + 0x04:word32] = Mem143[Sprintf(dwArg00, out bpl_144) + 0x00:word32];
				Mem155[Mem148[fp - 0x10 + 0x00:word32] + 0x40:word16] = (word16) ((word32) Mem148[Mem148[fp - 0x10 + 0x00:word32] + 0x40:word16] | 0x18);
				if (Mem155[Mem155[fp - 0x10 + 0x00:word32] + 0x34:word32] == 0x00)
					Mem172[Mem155[fp - 0x10 + 0x00:word32] + 0x34:word32] = 0x080C8404;
				Mem162[Mem155[fp - 0x10 + 0x00:word32] + 0x98:word32] = 0x080C829F;
				Mem164[fp - 0x3C + 0x00:word32] = Mem162[fp - 0x10 + 0x00:word32];
				pushBuffer(fp - 0x04, gs);
				word32 eax_166 = Mem164[Mem164[0x08180718:word32] + 0x08:word32];
				Mem167[fp - 0x38 + 0x00:word32] = 0x01;
				Mem168[fp - 0x3C + 0x00:word32] = eax_166;
				real64 rArg0_169;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_169);
			}
		}
	}
	else
	{
		word32 eax_61 = Mem15[Mem15[0x08180718:word32] + 0x08:word32];
		Mem62[fp - 0x38 + 0x00:word32] = 0x00;
		Mem63[fp - 0x3C + 0x00:word32] = eax_61;
		real64 rArg0_68;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_68);
	}
}

// 0804F645: void pipesh(Register word32 ebp, Register selector gs)
void pipesh(word32 ebp, selector gs)
{
	Mem14[0x08180670:word32] = 0x00;
	word32 eax_15 = searchKeyData();
	if (eax_15 == 0x00 || (byte) ((word32) Mem14[eax_15 + 0x00:byte]) == 0x00)
		Mem130[fp - 0x14 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C840F, 0x080C7E50, 0x80, Mem14[0x0818063C:word32]);
	if (Mem14[fp - 0x14 + 0x00:word32] != 0x00)
	{
		word32 esi_107 = Mem14[0x080D5378:word32];
		word32 ebx_108 = Mem14[135091052:word32];
		word32 eax_109 = Mem14[fp - 0x14 + 0x00:word32];
		Mem110[fp - 0x3C + 0x00:word32] = eax_109;
		Strnew_charp(eax_109, dwArg00);
		Mem111[fp - 0x34 + 0x00:word32] = esi_107;
		Mem112[fp - 0x38 + 0x00:word32] = ebx_108;
		Mem113[fp - 0x3C + 0x00:word32] = eax_109;
		word32 ebx_115;
		Mem118[fp - 0x14 + 0x00:word32] = Mem113[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_115) + 0x00:word32];
	}
	if (Mem14[fp - 0x14 + 0x00:word32] != 0x00 && (byte) ((word32) Mem14[Mem14[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem77[fp - 0x3C + 0x00:word32] = Mem14[fp - 0x14 + 0x00:word32];
		Mem79[fp - 0x10 + 0x00:word32] = getpipe(fp - 0x04, dwArg00);
		if (Mem79[fp - 0x10 + 0x00:word32] == 0x00)
		{
			Mem82[fp - 0x38 + 0x00:word32] = 0x01;
			Mem83[fp - 0x3C + 0x00:word32] = 0x080C83E4;
			disp_message(gs, dwArg00, dwArg04);
		}
		else
		{
			Mem91[Mem79[fp - 0x10 + 0x00:word32] + 0x40:word16] = (word16) ((word32) Mem79[Mem79[fp - 0x10 + 0x00:word32] + 0x40:word16] | 0x18);
			if (Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x34:word32] == 0x00)
				Mem106[Mem91[fp - 0x10 + 0x00:word32] + 0x34:word32] = 0x080C8404;
			Mem98[fp - 0x3C + 0x00:word32] = Mem91[fp - 0x10 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
			word32 eax_100 = Mem98[Mem98[0x08180718:word32] + 0x08:word32];
			Mem101[fp - 0x38 + 0x00:word32] = 0x01;
			Mem102[fp - 0x3C + 0x00:word32] = eax_100;
			real64 rArg0_103;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_103);
		}
	}
	else
	{
		word32 eax_59 = Mem14[Mem14[0x08180718:word32] + 0x08:word32];
		Mem60[fp - 0x38 + 0x00:word32] = 0x00;
		Mem61[fp - 0x3C + 0x00:word32] = eax_59;
		real64 rArg0_66;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_66);
	}
}

// 0804F776: void readsh(Register word32 ebp, Register selector gs)
void readsh(word32 ebp, selector gs)
{
	Mem14[0x08180670:word32] = 0x00;
	word32 eax_15 = searchKeyData();
	if (eax_15 == 0x00 || (byte) ((word32) Mem14[eax_15 + 0x00:byte]) == 0x00)
		Mem139[fp - 0x18 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C8423, 0x080C7E50, 0x80, Mem14[0x0818063C:word32]);
	if (Mem14[fp - 0x18 + 0x00:word32] != 0x00)
	{
		word32 esi_116 = Mem14[0x080D5378:word32];
		word32 ebx_117 = Mem14[135091052:word32];
		word32 eax_118 = Mem14[fp - 0x18 + 0x00:word32];
		Mem119[fp - 0x3C + 0x00:word32] = eax_118;
		Strnew_charp(eax_118, dwArg00);
		Mem120[fp - 0x34 + 0x00:word32] = esi_116;
		Mem121[fp - 0x38 + 0x00:word32] = ebx_117;
		Mem122[fp - 0x3C + 0x00:word32] = eax_118;
		word32 ebx_124;
		Mem127[fp - 0x18 + 0x00:word32] = Mem122[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_124) + 0x00:word32];
	}
	if (Mem14[fp - 0x18 + 0x00:word32] != 0x00 && (byte) ((word32) Mem14[Mem14[(fp - 0x18) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem76[fp - 0x38 + 0x00:word32] = 134536956;
		Mem77[fp - 0x3C + 0x00:word32] = 0x02;
		Mem79[fp - 0x14 + 0x00:word32] = mySignal(dwArg00, dwArg04);
		crmode(gs);
		Mem82[fp - 0x3C + 0x00:word32] = Mem79[fp - 0x18 + 0x00:word32];
		Mem84[fp - 0x10 + 0x00:word32] = getshell(fp - 0x04, dwArg00);
		Mem86[fp - 0x38 + 0x00:word32] = Mem84[fp - 0x14 + 0x00:word32];
		Mem87[fp - 0x3C + 0x00:word32] = 0x02;
		mySignal(dwArg00, dwArg04);
		term_raw(gs);
		if (Mem87[fp - 0x10 + 0x00:word32] == 0x00)
		{
			Mem91[fp - 0x38 + 0x00:word32] = 0x01;
			Mem92[fp - 0x3C + 0x00:word32] = 0x080C83E4;
			disp_message(gs, dwArg00, dwArg04);
		}
		else
		{
			Mem100[Mem87[fp - 0x10 + 0x00:word32] + 0x40:word16] = (word16) ((word32) Mem87[Mem87[fp - 0x10 + 0x00:word32] + 0x40:word16] | 0x18);
			if (Mem100[Mem100[fp - 0x10 + 0x00:word32] + 0x34:word32] == 0x00)
				Mem115[Mem100[fp - 0x10 + 0x00:word32] + 0x34:word32] = 0x080C8404;
			Mem107[fp - 0x3C + 0x00:word32] = Mem100[fp - 0x10 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
			word32 eax_109 = Mem107[Mem107[0x08180718:word32] + 0x08:word32];
			Mem110[fp - 0x38 + 0x00:word32] = 0x01;
			Mem111[fp - 0x3C + 0x00:word32] = eax_109;
			real64 rArg0_112;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_112);
		}
	}
	else
	{
		word32 eax_59 = Mem14[Mem14[0x08180718:word32] + 0x08:word32];
		Mem60[fp - 0x38 + 0x00:word32] = 0x00;
		Mem61[fp - 0x3C + 0x00:word32] = eax_59;
		real64 rArg0_66;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_66);
	}
}

// 0804F8DE: void execsh(Register word32 ebp, Register selector gs)
void execsh(word32 ebp, selector gs)
{
	Mem14[0x08180670:word32] = 0x00;
	word32 ebp_44 = fp - 0x04;
	word32 esp_12 = fp - 0x3C;
	word32 eax_15 = searchKeyData();
	if (eax_15 == 0x00 || (byte) ((word32) Mem14[eax_15 + 0x00:byte]) == 0x00)
		Mem114[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 135038001, 0x080C7E50, 0x80, Mem14[0x0818063C:word32]);
	if (Mem14[fp - 0x10 + 0x00:word32] != 0x00)
	{
		word32 esi_91 = Mem14[0x080D5378:word32];
		word32 ebx_92 = Mem14[135091052:word32];
		word32 eax_93 = Mem14[fp - 0x10 + 0x00:word32];
		Mem94[fp - 0x3C + 0x00:word32] = eax_93;
		Strnew_charp(eax_93, dwArg00);
		Mem95[fp - 0x34 + 0x00:word32] = esi_91;
		Mem96[fp - 0x38 + 0x00:word32] = ebx_92;
		Mem97[fp - 0x3C + 0x00:word32] = eax_93;
		word32 ebx_99;
		Mem102[fp - 0x10 + 0x00:word32] = Mem97[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_99) + 0x00:word32];
	}
	if (Mem14[fp - 0x10 + 0x00:word32] != 0x00)
	{
		byte al_65 = (byte) (word32) Mem14[Mem14[fp - 0x10 + 0x00:word32] + 0x00:byte];
		if (al_65 != 0x00)
		{
			fmTerm(gs);
			Mem69[fp - 0x3C + 0x00:word32] = 0x0A;
			putchar(Mem69[fp - 0x3C + 0x00:int32]);
			word32 eax_71 = Mem69[fp - 0x10 + 0x00:word32];
			Mem72[fp - 0x3C + 0x00:word32] = eax_71;
			word32 esi_75;
			word32 ebx_76;
			byte SCZO_77;
			word32 eax_78;
			byte Z_79;
			byte al_80;
			byte SZO_81;
			byte C_82;
			!system();
			Mem85[esp_12 + 0x00:word32] = 135038015;
			printf(Mem85[esp_12 + 0x00:(ptr char)]);
			Mem88[esp_12 + 0x00:word32] = Mem85[0x0817C220:word32];
			fflush(Mem88[esp_12 + 0x00:(ptr FILE)]);
			fmInit(gs);
			do_getch(gs);
		}
	}
	word32 eax_47 = Mem14[Mem14[0x08180718:word32] + 0x08:word32];
	Mem48[esp_12 + 0x04:word32] = 0x01;
	Mem49[esp_12 + 0x00:word32] = eax_47;
	real64 rArg0_53;
	displayBuffer(ebp_44, gs, dwArg00, dwArg04, rArg0, out rArg0_53);
}

// 0804F9D9: void ldfile(Register word32 ebp, Register selector gs)
void ldfile(word32 ebp, selector gs)
{
	word32 eax_14 = searchKeyData();
	if (eax_14 == 0x00 || (byte) ((word32) Mem0[eax_14 + 0x00:byte]) == 0x00)
		Mem97[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 135038030, 0x00, 0x20, Mem0[0x08180528:word32]);
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
	{
		word32 esi_74 = Mem0[0x080D5378:word32];
		word32 ebx_75 = Mem0[135091052:word32];
		word32 eax_76 = Mem0[fp - 0x10 + 0x00:word32];
		Mem77[fp - 0x3C + 0x00:word32] = eax_76;
		Strnew_charp(eax_76, dwArg00);
		Mem78[fp - 0x34 + 0x00:word32] = esi_74;
		Mem79[fp - 0x38 + 0x00:word32] = ebx_75;
		Mem80[fp - 0x3C + 0x00:word32] = eax_76;
		word32 ebx_82;
		Mem85[fp - 0x10 + 0x00:word32] = Mem80[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_82) + 0x00:word32];
	}
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem73[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
		cmd_loadfile(fp - 0x04, gs, dwArg00);
	}
	else
	{
		word32 eax_57 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem58[fp - 0x38 + 0x00:word32] = 0x00;
		Mem59[fp - 0x3C + 0x00:word32] = eax_57;
		real64 rArg0_64;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_64);
	}
}

// 0804FA97: void ldhelp(Register word32 ebp, Register selector gs)
void ldhelp(word32 ebp, selector gs)
{
	word32 esp_18;
	word32 ebp_19;
	word32 ebx_20;
	byte SCZO_21;
	word32 eax_22;
	selector gs_23;
	word32 edx_24;
	byte bpl_25;
	!strcspn();
	word32 eax_13 = Mem0[0x0817C304:word32];
	word32 edx_31;
	Str_form_quote(Strnew_charp_n(eax_13, eax_13, eax_22, out edx_31));
	word32 eax_36 = Mem0[0x080DA7F8:word32];
	Strnew_charp(eax_36, eax_36);
	Str_form_quote(eax_36);
	byte bpl_44;
	Mem46[ebp_19 - 0x14 + 0x00:word32] = Sprintf(0x080C8464, out bpl_44);
	word32 eax_48 = Mem46[Mem46[ebp_19 - 0x14 + 0x00:word32] + 0x00:word32];
	Mem49[esp_18 + 0x0C:word32] = 0x00;
	Mem50[esp_18 + 0x08:word32] = ~0x00;
	Mem51[esp_18 + 0x04:word32] = 0x00;
	Mem52[esp_18 + 0x00:word32] = eax_48;
	cmd_loadURL(ebp_19, gs_23, dwArg00);
}

// 0804FB31: void cmd_loadfile(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void cmd_loadfile(word32 ebp, selector gs, word32 dwArg04)
{
	Mem26[fp - 0x10 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, file_to_url(dwArg04));
	if (Mem26[fp - 0x10 + 0x00:word32] == 0x00)
	{
		word32 esi_50 = Mem26[135091052:word32];
		word32 ebx_51 = Mem26[0x080D5378:word32];
		word32 eax_52 = Mem26[fp + 0x04:word32];
		Mem53[fp - 0x3C + 0x00:word32] = eax_52;
		Strnew_charp(eax_52, dwArg00);
		Mem54[fp - 0x34 + 0x00:word32] = esi_50;
		Mem55[fp - 0x38 + 0x00:word32] = ebx_51;
		Mem56[fp - 0x3C + 0x00:word32] = eax_52;
		word32 ebx_58;
		Mem61[fp - 0x38 + 0x00:word32] = Mem56[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_58) + 0x00:word32];
		Mem62[fp - 0x3C + 0x00:word32] = 0x080C8490;
		byte bpl_63;
		Mem66[fp - 0x14 + 0x00:word32] = Mem62[Sprintf(dwArg00, out bpl_63) + 0x00:word32];
		Mem67[fp - 0x38 + 0x00:word32] = 0x00;
		Mem69[fp - 0x3C + 0x00:word32] = Mem67[fp - 0x14 + 0x00:word32];
		byte bpl_70;
		disp_err_message(gs, dwArg00, dwArg04, out bpl_70);
	}
	else if (Mem26[fp - 0x10 + 0x00:word32] != 0x01)
	{
		Mem78[fp - 0x3C + 0x00:word32] = Mem26[fp - 0x10 + 0x00:word32];
		pushBuffer(fp - 0x04, gs);
		if ((byte) (word32) Mem78[135774792:byte] != 0x00 && Mem78[Mem78[Mem78[0x08180718:word32] + 0x08:word32] + 188:word32] != 0x00)
			rFrame(fp - 0x04, gs);
	}
	word32 eax_35 = Mem26[Mem26[0x08180718:word32] + 0x08:word32];
	Mem36[fp - 0x38 + 0x00:word32] = 0x00;
	Mem37[fp - 0x3C + 0x00:word32] = eax_35;
	real64 rArg0_40;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_40);
}

// 0804FC1A: void _movL(Register word32 ebp, Register selector gs)
void _movL(word32 ebp, selector gs)
{
	searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[(fp - 0x14) + 0x00:word32])
		{
			word32 eax_43 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem45[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Mem46[fp - 44 + 0x00:word32] = eax_43;
			cursorLeft(fp - 0x04, gs, dwArg00, dwArg04);
			Mem48[fp - 0x10 + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32] + 0x01;
		}
		word32 eax_33 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem34[fp - 0x28 + 0x00:word32] = 0x00;
		Mem35[fp - 44 + 0x00:word32] = eax_33;
		real64 rArg0_40;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_40);
	}
}

// 0804FC80: void movL(Register selector gs)
void movL(selector gs)
{
	_movL(fp - 0x04, gs);
}

// 0804FCA9: void movL1(Register selector gs)
void movL1(selector gs)
{
	_movL(fp - 0x04, gs);
}

// 0804FCBD: void _movD(Register word32 ebp, Register selector gs)
void _movD(word32 ebp, selector gs)
{
	searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[(fp - 0x14) + 0x00:word32])
		{
			word32 eax_43 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem45[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Mem46[fp - 44 + 0x00:word32] = eax_43;
			cursorDown(fp - 0x04, gs, dwArg00);
			Mem48[fp - 0x10 + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32] + 0x01;
		}
		word32 eax_33 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem34[fp - 0x28 + 0x00:word32] = 0x00;
		Mem35[fp - 44 + 0x00:word32] = eax_33;
		real64 rArg0_40;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_40);
	}
}

// 0804FD23: void movD(Register selector gs)
void movD(selector gs)
{
	_movD(fp - 0x04, gs);
}

// 0804FD4D: void movD1(Register selector gs)
void movD1(selector gs)
{
	_movD(fp - 0x04, gs);
}

// 0804FD61: void _movU(Register word32 ebp, Register selector gs)
void _movU(word32 ebp, selector gs)
{
	searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[(fp - 0x14) + 0x00:word32])
		{
			word32 eax_43 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem45[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Mem46[fp - 44 + 0x00:word32] = eax_43;
			cursorUp(fp - 0x04, gs, dwArg00);
			Mem48[fp - 0x10 + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32] + 0x01;
		}
		word32 eax_33 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem34[fp - 0x28 + 0x00:word32] = 0x00;
		Mem35[fp - 44 + 0x00:word32] = eax_33;
		real64 rArg0_40;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_40);
	}
}

// 0804FDC7: void movU(Register selector gs)
void movU(selector gs)
{
	_movU(fp - 0x04, gs);
}

// 0804FDF1: void movU1(Register selector gs)
void movU1(selector gs)
{
	_movU(fp - 0x04, gs);
}

// 0804FE05: void _movR(Register word32 ebp, Register selector gs)
void _movR(word32 ebp, selector gs)
{
	searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[(fp - 0x14) + 0x00:word32])
		{
			word32 eax_43 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem45[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Mem46[fp - 44 + 0x00:word32] = eax_43;
			cursorRight(fp - 0x04, gs, dwArg00, dwArg04);
			Mem48[fp - 0x10 + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32] + 0x01;
		}
		word32 eax_33 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem34[fp - 0x28 + 0x00:word32] = 0x00;
		Mem35[fp - 44 + 0x00:word32] = eax_33;
		real64 rArg0_40;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_40);
	}
}

// 0804FE6B: void movR(Register selector gs)
void movR(selector gs)
{
	_movR(fp - 0x04, gs);
}

// 0804FE94: void movR1(Register selector gs)
void movR1(selector gs)
{
	_movR(fp - 0x04, gs);
}

// 0804FEA8: Register word32 prev_nonnull_line(Stack word32 dwArg04)
word32 prev_nonnull_line(word32 dwArg04)
{
	word32 dwLoc08_10 = dwArg04;
	while (dwLoc08_10 != 0x00 && Mem0[dwLoc08_10 + 0x14:word32] == 0x00)
		dwLoc08_10 = Mem0[dwLoc08_10 + 0x10:word32];
	word32 eax_29;
	if (dwLoc08_10 != 0x00 && Mem0[dwLoc08_10 + 0x14:word32] != 0x00)
	{
		Mem47[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] = dwLoc08_10;
		if (dwLoc08_10 != dwArg04)
			Mem59[Mem47[Mem47[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem47[Mem47[Mem47[Mem47[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x14:word32];
		eax_29 = 0x00;
	}
	else
		eax_29 = ~0x00;
	return eax_29;
}

// 0804FF1D: void movLW(Register word32 ebp, Register selector gs)
void movLW(word32 ebp, selector gs)
{
	word32 eax_8 = searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 dwLoc20_168 = 0x00;
		while (dwLoc20_168 < eax_8)
		{
			word32 eax_90 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
			word32 eax_94 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
			if (prev_nonnull_line(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32]) < 0x00)
				break;
			while (true)
			{
				word32 eax_116 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x00:word32];
				word32 eax_121 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x04:word32];
				while (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] > 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] - 0x01) + eax_116:byte])) + 0x080DB700:byte])) & 0x0C) == 0x00 || ((word32) ((word16) ((word32) eax_121[(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] - 0x01) * 0x02])) & 0x3F00) != 0x00))
				{
					word32 eax_248 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
					Mem252[eax_248 + 0x4C:word32] = Mem0[eax_248 + 0x4C:word32] - 0x01;
				}
				if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] > 0x00)
					break;
				if (prev_nonnull_line(Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x10:word32]) < 0x00)
				{
					Mem216[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] = eax_90;
					Mem220[Mem216[Mem216[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = eax_94;
					goto l08050117;
				}
				Mem227[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x14:word32];
			}
			word32 eax_144 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x00:word32];
			word32 eax_149 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x04:word32];
			while (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] > 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] - 0x01) + eax_144:byte])) + 0x080DB700:byte])) & 0x0C) != 0x00 && ((word32) ((word16) ((word32) eax_149[(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] - 0x01) * 0x02])) & 0x3F00) == 0x00))
			{
				word32 eax_199 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
				Mem203[eax_199 + 0x4C:word32] = Mem0[eax_199 + 0x4C:word32] - 0x01;
			}
			dwLoc20_168 = dwLoc20_168 + 0x01;
		}
l08050117:
		arrangeCursor(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		word32 eax_80 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem81[fp - 0x38 + 0x00:word32] = 0x00;
		Mem82[fp - 0x3C + 0x00:word32] = eax_80;
		real64 rArg0_86;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_86);
	}
}

// 08050144: Register word32 next_nonnull_line(Stack word32 dwArg04)
word32 next_nonnull_line(word32 dwArg04)
{
	word32 dwLoc08_10 = dwArg04;
	while (dwLoc08_10 != 0x00 && Mem0[dwLoc08_10 + 0x14:word32] == 0x00)
		dwLoc08_10 = Mem0[dwLoc08_10 + 0x0C:word32];
	word32 eax_29;
	if (dwLoc08_10 != 0x00 && Mem0[dwLoc08_10 + 0x14:word32] != 0x00)
	{
		Mem47[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] = dwLoc08_10;
		if (dwLoc08_10 != dwArg04)
			Mem54[Mem47[Mem47[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = 0x00;
		eax_29 = 0x00;
	}
	else
		eax_29 = ~0x00;
	return eax_29;
}

// 080501AE: void movRW(Register word32 ebp, Register selector gs)
void movRW(word32 ebp, selector gs)
{
	word32 eax_8 = searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 dwLoc20_153 = 0x00;
		while (dwLoc20_153 < eax_8)
		{
			word32 eax_90 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
			word32 eax_94 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
			if (next_nonnull_line(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32]) < 0x00)
				break;
			word32 eax_107 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x00:word32];
			word32 eax_112 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x04:word32];
			word32 dwLoc10_108 = eax_107;
			word32 dwLoc14_113 = eax_112;
			while ((byte) (word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + eax_107:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + eax_107:byte])) + 0x080DB700:byte])) & 0x0C) != 0x00 && ((word32) ((word16) ((word32) eax_112[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] * 0x02])) & 0x3F00) == 0x00))
			{
				word32 eax_248 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
				Mem252[eax_248 + 0x4C:word32] = Mem0[eax_248 + 0x4C:word32] + 0x01;
			}
			while (true)
			{
				while ((byte) (word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + dwLoc10_108:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + dwLoc10_108:byte])) + 0x080DB700:byte])) & 0x0C) == 0x00 || ((word32) ((word16) ((word32) dwLoc14_113[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] * 0x02])) & 0x3F00) != 0x00))
				{
					word32 eax_204 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
					Mem208[eax_204 + 0x4C:word32] = Mem0[eax_204 + 0x4C:word32] + 0x01;
				}
				if ((byte) (word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] + dwLoc10_108:byte] != 0x00)
					break;
				if (next_nonnull_line(Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x0C:word32]) < 0x00)
				{
					Mem167[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] = eax_90;
					Mem171[Mem167[Mem167[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = eax_94;
					goto l080503A9;
				}
				Mem174[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = 0x00;
				dwLoc10_108 = Mem174[Mem174[Mem174[Mem174[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x00:word32];
				dwLoc14_113 = Mem174[Mem174[Mem174[Mem174[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x04:word32];
			}
			dwLoc20_153 = dwLoc20_153 + 0x01;
		}
l080503A9:
		arrangeCursor(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		word32 eax_80 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem81[fp - 0x38 + 0x00:word32] = 0x00;
		Mem82[fp - 0x3C + 0x00:word32] = eax_80;
		real64 rArg0_86;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_86);
	}
}

// 080503D6: void _quitfm(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void _quitfm(word32 ebp, selector gs, word32 dwArg04)
{
	if (checkDownloadList() != 0x00)
		Mem104[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C84A0, 0x080C7E50, 0x0200, 0x00);
	else if (dwArg04 != 0x00)
		Mem118[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C84DC, 0x080C7E50, 0x0200, 0x00);
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
		{
			if ((byte) ((word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] | 0x20) == 121)
			{
l080504A5:
				Mem63[fp - 0x3C + 0x00:word32] = 0x080C7E50;
				term_title(dwArg00);
				if (Mem63[135774940:word32] != 0x00)
					termImage();
				fmTerm(gs);
				save_cookies(fp - 0x04);
				if (Mem63[0x080D5360:word32] != 0x00 && Mem63[0x080D5368:word32] != 0x00)
				{
					word32 eax_84 = Mem63[0x08180668:word32];
					Mem85[fp - 0x38 + 0x00:word32] = Mem63[135091044:word32];
					Mem86[fp - 0x3C + 0x00:word32] = eax_84;
					saveHistory(fp - 0x04, gs, dwArg00);
				}
				Mem77[fp - 0x3C + 0x00:word32] = 0x00;
				w3m_exit(gs);
				return;
			}
		}
		else if ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] == 121)
			goto l080504A5;
	}
	word32 eax_40 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem41[fp - 0x38 + 0x00:word32] = 0x00;
	Mem42[fp - 0x3C + 0x00:word32] = eax_40;
	real64 rArg0_47;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_47);
}

// 08050501: void quitfm(Register selector gs)
void quitfm(selector gs)
{
	_quitfm(fp - 0x04, gs, 0x00);
}

// 08050515: void qquitfm(Register selector gs)
void qquitfm(selector gs)
{
	_quitfm(fp - 0x04, gs, Mem0[135090940:word32]);
}

// 0805052A: void selBuf(Register word32 ebp, Register selector gs)
void selBuf(word32 ebp, selector gs)
{
	do
	{
		word32 edx_19 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		word32 eax_21 = Mem0[Mem0[0x08180718:word32] + 0x0C:word32];
		Mem23[fp - 0x24 + 0x00:word32] = fp - 0x0D;
		Mem24[fp - 0x28 + 0x00:word32] = edx_19;
		Mem25[fp - 44 + 0x00:word32] = eax_21;
		Mem30[fp - 0x14 + 0x00:word32] = selectBuffer(fp - 0x04, gs, dwArg00, dwArg04);
		word32 eax_33 = (int32) (byte) (word32) Mem30[fp - 0x0D + 0x00:byte];
		if (eax_33 != 0x44)
		{
			if (eax_33 <= 0x44)
			{
				if (eax_33 != 66)
				{
					if (eax_33 <= 66 && (eax_33 == 0x0A || eax_33 == 0x20))
					{
						Mem98[Mem30[0x08180718:word32] + 0x08:word32] = Mem30[fp - 0x14 + 0x00:word32];
						Mem99[fp - 0x18 + 0x00:word32] = 0x01;
					}
				}
				else
					Mem102[fp - 0x18 + 0x00:word32] = 0x01;
			}
			else if (eax_33 != 0x51)
			{
				if (eax_33 == 113)
					qquitfm(gs);
			}
			else
				quitfm(gs);
		}
		else
		{
			Mem108[fp - 44 + 0x00:word32] = Mem30[fp - 0x14 + 0x00:word32];
			delBuffer(gs, dwArg00);
			if (Mem108[Mem108[0x08180718:word32] + 0x0C:word32] == 0x00)
			{
				Mem116[Mem108[0x08180718:word32] + 0x0C:word32] = nullBuffer();
				Mem120[Mem116[0x08180718:word32] + 0x08:word32] = Mem116[Mem116[0x08180718:word32] + 0x0C:word32];
			}
		}
	} while (Mem30[fp - 0x18 + 0x00:word32] == 0x00);
	Mem46[fp - 0x14 + 0x00:word32] = Mem30[Mem30[0x08180718:word32] + 0x0C:word32];
	while (Mem46[fp - 0x14 + 0x00:word32] != 0x00)
	{
		if (Mem46[Mem46[0x08180718:word32] + 0x08:word32] != Mem46[(fp - 0x14) + 0x00:word32])
		{
			Mem78[fp - 44 + 0x00:word32] = Mem46[fp - 0x14 + 0x00:word32];
			deleteImage(gs, dwArg00);
			if (Mem78[0x080D5398:word32] != 0x00)
			{
				Mem85[fp - 44 + 0x00:word32] = Mem78[fp - 0x14 + 0x00:word32];
				tmpClearBuffer(dwArg00);
			}
		}
		Mem76[fp - 0x14 + 0x00:word32] = Mem46[Mem46[fp - 0x14 + 0x00:word32] + 0x18:word32];
	}
	word32 eax_54 = Mem46[Mem46[0x08180718:word32] + 0x08:word32];
	Mem55[fp - 0x28 + 0x00:word32] = 0x01;
	Mem56[fp - 44 + 0x00:word32] = eax_54;
	real64 rArg0_58;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_58);
}

// 08050668: void susp(Register word32 ebp, Register selector gs)
void susp(word32 ebp, selector gs)
{
	move(Mem0[0x08180780:word32] - 0x01, 0x00);
	clrtoeolx();
	word32 eax_13 = refresh(fp - 0x04);
	fmTerm(gs);
	Mem15[fp - 0x18 + 0x00:word32] = 0x13;
	Mem16[fp - 0x1C + 0x00:word32] = 0x00;
	word32 esp_17;
	word32 ebp_18;
	byte SCZO_19;
	word32 eax_20;
	selector gs_21;
	!kill();
	fmInit(gs_21);
	word32 eax_23 = Mem16[Mem16[0x08180718:word32] + 0x08:word32];
	Mem24[esp_17 + 0x04:word32] = 0x01;
	Mem25[esp_17 + 0x00:word32] = eax_23;
	real64 rArg0_29;
	displayBuffer(ebp_18, gs_21, dwArg00, dwArg04, rArg0, out rArg0_29);
}

// 080506C8: void _goLine(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void _goLine(word32 ebp, selector gs, word32 dwArg04)
{
	if (dwArg04 != 0x00 && ((byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] != 0x00))
	{
		Mem67[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = 0x00;
		if ((byte) (word32) Mem67[dwArg04 + 0x00:byte] != 0x5E && (byte) ((word32) Mem67[dwArg04 + 0x00:byte]) != 0x24 || Mem67[135775132:word32] == 0x00)
		{
			if ((byte) (word32) Mem67[dwArg04 + 0x00:byte] == 0x5E)
			{
				word32 edx_104 = Mem67[Mem67[0x08180718:word32] + 0x08:word32];
				word32 eax_106 = Mem67[Mem67[0x08180718:word32] + 0x08:word32];
				Mem110[eax_106 + 0x10:word32] = Mem67[Mem67[Mem67[0x08180718:word32] + 0x08:word32] + 0x08:word32];
				Mem112[edx_104 + 0x0C:word32] = Mem110[eax_106 + 0x10:word32];
			}
			else if ((byte) (word32) Mem67[dwArg04 + 0x00:byte] == 0x24)
			{
				word32 eax_127 = ~(int32) (word16) (word32) Mem67[Mem67[Mem67[0x08180718:word32] + 0x08:word32] + 0x5A:word16];
				Mem144[Mem67[Mem67[0x08180718:word32] + 0x08:word32] + 0x0C:word32] = lineSkip(gs, Mem67[Mem67[0x08180718:word32] + 0x08:word32], Mem67[Mem67[Mem67[0x08180718:word32] + 0x08:word32] + 0x14:word32], (eax_127 >>u 0x1F) + eax_127 >> 0x01, 0x01);
				Mem150[Mem144[Mem144[0x08180718:word32] + 0x08:word32] + 0x10:word32] = Mem144[Mem144[Mem144[0x08180718:word32] + 0x08:word32] + 0x14:word32];
			}
			else
				gotoRealLine(fp - 0x04, gs, Mem67[Mem67[0x08180718:word32] + 0x08:word32], atoi(dwArg04));
		}
		else
			gotoRealLine(fp - 0x04, gs, Mem67[Mem67[0x08180718:word32] + 0x08:word32], Mem67[135775132:word32]);
		Mem88[fp - 0x1C + 0x00:word32] = Mem67[Mem67[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		word32 eax_91 = Mem88[Mem88[0x08180718:word32] + 0x08:word32];
		Mem92[fp - 0x18 + 0x00:word32] = 0x01;
		Mem93[fp - 0x1C + 0x00:word32] = eax_91;
		real64 rArg0_94;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_94);
	}
	else
	{
		real64 rArg0_46;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_46);
	}
}

// 0805084C: void goLine(Register word32 ebp, Register selector gs)
void goLine(word32 ebp, selector gs)
{
	word32 eax_8 = searchKeyData();
	if (Mem0[135775132:word32] != 0x00)
		_goLine(fp - 0x04, gs, 0x080C84FB);
	else if (eax_8 != 0x00)
		_goLine(fp - 0x04, gs, eax_8);
	else
	{
		Mem42[fp - 0x3C + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C84FD, 0x080C7E50, 0x10, 0x00);
		_goLine(fp - 0x04, gs, dwArg00);
	}
}

// 080508BA: void goLineF(Register selector gs)
void goLineF(selector gs)
{
	_goLine(fp - 0x04, gs, 0x080C84FB);
}

// 080508CE: void goLineL(Register selector gs)
void goLineL(selector gs)
{
	_goLine(fp - 0x04, gs, 0x080C8509);
}

// 080508E2: void linbeg(Register word32 ebp, Register selector gs)
void linbeg(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		while (Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x10:word32] != 0x00 && Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 44:word32] != 0x00)
		{
			word32 eax_56 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem57[fp - 0x18 + 0x00:word32] = 0x01;
			Mem58[fp - 0x1C + 0x00:word32] = eax_56;
			cursorUp0(fp - 0x04, gs, dwArg00, dwArg04);
		}
		Mem35[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = 0x00;
		Mem38[fp - 0x1C + 0x00:word32] = Mem35[Mem35[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		word32 eax_42 = Mem38[Mem38[0x08180718:word32] + 0x08:word32];
		Mem43[fp - 0x18 + 0x00:word32] = 0x00;
		Mem44[fp - 0x1C + 0x00:word32] = eax_42;
		real64 rArg0_46;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_46);
	}
}

// 08050971: void linend(Register word32 ebp, Register selector gs)
void linend(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		while (Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x0C:word32] != 0x00 && Mem0[Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x0C:word32] + 44:word32] != 0x00)
		{
			word32 eax_67 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem68[fp - 0x18 + 0x00:word32] = 0x01;
			Mem69[fp - 0x1C + 0x00:word32] = eax_67;
			cursorDown0(fp - 0x04, gs, dwArg00, dwArg04);
		}
		Mem45[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x14:word32] - 0x01;
		Mem48[fp - 0x1C + 0x00:word32] = Mem45[Mem45[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		word32 eax_52 = Mem48[Mem48[0x08180718:word32] + 0x08:word32];
		Mem53[fp - 0x18 + 0x00:word32] = 0x00;
		Mem54[fp - 0x1C + 0x00:word32] = eax_52;
		real64 rArg0_56;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_56);
	}
}

// 08050A14: Register word32 cur_real_linenumber(Stack word32 dwArg04)
word32 cur_real_linenumber(word32 dwArg04)
{
	word32 eax_20;
	word32 eax_10 = Mem0[dwArg04 + 0x10:word32];
	if (eax_10 == 0x00)
		eax_20 = 0x01;
	else
	{
		word32 eax_34;
		if (Mem0[eax_10 + 0x20:word32] != 0x00)
			eax_34 = Mem0[eax_10 + 0x20:word32];
		else
			eax_34 = 0x01;
		word32 dwLoc10_35 = eax_34;
		word32 dwLoc08_38 = Mem0[dwArg04 + 0x08:word32];
		while (dwLoc08_38 != 0x00 && (dwLoc08_38 != eax_10 && Mem0[dwLoc08_38 + 0x20:word32] == 0x00))
		{
			if (Mem0[dwLoc08_38 + 44:word32] == 0x00)
				dwLoc10_35 = dwLoc10_35 + 0x01;
			dwLoc08_38 = Mem0[dwLoc08_38 + 0x0C:word32];
		}
		eax_20 = dwLoc10_35;
	}
	return eax_20;
}

// 08050A89: void editBf(Register word32 ebp, Register selector gs)
void editBf(word32 ebp, selector gs)
{
	word32 eax_14 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x00:word32];
	if (eax_14 != 0x00 && (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5C:word32] == 0x00 && (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x34:word32] != 0x00 || Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 228:word32] != 0x00)) && (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xB4:word32] == 0x04 && strcmp(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x98:word32], 0x080C829F) != 0x00))
	{
		word16 ax_90 = (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16];
		if (((int32) ax_90 & 0x02) == 0x00)
		{
			if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 228:word32] != 0x00)
			{
				word32 edx_135;
				byte bpl_149;
				Mem151[fp - 0x14 + 0x00:word32] = unquote_mailcap(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 228:word32], Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x38:word32], eax_14, checkHeader(Mem0[Mem0[0x08180718:word32] + 0x08:word32], 135038253, out edx_135), 0x00, out bpl_149);
			}
			else
			{
				cur_real_linenumber(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
				shell_quote(eax_14);
				Mem165[fp - 0x14 + 0x00:word32] = myEditor(fp - 0x04, Mem0[0x080D5320:word32]);
			}
			fmTerm(gs);
			word32 eax_108 = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem109[fp - 0x3C + 0x00:word32] = eax_108;
			word32 esp_110;
			word32 ebp_111;
			word32 ebx_112;
			byte SCZO_113;
			word32 eax_114;
			byte Z_115;
			byte SZO_116;
			byte C_117;
			word16 ax_118;
			word32 edx_119;
			word32 ecx_120;
			selector gs_121;
			byte bpl_122;
			!system();
			fmInit(gs_121);
			word32 eax_124 = Mem109[Mem109[0x08180718:word32] + 0x08:word32];
			Mem125[esp_110 + 0x04:word32] = 0x01;
			Mem126[esp_110 + 0x00:word32] = eax_124;
			real64 rArg0_129;
			displayBuffer(ebp_111, gs_121, dwArg00, dwArg04, rArg0, out rArg0_129);
			reload(ebp_111, gs_121);
			return;
		}
	}
	byte bpl_51;
	disp_err_message(gs, 0x080C850C, 0x01, out bpl_51);
}

// 08050C0E: void editScr(Register word32 ebp, Register selector gs)
void editScr(word32 ebp, selector gs)
{
	byte bpl_14;
	Mem18[fp - 0x10 + 0x00:word32] = Mem0[tmpfname(fp - 0x04, 0x00, 0x00, out bpl_14) + 0x00:word32];
	word32 eax_20 = Mem18[fp - 0x10 + 0x00:word32];
	Mem21[fp - 0x28 + 0x00:word32] = 0x080C83CA;
	Mem22[fp - 44 + 0x00:word32] = eax_20;
	Mem24[fp - 0x14 + 0x00:word32] = fopen(Mem22[fp - 44 + 0x00:(ptr char)], Mem22[fp - 0x28 + 0x00:(ptr char)]);
	if (Mem24[fp - 0x14 + 0x00:word32] == 0x00)
	{
		Mem41[fp - 0x28 + 0x00:word32] = Mem24[fp - 0x10 + 0x00:word32];
		Mem42[fp - 44 + 0x00:word32] = 0x080C853B;
		byte bpl_44;
		word32 eax_46 = Mem42[Sprintf(dwArg00, out bpl_44) + 0x00:word32];
		Mem47[fp - 0x28 + 0x00:word32] = 0x01;
		Mem48[fp - 44 + 0x00:word32] = eax_46;
		byte bpl_51;
		disp_err_message(gs, dwArg00, dwArg04, out bpl_51);
	}
	else
	{
		word32 eax_55 = Mem24[Mem24[0x08180718:word32] + 0x08:word32];
		Mem56[fp - 0x24 + 0x00:word32] = 0x01;
		Mem58[fp - 0x28 + 0x00:word32] = Mem56[fp - 0x14 + 0x00:word32];
		Mem59[fp - 44 + 0x00:word32] = eax_55;
		saveBuffer(gs, dwArg00, dwArg04, dwArg08);
		Mem62[fp - 44 + 0x00:word32] = Mem59[fp - 0x14 + 0x00:word32];
		fclose(Mem62[fp - 44 + 0x00:(ptr FILE)]);
		fmTerm(gs);
		Mem66[fp - 44 + 0x00:word32] = Mem62[Mem62[0x08180718:word32] + 0x08:word32];
		word32 eax_67 = cur_real_linenumber(dwArg00);
		Mem70[fp - 44 + 0x00:word32] = Mem66[fp - 0x10 + 0x00:word32];
		word32 eax_71 = shell_quote(dwArg00);
		word32 edx_72 = Mem70[0x080D5320:word32];
		Mem73[fp - 0x24 + 0x00:word32] = eax_67;
		Mem74[fp - 0x28 + 0x00:word32] = eax_71;
		Mem75[fp - 44 + 0x00:word32] = edx_72;
		word32 eax_77 = Mem75[myEditor(fp - 0x04, dwArg00) + 0x00:word32];
		Mem78[fp - 44 + 0x00:word32] = eax_77;
		word32 esp_79;
		word32 ebp_80;
		word32 ebx_81;
		byte SCZO_82;
		word32 eax_83;
		word32 edx_84;
		byte Z_85;
		selector gs_86;
		byte bpl_87;
		!system();
		fmInit(gs_86);
		Mem89[esp_79 + 0x00:word32] = Mem78[ebp_80 - 0x0C + 0x00:word32];
		unlink(Mem89[esp_79 + 0x00:(ptr char)]);
		word32 eax_92 = Mem89[Mem89[0x08180718:word32] + 0x08:word32];
		Mem93[esp_79 + 0x04:word32] = 0x01;
		Mem94[esp_79 + 0x00:word32] = eax_92;
		real64 rArg0_95;
		displayBuffer(ebp_80, gs_86, dwArg00, dwArg04, rArg0, out rArg0_95);
	}
}

// 08050D0F: void _mark(Register selector gs)
void _mark(selector gs)
{
	if (Mem0[135774900:word32] != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_34 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
		Mem0[eax_34 + 0x04:word32][Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] * 0x02] = (word16) ((word32) Mem0[eax_34 + 0x04:word32][Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] * 0x02] ^ 0x01);
		real64 rArg0_62;
		displayBuffer(fp - 0x04, gs, Mem55[Mem55[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_62);
	}
}

// 08050D8F: void nextMk(Register word32 ebp, Register selector gs)
void nextMk(word32 ebp, selector gs)
{
	if (Mem0[135774900:word32] != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_36 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
		word32 eax_41 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
		word32 dwLoc14_113 = eax_36 + 0x01;
		word32 dwLoc10_118 = eax_41;
		if (Mem0[eax_41 + 0x14:word32] <= eax_36 + 0x01)
		{
			dwLoc14_113 = 0x00;
			dwLoc10_118 = Mem0[eax_41 + 0x0C:word32];
		}
		while (dwLoc10_118 != 0x00)
		{
			while (Mem0[dwLoc10_118 + 0x14:word32] > dwLoc14_113)
			{
				if ((byte) ((word32) (word16) (word32) Mem0[dwLoc10_118 + 0x04:word32][dwLoc14_113 * 0x02] & 0x01) != 0x00)
				{
					Mem95[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] = dwLoc10_118;
					Mem99[Mem95[Mem95[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = dwLoc14_113;
					arrangeCursor(fp - 0x04, gs, Mem99[Mem99[0x08180718:word32] + 0x08:word32]);
					word32 eax_104 = Mem99[Mem99[0x08180718:word32] + 0x08:word32];
					Mem105[fp - 0x28 + 0x00:word32] = 0x00;
					Mem106[fp - 44 + 0x00:word32] = eax_104;
					real64 rArg0_109;
					displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_109);
					return;
				}
				dwLoc14_113 = dwLoc14_113 + 0x01;
			}
			dwLoc10_118 = Mem0[dwLoc10_118 + 0x0C:word32];
			dwLoc14_113 = 0x00;
		}
		disp_message(gs, 0x080C8549, 0x01);
	}
}

// 08050E9C: void prevMk(Register word32 ebp, Register selector gs)
void prevMk(word32 ebp, selector gs)
{
	if (Mem0[135774900:word32] != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_37 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
		word32 eax_42 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
		word32 dwLoc14_119 = eax_37 - 0x01;
		word32 dwLoc10_123 = eax_42;
		if (eax_37 < 0x01)
		{
			word32 eax_122 = Mem0[eax_42 + 0x10:word32];
			dwLoc10_123 = eax_122;
			if (eax_122 != 0x00)
				dwLoc14_119 = Mem0[eax_122 + 0x14:word32] - 0x01;
		}
		while (dwLoc10_123 != 0x00)
		{
			while (dwLoc14_119 >= 0x00)
			{
				if ((byte) ((word32) (word16) (word32) Mem0[dwLoc10_123 + 0x04:word32][dwLoc14_119 * 0x02] & 0x01) != 0x00)
				{
					Mem101[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] = dwLoc10_123;
					Mem105[Mem101[Mem101[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = dwLoc14_119;
					arrangeCursor(fp - 0x04, gs, Mem105[Mem105[0x08180718:word32] + 0x08:word32]);
					word32 eax_110 = Mem105[Mem105[0x08180718:word32] + 0x08:word32];
					Mem111[fp - 0x28 + 0x00:word32] = 0x00;
					Mem112[fp - 44 + 0x00:word32] = eax_110;
					real64 rArg0_115;
					displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_115);
					return;
				}
				dwLoc14_119 = dwLoc14_119 - 0x01;
			}
			word32 eax_76 = Mem0[dwLoc10_123 + 0x10:word32];
			dwLoc10_123 = eax_76;
			if (eax_76 != 0x00)
				dwLoc14_119 = Mem0[eax_76 + 0x14:word32] - 0x01;
		}
		disp_message(gs, 0x080C8562, 0x01);
	}
}

// 08050FB6: void reMark(Register word32 ebp, Register selector gs)
void reMark(word32 ebp, selector gs)
{
	if (Mem0[135774900:word32] != 0x00)
	{
		word32 eax_41 = searchKeyData();
		if (eax_41 == 0x00 || (byte) ((word32) Mem0[eax_41 + 0x00:byte]) == 0x00)
		{
			Mem181[fp - 0x14 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C857C, Mem0[135775164:word32], 0x10, Mem0[0x08180530:word32]);
			if (Mem181[fp - 0x14 + 0x00:word32] == 0x00 || (byte) ((word32) Mem181[Mem181[(fp - 0x14) + 0x00:word32] + 0x00:byte]) == 0x00)
			{
				word32 eax_189 = Mem181[Mem181[0x08180718:word32] + 0x08:word32];
				Mem190[fp - 0x48 + 0x00:word32] = 0x00;
				Mem191[fp - 0x4C + 0x00:word32] = eax_189;
				real64 rArg0_192;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_192);
				return;
			}
		}
		Mem56[fp - 0x48 + 0x00:word32] = Mem0[0x080D5370:word32];
		Mem58[fp - 0x4C + 0x00:word32] = Mem56[fp - 0x14 + 0x00:word32];
		Mem63[fp - 0x14 + 0x00:word32] = conv_search_string(gs, dwArg00, dwArg04);
		Mem64[fp - 0x48 + 0x00:word32] = 0x01;
		Mem66[fp - 0x4C + 0x00:word32] = Mem64[fp - 0x14 + 0x00:word32];
		Mem68[fp - 0x14 + 0x00:word32] = regexCompile(dwArg00, dwArg04);
		if (Mem68[fp - 0x14 + 0x00:word32] != 0x00)
		{
			Mem71[fp - 0x48 + 0x00:word32] = 0x01;
			Mem73[fp - 0x4C + 0x00:word32] = Mem71[fp - 0x14 + 0x00:word32];
			disp_message(gs, dwArg00, dwArg04);
		}
		else
		{
			Mem79[135775164:word32] = Mem68[fp - 0x14 + 0x00:word32];
			Mem83[fp - 0x10 + 0x00:word32] = Mem79[Mem79[Mem79[0x08180718:word32] + 0x08:word32] + 0x08:word32];
			while (Mem83[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem103[fp - 0x18 + 0x00:word32] = Mem83[Mem83[fp - 0x10 + 0x00:word32] + 0x00:word32];
				while (true)
				{
					word32 ebx_122 = Mem103[Mem103[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem103[Mem103[(fp - 0x10) + 0x00:word32] + 0x14:word32] - Mem103[(fp - 0x18) + 0x00:word32];
					Mem125[fp - 0x44 + 0x00:word32] = (word32) (Mem103[Mem103[fp - 0x10 + 0x00:word32] + 0x00:word32] == Mem103[(fp - 0x18) + 0x00:word32]);
					Mem126[fp - 0x48 + 0x00:word32] = ebx_122;
					Mem128[fp - 0x4C + 0x00:word32] = Mem126[fp - 0x18 + 0x00:word32];
					if (regexMatch(dwArg00, dwArg04, dwArg08) != 0x01)
						break;
					Mem134[fp - 0x48 + 0x00:word32] = fp - 0x20;
					Mem136[fp - 0x4C + 0x00:word32] = fp - 0x1C;
					matchedPosition(dwArg00, dwArg04);
					Mem136[Mem136[fp - 0x10 + 0x00:word32] + 0x04:word32][(Mem136[fp - 0x1C + 0x00:word32] - Mem136[Mem136[(fp - 0x10) + 0x00:word32] + 0x00:word32]) * 0x02] = (word16) ((word32) Mem136[Mem136[fp - 0x10 + 0x00:word32] + 0x04:word32][(Mem136[fp - 0x1C + 0x00:word32] - Mem136[Mem136[(fp - 0x10) + 0x00:word32] + 0x00:word32]) * 0x02] | 0x01);
					Mem166[fp - 0x18 + 0x00:word32] = Mem164[fp - 0x20 + 0x00:word32];
				}
				Mem169[fp - 0x10 + 0x00:word32] = Mem128[Mem128[fp - 0x10 + 0x00:word32] + 0x0C:word32];
			}
			word32 eax_96 = Mem83[Mem83[0x08180718:word32] + 0x08:word32];
			Mem97[fp - 0x48 + 0x00:word32] = 0x01;
			Mem98[fp - 0x4C + 0x00:word32] = eax_96;
			real64 rArg0_99;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_99);
		}
	}
}

// 0805117F: void loadNormalBuf(Register selector gs, Stack word32 dwArg04)
void loadNormalBuf(selector gs, word32 dwArg04)
{
	pushBuffer(fp - 0x04, gs);
	if (Mem0[fp + 0x08:word32] != 0x00 && ((byte) ((word32) Mem0[135774792:byte]) != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 188:word32] != 0x00))
		rFrame(fp - 0x04, gs);
}

// 080511BD: void loadLink(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void loadLink(word32 ebp, selector gs, word32 dwArg04)
{
	byte bpl_18;
	word32 eax_21 = Mem0[Sprintf(0x080C858B, out bpl_18) + 0x00:word32];
	Mem22[fp - 116 + 0x00:word32] = 0x00;
	Mem23[fp - 0x78 + 0x00:word32] = 0x00;
	Mem24[fp - 0x7C + 0x00:word32] = eax_21;
	message(dwArg00, dwArg04, dwArg08);
	refresh(fp - 0x04);
	Mem30[fp - 0x7C + 0x00:word32] = Mem24[Mem24[0x08180718:word32] + 0x08:word32];
	Mem32[fp - 0x20 + 0x00:word32] = baseURL(dwArg00);
	if (Mem32[fp - 0x20 + 0x00:word32] == 0x00 || (Mem32[Mem32[(fp - 0x20) + 0x00:word32] + 0x00:word32] == 0x04 || Mem32[Mem32[(fp - 0x20) + 0x00:word32] + 0x00:word32] == 0x05))
		Mem310[fp + 0x0C:word32] = ~0x00;
	if (Mem32[fp + 0x0C:word32] == 0x00)
	{
		Mem302[fp - 0x7C + 0x00:word32] = Mem32[Mem32[0x08180718:word32] + 0x08:word32] + 0x84;
		byte bpl_303;
		Mem306[fp + 0x0C:word32] = Mem302[parsedURL2Str(dwArg00, out bpl_303) + 0x00:word32];
	}
	Mem41[fp - 0x7C + 0x00:word32] = Mem32[Mem32[0x08180718:word32] + 0x08:word32];
	word32 eax_42 = baseURL(dwArg00);
	Mem44[fp - 0x6C + 0x00:word32] = Mem41[fp + 0x10:word32];
	Mem46[fp - 0x70 + 0x00:word32] = Mem44[fp - 0x1C + 0x00:word32];
	Mem48[fp - 116 + 0x00:word32] = Mem46[fp + 0x0C:word32];
	Mem49[fp - 0x78 + 0x00:word32] = eax_42;
	Mem51[fp - 0x7C + 0x00:word32] = Mem49[fp + 0x04:word32];
	Mem54[fp - 0x10 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
	if (Mem54[fp - 0x10 + 0x00:word32] == 0x00)
	{
		Mem74[fp - 0x78 + 0x00:word32] = Mem54[fp + 0x04:word32];
		Mem75[fp - 0x7C + 0x00:word32] = 135038358;
		byte bpl_76;
		Mem79[fp - 0x24 + 0x00:word32] = Mem75[Sprintf(dwArg00, out bpl_76) + 0x00:word32];
		Mem80[fp - 0x78 + 0x00:word32] = 0x00;
		Mem82[fp - 0x7C + 0x00:word32] = Mem80[fp - 0x24 + 0x00:word32];
		byte bpl_83;
		disp_err_message(gs, dwArg00, dwArg04, out bpl_83);
		return;
	}
	Mem93[fp - 116 + 0x00:word32] = Mem54[fp - 0x20 + 0x00:word32];
	Mem95[fp - 0x78 + 0x00:word32] = fp - 0x54;
	Mem97[fp - 0x7C + 0x00:word32] = Mem95[fp + 0x04:word32];
	parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
	Mem99[fp - 0x7C + 0x00:word32] = fp - 0x54;
	byte bpl_100;
	word32 edx_102 = Mem99[parsedURL2Str(dwArg00, out bpl_100) + 0x00:word32];
	word32 eax_103 = Mem99[0x08180668:word32];
	Mem104[fp - 0x78 + 0x00:word32] = edx_102;
	Mem105[fp - 0x7C + 0x00:word32] = eax_103;
	pushHashHist(dwArg00, dwArg04);
	if (Mem105[fp - 0x10 + 0x00:word32] == 0x01)
		return;
	if (Mem105[0x080D53C8:word32] == 0x00)
	{
		Mem113[fp - 0x78 + 0x00:word32] = 0x01;
		Mem115[fp - 0x7C + 0x00:word32] = Mem113[fp - 0x10 + 0x00:word32];
		loadNormalBuf(gs, dwArg00);
		return;
	}
	if (Mem105[135774964:word32] != 0x00)
	{
		Mem120[fp - 0x78 + 0x00:word32] = 0x00;
		Mem122[fp - 0x7C + 0x00:word32] = Mem120[fp - 0x10 + 0x00:word32];
		loadNormalBuf(gs, dwArg00);
		return;
	}
	if (Mem105[fp + 0x08:word32] != 0x00)
	{
		Mem132[fp - 0x78 + 0x00:word32] = 0x080C85A4;
		Mem134[fp - 0x7C + 0x00:word32] = Mem132[fp + 0x08:word32];
		if (strcmp(Mem134[fp - 0x7C + 0x00:(ptr char)], Mem134[fp - 0x78 + 0x00:(ptr char)]) != 0x00 && ((int32) ((word16) ((word32) Mem134[Mem134[Mem134[0x08180718:word32] + 0x08:word32] + 0x40:word16])) & 0x02) != 0x00)
		{
			Mem151[fp - 0x14 + 0x00:word32] = Mem134[Mem134[Mem134[0x08180718:word32] + 0x08:word32] + 0x20:word32];
			if (Mem151[fp - 0x14 + 0x00:word32] == 0x00)
			{
				Mem154[fp - 0x78 + 0x00:word32] = 0x01;
				Mem156[fp - 0x7C + 0x00:word32] = Mem154[fp - 0x10 + 0x00:word32];
				loadNormalBuf(gs, dwArg00);
			}
			else
			{
				word32 eax_158 = Mem151[Mem151[fp - 0x14 + 0x00:word32] + 188:word32];
				Mem160[fp - 0x78 + 0x00:word32] = Mem151[fp + 0x08:word32];
				Mem161[fp - 0x7C + 0x00:word32] = eax_158;
				Mem163[fp - 0x18 + 0x00:word32] = search_frame(dwArg00, dwArg04);
				if (Mem163[fp - 0x18 + 0x00:word32] == 0x00)
				{
					Mem166[fp - 0x78 + 0x00:word32] = 0x01;
					Mem168[fp - 0x7C + 0x00:word32] = Mem166[fp - 0x10 + 0x00:word32];
					loadNormalBuf(gs, dwArg00);
				}
				else
				{
					word32 ebx_170 = Mem163[Mem163[0x08180718:word32] + 0x08:word32];
					word32 eax_172 = Mem163[Mem163[fp - 0x14 + 0x00:word32] + 188:word32];
					Mem173[fp - 0x7C + 0x00:word32] = eax_172;
					copyFrameSet(eax_172, dwArg00);
					word32 edx_174 = Mem173[fp - 0x14 + 0x00:word32];
					Mem177[fp - 116 + 0x00:word32] = ebx_170;
					Mem178[fp - 0x78 + 0x00:word32] = eax_172;
					Mem179[fp - 0x7C + 0x00:word32] = edx_174 + 0xC0;
					pushFrameTree(dwArg00, dwArg04, dwArg08);
					Mem182[fp - 0x7C + 0x00:word32] = Mem179[Mem179[0x08180718:word32] + 0x08:word32];
					delBuffer(gs, dwArg00);
					Mem185[Mem182[0x08180718:word32] + 0x08:word32] = Mem182[fp - 0x14 + 0x00:word32];
					Mem187[fp - 0x70 + 0x00:word32] = Mem185[fp + 0x10:word32];
					Mem189[fp - 116 + 0x00:word32] = Mem187[fp + 0x0C:word32];
					Mem191[fp - 0x78 + 0x00:word32] = Mem189[fp - 0x10 + 0x00:word32];
					Mem193[fp - 0x7C + 0x00:word32] = Mem191[fp - 0x18 + 0x00:word32];
					resetFrameElement(fp - 0x04, dwArg00, dwArg04);
					Mem195[fp - 0x7C + 0x00:word32] = Mem193[fp - 0x10 + 0x00:word32];
					discardBuffer(fp - 0x04, gs, dwArg00);
					rFrame(fp - 0x04, gs);
					Mem197[fp - 0x28 + 0x00:word32] = 0x00;
					Mem199[fp - 44 + 0x00:word32] = Mem197[fp - 0x34 + 0x00:word32];
					if (Mem199[fp - 44 + 0x00:word32] != 0x00 && (byte) ((word32) Mem199[Mem199[Mem199[(fp - 0x18) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x01)
					{
						word32 eax_292 = Mem199[Mem199[Mem199[fp - 0x18 + 0x00:word32] + 0x00:word32] + 0x1C:word32];
						Mem294[fp - 0x78 + 0x00:word32] = Mem199[fp - 44 + 0x00:word32];
						Mem295[fp - 0x7C + 0x00:word32] = eax_292;
						Mem297[fp - 0x28 + 0x00:word32] = searchAnchor(dwArg00, dwArg04);
					}
					if (Mem199[fp - 0x28 + 0x00:word32] == 0x00)
					{
						Mem271[fp - 116 + 0x00:word32] = 0x00;
						word32 eax_272 = Mem271[fp + 0x08:word32];
						Mem273[fp - 0x78 + 0x00:word32] = eax_272;
						Mem274[fp - 0x7C + 0x00:word32] = 0x080C85A9;
						Strnew_m_charp(eax_272, dwArg00);
						Mem276[fp - 44 + 0x00:word32] = Mem274[eax_272 + 0x00:word32];
						word32 eax_278 = Mem276[Mem276[0x08180718:word32] + 0x08:word32];
						Mem280[fp - 0x78 + 0x00:word32] = Mem276[fp - 44 + 0x00:word32];
						Mem281[fp - 0x7C + 0x00:word32] = eax_278;
						Mem283[fp - 0x28 + 0x00:word32] = searchURLLabel(dwArg00, dwArg04);
					}
					if (Mem199[fp - 0x28 + 0x00:word32] != 0x00)
					{
						word32 eax_228 = Mem199[Mem199[0x08180718:word32] + 0x08:word32];
						Mem229[fp - 0x78 + 0x00:word32] = Mem199[Mem199[fp - 0x28 + 0x00:word32] + 0x14:word32];
						Mem230[fp - 0x7C + 0x00:word32] = eax_228;
						gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
						if (Mem230[0x0817C2C0:word32] != 0x00)
						{
							word32 ebx_247 = Mem230[Mem230[0x08180718:word32] + 0x08:word32];
							word32 ecx_257 = Mem230[Mem230[Mem230[Mem230[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x1C:word32] - Mem230[Mem230[Mem230[Mem230[0x08180718:word32] + 0x08:word32] + 0x0C:word32] + 0x1C:word32];
							word32 edx_261 = Mem230[Mem230[Mem230[0x08180718:word32] + 0x08:word32] + 0x0C:word32];
							word32 eax_263 = Mem230[Mem230[0x08180718:word32] + 0x08:word32];
							Mem264[fp - 0x70 + 0x00:word32] = 0x00;
							Mem265[fp - 116 + 0x00:word32] = ecx_257;
							Mem266[fp - 0x78 + 0x00:word32] = edx_261;
							Mem267[fp - 0x7C + 0x00:word32] = eax_263;
							Mem270[ebx_247 + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
						}
						Mem242[Mem230[Mem230[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem230[Mem230[fp - 0x28 + 0x00:word32] + 0x18:word32];
						Mem245[fp - 0x7C + 0x00:word32] = Mem242[Mem242[0x08180718:word32] + 0x08:word32];
						arrangeCursor(fp - 0x04, gs, dwArg00);
					}
					word32 eax_219 = Mem199[Mem199[0x08180718:word32] + 0x08:word32];
					Mem220[fp - 0x78 + 0x00:word32] = 0x00;
					Mem221[fp - 0x7C + 0x00:word32] = eax_219;
					real64 rArg0_222;
					displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_222);
				}
			}
			return;
		}
	}
	Mem129[fp - 0x78 + 0x00:word32] = 0x01;
	Mem131[fp - 0x7C + 0x00:word32] = Mem129[fp - 0x10 + 0x00:word32];
	loadNormalBuf(gs, dwArg00);
}

// 080515BC: void gotoLabel(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void gotoLabel(word32 ebp, selector gs, word32 dwArg04)
{
	if (searchURLLabel(Mem0[Mem0[0x08180718:word32] + 0x08:word32], dwArg04) == 0x00)
	{
		byte bpl_44;
		word32 eax_46 = Mem0[Sprintf(0x080C85AB, out bpl_44) + 0x00:word32];
		Mem47[fp - 0x28 + 0x00:word32] = 0x01;
		Mem48[fp - 44 + 0x00:word32] = eax_46;
		disp_message(gs, dwArg00, dwArg04);
	}
	else
	{
		word32 eax_63 = (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x30:word16];
		word32 eax_65 = newBuffer(eax_63, eax_63);
		copyBuffer(eax_65, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		word32 dwLoc18_160 = 0x04;
		while (dwLoc18_160 <= 0x00)
		{
			(eax_65 + 0x0C)[(dwLoc18_160 + 0x00) * 0x04] = 0x00;
			dwLoc18_160 = dwLoc18_160 + 0x01;
		}
		Mem83[eax_65 + 0xA4:word32] = allocStr(dwArg04, ~0x00);
		byte bpl_88;
		word32 edx_90 = Mem83[parsedURL2Str(eax_65 + 0x84, out bpl_88) + 0x00:word32];
		word32 eax_91 = Mem83[0x08180668:word32];
		Mem92[fp - 0x28 + 0x00:word32] = edx_90;
		Mem93[fp - 44 + 0x00:word32] = eax_91;
		pushHashHist(dwArg00, dwArg04);
		word32 eax_95 = Mem93[Mem93[fp - 0x10 + 0x00:word32] + 0xC4:word32];
		Mem99[eax_95 + 0x00:word32] = Mem93[eax_95 + 0x00:word32] + 0x01;
		Mem101[fp - 44 + 0x00:word32] = Mem99[fp - 0x10 + 0x00:word32];
		pushBuffer(fp - 0x04, gs);
		word32 eax_105 = Mem101[Mem101[0x08180718:word32] + 0x08:word32];
		Mem106[fp - 0x28 + 0x00:word32] = Mem101[Mem101[fp - 0x14 + 0x00:word32] + 0x14:word32];
		Mem107[fp - 44 + 0x00:word32] = eax_105;
		gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
		if (Mem107[0x0817C2C0:word32] != 0x00)
		{
			word32 ebx_130 = Mem107[Mem107[0x08180718:word32] + 0x08:word32];
			word32 ecx_140 = Mem107[Mem107[Mem107[Mem107[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x1C:word32] - Mem107[Mem107[Mem107[Mem107[0x08180718:word32] + 0x08:word32] + 0x0C:word32] + 0x1C:word32];
			word32 edx_144 = Mem107[Mem107[Mem107[0x08180718:word32] + 0x08:word32] + 0x0C:word32];
			word32 eax_146 = Mem107[Mem107[0x08180718:word32] + 0x08:word32];
			Mem147[fp - 0x20 + 0x00:word32] = 0x00;
			Mem148[fp - 0x24 + 0x00:word32] = ecx_140;
			Mem149[fp - 0x28 + 0x00:word32] = edx_144;
			Mem150[fp - 44 + 0x00:word32] = eax_146;
			Mem154[ebx_130 + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		}
		Mem119[Mem107[Mem107[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem107[Mem107[fp - 0x14 + 0x00:word32] + 0x18:word32];
		Mem122[fp - 44 + 0x00:word32] = Mem119[Mem119[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		word32 eax_124 = Mem122[Mem122[0x08180718:word32] + 0x08:word32];
		Mem125[fp - 0x28 + 0x00:word32] = 0x01;
		Mem126[fp - 44 + 0x00:word32] = eax_124;
		real64 rArg0_127;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_127);
	}
}

// 08051773: void followA(Register word32 ebp, Register selector gs)
void followA(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] == 0x00)
		return;
	word32 eax_52 = retrieveCurrentImg(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	if (eax_52 != 0x00 && (Mem0[eax_52 + 0x38:word32] != 0x00 && Mem0[Mem0[eax_52 + 0x38:word32] + 0x14:word32] != 0x00))
	{
		word32 ebp_339;
		_followForm(gs, out ebp_339);
		return;
	}
	if (eax_52 != 0x00 && (Mem0[eax_52 + 0x38:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[eax_52 + 0x38:word32] + 0x18:byte]) != 0x00))
		getMapXY(Mem0[Mem0[0x08180718:word32] + 0x08:word32], eax_52, fp - 0x18, fp - 0x1C);
	word32 eax_77 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	if (eax_77 == 0x00)
	{
		word32 ebp_83;
		_followForm(gs, out ebp_83);
		return;
	}
	byte al_90 = (byte) (word32) Mem0[Mem0[eax_77 + 0x00:word32] + 0x00:byte];
	if (al_90 == 0x23)
	{
		gotoLabel(fp - 0x04, gs, Mem0[eax_77 + 0x00:word32] + 0x01);
		return;
	}
	parseURL2(fp - 0x04, Mem0[eax_77 + 0x00:word32], fp - 0x54, baseURL(Mem0[Mem0[0x08180718:word32] + 0x08:word32]));
	Mem112[fp - 0x6C + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x84;
	byte bpl_114;
	word32 ebx_116 = Mem112[parsedURL2Str(dwArg00, out bpl_114) + 0x00:word32];
	Mem118[fp - 0x6C + 0x00:word32] = fp - 0x54;
	byte bpl_119;
	word32 eax_121 = Mem118[parsedURL2Str(dwArg00, out bpl_119) + 0x00:word32];
	Mem122[fp - 0x68 + 0x00:word32] = ebx_116;
	Mem123[fp - 0x6C + 0x00:word32] = eax_121;
	if (strcmp(Mem123[fp - 0x6C + 0x00:(ptr char)], Mem123[fp - 0x68 + 0x00:(ptr char)]) == 0x00 && Mem123[(fp - 0x34) + 0x00:word32] != 0x00)
	{
		Mem303[fp - 0x6C + 0x00:word32] = Mem123[fp - 0x34 + 0x00:word32];
		gotoLabel(fp - 0x04, gs, dwArg00);
		return;
	}
	word32 eax_129 = Mem123[Mem123[fp - 0x14 + 0x00:word32] + 0x00:word32];
	Mem130[fp - 100 + 0x00:word32] = 0x07;
	Mem131[fp - 0x68 + 0x00:word32] = 0x080C85BB;
	Mem132[fp - 0x6C + 0x00:word32] = eax_129;
	if (strncasecmp(Mem132[fp - 0x6C + 0x00:(ptr char)], Mem132[fp - 0x68 + 0x00:(ptr char)], Mem132[fp - 100 + 0x00:int32]) == 0x00)
	{
		Mem241[fp - 0x6C + 0x00:word32] = Mem132[135774944:word32];
		if (non_null(dwArg00) != 0x00)
		{
			word32 eax_247 = Mem241[Mem241[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem248[fp - 0x68 + 0x00:word32] = 0x3F;
			Mem249[fp - 0x6C + 0x00:word32] = eax_247;
			if (strchr(Mem249[fp - 0x6C + 0x00:(ptr char)], Mem249[fp - 0x68 + 0x00:char]) == 0x00)
			{
				word32 eax_255 = Mem249[Mem249[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem258[fp - 0x6C + 0x00:word32] = eax_255 + 0x07;
				Strnew_charp(eax_255 + 0x07, dwArg00);
				Mem259[fp - 0x28 + 0x00:word32] = eax_255 + 0x07;
				fmTerm(gs);
				Mem262[fp - 0x6C + 0x00:word32] = Mem259[Mem259[fp - 0x28 + 0x00:word32] + 0x00:word32];
				Mem264[fp - 0x6C + 0x00:word32] = file_unquote(dwArg00);
				word32 eax_265 = shell_quote(dwArg00);
				word32 edx_266 = Mem264[135774944:word32];
				Mem267[fp - 100 + 0x00:word32] = 0x00;
				Mem268[fp - 0x68 + 0x00:word32] = eax_265;
				Mem269[fp - 0x6C + 0x00:word32] = edx_266;
				word32 eax_272 = Mem269[myExtCommand(dwArg00, dwArg04, dwArg08) + 0x00:word32];
				Mem273[fp - 0x6C + 0x00:word32] = eax_272;
				word32 esp_274;
				word32 ebp_275;
				word32 ebx_276;
				byte SCZO_277;
				word32 eax_278;
				byte SZO_279;
				byte C_280;
				byte Z_281;
				byte al_282;
				word32 edx_283;
				word32 ecx_284;
				selector gs_285;
				byte bpl_286;
				!system();
				fmInit(gs_285);
				word32 eax_288 = Mem273[Mem273[0x08180718:word32] + 0x08:word32];
				Mem289[esp_274 + 0x04:word32] = 0x01;
				Mem290[esp_274 + 0x00:word32] = eax_288;
				real64 rArg0_291;
				displayBuffer(ebp_275, gs_285, dwArg00, dwArg04, rArg0, out rArg0_291);
				word32 eax_295 = Mem290[0x08180668:word32];
				Mem296[esp_274 + 0x04:word32] = Mem290[Mem290[ebp_275 - 0x10 + 0x00:word32] + 0x00:word32];
				Mem297[esp_274 + 0x00:word32] = eax_295;
				pushHashHist(dwArg00, dwArg04);
				return;
			}
		}
	}
	Mem141[fp - 0x24 + 0x00:word32] = Mem132[Mem132[fp - 0x14 + 0x00:word32] + 0x00:word32];
	if (Mem141[fp - 0x20 + 0x00:word32] != 0x00)
	{
		word32 edx_229 = Mem141[fp - 0x18 + 0x00:word32];
		word32 eax_231 = Mem141[Mem141[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem232[fp - 0x60 + 0x00:word32] = Mem141[fp - 0x1C + 0x00:word32];
		Mem233[fp - 100 + 0x00:word32] = edx_229;
		Mem234[fp - 0x68 + 0x00:word32] = eax_231;
		Mem235[fp - 0x6C + 0x00:word32] = 0x080C85C3;
		byte bpl_236;
		Mem239[fp - 0x24 + 0x00:word32] = Mem235[Sprintf(dwArg00, out bpl_236) + 0x00:word32];
	}
	if (Mem141[0x080D53CC:word32] != 0x00 && (Mem141[0x0817C288:word32] != 0x00 && Mem141[Mem141[(fp - 0x14) + 0x00:word32] + 0x04:word32] != 0x00))
	{
		word32 eax_181 = Mem141[Mem141[fp - 0x14 + 0x00:word32] + 0x04:word32];
		Mem182[fp - 0x68 + 0x00:word32] = 0x080C85CC;
		Mem183[fp - 0x6C + 0x00:word32] = eax_181;
		word32 eax_184 = strcasecmp(Mem183[fp - 0x6C + 0x00:(ptr char)], Mem183[fp - 0x68 + 0x00:(ptr char)]);
		if (eax_184 == 0x00)
		{
l08051A6B:
			_newT(eax_184);
			Mem195[fp - 44 + 0x00:word32] = Mem183[Mem183[0x08180718:word32] + 0x08:word32];
			word32 edx_197 = Mem195[Mem195[fp - 0x14 + 0x00:word32] + 0x08:word32];
			word32 eax_199 = Mem195[Mem195[fp - 0x14 + 0x00:word32] + 0x04:word32];
			Mem200[fp - 0x60 + 0x00:word32] = 0x00;
			Mem201[fp - 100 + 0x00:word32] = edx_197;
			Mem202[fp - 0x68 + 0x00:word32] = eax_199;
			Mem204[fp - 0x6C + 0x00:word32] = Mem202[fp - 0x24 + 0x00:word32];
			loadLink(fp - 0x04, gs, dwArg00);
			if (Mem204[Mem204[0x08180718:word32] + 0x08:word32] != Mem204[(fp - 44) + 0x00:word32])
			{
				Mem216[fp - 0x6C + 0x00:word32] = Mem204[fp - 44 + 0x00:word32];
				delBuffer(gs, dwArg00);
			}
			else
			{
				Mem218[fp - 0x6C + 0x00:word32] = Mem204[0x08180718:word32];
				deleteTab(fp - 0x04, gs, dwArg00);
			}
			word32 eax_210 = Mem204[Mem204[0x08180718:word32] + 0x08:word32];
			Mem211[fp - 0x68 + 0x00:word32] = 0x01;
			Mem212[fp - 0x6C + 0x00:word32] = eax_210;
			real64 rArg0_213;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_213);
			return;
		}
		word32 eax_220 = Mem183[Mem183[fp - 0x14 + 0x00:word32] + 0x04:word32];
		Mem221[fp - 0x68 + 0x00:word32] = 0x080C85D1;
		Mem222[fp - 0x6C + 0x00:word32] = eax_220;
		eax_184 = strcasecmp(Mem222[fp - 0x6C + 0x00:(ptr char)], Mem222[fp - 0x68 + 0x00:(ptr char)]);
		if (eax_184 == 0x00)
			goto l08051A6B;
	}
	word32 edx_156 = Mem141[Mem141[fp - 0x14 + 0x00:word32] + 0x08:word32];
	word32 eax_158 = Mem141[Mem141[fp - 0x14 + 0x00:word32] + 0x04:word32];
	Mem159[fp - 0x60 + 0x00:word32] = 0x00;
	Mem160[fp - 100 + 0x00:word32] = edx_156;
	Mem161[fp - 0x68 + 0x00:word32] = eax_158;
	Mem163[fp - 0x6C + 0x00:word32] = Mem161[fp - 0x24 + 0x00:word32];
	loadLink(fp - 0x04, gs, dwArg00);
	word32 eax_165 = Mem163[Mem163[0x08180718:word32] + 0x08:word32];
	Mem166[fp - 0x68 + 0x00:word32] = 0x00;
	Mem167[fp - 0x6C + 0x00:word32] = eax_165;
	real64 rArg0_169;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_169);
}

// 08051B2B: void bufferA(Register selector gs)
void bufferA(selector gs)
{
	Mem8[0x080D53C8:word32] = 0x00;
	followA(fp - 0x04, gs);
	Mem10[0x080D53C8:word32] = 0x01;
}

// 08051B4C: void followI(Register word32 ebp, Register selector gs)
void followI(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && retrieveCurrentImg(Mem0[Mem0[0x08180718:word32] + 0x08:word32]) != 0x00)
	{
		byte bpl_43;
		word32 eax_45 = Mem0[Sprintf(0x080C858B, out bpl_43) + 0x00:word32];
		Mem46[fp - 0x34 + 0x00:word32] = 0x00;
		Mem47[fp - 0x38 + 0x00:word32] = 0x00;
		Mem48[fp - 0x3C + 0x00:word32] = eax_45;
		message(dwArg00, dwArg04, dwArg08);
		refresh(fp - 0x04);
		Mem55[fp - 0x3C + 0x00:word32] = Mem48[Mem48[0x08180718:word32] + 0x08:word32];
		word32 eax_56 = baseURL(dwArg00);
		word32 edx_58 = Mem55[Mem55[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem59[fp - 44 + 0x00:word32] = 0x00;
		Mem60[fp - 0x30 + 0x00:word32] = 0x00;
		Mem61[fp - 0x34 + 0x00:word32] = 0x00;
		Mem62[fp - 0x38 + 0x00:word32] = eax_56;
		Mem63[fp - 0x3C + 0x00:word32] = edx_58;
		Mem66[fp - 0x18 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
		if (Mem66[fp - 0x18 + 0x00:word32] == 0x00)
		{
			Mem81[fp - 0x38 + 0x00:word32] = Mem66[Mem66[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem82[fp - 0x3C + 0x00:word32] = 135038358;
			byte bpl_83;
			Mem86[fp - 0x1C + 0x00:word32] = Mem82[Sprintf(dwArg00, out bpl_83) + 0x00:word32];
			Mem87[fp - 0x38 + 0x00:word32] = 0x00;
			Mem89[fp - 0x3C + 0x00:word32] = Mem87[fp - 0x1C + 0x00:word32];
			byte bpl_90;
			disp_err_message(gs, dwArg00, dwArg04, out bpl_90);
		}
		else if (Mem66[fp - 0x18 + 0x00:word32] != 0x01)
		{
			Mem95[fp - 0x3C + 0x00:word32] = Mem66[fp - 0x18 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
		}
		word32 eax_73 = Mem66[Mem66[0x08180718:word32] + 0x08:word32];
		Mem74[fp - 0x38 + 0x00:word32] = 0x00;
		Mem75[fp - 0x3C + 0x00:word32] = eax_73;
		real64 rArg0_77;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_77);
	}
}

// 08051C66: void save_submit_formlist(Stack word32 dwArg04)
void save_submit_formlist(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_43 = Mem0[dwArg04 + 0x40:word32];
		word32 esp_46;
		word32 ebp_47;
		byte SCZO_48;
		byte Z_49;
		word32 eax_50;
		word32 edx_51;
		byte SZO_52;
		byte C_53;
		!GC_malloc();
		Mem58[eax_50 + 0x08:word32] = Mem0[eax_43 + 0x08:word32];
		Mem64[eax_50 + 0x0C:word32] = Strdup(Mem58[eax_43 + 0x0C:word32]);
		Mem68[eax_50 + 0x18:word32] = Mem64[eax_43 + 0x18:word32];
		Mem72[eax_50 + 0x1C:word32] = Mem68[eax_43 + 0x1C:word32];
		Mem76[eax_50 + 0x24:word32] = Mem72[eax_43 + 0x24:word32];
		Mem80[eax_50 + 0x28:word32] = Mem76[eax_43 + 0x28:word32];
		Mem84[eax_50 + 44:word32] = Mem80[eax_43 + 44:word32];
		Mem88[eax_50 + 0x30:word32] = Mem84[eax_43 + 0x30:word32];
		word32 dwLoc18_101 = Mem88[eax_43 + 0x00:word32];
		while (dwLoc18_101 != 0x00)
		{
			word32 esp_109;
			word32 ebp_110;
			byte SCZO_111;
			byte Z_112;
			word32 eax_113;
			word32 edx_114;
			byte SZO_115;
			byte C_116;
			!GC_malloc();
			Mem121[eax_113 + 0x00:word32] = Mem88[dwLoc18_101 + 0x00:word32];
			Mem127[eax_113 + 0x04:word32] = Strdup(Mem121[dwLoc18_101 + 0x04:word32]);
			Mem133[eax_113 + 0x08:word32] = Strdup(Mem127[dwLoc18_101 + 0x08:word32]);
			Mem137[eax_113 + 0x10:word32] = Mem133[dwLoc18_101 + 0x10:word32];
			Mem141[eax_113 + 0x18:word32] = Mem137[dwLoc18_101 + 0x18:word32];
			Mem145[eax_113 + 0x1C:word32] = Mem141[dwLoc18_101 + 0x1C:word32];
			Mem149[eax_113 + 0x20:word32] = Mem145[dwLoc18_101 + 0x20:word32];
			Mem153[eax_113 + 0x24:word32] = Mem149[dwLoc18_101 + 0x24:word32];
			Mem157[eax_113 + 0x28:word32] = Mem153[dwLoc18_101 + 0x28:word32];
			word32 dwLoc28_158 = 0x00;
			word32 dwLoc24_160 = 0x00;
			word32 dwLoc2C_163 = Mem157[dwLoc18_101 + 44:word32];
			while (dwLoc2C_163 != 0x00)
			{
				word32 eax_226 = Mem157[dwLoc2C_163 + 0x08:word32];
				if (eax_226 != 0x00)
				{
					word32 esp_244;
					word32 ebp_245;
					byte SCZO_246;
					byte Z_247;
					word32 eax_248;
					word32 edx_249;
					byte SZO_250;
					byte C_251;
					!GC_malloc();
					Mem258[eax_248 + 0x00:word32] = Strdup(Mem157[dwLoc2C_163 + 0x00:word32]);
					Mem264[eax_248 + 0x04:word32] = Strdup(Mem258[dwLoc2C_163 + 0x04:word32]);
					Mem268[eax_248 + 0x08:word32] = Mem264[dwLoc2C_163 + 0x08:word32];
					dwLoc24_160 = eax_248;
					if (Mem268[eax_113 + 44:word32] == 0x00)
					{
						Mem278[eax_113 + 44:word32] = eax_248;
						dwLoc28_158 = eax_248;
					}
					else
					{
						Mem281[dwLoc28_158 + 0x0C:word32] = eax_248;
						dwLoc28_158 = Mem281[dwLoc28_158 + 0x0C:word32];
					}
				}
				dwLoc2C_163 = Mem157[dwLoc2C_163 + 0x0C:word32];
			}
			Mem178[eax_113 + 44:word32] = dwLoc24_160;
			if (Mem178[dwLoc18_101 + 0x30:word32] != 0x00)
				Mem224[eax_113 + 0x30:word32] = Strdup(Mem178[dwLoc18_101 + 0x30:word32]);
			Mem187[eax_113 + 0x40:word32] = eax_50;
			Mem189[eax_113 + 0x44:word32] = 0x00;
			if (Mem189[eax_50 + 0x04:word32] == 0x00)
			{
				Mem207[eax_50 + 0x04:word32] = eax_113;
				Mem211[eax_50 + 0x00:word32] = Mem207[eax_50 + 0x04:word32];
			}
			else
			{
				Mem215[Mem189[eax_50 + 0x04:word32] + 0x44:word32] = eax_113;
				Mem218[eax_50 + 0x04:word32] = eax_113;
			}
			dwLoc18_101 = Mem189[dwLoc18_101 + 0x44:word32];
		}
	}
}

// 08051ED7: Register word32 conv_form_encoding(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 ebxOut)
word32 conv_form_encoding(word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & ebxOut)
{
	word32 dwLoc10_21 = Mem0[0x080D5378:word32];
	if (Mem0[Mem0[dwArg08 + 0x40:word32] + 0x18:word32] != 0x00)
		dwLoc10_21 = Mem0[Mem0[dwArg08 + 0x40:word32] + 0x18:word32];
	else if (Mem0[dwArg0C + 0xD0:word32] != 0x00 && Mem0[dwArg0C + 0xD0:word32] != 0x0100)
		dwLoc10_21 = Mem0[dwArg0C + 0xD0:word32];
	word32 ebx_29;
	return wc_Str_conv_strict(dwArg04, Mem0[135091052:word32], dwLoc10_21, out ebx_29);
}

// 08051F46: void query_from_followform(Register word32 eax, Register word32 ebp, Stack word32 dwArg0C)
void query_from_followform(word32 eax, word32 ebp, word32 dwArg0C)
{
	if (dwArg0C != 0x00)
	{
		byte bpl_585;
		Mem588[Mem0[fp + 0x04:word32] + 0x00:word32] = tmpfname(fp - 0x04, 0x00, 0x00, out bpl_585);
		word32 eax_592 = Mem588[Mem588[Mem588[fp + 0x04:word32] + 0x00:word32] + 0x00:word32];
		Mem593[fp - 0x38 + 0x00:word32] = 0x080C83CA;
		Mem594[fp - 0x3C + 0x00:word32] = eax_592;
		Mem596[fp - 0x14 + 0x00:word32] = fopen(Mem594[fp - 0x3C + 0x00:(ptr char)], Mem594[fp - 0x38 + 0x00:(ptr char)]);
		if (Mem596[fp - 0x14 + 0x00:word32] == 0x00)
			return;
		Mem604[Mem596[Mem596[fp + 0x08:word32] + 0x40:word32] + 0x28:word32] = Mem596[Mem596[Mem596[fp + 0x04:word32] + 0x00:word32] + 0x00:word32];
		word32 ebx_606 = Mem604[Mem604[fp + 0x08:word32] + 0x40:word32];
		word32 ecx_612 = Mem604[Mem604[Mem604[fp + 0x08:word32] + 0x40:word32] + 0x28:word32];
		word32 edx_614 = Mem604[Mem604[fp + 0x08:word32] + 0x40:word32];
		word32 eax_615 = Mem604[0x0818072C:word32];
		Mem616[fp - 44 + 0x00:word32] = Mem604[Mem604[Mem604[fp + 0x08:word32] + 0x40:word32] + 44:word32];
		Mem617[fp - 0x30 + 0x00:word32] = ecx_612;
		Mem618[fp - 0x34 + 0x00:word32] = edx_614;
		Mem619[fp - 0x38 + 0x00:word32] = eax_615;
		Mem620[fp - 0x3C + 0x00:word32] = 0x080C85D8;
		byte bpl_621;
		eax = Mem620[Sprintf(dwArg00, out bpl_621) + 0x00:word32];
		Mem625[ebx_606 + 44:word32] = eax;
	}
	Strnew(eax);
	Mem74[Mem0[fp + 0x04:word32] + 0x00:word32] = eax;
	Mem78[fp - 0x10 + 0x00:word32] = Mem74[Mem74[Mem74[fp + 0x08:word32] + 0x40:word32] + 0x00:word32];
	while (Mem78[fp - 0x10 + 0x00:word32] != 0x00)
	{
		if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00 && (Mem78[Mem78[Mem78[(fp - 0x10) + 0x00:word32] + 0x04:word32] + 0x04:word32] != 0x00 || Mem78[fp + 0x0C:word32] == 0x00 && Mem78[Mem78[(fp - 0x10) + 0x00:word32] + 0x00:word32] == 0x00))
		{
			word32 eax_167 = Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x00:word32];
			if (eax_167 <=u 0x07)
			{
				word32 eax_171 = 135038500[eax_167 * 0x04];
				word32 esp_172;
				word32 ebp_173;
				word32 esi_174;
				word32 ebx_175;
				byte SCZO_176;
				byte Z_177;
				word32 edx_178;
				word32 eax_179;
				word32 ecx_180;
				byte SZO_181;
				byte C_182;
				byte CZ_183;
				bcuiposr0 None_184;
				byte al_185;
				byte SO_186;
				byte bpl_187;
				eax_171();
				return;
			}
			if (Mem78[fp + 0x0C:word32] != 0x00)
			{
				if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x00:word32] == 0x07)
				{
					Mem194[fp - 0x1C + 0x00:word32] = 0x00;
					Mem195[fp - 0x18 + 0x00:word32] = 0x00;
					Mem198[fp - 0x3C + 0x00:word32] = Mem195[Mem195[0x08180718:word32] + 0x08:word32];
					word32 eax_199 = retrieveCurrentImg(dwArg00);
					word32 edx_201 = Mem198[Mem198[0x08180718:word32] + 0x08:word32];
					Mem203[fp - 0x30 + 0x00:word32] = fp - 0x18;
					Mem205[fp - 0x34 + 0x00:word32] = fp - 0x1C;
					Mem206[fp - 0x38 + 0x00:word32] = eax_199;
					Mem207[fp - 0x3C + 0x00:word32] = edx_201;
					getMapXY(dwArg00, dwArg04, dwArg08, dwArg0C);
					word32 eax_213 = Mem207[Mem207[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem214[fp - 0x34 + 0x00:word32] = Mem207[Mem207[0x08180718:word32] + 0x08:word32];
					Mem216[fp - 0x38 + 0x00:word32] = Mem214[fp + 0x08:word32];
					Mem217[fp - 0x3C + 0x00:word32] = eax_213;
					word32 ebx_218;
					Mem220[fp - 0x3C + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_218);
					Mem223[Mem220[fp + 0x04:word32] + 0x00:word32] = Strdup(dwArg00);
					word32 eax_225 = Mem223[Mem223[fp + 0x04:word32] + 0x00:word32];
					Mem226[fp - 0x38 + 0x00:word32] = 0x080C8602;
					Mem227[fp - 0x3C + 0x00:word32] = eax_225;
					Strcat_charp(dwArg00, dwArg04);
					Mem229[fp - 0x38 + 0x00:word32] = Mem227[fp - 0x1C + 0x00:word32];
					Mem230[fp - 0x3C + 0x00:word32] = 0x080C8605;
					byte bpl_231;
					word32 ecx_233 = Mem230[Sprintf(dwArg00, out bpl_231) + 0x00:word32];
					word32 edx_236 = Mem230[Mem230[Mem230[fp + 0x04:word32] + 0x00:word32] + 0x00:word32];
					word32 eax_239 = Mem230[Mem230[Mem230[fp + 0x08:word32] + 0x40:word32] + 44:word32];
					Mem240[fp - 0x30 + 0x00:word32] = ecx_233;
					Mem241[fp - 0x34 + 0x00:word32] = edx_236;
					Mem242[fp - 0x38 + 0x00:word32] = eax_239;
					Mem244[fp - 0x3C + 0x00:word32] = Mem242[fp - 0x14 + 0x00:word32];
					form_write_data(dwArg00, dwArg04, dwArg08, dwArg0C);
					word32 eax_248 = Mem244[Mem244[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem249[fp - 0x34 + 0x00:word32] = Mem244[Mem244[0x08180718:word32] + 0x08:word32];
					Mem251[fp - 0x38 + 0x00:word32] = Mem249[fp + 0x08:word32];
					Mem252[fp - 0x3C + 0x00:word32] = eax_248;
					word32 ebx_253;
					Mem255[fp - 0x3C + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_253);
					Mem258[Mem255[fp + 0x04:word32] + 0x00:word32] = Strdup(dwArg00);
					word32 eax_260 = Mem258[Mem258[fp + 0x04:word32] + 0x00:word32];
					Mem261[fp - 0x38 + 0x00:word32] = 0x080C8608;
					Mem262[fp - 0x3C + 0x00:word32] = eax_260;
					Strcat_charp(dwArg00, dwArg04);
					Mem264[fp - 0x38 + 0x00:word32] = Mem262[fp - 0x18 + 0x00:word32];
					Mem265[fp - 0x3C + 0x00:word32] = 0x080C8605;
					byte bpl_266;
					word32 ecx_268 = Mem265[Sprintf(dwArg00, out bpl_266) + 0x00:word32];
					word32 edx_271 = Mem265[Mem265[Mem265[fp + 0x04:word32] + 0x00:word32] + 0x00:word32];
					word32 eax_274 = Mem265[Mem265[Mem265[fp + 0x08:word32] + 0x40:word32] + 44:word32];
					Mem275[fp - 0x30 + 0x00:word32] = ecx_268;
					Mem276[fp - 0x34 + 0x00:word32] = edx_271;
					Mem277[fp - 0x38 + 0x00:word32] = eax_274;
					Mem279[fp - 0x3C + 0x00:word32] = Mem277[fp - 0x14 + 0x00:word32];
					form_write_data(dwArg00, dwArg04, dwArg08, dwArg0C);
				}
				else if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00 && (Mem78[Mem78[Mem78[(fp - 0x10) + 0x00:word32] + 0x04:word32] + 0x04:word32] > 0x00 && Mem78[Mem78[(fp - 0x10) + 0x00:word32] + 0x08:word32] != 0x00))
				{
					word32 eax_298 = Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x08:word32];
					Mem299[fp - 0x34 + 0x00:word32] = Mem78[Mem78[0x08180718:word32] + 0x08:word32];
					Mem301[fp - 0x38 + 0x00:word32] = Mem299[fp + 0x08:word32];
					Mem302[fp - 0x3C + 0x00:word32] = eax_298;
					word32 ebx_303;
					Mem306[Mem302[fp + 0x04:word32] + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_303);
					if (Mem306[Mem306[fp - 0x10 + 0x00:word32] + 0x00:word32] == 11)
					{
						word32 edx_312 = Mem306[135091052:word32];
						word32 eax_314 = Mem306[Mem306[fp - 0x10 + 0x00:word32] + 0x08:word32];
						Mem315[fp - 0x34 + 0x00:word32] = Mem306[0x080D5378:word32];
						Mem316[fp - 0x38 + 0x00:word32] = edx_312;
						Mem317[fp - 0x3C + 0x00:word32] = eax_314;
						word32 ebx_318;
						word32 esi_320 = Mem317[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_318) + 0x00:word32];
						word32 eax_327 = Mem317[Mem317[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem328[fp - 0x34 + 0x00:word32] = Mem317[Mem317[0x08180718:word32] + 0x08:word32];
						Mem330[fp - 0x38 + 0x00:word32] = Mem328[fp + 0x08:word32];
						Mem331[fp - 0x3C + 0x00:word32] = eax_327;
						word32 ebx_332;
						word32 edx_334 = Mem331[conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_332) + 0x00:word32];
						word32 eax_337 = Mem331[Mem331[Mem331[fp + 0x08:word32] + 0x40:word32] + 44:word32];
						Mem338[fp - 44 + 0x00:word32] = esi_320;
						Mem339[fp - 0x30 + 0x00:word32] = ebx_332;
						Mem340[fp - 0x34 + 0x00:word32] = edx_334;
						Mem341[fp - 0x38 + 0x00:word32] = eax_337;
						Mem343[fp - 0x3C + 0x00:word32] = Mem341[fp - 0x14 + 0x00:word32];
						form_write_from_file(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
					}
					else
					{
						word32 eax_351 = Mem306[Mem306[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem352[fp - 0x34 + 0x00:word32] = Mem306[Mem306[0x08180718:word32] + 0x08:word32];
						Mem354[fp - 0x38 + 0x00:word32] = Mem352[fp + 0x08:word32];
						Mem355[fp - 0x3C + 0x00:word32] = eax_351;
						word32 ebx_356;
						word32 edx_358 = Mem355[conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_356) + 0x00:word32];
						word32 eax_361 = Mem355[Mem355[Mem355[fp + 0x08:word32] + 0x40:word32] + 44:word32];
						Mem362[fp - 0x30 + 0x00:word32] = ebx_356;
						Mem363[fp - 0x34 + 0x00:word32] = edx_358;
						Mem364[fp - 0x38 + 0x00:word32] = eax_361;
						Mem366[fp - 0x3C + 0x00:word32] = Mem364[fp - 0x14 + 0x00:word32];
						form_write_data(dwArg00, dwArg04, dwArg08, dwArg0C);
					}
				}
			}
			else
			{
				if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x00:word32] == 0x07)
				{
					Mem414[fp - 0x18 + 0x00:word32] = 0x00;
					Mem415[fp - 0x1C + 0x00:word32] = 0x00;
					Mem418[fp - 0x3C + 0x00:word32] = Mem415[Mem415[0x08180718:word32] + 0x08:word32];
					word32 eax_419 = retrieveCurrentImg(dwArg00);
					word32 edx_421 = Mem418[Mem418[0x08180718:word32] + 0x08:word32];
					Mem423[fp - 0x30 + 0x00:word32] = fp - 0x1C;
					Mem425[fp - 0x34 + 0x00:word32] = fp - 0x18;
					Mem426[fp - 0x38 + 0x00:word32] = eax_419;
					Mem427[fp - 0x3C + 0x00:word32] = edx_421;
					getMapXY(dwArg00, dwArg04, dwArg08, dwArg0C);
					word32 eax_432 = Mem427[Mem427[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem433[fp - 0x34 + 0x00:word32] = Mem427[Mem427[0x08180718:word32] + 0x08:word32];
					Mem435[fp - 0x38 + 0x00:word32] = Mem433[fp + 0x08:word32];
					Mem436[fp - 0x3C + 0x00:word32] = eax_432;
					word32 ebx_437;
					Mem439[fp - 0x3C + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_437);
					word32 eax_440 = Str_form_quote(dwArg00);
					word32 edx_442 = Mem439[Mem439[fp + 0x04:word32] + 0x00:word32];
					Mem443[fp - 0x38 + 0x00:word32] = eax_440;
					Mem444[fp - 0x3C + 0x00:word32] = edx_442;
					Strcat(dwArg00, dwArg04);
					Mem446[fp - 0x38 + 0x00:word32] = Mem444[fp - 0x18 + 0x00:word32];
					Mem447[fp - 0x3C + 0x00:word32] = 0x080C860B;
					byte bpl_448;
					word32 eax_449 = Sprintf(dwArg00, out bpl_448);
					word32 edx_451 = Mem447[Mem447[fp + 0x04:word32] + 0x00:word32];
					Mem452[fp - 0x38 + 0x00:word32] = eax_449;
					Mem453[fp - 0x3C + 0x00:word32] = edx_451;
					Strcat(dwArg00, dwArg04);
					word32 eax_457 = Mem453[Mem453[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem458[fp - 0x34 + 0x00:word32] = Mem453[Mem453[0x08180718:word32] + 0x08:word32];
					Mem460[fp - 0x38 + 0x00:word32] = Mem458[fp + 0x08:word32];
					Mem461[fp - 0x3C + 0x00:word32] = eax_457;
					word32 ebx_462;
					Mem464[fp - 0x3C + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_462);
					word32 eax_465 = Str_form_quote(dwArg00);
					word32 edx_467 = Mem464[Mem464[fp + 0x04:word32] + 0x00:word32];
					Mem468[fp - 0x38 + 0x00:word32] = eax_465;
					Mem469[fp - 0x3C + 0x00:word32] = edx_467;
					Strcat(dwArg00, dwArg04);
					Mem471[fp - 0x38 + 0x00:word32] = Mem469[fp - 0x1C + 0x00:word32];
					Mem472[fp - 0x3C + 0x00:word32] = 0x080C8612;
					byte bpl_473;
					word32 eax_474 = Sprintf(dwArg00, out bpl_473);
					word32 edx_476 = Mem472[Mem472[fp + 0x04:word32] + 0x00:word32];
					Mem477[fp - 0x38 + 0x00:word32] = eax_474;
					Mem478[fp - 0x3C + 0x00:word32] = edx_476;
					Strcat(dwArg00, dwArg04);
				}
				else
				{
					if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00 && Mem78[Mem78[Mem78[(fp - 0x10) + 0x00:word32] + 0x04:word32] + 0x04:word32] > 0x00)
					{
						word32 eax_531 = Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem532[fp - 0x34 + 0x00:word32] = Mem78[Mem78[0x08180718:word32] + 0x08:word32];
						Mem534[fp - 0x38 + 0x00:word32] = Mem532[fp + 0x08:word32];
						Mem535[fp - 0x3C + 0x00:word32] = eax_531;
						word32 ebx_536;
						Mem538[fp - 0x3C + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_536);
						word32 eax_539 = Str_form_quote(dwArg00);
						word32 edx_541 = Mem538[Mem538[fp + 0x04:word32] + 0x00:word32];
						Mem542[fp - 0x38 + 0x00:word32] = eax_539;
						Mem543[fp - 0x3C + 0x00:word32] = edx_541;
						Strcat(dwArg00, dwArg04);
						if (Mem543[Mem543[Mem543[fp + 0x04:word32] + 0x00:word32] + 0x04:word32] + 0x01 >= Mem543[Mem543[Mem543[fp + 0x04:word32] + 0x00:word32] + 0x08:word32])
						{
							Mem575[fp - 0x3C + 0x00:word32] = Mem543[Mem543[fp + 0x04:word32] + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_557 = Mem543[Mem543[fp + 0x04:word32] + 0x00:word32];
						word32 edx_558 = Mem543[eax_557 + 0x04:word32];
						Mem561[Mem543[Mem543[Mem543[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + edx_558:byte] = 0x3D;
						Mem564[eax_557 + 0x04:word32] = edx_558 + 0x01;
						Mem572[Mem564[Mem564[Mem564[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + Mem564[Mem564[Mem564[fp + 0x04:word32] + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
					if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x08:word32] != 0x00)
					{
						if (Mem78[Mem78[Mem78[fp + 0x08:word32] + 0x40:word32] + 0x08:word32] == 0x02)
						{
							Mem501[fp - 0x3C + 0x00:word32] = Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x08:word32];
							word32 eax_502 = Str_form_quote(dwArg00);
							word32 edx_504 = Mem501[Mem501[fp + 0x04:word32] + 0x00:word32];
							Mem505[fp - 0x38 + 0x00:word32] = eax_502;
							Mem506[fp - 0x3C + 0x00:word32] = edx_504;
							Strcat(dwArg00, dwArg04);
						}
						else
						{
							word32 eax_510 = Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x08:word32];
							Mem511[fp - 0x34 + 0x00:word32] = Mem78[Mem78[0x08180718:word32] + 0x08:word32];
							Mem513[fp - 0x38 + 0x00:word32] = Mem511[fp + 0x08:word32];
							Mem514[fp - 0x3C + 0x00:word32] = eax_510;
							word32 ebx_515;
							Mem517[fp - 0x3C + 0x00:word32] = conv_form_encoding(dwArg00, dwArg04, dwArg08, out ebx_515);
							word32 eax_518 = Str_form_quote(dwArg00);
							word32 edx_520 = Mem517[Mem517[fp + 0x04:word32] + 0x00:word32];
							Mem521[fp - 0x38 + 0x00:word32] = eax_518;
							Mem522[fp - 0x3C + 0x00:word32] = edx_520;
							Strcat(dwArg00, dwArg04);
						}
					}
				}
				if (Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x44:word32] != 0x00)
				{
					if (Mem78[Mem78[Mem78[fp + 0x04:word32] + 0x00:word32] + 0x04:word32] + 0x01 >= Mem78[Mem78[Mem78[fp + 0x04:word32] + 0x00:word32] + 0x08:word32])
					{
						Mem413[fp - 0x3C + 0x00:word32] = Mem78[Mem78[fp + 0x04:word32] + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_395 = Mem78[Mem78[fp + 0x04:word32] + 0x00:word32];
					word32 edx_396 = Mem78[eax_395 + 0x04:word32];
					Mem399[Mem78[Mem78[Mem78[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + edx_396:byte] = 0x26;
					Mem402[eax_395 + 0x04:word32] = edx_396 + 0x01;
					Mem410[Mem402[Mem402[Mem402[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + Mem402[Mem402[Mem402[fp + 0x04:word32] + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
			}
		}
		Mem156[fp - 0x10 + 0x00:word32] = Mem78[Mem78[fp - 0x10 + 0x00:word32] + 0x44:word32];
	}
	if (Mem78[fp + 0x0C:word32] != 0x00)
	{
		Mem102[fp - 0x34 + 0x00:word32] = Mem78[Mem78[Mem78[fp + 0x08:word32] + 0x40:word32] + 44:word32];
		Mem103[fp - 0x38 + 0x00:word32] = 0x080C8618;
		Mem105[fp - 0x3C + 0x00:word32] = Mem103[fp - 0x14 + 0x00:word32];
		fprintf(Mem105[fp - 0x3C + 0x00:(ptr FILE)], Mem105[fp - 0x38 + 0x00:(ptr char)], Mem105[fp - 0x34 + 0x00:(ptr char)]);
		Mem108[fp - 0x3C + 0x00:word32] = Mem105[fp - 0x14 + 0x00:word32];
		fclose(Mem108[fp - 0x3C + 0x00:(ptr FILE)]);
	}
	else
	{
		while (Mem78[Mem78[Mem78[fp + 0x04:word32] + 0x00:word32] + 0x04:word32] > 0x00 && (byte) ((word32) Mem78[Mem78[Mem78[Mem78[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + (Mem78[Mem78[Mem78[fp + 0x04:word32] + 0x00:word32] + 0x04:word32] - 0x01):byte]) == 0x26)
		{
			word32 eax_132 = Mem78[Mem78[fp + 0x04:word32] + 0x00:word32];
			Mem133[fp - 0x38 + 0x00:word32] = 0x01;
			Mem134[fp - 0x3C + 0x00:word32] = eax_132;
			Strshrink(dwArg00, dwArg04);
		}
	}
}

// 08052630: void submitForm(Register selector gs)
void submitForm(selector gs)
{
	word32 ebp_10;
	_followForm(gs, out ebp_10);
}

// 08052644: void followForm(Register selector gs)
void followForm(selector gs)
{
	word32 ebp_10;
	_followForm(gs, out ebp_10);
}

// 08052658: Register word32 _followForm(Register selector gs, Register out ptr32 ebpOut)
word32 _followForm(selector gs, ptr32 & ebpOut)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_60 = retrieveCurrentForm(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (eax_60 != 0x00)
		{
			word32 eax_68 = Mem0[Mem0[eax_60 + 0x00:word32] + 0x00:word32];
			if (eax_68 <=u 11)
			{
				word32 eax_71 = 0x080C86B4[eax_68 * 0x04];
				word32 esp_73;
				word32 ebp_74;
				word32 ebx_75;
				byte SCZO_76;
				word32 eax_77;
				byte SZO_78;
				byte C_79;
				byte Z_80;
				byte CZ_81;
				bcuiposr0 None_82;
				selector gs_83;
				eax_71();
				return esp_73;
			}
			real64 rArg0_89;
			displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_89);
		}
	}
	word32 ebp_49;
	*ebpOut = Mem0[fp - 0x04 + 0x00:word32];
	return fp;
}

// 08052F9E: void topA(Register word32 ebp, Register selector gs)
void topA(word32 ebp, selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32];
	word32 dwLoc1C_12 = 0x00;
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_10 != 0x00 && Mem0[eax_10 + 0x04:word32] != 0x00))
	{
		if (Mem0[eax_10 + 0x04:word32] < Mem0[135775132:word32])
			dwLoc1C_12 = Mem0[eax_10 + 0x04:word32] - 0x01;
		else if (Mem0[135775132:word32] > 0x00)
			dwLoc1C_12 = Mem0[135775132:word32] - 0x01;
		do
		{
			if (Mem0[eax_10 + 0x04:word32] <= dwLoc1C_12)
				return;
			word32 eax_71 = Mem0[eax_10 + 0x00:word32] + dwLoc1C_12 * 0x0C;
			word32 eax_83 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x60:word32], Mem0[eax_71 + 0x00:word32], Mem0[eax_71 + 0x04:word32]);
			word32 dwLoc18_133 = eax_83;
			if (eax_83 == 0x00)
				dwLoc18_133 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x6C:word32], Mem0[eax_71 + 0x00:word32], Mem0[eax_71 + 0x04:word32]);
			dwLoc1C_12 = dwLoc1C_12 + 0x01;
		} while (dwLoc18_133 == 0x00);
		gotoLine(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[eax_71 + 0x00:word32]);
		Mem109[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32];
		Mem112[fp - 44 + 0x00:word32] = Mem109[Mem109[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		word32 eax_115 = Mem112[Mem112[0x08180718:word32] + 0x08:word32];
		Mem116[fp - 0x28 + 0x00:word32] = 0x00;
		Mem117[fp - 44 + 0x00:word32] = eax_115;
		real64 rArg0_120;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_120);
	}
}

// 08053101: void lastA(Register word32 ebp, Register selector gs)
void lastA(word32 ebp, selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32];
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_10 != 0x00 && Mem0[eax_10 + 0x04:word32] != 0x00))
	{
		word32 dwLoc1C_133;
		if (Mem0[eax_10 + 0x04:word32] <= Mem0[135775132:word32])
			dwLoc1C_133 = 0x00;
		else if (Mem0[135775132:word32] > 0x00)
			dwLoc1C_133 = Mem0[eax_10 + 0x04:word32] - Mem0[135775132:word32];
		else
			dwLoc1C_133 = Mem0[eax_10 + 0x04:word32] - 0x01;
		do
		{
			if (dwLoc1C_133 < 0x00)
				return;
			word32 eax_70 = Mem0[eax_10 + 0x00:word32] + dwLoc1C_133 * 0x0C;
			word32 eax_82 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x60:word32], Mem0[eax_70 + 0x00:word32], Mem0[eax_70 + 0x04:word32]);
			word32 dwLoc18_132 = eax_82;
			if (eax_82 == 0x00)
				dwLoc18_132 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x6C:word32], Mem0[eax_70 + 0x00:word32], Mem0[eax_70 + 0x04:word32]);
			dwLoc1C_133 = dwLoc1C_133 - 0x01;
		} while (dwLoc18_132 == 0x00);
		gotoLine(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[eax_70 + 0x00:word32]);
		Mem108[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32];
		Mem111[fp - 44 + 0x00:word32] = Mem108[Mem108[0x08180718:word32] + 0x08:word32];
		arrangeCursor(fp - 0x04, gs, dwArg00);
		word32 eax_114 = Mem111[Mem111[0x08180718:word32] + 0x08:word32];
		Mem115[fp - 0x28 + 0x00:word32] = 0x00;
		Mem116[fp - 44 + 0x00:word32] = eax_114;
		real64 rArg0_119;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_119);
	}
}

// 0805326A: void nextA(Register selector gs)
void nextA(selector gs)
{
	_nextA(fp - 0x04, gs, 0x00);
}

// 0805327E: void prevA(Register selector gs)
void prevA(selector gs)
{
	_prevA(fp - 0x04, gs, 0x00);
}

// 08053292: void nextVA(Register selector gs)
void nextVA(selector gs)
{
	_nextA(fp - 0x04, gs, 0x01);
}

// 080532A6: void prevVA(Register selector gs)
void prevVA(selector gs)
{
	_prevA(fp - 0x04, gs, 0x01);
}

// 080532BA: void _nextA(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void _nextA(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_12 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32];
	searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_12 != 0x00 && Mem0[eax_12 + 0x04:word32] != 0x00))
	{
		word32 eax_52 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (dwArg04 != 0x01 && eax_52 == 0x00)
			retrieveCurrentForm(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		while (Mem0[fp - 0x20 + 0x00:word32] < Mem0[(fp - 44) + 0x00:word32])
		{
			Mem143[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
			if (Mem143[fp - 0x18 + 0x00:word32] != 0x00 && Mem143[Mem143[(fp - 0x18) + 0x00:word32] + 44:word32] >= 0x00)
			{
				Mem234[fp - 0x30 + 0x00:word32] = Mem143[Mem143[fp - 0x18 + 0x00:word32] + 44:word32] + 0x01;
				do
				{
					if (Mem234[Mem234[fp - 0x10 + 0x00:word32] + 0x04:word32] <= Mem234[(fp - 0x30) + 0x00:word32])
					{
						if (Mem234[fp + 0x04:word32] == 0x01)
							return;
						Mem247[fp - 0x18 + 0x00:word32] = Mem234[fp - 0x1C + 0x00:word32];
						goto l0805359C;
					}
					Mem257[fp - 0x14 + 0x00:word32] = Mem234[Mem234[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem234[(fp - 0x30) + 0x00:word32] * 0x0C;
					word32 edx_261 = Mem257[Mem257[fp - 0x14 + 0x00:word32] + 0x00:word32];
					word32 eax_264 = Mem257[Mem257[Mem257[0x08180718:word32] + 0x08:word32] + 0x60:word32];
					Mem265[fp - 100 + 0x00:word32] = Mem257[Mem257[fp - 0x14 + 0x00:word32] + 0x04:word32];
					Mem266[fp - 0x68 + 0x00:word32] = edx_261;
					Mem267[fp - 0x6C + 0x00:word32] = eax_264;
					Mem269[fp - 0x18 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
					if (Mem269[fp + 0x04:word32] != 0x01 && Mem269[(fp - 0x18) + 0x00:word32] == 0x00)
					{
						word32 edx_318 = Mem269[Mem269[fp - 0x14 + 0x00:word32] + 0x00:word32];
						word32 eax_321 = Mem269[Mem269[Mem269[0x08180718:word32] + 0x08:word32] + 0x6C:word32];
						Mem322[fp - 100 + 0x00:word32] = Mem269[Mem269[fp - 0x14 + 0x00:word32] + 0x04:word32];
						Mem323[fp - 0x68 + 0x00:word32] = edx_318;
						Mem324[fp - 0x6C + 0x00:word32] = eax_321;
						Mem326[fp - 0x18 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
					}
					Mem276[fp - 0x30 + 0x00:word32] = Mem269[fp - 0x30 + 0x00:word32] + 0x01;
					if (Mem276[fp + 0x04:word32] == 0x01 && Mem276[(fp - 0x18) + 0x00:word32] != 0x00)
					{
						Mem293[fp - 0x6C + 0x00:word32] = Mem276[Mem276[0x08180718:word32] + 0x08:word32];
						word32 eax_294 = baseURL(dwArg00);
						word32 edx_296 = Mem293[Mem293[fp - 0x18 + 0x00:word32] + 0x00:word32];
						Mem297[fp - 100 + 0x00:word32] = eax_294;
						Mem299[fp - 0x68 + 0x00:word32] = fp - 88;
						Mem300[fp - 0x6C + 0x00:word32] = edx_296;
						parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
						Mem302[fp - 0x6C + 0x00:word32] = fp - 88;
						byte bpl_303;
						word32 edx_305 = Mem302[parsedURL2Str(dwArg00, out bpl_303) + 0x00:word32];
						word32 eax_306 = Mem302[0x08180668:word32];
						Mem307[fp - 0x68 + 0x00:word32] = edx_305;
						Mem308[fp - 0x6C + 0x00:word32] = eax_306;
						if (getHashHist(dwArg00, dwArg04) != 0x00)
							goto l0805359C;
					}
				} while (Mem276[fp - 0x18 + 0x00:word32] == 0x00 || Mem276[(fp - 0x18) + 0x00:word32] == Mem276[(fp - 0x1C) + 0x00:word32]);
			}
			else
			{
				word32 eax_162 = Mem143[Mem143[Mem143[0x08180718:word32] + 0x08:word32] + 0x60:word32];
				Mem164[fp - 0x60 + 0x00:word32] = Mem143[fp - 0x28 + 0x00:word32];
				Mem166[fp - 100 + 0x00:word32] = Mem164[fp - 0x24 + 0x00:word32];
				Mem167[fp - 0x68 + 0x00:word32] = 0x00;
				Mem168[fp - 0x6C + 0x00:word32] = eax_162;
				Mem172[fp - 0x18 + 0x00:word32] = closest_next_anchor(dwArg00, dwArg04, dwArg08, dwArg0C);
				if (Mem172[fp + 0x04:word32] != 0x01)
				{
					word32 eax_215 = Mem172[Mem172[Mem172[0x08180718:word32] + 0x08:word32] + 0x6C:word32];
					Mem217[fp - 0x60 + 0x00:word32] = Mem172[fp - 0x28 + 0x00:word32];
					Mem219[fp - 100 + 0x00:word32] = Mem217[fp - 0x24 + 0x00:word32];
					Mem221[fp - 0x68 + 0x00:word32] = Mem219[fp - 0x18 + 0x00:word32];
					Mem222[fp - 0x6C + 0x00:word32] = eax_215;
					Mem224[fp - 0x18 + 0x00:word32] = closest_next_anchor(dwArg00, dwArg04, dwArg08, dwArg0C);
				}
				if (Mem172[fp - 0x18 + 0x00:word32] == 0x00)
				{
					if (Mem172[fp + 0x04:word32] == 0x01)
						return;
					Mem182[fp - 0x18 + 0x00:word32] = Mem172[fp - 0x1C + 0x00:word32];
					break;
				}
				Mem185[fp - 0x24 + 0x00:word32] = Mem172[Mem172[fp - 0x18 + 0x00:word32] + 0x18:word32];
				Mem188[fp - 0x28 + 0x00:word32] = Mem185[Mem185[fp - 0x18 + 0x00:word32] + 0x14:word32];
				if (Mem188[fp + 0x04:word32] == 0x01)
				{
					Mem193[fp - 0x6C + 0x00:word32] = Mem188[Mem188[0x08180718:word32] + 0x08:word32];
					word32 eax_194 = baseURL(dwArg00);
					word32 edx_196 = Mem193[Mem193[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem197[fp - 100 + 0x00:word32] = eax_194;
					Mem199[fp - 0x68 + 0x00:word32] = fp - 88;
					Mem200[fp - 0x6C + 0x00:word32] = edx_196;
					parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
					Mem202[fp - 0x6C + 0x00:word32] = fp - 88;
					byte bpl_203;
					word32 edx_205 = Mem202[parsedURL2Str(dwArg00, out bpl_203) + 0x00:word32];
					word32 eax_206 = Mem202[0x08180668:word32];
					Mem207[fp - 0x68 + 0x00:word32] = edx_205;
					Mem208[fp - 0x6C + 0x00:word32] = eax_206;
					if (getHashHist(dwArg00, dwArg04) != 0x00)
						goto l0805359C;
				}
			}
			Mem155[fp - 0x20 + 0x00:word32] = Mem143[fp - 0x20 + 0x00:word32] + 0x01;
		}
		if (Mem0[fp + 0x04:word32] != 0x01)
		{
l0805359C:
			if (Mem0[fp - 0x18 + 0x00:word32] != 0x00 && Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 44:word32] >= 0x00)
			{
				Mem111[fp - 0x14 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 44:word32] * 0x0C;
				word32 eax_115 = Mem111[Mem111[0x08180718:word32] + 0x08:word32];
				Mem116[fp - 0x68 + 0x00:word32] = Mem111[Mem111[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem117[fp - 0x6C + 0x00:word32] = eax_115;
				gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
				Mem124[Mem117[Mem117[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem117[Mem117[fp - 0x14 + 0x00:word32] + 0x04:word32];
				Mem127[fp - 0x6C + 0x00:word32] = Mem124[Mem124[0x08180718:word32] + 0x08:word32];
				arrangeCursor(fp - 0x04, gs, dwArg00);
				word32 eax_129 = Mem127[Mem127[0x08180718:word32] + 0x08:word32];
				Mem130[fp - 0x68 + 0x00:word32] = 0x00;
				Mem131[fp - 0x6C + 0x00:word32] = eax_129;
				real64 rArg0_133;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_133);
			}
		}
	}
}

// 0805363C: void _prevA(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void _prevA(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_12 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32];
	searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_12 != 0x00 && Mem0[eax_12 + 0x04:word32] != 0x00))
	{
		word32 eax_52 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (dwArg04 != 0x01 && eax_52 == 0x00)
			retrieveCurrentForm(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		while (Mem0[fp - 0x20 + 0x00:word32] < Mem0[(fp - 44) + 0x00:word32])
		{
			Mem143[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
			if (Mem143[fp - 0x18 + 0x00:word32] != 0x00 && Mem143[Mem143[(fp - 0x18) + 0x00:word32] + 44:word32] >= 0x00)
			{
				Mem236[fp - 0x30 + 0x00:word32] = Mem143[Mem143[fp - 0x18 + 0x00:word32] + 44:word32] - 0x01;
				do
				{
					if (Mem236[fp - 0x30 + 0x00:word32] < 0x00)
					{
						if (Mem236[fp + 0x04:word32] == 0x01)
							return;
						Mem249[fp - 0x18 + 0x00:word32] = Mem236[fp - 0x1C + 0x00:word32];
						goto l0805391F;
					}
					Mem259[fp - 0x14 + 0x00:word32] = Mem236[Mem236[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem236[(fp - 0x30) + 0x00:word32] * 0x0C;
					word32 edx_263 = Mem259[Mem259[fp - 0x14 + 0x00:word32] + 0x00:word32];
					word32 eax_266 = Mem259[Mem259[Mem259[0x08180718:word32] + 0x08:word32] + 0x60:word32];
					Mem267[fp - 100 + 0x00:word32] = Mem259[Mem259[fp - 0x14 + 0x00:word32] + 0x04:word32];
					Mem268[fp - 0x68 + 0x00:word32] = edx_263;
					Mem269[fp - 0x6C + 0x00:word32] = eax_266;
					Mem271[fp - 0x18 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
					if (Mem271[fp + 0x04:word32] != 0x01 && Mem271[(fp - 0x18) + 0x00:word32] == 0x00)
					{
						word32 edx_320 = Mem271[Mem271[fp - 0x14 + 0x00:word32] + 0x00:word32];
						word32 eax_323 = Mem271[Mem271[Mem271[0x08180718:word32] + 0x08:word32] + 0x6C:word32];
						Mem324[fp - 100 + 0x00:word32] = Mem271[Mem271[fp - 0x14 + 0x00:word32] + 0x04:word32];
						Mem325[fp - 0x68 + 0x00:word32] = edx_320;
						Mem326[fp - 0x6C + 0x00:word32] = eax_323;
						Mem328[fp - 0x18 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
					}
					Mem278[fp - 0x30 + 0x00:word32] = Mem271[fp - 0x30 + 0x00:word32] - 0x01;
					if (Mem278[fp + 0x04:word32] == 0x01 && Mem278[(fp - 0x18) + 0x00:word32] != 0x00)
					{
						Mem295[fp - 0x6C + 0x00:word32] = Mem278[Mem278[0x08180718:word32] + 0x08:word32];
						word32 eax_296 = baseURL(dwArg00);
						word32 edx_298 = Mem295[Mem295[fp - 0x18 + 0x00:word32] + 0x00:word32];
						Mem299[fp - 100 + 0x00:word32] = eax_296;
						Mem301[fp - 0x68 + 0x00:word32] = fp - 88;
						Mem302[fp - 0x6C + 0x00:word32] = edx_298;
						parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
						Mem304[fp - 0x6C + 0x00:word32] = fp - 88;
						byte bpl_305;
						word32 edx_307 = Mem304[parsedURL2Str(dwArg00, out bpl_305) + 0x00:word32];
						word32 eax_308 = Mem304[0x08180668:word32];
						Mem309[fp - 0x68 + 0x00:word32] = edx_307;
						Mem310[fp - 0x6C + 0x00:word32] = eax_308;
						if (getHashHist(dwArg00, dwArg04) != 0x00)
							goto l0805391F;
					}
				} while (Mem278[fp - 0x18 + 0x00:word32] == 0x00 || Mem278[(fp - 0x18) + 0x00:word32] == Mem278[(fp - 0x1C) + 0x00:word32]);
			}
			else
			{
				word32 eax_162 = Mem143[Mem143[Mem143[0x08180718:word32] + 0x08:word32] + 0x60:word32];
				Mem164[fp - 0x60 + 0x00:word32] = Mem143[fp - 0x28 + 0x00:word32];
				Mem166[fp - 100 + 0x00:word32] = Mem164[fp - 0x24 + 0x00:word32];
				Mem167[fp - 0x68 + 0x00:word32] = 0x00;
				Mem168[fp - 0x6C + 0x00:word32] = eax_162;
				Mem172[fp - 0x18 + 0x00:word32] = closest_prev_anchor(dwArg00, dwArg04, dwArg08, dwArg0C);
				if (Mem172[fp + 0x04:word32] != 0x01)
				{
					word32 eax_217 = Mem172[Mem172[Mem172[0x08180718:word32] + 0x08:word32] + 0x6C:word32];
					Mem219[fp - 0x60 + 0x00:word32] = Mem172[fp - 0x28 + 0x00:word32];
					Mem221[fp - 100 + 0x00:word32] = Mem219[fp - 0x24 + 0x00:word32];
					Mem223[fp - 0x68 + 0x00:word32] = Mem221[fp - 0x18 + 0x00:word32];
					Mem224[fp - 0x6C + 0x00:word32] = eax_217;
					Mem226[fp - 0x18 + 0x00:word32] = closest_prev_anchor(dwArg00, dwArg04, dwArg08, dwArg0C);
				}
				if (Mem172[fp - 0x18 + 0x00:word32] == 0x00)
				{
					if (Mem172[fp + 0x04:word32] == 0x01)
						return;
					Mem182[fp - 0x18 + 0x00:word32] = Mem172[fp - 0x1C + 0x00:word32];
					break;
				}
				Mem185[fp - 0x24 + 0x00:word32] = Mem172[Mem172[fp - 0x18 + 0x00:word32] + 0x18:word32];
				Mem188[fp - 0x28 + 0x00:word32] = Mem185[Mem185[fp - 0x18 + 0x00:word32] + 0x14:word32];
				if (Mem188[fp + 0x04:word32] == 0x01 && Mem188[(fp - 0x18) + 0x00:word32] != 0x00)
				{
					Mem195[fp - 0x6C + 0x00:word32] = Mem188[Mem188[0x08180718:word32] + 0x08:word32];
					word32 eax_196 = baseURL(dwArg00);
					word32 edx_198 = Mem195[Mem195[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem199[fp - 100 + 0x00:word32] = eax_196;
					Mem201[fp - 0x68 + 0x00:word32] = fp - 88;
					Mem202[fp - 0x6C + 0x00:word32] = edx_198;
					parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
					Mem204[fp - 0x6C + 0x00:word32] = fp - 88;
					byte bpl_205;
					word32 edx_207 = Mem204[parsedURL2Str(dwArg00, out bpl_205) + 0x00:word32];
					word32 eax_208 = Mem204[0x08180668:word32];
					Mem209[fp - 0x68 + 0x00:word32] = edx_207;
					Mem210[fp - 0x6C + 0x00:word32] = eax_208;
					if (getHashHist(dwArg00, dwArg04) != 0x00)
						goto l0805391F;
				}
			}
			Mem155[fp - 0x20 + 0x00:word32] = Mem143[fp - 0x20 + 0x00:word32] + 0x01;
		}
		if (Mem0[fp + 0x04:word32] != 0x01)
		{
l0805391F:
			if (Mem0[fp - 0x18 + 0x00:word32] != 0x00 && Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 44:word32] >= 0x00)
			{
				Mem111[fp - 0x14 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 44:word32] * 0x0C;
				word32 eax_115 = Mem111[Mem111[0x08180718:word32] + 0x08:word32];
				Mem116[fp - 0x68 + 0x00:word32] = Mem111[Mem111[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem117[fp - 0x6C + 0x00:word32] = eax_115;
				gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
				Mem124[Mem117[Mem117[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem117[Mem117[fp - 0x14 + 0x00:word32] + 0x04:word32];
				Mem127[fp - 0x6C + 0x00:word32] = Mem124[Mem124[0x08180718:word32] + 0x08:word32];
				arrangeCursor(fp - 0x04, gs, dwArg00);
				word32 eax_129 = Mem127[Mem127[0x08180718:word32] + 0x08:word32];
				Mem130[fp - 0x68 + 0x00:word32] = 0x00;
				Mem131[fp - 0x6C + 0x00:word32] = eax_129;
				real64 rArg0_133;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_133);
			}
		}
	}
}

// 080539BF: void nextX(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void nextX(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_11 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32];
	word32 eax_13 = searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] == 0x00 || (eax_11 == 0x00 || Mem0[eax_11 + 0x04:word32] == 0x00))
		return;
	word32 eax_52 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	word32 dwLoc14_134 = eax_52;
	if (eax_52 == 0x00)
		dwLoc14_134 = retrieveCurrentForm(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	word32 eax_60 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
	word32 dwLoc1C_138 = eax_60;
	word32 dwLoc24_131 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
	word32 dwLoc28_141 = Mem0[eax_60 + 0x1C:word32];
	word32 dwLoc18_137 = 0x00;
	word32 dwLoc20_166 = 0x00;
	while (true)
	{
		if (dwLoc20_166 >= eax_13)
		{
l08053B6E:
			if (dwLoc18_137 != 0x00)
			{
				gotoLine(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], dwLoc28_141);
				Mem115[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x18:word32];
				Mem118[fp - 0x3C + 0x00:word32] = Mem115[Mem115[0x08180718:word32] + 0x08:word32];
				arrangeCursor(fp - 0x04, gs, dwArg00);
				word32 eax_121 = Mem118[Mem118[0x08180718:word32] + 0x08:word32];
				Mem122[fp - 0x38 + 0x00:word32] = 0x00;
				Mem123[fp - 0x3C + 0x00:word32] = eax_121;
				real64 rArg0_126;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_126);
			}
			return;
		}
		if (dwLoc14_134 != 0x00)
		{
			word32 eax_236;
			if (dwArg04 > 0x00)
				eax_236 = Mem0[dwLoc14_134 + 0x24:word32];
			else
				eax_236 = Mem0[dwLoc14_134 + 0x18:word32] - 0x01;
			dwLoc24_131 = eax_236;
		}
		dwLoc14_134 = 0x00;
		while (true)
		{
l08053AF5:
			if (dwLoc24_131 < 0x00 || Mem0[dwLoc1C_138 + 0x14:word32] <= dwLoc24_131)
				break;
			word32 eax_205 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x60:word32], dwLoc28_141, dwLoc24_131);
			dwLoc14_134 = eax_205;
			if (eax_205 == 0x00)
				dwLoc14_134 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x6C:word32], dwLoc28_141, dwLoc24_131);
			if (dwLoc14_134 != 0x00)
			{
				dwLoc18_137 = dwLoc14_134;
				break;
			}
			dwLoc24_131 = dwLoc24_131 + dwArg04;
		}
		if (dwArg08 != 0x00 && dwLoc14_134 == 0x00)
		{
			word32 eax_172;
			if (dwArg08 > 0x00)
				eax_172 = Mem0[dwLoc1C_138 + 0x0C:word32];
			else
				eax_172 = Mem0[dwLoc1C_138 + 0x10:word32];
			dwLoc1C_138 = eax_172;
			if (eax_172 != 0x00)
			{
				word32 eax_179;
				if (dwArg04 <= 0x00)
					eax_179 = Mem0[eax_172 + 0x14:word32] - 0x01;
				else
					eax_179 = 0x00;
				dwLoc24_131 = eax_179;
				dwLoc28_141 = Mem0[eax_172 + 0x1C:word32];
				goto l08053AF5;
			}
		}
		if (dwLoc14_134 == 0x00)
			goto l08053B6E;
		dwLoc20_166 = dwLoc20_166 + 0x01;
	}
}

// 08053BD2: void nextY(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void nextY(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_11 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32];
	word32 eax_13 = searchKeyNum();
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_11 != 0x00 && Mem0[eax_11 + 0x04:word32] != 0x00))
	{
		word32 eax_52 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		word32 dwLoc14_128 = eax_52;
		if (eax_52 == 0x00)
			dwLoc14_128 = retrieveCurrentForm(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		word32 eax_60 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32];
		word32 dwLoc24_132 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x1C:word32] + dwArg04;
		word32 dwLoc18_143 = 0x00;
		word32 dwLoc2C_124 = ~0x00;
		word32 dwLoc1C_151 = 0x00;
		while (dwLoc1C_151 < eax_13)
		{
			if (dwLoc14_128 != 0x00)
			{
				word32 edx_206 = Mem0[dwLoc14_128 + 44:word32];
				dwLoc2C_124 = (edx_206 ^ edx_206 >> 0x1F) - (edx_206 >> 0x1F);
			}
			dwLoc14_128 = 0x00;
			while (dwLoc24_132 >= 0x00 && Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x14:word32] + 0x1C:word32] >= dwLoc24_132)
			{
				word32 eax_167 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x60:word32], dwLoc24_132, eax_60);
				dwLoc14_128 = eax_167;
				if (eax_167 == 0x00)
					dwLoc14_128 = retrieveAnchor(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x6C:word32], dwLoc24_132, eax_60);
				if (dwLoc14_128 != 0x00)
				{
					word32 eax_186 = Mem0[dwLoc14_128 + 44:word32];
					if ((eax_186 ^ eax_186 >> 0x1F) - (eax_186 >> 0x1F) != dwLoc2C_124)
					{
						dwLoc18_143 = dwLoc14_128;
						break;
					}
				}
				dwLoc24_132 = dwLoc24_132 + dwArg04;
			}
			if (dwLoc14_128 == 0x00)
				break;
			dwLoc1C_151 = dwLoc1C_151 + 0x01;
		}
		if (dwLoc18_143 != 0x00)
		{
			gotoLine(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[dwLoc18_143 + 0x14:word32]);
			Mem113[fp - 0x3C + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			arrangeLine(dwArg00);
			word32 eax_116 = Mem113[Mem113[0x08180718:word32] + 0x08:word32];
			Mem117[fp - 0x38 + 0x00:word32] = 0x00;
			Mem118[fp - 0x3C + 0x00:word32] = eax_116;
			real64 rArg0_120;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_120);
		}
	}
}

// 08053DA5: void nextL(Register selector gs)
void nextL(selector gs)
{
	nextX(fp - 0x04, gs, ~0x00, 0x00);
}

// 08053DC1: void nextLU(Register selector gs)
void nextLU(selector gs)
{
	nextX(fp - 0x04, gs, ~0x00, ~0x00);
}

// 08053DDD: void nextR(Register selector gs)
void nextR(selector gs)
{
	nextX(fp - 0x04, gs, 0x01, 0x00);
}

// 08053DF9: void nextRD(Register selector gs)
void nextRD(selector gs)
{
	nextX(fp - 0x04, gs, 0x01, 0x01);
}

// 08053E15: void nextD(Register selector gs)
void nextD(selector gs)
{
	nextY(fp - 0x04, gs, 0x01);
}

// 08053E29: void nextU(Register selector gs)
void nextU(selector gs)
{
	nextY(fp - 0x04, gs, ~0x00);
}

// 08053E3D: void nextBf(Register selector gs)
void nextBf(selector gs)
{
	word32 dwLoc14_15 = 0x00;
	while (true)
	{
		word32 eax_24;
		if (Mem0[135775132:word32] != 0x00)
			eax_24 = Mem0[135775132:word32];
		else
			eax_24 = 0x01;
		if (eax_24 <= dwLoc14_15)
			break;
		word32 eax_56 = prevBuffer(Mem0[Mem0[0x08180718:word32] + 0x0C:word32], Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (eax_56 == 0x00)
		{
			if (dwLoc14_15 == 0x00)
				return;
			break;
		}
		Mem64[Mem0[0x08180718:word32] + 0x08:word32] = eax_56;
		dwLoc14_15 = dwLoc14_15 + 0x01;
	}
	real64 rArg0_48;
	displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_48);
}

// 08053EBF: void prevBf(Register selector gs)
void prevBf(selector gs)
{
	word32 dwLoc14_13 = 0x00;
	while (true)
	{
		word32 eax_20;
		if (Mem0[135775132:word32] != 0x00)
			eax_20 = Mem0[135775132:word32];
		else
			eax_20 = 0x01;
		if (eax_20 <= dwLoc14_13)
			break;
		word32 eax_46 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x18:word32];
		if (eax_46 == 0x00)
		{
			if (dwLoc14_13 == 0x00)
				return;
			break;
		}
		Mem56[Mem0[0x08180718:word32] + 0x08:word32] = eax_46;
		dwLoc14_13 = dwLoc14_13 + 0x01;
	}
	real64 rArg0_42;
	displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_42);
}

// 08053F30: Register word32 checkBackBuffer(Stack word32 dwArg04)
word32 checkBackBuffer(word32 dwArg04)
{
	word32 eax_19;
	word32 eax_10 = Mem0[dwArg04 + 0x20:word32];
	if (eax_10 != 0x00)
	{
		if (Mem0[eax_10 + 0xC0:word32] != 0x00)
		{
			eax_19 = 0x01;
			return eax_19;
		}
		if ((byte) (word32) Mem0[135774792:byte] != 0x00 && Mem0[dwArg04 + 0x18:word32] == eax_10)
		{
			if (Mem0[eax_10 + 0x18:word32] != 0x00)
				eax_19 = 0x01;
			else
				eax_19 = 0x00;
			return eax_19;
		}
	}
	if (Mem0[dwArg04 + 0x18:word32] != 0x00)
		eax_19 = 0x01;
	else
		eax_19 = 0x00;
	return eax_19;
}

// 08053F9F: void backBf(Register word32 ebp, Register selector gs)
void backBf(word32 ebp, selector gs)
{
	if (checkBackBuffer(Mem0[Mem0[0x08180718:word32] + 0x08:word32]) == 0x00)
	{
		if (Mem0[0x0817C290:word32] != 0x00 && Mem0[0x08180720:word32] > 0x00)
		{
			deleteTab(fp - 0x04, gs, Mem0[0x08180718:word32]);
			word32 eax_59 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem60[fp - 0x38 + 0x00:word32] = 0x01;
			Mem61[fp - 0x3C + 0x00:word32] = eax_59;
			real64 rArg0_64;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_64);
		}
		else
			disp_message(gs, 0x080C86E4, 0x01);
	}
	else
	{
		delBuffer(gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0xC0:word32] != 0x00)
			{
				Mem94[fp - 0x18 + 0x00:word32] = Mem0[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0xC0:word32] + 0x0C:word32];
				Mem98[fp - 0x1C + 0x00:word32] = Mem94[Mem94[Mem94[fp - 0x10 + 0x00:word32] + 0xC0:word32] + 0x10:word32];
				Mem102[fp - 0x20 + 0x00:word32] = Mem98[Mem98[Mem98[fp - 0x10 + 0x00:word32] + 0xC0:word32] + 0x14:word32];
				Mem106[fp - 0x24 + 0x00:word32] = Mem102[Mem102[Mem102[fp - 0x10 + 0x00:word32] + 0xC0:word32] + 0x18:word32];
				Mem110[fp - 0x28 + 0x00:word32] = Mem106[Mem106[Mem106[fp - 0x10 + 0x00:word32] + 0xC0:word32] + 0x1C:word32];
				Mem114[fp - 0x3C + 0x00:word32] = Mem110[fp - 0x10 + 0x00:word32] + 0xC0;
				Mem116[fp - 0x14 + 0x00:word32] = popFrameTree(dwArg00);
				Mem119[fp - 0x3C + 0x00:word32] = Mem116[Mem116[fp - 0x10 + 0x00:word32] + 188:word32];
				deleteFrameSet(dwArg00);
				Mem122[Mem119[fp - 0x10 + 0x00:word32] + 188:word32] = Mem119[fp - 0x14 + 0x00:word32];
				if (Mem122[Mem122[0x08180718:word32] + 0x08:word32] == Mem122[(fp - 0x10) + 0x00:word32])
				{
					rFrame(fp - 0x04, gs);
					word32 ebx_128 = Mem122[Mem122[0x08180718:word32] + 0x08:word32];
					word32 eax_129 = Mem122[fp - 0x1C + 0x00:word32];
					word32 edx_133 = Mem122[Mem122[Mem122[0x08180718:word32] + 0x08:word32] + 0x08:word32];
					word32 eax_135 = Mem122[Mem122[0x08180718:word32] + 0x08:word32];
					Mem136[fp - 0x30 + 0x00:word32] = 0x00;
					Mem137[fp - 0x34 + 0x00:word32] = eax_129 - 0x01;
					Mem138[fp - 0x38 + 0x00:word32] = edx_133;
					Mem139[fp - 0x3C + 0x00:word32] = eax_135;
					Mem143[ebx_128 + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
					word32 eax_145 = Mem143[Mem143[0x08180718:word32] + 0x08:word32];
					Mem147[fp - 0x38 + 0x00:word32] = Mem143[fp - 0x18 + 0x00:word32];
					Mem148[fp - 0x3C + 0x00:word32] = eax_145;
					gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
					Mem152[Mem148[Mem148[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem148[fp - 0x20 + 0x00:word32];
					Mem156[Mem152[Mem152[0x08180718:word32] + 0x08:word32] + 0x44:word32] = Mem152[fp - 0x24 + 0x00:word32];
					Mem159[fp - 0x3C + 0x00:word32] = Mem156[Mem156[0x08180718:word32] + 0x08:word32];
					arrangeCursor(fp - 0x04, gs, dwArg00);
					word32 eax_161 = Mem159[Mem159[0x08180718:word32] + 0x08:word32];
					Mem163[fp - 0x38 + 0x00:word32] = Mem159[fp - 0x28 + 0x00:word32];
					Mem164[fp - 0x3C + 0x00:word32] = eax_161;
					formResetBuffer(fp - 0x04, gs, dwArg00, dwArg04);
				}
			}
			else if ((byte) (word32) Mem0[135774792:byte] != 0x00 && Mem0[Mem0[0x08180718:word32] + 0x08:word32] == Mem0[(fp - 0x10) + 0x00:word32])
			{
				Mem176[fp - 0x3C + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
				delBuffer(gs, dwArg00);
			}
		}
		word32 eax_81 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem82[fp - 0x38 + 0x00:word32] = 0x01;
		Mem83[fp - 0x3C + 0x00:word32] = eax_81;
		real64 rArg0_84;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_84);
	}
}

// 080541B8: void deletePrevBuf(Register selector gs)
void deletePrevBuf(selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x18:word32];
	if (eax_10 != 0x00)
		delBuffer(gs, eax_10);
}

// 080541DF: void cmd_loadURL(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void cmd_loadURL(word32 ebp, selector gs, word32 dwArg04)
{
	if (strncasecmp(dwArg04, 0x080C85BB, 0x07) == 0x00 && (non_null(Mem0[135774944:word32]) != 0x00 && strchr(dwArg04, '?') == 0x00))
	{
		Strnew_charp(dwArg04 + 0x07, dwArg04 + 0x07);
		fmTerm(gs);
		Mem144[fp - 0x3C + 0x00:word32] = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem146[fp - 0x3C + 0x00:word32] = file_unquote(dwArg00);
		word32 eax_147 = shell_quote(dwArg00);
		word32 edx_148 = Mem146[135774944:word32];
		Mem149[fp - 0x34 + 0x00:word32] = 0x00;
		Mem150[fp - 0x38 + 0x00:word32] = eax_147;
		Mem151[fp - 0x3C + 0x00:word32] = edx_148;
		word32 eax_153 = Mem151[myExtCommand(dwArg00, dwArg04, dwArg08) + 0x00:word32];
		Mem154[fp - 0x3C + 0x00:word32] = eax_153;
		word32 esp_155;
		word32 ebp_156;
		word32 esi_157;
		word32 ebx_158;
		byte SCZO_159;
		word32 eax_160;
		byte SZO_161;
		byte C_162;
		byte Z_163;
		word32 edx_164;
		byte al_165;
		selector gs_166;
		byte bpl_167;
		!system();
		fmInit(gs_166);
		word32 eax_169 = Mem154[Mem154[0x08180718:word32] + 0x08:word32];
		Mem170[esp_155 + 0x04:word32] = 0x01;
		Mem171[esp_155 + 0x00:word32] = eax_169;
		real64 rArg0_172;
		displayBuffer(ebp_156, gs_166, dwArg00, dwArg04, rArg0, out rArg0_172);
		word32 eax_174 = Mem171[0x08180668:word32];
		Mem176[esp_155 + 0x04:word32] = Mem171[ebp_156 + 0x08:word32];
		Mem177[esp_155 + 0x00:word32] = eax_174;
		pushHashHist(dwArg00, dwArg04);
	}
	else
	{
		refresh(fp - 0x04);
		Mem54[fp - 44 + 0x00:word32] = Mem0[fp + 0x10:word32];
		Mem55[fp - 0x30 + 0x00:word32] = 0x00;
		Mem57[fp - 0x34 + 0x00:word32] = Mem55[fp + 0x0C:word32];
		Mem59[fp - 0x38 + 0x00:word32] = Mem57[fp + 0x08:word32];
		Mem61[fp - 0x3C + 0x00:word32] = Mem59[fp + 0x04:word32];
		Mem65[fp - 0x10 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
		if (Mem65[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 esi_85 = Mem65[135091052:word32];
			word32 ebx_86 = Mem65[0x080D5378:word32];
			word32 eax_87 = Mem65[fp + 0x04:word32];
			Mem88[fp - 0x3C + 0x00:word32] = eax_87;
			Strnew_charp(eax_87, dwArg00);
			Mem89[fp - 0x34 + 0x00:word32] = esi_85;
			Mem90[fp - 0x38 + 0x00:word32] = ebx_86;
			Mem91[fp - 0x3C + 0x00:word32] = eax_87;
			word32 ebx_93;
			Mem96[fp - 0x38 + 0x00:word32] = Mem91[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_93) + 0x00:word32];
			Mem97[fp - 0x3C + 0x00:word32] = 135038358;
			byte bpl_98;
			Mem101[fp - 0x18 + 0x00:word32] = Mem97[Sprintf(dwArg00, out bpl_98) + 0x00:word32];
			Mem102[fp - 0x38 + 0x00:word32] = 0x00;
			Mem104[fp - 0x3C + 0x00:word32] = Mem102[fp - 0x18 + 0x00:word32];
			byte bpl_105;
			disp_err_message(gs, dwArg00, dwArg04, out bpl_105);
		}
		else if (Mem65[fp - 0x10 + 0x00:word32] != 0x01)
		{
			Mem111[fp - 0x3C + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
			if ((byte) (word32) Mem111[135774792:byte] != 0x00 && Mem111[Mem111[Mem111[0x08180718:word32] + 0x08:word32] + 188:word32] != 0x00)
				rFrame(fp - 0x04, gs);
		}
		word32 eax_77 = Mem65[Mem65[0x08180718:word32] + 0x08:word32];
		Mem78[fp - 0x38 + 0x00:word32] = 0x00;
		Mem79[fp - 0x3C + 0x00:word32] = eax_77;
		real64 rArg0_81;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_81);
	}
}

// 0805439A: void goURL0(Register word32 ebp, Register selector gs)
void goURL0(word32 ebp, selector gs)
{
	if (searchKeyData() == 0x00)
	{
		word32 eax_193 = Mem0[0x08180668:word32];
		copyHist(eax_193, eax_193);
		word32 eax_199 = baseURL(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (eax_199 != 0x00)
		{
			byte bpl_289;
			Mem292[fp - 0x28 + 0x00:word32] = Mem0[parsedURL2Str(eax_199, out bpl_289) + 0x00:word32];
			if (Mem292[135775028:word32] == 0x01)
			{
				Mem297[fp - 0x10 + 0x00:word32] = Mem292[fp - 0x28 + 0x00:word32];
				if (Mem297[135774932:word32] != 0x00)
				{
					Mem302[fp - 0x78 + 0x00:word32] = 0x00;
					Mem304[fp - 0x7C + 0x00:word32] = Mem302[fp - 0x10 + 0x00:word32];
					Mem306[fp - 0x10 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				}
			}
			else
			{
				Mem308[fp - 0x78 + 0x00:word32] = Mem292[fp - 0x28 + 0x00:word32];
				Mem310[fp - 0x7C + 0x00:word32] = Mem308[fp - 0x20 + 0x00:word32];
				pushHist(dwArg00, dwArg04);
			}
		}
		Mem209[fp - 0x7C + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem211[fp - 0x24 + 0x00:word32] = retrieveCurrentAnchor(dwArg00);
		if (Mem211[fp - 0x24 + 0x00:word32] != 0x00)
		{
			word32 eax_253 = Mem211[Mem211[fp - 0x24 + 0x00:word32] + 0x00:word32];
			Mem255[fp - 116 + 0x00:word32] = Mem211[fp - 0x18 + 0x00:word32];
			Mem257[fp - 0x78 + 0x00:word32] = fp - 0x54;
			Mem258[fp - 0x7C + 0x00:word32] = eax_253;
			parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem260[fp - 0x7C + 0x00:word32] = fp - 0x54;
			byte bpl_261;
			Mem264[fp - 44 + 0x00:word32] = Mem260[parsedURL2Str(dwArg00, out bpl_261) + 0x00:word32];
			if (Mem264[135775028:word32] == 0x02)
			{
				Mem269[fp - 0x10 + 0x00:word32] = Mem264[fp - 44 + 0x00:word32];
				if (Mem269[135774932:word32] != 0x00)
				{
					Mem277[fp - 0x78 + 0x00:word32] = Mem269[Mem269[Mem269[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
					Mem279[fp - 0x7C + 0x00:word32] = Mem277[fp - 0x10 + 0x00:word32];
					Mem281[fp - 0x10 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				}
			}
			else
			{
				Mem283[fp - 0x78 + 0x00:word32] = Mem264[fp - 44 + 0x00:word32];
				Mem285[fp - 0x7C + 0x00:word32] = Mem283[fp - 0x20 + 0x00:word32];
				pushHist(dwArg00, dwArg04);
			}
		}
		Mem218[fp - 0x6C + 0x00:word32] = 0x00;
		Mem220[fp - 0x70 + 0x00:word32] = Mem218[fp - 0x20 + 0x00:word32];
		Mem221[fp - 116 + 0x00:word32] = 0x0100;
		Mem223[fp - 0x78 + 0x00:word32] = Mem221[fp - 0x10 + 0x00:word32];
		Mem225[fp - 0x7C + 0x00:word32] = Mem223[fp + 0x04:word32];
		Mem228[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		if (Mem228[fp - 0x10 + 0x00:word32] != 0x00)
		{
			while ((byte) (word32) Mem228[Mem228[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem228[(word32) ((byte) ((word32) Mem228[Mem228[(fp - 0x10) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem250[fp - 0x10 + 0x00:word32] = Mem228[fp - 0x10 + 0x00:word32] + 0x01;
		}
	}
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
	{
		if (Mem0[fp + 0x08:word32] == 0x00 && (byte) ((word32) Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:byte]) != 0x23 || Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xD0:word32] == 0x00)
		{
			word32 esi_156 = Mem0[0x080D5378:word32];
			word32 ebx_157 = Mem0[135091052:word32];
			word32 eax_158 = Mem0[fp - 0x10 + 0x00:word32];
			Mem159[fp - 0x7C + 0x00:word32] = eax_158;
			Strnew_charp(eax_158, dwArg00);
			Mem160[fp - 116 + 0x00:word32] = esi_156;
			Mem161[fp - 0x78 + 0x00:word32] = ebx_157;
			Mem162[fp - 0x7C + 0x00:word32] = eax_158;
			word32 ebx_163;
			Mem166[fp - 0x10 + 0x00:word32] = Mem162[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_163) + 0x00:word32];
		}
		else
		{
			word32 esi_177 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
			word32 ebx_178 = Mem0[135091052:word32];
			word32 eax_179 = Mem0[fp - 0x10 + 0x00:word32];
			Mem180[fp - 0x7C + 0x00:word32] = eax_179;
			Strnew_charp(eax_179, dwArg00);
			Mem181[fp - 116 + 0x00:word32] = esi_177;
			Mem182[fp - 0x78 + 0x00:word32] = ebx_178;
			Mem183[fp - 0x7C + 0x00:word32] = eax_179;
			word32 ebx_184;
			Mem187[fp - 0x10 + 0x00:word32] = Mem183[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_184) + 0x00:word32];
		}
	}
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		if ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] == 0x23)
		{
			Mem93[fp - 0x7C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32] + 0x01;
			gotoLabel(fp - 0x04, gs, dwArg00);
		}
		else
		{
			if (Mem0[fp + 0x08:word32] != 0x00)
			{
				Mem135[fp - 0x7C + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
				Mem137[fp - 0x18 + 0x00:word32] = baseURL(dwArg00);
				Mem142[fp - 0x7C + 0x00:word32] = Mem137[Mem137[0x08180718:word32] + 0x08:word32] + 0x84;
				byte bpl_143;
				Mem146[fp - 0x14 + 0x00:word32] = Mem142[parsedURL2Str(dwArg00, out bpl_143) + 0x00:word32];
			}
			else
			{
				Mem147[fp - 0x18 + 0x00:word32] = 0x00;
				Mem148[fp - 0x14 + 0x00:word32] = 0x00;
			}
			Mem97[fp - 116 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
			Mem99[fp - 0x78 + 0x00:word32] = fp - 0x54;
			Mem101[fp - 0x7C + 0x00:word32] = Mem99[fp - 0x10 + 0x00:word32];
			parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem104[fp - 0x7C + 0x00:word32] = fp - 0x54;
			byte bpl_105;
			word32 edx_107 = Mem104[parsedURL2Str(dwArg00, out bpl_105) + 0x00:word32];
			word32 eax_108 = Mem104[0x08180668:word32];
			Mem109[fp - 0x78 + 0x00:word32] = edx_107;
			Mem110[fp - 0x7C + 0x00:word32] = eax_108;
			pushHashHist(dwArg00, dwArg04);
			Mem111[fp - 0x70 + 0x00:word32] = 0x00;
			Mem113[fp - 116 + 0x00:word32] = Mem111[fp - 0x14 + 0x00:word32];
			Mem115[fp - 0x78 + 0x00:word32] = Mem113[fp - 0x18 + 0x00:word32];
			Mem117[fp - 0x7C + 0x00:word32] = Mem115[fp - 0x10 + 0x00:word32];
			cmd_loadURL(fp - 0x04, gs, dwArg00);
			if (Mem117[Mem117[0x08180718:word32] + 0x08:word32] != Mem117[(fp - 0x1C) + 0x00:word32])
			{
				Mem126[fp - 0x7C + 0x00:word32] = Mem117[Mem117[0x08180718:word32] + 0x08:word32] + 0x84;
				byte bpl_127;
				word32 edx_129 = Mem126[parsedURL2Str(dwArg00, out bpl_127) + 0x00:word32];
				word32 eax_130 = Mem126[0x08180668:word32];
				Mem131[fp - 0x78 + 0x00:word32] = edx_129;
				Mem132[fp - 0x7C + 0x00:word32] = eax_130;
				pushHashHist(dwArg00, dwArg04);
			}
		}
	}
	else
	{
		word32 eax_70 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem71[fp - 0x78 + 0x00:word32] = 0x01;
		Mem72[fp - 0x7C + 0x00:word32] = eax_70;
		real64 rArg0_77;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_77);
	}
}

// 080546D7: void goURL(Register selector gs)
void goURL(selector gs)
{
	goURL0(fp - 0x04, gs);
}

// 080546F3: void gorURL(Register selector gs)
void gorURL(selector gs)
{
	goURL0(fp - 0x04, gs);
}

// 0805470F: void cmd_loadBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void cmd_loadBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg04 == 0x00)
	{
		byte bpl_37;
		disp_err_message(gs, 0x080C8711, 0x00, out bpl_37);
	}
	else if (dwArg04 != 0x01)
	{
		Mem57[dwArg04 + 0x40:word16] = (word16) ((word32) Mem0[dwArg04 + 0x40:word16] | (dwArg08 | 0x08));
		if (((int32) (word16) (word32) Mem57[dwArg04 + 0x40:word16] & 0x10) == 0x00)
			copyParsedURL(dwArg04 + 0x84, Mem57[Mem57[0x08180718:word32] + 0x08:word32] + 0x84);
		if (dwArg0C != ~0x00)
		{
			(dwArg04 + 0x0C)[(0x080D52A0[dwArg0C * 0x04] + 0x04) * 0x04] = Mem57[Mem57[0x08180718:word32] + 0x08:word32];
			(Mem85[Mem85[0x08180718:word32] + 0x08:word32] + 0x0C)[(dwArg0C + 0x04) * 0x04] = dwArg04;
		}
		pushBuffer(fp - 0x04, gs);
	}
	word32 eax_24 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem25[fp - 0x18 + 0x00:word32] = 0x01;
	Mem26[fp - 0x1C + 0x00:word32] = eax_24;
	real64 rArg0_30;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_30);
}

// 080547E1: void ldBmark(Register selector gs)
void ldBmark(selector gs)
{
	cmd_loadURL(fp - 0x04, gs, Mem0[0x0817C31C:word32]);
}

// 0805480E: void adBmark(Register word32 ebp, Register selector gs)
void adBmark(word32 ebp, selector gs)
{
	wc_ces_to_charset(Mem0[0x080D537C:word32]);
	word32 edi_23 = Mem0[0x080D537C:word32];
	word32 esi_24 = Mem0[135091052:word32];
	word32 eax_27 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x04:word32];
	Strnew_charp(eax_27, eax_27);
	word32 ebx_32;
	Mem34[fp - 0x5C + 0x00:word32] = wc_Str_conv_strict(eax_27, esi_24, edi_23, out ebx_32);
	Mem38[fp - 0x30 + 0x00:word32] = Mem34[Str_form_quote(dwArg00) + 0x00:word32];
	Mem43[fp - 0x5C + 0x00:word32] = Mem38[Mem38[0x08180718:word32] + 0x08:word32] + 0x84;
	byte bpl_44;
	Mem46[fp - 0x5C + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_44);
	word32 edi_48 = Mem46[Str_form_quote(dwArg00) + 0x00:word32];
	word32 eax_49 = Mem46[0x0817C31C:word32];
	Mem50[fp - 0x5C + 0x00:word32] = eax_49;
	Strnew_charp(eax_49, dwArg00);
	Mem51[fp - 0x5C + 0x00:word32] = eax_49;
	word32 esi_53 = Mem51[Str_form_quote(dwArg00) + 0x00:word32];
	Mem56[fp - 0x5C + 0x00:word32] = localCookie(gs);
	word32 eax_58 = Mem56[Str_form_quote(dwArg00) + 0x00:word32];
	Mem59[fp - 0x48 + 0x00:word32] = ebx_32;
	Mem61[fp - 0x4C + 0x00:word32] = Mem59[fp - 0x30 + 0x00:word32];
	Mem62[fp - 0x50 + 0x00:word32] = edi_48;
	Mem63[fp - 0x54 + 0x00:word32] = esi_53;
	Mem64[fp - 88 + 0x00:word32] = eax_58;
	Mem65[fp - 0x5C + 0x00:word32] = 0x080C8724;
	byte bpl_66;
	Mem68[fp - 0x20 + 0x00:word32] = Sprintf(dwArg00, out bpl_66);
	Mem69[fp - 0x44 + 0x00:word32] = 0x00;
	Mem70[fp - 0x48 + 0x00:word32] = 0x00;
	Mem71[fp - 0x4C + 0x00:word32] = 0x00;
	Mem72[fp - 0x50 + 0x00:word32] = 0x00;
	Mem73[fp - 0x54 + 0x00:word32] = 0x00;
	Mem74[fp - 88 + 0x00:word32] = 0x080C82B8;
	Mem75[fp - 0x5C + 0x00:word32] = 0x00;
	Mem80[fp - 0x24 + 0x00:word32] = newFormList(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
	Mem84[Mem80[fp - 0x24 + 0x00:word32] + 0x28:word32] = Mem80[Mem80[fp - 0x20 + 0x00:word32] + 0x00:word32];
	Mem89[Mem84[fp - 0x24 + 0x00:word32] + 0x30:word32] = Mem84[Mem84[fp - 0x20 + 0x00:word32] + 0x04:word32];
	Mem91[fp - 0x50 + 0x00:word32] = Mem89[fp - 0x24 + 0x00:word32];
	Mem92[fp - 0x54 + 0x00:word32] = ~0x00;
	Mem93[fp - 88 + 0x00:word32] = 0x00;
	Mem94[fp - 0x5C + 0x00:word32] = 135038813;
	cmd_loadURL(fp - 0x04, gs, dwArg00);
}

// 08054950: void ldOpt(Register word32 ebp, Register selector gs)
void ldOpt(word32 ebp, selector gs)
{
	word32 eax_9 = load_option_panel(fp - 0x04, gs);
	Mem10[fp - 0x14 + 0x00:word32] = ~0x00;
	Mem11[fp - 0x18 + 0x00:word32] = 0x10;
	Mem12[fp - 0x1C + 0x00:word32] = eax_9;
	cmd_loadBuffer(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
}

// 08054975: void setOpt(Register word32 ebp, Register selector gs)
void setOpt(word32 ebp, selector gs)
{
	Mem9[0x08180670:word32] = 0x00;
	word32 eax_10 = searchKeyData();
	if (eax_10 == 0x00 || ((byte) ((word32) Mem9[eax_10 + 0x00:byte]) == 0x00 || strchr(eax_10, '=') == 0x00))
	{
		if (eax_10 != 0x00 && (byte) ((word32) Mem9[eax_10 + 0x00:byte]) != 0x00)
		{
			word32 eax_115;
			Mem111[fp - 0x14 + 0x00:word32] = get_param_option(eax_10);
			if (Mem111[fp - 0x14 + 0x00:word32] != 0x00)
				eax_115 = Mem111[fp - 0x14 + 0x00:word32];
			else
				eax_115 = 0x080C7E50;
			Mem116[fp - 0x34 + 0x00:word32] = eax_115;
			Mem118[fp - 0x38 + 0x00:word32] = Mem116[fp - 0x10 + 0x00:word32];
			Mem119[fp - 0x3C + 0x00:word32] = 135038838;
			byte bpl_120;
			Mem123[fp - 0x10 + 0x00:word32] = Mem119[Sprintf(dwArg00, out bpl_120) + 0x00:word32];
		}
		word32 eax_73 = Mem9[0x08180530:word32];
		Mem74[fp - 44 + 0x00:word32] = 0x00;
		Mem75[fp - 0x30 + 0x00:word32] = eax_73;
		Mem76[fp - 0x34 + 0x00:word32] = 0x10;
		Mem78[fp - 0x38 + 0x00:word32] = Mem76[fp - 0x10 + 0x00:word32];
		Mem79[fp - 0x3C + 0x00:word32] = 0x080C877C;
		Mem83[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		if (Mem83[fp - 0x10 + 0x00:word32] == 0x00 || (byte) ((word32) Mem83[Mem83[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
		{
			word32 eax_91 = Mem83[Mem83[0x08180718:word32] + 0x08:word32];
			Mem92[fp - 0x38 + 0x00:word32] = 0x00;
			Mem93[fp - 0x3C + 0x00:word32] = eax_91;
			real64 rArg0_94;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_94);
			return;
		}
	}
	word32 eax_41 = Mem9[fp - 0x10 + 0x00:word32];
	Mem42[fp - 0x3C + 0x00:word32] = eax_41;
	word32 esp_44;
	word32 ebp_45;
	if (set_param_option(eax_41, fp - 0x04, dwArg00, out esp_44, out ebp_45) != 0x00)
		sync_with_option(ebp_45, gs);
	word32 eax_51 = Mem42[Mem42[0x08180718:word32] + 0x08:word32];
	Mem52[esp_44 + 0x04:word32] = 0x04;
	Mem53[esp_44 + 0x00:word32] = eax_51;
	real64 rArg0_57;
	displayBuffer(ebp_45, gs, dwArg00, dwArg04, rArg0, out rArg0_57);
}

// 08054A89: void msgs(Register word32 ebp, Register selector gs)
void msgs(word32 ebp, selector gs)
{
	word32 eax_9 = message_list_panel(gs);
	Mem10[fp - 0x14 + 0x00:word32] = ~0x00;
	Mem11[fp - 0x18 + 0x00:word32] = 0x10;
	Mem12[fp - 0x1C + 0x00:word32] = eax_9;
	cmd_loadBuffer(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
}

// 08054AAE: void pginfo(Register word32 ebp, Register selector gs)
void pginfo(word32 ebp, selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x28:word32];
	if (eax_10 != 0x00)
	{
		Mem27[Mem0[0x08180718:word32] + 0x08:word32] = eax_10;
		real64 rArg0_34;
		displayBuffer(fp - 0x04, gs, Mem27[Mem27[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_34);
	}
	else
	{
		word32 eax_38 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x24:word32];
		if (eax_38 != 0x00)
			delBuffer(gs, eax_38);
		Mem46[fp - 44 + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem49[fp - 0x10 + 0x00:word32] = page_info_panel(fp - 0x04, gs, dwArg00);
		Mem50[fp - 0x24 + 0x00:word32] = 0x02;
		Mem51[fp - 0x28 + 0x00:word32] = 0x00;
		Mem53[fp - 44 + 0x00:word32] = Mem51[fp - 0x10 + 0x00:word32];
		cmd_loadBuffer(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
	}
}

// 08054B3C: void follow_map(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void follow_map(word32 ebp, selector gs, word32 dwArg04)
{
	Mem61[fp - 0x18 + 0x00:word32] = follow_map_menu(gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], tag_get_value(dwArg04, 0x080C8789), retrieveCurrentImg(Mem0[Mem0[0x08180718:word32] + 0x08:word32]), (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16])), (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])));
	if (Mem61[fp - 0x18 + 0x00:word32] == 0x00 || (Mem61[Mem61[(fp - 0x18) + 0x00:word32] + 0x00:word32] == 0x00 || (byte) ((word32) Mem61[Mem61[Mem61[(fp - 0x18) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x00))
		return;
	if ((byte) (word32) Mem61[Mem61[Mem61[fp - 0x18 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x23)
	{
		Mem101[fp - 0x6C + 0x00:word32] = Mem61[Mem61[fp - 0x18 + 0x00:word32] + 0x00:word32] + 0x01;
		gotoLabel(fp - 0x04, gs, dwArg00);
		return;
	}
	Mem106[fp - 0x6C + 0x00:word32] = Mem61[Mem61[0x08180718:word32] + 0x08:word32];
	word32 eax_107 = baseURL(dwArg00);
	word32 edx_109 = Mem106[Mem106[fp - 0x18 + 0x00:word32] + 0x00:word32];
	Mem110[fp - 100 + 0x00:word32] = eax_107;
	Mem112[fp - 0x68 + 0x00:word32] = fp - 0x4C;
	Mem113[fp - 0x6C + 0x00:word32] = edx_109;
	parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
	Mem116[fp - 0x6C + 0x00:word32] = fp - 0x4C;
	byte bpl_117;
	word32 edx_119 = Mem116[parsedURL2Str(dwArg00, out bpl_117) + 0x00:word32];
	word32 eax_120 = Mem116[0x08180668:word32];
	Mem121[fp - 0x68 + 0x00:word32] = edx_119;
	Mem122[fp - 0x6C + 0x00:word32] = eax_120;
	pushHashHist(dwArg00, dwArg04);
	if (Mem122[0x080D53CC:word32] != 0x00 && (Mem122[0x0817C288:word32] != 0x00 && Mem122[Mem122[(fp - 0x18) + 0x00:word32] + 0x04:word32] != 0x00))
	{
		word32 eax_160 = Mem122[Mem122[fp - 0x18 + 0x00:word32] + 0x04:word32];
		Mem161[fp - 0x68 + 0x00:word32] = 0x080C85CC;
		Mem162[fp - 0x6C + 0x00:word32] = eax_160;
		word32 eax_163 = strcasecmp(Mem162[fp - 0x6C + 0x00:(ptr char)], Mem162[fp - 0x68 + 0x00:(ptr char)]);
		if (eax_163 == 0x00)
		{
l08054CCD:
			_newT(eax_163);
			Mem176[fp - 0x24 + 0x00:word32] = Mem162[Mem162[0x08180718:word32] + 0x08:word32];
			Mem181[fp - 0x6C + 0x00:word32] = Mem176[Mem176[0x08180718:word32] + 0x08:word32] + 0x84;
			byte bpl_182;
			word32 ebx_184 = Mem181[parsedURL2Str(dwArg00, out bpl_182) + 0x00:word32];
			Mem187[fp - 0x6C + 0x00:word32] = Mem181[Mem181[0x08180718:word32] + 0x08:word32];
			word32 eax_188 = baseURL(dwArg00);
			word32 edx_190 = Mem187[Mem187[fp - 0x18 + 0x00:word32] + 0x00:word32];
			Mem191[fp - 0x60 + 0x00:word32] = 0x00;
			Mem192[fp - 100 + 0x00:word32] = ebx_184;
			Mem193[fp - 0x68 + 0x00:word32] = eax_188;
			Mem194[fp - 0x6C + 0x00:word32] = edx_190;
			cmd_loadURL(fp - 0x04, gs, dwArg00);
			if (Mem194[Mem194[0x08180718:word32] + 0x08:word32] != Mem194[(fp - 0x24) + 0x00:word32])
			{
				Mem206[fp - 0x6C + 0x00:word32] = Mem194[fp - 0x24 + 0x00:word32];
				delBuffer(gs, dwArg00);
			}
			else
			{
				Mem208[fp - 0x6C + 0x00:word32] = Mem194[0x08180718:word32];
				deleteTab(fp - 0x04, gs, dwArg00);
			}
			word32 eax_200 = Mem194[Mem194[0x08180718:word32] + 0x08:word32];
			Mem201[fp - 0x68 + 0x00:word32] = 0x01;
			Mem202[fp - 0x6C + 0x00:word32] = eax_200;
			real64 rArg0_203;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_203);
			return;
		}
		word32 eax_210 = Mem162[Mem162[fp - 0x18 + 0x00:word32] + 0x04:word32];
		Mem211[fp - 0x68 + 0x00:word32] = 0x080C85D1;
		Mem212[fp - 0x6C + 0x00:word32] = eax_210;
		eax_163 = strcasecmp(Mem212[fp - 0x6C + 0x00:(ptr char)], Mem212[fp - 0x68 + 0x00:(ptr char)]);
		if (eax_163 == 0x00)
			goto l08054CCD;
	}
	Mem136[fp - 0x6C + 0x00:word32] = Mem122[Mem122[0x08180718:word32] + 0x08:word32] + 0x84;
	byte bpl_137;
	word32 ebx_139 = Mem136[parsedURL2Str(dwArg00, out bpl_137) + 0x00:word32];
	Mem142[fp - 0x6C + 0x00:word32] = Mem136[Mem136[0x08180718:word32] + 0x08:word32];
	word32 eax_143 = baseURL(dwArg00);
	word32 edx_145 = Mem142[Mem142[fp - 0x18 + 0x00:word32] + 0x00:word32];
	Mem146[fp - 0x60 + 0x00:word32] = 0x00;
	Mem147[fp - 100 + 0x00:word32] = ebx_139;
	Mem148[fp - 0x68 + 0x00:word32] = eax_143;
	Mem149[fp - 0x6C + 0x00:word32] = edx_145;
	cmd_loadURL(fp - 0x04, gs, dwArg00);
}

// 08054DB5: void linkMn(Register word32 ebp, Register selector gs)
void linkMn(word32 ebp, selector gs)
{
	Mem18[fp - 0x10 + 0x00:word32] = link_menu(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	if (Mem18[fp - 0x10 + 0x00:word32] != 0x00 && Mem18[Mem18[(fp - 0x10) + 0x00:word32] + 0x00:word32] != 0x00)
	{
		if ((byte) (word32) Mem18[Mem18[Mem18[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x23)
		{
			Mem49[fp - 0x4C + 0x00:word32] = Mem18[Mem18[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x01;
			gotoLabel(fp - 0x04, gs, dwArg00);
		}
		else
		{
			Mem54[fp - 0x4C + 0x00:word32] = Mem18[Mem18[0x08180718:word32] + 0x08:word32];
			word32 eax_55 = baseURL(dwArg00);
			word32 edx_57 = Mem54[Mem54[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem58[fp - 0x44 + 0x00:word32] = eax_55;
			Mem60[fp - 0x48 + 0x00:word32] = fp - 0x38;
			Mem61[fp - 0x4C + 0x00:word32] = edx_57;
			parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem65[fp - 0x4C + 0x00:word32] = fp - 0x38;
			byte bpl_66;
			word32 edx_68 = Mem65[parsedURL2Str(dwArg00, out bpl_66) + 0x00:word32];
			word32 eax_69 = Mem65[0x08180668:word32];
			Mem70[fp - 0x48 + 0x00:word32] = edx_68;
			Mem71[fp - 0x4C + 0x00:word32] = eax_69;
			pushHashHist(dwArg00, dwArg04);
			Mem76[fp - 0x4C + 0x00:word32] = Mem71[Mem71[0x08180718:word32] + 0x08:word32] + 0x84;
			byte bpl_77;
			word32 ebx_79 = Mem76[parsedURL2Str(dwArg00, out bpl_77) + 0x00:word32];
			Mem82[fp - 0x4C + 0x00:word32] = Mem76[Mem76[0x08180718:word32] + 0x08:word32];
			word32 eax_83 = baseURL(dwArg00);
			word32 edx_85 = Mem82[Mem82[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem86[fp - 0x40 + 0x00:word32] = 0x00;
			Mem87[fp - 0x44 + 0x00:word32] = ebx_79;
			Mem88[fp - 0x48 + 0x00:word32] = eax_83;
			Mem89[fp - 0x4C + 0x00:word32] = edx_85;
			cmd_loadURL(fp - 0x04, gs, dwArg00);
		}
	}
}

// 08054E9D: void anchorMn(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void anchorMn(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x60:word32] != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32] != 0x00)
	{
		word32 esp_51;
		word32 ebp_52;
		byte SCZO_53;
		word32 eax_54;
		byte SZO_55;
		byte C_56;
		byte Z_57;
		byte S_58;
		word32 ecx_59;
		word32 edx_60;
		selector gs_61;
		dwArg04();
		if (eax_54 != 0x00 && Mem0[eax_54 + 44:word32] >= 0x00)
		{
			gotoLine(ebp_52, gs_61, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x7C:word32] + 0x00:word32][Mem0[eax_54 + 44:word32] * 0x0C]);
			Mem94[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] = Mem0[Mem0[ebp_52 - 0x10 + 0x00:word32] + 0x04:word32];
			Mem97[esp_51 + 0x00:word32] = Mem94[Mem94[0x08180718:word32] + 0x08:word32];
			arrangeCursor(ebp_52, gs_61, dwArg00);
			word32 eax_100 = Mem97[Mem97[0x08180718:word32] + 0x08:word32];
			Mem101[esp_51 + 0x04:word32] = 0x00;
			Mem102[esp_51 + 0x00:word32] = eax_100;
			real64 rArg0_104;
			displayBuffer(ebp_52, gs_61, dwArg00, dwArg04, rArg0, out rArg0_104);
			if (Mem102[ebp_52 + 0x0C:word32] != 0x00)
				followA(ebp_52, gs_61);
		}
	}
}

// 08054F83: void accessKey(Register selector gs)
void accessKey(selector gs)
{
	anchorMn(fp - 0x04, gs, 0x08097A58);
}

// 08054F9F: void listMn(Register selector gs)
void listMn(selector gs)
{
	anchorMn(fp - 0x04, gs, 0x08097FE3);
}

// 08054FBB: void movlistMn(Register selector gs)
void movlistMn(selector gs)
{
	anchorMn(fp - 0x04, gs, 0x08097FE3);
}

// 08054FD7: void linkLst(Register word32 ebp, Register selector gs)
void linkLst(word32 ebp, selector gs)
{
	word32 eax_10 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem14[fp - 0x10 + 0x00:word32] = link_list_panel(eax_10, fp - 0x04, gs, eax_10);
	if (Mem14[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem27[Mem14[fp - 0x10 + 0x00:word32] + 0xD0:word32] = Mem14[Mem14[Mem14[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
		Mem28[fp - 0x24 + 0x00:word32] = ~0x00;
		Mem29[fp - 0x28 + 0x00:word32] = 0x00;
		Mem31[fp - 44 + 0x00:word32] = Mem29[fp - 0x10 + 0x00:word32];
		cmd_loadBuffer(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
	}
}

// 0805502A: void cooLst(Register word32 ebp, Register selector gs)
void cooLst(word32 ebp, selector gs)
{
	Mem10[fp - 0x10 + 0x00:word32] = cookie_list_panel(fp - 0x04, gs);
	if (Mem10[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem17[fp - 0x24 + 0x00:word32] = ~0x00;
		Mem18[fp - 0x28 + 0x00:word32] = 0x10;
		Mem20[fp - 44 + 0x00:word32] = Mem18[fp - 0x10 + 0x00:word32];
		cmd_loadBuffer(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
	}
}

// 0805505B: void ldHist(Register word32 ebp, Register selector gs)
void ldHist(word32 ebp, selector gs)
{
	word32 eax_9 = Mem0[0x08180668:word32];
	historyBuffer(eax_9, fp - 0x04, gs, eax_9);
	Mem12[fp - 0x14 + 0x00:word32] = ~0x00;
	Mem13[fp - 0x18 + 0x00:word32] = 0x10;
	Mem14[fp - 0x1C + 0x00:word32] = eax_9;
	cmd_loadBuffer(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
}

// 08055088: void svA(Register selector gs)
void svA(selector gs)
{
	Mem8[0x08180670:word32] = 0x00;
	Mem9[135774964:word32] = 0x01;
	followA(fp - 0x04, gs);
	Mem11[135774964:word32] = 0x00;
}

// 080550B3: void svI(Register selector gs)
void svI(selector gs)
{
	Mem8[0x08180670:word32] = 0x00;
	Mem9[135774964:word32] = 0x01;
	followI(fp - 0x04, gs);
	Mem11[135774964:word32] = 0x00;
}

// 080550DE: void svBuf(Register word32 ebp, Register selector gs)
void svBuf(word32 ebp, selector gs)
{
	Mem16[0x08180670:word32] = 0x00;
	word32 ebp_133 = fp - 0x04;
	word32 esp_13 = fp - 0x4C;
	word32 eax_17 = searchKeyData();
	if (eax_17 == 0x00 || (byte) ((word32) Mem16[eax_17 + 0x00:byte]) == 0x00)
	{
		Mem243[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C878E, 0x00, 0x80, Mem16[0x08180540:word32]);
		if (Mem243[fp - 0x10 + 0x00:word32] == 0x00 || (byte) ((word32) Mem243[Mem243[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
		{
			word32 eax_251 = Mem243[Mem243[0x08180718:word32] + 0x08:word32];
			Mem252[fp - 0x48 + 0x00:word32] = 0x00;
			Mem253[fp - 0x4C + 0x00:word32] = eax_251;
			real64 rArg0_254;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_254);
			return;
		}
	}
	word32 eax_229;
	word32 esi_57 = Mem16[0x080D5378:word32];
	word32 ebx_58 = Mem16[135091052:word32];
	if (Mem16[fp - 0x10 + 0x00:word32] != 0x00)
		eax_229 = Mem16[fp - 0x10 + 0x00:word32];
	else
		eax_229 = Mem16[fp - 0x14 + 0x00:word32];
	Mem62[fp - 0x4C + 0x00:word32] = eax_229;
	Strnew_charp(eax_229, dwArg00);
	Mem64[fp - 0x44 + 0x00:word32] = esi_57;
	Mem65[fp - 0x48 + 0x00:word32] = ebx_58;
	Mem66[fp - 0x4C + 0x00:word32] = eax_229;
	word32 ebx_69;
	Mem72[fp - 0x14 + 0x00:word32] = Mem66[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_69) + 0x00:word32];
	byte al_75 = (byte) (word32) Mem72[Mem72[fp - 0x14 + 0x00:word32] + 0x00:byte];
	if (al_75 == 0x7C)
	{
		Mem160[fp - 0x1C + 0x00:word32] = 0x01;
		word32 eax_161 = Mem160[fp - 0x14 + 0x00:word32];
		Mem164[fp - 0x48 + 0x00:word32] = 0x080C83CA;
		Mem165[fp - 0x4C + 0x00:word32] = eax_161 + 0x01;
		word32 esi_171;
		word32 ebx_172;
		byte SCZO_173;
		word32 eax_174;
		byte Z_175;
		byte al_176;
		byte SZO_177;
		byte C_178;
		byte S_179;
		word32 edx_180;
		byte bpl_182;
		!popen();
		Mem183[ebp_133 - 0x14 + 0x00:word32] = eax_174;
	}
	else
	{
		if (Mem72[fp - 0x10 + 0x00:word32] != 0x00)
		{
			word32 eax_212 = Mem72[fp - 0x10 + 0x00:word32];
			Mem213[fp - 0x4C + 0x00:word32] = eax_212;
			Strnew_charp(eax_212, dwArg00);
			Mem214[fp - 0x4C + 0x00:word32] = eax_212;
			Mem217[fp - 0x14 + 0x00:word32] = Mem214[unescape_spaces(dwArg00) + 0x00:word32];
			word32 esi_218 = Mem217[0x080D5378:word32];
			word32 ebx_219 = Mem217[135091052:word32];
			word32 eax_220 = Mem217[fp - 0x14 + 0x00:word32];
			Mem221[fp - 0x4C + 0x00:word32] = eax_220;
			Strnew_charp(eax_220, dwArg00);
			Mem222[fp - 0x44 + 0x00:word32] = esi_218;
			Mem223[fp - 0x48 + 0x00:word32] = ebx_219;
			Mem224[fp - 0x4C + 0x00:word32] = eax_220;
			word32 ebx_225;
			Mem228[fp - 0x14 + 0x00:word32] = Mem224[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_225) + 0x00:word32];
		}
		Mem189[fp - 0x4C + 0x00:word32] = Mem72[fp - 0x14 + 0x00:word32];
		Mem191[fp - 0x14 + 0x00:word32] = expandPath(dwArg00);
		Mem193[fp - 0x4C + 0x00:word32] = Mem191[fp - 0x14 + 0x00:word32];
		byte bpl_194;
		if (checkOverWrite(gs, dwArg00, out bpl_194) < 0x00)
		{
			word32 eax_200 = Mem193[Mem193[0x08180718:word32] + 0x08:word32];
			Mem201[fp - 0x48 + 0x00:word32] = 0x00;
			Mem202[fp - 0x4C + 0x00:word32] = eax_200;
			real64 rArg0_203;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_203);
			return;
		}
		word32 eax_206 = Mem193[fp - 0x14 + 0x00:word32];
		Mem207[fp - 0x48 + 0x00:word32] = 0x080C83CA;
		Mem208[fp - 0x4C + 0x00:word32] = eax_206;
		Mem210[fp - 0x18 + 0x00:word32] = fopen(Mem208[fp - 0x4C + 0x00:(ptr char)], Mem208[fp - 0x48 + 0x00:(ptr char)]);
		Mem211[fp - 0x1C + 0x00:word32] = 0x00;
	}
	if (Mem72[ebp_133 - 0x14 + 0x00:word32] == 0x00)
	{
		word32 esi_92 = Mem72[135091052:word32];
		word32 ebx_93 = Mem72[0x080D5378:word32];
		word32 eax_94 = Mem72[ebp_133 - 0x10 + 0x00:word32];
		Mem95[esp_13 + 0x00:word32] = eax_94;
		Strnew_charp(eax_94, dwArg00);
		Mem96[esp_13 + 0x08:word32] = esi_92;
		Mem97[esp_13 + 0x04:word32] = ebx_93;
		Mem98[esp_13 + 0x00:word32] = eax_94;
		word32 ebx_99;
		Mem102[esp_13 + 0x04:word32] = Mem98[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_99) + 0x00:word32];
		Mem103[esp_13 + 0x00:word32] = 0x080C853B;
		byte bpl_104;
		Mem107[ebp_133 - 0x1C + 0x00:word32] = Mem103[Sprintf(dwArg00, out bpl_104) + 0x00:word32];
		Mem108[esp_13 + 0x04:word32] = 0x01;
		Mem110[esp_13 + 0x00:word32] = Mem108[ebp_133 - 0x1C + 0x00:word32];
		byte bpl_111;
		disp_err_message(gs, dwArg00, dwArg04, out bpl_111);
	}
	else
	{
		word32 eax_115 = Mem72[Mem72[0x08180718:word32] + 0x08:word32];
		Mem116[esp_13 + 0x08:word32] = 0x01;
		word32 edx_117 = Mem116[ebp_133 - 0x14 + 0x00:word32];
		Mem118[esp_13 + 0x04:word32] = edx_117;
		Mem119[esp_13 + 0x00:word32] = eax_115;
		saveBuffer(gs, dwArg00, dwArg04, dwArg08);
		if (Mem119[ebp_133 - 0x18 + 0x00:word32] != 0x00)
		{
			word32 eax_141 = Mem119[ebp_133 - 0x14 + 0x00:word32];
			Mem142[esp_13 + 0x00:word32] = eax_141;
			word32 esi_145;
			word32 ebx_146;
			byte SCZO_147;
			word32 eax_148;
			byte Z_149;
			byte al_150;
			byte SZO_151;
			byte C_152;
			byte S_153;
			word32 edx_154;
			byte bpl_156;
			!pclose();
		}
		else
		{
			Mem158[esp_13 + 0x00:word32] = Mem119[ebp_133 - 0x14 + 0x00:word32];
			fclose(Mem158[esp_13 + 0x00:(ptr FILE)]);
		}
		word32 eax_136 = Mem119[Mem119[0x08180718:word32] + 0x08:word32];
		Mem137[esp_13 + 0x04:word32] = 0x00;
		Mem138[esp_13 + 0x00:word32] = eax_136;
		real64 rArg0_139;
		displayBuffer(ebp_133, gs, dwArg00, dwArg04, rArg0, out rArg0_139);
	}
}

// 08055329: void svSrc(Register byte bpl, Register selector gs)
void svSrc(byte bpl, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xB8:word32] != 0x00)
	{
		Mem37[0x08180670:word32] = 0x00;
		Mem38[135774794:byte] = 0x01;
		if (Mem38[Mem38[Mem38[0x08180718:word32] + 0x08:word32] + 0xB4:word32] == 0x04)
		{
			word32 esi_69 = Mem38[135091052:word32];
			word32 ebx_70 = Mem38[0x080D5378:word32];
			word32 eax_76 = guess_save_name(0x00, Mem38[Mem38[Mem38[0x08180718:word32] + 0x08:word32] + 0x9C:word32]);
			Strnew_charp(eax_76, eax_76);
			word32 ebx_81;
			Mem84[fp - 0x10 + 0x00:word32] = Mem38[wc_Str_conv(eax_76, ebx_70, esi_69, out ebx_81) + 0x00:word32];
		}
		else
			guess_save_name(Mem38[Mem38[0x08180718:word32] + 0x08:word32], Mem38[Mem38[Mem38[0x08180718:word32] + 0x08:word32] + 0x98:word32]);
		word32 eax_52 = Mem38[Mem38[Mem38[0x08180718:word32] + 0x08:word32] + 0xB8:word32];
		Mem53[fp - 0x24 + 0x00:word32] = 0x00;
		Mem55[fp - 0x28 + 0x00:word32] = Mem53[fp - 0x10 + 0x00:word32];
		Mem56[fp - 44 + 0x00:word32] = eax_52;
		_doFileCopy(fp - 0x04, gs, dwArg04);
		Mem60[135774794:byte] = 0x00;
		word32 eax_62 = Mem60[Mem60[0x08180718:word32] + 0x08:word32];
		Mem63[fp - 0x28 + 0x00:word32] = 0x00;
		Mem64[fp - 44 + 0x00:word32] = eax_62;
		real64 rArg0_67;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_67);
	}
}

// 08055427: void _peekURL(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void _peekURL(word32 ebp, selector gs, word32 dwArg04)
{
	word32 esp_179 = fp - 0x4C;
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		if (Mem0[0x08180728:word32] == Mem0[135091140:word32] && Mem0[135775216:word32] != 0x00)
		{
			if (Mem0[Mem0[135775216:word32] + 0x04:word32] - Mem0[135775220:word32] >= Mem0[0x081807A0:word32])
				Mem267[135775220:word32] = Mem0[135775220:word32] + 0x01;
			else if (Mem0[Mem0[135775216:word32] + 0x04:word32] <= Mem0[135775220:word32])
				Mem275[135775220:word32] = 0x00;
		}
		else
		{
			word32 eax_118;
			Mem112[135775220:word32] = 0x00;
			Mem113[135775216:word32] = 0x00;
			if (dwArg04 == 0x00)
				eax_118 = retrieveCurrentAnchor(Mem113[Mem113[0x08180718:word32] + 0x08:word32]);
			else
				eax_118 = 0x00;
			word32 dwLoc10_119 = eax_118;
			if (eax_118 == 0x00)
			{
				word32 eax_221;
				if (dwArg04 == 0x00)
					eax_221 = retrieveCurrentForm(Mem113[Mem113[0x08180718:word32] + 0x08:word32]);
				else
					eax_221 = 0x00;
				dwLoc10_119 = eax_221;
				if (eax_221 == 0x00)
				{
					word32 eax_228 = retrieveCurrentImg(Mem113[Mem113[0x08180718:word32] + 0x08:word32]);
					dwLoc10_119 = eax_228;
					if (eax_228 == 0x00)
						return;
				}
				else
				{
					word32 eax_233 = Mem113[eax_221 + 0x00:word32];
					word32 eax_235 = form2str(eax_233, eax_233);
					Strnew_charp(eax_235, eax_235);
					Mem237[135775216:word32] = eax_235;
				}
			}
			if (Mem113[135775216:word32] == 0x00)
			{
				parseURL2(fp - 0x04, Mem113[dwLoc10_119 + 0x00:word32], fp - 0x3C, baseURL(Mem113[Mem113[0x08180718:word32] + 0x08:word32]));
				Mem213[fp - 0x4C + 0x00:word32] = fp - 0x3C;
				byte bpl_214;
				Mem216[135775216:word32] = parsedURL2Str(dwArg00, out bpl_214);
			}
			if (Mem113[135774932:word32] != 0x00)
			{
				word32 eax_196 = Mem113[Mem113[135775216:word32] + 0x00:word32];
				Mem197[fp - 0x48 + 0x00:word32] = Mem113[Mem113[Mem113[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
				Mem198[fp - 0x4C + 0x00:word32] = eax_196;
				word32 eax_199 = url_unquote_conv(dwArg00, dwArg04);
				Mem200[fp - 0x4C + 0x00:word32] = eax_199;
				Strnew_charp(eax_199, dwArg00);
				Mem201[135775216:word32] = eax_199;
			}
			word32 eax_141 = Mem113[135775216:word32];
			Mem142[fp - 0x44 + 0x00:word32] = 0x00;
			Mem144[fp - 0x48 + 0x00:word32] = fp - 0x14;
			Mem145[fp - 0x4C + 0x00:word32] = eax_141;
			Mem148[135775216:word32] = checkType(dwArg00, dwArg04, dwArg08);
			Mem153[fp - 0x4C + 0x00:word32] = Mem148[Mem148[135775216:word32] + 0x04:word32] * 0x02;
			word32 esp_157;
			word32 ebp_158;
			byte SCZO_159;
			word32 eax_160;
			byte SZO_161;
			byte C_162;
			byte Z_163;
			word32 edx_164;
			byte SO_165;
			word32 ecx_166;
			word16 ax_167;
			selector gs_168;
			byte bpl_169;
			!GC_malloc_atomic();
			Mem170[135775224:word32] = eax_160;
			word32 edx_174 = Mem170[135775224:word32];
			word32 eax_175 = Mem170[ebp_158 - 0x10 + 0x00:word32];
			Mem176[esp_157 + 0x08:word32] = Mem170[Mem170[135775216:word32] + 0x04:word32] * 0x02;
			Mem177[esp_157 + 0x04:word32] = edx_174;
			Mem178[esp_157 + 0x00:word32] = eax_175;
			word32 ebp_180;
			byte SCZO_181;
			word32 eax_182;
			byte SZO_183;
			byte C_184;
			byte Z_185;
			word32 edx_186;
			byte SO_187;
			word32 ecx_188;
			word16 ax_189;
			byte bpl_191;
			!bcopy();
		}
		Mem53[135775228:word32] = searchKeyNum();
		if (Mem53[135775228:word32] > 0x01 && Mem53[Mem53[135775216:word32] + 0x04:word32] > (Mem53[0x081807A0:word32] - 0x01) *s (Mem53[135775228:word32] - 0x01))
			Mem108[135775220:word32] = (Mem53[0x081807A0:word32] - 0x01) *s (Mem53[135775228:word32] - 0x01);
		while (Mem53[Mem53[135775216:word32] + 0x04:word32] > Mem53[135775220:word32] && ((word32) ((word16) ((word32) Mem53[135775224:word32][Mem53[135775220:word32] * 0x02])) & 0x0400) != 0x00)
			Mem92[135775220:word32] = Mem53[135775220:word32] + 0x01;
		word32 eax_73 = Mem53[Mem53[135775216:word32] + 0x00:word32] + Mem53[135775220:word32];
		Mem74[esp_179 + 0x04:word32] = 0x01;
		Mem75[esp_179 + 0x00:word32] = eax_73;
		disp_message_nomouse(gs, dwArg00, dwArg04);
	}
}

// 080556C8: void peekURL(Register selector gs)
void peekURL(selector gs)
{
	_peekURL(fp - 0x04, gs, 0x00);
}

// 080556DC: void peekIMG(Register selector gs)
void peekIMG(selector gs)
{
	_peekURL(fp - 0x04, gs, 0x01);
}

// 080556F0: Register word32 currentURL()
word32 currentURL()
{
	word32 eax_13 = (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16];
	word32 eax_14 = eax_13 & 0x08;
	if ((eax_13 & 0x08) != 0x00)
		Strnew_size(eax_13 & 0x08, 0x00);
	else
	{
		byte bpl_36;
		eax_14 = parsedURL2Str(Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x84, out bpl_36);
	}
	return eax_14;
}

// 0805572F: void curURL(Register word32 ebp, Register selector gs)
void curURL(word32 ebp, selector gs)
{
	word16 ax_11 = (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16];
	word32 esp_145 = fp - 44;
	if (((int32) ax_11 & 0x08) == 0x00)
	{
		if (Mem0[0x08180728:word32] == Mem0[135091140:word32] && Mem0[135775200:word32] != 0x00)
		{
			if (Mem0[Mem0[135775200:word32] + 0x04:word32] - Mem0[135775204:word32] >= Mem0[0x081807A0:word32])
				Mem178[135775204:word32] = Mem0[135775204:word32] + 0x01;
			else if (Mem0[Mem0[135775200:word32] + 0x04:word32] <= Mem0[135775204:word32])
				Mem184[135775204:word32] = 0x00;
		}
		else
		{
			Mem101[135775204:word32] = 0x00;
			Mem103[135775200:word32] = currentURL();
			if (Mem103[135774932:word32] != 0x00)
			{
				word32 eax_158 = Mem103[Mem103[135775200:word32] + 0x00:word32];
				Mem159[fp - 0x28 + 0x00:word32] = 0x00;
				Mem160[fp - 44 + 0x00:word32] = eax_158;
				word32 eax_161 = url_unquote_conv(dwArg00, dwArg04);
				Mem162[fp - 44 + 0x00:word32] = eax_161;
				Strnew_charp(eax_161, dwArg00);
				Mem163[135775200:word32] = eax_161;
			}
			word32 eax_108 = Mem103[135775200:word32];
			Mem109[fp - 0x24 + 0x00:word32] = 0x00;
			Mem111[fp - 0x28 + 0x00:word32] = fp - 0x10;
			Mem112[fp - 44 + 0x00:word32] = eax_108;
			Mem115[135775200:word32] = checkType(dwArg00, dwArg04, dwArg08);
			Mem120[fp - 44 + 0x00:word32] = Mem115[Mem115[135775200:word32] + 0x04:word32] * 0x02;
			word32 esp_124;
			word32 ebp_125;
			byte SCZO_126;
			word32 eax_127;
			word16 ax_128;
			byte SZO_129;
			byte C_130;
			byte Z_131;
			word32 edx_132;
			byte SO_133;
			word32 ecx_134;
			selector gs_135;
			!GC_malloc_atomic();
			Mem136[135775208:word32] = eax_127;
			word32 edx_140 = Mem136[135775208:word32];
			word32 eax_141 = Mem136[ebp_125 - 0x0C + 0x00:word32];
			Mem142[esp_124 + 0x08:word32] = Mem136[Mem136[135775200:word32] + 0x04:word32] * 0x02;
			Mem143[esp_124 + 0x04:word32] = edx_140;
			Mem144[esp_124 + 0x00:word32] = eax_141;
			word32 ebp_146;
			byte SCZO_147;
			word32 eax_148;
			word16 ax_149;
			byte SZO_150;
			byte C_151;
			byte Z_152;
			word32 edx_153;
			byte SO_154;
			word32 ecx_155;
			!bcopy();
		}
		Mem45[135775212:word32] = searchKeyNum();
		if (Mem45[135775212:word32] > 0x01 && Mem45[Mem45[135775200:word32] + 0x04:word32] > (Mem45[0x081807A0:word32] - 0x01) *s (Mem45[135775212:word32] - 0x01))
			Mem100[135775204:word32] = (Mem45[0x081807A0:word32] - 0x01) *s (Mem45[135775212:word32] - 0x01);
		while (Mem45[Mem45[135775200:word32] + 0x04:word32] > Mem45[135775204:word32] && ((word32) ((word16) ((word32) Mem45[135775208:word32][Mem45[135775204:word32] * 0x02])) & 0x0400) != 0x00)
			Mem84[135775204:word32] = Mem45[135775204:word32] + 0x01;
		word32 eax_65 = Mem45[Mem45[135775200:word32] + 0x00:word32] + Mem45[135775204:word32];
		Mem66[esp_145 + 0x04:word32] = 0x01;
		Mem67[esp_145 + 0x00:word32] = eax_65;
		disp_message_nomouse(gs, dwArg00, dwArg04);
	}
}

// 08055906: void vwSrc(Register word32 ebp, Register selector gs)
void vwSrc(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x34:word32] != 0x00 && ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16])) & 0x02) == 0x00)
	{
		word32 eax_45 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 44:word32];
		word32 dwLoc14_46 = eax_45;
		if (eax_45 != 0x00)
		{
l0805595F:
			Mem54[Mem0[0x08180718:word32] + 0x08:word32] = dwLoc14_46;
			real64 rArg0_61;
			displayBuffer(fp - 0x04, gs, Mem54[Mem54[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_61);
			return;
		}
		word32 eax_69 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 44:word32];
		dwLoc14_46 = eax_69;
		if (eax_69 != 0x00)
			goto l0805595F;
		if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xB8:word32] != 0x00)
		{
l08055AA4:
			word32 eax_307;
			word32 edx_87 = Mem0[0x081807A0:word32];
			if (Mem0[0x0817C2D8:word32] != 0x00)
				eax_307 = 0x06;
			else
				eax_307 = 0x01;
			word32 ecx_95 = edx_87 - eax_307;
			word32 eax_105 = ecx_95;
			if (ecx_95 < 0x00)
				eax_105 = 0x00;
			Mem106[fp - 0x3C + 0x00:word32] = eax_105;
			Mem109[fp - 0x14 + 0x00:word32] = newBuffer(eax_105, dwArg00);
			Mem113[fp - 0x3C + 0x00:word32] = Mem109[Mem109[Mem109[0x08180718:word32] + 0x08:word32] + 0x34:word32];
			if (is_html_type(dwArg00) != 0x00)
			{
				Mem201[Mem113[fp - 0x14 + 0x00:word32] + 0x34:word32] = 0x080C8404;
				if (Mem201[Mem201[Mem201[0x08180718:word32] + 0x08:word32] + 0x38:word32] != 0x00)
				{
					Mem240[fp - 0x3C + 0x00:word32] = Mem201[Mem201[Mem201[0x08180718:word32] + 0x08:word32] + 0x38:word32];
					if (is_html_type(dwArg00) != 0x00)
					{
						Mem246[Mem240[fp - 0x14 + 0x00:word32] + 0x38:word32] = 0x080C8404;
l08055B42:
						Mem214[fp - 0x38 + 0x00:word32] = Mem201[Mem201[Mem201[0x08180718:word32] + 0x08:word32] + 0x04:word32];
						Mem215[fp - 0x3C + 0x00:word32] = 0x080C879F;
						byte bpl_216;
						Mem220[Mem215[fp - 0x14 + 0x00:word32] + 0x04:word32] = Mem215[Sprintf(dwArg00, out bpl_216) + 0x00:word32];
						Mem224[Mem220[fp - 0x14 + 0x00:word32] + 44:word32] = Mem220[Mem220[0x08180718:word32] + 0x08:word32];
						Mem228[Mem224[Mem224[0x08180718:word32] + 0x08:word32] + 44:word32] = Mem224[fp - 0x14 + 0x00:word32];
						goto l08055C3D;
					}
				}
				Mem236[Mem201[fp - 0x14 + 0x00:word32] + 0x38:word32] = Mem201[Mem201[Mem201[0x08180718:word32] + 0x08:word32] + 0x38:word32];
				goto l08055B42;
			}
			word32 eax_249 = Mem113[Mem113[Mem113[0x08180718:word32] + 0x08:word32] + 0x34:word32];
			Mem250[fp - 0x38 + 0x00:word32] = 0x080C8404;
			Mem251[fp - 0x3C + 0x00:word32] = eax_249;
			if (strcasecmp(Mem251[fp - 0x3C + 0x00:(ptr char)], Mem251[fp - 0x38 + 0x00:(ptr char)]) != 0x00)
				return;
			Mem257[Mem251[fp - 0x14 + 0x00:word32] + 0x34:word32] = 0x080C7FCE;
			if (Mem257[Mem257[Mem257[0x08180718:word32] + 0x08:word32] + 0x38:word32] != 0x00)
			{
				word32 eax_295 = Mem257[Mem257[Mem257[0x08180718:word32] + 0x08:word32] + 0x38:word32];
				Mem296[fp - 0x38 + 0x00:word32] = 0x080C8404;
				Mem297[fp - 0x3C + 0x00:word32] = eax_295;
				if (strcasecmp(Mem297[fp - 0x3C + 0x00:(ptr char)], Mem297[fp - 0x38 + 0x00:(ptr char)]) == 0x00)
				{
					Mem303[Mem297[fp - 0x14 + 0x00:word32] + 0x38:word32] = 0x080C7FCE;
l08055BFE:
					Mem270[fp - 0x38 + 0x00:word32] = Mem257[Mem257[Mem257[0x08180718:word32] + 0x08:word32] + 0x04:word32];
					Mem271[fp - 0x3C + 0x00:word32] = 0x080C87AC;
					byte bpl_272;
					Mem276[Mem271[fp - 0x14 + 0x00:word32] + 0x04:word32] = Mem271[Sprintf(dwArg00, out bpl_272) + 0x00:word32];
					Mem280[Mem276[fp - 0x14 + 0x00:word32] + 44:word32] = Mem276[Mem276[0x08180718:word32] + 0x08:word32];
					Mem284[Mem280[Mem280[0x08180718:word32] + 0x08:word32] + 44:word32] = Mem280[fp - 0x14 + 0x00:word32];
l08055C3D:
					word32 edx_123 = Mem113[Mem113[0x08180718:word32] + 0x08:word32];
					word32 eax_124 = Mem113[fp - 0x14 + 0x00:word32];
					Mem126[eax_124 + 0x84:word32] = Mem113[edx_123 + 0x84:word32];
					Mem128[eax_124 + 0x88:word32] = Mem126[edx_123 + 0x88:word32];
					Mem130[eax_124 + 0x8C:word32] = Mem128[edx_123 + 0x8C:word32];
					Mem132[eax_124 + 0x90:word32] = Mem130[edx_123 + 0x90:word32];
					Mem134[eax_124 + 0x94:word32] = Mem132[edx_123 + 0x94:word32];
					Mem136[eax_124 + 0x98:word32] = Mem134[edx_123 + 0x98:word32];
					Mem138[eax_124 + 0x9C:word32] = Mem136[edx_123 + 0x9C:word32];
					Mem140[eax_124 + 0xA0:word32] = Mem138[edx_123 + 0xA0:word32];
					Mem142[eax_124 + 0xA4:word32] = Mem140[edx_123 + 0xA4:word32];
					Mem144[eax_124 + 0xA8:word32] = Mem142[edx_123 + 0xA8:word32];
					Mem149[Mem144[fp - 0x14 + 0x00:word32] + 0xB4:word32] = Mem144[Mem144[Mem144[0x08180718:word32] + 0x08:word32] + 0xB4:word32];
					Mem154[Mem149[fp - 0x14 + 0x00:word32] + 0x00:word32] = Mem149[Mem149[Mem149[0x08180718:word32] + 0x08:word32] + 0x00:word32];
					Mem159[Mem154[fp - 0x14 + 0x00:word32] + 0xB8:word32] = Mem154[Mem154[Mem154[0x08180718:word32] + 0x08:word32] + 0xB8:word32];
					Mem164[Mem159[fp - 0x14 + 0x00:word32] + 0xF0:word32] = Mem159[Mem159[Mem159[0x08180718:word32] + 0x08:word32] + 0xF0:word32];
					Mem170[Mem164[fp - 0x14 + 0x00:word32] + 244:byte] = (byte) (word32) Mem164[Mem164[Mem164[0x08180718:word32] + 0x08:word32] + 244:byte];
					Mem175[Mem170[fp - 0x14 + 0x00:word32] + 0xD0:word32] = Mem170[Mem170[Mem170[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
					Mem180[Mem175[fp - 0x14 + 0x00:word32] + 0xC4:word32] = Mem175[Mem175[Mem175[0x08180718:word32] + 0x08:word32] + 0xC4:word32];
					word32 eax_182 = Mem180[Mem180[fp - 0x14 + 0x00:word32] + 0xC4:word32];
					Mem186[eax_182 + 0x00:word32] = Mem180[eax_182 + 0x00:word32] + 0x01;
					Mem188[Mem186[fp - 0x14 + 0x00:word32] + 0xF7:byte] = 0x01;
					Mem190[fp - 0x3C + 0x00:word32] = Mem188[fp - 0x14 + 0x00:word32];
					reshapeBuffer(fp - 0x04, gs, dwArg00);
					Mem192[fp - 0x3C + 0x00:word32] = Mem190[fp - 0x14 + 0x00:word32];
					pushBuffer(fp - 0x04, gs);
					word32 eax_194 = Mem192[Mem192[0x08180718:word32] + 0x08:word32];
					Mem195[fp - 0x38 + 0x00:word32] = 0x00;
					Mem196[fp - 0x3C + 0x00:word32] = eax_194;
					real64 rArg0_198;
					displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_198);
					return;
				}
			}
			Mem292[Mem257[fp - 0x14 + 0x00:word32] + 0x38:word32] = Mem257[Mem257[Mem257[0x08180718:word32] + 0x08:word32] + 0x38:word32];
			goto l08055BFE;
		}
		if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5C:word32] == 0x00 || strcasecmp(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x34:word32], 0x080C8404) != 0x00)
			return;
		byte bpl_330;
		Mem332[fp - 0x20 + 0x00:word32] = tmpfname(fp - 0x04, 0x01, 0x00, out bpl_330);
		word32 eax_335 = Mem332[Mem332[fp - 0x20 + 0x00:word32] + 0x00:word32];
		Mem336[fp - 0x38 + 0x00:word32] = 0x080C83CA;
		Mem337[fp - 0x3C + 0x00:word32] = eax_335;
		Mem339[fp - 0x1C + 0x00:word32] = fopen(Mem337[fp - 0x3C + 0x00:(ptr char)], Mem337[fp - 0x38 + 0x00:(ptr char)]);
		if (Mem339[fp - 0x1C + 0x00:word32] != 0x00)
		{
			word32 eax_353;
			Mem343[fp - 0x18 + 0x00:word32] = Mem339[0x080D5370:word32];
			Mem346[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem343[135119013:byte];
			if (Mem346[Mem346[Mem346[0x08180718:word32] + 0x08:word32] + 0xD0:word32] != 0x0100)
				eax_353 = Mem346[Mem346[Mem346[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
			else
				eax_353 = 0x00;
			Mem354[0x080D5370:word32] = eax_353;
			Mem355[135119013:byte] = 0x00;
			word32 eax_357 = Mem355[Mem355[0x08180718:word32] + 0x08:word32];
			Mem358[fp - 0x34 + 0x00:word32] = 0x01;
			Mem360[fp - 0x38 + 0x00:word32] = Mem358[fp - 0x1C + 0x00:word32];
			Mem361[fp - 0x3C + 0x00:word32] = eax_357;
			saveBufferBody(gs, dwArg00, dwArg04, dwArg08);
			Mem364[0x080D5370:word32] = Mem361[fp - 0x18 + 0x00:word32];
			Mem367[135119013:byte] = (byte) (word32) Mem364[fp - 0x0D + 0x00:byte];
			Mem369[fp - 0x3C + 0x00:word32] = Mem367[fp - 0x1C + 0x00:word32];
			fclose(Mem369[fp - 0x3C + 0x00:(ptr FILE)]);
			Mem375[Mem369[Mem369[0x08180718:word32] + 0x08:word32] + 0xB8:word32] = Mem369[Mem369[fp - 0x20 + 0x00:word32] + 0x00:word32];
			goto l08055AA4;
		}
	}
}

// 08055DB6: void reload(Register word32 ebp, Register selector gs)
void reload(word32 ebp, selector gs)
{
	if (((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16] & 0x08) != 0x00)
	{
		if (strcmp(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x04:word32], 0x080C82BD) == 0x00)
			ldDL(fp - 0x04, gs);
		else
		{
			byte bpl_65;
			disp_err_message(gs, 0x080C87BC, 0x01, out bpl_65);
		}
		return;
	}
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x84:word32] == 0x04 && strcmp(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x98:word32], 0x080C829F) == 0x00)
	{
		byte bpl_463;
		disp_err_message(gs, 0x080C87CC, 0x01, out bpl_463);
		return;
	}
	copyBuffer(fp - 388, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	if (((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16] & 0x02) != 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x20:word32] != 0x00)
	{
		if ((byte) (word32) Mem0[135774799:byte] != 0x00)
		{
			message(0x080C87DF, 0x00, 0x00);
			refresh(fp - 0x04);
		}
		Mem348[fp - 424 + 0x00:word32] = 0x01;
		Mem350[fp - 0x01AC + 0x00:word32] = Mem348[fp - 0x14 + 0x00:word32];
		Mem352[fp - 0x10 + 0x00:word32] = renderFrame(fp - 0x04, gs);
		if (Mem352[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_356 = Mem352[Mem352[0x08180718:word32] + 0x08:word32];
			Mem357[fp - 424 + 0x00:word32] = 0x00;
			Mem358[fp - 0x01AC + 0x00:word32] = eax_356;
			real64 rArg0_359;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_359);
		}
		else
		{
			if (Mem352[Mem352[fp - 0x14 + 0x00:word32] + 0x1C:word32] != 0x00)
			{
				if (Mem352[Mem352[fp - 0x10 + 0x00:word32] + 0xB8:word32] != 0x00 && Mem352[Mem352[Mem352[(fp - 0x14) + 0x00:word32] + 0x1C:word32] + 0xB8:word32] != 0x00)
				{
					word32 eax_438 = Mem352[Mem352[fp - 0x10 + 0x00:word32] + 0xB8:word32];
					Mem439[fp - 424 + 0x00:word32] = Mem352[Mem352[Mem352[fp - 0x14 + 0x00:word32] + 0x1C:word32] + 0xB8:word32];
					Mem440[fp - 0x01AC + 0x00:word32] = eax_438;
					if (strcmp(Mem440[fp - 0x01AC + 0x00:(ptr char)], Mem440[fp - 424 + 0x00:(ptr char)]) == 0x00)
						Mem447[Mem440[Mem440[fp - 0x14 + 0x00:word32] + 0x1C:word32] + 0xB8:word32] = 0x00;
				}
				Mem427[fp - 0x01AC + 0x00:word32] = Mem352[Mem352[fp - 0x14 + 0x00:word32] + 0x1C:word32];
				delBuffer(gs, dwArg00);
			}
			Mem368[Mem352[fp - 0x14 + 0x00:word32] + 0x1C:word32] = Mem352[fp - 0x10 + 0x00:word32];
			Mem371[Mem368[fp - 0x10 + 0x00:word32] + 0x20:word32] = Mem368[fp - 0x14 + 0x00:word32];
			Mem373[fp - 0x01AC + 0x00:word32] = Mem371[fp - 0x10 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
			Mem376[Mem373[0x08180718:word32] + 0x08:word32] = Mem373[fp - 0x10 + 0x00:word32];
			if (Mem376[Mem376[Mem376[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
			{
				Mem395[Mem376[Mem376[0x08180718:word32] + 0x08:word32] + 0x54:word16] = (word16) (word32) Mem376[fp - 0x0130 + 0x00:word16];
				Mem400[Mem395[Mem395[0x08180718:word32] + 0x08:word32] + 0x56:word16] = (word16) (word32) Mem395[fp - 0x012E + 0x00:word16];
				Mem405[Mem400[Mem400[0x08180718:word32] + 0x08:word32] + 88:word16] = (word16) (word32) Mem400[fp - 300 + 0x00:word16];
				Mem410[Mem405[Mem405[0x08180718:word32] + 0x08:word32] + 0x5A:word16] = (word16) (word32) Mem405[fp - 0x012A + 0x00:word16];
				word32 eax_412 = Mem410[Mem410[0x08180718:word32] + 0x08:word32];
				Mem414[fp - 424 + 0x00:word32] = fp - 388;
				Mem415[fp - 0x01AC + 0x00:word32] = eax_412;
				restorePosition(fp - 0x04, gs, dwArg00, dwArg04);
			}
			word32 eax_386 = Mem376[Mem376[0x08180718:word32] + 0x08:word32];
			Mem387[fp - 424 + 0x00:word32] = 0x01;
			Mem388[fp - 0x01AC + 0x00:word32] = eax_386;
			real64 rArg0_389;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_389);
		}
		return;
	}
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 220:word32] != 0x00)
	{
		word32 eax_300 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 220:word32] + 0x40:word32];
		if (Mem0[eax_300 + 0x08:word32] == 0x01 && Mem0[eax_300 + 0x1C:word32] == 0x01)
		{
			query_from_followform(fp - 0x28, fp - 0x04, 0x01);
			word32 eax_320 = Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x28:word32];
			Mem322[fp - 424 + 0x00:word32] = fp - 0x80;
			Mem323[fp - 0x01AC + 0x00:word32] = eax_320;
			stat(dwArg00, dwArg04);
			Mem328[Mem323[fp - 0x20 + 0x00:word32] + 0x30:word32] = Mem323[fp - 0x54 + 0x00:word32];
		}
	}
	Mem112[fp - 0x01AC + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x84;
	byte bpl_114;
	Mem116[fp - 0x1C + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_114);
	Mem117[fp - 0x01A4 + 0x00:word32] = 0x00;
	Mem118[fp - 424 + 0x00:word32] = 0x00;
	Mem119[fp - 0x01AC + 0x00:word32] = 0x080C87EF;
	message(dwArg00, dwArg04, dwArg08);
	refresh(fp - 0x04);
	Mem124[fp - 0x18 + 0x00:word32] = Mem119[135091060:word32];
	if (Mem124[Mem124[Mem124[0x08180718:word32] + 0x08:word32] + 0xD0:word32] != 0x0100)
		Mem296[135091060:word32] = Mem124[Mem124[Mem124[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
	Mem134[135774784:byte] = (byte) (word32) Mem124[Mem124[Mem124[0x08180718:word32] + 0x08:word32] + 244:byte];
	Mem138[135774788:word32] = Mem134[Mem134[Mem134[0x08180718:word32] + 0x08:word32] + 0x38:word32];
	word32 eax_140 = Mem138[Mem138[fp - 0x1C + 0x00:word32] + 0x00:word32];
	Mem142[fp - 0x019C + 0x00:word32] = Mem138[fp - 0x20 + 0x00:word32];
	Mem143[fp - 0x01A0 + 0x00:word32] = 0x01;
	Mem144[fp - 0x01A4 + 0x00:word32] = ~0x00;
	Mem145[fp - 424 + 0x00:word32] = 0x00;
	Mem146[fp - 0x01AC + 0x00:word32] = eax_140;
	Mem148[fp - 0x10 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
	Mem150[135091060:word32] = Mem148[fp - 0x18 + 0x00:word32];
	Mem151[135774784:byte] = 0x00;
	Mem152[135774788:word32] = 0x00;
	if (Mem152[fp - 0x24 + 0x00:word32] != 0x00)
	{
		Mem291[fp - 0x01AC + 0x00:word32] = Mem152[Mem152[fp - 0x20 + 0x00:word32] + 0x28:word32];
		unlink(Mem291[fp - 0x01AC + 0x00:(ptr char)]);
	}
	if (Mem152[fp - 0x10 + 0x00:word32] == 0x00)
	{
		Mem158[fp - 424 + 0x00:word32] = 0x01;
		Mem159[fp - 0x01AC + 0x00:word32] = 0x080C87BC;
		byte bpl_160;
		disp_err_message(gs, dwArg00, dwArg04, out bpl_160);
		return;
	}
	if (Mem152[fp - 0x10 + 0x00:word32] == 0x01)
	{
		word32 eax_165 = Mem152[Mem152[0x08180718:word32] + 0x08:word32];
		Mem166[fp - 424 + 0x00:word32] = 0x00;
		Mem167[fp - 0x01AC + 0x00:word32] = eax_165;
		real64 rArg0_168;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_168);
		return;
	}
	if (Mem152[fp - 0x14 + 0x00:word32] != 0x00)
	{
		word32 eax_282 = Mem152[Mem152[0x08180718:word32] + 0x0C:word32];
		Mem284[fp - 424 + 0x00:word32] = Mem152[fp - 0x14 + 0x00:word32];
		Mem285[fp - 0x01AC + 0x00:word32] = eax_282;
		word32 ebx_286;
		word32 eax_287 = deleteBuffer(gs, dwArg00, dwArg04, out ebx_286);
		Mem288[ebx_286 + 0x0C:word32] = eax_287;
	}
	word32 eax_174 = Mem152[Mem152[0x08180718:word32] + 0x08:word32];
	Mem176[fp - 424 + 0x00:word32] = Mem152[fp - 0x10 + 0x00:word32];
	Mem177[fp - 0x01AC + 0x00:word32] = eax_174;
	repBuffer(gs, dwArg00, dwArg04);
	if (Mem177[Mem177[fp - 0x10 + 0x00:word32] + 0x34:word32] != 0x00 && Mem177[(fp - 336) + 0x00:word32] != 0x00)
	{
		word32 eax_238 = Mem177[Mem177[fp - 0x10 + 0x00:word32] + 0x34:word32];
		Mem239[fp - 424 + 0x00:word32] = 0x080C8404;
		Mem240[fp - 0x01AC + 0x00:word32] = eax_238;
		if (strcasecmp(Mem240[fp - 0x01AC + 0x00:(ptr char)], Mem240[fp - 424 + 0x00:(ptr char)]) == 0x00)
		{
			Mem275[fp - 0x01AC + 0x00:word32] = Mem240[fp - 336 + 0x00:word32];
			if (is_html_type(dwArg00) != 0x00)
				goto l080562D1;
		}
		Mem262[fp - 0x01AC + 0x00:word32] = Mem240[Mem240[fp - 0x10 + 0x00:word32] + 0x34:word32];
		if (is_html_type(dwArg00) == 0x00)
			goto l08056303;
		word32 eax_267 = Mem262[fp - 336 + 0x00:word32];
		Mem268[fp - 424 + 0x00:word32] = 0x080C8404;
		Mem269[fp - 0x01AC + 0x00:word32] = eax_267;
		if (strcasecmp(Mem269[fp - 0x01AC + 0x00:(ptr char)], Mem269[fp - 424 + 0x00:(ptr char)]) == 0x00)
		{
l080562D1:
			vwSrc(fp - 0x04, gs);
			if (Mem240[Mem240[0x08180718:word32] + 0x08:word32] != Mem240[(fp - 0x10) + 0x00:word32])
			{
				word32 eax_253 = Mem240[Mem240[0x08180718:word32] + 0x0C:word32];
				Mem255[fp - 424 + 0x00:word32] = Mem240[fp - 0x10 + 0x00:word32];
				Mem256[fp - 0x01AC + 0x00:word32] = eax_253;
				word32 ebx_257;
				word32 eax_258 = deleteBuffer(gs, dwArg00, dwArg04, out ebx_257);
				Mem259[ebx_257 + 0x0C:word32] = eax_258;
			}
			goto l08056303;
		}
	}
l08056303:
	Mem189[Mem177[Mem177[0x08180718:word32] + 0x08:word32] + 244:byte] = (byte) (word32) Mem177[fp - 0x90 + 0x00:byte];
	Mem193[Mem189[Mem189[0x08180718:word32] + 0x08:word32] + 220:word32] = Mem189[fp - 0xA8 + 0x00:word32];
	if (Mem193[Mem193[Mem193[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		Mem212[Mem193[Mem193[0x08180718:word32] + 0x08:word32] + 0x54:word16] = (word16) (word32) Mem193[fp - 0x0130 + 0x00:word16];
		Mem217[Mem212[Mem212[0x08180718:word32] + 0x08:word32] + 0x56:word16] = (word16) (word32) Mem212[fp - 0x012E + 0x00:word16];
		Mem222[Mem217[Mem217[0x08180718:word32] + 0x08:word32] + 88:word16] = (word16) (word32) Mem217[fp - 300 + 0x00:word16];
		Mem227[Mem222[Mem222[0x08180718:word32] + 0x08:word32] + 0x5A:word16] = (word16) (word32) Mem222[fp - 0x012A + 0x00:word16];
		word32 eax_229 = Mem227[Mem227[0x08180718:word32] + 0x08:word32];
		Mem231[fp - 424 + 0x00:word32] = fp - 388;
		Mem232[fp - 0x01AC + 0x00:word32] = eax_229;
		restorePosition(fp - 0x04, gs, dwArg00, dwArg04);
	}
	word32 eax_203 = Mem193[Mem193[0x08180718:word32] + 0x08:word32];
	Mem204[fp - 424 + 0x00:word32] = 0x01;
	Mem205[fp - 0x01AC + 0x00:word32] = eax_203;
	real64 rArg0_206;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_206);
}

// 080563C2: void reshape(Register word32 ebp, Register selector gs)
void reshape(word32 ebp, selector gs)
{
	Mem11[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xF7:byte] = 0x01;
	reshapeBuffer(fp - 0x04, gs, Mem11[Mem11[0x08180718:word32] + 0x08:word32]);
	word32 eax_17 = Mem11[Mem11[0x08180718:word32] + 0x08:word32];
	Mem18[fp - 0x18 + 0x00:word32] = 0x01;
	Mem19[fp - 0x1C + 0x00:word32] = eax_17;
	real64 rArg0_23;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_23);
}

// 08056401: void _docCSet(Register selector gs, Stack word32 dwArg04)
void _docCSet(selector gs, word32 dwArg04)
{
	if (((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16] & 0x08) == 0x00)
	{
		if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xB8:word32] == 0x00)
			disp_message(gs, 0x080C87BC, 0x00);
		else
		{
			Mem44[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xD0:word32] = dwArg04;
			Mem47[Mem44[Mem44[0x08180718:word32] + 0x08:word32] + 0xF7:byte] = 0x01;
			real64 rArg0_52;
			displayBuffer(fp - 0x04, gs, Mem47[Mem47[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_52);
		}
	}
}

// 08056480: void change_charset(Register word32 ebp, Register selector gs)
void change_charset(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x28:word32] != 0x00)
	{
		delBuffer(gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		Mem31[Mem0[0x08180718:word32] + 0x08:word32] = Mem0[fp - 0x10 + 0x00:word32];
		if (((int32) (word16) (word32) Mem31[Mem31[Mem31[0x08180718:word32] + 0x08:word32] + 0x40:word16] & 0x08) == 0x00)
		{
			Mem44[fp - 0x14 + 0x00:word32] = Mem31[Mem31[Mem31[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
			while (Mem44[fp + 0x04:word32] != 0x00)
			{
				word32 eax_54 = Mem44[Mem44[fp + 0x04:word32] + 0x00:word32];
				Mem55[fp - 0x28 + 0x00:word32] = 0x080C87FC;
				Mem56[fp - 44 + 0x00:word32] = eax_54;
				if (strcmp(Mem56[fp - 44 + 0x00:(ptr char)], Mem56[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
				{
					Mem66[fp - 44 + 0x00:word32] = Mem56[Mem56[fp + 0x04:word32] + 0x04:word32];
					Mem68[fp - 0x14 + 0x00:word32] = atoi(Mem66[fp - 44 + 0x00:(ptr char)]);
				}
				Mem63[fp + 0x04:word32] = Mem56[Mem56[fp + 0x04:word32] + 0x08:word32];
			}
			Mem51[fp - 44 + 0x00:word32] = Mem44[fp - 0x14 + 0x00:word32];
			_docCSet(gs, dwArg00);
		}
	}
}

// 0805652C: void docCSet(Register word32 ebp, Register selector gs)
void docCSet(word32 ebp, selector gs)
{
	word32 eax_8 = searchKeyData();
	if (eax_8 == 0x00 || (byte) ((word32) Mem0[eax_8 + 0x00:byte]) == 0x00)
		Mem63[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C8804, wc_ces_to_charset(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xD0:word32]), 0x10, 0x00);
	Mem23[fp - 0x38 + 0x00:word32] = 0x00;
	Mem25[fp - 0x3C + 0x00:word32] = Mem23[fp - 0x10 + 0x00:word32];
	Mem30[fp - 0x14 + 0x00:word32] = wc_guess_charset_short(gs, dwArg00, dwArg04);
	if (Mem30[fp - 0x14 + 0x00:word32] == 0x00)
	{
		word32 eax_39 = Mem30[Mem30[0x08180718:word32] + 0x08:word32];
		Mem40[fp - 0x38 + 0x00:word32] = 0x00;
		Mem41[fp - 0x3C + 0x00:word32] = eax_39;
		real64 rArg0_43;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_43);
	}
	else
	{
		Mem46[fp - 0x3C + 0x00:word32] = Mem30[fp - 0x14 + 0x00:word32];
		_docCSet(gs, dwArg00);
	}
}

// 080565CE: void defCSet(Register word32 ebp, Register selector gs)
void defCSet(word32 ebp, selector gs)
{
	word32 eax_8 = searchKeyData();
	if (eax_8 == 0x00 || (byte) ((word32) Mem0[eax_8 + 0x00:byte]) == 0x00)
		Mem59[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C8817, wc_ces_to_charset(Mem0[135091060:word32]), 0x10, 0x00);
	Mem23[fp - 0x38 + 0x00:word32] = 0x00;
	Mem25[fp - 0x3C + 0x00:word32] = Mem23[fp - 0x10 + 0x00:word32];
	Mem30[fp - 0x14 + 0x00:word32] = wc_guess_charset_short(gs, dwArg00, dwArg04);
	if (Mem30[fp - 0x14 + 0x00:word32] != 0x00)
		Mem44[135091060:word32] = Mem30[fp - 0x14 + 0x00:word32];
	word32 eax_34 = Mem30[Mem30[0x08180718:word32] + 0x08:word32];
	Mem35[fp - 0x38 + 0x00:word32] = 0x00;
	Mem36[fp - 0x3C + 0x00:word32] = eax_34;
	real64 rArg0_38;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_38);
}

// 08056662: void chkURLBuffer(Register word32 ebp, Register selector gs)
void chkURLBuffer(word32 ebp, selector gs)
{
	while (0x080D53E0[Mem0[fp - 0x10 + 0x00:word32] * 0x04] != 0x00)
	{
		Mem33[fp - 0x28 + 0x00:word32] = 0x080D53E0[Mem0[fp - 0x10 + 0x00:word32] * 0x04];
		Mem35[fp - 44 + 0x00:word32] = Mem33[fp + 0x04:word32];
		reAnchor(gs, dwArg00, dwArg04);
		Mem39[fp - 0x10 + 0x00:word32] = Mem35[fp - 0x10 + 0x00:word32] + 0x01;
	}
	Mem17[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
	chkExternalURIBuffer(fp - 0x04, gs);
	Mem27[Mem17[fp + 0x04:word32] + 0xCC:byte] = (byte) ((word32) Mem17[Mem17[fp + 0x04:word32] + 0xCC:byte] | 0x01);
}

// 080566C1: void chkURL(Register word32 ebp, Register selector gs)
void chkURL(word32 ebp, selector gs)
{
	chkURLBuffer(fp - 0x04, gs);
	word32 eax_14 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem15[fp - 0x18 + 0x00:word32] = 0x01;
	Mem16[fp - 0x1C + 0x00:word32] = eax_14;
	real64 rArg0_20;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_20);
}

// 080566F1: void chkWORD(Register selector gs)
void chkWORD(selector gs)
{
	if (getCurWord(Mem0[Mem0[0x08180718:word32] + 0x08:word32], fp - 0x14, fp - 0x18, 0x080C8832) != 0x00)
	{
		reAnchorWord(Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32], dwLoc14, dwLoc18);
		real64 rArg0_57;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_57);
	}
}

// 08056775: void chkNMIDBuffer(Register word32 ebp, Register selector gs)
void chkNMIDBuffer(word32 ebp, selector gs)
{
	while (0x080D53D8[Mem0[fp - 0x10 + 0x00:word32] * 0x04] != 0x00)
	{
		Mem30[fp - 0x28 + 0x00:word32] = 0x080D53D8[Mem0[fp - 0x10 + 0x00:word32] * 0x04];
		Mem32[fp - 44 + 0x00:word32] = Mem30[fp + 0x04:word32];
		reAnchorNews(gs, dwArg00, dwArg04);
		Mem37[fp - 0x10 + 0x00:word32] = Mem32[fp - 0x10 + 0x00:word32] + 0x01;
	}
	Mem24[Mem0[fp + 0x04:word32] + 0xCC:byte] = (byte) ((word32) Mem0[Mem0[fp + 0x04:word32] + 0xCC:byte] | 0x02);
}

// 080567C9: void chkNMID(Register word32 ebp, Register selector gs)
void chkNMID(word32 ebp, selector gs)
{
	chkNMIDBuffer(fp - 0x04, gs);
	word32 eax_14 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem15[fp - 0x18 + 0x00:word32] = 0x01;
	Mem16[fp - 0x1C + 0x00:word32] = eax_14;
	real64 rArg0_20;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_20);
}

// 080567F9: void rFrame(Register word32 ebp, Register selector gs)
void rFrame(word32 ebp, selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x1C:word32];
	if (eax_10 != 0x00)
	{
		Mem31[Mem0[0x08180718:word32] + 0x08:word32] = eax_10;
		real64 rArg0_38;
		displayBuffer(fp - 0x04, gs, Mem31[Mem31[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_38);
	}
	else if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 188:word32] == 0x00)
	{
		word32 eax_52 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x20:word32];
		if (eax_52 != 0x00)
		{
			Mem58[Mem0[0x08180718:word32] + 0x08:word32] = eax_52;
			real64 rArg0_63;
			displayBuffer(fp - 0x04, gs, Mem58[Mem58[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_63);
		}
	}
	else
	{
		if ((byte) (word32) Mem0[135774799:byte] != 0x00)
		{
			message(0x080C87DF, 0x00, 0x00);
			refresh(fp - 0x04);
		}
		word32 eax_77 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem78[fp - 0x28 + 0x00:word32] = 0x00;
		Mem79[fp - 44 + 0x00:word32] = eax_77;
		Mem81[fp - 0x10 + 0x00:word32] = renderFrame(fp - 0x04, gs);
		if (Mem81[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_85 = Mem81[Mem81[0x08180718:word32] + 0x08:word32];
			Mem86[fp - 0x28 + 0x00:word32] = 0x00;
			Mem87[fp - 44 + 0x00:word32] = eax_85;
			real64 rArg0_90;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_90);
		}
		else
		{
			Mem95[Mem81[fp - 0x10 + 0x00:word32] + 0x20:word32] = Mem81[Mem81[0x08180718:word32] + 0x08:word32];
			Mem99[Mem95[Mem95[0x08180718:word32] + 0x08:word32] + 0x1C:word32] = Mem95[fp - 0x10 + 0x00:word32];
			Mem101[fp - 44 + 0x00:word32] = Mem99[fp - 0x10 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
			if ((byte) (word32) Mem101[135774799:byte] != 0x00 && Mem101[135775172:word32] != 0x00)
			{
				word32 eax_112 = Mem101[Mem101[0x08180718:word32] + 0x08:word32];
				Mem113[fp - 0x28 + 0x00:word32] = 0x01;
				Mem114[fp - 44 + 0x00:word32] = eax_112;
				real64 rArg0_115;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_115);
			}
		}
	}
}

// 0805694C: void invoke_browser(Register word32 ebp, Register selector gs)
void invoke_browser(word32 ebp, selector gs)
{
	Mem16[0x08180670:word32] = 0x00;
	word32 eax_17 = searchKeyData();
	word32 dwLoc14_136 = eax_17;
	if (eax_17 != 0x00 && (byte) ((word32) Mem16[eax_17 + 0x00:byte]) != 0x00)
	{
		word32 esi_196 = Mem16[0x080D5378:word32];
		word32 ebx_197 = Mem16[135091052:word32];
		Strnew_charp(eax_17, eax_17);
		word32 ebx_203;
		Mem206[fp - 0x14 + 0x00:word32] = Mem16[wc_Str_conv_strict(eax_17, ebx_197, esi_196, out ebx_203) + 0x00:word32];
	}
	else
	{
		word32 eax_131 = Mem16[135775132:word32];
		if (eax_131 != 0x02)
		{
			if (eax_131 <= 0x02)
			{
				if (eax_131 >= 0x00)
					dwLoc14_136 = Mem16[135090980:word32];
			}
			else if (eax_131 == 0x03)
				dwLoc14_136 = Mem16[135774952:word32];
		}
		else
			dwLoc14_136 = Mem16[135774948:word32];
		if (dwLoc14_136 == 0x00 || (byte) ((word32) Mem16[dwLoc14_136 + 0x00:byte]) == 0x00)
		{
			Mem151[fp - 0x14 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C8845, 0x00, 0x10, 0x00);
			if (Mem151[fp - 0x14 + 0x00:word32] != 0x00)
			{
				word32 esi_154 = Mem151[0x080D5378:word32];
				word32 ebx_155 = Mem151[135091052:word32];
				word32 eax_156 = Mem151[fp - 0x14 + 0x00:word32];
				Mem157[fp - 0x3C + 0x00:word32] = eax_156;
				Strnew_charp(eax_156, dwArg00);
				Mem158[fp - 0x34 + 0x00:word32] = esi_154;
				Mem159[fp - 0x38 + 0x00:word32] = ebx_155;
				Mem160[fp - 0x3C + 0x00:word32] = eax_156;
				word32 ebx_161;
				Mem164[fp - 0x14 + 0x00:word32] = Mem160[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_161) + 0x00:word32];
			}
		}
	}
	if (Mem16[fp - 0x14 + 0x00:word32] != 0x00 && (byte) ((word32) Mem16[Mem16[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem75[fp - 0x3C + 0x00:word32] = Mem16[fp - 0x14 + 0x00:word32];
		Mem77[fp - 0x1C + 0x00:word32] = strlen(Mem75[fp - 0x3C + 0x00:(ptr char)]);
		if (Mem77[fp - 0x1C + 0x00:word32] > 0x01 && ((byte) ((word32) Mem77[(Mem77[(fp - 0x1C) + 0x00:word32] - 0x01) + Mem77[(fp - 0x14) + 0x00:word32]:byte]) == 0x26 && (byte) ((word32) Mem77[(Mem77[(fp - 0x1C) + 0x00:word32] - 0x02) + Mem77[(fp - 0x14) + 0x00:word32]:byte]) != 0x5C))
		{
			Mem123[fp - 0x38 + 0x00:word32] = Mem77[fp - 0x1C + 0x00:word32] - 0x02;
			Mem125[fp - 0x3C + 0x00:word32] = Mem123[fp - 0x14 + 0x00:word32];
			Mem127[fp - 0x14 + 0x00:word32] = allocStr(dwArg00, dwArg04);
			Mem128[fp - 0x18 + 0x00:word32] = 0x01;
		}
		Mem84[fp - 0x3C + 0x00:word32] = Mem77[fp + 0x04:word32];
		word32 eax_85 = shell_quote(dwArg00);
		Mem86[fp - 0x34 + 0x00:word32] = 0x00;
		Mem87[fp - 0x38 + 0x00:word32] = eax_85;
		Mem89[fp - 0x3C + 0x00:word32] = Mem87[fp - 0x14 + 0x00:word32];
		Mem92[fp - 0x10 + 0x00:word32] = myExtCommand(dwArg00, dwArg04, dwArg08);
		Mem94[fp - 0x3C + 0x00:word32] = Mem92[fp - 0x10 + 0x00:word32];
		Strremovetrailingspaces(dwArg00);
		fmTerm(gs);
		word32 eax_96 = Mem94[Mem94[fp - 0x10 + 0x00:word32] + 0x00:word32];
		Mem98[fp - 0x38 + 0x00:word32] = Mem94[fp - 0x18 + 0x00:word32];
		Mem99[fp - 0x3C + 0x00:word32] = eax_96;
		mySystem(dwArg00, dwArg04);
		fmInit(gs);
		word32 eax_101 = Mem99[Mem99[0x08180718:word32] + 0x08:word32];
		Mem102[fp - 0x38 + 0x00:word32] = 0x01;
		Mem103[fp - 0x3C + 0x00:word32] = eax_101;
		real64 rArg0_104;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_104);
	}
	else
	{
		word32 eax_58 = Mem16[Mem16[0x08180718:word32] + 0x08:word32];
		Mem59[fp - 0x38 + 0x00:word32] = 0x00;
		Mem60[fp - 0x3C + 0x00:word32] = eax_58;
		real64 rArg0_65;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_65);
	}
}

// 08056B56: void extbrz(Register selector gs)
void extbrz(selector gs)
{
	if (((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16] & 0x08) != 0x00)
	{
		byte bpl_31;
		disp_err_message(gs, 0x080C8856, 0x01, out bpl_31);
	}
	else if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x84:word32] == 0x04 && strcmp(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x98:word32], 0x080C829F) == 0x00)
	{
		byte bpl_64;
		disp_err_message(gs, 0x080C8866, 0x01, out bpl_64);
	}
	else
	{
		byte bpl_49;
		Mem52[fp - 0x1C + 0x00:word32] = Mem0[parsedURL2Str(Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x84, out bpl_49) + 0x00:word32];
		invoke_browser(fp - 0x04, gs);
	}
}

// 08056BF2: void linkbrz(Register word32 ebp, Register selector gs)
void linkbrz(word32 ebp, selector gs)
{
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00)
	{
		word32 eax_30 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		if (eax_30 != 0x00)
		{
			parseURL2(fp - 0x04, Mem0[eax_30 + 0x00:word32], fp - 0x38, baseURL(Mem0[Mem0[0x08180718:word32] + 0x08:word32]));
			Mem45[fp - 0x4C + 0x00:word32] = fp - 0x38;
			byte bpl_47;
			Mem50[fp - 0x4C + 0x00:word32] = Mem45[parsedURL2Str(dwArg00, out bpl_47) + 0x00:word32];
			invoke_browser(fp - 0x04, gs);
		}
	}
}

// 08056C65: void curlno(Register word32 ebp, Register selector gs)
void curlno(word32 ebp, selector gs)
{
	word32 eax_13 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32];
	word32 dwLoc10_14 = eax_13;
	word32 dwLoc1C_16 = 0x00;
	if (eax_13 != 0x00)
	{
		ax = (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16];
		while (Mem0[dwLoc10_14 + 0x0C:word32] != 0x00 && Mem0[Mem0[dwLoc10_14 + 0x0C:word32] + 44:word32] != 0x00)
			dwLoc10_14 = Mem0[dwLoc10_14 + 0x0C:word32];
		if (Mem0[dwLoc10_14 + 0x18:word32] < 0x00)
			Mem228[dwLoc10_14 + 0x18:word32] = calcPosition(Mem0[dwLoc10_14 + 0x00:word32], Mem0[dwLoc10_14 + 0x04:word32], Mem0[dwLoc10_14 + 0x14:word32], Mem0[dwLoc10_14 + 0x14:word32], 0x00, 0x00);
	}
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x14:word32] != 0x00)
		dwLoc1C_16 = Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x14:word32] + 0x20:word32];
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x5C:word32] != 0x00)
	{
		ax = (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16];
		if (((int32) ax & 0x40) == 0x00)
		{
			byte bpl_154;
			Mem156[fp - 0x14 + 0x00:word32] = Sprintf(0x080C8879, out bpl_154);
l08056E24:
			Mem78[fp - 88 + 0x00:word32] = 0x080C88A7;
			Mem80[fp - 0x5C + 0x00:word32] = Mem78[fp - 0x14 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem86[fp - 0x5C + 0x00:word32] = Mem80[Mem80[Mem80[0x08180718:word32] + 0x08:word32] + 0xD0:word32];
			Mem88[fp - 88 + 0x00:word32] = wc_ces_to_charset_desc(dwArg00);
			Mem90[fp - 0x5C + 0x00:word32] = Mem88[fp - 0x14 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			word32 eax_92 = Mem90[Mem90[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem93[fp - 88 + 0x00:word32] = 0x00;
			Mem94[fp - 0x5C + 0x00:word32] = eax_92;
			disp_message(gs, dwArg00, dwArg04);
			return;
		}
	}
	word16 wLoc2E_116 = __fstcw();
	__fldcw(DPB(ax, 0x0C, 8));
	__fldcw(wLoc2E_116);
	byte bpl_133;
	Mem135[fp - 0x14 + 0x00:word32] = Sprintf(0x080C888B, out bpl_133);
	goto l08056E24;
}

// 08056E77: void dispI(Register selector gs)
void dispI(selector gs)
{
	if (Mem0[0x080D530C:word32] == 0x00)
		initImage();
	if (Mem0[135774940:word32] != 0x00)
	{
		Mem23[0x080D530C:word32] = 0x01;
		Mem26[Mem23[Mem23[0x08180718:word32] + 0x08:word32] + 0xF5:byte] = 0x02;
		Mem29[Mem26[Mem26[0x08180718:word32] + 0x08:word32] + 0xF7:byte] = 0x01;
		real64 rArg0_36;
		displayBuffer(fp - 0x04, gs, Mem29[Mem29[0x08180718:word32] + 0x08:word32], 0x04, rArg0, out rArg0_36);
	}
}

// 08056ED9: void stopI(Register selector gs)
void stopI(selector gs)
{
	if (Mem0[135774940:word32] != 0x00)
	{
		Mem21[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xF5:byte] = 0x01;
		real64 rArg0_28;
		displayBuffer(fp - 0x04, gs, Mem21[Mem21[0x08180718:word32] + 0x08:word32], 0x04, rArg0, out rArg0_28);
	}
}

// 08056F14: Register word32 mouse_scroll_line()
word32 mouse_scroll_line()
{
	word32 eax_14;
	if (Mem0[135775076:word32] != 0x00)
		eax_14 = 42949672 - (Mem0[0x080D538C:word32] *s (Mem0[0x08180780:word32] - 0x01) + 99 >> 0x1F);
	else
		eax_14 = Mem0[0x080D5388:word32];
	return eax_14;
}

// 08056F53: Register word32 posTab(Stack word32 dwArg04, Stack word32 dwArg08)
word32 posTab(word32 dwArg04, word32 dwArg08)
{
	word32 eax_17;
	if (Mem0[0x08180680:word32] != 0x00 && (Mem0[0x08180688:word32] > dwArg04 && dwArg08 == 0x00))
		eax_17 = 0x01;
	else if ((int32) (word16) (word32) Mem0[Mem0[0x08180730:word32] + 0x14:word16] < dwArg08)
		eax_17 = 0x00;
	else
	{
		word32 dwLoc08_35 = Mem0[0x081804E8:word32];
		while (dwLoc08_35 != 0x00)
		{
			if ((int32) (word16) (word32) Mem0[dwLoc08_35 + 0x10:word16] <= dwArg04 && ((int32) ((word16) ((word32) Mem0[dwLoc08_35 + 0x12:word16])) >= dwArg04 && (int32) ((word16) ((word32) Mem0[dwLoc08_35 + 0x14:word16])) == dwArg08))
			{
				eax_17 = dwLoc08_35;
				return eax_17;
			}
			dwLoc08_35 = Mem0[dwLoc08_35 + 0x00:word32];
		}
		eax_17 = 0x00;
	}
	return eax_17;
}

// 08056FDA: void do_mouse_action(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void do_mouse_action(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc14_15 = ~0x00;
	if (Mem0[0x08180720:word32] > 0x01 || Mem0[0x08180680:word32] != 0x00)
		dwLoc14_15 = (int32) (word16) (word32) Mem0[Mem0[0x08180730:word32] + 0x14:word16] + 0x01;
	word32 dwArg04_444;
	if (dwArg04 != 0x01)
	{
		if (dwArg04 != 0x02)
		{
			if (dwArg04 != 0x00)
				return;
			dwArg04_444 = 0x00;
		}
		else
			dwArg04_444 = 0x02;
	}
	else
		dwArg04_444 = 0x01;
	if (dwArg0C < dwLoc14_15)
	{
		if (Mem0[0x08180680:word32] == 0x00 || (dwArg08 < 0x00 || Mem0[0x08180688:word32] <= dwArg08))
			;
		goto l080573BF;
	}
	if (Mem0[0x08180780:word32] - 0x01 == dwArg0C)
		goto l080573BF;
	if (dwArg0C <= dwLoc14_15)
		return;
	if ((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])) == dwArg0C && ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16])) + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16])) == dwArg08 || (byte) ((word32) Mem0[0x080DC0AF:byte]) != 0x00 && (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] != 0x00 && (((word32) ((word16) ((word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x04:word32][Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] * 0x02])) & 0x3F00) == 0x0A00 && ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16])) + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16]))) + 0x01 == dwArg08))))
	{
		if (retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]) != 0x00 || retrieveCurrentForm(Mem0[Mem0[0x08180718:word32] + 0x08:word32]) != 0x00)
		{
			word32 eax_374 = dwArg04_444 << 0x03;
			if (eax_374 == 0x081806CC || Mem0[eax_374 + 0x081806CC:word32] == 0x00)
				;
		}
		goto l080573BF;
	}
	cursorXY(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], dwArg0C - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])));
	if ((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])) == Mem0[fp + 0x0C:word32] && ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16])) + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16])) == Mem0[fp + 0x08:word32] || (byte) ((word32) Mem0[0x080DC0AF:byte]) != 0x00 && (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] != 0x00 && (((word32) ((word16) ((word32) Mem0[Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x10:word32] + 0x04:word32][Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4C:word32] * 0x02])) & 0x3F00) == 0x0A00 && ((int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16])) + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16]))) + 0x01 == Mem0[fp + 0x08:word32]))))
	{
		Mem286[fp - 44 + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		if (retrieveCurrentAnchor(dwArg00) != 0x00)
		{
l0805738A:
			Mem298[fp - 0x10 + 0x00:word32] = (Mem286[fp + 0x04:word32] << 0x03) + 0x081806B4;
			goto l08057398;
		}
		Mem301[fp - 44 + 0x00:word32] = Mem286[Mem286[0x08180718:word32] + 0x08:word32];
		if (retrieveCurrentForm(dwArg00) != 0x00)
			goto l0805738A;
	}
l08057398:
	word32 eax_260 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
	Mem262[fp - 0x24 + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32];
	Mem264[fp - 0x28 + 0x00:word32] = Mem262[fp - 0x18 + 0x00:word32];
	Mem265[fp - 44 + 0x00:word32] = eax_260;
	cursorXY(fp - 0x04, gs, dwArg00, dwArg08);
l080573BF:
	if (Mem0[fp - 0x10 + 0x00:word32] == 0x00 || Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:word32] == 0x00)
		Mem116[fp - 0x10 + 0x00:word32] = (Mem0[fp + 0x04:word32] << 0x03) + 0x0818069C;
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00 && Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:word32] != 0x00)
	{
		Mem82[0x08180690:word32] = 0x01;
		Mem84[0x08180694:word32] = Mem82[fp + 0x08:word32];
		Mem86[0x08180698:word32] = Mem84[fp + 0x0C:word32];
		Mem87[0x08180728:word32] = ~0x00;
		Mem88[0x08180670:word32] = 0x00;
		Mem91[0x081804E0:word32] = Mem88[Mem88[fp - 0x10 + 0x00:word32] + 0x04:word32];
		word32 eax_93 = Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x00:word32];
		word32 esp_94;
		word32 ebp_95;
		byte SCZO_96;
		word32 eax_97;
		byte SZO_98;
		byte C_99;
		byte Z_100;
		word16 ax_101;
		byte SO_102;
		byte S_103;
		word32 edx_104;
		byte al_105;
		word32 ecx_106;
		selector gs_107;
		eax_93();
		Mem108[0x081804E0:word32] = 0x00;
	}
}

// 0805743D: Register word32 process_mouse(Register selector gs, Stack word32 dwArg04, Register out ptr32 ebpOut)
word32 process_mouse(selector gs, word32 dwArg04, ptr32 & ebpOut)
{
	if (Mem0[0x08180720:word32] > 0x01 || Mem0[0x08180680:word32] != 0x00)
		;
	if (dwArg04 == 0x03)
	{
		word32 eax_74 = Mem0[0x080D53D4:word32];
		if (eax_74 <=u 0x04)
		{
			word32 eax_78 = 0x080C88AC[eax_74 * 0x04];
			word32 esp_80;
			word32 ebp_81;
			word32 esi_82;
			word32 ebx_83;
			byte SCZO_84;
			word32 eax_85;
			byte SZO_86;
			byte C_87;
			byte Z_88;
			word16 ax_89;
			byte CZ_90;
			bcuiposr0 None_91;
			selector gs_92;
			eax_78();
			return esp_80;
		}
	}
	else if (dwArg04 == 0x40)
	{
		while (mouse_scroll_line() > Mem0[(fp - 0x18) + 0x00:word32])
		{
			ldown1(gs);
			Mem101[fp - 0x18 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32] + 0x01;
		}
	}
	else if (dwArg04 == 0x41)
	{
		while (mouse_scroll_line() > Mem0[(fp - 0x18) + 0x00:word32])
		{
			lup1(gs);
			Mem110[fp - 0x18 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32] + 0x01;
		}
	}
	if (Mem0[fp + 0x04:word32] == 0x03 && Mem0[0x080D53D4:word32] != ~0x00)
		Mem73[0x080D53D4:word32] = ~0x00;
	else
	{
		Mem65[0x080D53D4:word32] = Mem0[fp + 0x04:word32];
		Mem67[135775196:word32] = Mem65[fp + 0x08:word32];
		Mem69[135775192:word32] = Mem67[fp + 0x0C:word32];
	}
	word32 ebp_58;
	*ebpOut = Mem0[fp - 0x04 + 0x00:word32];
	return fp;
}

// 0805794D: void msToggle(Register selector gs)
void msToggle(selector gs)
{
	if (Mem0[0x080D5384:word32] != 0x00)
		Mem23[0x080D5384:word32] = 0x00;
	else
		Mem24[0x080D5384:word32] = 0x01;
	real64 rArg0_18;
	displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_18);
}

// 0805798C: void mouse(Register word32 ebp, Register selector gs)
void mouse(word32 ebp, selector gs)
{
	Mem13[fp - 0x10 + 0x00:word32] = (word32) do_getch(gs) - 0x20;
	Mem17[fp - 0x14 + 0x00:word32] = (word32) do_getch(gs) - 33;
	if (Mem17[fp - 0x14 + 0x00:word32] < 0x00)
		Mem59[fp - 0x14 + 0x00:word32] = Mem17[fp - 0x14 + 0x00:word32] + 0x0100;
	Mem23[fp - 0x18 + 0x00:word32] = (word32) do_getch(gs) - 33;
	if (Mem23[fp - 0x18 + 0x00:word32] < 0x00)
		Mem56[fp - 0x18 + 0x00:word32] = Mem23[fp - 0x18 + 0x00:word32] + 0x0100;
	if (Mem23[fp - 0x14 + 0x00:word32] >= 0x00 && (Mem23[(fp - 0x14) + 0x00:word32] < Mem23[0x081807A0:word32] && (Mem23[(fp - 0x18) + 0x00:word32] >= 0x00 && Mem23[0x08180780:word32] - 0x01 >= Mem23[(fp - 0x18) + 0x00:word32])))
	{
		Mem46[fp - 0x24 + 0x00:word32] = Mem23[fp - 0x18 + 0x00:word32];
		Mem48[fp - 0x28 + 0x00:word32] = Mem46[fp - 0x14 + 0x00:word32];
		Mem50[fp - 44 + 0x00:word32] = Mem48[fp - 0x10 + 0x00:word32];
		word32 ebp_52;
		process_mouse(gs, dwArg00, out ebp_52);
	}
}

// 08057A20: void gpm_process_mouse(Register selector gs, Stack word32 dwArg04)
void gpm_process_mouse(selector gs, word32 dwArg04)
{
	word32 dwLoc10_10 = ~0x00;
	if ((Mem0[dwArg04 + 0x0C:word32] & 0x08) != 0x00)
		dwLoc10_10 = 0x03;
	else
	{
		if ((Mem0[dwArg04 + 0x0C:word32] & 0x04) == 0x00)
		{
			Mem97[135774721:byte] = 0x02;
			word32 edx_98 = Mem97[0x0817C20C:word32];
			word32 eax_99 = Mem97[0x0817C20C:word32];
			word16 cx_106 = (word16) ((word32) Mem97[dwArg04 + 0x08:word16] + Mem97[0x0817C1E8:word32]);
			Mem107[eax_99 + 0x04:word16] = cx_106;
			Mem110[edx_98 + 0x00:word16] = (word16) (word32) Mem107[eax_99 + 0x04:word16];
			word32 edx_119 = (word32) Mem110[dwArg04 + 0x0A:word16] + Mem110[0x0817C1E8:word32];
			word32 eax_111 = Mem110[0x0817C20C:word32];
			word32 eax_113 = Mem110[0x0817C20C:word32];
			word16 dx_120 = (word16) edx_119;
			Mem121[eax_113 + 0x06:word16] = dx_120;
			word16 ax_123 = (word16) (word32) Mem121[eax_113 + 0x06:word16];
			Mem124[eax_111 + 0x02:word16] = ax_123;
			Mem128[Mem124[0x0817C20C:word32] + 0x08:word16] = 0x03;
			word32 esp_135;
			word32 ebp_136;
			word32 ebx_137;
			byte SCZO_138;
			word32 eax_139;
			byte SZO_140;
			byte C_141;
			byte Z_142;
			byte al_143;
			word16 ax_144;
			word32 edx_145;
			word32 ecx_146;
			word16 cx_147;
			word16 dx_148;
			selector gs_149;
			!ioctl();
			return;
		}
		word32 eax_85 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (eax_85 != 0x02)
		{
			if (eax_85 != 0x04)
			{
				if (eax_85 == 0x01)
					dwLoc10_10 = 0x02;
			}
			else
				dwLoc10_10 = 0x00;
		}
		else
			dwLoc10_10 = 0x01;
	}
	word32 ebp_68;
	process_mouse(gs, dwLoc10_10, out ebp_68);
}

// 08057B62: void movMs(Register word32 ebp, Register selector gs)
void movMs(word32 ebp, selector gs)
{
	if (Mem0[0x08180690:word32] != 0x00 && (Mem0[0x08180720:word32] <= 0x01 && Mem0[0x08180680:word32] == 0x00 || Mem0[0x08180698:word32] >= (int32) ((word16) ((word32) Mem0[Mem0[0x08180730:word32] + 0x14:word16])) + 0x01))
	{
		if (Mem0[0x08180694:word32] >= (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16])) && Mem0[0x08180698:word32] < Mem0[0x08180780:word32] - 0x01)
			cursorXY(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[0x08180698:word32] - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])));
		word32 eax_55 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem56[fp - 0x18 + 0x00:word32] = 0x00;
		Mem57[fp - 0x1C + 0x00:word32] = eax_55;
		real64 rArg0_62;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_62);
	}
}

// 08057C30: void menuMs(Register word32 ebp, Register selector gs)
void menuMs(word32 ebp, selector gs)
{
	if (Mem0[0x08180690:word32] != 0x00)
	{
		if (Mem0[0x08180720:word32] <= 0x01 && Mem0[0x08180680:word32] == 0x00 || Mem0[0x08180698:word32] >= (int32) ((word16) ((word32) Mem0[Mem0[0x08180730:word32] + 0x14:word16])) + 0x01)
		{
			if (Mem0[0x08180694:word32] >= (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16])) && Mem0[0x08180698:word32] < Mem0[0x08180780:word32] - 0x01)
			{
				cursorXY(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], Mem0[0x08180698:word32] - (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])));
				word32 eax_88 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
				Mem89[fp - 0x18 + 0x00:word32] = 0x00;
				Mem90[fp - 0x1C + 0x00:word32] = eax_88;
				real64 rArg0_93;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_93);
			}
		}
		else
			Mem109[0x08180694:word32] = Mem0[0x08180694:word32] - 0x02;
		mainMn(gs);
	}
}

// 08057D0E: void tabMs(Register selector gs)
void tabMs(selector gs)
{
	if (Mem0[0x08180690:word32] != 0x00)
	{
		word32 eax_27 = posTab(Mem0[0x08180694:word32], Mem0[0x08180698:word32]);
		if (eax_27 != 0x00 && eax_27 != 0x01)
		{
			Mem34[0x08180718:word32] = eax_27;
			real64 rArg0_41;
			displayBuffer(fp - 0x04, gs, Mem34[Mem34[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_41);
		}
	}
}

// 08057D6E: void closeTMs(Register word32 ebp, Register selector gs)
void closeTMs(word32 ebp, selector gs)
{
	if (Mem0[0x08180690:word32] != 0x00)
	{
		word32 eax_27 = posTab(Mem0[0x08180694:word32], Mem0[0x08180698:word32]);
		if (eax_27 != 0x00 && eax_27 != 0x01)
		{
			deleteTab(fp - 0x04, gs, eax_27);
			word32 eax_37 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem38[fp - 0x28 + 0x00:word32] = 0x01;
			Mem39[fp - 44 + 0x00:word32] = eax_37;
			real64 rArg0_43;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_43);
		}
	}
}

// 08057DD1: void dispVer(Register word32 ebp, Register selector gs)
void dispVer(word32 ebp, selector gs)
{
	byte bpl_13;
	word32 eax_15 = Mem0[Sprintf(0x080C88C0, out bpl_13) + 0x00:word32];
	Mem16[fp - 0x18 + 0x00:word32] = 0x01;
	Mem17[fp - 0x1C + 0x00:word32] = eax_15;
	disp_message(gs, dwArg00, dwArg04);
}

// 08057E00: void wrapToggle(Register selector gs)
void wrapToggle(selector gs)
{
	if (Mem0[135774996:word32] != 0x00)
	{
		Mem18[135774996:word32] = 0x00;
		disp_message(gs, 0x080C88CF, 0x01);
	}
	else
	{
		Mem23[135774996:word32] = 0x01;
		disp_message(gs, 0x080C88DF, 0x01);
	}
}

// 08057E4F: Register word32 is_wordchar(Stack word32 dwArg04, Stack word32 dwArg08)
word32 is_wordchar(word32 dwArg04, word32 dwArg08)
{
	word32 eax_16;
	if (dwArg08 != 0x00)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) dwArg04 + 0x080DB700:byte] & 0x02) == 0x00 && strchr(dwArg08, (char) dwArg04) == 0x00)
			eax_16 = 0x01;
		else
			eax_16 = 0x00;
	}
	else
		eax_16 = (word32) (byte) (word32) Mem0[(word32) (byte) dwArg04 + 0x080DB700:byte] & 0x04;
	return eax_16;
}

// 08057EAB: Register word32 getCurWord(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 getCurWord(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_113;
	word32 eax_10 = Mem0[dwArg04 + 0x10:word32];
	Mem14[dwArg08 + 0x00:word32] = 0x00;
	Mem17[dwArg0C + 0x00:word32] = 0x00;
	if (eax_10 == 0x00)
		eax_113 = 0x00;
	else
	{
		word32 eax_46 = Mem17[eax_10 + 0x00:word32];
		word32 dwLoc1C_130 = Mem17[dwArg04 + 0x4C:word32];
		while (dwLoc1C_130 > 0x00 && is_wordchar((int32) ((byte) ((word32) Mem17[dwLoc1C_130 + eax_46:byte])), dwArg10) == 0x00)
			dwLoc1C_130 = dwLoc1C_130 - 0x01;
		if (is_wordchar((int32) (byte) (word32) Mem17[dwLoc1C_130 + eax_46:byte], dwArg10) == 0x00)
			eax_113 = 0x00;
		else
		{
			word32 dwLoc18_147 = dwLoc1C_130;
			while (dwLoc18_147 > 0x00 && is_wordchar((int32) ((byte) ((word32) Mem17[(dwLoc18_147 - 0x01) + eax_46:byte])), dwArg10) != 0x00)
				dwLoc18_147 = dwLoc18_147 - 0x01;
			while (Mem17[eax_10 + 0x14:word32] > dwLoc1C_130 && is_wordchar((int32) ((byte) ((word32) Mem17[dwLoc1C_130 + eax_46:byte])), dwArg10) != 0x00)
				dwLoc1C_130 = dwLoc1C_130 + 0x01;
			Mem108[dwArg08 + 0x00:word32] = dwLoc18_147;
			Mem111[dwArg0C + 0x00:word32] = dwLoc1C_130;
			eax_113 = dwLoc18_147 + eax_46;
		}
	}
	return eax_113;
}

// 08057FBD: Register word32 GetWord(Stack word32 dwArg04)
word32 GetWord(word32 dwArg04)
{
	word32 eax_25;
	word32 eax_16 = getCurWord(dwArg04, fp - 0x10, fp - 0x14, 0x00);
	if (eax_16 != 0x00)
	{
		word32 edx_40;
		eax_25 = Mem0[Strnew_charp_n(eax_16, eax_16, dwLoc14 - dwLoc10, out edx_40) + 0x00:word32];
	}
	else
		eax_25 = 0x00;
	return eax_25;
}

// 08058013: void execdict(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void execdict(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[135775016:word32] != 0x00 && (dwArg04 != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00))
	{
		word32 esi_64 = Mem0[0x080D5378:word32];
		word32 ebx_65 = Mem0[135091052:word32];
		Strnew_charp(dwArg04, dwArg04);
		word32 ebx_71;
		Mem74[fp - 0x10 + 0x00:word32] = Mem0[wc_Str_conv_strict(dwArg04, ebx_65, esi_64, out ebx_71) + 0x00:word32];
		if ((byte) (word32) Mem74[Mem74[fp - 0x10 + 0x00:word32] + 0x00:byte] == 0x00)
		{
			word32 eax_82 = Mem74[Mem74[0x08180718:word32] + 0x08:word32];
			Mem83[fp - 0x38 + 0x00:word32] = 0x00;
			Mem84[fp - 0x3C + 0x00:word32] = eax_82;
			real64 rArg0_86;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_86);
		}
		else
		{
			word32 eax_88 = Mem74[fp - 0x10 + 0x00:word32];
			Mem89[fp - 0x3C + 0x00:word32] = eax_88;
			Strnew_charp(eax_88, dwArg00);
			Mem90[fp - 0x3C + 0x00:word32] = eax_88;
			word32 edx_92 = Mem90[Str_form_quote(dwArg00) + 0x00:word32];
			word32 eax_93 = Mem90[0x080D5344:word32];
			Mem94[fp - 0x34 + 0x00:word32] = edx_92;
			Mem95[fp - 0x38 + 0x00:word32] = eax_93;
			Mem96[fp - 0x3C + 0x00:word32] = 0x080C88EE;
			byte bpl_97;
			Mem100[fp - 0x14 + 0x00:word32] = Mem96[Sprintf(dwArg00, out bpl_97) + 0x00:word32];
			Mem101[fp - 44 + 0x00:word32] = 0x00;
			Mem102[fp - 0x30 + 0x00:word32] = 0x00;
			Mem103[fp - 0x34 + 0x00:word32] = ~0x00;
			Mem104[fp - 0x38 + 0x00:word32] = 0x00;
			Mem106[fp - 0x3C + 0x00:word32] = Mem104[fp - 0x14 + 0x00:word32];
			Mem108[fp - 0x18 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
			if (Mem108[fp - 0x18 + 0x00:word32] == 0x00)
			{
				Mem111[fp - 0x38 + 0x00:word32] = 0x01;
				Mem112[fp - 0x3C + 0x00:word32] = 0x080C83E4;
				disp_message(gs, dwArg00, dwArg04);
			}
			else
			{
				Mem116[Mem108[fp - 0x18 + 0x00:word32] + 0x00:word32] = Mem108[fp - 0x10 + 0x00:word32];
				Mem118[fp - 0x34 + 0x00:word32] = Mem116[fp + 0x04:word32];
				Mem119[fp - 0x38 + 0x00:word32] = 0x080C88F4;
				Mem120[fp - 0x3C + 0x00:word32] = 0x080C83FE;
				byte bpl_121;
				Mem125[Mem120[fp - 0x18 + 0x00:word32] + 0x04:word32] = Mem120[Sprintf(dwArg00, out bpl_121) + 0x00:word32];
				if (Mem125[Mem125[fp - 0x18 + 0x00:word32] + 0x34:word32] == 0x00)
					Mem140[Mem125[fp - 0x18 + 0x00:word32] + 0x34:word32] = 0x080C8404;
				Mem132[fp - 0x3C + 0x00:word32] = Mem125[fp - 0x18 + 0x00:word32];
				pushBuffer(fp - 0x04, gs);
				word32 eax_134 = Mem132[Mem132[0x08180718:word32] + 0x08:word32];
				Mem135[fp - 0x38 + 0x00:word32] = 0x01;
				Mem136[fp - 0x3C + 0x00:word32] = eax_134;
				real64 rArg0_137;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_137);
			}
		}
	}
	else
	{
		real64 rArg0_51;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x00, rArg0, out rArg0_51);
	}
}

// 0805818A: void dictword(Register word32 ebp, Register selector gs)
void dictword(word32 ebp, selector gs)
{
	Mem15[fp - 44 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C8901, 0x080C7E50, 0x10, 0x00);
	execdict(fp - 0x04, gs, dwArg00);
}

// 080581C6: void dictwordat(Register selector gs)
void dictwordat(selector gs)
{
	execdict(fp - 0x04, gs, GetWord(Mem0[Mem0[0x08180718:word32] + 0x08:word32]));
}

// 080581E6: void set_buffer_environ(Register word32 ebp, Stack word32 dwArg04)
void set_buffer_environ(word32 ebp, word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		if (dwArg04 != Mem0[135775184:word32])
		{
			word32 eax_238;
			set_environ(0x080C890F, Mem0[dwArg04 + 0xB8:word32]);
			set_environ(0x080C891E, Mem0[dwArg04 + 0x00:word32]);
			set_environ(0x080C892B, Mem0[dwArg04 + 0x04:word32]);
			byte bpl_226;
			Mem229[fp - 88 + 0x00:word32] = Mem0[parsedURL2Str(dwArg04 + 0x84, out bpl_226) + 0x00:word32];
			Mem230[fp - 0x5C + 0x00:word32] = 0x080C8935;
			set_environ(dwArg00, dwArg04);
			if (Mem230[Mem230[fp + 0x04:word32] + 0x38:word32] != 0x00)
				eax_238 = Mem230[Mem230[fp + 0x04:word32] + 0x38:word32];
			else
				eax_238 = 135039293;
			Mem239[fp - 88 + 0x00:word32] = eax_238;
			Mem240[fp - 0x5C + 0x00:word32] = 135039301;
			set_environ(dwArg00, dwArg04);
			Mem244[fp - 0x5C + 0x00:word32] = Mem240[Mem240[fp + 0x04:word32] + 0xD0:word32];
			Mem246[fp - 88 + 0x00:word32] = wc_ces_to_charset(dwArg00);
			Mem247[fp - 0x5C + 0x00:word32] = 135039310;
			set_environ(dwArg00, dwArg04);
		}
		Mem41[fp - 0x10 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x10:word32];
		if (Mem41[fp - 0x10 + 0x00:word32] != 0x00 && (Mem41[fp + 0x04:word32] != Mem41[135775184:word32] || (Mem41[(fp - 0x10) + 0x00:word32] != Mem41[135775188:word32] || Mem41[Mem41[fp + 0x04:word32] + 0x4C:word32] != Mem41[0x080D53D0:word32])))
		{
			word32 eax_195;
			Mem85[fp - 0x5C + 0x00:word32] = Mem41[fp + 0x04:word32];
			Mem87[fp - 0x18 + 0x00:word32] = GetWord(dwArg00);
			if (Mem87[fp - 0x18 + 0x00:word32] != 0x00)
				eax_195 = Mem87[fp - 0x18 + 0x00:word32];
			else
				eax_195 = 0x080C7E50;
			Mem92[fp - 88 + 0x00:word32] = eax_195;
			Mem93[fp - 0x5C + 0x00:word32] = 0x080C895A;
			set_environ(dwArg00, dwArg04);
			Mem96[fp - 0x5C + 0x00:word32] = Mem93[fp + 0x04:word32];
			Mem98[fp - 0x14 + 0x00:word32] = retrieveCurrentAnchor(dwArg00);
			if (Mem98[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem176[fp - 0x5C + 0x00:word32] = Mem98[fp + 0x04:word32];
				word32 eax_177 = baseURL(dwArg00);
				word32 edx_179 = Mem176[Mem176[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem180[fp - 0x54 + 0x00:word32] = eax_177;
				Mem182[fp - 88 + 0x00:word32] = fp - 0x40;
				Mem183[fp - 0x5C + 0x00:word32] = edx_179;
				parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
				Mem185[fp - 0x5C + 0x00:word32] = fp - 0x40;
				byte bpl_186;
				Mem189[fp - 88 + 0x00:word32] = Mem185[parsedURL2Str(dwArg00, out bpl_186) + 0x00:word32];
				Mem190[fp - 0x5C + 0x00:word32] = 135039339;
				set_environ(dwArg00, dwArg04);
			}
			else
			{
				Mem192[fp - 88 + 0x00:word32] = 0x080C7E50;
				Mem193[fp - 0x5C + 0x00:word32] = 135039339;
				set_environ(dwArg00, dwArg04);
			}
			Mem104[fp - 0x5C + 0x00:word32] = Mem98[fp + 0x04:word32];
			Mem106[fp - 0x14 + 0x00:word32] = retrieveCurrentImg(dwArg00);
			if (Mem106[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem155[fp - 0x5C + 0x00:word32] = Mem106[fp + 0x04:word32];
				word32 eax_156 = baseURL(dwArg00);
				word32 edx_158 = Mem155[Mem155[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem159[fp - 0x54 + 0x00:word32] = eax_156;
				Mem161[fp - 88 + 0x00:word32] = fp - 0x40;
				Mem162[fp - 0x5C + 0x00:word32] = edx_158;
				parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
				Mem165[fp - 0x5C + 0x00:word32] = fp - 0x40;
				byte bpl_166;
				Mem169[fp - 88 + 0x00:word32] = Mem165[parsedURL2Str(dwArg00, out bpl_166) + 0x00:word32];
				Mem170[fp - 0x5C + 0x00:word32] = 0x080C897C;
				set_environ(dwArg00, dwArg04);
			}
			else
			{
				Mem172[fp - 88 + 0x00:word32] = 0x080C7E50;
				Mem173[fp - 0x5C + 0x00:word32] = 0x080C897C;
				set_environ(dwArg00, dwArg04);
			}
			Mem112[fp - 0x5C + 0x00:word32] = Mem106[fp + 0x04:word32];
			Mem114[fp - 0x14 + 0x00:word32] = retrieveCurrentForm(dwArg00);
			if (Mem114[fp - 0x14 + 0x00:word32] != 0x00)
			{
				word32 eax_145 = Mem114[Mem114[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem146[fp - 0x5C + 0x00:word32] = eax_145;
				Mem148[fp - 88 + 0x00:word32] = form2str(eax_145, dwArg00);
				Mem149[fp - 0x5C + 0x00:word32] = 0x080C898C;
				set_environ(dwArg00, dwArg04);
			}
			else
			{
				Mem151[fp - 88 + 0x00:word32] = 0x080C7E50;
				Mem152[fp - 0x5C + 0x00:word32] = 0x080C898C;
				set_environ(dwArg00, dwArg04);
			}
			Mem119[fp - 88 + 0x00:word32] = Mem114[Mem114[fp - 0x10 + 0x00:word32] + 0x20:word32];
			Mem120[fp - 0x5C + 0x00:word32] = 0x080C8605;
			byte bpl_121;
			Mem124[fp - 88 + 0x00:word32] = Mem120[Sprintf(dwArg00, out bpl_121) + 0x00:word32];
			Mem125[fp - 0x5C + 0x00:word32] = 0x080C899D;
			set_environ(dwArg00, dwArg04);
			Mem136[fp - 88 + 0x00:word32] = Mem125[Mem125[fp + 0x04:word32] + 0x44:word32] + (int32) ((word16) ((word32) Mem125[Mem125[fp + 0x04:word32] + 0x48:word16])) + 0x01;
			Mem137[fp - 0x5C + 0x00:word32] = 0x080C8605;
			byte bpl_138;
			Mem141[fp - 88 + 0x00:word32] = Mem137[Sprintf(dwArg00, out bpl_138) + 0x00:word32];
			Mem142[fp - 0x5C + 0x00:word32] = 0x080C89AE;
			set_environ(dwArg00, dwArg04);
		}
		else if (Mem41[fp - 0x10 + 0x00:word32] == 0x00)
		{
			Mem61[fp - 88 + 0x00:word32] = 0x080C7E50;
			Mem62[fp - 0x5C + 0x00:word32] = 0x080C895A;
			set_environ(dwArg00, dwArg04);
			Mem65[fp - 88 + 0x00:word32] = 0x080C7E50;
			Mem66[fp - 0x5C + 0x00:word32] = 135039339;
			set_environ(dwArg00, dwArg04);
			Mem68[fp - 88 + 0x00:word32] = 0x080C7E50;
			Mem69[fp - 0x5C + 0x00:word32] = 0x080C897C;
			set_environ(dwArg00, dwArg04);
			Mem71[fp - 88 + 0x00:word32] = 0x080C7E50;
			Mem72[fp - 0x5C + 0x00:word32] = 0x080C898C;
			set_environ(dwArg00, dwArg04);
			Mem74[fp - 88 + 0x00:word32] = 0x080C89C1;
			Mem75[fp - 0x5C + 0x00:word32] = 0x080C899D;
			set_environ(dwArg00, dwArg04);
			Mem77[fp - 88 + 0x00:word32] = 0x080C89C1;
			Mem78[fp - 0x5C + 0x00:word32] = 0x080C89AE;
			set_environ(dwArg00, dwArg04);
		}
		Mem51[135775184:word32] = Mem41[fp + 0x04:word32];
		Mem53[135775188:word32] = Mem51[fp - 0x10 + 0x00:word32];
		Mem56[0x080D53D0:word32] = Mem53[Mem53[fp + 0x04:word32] + 0x4C:word32];
	}
}

// 08058533: Register word32 searchKeyData()
word32 searchKeyData()
{
	word32 dwLoc10_15 = 0x00;
	if (Mem0[0x08180670:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[0x08180670:word32] + 0x00:byte]) != 0x00)
		dwLoc10_15 = Mem0[0x08180670:word32];
	else if (Mem0[0x081804E0:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[0x081804E0:word32] + 0x00:byte]) != 0x00)
		dwLoc10_15 = Mem0[0x081804E0:word32];
	else if (Mem0[0x08180728:word32] >= 0x00)
		dwLoc10_15 = getKeyData(Mem0[0x08180728:word32]);
	word32 eax_30;
	Mem21[0x08180670:word32] = 0x00;
	Mem22[0x081804E0:word32] = 0x00;
	if (dwLoc10_15 != 0x00 && (byte) ((word32) Mem22[dwLoc10_15 + 0x00:byte]) != 0x00)
		eax_30 = allocStr(dwLoc10_15, ~0x00);
	else
		eax_30 = 0x00;
	return eax_30;
}

// 080585D7: Register word32 searchKeyNum()
word32 searchKeyNum()
{
	word32 dwLoc14_15 = 0x01;
	word32 eax_9 = searchKeyData();
	if (eax_9 != 0x00)
		dwLoc14_15 = atoi(eax_9);
	word32 eax_21;
	if (Mem0[135775132:word32] != 0x00)
		eax_21 = Mem0[135775132:word32];
	else
		eax_21 = 0x01;
	return eax_21 *s dwLoc14_15;
}

// 0805861B: void deleteFiles(Register word32 ebp, Register selector gs)
void deleteFiles(word32 ebp, selector gs)
{
	Mem10[0x08180718:word32] = Mem0[0x081804E8:word32];
	while (Mem10[0x08180718:word32] != 0x00)
	{
		while (Mem10[Mem10[0x08180718:word32] + 0x0C:word32] != 0x00 && Mem10[Mem10[0x08180718:word32] + 0x0C:word32] != 0x01)
		{
			Mem53[fp - 0x10 + 0x00:word32] = Mem10[Mem10[Mem10[0x08180718:word32] + 0x0C:word32] + 0x18:word32];
			Mem56[fp - 44 + 0x00:word32] = Mem53[Mem53[0x08180718:word32] + 0x0C:word32];
			discardBuffer(fp - 0x04, gs, dwArg00);
			Mem61[Mem56[0x08180718:word32] + 0x0C:word32] = Mem56[fp - 0x10 + 0x00:word32];
		}
		Mem45[0x08180718:word32] = Mem10[Mem10[0x08180718:word32] + 0x00:word32];
	}
	while (true)
	{
		Mem21[fp - 44 + 0x00:word32] = Mem10[0x0818071C:word32];
		Mem24[fp - 0x14 + 0x00:word32] = popValue(dwArg00);
		if (Mem24[fp - 0x14 + 0x00:word32] == 0x00)
			break;
		Mem31[fp - 44 + 0x00:word32] = Mem24[fp - 0x14 + 0x00:word32];
		unlink(Mem31[fp - 44 + 0x00:(ptr char)]);
	}
}

// 080586AC: void w3m_exit(Register selector gs)
void w3m_exit(selector gs)
{
	init_migemo();
	stopDownload();
	deleteFiles(fp - 0x04, gs);
	disconnectFTP();
	disconnectNews();
	Mem11[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
	exit(Mem11[fp - 0x1C + 0x00:int32]);
}

// 080586D6: void execCmd(Register word32 ebp, Register selector gs)
void execCmd(word32 ebp, selector gs)
{
	Mem8[0x08180670:word32] = 0x00;
	word32 ebp_115 = fp - 0x04;
	word32 esp_114 = fp - 0x3C;
	word32 eax_9 = searchKeyData();
	if (eax_9 == 0x00 || (byte) ((word32) Mem8[eax_9 + 0x00:byte]) == 0x00)
	{
		Mem157[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C89C3, 0x080C7E50, 0x10, Mem8[0x08180530:word32]);
		if (Mem157[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_163 = Mem157[Mem157[0x08180718:word32] + 0x08:word32];
			Mem164[fp - 0x38 + 0x00:word32] = 0x00;
			Mem165[fp - 0x3C + 0x00:word32] = eax_163;
			real64 rArg0_166;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_166);
			return;
		}
	}
	while ((byte) (word32) Mem8[Mem8[ebp_115 - 0x0C + 0x00:word32] + 0x00:byte] != 0x00)
	{
		while ((byte) (word32) Mem8[Mem8[ebp_115 - 0x0C + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem8[(word32) ((byte) ((word32) Mem8[Mem8[(ebp_115 - 0x0C) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			Mem147[ebp_115 - 0x0C + 0x00:word32] = Mem8[ebp_115 - 0x0C + 0x00:word32] + 0x01;
		if ((byte) (word32) Mem8[Mem8[ebp_115 - 0x0C + 0x00:word32] + 0x00:byte] != 0x3B)
		{
			Mem84[esp_114 + 0x00:word32] = ebp_115 - 0x0C;
			Mem86[ebp_115 - 0x10 + 0x00:word32] = getWord(dwArg00);
			Mem88[esp_114 + 0x00:word32] = Mem86[ebp_115 - 0x10 + 0x00:word32];
			Mem90[ebp_115 - 0x14 + 0x00:word32] = getFuncList(dwArg00);
			if (Mem90[ebp_115 - 0x14 + 0x00:word32] < 0x00)
				break;
			word32 eax_106;
			word32 eax_93 = ebp_115 - 0x0C;
			Mem94[esp_114 + 0x00:word32] = eax_93;
			Mem96[ebp_115 - 0x10 + 0x00:word32] = getQWord(eax_93, dwArg00);
			Mem97[0x08180728:word32] = ~0x00;
			Mem98[0x08180670:word32] = 0x00;
			if ((byte) (word32) Mem98[Mem98[ebp_115 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
				eax_106 = Mem98[ebp_115 - 0x10 + 0x00:word32];
			else
				eax_106 = 0x00;
			Mem107[0x081804E0:word32] = eax_106;
			if (Mem107[0x080D5384:word32] != 0x00)
				mouse_inactive();
			word32 eax_113 = 135103140[Mem107[ebp_115 - 0x14 + 0x00:word32] * 0x08];
			byte SCZO_116;
			word32 eax_117;
			byte SZO_118;
			byte C_119;
			byte Z_120;
			byte al_121;
			byte S_122;
			eax_113();
			if (Mem107[0x080D5384:word32] != 0x00)
				mouse_active();
			Mem128[0x081804E0:word32] = 0x00;
			continue;
		}
		Mem82[ebp_115 - 0x0C + 0x00:word32] = Mem8[ebp_115 - 0x0C + 0x00:word32] + 0x01;
	}
	word32 eax_57 = Mem8[Mem8[0x08180718:word32] + 0x08:word32];
	Mem58[esp_114 + 0x04:word32] = 0x00;
	Mem59[esp_114 + 0x00:word32] = eax_57;
	real64 rArg0_63;
	displayBuffer(ebp_115, gs, dwArg00, dwArg04, rArg0, out rArg0_63);
}

// 08058864: void SigAlarm()
void SigAlarm()
{
	if (Mem0[Mem0[0x080D53C0:word32] + 0x00:word32] > 0x00)
	{
		Mem30[0x08180728:word32] = ~0x00;
		Mem31[0x08180670:word32] = 0x00;
		Mem36[0x081804E0:word32] = Mem31[Mem31[0x080D53C0:word32] + 0x0C:word32];
		if (Mem36[0x080D5384:word32] != 0x00)
			mouse_inactive();
		word32 eax_43 = 135103140[Mem36[Mem36[0x080D53C0:word32] + 0x08:word32] * 0x08];
		word32 esp_44;
		word32 ebp_45;
		byte SCZO_46;
		word32 eax_47;
		byte SZO_48;
		byte C_49;
		byte Z_50;
		word16 ax_51;
		eax_43();
		if (Mem36[0x080D5384:word32] != 0x00)
			mouse_active();
		Mem56[0x081804E0:word32] = 0x00;
		if ((word16) (word32) Mem56[Mem56[0x080D53C0:word32] + 0x04:word16] == 0x03)
		{
			Mem110[Mem56[0x080D53C0:word32] + 0x00:word32] = 0x00;
			Mem112[Mem110[0x080D53C0:word32] + 0x04:word16] = 0x00;
		}
		if (Mem56[Mem56[Mem56[0x08180718:word32] + 0x08:word32] + 0x0100:word32] != 0x00)
		{
			if ((word16) (word32) Mem56[Mem56[Mem56[Mem56[0x08180718:word32] + 0x08:word32] + 0x0100:word32] + 0x04:word16] != 0x00)
				Mem105[0x080D53C0:word32] = Mem56[Mem56[Mem56[0x08180718:word32] + 0x08:word32] + 0x0100:word32];
			else
				Mem108[Mem56[Mem56[0x08180718:word32] + 0x08:word32] + 0x0100:word32] = 0x00;
		}
		if (Mem56[Mem56[Mem56[0x08180718:word32] + 0x08:word32] + 0x0100:word32] == 0x00)
			Mem93[0x080D53C0:word32] = 135775144;
		if (Mem56[Mem56[0x080D53C0:word32] + 0x00:word32] > 0x00)
		{
			mySignal(0x0E, 0x08058864);
			word32 esp_85;
			word32 ebp_86;
			byte SCZO_87;
			word32 eax_88;
			byte SZO_89;
			byte C_90;
			byte Z_91;
			word16 ax_92;
			!alarm();
		}
	}
}

// 08058998: void setAlarm(Register word32 ebp, Register selector gs)
void setAlarm(word32 ebp, selector gs)
{
	Mem11[0x08180670:word32] = 0x00;
	word32 eax_12 = searchKeyData();
	if (eax_12 == 0x00 || (byte) ((word32) Mem11[eax_12 + 0x00:byte]) == 0x00)
	{
		Mem126[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C89D5, 0x080C7E50, 0x10, Mem11[0x08180530:word32]);
		if (Mem126[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_132 = Mem126[Mem126[0x08180718:word32] + 0x08:word32];
			Mem133[fp - 0x38 + 0x00:word32] = 0x00;
			Mem134[fp - 0x3C + 0x00:word32] = eax_132;
			real64 rArg0_135;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_135);
			return;
		}
	}
	if ((byte) (word32) Mem11[Mem11[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
	{
		Mem105[fp - 0x3C + 0x00:word32] = fp - 0x10;
		Mem107[fp - 0x3C + 0x00:word32] = getWord(dwArg00);
		Mem109[fp - 0x14 + 0x00:word32] = atoi(Mem107[fp - 0x3C + 0x00:(ptr char)]);
		if (Mem109[fp - 0x14 + 0x00:word32] > 0x00)
		{
			Mem113[fp - 0x3C + 0x00:word32] = fp - 0x10;
			Mem115[fp - 0x3C + 0x00:word32] = getWord(dwArg00);
			Mem117[fp - 0x18 + 0x00:word32] = getFuncList(dwArg00);
		}
	}
	if (Mem11[fp - 0x18 + 0x00:word32] >= 0x00)
	{
		Mem65[fp - 0x3C + 0x00:word32] = fp - 0x10;
		Mem67[fp - 0x10 + 0x00:word32] = getQWord(fp - 0x10, dwArg00);
		Mem69[fp - 44 + 0x00:word32] = Mem67[fp - 0x10 + 0x00:word32];
		Mem71[fp - 0x30 + 0x00:word32] = Mem69[fp - 0x18 + 0x00:word32];
		Mem72[fp - 0x34 + 0x00:word32] = 0x01;
		Mem74[fp - 0x38 + 0x00:word32] = Mem72[fp - 0x14 + 0x00:word32];
		Mem75[fp - 0x3C + 0x00:word32] = 135775144;
		setAlarmEvent(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
		word32 eax_82 = 0x080D82A0[Mem75[fp - 0x18 + 0x00:word32] * 0x08];
		Mem83[fp - 0x30 + 0x00:word32] = Mem75[fp - 0x10 + 0x00:word32];
		Mem84[fp - 0x34 + 0x00:word32] = eax_82;
		Mem86[fp - 0x38 + 0x00:word32] = Mem84[fp - 0x14 + 0x00:word32];
		Mem87[fp - 0x3C + 0x00:word32] = 0x080C89EA;
		byte bpl_88;
		word32 eax_90 = Mem87[Sprintf(dwArg00, out bpl_88) + 0x00:word32];
		Mem91[fp - 44 + 0x00:word32] = 0x01;
		Mem92[fp - 0x30 + 0x00:word32] = 0x00;
		Mem93[fp - 0x34 + 0x00:word32] = 0x01;
		Mem94[fp - 0x38 + 0x00:word32] = 0x00;
		Mem95[fp - 0x3C + 0x00:word32] = eax_90;
		disp_message_nsec(fp - 0x04, gs, dwArg00);
	}
	else
	{
		Mem97[fp - 44 + 0x00:word32] = 0x00;
		Mem98[fp - 0x30 + 0x00:word32] = 0x00;
		Mem99[fp - 0x34 + 0x00:word32] = 0x00;
		Mem100[fp - 0x38 + 0x00:word32] = 0x00;
		Mem101[fp - 0x3C + 0x00:word32] = 135775144;
		setAlarmEvent(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
	}
	word32 eax_55 = Mem11[Mem11[0x08180718:word32] + 0x08:word32];
	Mem56[fp - 0x38 + 0x00:word32] = 0x00;
	Mem57[fp - 0x3C + 0x00:word32] = eax_55;
	real64 rArg0_62;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_62);
}

// 08058B3A: Register word32 setAlarmEvent(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 setAlarmEvent(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word16 ax_9 = (word16) dwArg0C;
	if (dwArg04 == 0x00)
	{
		word32 esp_43;
		word32 ebp_44;
		byte SCZO_45;
		word32 eax_46;
		word16 ax_47;
		byte Z_48;
		word32 edx_49;
		word16 dx_50;
		!GC_malloc();
		dwArg04 = eax_46;
	}
	Mem22[dwArg04 + 0x00:word32] = dwArg08;
	Mem26[dwArg04 + 0x04:word16] = (word16) (word32) ax_9;
	Mem30[dwArg04 + 0x08:word32] = dwArg10;
	Mem34[dwArg04 + 0x0C:word32] = dwArg14;
	return dwArg04;
}

// 08058B86: void reinit(Register word32 ebp, Register selector gs)
void reinit(word32 ebp, selector gs)
{
	word32 eax_9 = searchKeyData();
	if (eax_9 == 0x00)
	{
		init_rc(fp - 0x04);
		sync_with_option(fp - 0x04, gs);
		initCookie();
		word32 eax_28 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem29[fp - 0x28 + 0x00:word32] = 0x04;
		Mem30[fp - 44 + 0x00:word32] = eax_28;
		real64 rArg0_34;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_34);
	}
	else if (strcasecmp(eax_9, 0x080C89F6) != 0x00 && strcasecmp(eax_9, 0x080C89FD) != 0x00)
	{
		if (strcasecmp(eax_9, 0x080C8A00) == 0x00)
			initCookie();
		else if (strcasecmp(eax_9, 0x080C8A07) == 0x00)
			initKeymap(fp - 0x04, gs, 0x01);
		else if (strcasecmp(eax_9, 0x080C8A0E) == 0x00)
			initMailcap();
		else
		{
			word32 eax_92 = strcasecmp(eax_9, 135039510);
			if (eax_92 == 0x00)
			{
				initMouseAction(eax_92, fp - 0x04);
				word32 eax_98 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
				Mem99[fp - 0x28 + 0x00:word32] = 0x04;
				Mem100[fp - 44 + 0x00:word32] = eax_98;
				real64 rArg0_101;
				displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_101);
			}
			else
			{
				word32 eax_106 = strcasecmp(eax_9, 0x080C8A1C);
				if (eax_106 == 0x00)
					initMenu(eax_106, fp - 0x04, gs);
				else if (strcasecmp(eax_9, 0x080C8A21) == 0x00)
					initMimeTypes();
				else if (strcasecmp(eax_9, 135039531) == 0x00)
					initURIMethods();
				else
				{
					byte bpl_127;
					word32 eax_129 = Mem0[Sprintf(0x080C8A38, out bpl_127) + 0x00:word32];
					Mem130[fp - 0x28 + 0x00:word32] = 0x00;
					Mem131[fp - 44 + 0x00:word32] = eax_129;
					byte bpl_132;
					disp_err_message(gs, dwArg00, dwArg04, out bpl_132);
				}
			}
		}
	}
	else
	{
		init_rc(fp - 0x04);
		sync_with_option(fp - 0x04, gs);
		word32 eax_54 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem55[fp - 0x28 + 0x00:word32] = 0x04;
		Mem56[fp - 44 + 0x00:word32] = eax_54;
		real64 rArg0_57;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_57);
	}
}

// 08058D3C: void defKey(Register word32 ebp, Register selector gs)
void defKey(word32 ebp, selector gs)
{
	Mem8[0x08180670:word32] = 0x00;
	word32 eax_9 = searchKeyData();
	if (eax_9 == 0x00 || (byte) ((word32) Mem8[eax_9 + 0x00:byte]) == 0x00)
	{
		Mem68[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080C8A5C, 0x080C7E50, 0x10, Mem8[0x08180530:word32]);
		if (Mem68[fp - 0x10 + 0x00:word32] == 0x00 || (byte) ((word32) Mem68[Mem68[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
		{
			word32 eax_76 = Mem68[Mem68[0x08180718:word32] + 0x08:word32];
			Mem77[fp - 0x38 + 0x00:word32] = 0x00;
			Mem78[fp - 0x3C + 0x00:word32] = eax_76;
			real64 rArg0_79;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_79);
			return;
		}
	}
	Mem41[fp - 0x38 + 0x00:word32] = ~0x00;
	Mem43[fp - 0x3C + 0x00:word32] = Mem41[fp - 0x10 + 0x00:word32];
	word32 eax_46 = allocStr(dwArg00, dwArg04);
	Mem47[fp - 0x34 + 0x00:word32] = 0x01;
	Mem48[fp - 0x38 + 0x00:word32] = ~0x00;
	Mem49[fp - 0x3C + 0x00:word32] = eax_46;
	setKeymap(fp - 0x04, gs);
	word32 eax_52 = Mem49[Mem49[0x08180718:word32] + 0x08:word32];
	Mem53[fp - 0x38 + 0x00:word32] = 0x00;
	Mem54[fp - 0x3C + 0x00:word32] = eax_52;
	real64 rArg0_56;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_56);
}

// 08058E03: Register word32 newTab(Register word32 eax)
word32 newTab(word32 eax)
{
	word32 eax_17;
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	byte Z_13;
	!GC_malloc();
	if (eax_12 == 0x00)
		eax_17 = 0x00;
	else
	{
		Mem23[eax_12 + 0x00:word32] = 0x00;
		Mem25[eax_12 + 0x08:word32] = 0x00;
		Mem27[eax_12 + 0x0C:word32] = 0x00;
		eax_17 = eax_12;
	}
	return eax_17;
}

// 08058E47: void _newT(Register word32 eax)
void _newT(word32 eax)
{
	word32 eax_9 = newTab(eax);
	if (eax_9 != 0x00)
	{
		word32 eax_32 = (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x30:word16];
		word32 eax_34 = newBuffer(eax_32, eax_32);
		copyBuffer(eax_34, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
		Mem42[eax_34 + 0x18:word32] = 0x00;
		word32 dwLoc18_43 = 0x04;
		while (dwLoc18_43 <= 0x00)
		{
			(eax_34 + 0x0C)[(dwLoc18_43 + 0x00) * 0x04] = 0x00;
			dwLoc18_43 = dwLoc18_43 + 0x01;
		}
		word32 eax_51 = Mem42[eax_34 + 0xC4:word32];
		Mem54[eax_51 + 0x00:word32] = Mem42[eax_51 + 0x00:word32] + 0x01;
		Mem57[eax_9 + 0x08:word32] = eax_34;
		Mem61[eax_9 + 0x0C:word32] = Mem57[eax_9 + 0x08:word32];
		Mem65[eax_9 + 0x00:word32] = Mem61[Mem61[0x08180718:word32] + 0x00:word32];
		Mem68[eax_9 + 0x04:word32] = Mem65[0x08180718:word32];
		if (Mem68[Mem68[0x08180718:word32] + 0x00:word32] != 0x00)
			Mem86[Mem68[Mem68[0x08180718:word32] + 0x00:word32] + 0x04:word32] = eax_9;
		else
			Mem88[0x08180730:word32] = eax_9;
		Mem76[Mem68[0x08180718:word32] + 0x00:word32] = eax_9;
		Mem78[0x08180718:word32] = eax_9;
		Mem82[0x08180720:word32] = Mem78[0x08180720:word32] + 0x01;
	}
}

// 08058F3F: void newT(Register word32 eax, Register selector gs)
void newT(word32 eax, selector gs)
{
	_newT(eax);
	real64 rArg0_16;
	displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x04, rArg0, out rArg0_16);
}

// 08058F64: Register word32 numTab(Stack word32 dwArg04)
word32 numTab(word32 dwArg04)
{
	word32 eax_16;
	if (dwArg04 == 0x00)
		eax_16 = Mem0[0x08180718:word32];
	else if (dwArg04 == 0x01)
		eax_16 = Mem0[0x081804E8:word32];
	else if (Mem0[0x08180720:word32] <= 0x01)
		eax_16 = 0x00;
	else
	{
		word32 dwLoc08_34 = Mem0[0x081804E8:word32];
		word32 dwLoc0C_35 = 0x01;
		while (dwLoc08_34 != 0x00 && dwLoc0C_35 < dwArg04)
		{
			dwLoc08_34 = Mem0[dwLoc08_34 + 0x00:word32];
			dwLoc0C_35 = dwLoc0C_35 + 0x01;
		}
		eax_16 = dwLoc08_34;
	}
	return eax_16;
}

// 08058FC5: void calcTabPos()
void calcTabPos()
{
	word32 eax_15;
	if (Mem0[0x08180680:word32] != 0x00)
		eax_15 = Mem0[0x08180688:word32];
	else
		eax_15 = 0x00;
	if (Mem0[0x08180720:word32] > 0x00)
	{
		word32 dwLoc1C_228;
		word32 dwLoc28_229;
		word32 eax_44 = Mem0[0x081807A0:word32] - eax_15;
		word32 eax_52 = (int32) (SEQ(eax_44 >> 0x1F, eax_44) / Mem0[135090900:word32]);
		word32 dwLoc18_232 = eax_52;
		if (eax_52 >= Mem0[0x08180720:word32])
		{
			dwLoc1C_228 = 0x01;
			dwLoc28_229 = 0x01;
		}
		else
		{
			if (eax_52 < 0x00)
				dwLoc18_232 = 0x00;
			word32 eax_233 = Mem0[0x081807A0:word32];
			word32 eax_241 = (int32) (SEQ(eax_233 >> 0x1F, eax_233) / Mem0[135090900:word32]);
			dwLoc1C_228 = eax_241;
			if (eax_241 == 0x00)
				dwLoc1C_228 = 0x01;
			word32 eax_247 = Mem0[0x08180720:word32] - dwLoc18_232;
			dwLoc28_229 = (int32) (SEQ(eax_247 - 0x01 >> 0x1F, eax_247 - 0x01) / dwLoc1C_228) + 0x02;
		}
		word32 ecx_70 = (dwLoc28_229 - 0x01) *s dwLoc1C_228 + dwLoc18_232 - Mem0[0x08180720:word32];
		word32 v15_78 = dwLoc18_232 - (int32) (SEQ(ecx_70 >> 0x1F, ecx_70) / dwLoc28_229);
		word32 dwLoc18_227 = v15_78;
		if (v15_78 < 0x00)
			dwLoc18_227 = 0x00;
		word32 eax_86 = (dwLoc28_229 - 0x01) *s dwLoc1C_228 + dwLoc18_227;
		word32 dwLoc08_105 = Mem0[0x081804E8:word32];
		word32 dwLoc30_106 = 0x00;
		while (dwLoc30_106 < dwLoc28_229 && dwLoc08_105 != 0x00)
		{
			word32 dwLoc14_117;
			word32 dwLoc24_116;
			if (dwLoc30_106 == 0x00)
			{
				dwLoc24_116 = dwLoc18_227;
				dwLoc14_117 = Mem0[0x081807A0:word32] - eax_15;
			}
			else
			{
				word32 eax_209 = eax_86 - Mem0[0x08180720:word32] + (dwLoc30_106 - 0x01);
				dwLoc24_116 = dwLoc1C_228 - (int32) (SEQ(eax_209 >> 0x1F, eax_209) / (dwLoc28_229 - 0x01));
				dwLoc14_117 = Mem0[0x081807A0:word32];
			}
			word32 dwLoc2C_122 = 0x01;
			while (dwLoc2C_122 < dwLoc24_116 && dwLoc08_105 != 0x00)
			{
				word32 eax_139 = dwLoc14_117 *s dwLoc2C_122;
				Mem149[dwLoc08_105 + 0x10:word16] = (word16) (int32) (SEQ(eax_139 >> 0x1F, eax_139) / dwLoc24_116);
				word32 eax_152 = (dwLoc2C_122 + 0x00) *s dwLoc14_117;
				Mem163[dwLoc08_105 + 0x12:word16] = (word16) ((int32) (SEQ(eax_152 >> 0x1F, eax_152) / dwLoc24_116) - 0x01);
				Mem168[dwLoc08_105 + 0x14:word16] = (word16) dwLoc30_106;
				if (dwLoc30_106 == 0x00)
				{
					Mem187[dwLoc08_105 + 0x10:word16] = (word16) ((word32) Mem168[dwLoc08_105 + 0x10:word16] + eax_15);
					Mem196[dwLoc08_105 + 0x12:word16] = (word16) ((word32) Mem187[dwLoc08_105 + 0x12:word16] + eax_15);
				}
				dwLoc2C_122 = dwLoc2C_122 + 0x01;
				dwLoc08_105 = Mem168[dwLoc08_105 + 0x00:word32];
			}
			dwLoc30_106 = dwLoc30_106 + 0x01;
		}
	}
}

// 080591EE: void deleteTab(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void deleteTab(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[0x08180720:word32] > 0x01)
	{
		if (Mem0[dwArg04 + 0x04:word32] != 0x00)
		{
			if (Mem0[dwArg04 + 0x00:word32] != 0x00)
				Mem84[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = Mem0[dwArg04 + 0x04:word32];
			else
				Mem87[0x08180730:word32] = Mem0[dwArg04 + 0x04:word32];
			Mem73[Mem0[dwArg04 + 0x04:word32] + 0x00:word32] = Mem0[dwArg04 + 0x00:word32];
			if (dwArg04 == Mem73[0x08180718:word32])
				Mem79[0x08180718:word32] = Mem73[dwArg04 + 0x04:word32];
		}
		else
		{
			Mem90[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = 0x00;
			Mem93[0x081804E8:word32] = Mem90[dwArg04 + 0x00:word32];
			if (dwArg04 == Mem93[0x08180718:word32])
				Mem99[0x08180718:word32] = Mem93[dwArg04 + 0x00:word32];
		}
		Mem41[0x08180720:word32] = Mem0[0x08180720:word32] - 0x01;
		while (Mem41[fp - 0x10 + 0x00:word32] != 0x00 && Mem41[(fp - 0x10) + 0x00:word32] != 0x01)
		{
			Mem56[fp - 0x14 + 0x00:word32] = Mem41[Mem41[fp - 0x10 + 0x00:word32] + 0x18:word32];
			Mem58[fp - 44 + 0x00:word32] = Mem56[fp - 0x10 + 0x00:word32];
			discardBuffer(fp - 0x04, gs, dwArg00);
			Mem63[fp - 0x10 + 0x00:word32] = Mem58[fp - 0x14 + 0x00:word32];
		}
	}
}

// 080592C9: void closeT(Register word32 ebp, Register selector gs)
void closeT(word32 ebp, selector gs)
{
	if (Mem0[0x08180720:word32] > 0x01)
	{
		word32 dwLoc10_28;
		if (Mem0[135775132:word32] != 0x00)
		{
			word32 eax_50;
			if (Mem0[135775132:word32] != 0x00)
				eax_50 = Mem0[135775132:word32];
			else
				eax_50 = 0x01;
			dwLoc10_28 = numTab(eax_50);
		}
		else
			dwLoc10_28 = Mem0[0x08180718:word32];
		if (dwLoc10_28 != 0x00)
			deleteTab(fp - 0x04, gs, dwLoc10_28);
		word32 eax_35 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem36[fp - 0x28 + 0x00:word32] = 0x04;
		Mem37[fp - 44 + 0x00:word32] = eax_35;
		real64 rArg0_42;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_42);
	}
}

// 0805933A: void nextT(Register selector gs)
void nextT(selector gs)
{
	if (Mem0[0x08180720:word32] > 0x01)
	{
		word32 dwLoc10_23 = 0x00;
		while (true)
		{
			word32 eax_30;
			if (Mem0[135775132:word32] != 0x00)
				eax_30 = Mem0[135775132:word32];
			else
				eax_30 = 0x01;
			if (eax_30 <= dwLoc10_23)
				break;
			if (Mem0[Mem0[0x08180718:word32] + 0x00:word32] != 0x00)
				Mem52[0x08180718:word32] = Mem0[Mem0[0x08180718:word32] + 0x00:word32];
			else
				Mem54[0x08180718:word32] = Mem0[0x081804E8:word32];
			dwLoc10_23 = dwLoc10_23 + 0x01;
		}
		real64 rArg0_39;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x04, rArg0, out rArg0_39);
	}
}

// 080593B1: void prevT(Register selector gs)
void prevT(selector gs)
{
	if (Mem0[0x08180720:word32] > 0x01)
	{
		word32 dwLoc10_23 = 0x00;
		while (true)
		{
			word32 eax_30;
			if (Mem0[135775132:word32] != 0x00)
				eax_30 = Mem0[135775132:word32];
			else
				eax_30 = 0x01;
			if (eax_30 <= dwLoc10_23)
				break;
			if (Mem0[Mem0[0x08180718:word32] + 0x04:word32] != 0x00)
				Mem52[0x08180718:word32] = Mem0[Mem0[0x08180718:word32] + 0x04:word32];
			else
				Mem54[0x08180718:word32] = Mem0[0x08180730:word32];
			dwLoc10_23 = dwLoc10_23 + 0x01;
		}
		real64 rArg0_39;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x04, rArg0, out rArg0_39);
	}
}

// 0805942A: void followTab(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void followTab(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_12 = retrieveCurrentImg(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	word32 dwLoc14_113 = eax_12;
	if (eax_12 == 0x00 || (Mem0[eax_12 + 0x38:word32] == 0x00 || Mem0[Mem0[eax_12 + 0x38:word32] + 0x14:word32] == 0x00))
		dwLoc14_113 = retrieveCurrentAnchor(Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
	if (dwLoc14_113 != 0x00)
	{
		word32 eax_34 = Mem0[0x08180718:word32];
		if (dwArg04 == eax_34)
		{
			Mem38[0x080D53CC:word32] = 0x00;
			followA(fp - 0x04, gs);
			Mem40[0x080D53CC:word32] = 0x01;
		}
		else
		{
			_newT(eax_34);
			Mem47[0x080D53CC:word32] = 0x00;
			followA(fp - 0x04, gs);
			Mem48[0x080D53CC:word32] = 0x01;
			if (Mem48[fp + 0x04:word32] == 0x00)
			{
				if (Mem48[Mem48[0x08180718:word32] + 0x08:word32] != Mem48[(fp - 0x10) + 0x00:word32])
				{
					Mem66[fp - 44 + 0x00:word32] = Mem48[fp - 0x10 + 0x00:word32];
					delBuffer(gs, dwArg00);
				}
				else
				{
					Mem68[fp - 44 + 0x00:word32] = Mem48[0x08180718:word32];
					deleteTab(fp - 0x04, gs, dwArg00);
				}
			}
			else if (Mem48[Mem48[0x08180718:word32] + 0x08:word32] != Mem48[(fp - 0x10) + 0x00:word32])
			{
				Mem75[fp - 0x18 + 0x00:word32] = Mem48[Mem48[0x08180718:word32] + 0x08:word32];
				Mem77[fp - 0x28 + 0x00:word32] = Mem75[fp - 0x10 + 0x00:word32];
				Mem79[fp - 44 + 0x00:word32] = Mem77[fp - 0x18 + 0x00:word32];
				Mem81[fp - 0x1C + 0x00:word32] = prevBuffer(dwArg00, dwArg04);
				Mem83[Mem81[fp - 0x1C + 0x00:word32] + 0x18:word32] = 0x00;
				Mem86[Mem83[0x08180718:word32] + 0x0C:word32] = Mem83[fp - 0x10 + 0x00:word32];
				Mem88[fp - 44 + 0x00:word32] = Mem86[0x08180718:word32];
				deleteTab(fp - 0x04, gs, dwArg00);
				Mem90[0x08180718:word32] = Mem88[fp + 0x04:word32];
				Mem92[fp - 0x10 + 0x00:word32] = Mem90[fp - 0x1C + 0x00:word32];
				while (Mem92[fp - 0x10 + 0x00:word32] != 0x00)
				{
					Mem97[fp - 0x28 + 0x00:word32] = Mem92[fp - 0x10 + 0x00:word32];
					Mem99[fp - 44 + 0x00:word32] = Mem97[fp - 0x18 + 0x00:word32];
					Mem101[fp - 0x1C + 0x00:word32] = prevBuffer(dwArg00, dwArg04);
					Mem103[fp - 44 + 0x00:word32] = Mem101[fp - 0x10 + 0x00:word32];
					pushBuffer(fp - 0x04, gs);
					Mem105[fp - 0x10 + 0x00:word32] = Mem103[fp - 0x1C + 0x00:word32];
				}
			}
			word32 eax_55 = Mem48[Mem48[0x08180718:word32] + 0x08:word32];
			Mem56[fp - 0x28 + 0x00:word32] = 0x01;
			Mem57[fp - 44 + 0x00:word32] = eax_55;
			real64 rArg0_59;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_59);
		}
	}
}

// 080595AB: void tabA(Register selector gs)
void tabA(selector gs)
{
	word32 eax_15;
	if (Mem0[135775132:word32] != 0x00)
	{
		word32 eax_25;
		if (Mem0[135775132:word32] != 0x00)
			eax_25 = Mem0[135775132:word32];
		else
			eax_25 = 0x01;
		eax_15 = numTab(eax_25);
	}
	else
		eax_15 = 0x00;
	followTab(fp - 0x04, gs, eax_15);
}

// 080595E8: void tabURL0(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void tabURL0(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_8 = Mem0[0x08180718:word32];
	if (dwArg04 == eax_8)
		goURL0(fp - 0x04, gs);
	else
	{
		_newT(eax_8);
		goURL0(fp - 0x04, gs);
		if (Mem0[fp + 0x04:word32] == 0x00)
		{
			if (Mem0[Mem0[0x08180718:word32] + 0x08:word32] != Mem0[(fp - 0x10) + 0x00:word32])
			{
				Mem57[fp - 44 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
				delBuffer(gs, dwArg00);
			}
			else
			{
				Mem59[fp - 44 + 0x00:word32] = Mem0[0x08180718:word32];
				deleteTab(fp - 0x04, gs, dwArg00);
			}
		}
		else if (Mem0[Mem0[0x08180718:word32] + 0x08:word32] != Mem0[(fp - 0x10) + 0x00:word32])
		{
			Mem66[fp - 0x14 + 0x00:word32] = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem68[fp - 0x28 + 0x00:word32] = Mem66[fp - 0x10 + 0x00:word32];
			Mem70[fp - 44 + 0x00:word32] = Mem68[fp - 0x14 + 0x00:word32];
			Mem72[fp - 0x18 + 0x00:word32] = prevBuffer(dwArg00, dwArg04);
			Mem74[Mem72[fp - 0x18 + 0x00:word32] + 0x18:word32] = 0x00;
			Mem77[Mem74[0x08180718:word32] + 0x0C:word32] = Mem74[fp - 0x10 + 0x00:word32];
			Mem79[fp - 44 + 0x00:word32] = Mem77[0x08180718:word32];
			deleteTab(fp - 0x04, gs, dwArg00);
			Mem81[0x08180718:word32] = Mem79[fp + 0x04:word32];
			Mem83[fp - 0x10 + 0x00:word32] = Mem81[fp - 0x18 + 0x00:word32];
			while (Mem83[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem88[fp - 0x28 + 0x00:word32] = Mem83[fp - 0x10 + 0x00:word32];
				Mem90[fp - 44 + 0x00:word32] = Mem88[fp - 0x14 + 0x00:word32];
				Mem92[fp - 0x18 + 0x00:word32] = prevBuffer(dwArg00, dwArg04);
				Mem94[fp - 44 + 0x00:word32] = Mem92[fp - 0x10 + 0x00:word32];
				pushBuffer(fp - 0x04, gs);
				Mem96[fp - 0x10 + 0x00:word32] = Mem94[fp - 0x18 + 0x00:word32];
			}
		}
		word32 eax_46 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
		Mem47[fp - 0x28 + 0x00:word32] = 0x01;
		Mem48[fp - 44 + 0x00:word32] = eax_46;
		real64 rArg0_50;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_50);
	}
}

// 0805970B: void tabURL(Register selector gs)
void tabURL(selector gs)
{
	word32 eax_15;
	if (Mem0[135775132:word32] != 0x00)
	{
		word32 eax_27;
		if (Mem0[135775132:word32] != 0x00)
			eax_27 = Mem0[135775132:word32];
		else
			eax_27 = 0x01;
		eax_15 = numTab(eax_27);
	}
	else
		eax_15 = 0x00;
	tabURL0(fp - 0x04, gs, eax_15, 0x080C8A6D, 0x00);
}

// 08059758: void tabrURL(Register selector gs)
void tabrURL(selector gs)
{
	word32 eax_15;
	if (Mem0[135775132:word32] != 0x00)
	{
		word32 eax_27;
		if (Mem0[135775132:word32] != 0x00)
			eax_27 = Mem0[135775132:word32];
		else
			eax_27 = 0x01;
		eax_15 = numTab(eax_27);
	}
	else
		eax_15 = 0x00;
	tabURL0(fp - 0x04, gs, eax_15, 0x080C8A84, 0x01);
}

// 080597A5: void moveTab(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void moveTab(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 == 0x01)
		dwArg08 = Mem0[0x081804E8:word32];
	if (dwArg04 != 0x00 && (dwArg08 != 0x00 && (dwArg04 != dwArg08 && dwArg04 != 0x01)))
	{
		if (Mem0[dwArg04 + 0x04:word32] != 0x00)
		{
			if (Mem0[dwArg04 + 0x00:word32] != 0x00)
				Mem116[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = Mem0[dwArg04 + 0x04:word32];
			else
				Mem119[0x08180730:word32] = Mem0[dwArg04 + 0x04:word32];
			Mem111[Mem0[dwArg04 + 0x04:word32] + 0x00:word32] = Mem0[dwArg04 + 0x00:word32];
		}
		else
		{
			Mem122[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = 0x00;
			Mem125[0x081804E8:word32] = Mem122[dwArg04 + 0x00:word32];
		}
		if (dwArg0C != 0x00)
		{
			Mem63[dwArg04 + 0x00:word32] = Mem0[dwArg08 + 0x00:word32];
			Mem66[dwArg04 + 0x04:word32] = dwArg08;
			if (Mem66[dwArg08 + 0x00:word32] != 0x00)
				Mem78[Mem66[dwArg08 + 0x00:word32] + 0x04:word32] = dwArg04;
			else
				Mem80[0x08180730:word32] = dwArg04;
			Mem74[dwArg08 + 0x00:word32] = dwArg04;
		}
		else
		{
			Mem84[dwArg04 + 0x04:word32] = Mem0[dwArg08 + 0x04:word32];
			Mem87[dwArg04 + 0x00:word32] = dwArg08;
			if (Mem87[dwArg08 + 0x04:word32] != 0x00)
				Mem99[Mem87[dwArg08 + 0x04:word32] + 0x00:word32] = dwArg04;
			else
				Mem101[0x081804E8:word32] = dwArg04;
			Mem95[dwArg08 + 0x04:word32] = dwArg04;
		}
		real64 rArg0_58;
		displayBuffer(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_58);
	}
}

// 080598D9: void tabR(Register selector gs)
void tabR(selector gs)
{
	word32 dwLoc10_10 = Mem0[0x08180718:word32];
	word32 dwLoc14_11 = 0x00;
	while (dwLoc10_10 != 0x00)
	{
		word32 eax_41;
		if (Mem0[135775132:word32] != 0x00)
			eax_41 = Mem0[135775132:word32];
		else
			eax_41 = 0x01;
		if (eax_41 <= dwLoc14_11)
			break;
		dwLoc10_10 = Mem0[dwLoc10_10 + 0x00:word32];
		dwLoc14_11 = dwLoc14_11 + 0x01;
	}
	word32 eax_26;
	if (dwLoc10_10 != 0x00)
		eax_26 = dwLoc10_10;
	else
		eax_26 = Mem0[0x08180730:word32];
	moveTab(gs, Mem0[0x08180718:word32], eax_26, 0x01);
}

// 08059948: void tabL(Register selector gs)
void tabL(selector gs)
{
	word32 dwLoc10_10 = Mem0[0x08180718:word32];
	word32 dwLoc14_11 = 0x00;
	while (dwLoc10_10 != 0x00)
	{
		word32 eax_41;
		if (Mem0[135775132:word32] != 0x00)
			eax_41 = Mem0[135775132:word32];
		else
			eax_41 = 0x01;
		if (eax_41 <= dwLoc14_11)
			break;
		dwLoc10_10 = Mem0[dwLoc10_10 + 0x04:word32];
		dwLoc14_11 = dwLoc14_11 + 0x01;
	}
	word32 eax_26;
	if (dwLoc10_10 != 0x00)
		eax_26 = dwLoc10_10;
	else
		eax_26 = Mem0[0x081804E8:word32];
	moveTab(gs, Mem0[0x08180718:word32], eax_26, 0x00);
}

// 080599B8: void addDownloadList(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18)
void addDownloadList(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18)
{
	word32 esp_15;
	word32 ebp_16;
	byte SCZO_17;
	word32 eax_18;
	word32 edx_19;
	byte al_20;
	byte Z_21;
	word32 ecx_22;
	byte SZO_23;
	byte C_24;
	!GC_malloc();
	Mem29[eax_18 + 0x00:word32] = dwArg04;
	Mem33[eax_18 + 0x04:word32] = dwArg08;
	if ((byte) (word32) Mem33[dwArg0C + 0x00:byte] != 0x2F && (byte) ((word32) Mem33[dwArg0C + 0x00:byte]) != 0x7E)
	{
		word32 eax_95 = Mem33[0x08180544:word32];
		Strnew_m_charp(eax_95, eax_95);
		dwArg0C = Mem33[eax_95 + 0x00:word32];
	}
	Mem53[eax_18 + 0x08:word32] = expandPath(dwArg0C);
	Mem57[eax_18 + 0x0C:word32] = dwArg10;
	Mem61[eax_18 + 0x10:word32] = dwArg14;
	Mem62[eax_18 + 0x14:word32] = dwArg18;
	Mem66[eax_18 + 0x18:word32] = time(0x00);
	Mem68[eax_18 + 0x1C:word32] = 0x00;
	Mem70[eax_18 + 0x20:word32] = 0x00;
	Mem73[eax_18 + 0x24:word32] = Mem70[135774872:word32];
	if (Mem73[135774872:word32] != 0x00)
		Mem87[Mem73[135774872:word32] + 0x20:word32] = eax_18;
	else
		Mem89[135774868:word32] = eax_18;
	Mem80[135774872:word32] = eax_18;
	Mem81[135775176:word32] = 0x01;
}

// 08059AB4: Register word32 checkDownloadList()
word32 checkDownloadList()
{
	word32 eax_20;
	if (Mem0[135774868:word32] == 0x00)
		eax_20 = 0x00;
	else
	{
		word32 dwLoc10_31 = Mem0[135774868:word32];
		while (dwLoc10_31 != 0x00)
		{
			if (Mem0[dwLoc10_31 + 0x1C:word32] == 0x00 && lstat(Mem0[dwLoc10_31 + 0x0C:word32], fp - 0x68) == 0x00)
			{
				eax_20 = 0x01;
				return eax_20;
			}
			dwLoc10_31 = Mem0[dwLoc10_31 + 0x20:word32];
		}
		eax_20 = 0x00;
	}
	return eax_20;
}

// 08059B14: Register word32 convert_size3(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
word32 convert_size3(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	Strnew(dwArg08);
	do
	{
		word32 eax_46;
		word32 eax_18 = Mem0[fp - 0x24 + 0x00:word32];
		word32 edx_19 = Mem0[fp - 0x20 + 0x00:word32];
		Mem20[fp - 0x34 + 0x00:word32] = 1000;
		Mem21[fp - 0x30 + 0x00:word32] = 0x00;
		Mem22[fp - 0x3C + 0x00:word32] = eax_18;
		Mem23[fp - 0x38 + 0x00:word32] = edx_19;
		Mem27[fp - 0x14 + 0x00:word32] = __moddi3(dwArg00, dwArg04, dwArg08, dwArg0C);
		word32 eax_28 = Mem27[fp - 0x24 + 0x00:word32];
		word32 edx_29 = Mem27[fp - 0x20 + 0x00:word32];
		Mem30[fp - 0x34 + 0x00:word32] = 1000;
		Mem31[fp - 0x30 + 0x00:word32] = 0x00;
		Mem32[fp - 0x3C + 0x00:word32] = eax_28;
		Mem33[fp - 0x38 + 0x00:word32] = edx_29;
		word32 edx_34;
		Mem36[fp - 0x24 + 0x00:word32] = __divdi3(dwArg00, dwArg04, dwArg08, dwArg0C, out edx_34);
		Mem37[fp - 0x20 + 0x00:word32] = edx_34;
		word32 edx_39 = Mem37[Mem37[fp - 0x10 + 0x00:word32] + 0x00:word32];
		if ((Mem37[fp - 0x24 + 0x00:word32] | Mem37[(fp - 0x20) + 0x00:word32]) != 0x00)
			eax_46 = 0x080C8AA5;
		else
			eax_46 = 0x080C8AAD;
		Mem47[fp - 0x34 + 0x00:word32] = edx_39;
		Mem49[fp - 0x38 + 0x00:word32] = Mem47[fp - 0x14 + 0x00:word32];
		Mem50[fp - 0x3C + 0x00:word32] = eax_46;
		byte bpl_51;
		Mem53[fp - 0x10 + 0x00:word32] = Sprintf(dwArg00, out bpl_51);
	} while ((Mem53[fp - 0x24 + 0x00:word32] | Mem53[(fp - 0x20) + 0x00:word32]) != 0x00);
	return Mem53[Mem53[fp - 0x10 + 0x00:word32] + 0x00:word32];
}

// 08059BC5: Register word32 DownloadListBuffer(Register word32 ebp, Register selector gs)
word32 DownloadListBuffer(word32 ebp, selector gs)
{
	word32 eax_101;
	if (Mem0[135774868:word32] == 0x00)
		eax_101 = 0x00;
	else
	{
		Strnew_charp(time(0x00), 0x080C8AB4);
		while (Mem0[fp - 0x20 + 0x00:word32] != 0x00)
		{
			word32 eax_107 = Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x0C:word32];
			Mem109[fp - 0xD8 + 0x00:word32] = fp - 0x98;
			Mem110[fp - 220 + 0x00:word32] = eax_107;
			if (lstat(dwArg00, dwArg04) != 0x00)
				Mem765[Mem110[fp - 0x20 + 0x00:word32] + 0x1C:word32] = 0x01;
			Mem115[fp - 0xD8 + 0x00:word32] = 0x080C8B46;
			Mem117[fp - 220 + 0x00:word32] = Mem115[fp - 0x24 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			word32 esi_118 = Mem117[135091052:word32];
			word32 ebx_119 = Mem117[0x080D5378:word32];
			word32 eax_121 = Mem117[Mem117[fp - 0x20 + 0x00:word32] + 0x08:word32];
			Mem122[fp - 220 + 0x00:word32] = eax_121;
			Strnew_charp(eax_121, dwArg00);
			Mem123[fp - 212 + 0x00:word32] = esi_118;
			Mem124[fp - 0xD8 + 0x00:word32] = ebx_119;
			Mem125[fp - 220 + 0x00:word32] = eax_121;
			word32 ebx_127;
			Mem130[fp - 220 + 0x00:word32] = Mem125[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_127) + 0x00:word32];
			word32 eax_131 = html_quote(dwArg00);
			Mem135[fp - 220 + 0x00:word32] = Mem130[Mem130[fp - 0x20 + 0x00:word32] + 0x04:word32];
			word32 eax_136 = html_quote(dwArg00);
			Mem137[fp - 212 + 0x00:word32] = eax_131;
			Mem138[fp - 0xD8 + 0x00:word32] = eax_136;
			Mem139[fp - 220 + 0x00:word32] = 0x080C8B4D;
			byte bpl_140;
			Mem142[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_140);
			Mem144[fp - 220 + 0x00:word32] = Mem142[fp - 0x24 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			Mem152[fp - 44 + 0x00:word32] = Mem144[fp - 0x28 + 0x00:word32] - Mem144[Mem144[(fp - 0x20) + 0x00:word32] + 0x18:word32];
			word32 eax_154 = Mem152[Mem152[fp - 0x20 + 0x00:word32] + 0x08:word32];
			Mem156[fp - 0xD8 + 0x00:word32] = fp - 0x98;
			Mem157[fp - 220 + 0x00:word32] = eax_154;
			if (stat(dwArg00, dwArg04) == 0x00)
			{
				Mem744[fp - 0x38 + 0x00:word32] = Mem157[fp - 0x6C + 0x00:word32];
				if (Mem744[Mem744[fp - 0x20 + 0x00:word32] + 0x1C:word32] != 0x00)
				{
					word32 ecx_752 = Mem744[fp - 0x20 + 0x00:word32];
					Mem753[ecx_752 + 0x10:word32] = Mem744[fp - 0x38 + 0x00:word32];
					Mem754[ecx_752 + 0x14:word32] = 0x00;
					Mem762[fp - 44 + 0x00:word32] = Mem754[fp - 88 + 0x00:word32] - Mem754[Mem754[(fp - 0x20) + 0x00:word32] + 0x18:word32];
				}
			}
			else
				Mem763[fp - 0x38 + 0x00:word32] = 0x00;
			word32 eax_164 = Mem157[fp - 0x20 + 0x00:word32];
			if ((Mem157[eax_164 + 0x10:word32] | Mem157[eax_164 + 0x14:word32]) != 0x00)
			{
				Mem590[fp - 0x40 + 0x00:word32] = Mem157[0x081807A0:word32] - 0x06;
				word32 eax_593 = Mem590[fp - 0x20 + 0x00:word32];
				word32 eax_595 = Mem590[eax_593 + 0x10:word32];
				word32 ecx_591 = Mem590[fp - 0x38 + 0x00:word32];
				word32 edx_594 = Mem590[eax_593 + 0x14:word32];
				word16 ax_598 = (word16) eax_595;
				if (0x00 <= edx_594 && (0x00 < edx_594 || ecx_591 <u eax_595))
				{
					real64 rLoc1_721 = (real64) Mem590[fp - 0x40 + 0x00:int32];
					Mem724[fp - 0xA4 + 0x00:word32] = Mem590[fp - 0x38 + 0x00:word32];
					Mem725[fp - 0xA0 + 0x00:word32] = 0x00;
					word32 eax_728 = Mem725[fp - 0x20 + 0x00:word32];
					real64 rLoc1_727 = rLoc1_721 * (real64) Mem725[(fp - 0xA4) + 0x00:int64];
					word32 edx_729 = Mem725[eax_728 + 0x14:word32];
					Mem731[fp - 0xA4 + 0x00:word32] = Mem725[eax_728 + 0x10:word32];
					Mem732[fp - 0xA0 + 0x00:word32] = edx_729;
					real64 rLoc1_734 = rLoc1_727 / (real64) Mem732[(fp - 0xA4) + 0x00:int64];
					Mem735[fp - 166 + 0x00:word16] = __fstcw();
					Mem739[fp - 0xA8 + 0x00:word16] = DPB(ax_598, 0x0C, 8);
					__fldcw(Mem739[fp - 0xA8 + 0x00:word16]);
					Mem740[fp - 0x3C + 0x00:int32] = (int32) rLoc1_734;
					__fldcw(Mem740[fp - 166 + 0x00:word16]);
				}
				else
					Mem716[fp - 0x3C + 0x00:word32] = Mem590[fp - 0x40 + 0x00:word32];
				Mem611[fp - 0x40 + 0x00:word32] = Mem590[fp - 0x40 + 0x00:word32] - Mem590[(fp - 0x3C) + 0x00:word32];
				while (true)
				{
					byte al_619 = Mem611[fp - 0x3C + 0x00:word32] > 0x00;
					Mem621[fp - 0x3C + 0x00:word32] = Mem611[fp - 0x3C + 0x00:word32] - 0x01;
					if (al_619 == 0x00)
						break;
					if (Mem621[Mem621[fp - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem621[Mem621[(fp - 0x24) + 0x00:word32] + 0x08:word32])
					{
						Mem711[fp - 220 + 0x00:word32] = Mem621[fp - 0x24 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_697 = Mem621[Mem621[fp - 0x24 + 0x00:word32] + 0x04:word32];
					Mem700[Mem621[Mem621[fp - 0x24 + 0x00:word32] + 0x00:word32] + eax_697:byte] = 0x23;
					Mem703[Mem700[fp - 0x24 + 0x00:word32] + 0x04:word32] = eax_697 + 0x01;
					Mem709[Mem703[Mem703[fp - 0x24 + 0x00:word32] + 0x00:word32] + Mem703[Mem703[(fp - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				while (true)
				{
					byte al_631 = Mem621[fp - 0x40 + 0x00:word32] > 0x00;
					Mem633[fp - 0x40 + 0x00:word32] = Mem621[fp - 0x40 + 0x00:word32] - 0x01;
					if (al_631 == 0x00)
						break;
					if (Mem633[Mem633[fp - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem633[Mem633[(fp - 0x24) + 0x00:word32] + 0x08:word32])
					{
						Mem686[fp - 220 + 0x00:word32] = Mem633[fp - 0x24 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_672 = Mem633[Mem633[fp - 0x24 + 0x00:word32] + 0x04:word32];
					Mem675[Mem633[Mem633[fp - 0x24 + 0x00:word32] + 0x00:word32] + eax_672:byte] = 0x5F;
					Mem678[Mem675[fp - 0x24 + 0x00:word32] + 0x04:word32] = eax_672 + 0x01;
					Mem684[Mem678[Mem678[fp - 0x24 + 0x00:word32] + 0x00:word32] + Mem678[Mem678[(fp - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				if (Mem633[Mem633[fp - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem633[Mem633[(fp - 0x24) + 0x00:word32] + 0x08:word32])
				{
					Mem661[fp - 220 + 0x00:word32] = Mem633[fp - 0x24 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_647 = Mem633[Mem633[fp - 0x24 + 0x00:word32] + 0x04:word32];
				Mem650[Mem633[Mem633[fp - 0x24 + 0x00:word32] + 0x00:word32] + eax_647:byte] = 0x0A;
				Mem653[Mem650[fp - 0x24 + 0x00:word32] + 0x04:word32] = eax_647 + 0x01;
				Mem659[Mem653[Mem653[fp - 0x24 + 0x00:word32] + 0x00:word32] + Mem653[Mem653[(fp - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			if (Mem157[Mem157[fp - 0x20 + 0x00:word32] + 0x1C:word32] == 0x00)
			{
				word32 eax_531 = Mem157[fp - 0x20 + 0x00:word32];
				word32 eax_533 = Mem157[eax_531 + 0x10:word32];
				word32 ecx_529 = Mem157[fp - 0x38 + 0x00:word32];
				word32 edx_532 = Mem157[eax_531 + 0x14:word32];
				word16 ax_536 = (word16) eax_533;
				if (0x00 > edx_532 || 0x00 >= edx_532 && ecx_529 >=u eax_533)
					goto l08059FC1;
				Mem546[fp - 0xA4 + 0x00:word32] = Mem157[fp - 0x38 + 0x00:word32];
				Mem547[fp - 0xA0 + 0x00:word32] = 0x00;
				word32 eax_551 = Mem547[fp - 0x20 + 0x00:word32];
				real64 rLoc1_550 = (real64) Mem547[fp - 0xA4 + 0x00:int64] * Mem547[0x080C8E68:real64];
				word32 edx_552 = Mem547[eax_551 + 0x14:word32];
				Mem554[fp - 0xA4 + 0x00:word32] = Mem547[eax_551 + 0x10:word32];
				Mem555[fp - 0xA0 + 0x00:word32] = edx_552;
				real64 rLoc1_557 = rLoc1_550 / (real64) Mem555[(fp - 0xA4) + 0x00:int64];
				Mem558[fp - 166 + 0x00:word16] = __fstcw();
				Mem562[fp - 0xA8 + 0x00:word16] = DPB(ax_536, 0x0C, 8);
				__fldcw(Mem562[fp - 0xA8 + 0x00:word16]);
				Mem563[fp - 0xAC + 0x00:int32] = (int32) rLoc1_557;
				__fldcw(Mem563[fp - 166 + 0x00:word16]);
				word32 eax_565 = Mem563[fp - 0x20 + 0x00:word32];
				word32 esi_564 = Mem563[fp - 0xAC + 0x00:word32];
				word32 edx_566 = Mem563[eax_565 + 0x14:word32];
				Mem568[fp - 220 + 0x00:word32] = Mem563[eax_565 + 0x10:word32];
				Mem569[fp - 0xD8 + 0x00:word32] = edx_566;
				word32 eax_570 = convert_size3(fp - 0x04, dwArg00, dwArg04);
				Mem574[fp - 220 + 0x00:word32] = Mem569[fp - 0x38 + 0x00:word32];
				Mem575[fp - 0xD8 + 0x00:word32] = 0x00;
				word32 eax_576 = convert_size3(fp - 0x04, dwArg00, dwArg04);
				Mem577[fp - 0xD0 + 0x00:word32] = esi_564;
				Mem578[fp - 212 + 0x00:word32] = eax_570;
				Mem579[fp - 0xD8 + 0x00:word32] = eax_576;
				Mem580[fp - 220 + 0x00:word32] = 0x080C8B5F;
				byte bpl_581;
				Mem583[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_581);
				Mem585[fp - 220 + 0x00:word32] = Mem583[fp - 0x24 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			else
			{
l08059FC1:
				Mem519[fp - 220 + 0x00:word32] = Mem157[fp - 0x38 + 0x00:word32];
				Mem520[fp - 0xD8 + 0x00:word32] = 0x00;
				Mem522[fp - 0xD8 + 0x00:word32] = convert_size3(fp - 0x04, dwArg00, dwArg04);
				Mem523[fp - 220 + 0x00:word32] = 0x080C8B76;
				byte bpl_524;
				Mem526[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_524);
				Mem528[fp - 220 + 0x00:word32] = Mem526[fp - 0x24 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			if (Mem157[fp - 44 + 0x00:word32] > 0x00)
			{
				Mem308[fp - 0xB0 + 0x00:word32] = Mem157[fp - 44 + 0x00:word32];
				Mem315[fp - 0x30 + 0x00:word32] = (uint32) ((uint64) (uint32) Mem308[fp - 0x38 + 0x00:word32] /u Mem308[(fp - 0xB0) + 0x00:word32]);
				word32 eax_316 = Mem315[fp - 0x30 + 0x00:word32];
				Mem320[fp - 212 + 0x00:word32] = 0x01;
				Mem321[fp - 220 + 0x00:word32] = eax_316;
				Mem322[fp - 0xD8 + 0x00:word32] = eax_316 >> 0x1F;
				word32 eax_324 = convert_size(dwArg00, dwArg04, dwArg08, rArg0);
				word32 ecx_326 = Mem322[fp - 44 + 0x00:word32];
				word32 ecx_344 = Mem322[fp - 44 + 0x00:word32];
				word32 ecx_354 = (ecx_344 + 0x88888889 >> 0x05) - (ecx_344 >> 0x1F);
				word32 ecx_372 = Mem322[fp - 44 + 0x00:word32];
				Mem385[fp - 0xCC + 0x00:word32] = eax_324;
				word32 esi_336 = (ecx_326 + 0x88888889 >> 0x05) - (ecx_326 >> 0x1F);
				Mem386[fp - 0xD0 + 0x00:word32] = ecx_326 - ((esi_336 << 0x06) - (esi_336 << 0x02));
				word32 ebx_364 = (ecx_354 + 0x88888889 >> 0x05) - (ecx_354 >> 0x1F);
				Mem387[fp - 212 + 0x00:word32] = ecx_354 - ((ebx_364 << 0x06) - (ebx_364 << 0x02));
				Mem388[fp - 0xD8 + 0x00:word32] = (ecx_372 + 2443359173 >> 11) - (ecx_372 >> 0x1F);
				Mem389[fp - 220 + 0x00:word32] = 0x080C8B88;
				byte bpl_390;
				Mem392[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_390);
				Mem394[fp - 220 + 0x00:word32] = Mem392[fp - 0x24 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
				if (Mem394[Mem394[fp - 0x20 + 0x00:word32] + 0x1C:word32] == 0x00)
				{
					word32 eax_402 = Mem394[fp - 0x20 + 0x00:word32];
					word32 ecx_400 = Mem394[fp - 0x38 + 0x00:word32];
					word32 edx_403 = Mem394[eax_402 + 0x14:word32];
					word32 eax_404 = Mem394[eax_402 + 0x10:word32];
					if (0x00 <= edx_403 && (0x00 < edx_403 || ecx_400 <u eax_404) && Mem394[(fp - 0x30) + 0x00:word32] != 0x00)
					{
						word32 eax_416 = Mem394[fp - 0x20 + 0x00:word32];
						word32 eax_421 = Mem394[eax_416 + 0x10:word32] - Mem394[(fp - 0x38) + 0x00:word32];
						word32 edx_424 = Mem394[eax_416 + 0x14:word32] - (eax_421 <u 0x00);
						word32 ecx_425 = Mem394[fp - 0x30 + 0x00:word32];
						Mem429[fp - 212 + 0x00:word32] = ecx_425;
						Mem430[fp - 0xD0 + 0x00:word32] = ecx_425 >> 0x1F;
						Mem431[fp - 220 + 0x00:word32] = eax_421;
						Mem432[fp - 0xD8 + 0x00:word32] = edx_424;
						word32 edx_434;
						Mem436[fp - 0x34 + 0x00:word32] = __divdi3(dwArg00, dwArg04, dwArg08, dwArg0C, out edx_434);
						word32 ecx_437 = Mem436[fp - 0x34 + 0x00:word32];
						word32 ecx_455 = Mem436[fp - 0x34 + 0x00:word32];
						word32 ecx_465 = (ecx_455 + 0x88888889 >> 0x05) - (ecx_455 >> 0x1F);
						word32 esi_447 = (ecx_437 + 0x88888889 >> 0x05) - (ecx_437 >> 0x1F);
						word32 ecx_483 = Mem436[fp - 0x34 + 0x00:word32];
						Mem496[fp - 0xD0 + 0x00:word32] = ecx_437 - ((esi_447 << 0x06) - (esi_447 << 0x02));
						word32 ebx_475 = (ecx_465 + 0x88888889 >> 0x05) - (ecx_465 >> 0x1F);
						Mem497[fp - 212 + 0x00:word32] = ecx_465 - ((ebx_475 << 0x06) - (ebx_475 << 0x02));
						Mem498[fp - 0xD8 + 0x00:word32] = (ecx_483 + 2443359173 >> 11) - (ecx_483 >> 0x1F);
						Mem499[fp - 220 + 0x00:word32] = 135039910;
						byte bpl_500;
						Mem502[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_500);
						Mem504[fp - 220 + 0x00:word32] = Mem502[fp - 0x24 + 0x00:word32];
						Strcat(dwArg00, dwArg04);
					}
				}
			}
			if (Mem157[Mem157[fp - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem157[Mem157[(fp - 0x24) + 0x00:word32] + 0x08:word32])
			{
				Mem306[fp - 220 + 0x00:word32] = Mem157[fp - 0x24 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_225 = Mem157[Mem157[fp - 0x24 + 0x00:word32] + 0x04:word32];
			Mem228[Mem157[Mem157[fp - 0x24 + 0x00:word32] + 0x00:word32] + eax_225:byte] = 0x0A;
			Mem231[Mem228[fp - 0x24 + 0x00:word32] + 0x04:word32] = eax_225 + 0x01;
			Mem237[Mem231[Mem231[fp - 0x24 + 0x00:word32] + 0x00:word32] + Mem231[Mem231[(fp - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem237[Mem237[fp - 0x20 + 0x00:word32] + 0x1C:word32] != 0x00)
			{
				Mem263[fp - 0xD8 + 0x00:word32] = Mem237[Mem237[fp - 0x20 + 0x00:word32] + 0x00:word32];
				Mem264[fp - 220 + 0x00:word32] = 0x080C8BBC;
				byte bpl_265;
				Mem267[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_265);
				Mem269[fp - 220 + 0x00:word32] = Mem267[fp - 0x24 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
				word32 eax_272 = Mem269[fp - 0x20 + 0x00:word32];
				word32 ecx_270 = Mem269[fp - 0x38 + 0x00:word32];
				word32 edx_273 = Mem269[eax_272 + 0x14:word32];
				word32 eax_274 = Mem269[eax_272 + 0x10:word32];
				if (0x00 <= edx_273 && (0x00 < edx_273 || ecx_270 <u eax_274))
				{
					Mem291[fp - 0xD8 + 0x00:word32] = 0x080C8BE3;
					Mem293[fp - 220 + 0x00:word32] = Mem291[fp - 0x24 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				else
				{
					Mem284[fp - 0xD8 + 0x00:word32] = 135039993;
					Mem286[fp - 220 + 0x00:word32] = Mem284[fp - 0x24 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
			else
			{
				Mem298[fp - 0xD8 + 0x00:word32] = Mem237[Mem237[fp - 0x20 + 0x00:word32] + 0x00:word32];
				Mem299[fp - 220 + 0x00:word32] = 0x080C8C10;
				byte bpl_300;
				Mem302[fp - 0xD8 + 0x00:word32] = Sprintf(dwArg00, out bpl_300);
				Mem304[fp - 220 + 0x00:word32] = Mem302[fp - 0x24 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			Mem255[fp - 0xD8 + 0x00:word32] = 0x080C8C3B;
			Mem257[fp - 220 + 0x00:word32] = Mem255[fp - 0x24 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem260[fp - 0x20 + 0x00:word32] = Mem257[Mem257[fp - 0x20 + 0x00:word32] + 0x24:word32];
		}
		Mem93[fp - 0xD8 + 0x00:word32] = 0x080C8C48;
		Mem95[fp - 220 + 0x00:word32] = Mem93[fp - 0x24 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem99[fp - 220 + 0x00:word32] = Mem95[fp - 0x24 + 0x00:word32];
		eax_101 = loadHTMLString(fp - 0x04, gs, dwArg00);
	}
	return eax_101;
}

// 0805A352: void download_action(Register selector gs, Stack word32 dwArg04)
void download_action(selector gs, word32 dwArg04)
{
	word32 ebp_130 = fp - 0x04;
	while (dwArg04 != 0x00)
	{
		word32 dwLoc14_125;
		if (strncmp(Mem0[dwArg04 + 0x00:word32], 0x080C8C5E, 0x04) == 0x00)
		{
			dwLoc14_125 = atoi(Mem0[dwArg04 + 0x00:word32] + 0x04);
			word32 esp_129;
			byte SCZO_131;
			byte Z_132;
			word32 eax_133;
			byte SZO_134;
			byte C_135;
			word32 edx_136;
			!kill();
			goto l0805A3DE;
		}
		if (strncmp(Mem0[dwArg04 + 0x00:word32], 0x080C8C63, 0x02) == 0x00)
		{
			dwLoc14_125 = atoi(Mem0[dwArg04 + 0x00:word32] + 0x02);
l0805A3DE:
			word32 dwLoc10_118 = Mem0[135774868:word32];
			while (dwLoc10_118 != 0x00)
			{
				if (Mem0[dwLoc10_118 + 0x00:word32] == dwLoc14_125)
				{
					unlink(Mem0[dwLoc10_118 + 0x0C:word32]);
					if (Mem0[dwLoc10_118 + 0x24:word32] != 0x00)
						Mem112[Mem0[dwLoc10_118 + 0x24:word32] + 0x20:word32] = Mem0[dwLoc10_118 + 0x20:word32];
					else
						Mem115[135774868:word32] = Mem0[dwLoc10_118 + 0x20:word32];
					if (Mem0[dwLoc10_118 + 0x20:word32] != 0x00)
						Mem104[Mem0[dwLoc10_118 + 0x20:word32] + 0x24:word32] = Mem0[dwLoc10_118 + 0x24:word32];
					else
						Mem107[135774872:word32] = Mem0[dwLoc10_118 + 0x24:word32];
					break;
				}
				dwLoc10_118 = Mem0[dwLoc10_118 + 0x20:word32];
			}
		}
		dwArg04 = Mem0[dwArg04 + 0x08:word32];
	}
	ldDL(ebp_130, gs);
}

// 0805A47A: void stopDownload()
void stopDownload()
{
	if (Mem0[135774868:word32] != 0x00)
	{
		word32 dwLoc10_24 = Mem0[135774868:word32];
		while (dwLoc10_24 != 0x00)
		{
			if (Mem0[dwLoc10_24 + 0x1C:word32] == 0x00)
			{
				word32 esp_57;
				word32 ebp_58;
				byte SCZO_59;
				word32 eax_60;
				byte SZO_61;
				byte C_62;
				byte Z_63;
				!kill();
				unlink(Mem0[dwLoc10_24 + 0x0C:word32]);
			}
			dwLoc10_24 = Mem0[dwLoc10_24 + 0x20:word32];
		}
	}
}

// 0805A4D7: void ldDL(Register word32 ebp, Register selector gs)
void ldDL(word32 ebp, selector gs)
{
	word32 dwLoc14_10 = 0x00;
	if (((int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x40:word16] & 0x08) != 0x00 && strcmp(Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x04:word32], 0x080C82BD) == 0x00)
		dwLoc14_10 = 0x01;
	if (Mem0[135774868:word32] == 0x00)
	{
		if (dwLoc14_10 != 0x00)
		{
			if (Mem0[Mem0[0x08180718:word32] + 0x08:word32] == Mem0[Mem0[0x08180718:word32] + 0x0C:word32] && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x18:word32] == 0x00)
			{
				if (Mem0[0x08180720:word32] > 0x01)
					deleteTab(fp - 0x04, gs, Mem0[0x08180718:word32]);
			}
			else
				delBuffer(gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32]);
			word32 eax_61 = Mem0[Mem0[0x08180718:word32] + 0x08:word32];
			Mem62[fp - 0x38 + 0x00:word32] = 0x01;
			Mem63[fp - 0x3C + 0x00:word32] = eax_61;
			real64 rArg0_68;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_68);
		}
	}
	else
	{
		checkDownloadList();
		Mem93[fp - 0x10 + 0x00:word32] = DownloadListBuffer(fp - 0x04, gs);
		if (Mem93[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_97 = Mem93[Mem93[0x08180718:word32] + 0x08:word32];
			Mem98[fp - 0x38 + 0x00:word32] = 0x00;
			Mem99[fp - 0x3C + 0x00:word32] = eax_97;
			real64 rArg0_100;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_100);
		}
		else
		{
			Mem108[Mem93[fp - 0x10 + 0x00:word32] + 0x40:word16] = (word16) ((word32) Mem93[Mem93[fp - 0x10 + 0x00:word32] + 0x40:word16] | 0x18);
			if (Mem108[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem162[Mem108[fp - 0x10 + 0x00:word32] + 0x54:word16] = (word16) (word32) Mem108[Mem108[Mem108[0x08180718:word32] + 0x08:word32] + 0x54:word16];
				Mem168[Mem162[fp - 0x10 + 0x00:word32] + 0x56:word16] = (word16) (word32) Mem162[Mem162[Mem162[0x08180718:word32] + 0x08:word32] + 0x56:word16];
				Mem174[Mem168[fp - 0x10 + 0x00:word32] + 88:word16] = (word16) (word32) Mem168[Mem168[Mem168[0x08180718:word32] + 0x08:word32] + 88:word16];
				Mem180[Mem174[fp - 0x10 + 0x00:word32] + 0x5A:word16] = (word16) (word32) Mem174[Mem174[Mem174[0x08180718:word32] + 0x08:word32] + 0x5A:word16];
				Mem183[fp - 0x38 + 0x00:word32] = Mem180[Mem180[0x08180718:word32] + 0x08:word32];
				Mem185[fp - 0x3C + 0x00:word32] = Mem183[fp - 0x10 + 0x00:word32];
				restorePosition(fp - 0x04, gs, dwArg00, dwArg04);
			}
			if (Mem108[fp - 0x14 + 0x00:word32] == 0x00)
			{
				word32 eax_151 = Mem108[0x0817C28C:word32];
				if (eax_151 != 0x00)
				{
					_newT(eax_151);
					Mem156[fp - 0x18 + 0x00:word32] = 0x01;
				}
			}
			Mem120[fp - 0x3C + 0x00:word32] = Mem108[fp - 0x10 + 0x00:word32];
			pushBuffer(fp - 0x04, gs);
			if (Mem120[fp - 0x14 + 0x00:word32] != 0x00 || Mem120[(fp - 0x18) + 0x00:word32] != 0x00)
				deletePrevBuf(gs);
			if (Mem120[fp - 0x1C + 0x00:word32] != 0x00)
			{
				word32 ebx_133 = Mem120[Mem120[0x08180718:word32] + 0x08:word32];
				word32 eax_136 = Mem120[Mem120[Mem120[0x08180718:word32] + 0x08:word32] + 0x0100:word32];
				Mem137[fp - 44 + 0x00:word32] = 0x00;
				Mem138[fp - 0x30 + 0x00:word32] = 0x70;
				Mem139[fp - 0x34 + 0x00:word32] = 0x02;
				Mem140[fp - 0x38 + 0x00:word32] = 0x01;
				Mem141[fp - 0x3C + 0x00:word32] = eax_136;
				Mem146[ebx_133 + 0x0100:word32] = setAlarmEvent(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
			}
			word32 eax_127 = Mem120[Mem120[0x08180718:word32] + 0x08:word32];
			Mem128[fp - 0x38 + 0x00:word32] = 0x01;
			Mem129[fp - 0x3C + 0x00:word32] = eax_127;
			real64 rArg0_130;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_130);
		}
	}
}

// 0805A6F6: void save_buffer_position(Stack word32 dwArg04)
void save_buffer_position(word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 252:word32];
	word32 eax_13 = Mem0[dwArg04 + 0x08:word32];
	if (eax_13 == 0x00)
		;
	else
	{
		if (eax_10 != 0x00)
		{
			word32 eax_110;
			word32 edx_104 = Mem0[eax_10 + 0x00:word32];
			if (Mem0[dwArg04 + 0x0C:word32] != 0x00)
				eax_110 = Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x1C:word32];
			else
				eax_110 = 0x01;
			if (edx_104 == eax_110)
			{
				word32 eax_120;
				word32 edx_114 = Mem0[eax_10 + 0x04:word32];
				if (Mem0[dwArg04 + 0x10:word32] != 0x00)
					eax_120 = Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32];
				else
					eax_120 = 0x01;
				if (edx_114 == eax_120 && (Mem0[eax_10 + 0x08:word32] == Mem0[dwArg04 + 0x44:word32] && Mem0[eax_10 + 0x0C:word32] == Mem0[dwArg04 + 0x4C:word32]))
					return;
			}
		}
		word32 eax_101;
		word32 esp_32;
		word32 ebp_33;
		byte SCZO_34;
		word32 eax_35;
		byte SZO_36;
		byte C_37;
		byte Z_38;
		word32 edx_39;
		!GC_malloc();
		if (Mem0[dwArg04 + 0x0C:word32] != 0x00)
			eax_101 = Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x1C:word32];
		else
			eax_101 = 0x01;
		word32 eax_54;
		Mem48[eax_35 + 0x00:word32] = eax_101;
		if (Mem48[dwArg04 + 0x10:word32] != 0x00)
			eax_54 = Mem48[Mem48[dwArg04 + 0x10:word32] + 0x1C:word32];
		else
			eax_54 = 0x01;
		word32 eax_70;
		Mem56[eax_35 + 0x04:word32] = eax_54;
		Mem60[eax_35 + 0x08:word32] = Mem56[dwArg04 + 0x44:word32];
		Mem64[eax_35 + 0x0C:word32] = Mem60[dwArg04 + 0x4C:word32];
		if (Mem64[dwArg04 + 0x10:word32] != 0x00)
			eax_70 = Mem64[Mem64[dwArg04 + 0x10:word32] + 44:word32];
		else
			eax_70 = 0x00;
		Mem72[eax_35 + 0x10:word32] = eax_70;
		Mem74[eax_35 + 0x14:word32] = 0x00;
		Mem78[eax_35 + 0x18:word32] = Mem74[dwArg04 + 252:word32];
		if (Mem78[dwArg04 + 252:word32] != 0x00)
			Mem90[Mem78[dwArg04 + 252:word32] + 0x14:word32] = eax_35;
		Mem86[dwArg04 + 252:word32] = eax_35;
	}
}

// 0805A856: void resetPos(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void resetPos(word32 ebp, selector gs, word32 dwArg04)
{
	restorePosition(fp - 0x04, gs, Mem0[Mem0[0x08180718:word32] + 0x08:word32], fp - 0x0178);
	Mem38[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 252:word32] = Mem0[fp + 0x04:word32];
	word32 eax_40 = Mem38[Mem38[0x08180718:word32] + 0x08:word32];
	Mem41[fp - 0x0188 + 0x00:word32] = 0x01;
	Mem42[fp - 0x018C + 0x00:word32] = eax_40;
	real64 rArg0_45;
	displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_45);
}

// 0805A8E8: void undoPos(Register selector gs)
void undoPos(selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 252:word32];
	word32 dwLoc10_11 = eax_10;
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_10 != 0x00 && Mem0[eax_10 + 0x18:word32] != 0x00))
	{
		word32 dwLoc14_36 = 0x00;
		while (true)
		{
			word32 eax_44;
			if (Mem0[135775132:word32] != 0x00)
				eax_44 = Mem0[135775132:word32];
			else
				eax_44 = 0x01;
			if (eax_44 <= dwLoc14_36 || Mem0[dwLoc10_11 + 0x18:word32] == 0x00)
				break;
			dwLoc14_36 = dwLoc14_36 + 0x01;
			dwLoc10_11 = Mem0[dwLoc10_11 + 0x18:word32];
		}
		resetPos(fp - 0x04, gs, dwLoc10_11);
	}
}

// 0805A96E: void redoPos(Register selector gs)
void redoPos(selector gs)
{
	word32 eax_10 = Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 252:word32];
	word32 dwLoc10_11 = eax_10;
	if (Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x08:word32] != 0x00 && (eax_10 != 0x00 && Mem0[eax_10 + 0x14:word32] != 0x00))
	{
		word32 dwLoc14_36 = 0x00;
		while (true)
		{
			word32 eax_44;
			if (Mem0[135775132:word32] != 0x00)
				eax_44 = Mem0[135775132:word32];
			else
				eax_44 = 0x01;
			if (eax_44 <= dwLoc14_36 || Mem0[dwLoc10_11 + 0x14:word32] == 0x00)
				break;
			dwLoc14_36 = dwLoc14_36 + 0x01;
			dwLoc10_11 = Mem0[dwLoc10_11 + 0x14:word32];
		}
		resetPos(fp - 0x04, gs, dwLoc10_11);
	}
}

// 0805A9F4: void KeyAbort()
void KeyAbort()
{
	word32 esp_10;
	word32 ebp_11;
	byte SCZO_12;
	!siglongjmp();
	UFhalfclose(135775744);
}

// 0805AA0E: void UFhalfclose(Stack word32 dwArg04)
void UFhalfclose(word32 dwArg04)
{
	word32 eax_12 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if (eax_12 != 0x07 && eax_12 != 0x09)
	{
		if (eax_12 == 0x02)
			closeFTP();
		else if (ISclose(Mem0[dwArg04 + 0x04:word32]) == 0x00)
			Mem42[dwArg04 + 0x04:word32] = 0x00;
	}
	else
		closeNews();
}

// 0805AA60: Register word32 currentLn(Stack word32 dwArg04)
word32 currentLn(word32 dwArg04)
{
	word32 eax_13;
	if (Mem0[dwArg04 + 0x10:word32] != 0x00)
		eax_13 = Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32] + 0x01;
	else
		eax_13 = 0x01;
	return eax_13;
}

// 0805AA82: Register word32 loadSomething(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 loadSomething(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_43;
	word32 esp_22;
	word32 ebp_23;
	word32 esi_24;
	word32 ebx_25;
	byte SCZO_26;
	word32 eax_27;
	byte Z_28;
	word32 edx_29;
	byte SZO_30;
	byte C_31;
	byte al_32;
	dwArg0C();
	if (eax_27 == 0x00)
		eax_43 = 0x00;
	else
	{
		Mem60[eax_27 + 0x00:word32] = dwArg08;
		if (Mem60[eax_27 + 0x04:word32] == 0x00 || (byte) ((word32) Mem60[Mem60[eax_27 + 0x04:word32] + 0x00:byte]) == 0x00)
		{
			word32 edx_114;
			Mem117[eax_27 + 0x04:word32] = checkHeader(eax_27, 0x080C9005, out edx_114);
			if (Mem117[eax_27 + 0x04:word32] == 0x00)
			{
				word32 esi_123 = Mem117[135091052:word32];
				word32 ebx_124 = Mem117[0x080D5378:word32];
				word32 eax_127 = lastFileName(dwArg08);
				Strnew_charp(eax_127, eax_127);
				word32 ebx_132;
				Mem136[Mem117[ebp_23 - 0x0C + 0x00:word32] + 0x04:word32] = Mem117[wc_Str_conv(eax_127, ebx_124, esi_123, out ebx_132) + 0x00:word32];
			}
		}
		if (Mem60[Mem60[ebp_23 - 0x0C + 0x00:word32] + 0x84:word32] == 0xFF)
			Mem109[Mem60[ebp_23 - 0x0C + 0x00:word32] + 0x84:word32] = (word32) (byte) (word32) Mem60[Mem60[ebp_23 + 0x08:word32] + 0x00:byte];
		Mem84[Mem60[ebp_23 - 0x0C + 0x00:word32] + 0xB4:word32] = (word32) (byte) (word32) Mem60[Mem60[ebp_23 + 0x08:word32] + 0x00:byte];
		if ((byte) (word32) Mem84[Mem84[ebp_23 + 0x08:word32] + 0x00:byte] == 0x04 && Mem84[Mem84[(ebp_23 - 0x0C) + 0x00:word32] + 0xB8:word32] == 0x00)
			Mem103[Mem84[ebp_23 - 0x0C + 0x00:word32] + 0xB8:word32] = Mem84[ebp_23 + 0x0C:word32];
		eax_43 = Mem84[ebp_23 - 0x0C + 0x00:word32];
	}
	return eax_43;
}

// 0805AB89: void dir_exist(Stack word32 dwArg04)
void dir_exist(word32 dwArg04)
{
	if (dwArg04 == 0x00 || (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) == 0x00)
		;
}

// 0805ABD9: Register word32 is_dump_text_type(Stack word32 dwArg04)
word32 is_dump_text_type(word32 dwArg04)
{
	word32 eax_20;
	if (dwArg04 != 0x00)
	{
		byte bpl_34;
		Mem36[fp - 0x10 + 0x00:word32] = searchExtViewer(fp - 0x04, out bpl_34);
		if (Mem36[fp - 0x10 + 0x00:word32] != 0x00 && (Mem36[Mem36[(fp - 0x10) + 0x00:word32] + 0x08:word32] & 0x06) != 0x00)
		{
			eax_20 = 0x01;
			return eax_20;
		}
	}
	eax_20 = 0x00;
	return eax_20;
}

// 0805AC14: Register word32 is_text_type(Stack word32 dwArg04)
word32 is_text_type(word32 dwArg04)
{
	word32 eax_21;
	if (dwArg04 != 0x00 && ((byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00 && (strncasecmp(dwArg04, 0x080C900E, 0x05) != 0x00 && strncasecmp(dwArg04, 135041044, 0x08) != 0x00)))
		eax_21 = 0x00;
	else
		eax_21 = 0x01;
	return eax_21;
}

// 0805AC76: Register word32 is_plain_text_type(Stack word32 dwArg04)
word32 is_plain_text_type(word32 dwArg04)
{
	word32 eax_16;
	if (dwArg04 != 0x00 && strcasecmp(dwArg04, 135041053) == 0x00 || is_text_type(dwArg04) != 0x00 && is_dump_text_type(dwArg04) == 0x00)
		eax_16 = 0x01;
	else
		eax_16 = 0x00;
	return eax_16;
}

// 0805ACC5: Register word32 is_html_type(Stack word32 dwArg04)
word32 is_html_type(word32 dwArg04)
{
	word32 eax_19;
	if (dwArg04 != 0x00 && (strcasecmp(dwArg04, 0x080C9028) == 0x00 || strcasecmp(dwArg04, 0x080C9032) == 0x00))
		eax_19 = 0x01;
	else
		eax_19 = 0x00;
	return eax_19;
}

// 0805AD0D: void check_compression(Stack word32 dwArg04, Stack word32 dwArg08)
void check_compression(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_32 = strlen(dwArg04);
		Mem36[dwArg08 + 0x0C:word32] = 0x00;
		word32 dwLoc14_37 = 0x080D5480;
		while (Mem36[dwLoc14_37 + 0x00:word32] != 0x00)
		{
			if (Mem36[dwLoc14_37 + 0x04:word32] != 0x00)
			{
				word32 eax_76 = strlen(Mem36[dwLoc14_37 + 0x04:word32]);
				if (eax_32 > eax_76 && strcasecmp((eax_32 - eax_76) + dwArg04, Mem36[dwLoc14_37 + 0x04:word32]) == 0x00)
				{
					Mem98[dwArg08 + 0x0C:word32] = Mem36[dwLoc14_37 + 0x00:word32];
					Mem102[dwArg08 + 0x14:word32] = Mem98[dwLoc14_37 + 0x08:word32];
					return;
				}
			}
			dwLoc14_37 = dwLoc14_37 + 44;
		}
	}
}

// 0805ADB7: Register word32 compress_application_type(Stack word32 dwArg04)
word32 compress_application_type(word32 dwArg04)
{
	word32 dwLoc08_32 = 0x080D5488;
	while (true)
	{
		word32 eax_19;
		if (Mem0[dwLoc08_32 + 0x00:word32] == 0x00)
			break;
		if (Mem0[dwLoc08_32 + 0x00:word32] == dwArg04)
		{
			eax_19 = Mem0[dwLoc08_32 + 0x00:word32];
			return eax_19;
		}
		dwLoc08_32 = dwLoc08_32 + 44;
	}
	eax_19 = 0x00;
	return eax_19;
}

// 0805ADEC: Register word32 uncompressed_file_type(Stack word32 dwArg04, Stack word32 dwArg08)
word32 uncompressed_file_type(word32 dwArg04, word32 dwArg08)
{
	word32 eax_25;
	if (dwArg04 == 0x00)
		eax_25 = 0x00;
	else
	{
		word32 dwLoc14_111 = 0x00;
		word32 eax_47 = strlen(dwArg04);
		word32 dwLoc20_122 = 0x080D5480;
		while (Mem0[dwLoc20_122 + 0x00:word32] != 0x00)
		{
			if (Mem0[dwLoc20_122 + 0x04:word32] != 0x00)
			{
				word32 eax_127 = strlen(Mem0[dwLoc20_122 + 0x04:word32]);
				dwLoc14_111 = eax_127;
				if (eax_47 > eax_127 && strcasecmp((eax_47 - eax_127) + dwArg04, Mem0[dwLoc20_122 + 0x04:word32]) == 0x00)
					break;
			}
			dwLoc20_122 = dwLoc20_122 + 44;
		}
		if (Mem0[dwLoc20_122 + 0x00:word32] == 0x00)
			eax_25 = 0x00;
		else
		{
			Strnew_charp(dwArg04, dwArg04);
			Strshrink(dwArg04, dwLoc14_111);
			if (dwArg08 != 0x00)
				Mem105[dwArg08 + 0x00:word32] = filename_extension(Mem0[dwArg04 + 0x00:word32], 0x00);
			word32 eax_92 = guessContentType(Mem0[dwArg04 + 0x00:word32]);
			word32 dwLoc1C_93 = eax_92;
			if (eax_92 == 0x00)
				dwLoc1C_93 = 135041053;
			eax_25 = dwLoc1C_93;
		}
	}
	return eax_25;
}

// 0805AEF2: void setModtime(Stack word32 dwArg04, Stack word32 dwArg08)
void setModtime(word32 dwArg04, word32 dwArg08)
{
	if (stat(dwArg04, fp - 0x6C) != 0x00)
		time(0x00);
	utime(dwArg04, fp - 0x14);
}

// 0805AF3F: void examineFile(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void examineFile(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	Mem10[dwArg08 + 0x14:word32] = 0x00;
	if (dwArg04 == 0x00 || ((byte) ((word32) Mem10[dwArg04 + 0x00:byte]) == 0x00 || (stat(dwArg04, fp - 0x70) == ~0x00 || (dwLoc60 & 0xF000) != 0x8000)))
	{
		Mem43[dwArg08 + 0x04:word32] = 0x00;
		return;
	}
	word32 eax_65 = open(dwArg04, 0x00);
	Mem69[dwArg08 + 0x04:word32] = newInputStream(eax_65, eax_65);
	if (Mem69[135774964:word32] == 0x00)
	{
		if (Mem69[135775116:word32] == 0x00 || getenv(0x080C9048) == 0x00)
		{
l0805B07F:
			Mem82[fp - 0x88 + 0x00:word32] = Mem69[fp + 0x08:word32];
			Mem84[fp - 0x8C + 0x00:word32] = Mem82[fp + 0x04:word32];
			check_compression(dwArg00, dwArg04);
			if (Mem84[Mem84[fp + 0x08:word32] + 0x0C:word32] != 0x00)
			{
				Mem93[fp - 0x14 + 0x00:word32] = Mem84[Mem84[fp + 0x08:word32] + 0x08:word32];
				Mem95[fp - 0x88 + 0x00:word32] = fp - 0x14;
				Mem97[fp - 0x8C + 0x00:word32] = Mem95[fp + 0x04:word32];
				Mem99[fp - 0x18 + 0x00:word32] = uncompressed_file_type(dwArg00, dwArg04);
				Mem102[Mem99[fp + 0x08:word32] + 0x14:word32] = Mem99[fp - 0x18 + 0x00:word32];
				Mem105[Mem102[fp + 0x08:word32] + 0x08:word32] = Mem102[fp - 0x14 + 0x00:word32];
				Mem106[fp - 0x88 + 0x00:word32] = 0x00;
				Mem108[fp - 0x8C + 0x00:word32] = Mem106[fp + 0x08:word32];
				uncompress_stream(fp - 0x04, dwArg00);
			}
			return;
		}
		Mem120[dwArg08 + 0x14:word32] = guessContentType(dwArg04);
		if (Mem120[dwArg08 + 0x14:word32] == 0x00)
			Mem164[dwArg08 + 0x14:word32] = 135041053;
		if (is_html_type(Mem120[dwArg08 + 0x14:word32]) == 0x00)
		{
			Mem136[fp - 0x10 + 0x00:word32] = lessopen_stream(dwArg04);
			if (Mem136[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem141[fp - 0x8C + 0x00:word32] = Mem136[Mem136[fp + 0x08:word32] + 0x04:word32];
				if (ISclose(dwArg00) == 0x00)
					Mem158[Mem141[fp + 0x08:word32] + 0x04:word32] = 0x00;
				Mem149[fp - 0x88 + 0x00:word32] = 134522348;
				word32 eax_150 = Mem149[fp - 0x10 + 0x00:word32];
				Mem151[fp - 0x8C + 0x00:word32] = eax_150;
				Mem154[Mem151[fp + 0x08:word32] + 0x04:word32] = newFileStream(eax_150, dwArg00, dwArg04);
				Mem156[Mem154[fp + 0x08:word32] + 0x14:word32] = 135041053;
				return;
			}
			goto l0805B07F;
		}
	}
}

// 0805B0E4: Register word32 check_command(Stack word32 dwArg04, Stack word32 dwArg08)
word32 check_command(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[135776672:word32] == 0x00)
		Mem145[135776672:word32] = getenv(135041105);
	word32 dwLoc10_139;
	if (dwArg08 != 0x00)
	{
		word32 eax_137 = w3m_auxbin_dir();
		Strnew_charp(eax_137, eax_137);
		dwLoc10_139 = eax_137;
	}
	else
	{
		word32 eax_140 = Mem0[135776672:word32];
		Strnew_charp(eax_140, eax_140);
		dwLoc10_139 = eax_140;
	}
	word32 dwLoc14_118 = Mem0[dwLoc10_139 + 0x00:word32];
	while (true)
	{
		word32 eax_129;
		if (dwLoc14_118 == 0x00)
			break;
		word32 eax_65 = strchr(dwLoc14_118, ':');
		word32 dwLoc18_135 = eax_65;
		if (eax_65 != 0x00)
		{
			Mem133[eax_65 + 0x00:byte] = 0x00;
			dwLoc18_135 = eax_65 + 0x01;
		}
		Strnew(eax_65);
		Strcat_charp(eax_65, dwLoc14_118);
		if (Mem0[eax_65 + 0x04:word32] + 0x01 >= Mem0[eax_65 + 0x08:word32])
			Strgrow(eax_65);
		word32 eax_86 = Mem0[eax_65 + 0x04:word32];
		Mem89[Mem0[eax_65 + 0x00:word32] + eax_86:byte] = 0x2F;
		Mem92[eax_65 + 0x04:word32] = eax_86 + 0x01;
		Mem98[Mem92[eax_65 + 0x00:word32] + Mem92[eax_65 + 0x04:word32]:byte] = 0x00;
		Strcat_charp(eax_65, dwArg04);
		if (stat(Mem98[eax_65 + 0x00:word32], fp - 116) == 0x00 && ((dwLoc64 & 0xF000) == 0x8000 && (dwLoc64 & 0x49) != 0x00))
		{
			eax_129 = 0x01;
			return eax_129;
		}
		dwLoc14_118 = dwLoc18_135;
	}
	eax_129 = 0x00;
	return eax_129;
}

// 0805B228: Register word32 acceptableEncoding()
word32 acceptableEncoding()
{
	word32 eax_22;
	word32 eax_8 = Mem0[135776668:word32];
	if (eax_8 != 0x00)
		eax_22 = Mem0[Mem0[135776668:word32] + 0x00:word32];
	else
	{
		newGeneralList(eax_8);
		word32 dwLoc10_36 = 0x080D5480;
		while (true)
		{
			word32 eax_43 = Mem0[dwLoc10_36 + 0x00:word32];
			if (eax_43 == 0x00)
				break;
			if (check_command(Mem0[dwLoc10_36 + 0x10:word32], Mem0[dwLoc10_36 + 0x0C:word32]) != 0x00)
				pushValue(eax_8, allocStr(Mem0[dwLoc10_36 + 0x18:word32], ~0x00));
			dwLoc10_36 = dwLoc10_36 + 44;
		}
		Strnew(eax_43);
		Mem47[135776668:word32] = eax_43;
		while (true)
		{
			word32 eax_54 = popValue(eax_8);
			if (eax_54 == 0x00)
				break;
			if (Mem47[Mem47[135776668:word32] + 0x04:word32] != 0x00)
				Strcat_charp(Mem47[135776668:word32], 135041110);
			Strcat_charp(Mem47[135776668:word32], eax_54);
		}
		eax_22 = Mem47[Mem47[135776668:word32] + 0x00:word32];
	}
	return eax_22;
}

// 0805B300: Register word32 convertLine(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg10, Stack word32 dwArg14)
word32 convertLine(word32 ebp, word32 dwArg08, word32 dwArg10, word32 dwArg14)
{
	Mem21[fp + 0x08:word32] = wc_Str_conv_with_detect(fp - 0x04, dwArg08, dwArg10, dwArg14);
	if (Mem21[fp + 0x0C:word32] != 0x00)
	{
		Mem43[fp - 0x18 + 0x00:word32] = Mem21[fp + 0x0C:word32];
		Mem45[fp - 0x1C + 0x00:word32] = Mem43[fp + 0x08:word32];
		cleanup_line(dwArg00, dwArg04);
	}
	if (Mem21[fp + 0x04:word32] != 0x00 && (byte) ((word32) Mem21[Mem21[fp + 0x04:word32] + 0x00:byte]) == 0x09)
	{
		Mem40[fp - 0x1C + 0x00:word32] = Mem21[fp + 0x08:word32];
		Strchop(dwArg00);
	}
	return Mem21[fp + 0x08:word32];
}

// 0805B363: void loadFile(Register word32 ebp, Stack word32 dwArg04)
void loadFile(word32 ebp, word32 dwArg04)
{
	init_stream(fp - 0x30, 0x04, 0x00);
	examineFile(fp - 0x04, dwArg04, fp - 0x30);
	if (Mem0[fp - 44 + 0x00:word32] != 0x00)
	{
		word32 eax_41;
		word32 edx_36 = Mem0[0x081807A0:word32];
		if (Mem0[0x0817C2D8:word32] != 0x00)
			eax_41 = 0x06;
		else
			eax_41 = 0x01;
		word32 ecx_43 = edx_36 - eax_41;
		word32 eax_44 = ecx_43;
		if (ecx_43 < 0x00)
			eax_44 = 0x00;
		Mem50[fp - 0x4C + 0x00:word32] = eax_44;
		Mem53[fp - 0x10 + 0x00:word32] = newBuffer(eax_44, dwArg00);
		Mem54[0x0817C8B0:word32] = 0x00;
		Mem55[135776436:word32] = 0x00;
		Mem56[135776404:word32] = 0x00;
		Mem58[fp - 0x40 + 0x00:word32] = Mem56[fp - 0x10 + 0x00:word32];
		Mem59[fp - 0x44 + 0x00:word32] = 0x0806F5A5;
		Mem61[fp - 0x48 + 0x00:word32] = Mem59[fp + 0x04:word32];
		Mem63[fp - 0x4C + 0x00:word32] = fp - 0x30;
		Mem67[fp - 0x10 + 0x00:word32] = loadSomething(dwArg00, dwArg04, dwArg08, dwArg0C);
		Mem69[fp - 0x4C + 0x00:word32] = Mem67[fp - 44 + 0x00:word32];
		if (ISclose(dwArg00) == 0x00)
			Mem77[fp - 44 + 0x00:word32] = 0x00;
	}
}

// 0805B43F: Register word32 matchattr(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 matchattr(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_261;
	word32 dwLoc14_10 = 0x00;
	if (strncasecmp(dwArg04, dwArg08, dwArg0C) == 0x00)
	{
		word32 dwArg04_291 = dwArg04 + dwArg0C + 0x01;
		while (true)
		{
			word32 eax_285 = (word32) Mem0[dwArg04_291 + 0x00:byte];
			if ((byte) eax_285 == 0x00)
				break;
			word32 eax_284 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04_291 + 0x00:byte] + 0x080DB700:byte];
			eax_285 = eax_284 & 0x02;
			if ((eax_284 & 0x02) == 0x00)
				break;
			dwArg04_291 = dwArg04_291 + 0x01;
		}
		if (dwArg10 != 0x00)
		{
			Strnew(eax_285);
			Mem78[dwArg10 + 0x00:word32] = eax_285;
			if ((byte) (word32) Mem78[dwArg04_291 + 0x00:byte] == 0x3D)
			{
				word32 dwArg04_101 = dwArg04_291 + 0x00;
				while ((byte) (word32) Mem78[dwArg04_101 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem78[(word32) ((byte) ((word32) Mem78[dwArg04_101 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					dwArg04_101 = dwArg04_101 + 0x01;
				word32 dwLoc10_116 = 0x00;
				while ((byte) (word32) Mem78[dwArg04_101 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem78[dwArg04_101 + 0x00:byte]) != 0x0D && ((byte) ((word32) Mem78[dwArg04_101 + 0x00:byte]) != 0x0A && (dwLoc10_116 != 0x00 || (byte) ((word32) Mem78[dwArg04_101 + 0x00:byte]) != 0x3B))))
				{
					if (((word32) (byte) (word32) Mem78[(word32) (byte) (word32) Mem78[dwArg04_101 + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00)
						dwLoc14_10 = dwArg04_101;
					if ((byte) (word32) Mem78[dwArg04_101 + 0x00:byte] == 0x22)
						dwLoc10_116 = (word32) (dwLoc10_116 == 0x00);
					else
					{
						if (Mem78[Mem78[dwArg10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem78[Mem78[dwArg10 + 0x00:word32] + 0x08:word32])
							Strgrow(Mem78[dwArg10 + 0x00:word32]);
						word32 eax_210 = Mem78[dwArg10 + 0x00:word32];
						word32 edx_211 = Mem78[eax_210 + 0x04:word32];
						Mem217[Mem78[Mem78[dwArg10 + 0x00:word32] + 0x00:word32] + edx_211:byte] = (byte) (word32) Mem78[dwArg04_101 + 0x00:byte];
						Mem220[eax_210 + 0x04:word32] = edx_211 + 0x01;
						Mem228[Mem220[Mem220[dwArg10 + 0x00:word32] + 0x00:word32] + Mem220[Mem220[dwArg10 + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
					dwArg04_101 = dwArg04_101 + 0x01;
				}
				if (dwLoc14_10 != 0x00)
					Strshrink(Mem78[dwArg10 + 0x00:word32], dwArg04_101 - dwLoc14_10 - 0x01);
			}
			eax_261 = 0x01;
			return eax_261;
		}
		if ((byte) (word32) Mem0[dwArg04_291 + 0x00:byte] == 0x00 || ((byte) ((word32) Mem0[dwArg04_291 + 0x00:byte]) == 0x0D || ((byte) ((word32) Mem0[dwArg04_291 + 0x00:byte]) == 0x0A || (byte) ((word32) Mem0[dwArg04_291 + 0x00:byte]) == 0x3B)))
		{
			eax_261 = 0x01;
			return eax_261;
		}
	}
	eax_261 = 0x00;
	return eax_261;
}

// 0805B62E: Register word32 xface2xpm(Register word32 ebp, Stack word32 dwArg04)
word32 xface2xpm(word32 ebp, word32 dwArg04)
{
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg04 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwArg04 = dwArg04 + 0x01;
	word32 eax_126;
	word32 ebx_32;
	byte bpl_33;
	Mem35[fp - 0x10 + 0x00:word32] = getImage(fp - 0x04, fp - 0x38, out ebx_32, out bpl_33);
	byte al_41 = (byte) ((int32) (byte) (word32) Mem35[Mem35[fp - 0x10 + 0x00:word32] + 0x14:byte] & 0x01);
	if (al_41 != 0x00)
	{
		word32 eax_140 = Mem35[Mem35[fp - 0x10 + 0x00:word32] + 0x08:word32];
		Mem142[fp - 0xA8 + 0x00:word32] = fp - 0x90;
		Mem143[fp - 0xAC + 0x00:word32] = eax_140;
		if (stat(dwArg00, dwArg04) == 0x00)
		{
			eax_126 = Mem143[Mem143[fp - 0x10 + 0x00:word32] + 0x08:word32];
			return eax_126;
		}
	}
	Mem60[Mem35[fp - 0x10 + 0x00:word32] + 0x14:byte] = 0x02;
	Mem63[fp - 0xAC + 0x00:word32] = Mem60[Mem60[fp - 0x10 + 0x00:word32] + 0x08:word32];
	word32 eax_65 = shell_quote(dwArg00);
	Mem67[fp - 0xAC + 0x00:word32] = 0x080C905E;
	Mem69[fp - 0xAC + 0x00:word32] = auxbinFile(dwArg00);
	word32 eax_70 = shell_quote(dwArg00);
	Mem71[fp - 0xA4 + 0x00:word32] = eax_65;
	Mem72[fp - 0xA8 + 0x00:word32] = eax_70;
	Mem73[fp - 0xAC + 0x00:word32] = 0x080C9068;
	byte bpl_74;
	word32 eax_76 = Mem73[Sprintf(dwArg00, out bpl_74) + 0x00:word32];
	Mem77[fp - 0xA8 + 0x00:word32] = 0x080C9070;
	Mem78[fp - 0xAC + 0x00:word32] = eax_76;
	word32 esp_80;
	word32 ebp_81;
	word32 ebx_82;
	byte SCZO_83;
	word32 eax_84;
	byte al_85;
	byte SZO_86;
	byte C_87;
	byte Z_88;
	word32 edx_89;
	byte bpl_90;
	!popen();
	Mem91[ebp_81 - 0x10 + 0x00:word32] = eax_84;
	if (Mem91[ebp_81 - 0x10 + 0x00:word32] == 0x00)
		eax_126 = 0x00;
	else
	{
		word32 eax_96 = Mem91[ebp_81 + 0x08:word32];
		word32 edx_97 = Mem91[ebp_81 - 0x10 + 0x00:word32];
		Mem98[esp_80 + 0x04:word32] = edx_97;
		Mem99[esp_80 + 0x00:word32] = eax_96;
		fputs(Mem99[esp_80 + 0x00:(ptr char)], Mem99[esp_80 + 0x04:(ptr FILE)]);
		word32 eax_101 = Mem99[ebp_81 - 0x10 + 0x00:word32];
		Mem102[esp_80 + 0x00:word32] = eax_101;
		word32 esp_103;
		word32 ebp_104;
		word32 ebx_105;
		byte SCZO_106;
		word32 eax_107;
		byte al_108;
		byte SZO_109;
		byte C_110;
		byte Z_111;
		word32 edx_112;
		byte bpl_113;
		!pclose();
		word32 eax_115 = Mem102[Mem102[ebp_104 - 0x0C + 0x00:word32] + 0x08:word32];
		Mem117[esp_103 + 0x04:word32] = ebp_104 - 0x8C;
		Mem118[esp_103 + 0x00:word32] = eax_115;
		if (stat(dwArg00, dwArg04) == 0x00 && Mem118[(ebp_104 - 0x60) + 0x00:word32] != 0x00)
		{
			Mem133[Mem118[ebp_104 - 0x0C + 0x00:word32] + 0x14:byte] = 0x05;
			Mem135[Mem133[ebp_104 - 0x0C + 0x00:word32] + 0x18:word32] = 0x00;
			eax_126 = Mem135[Mem135[ebp_104 - 0x0C + 0x00:word32] + 0x08:word32];
		}
		else
			eax_126 = 0x00;
	}
	return eax_126;
}

// 0805B7A0: void readHeader(Register word32 eax, Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void readHeader(word32 eax, word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	newGeneralList(eax);
	Mem19[dwArg08 + 0xD8:word32] = eax;
	if ((byte) (word32) Mem19[dwArg04 + 0x00:byte] == 0x00)
		Mem1739[0x0817C890:word32] = ~0x00;
	else
		Mem1740[0x0817C890:word32] = 0x00;
	if (dwArg0C != 0x00 && (Mem19[dwArg08 + 0xF0:word32] == 0x00 && Mem19[0x0817C2F8:word32] == 0x00))
	{
		byte bpl_1718;
		Mem1721[fp - 0x34 + 0x00:word32] = Mem19[tmpfname(fp - 0x04, 0x00, 0x00, out bpl_1718) + 0x00:word32];
		word32 eax_1723 = Mem1721[fp - 0x34 + 0x00:word32];
		Mem1724[fp - 232 + 0x00:word32] = 0x080C9070;
		Mem1725[fp - 0xEC + 0x00:word32] = eax_1723;
		Mem1727[fp - 0x38 + 0x00:word32] = fopen(Mem1725[fp - 0xEC + 0x00:(ptr char)], Mem1725[fp - 232 + 0x00:(ptr char)]);
		if (Mem1727[fp - 0x38 + 0x00:word32] != 0x00)
			Mem1732[Mem1727[fp + 0x08:word32] + 0xF0:word32] = Mem1727[fp - 0x34 + 0x00:word32];
	}
	while (true)
	{
		Mem46[fp - 0xEC + 0x00:word32] = Mem19[Mem19[fp + 0x04:word32] + 0x04:word32];
		Mem49[fp - 0x24 + 0x00:word32] = StrmyISgets(dwArg00);
		if (Mem49[Mem49[fp - 0x24 + 0x00:word32] + 0x04:word32] == 0x00)
			break;
		if ((byte) (word32) Mem49[Mem49[fp + 0x04:word32] + 0x00:byte] == 0x09 && (byte) ((word32) Mem49[Mem49[Mem49[(fp - 0x24) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x2E)
		{
			Mem1703[fp - 228 + 0x00:word32] = 0x01;
			Mem1704[fp - 232 + 0x00:word32] = 0x00;
			Mem1706[fp - 0xEC + 0x00:word32] = Mem1704[fp - 0x24 + 0x00:word32];
			Strdelete(dwArg00, dwArg04, dwArg08);
		}
		if (Mem49[0x08180534:word32] != 0x00)
		{
			word32 eax_1678 = Mem49[0x08180534:word32];
			Mem1679[fp - 232 + 0x00:word32] = 0x080C9072;
			Mem1680[fp - 0xEC + 0x00:word32] = eax_1678;
			Mem1682[fp - 0x40 + 0x00:word32] = fopen(Mem1680[fp - 0xEC + 0x00:(ptr char)], Mem1680[fp - 232 + 0x00:(ptr char)]);
			word32 eax_1684 = Mem1682[Mem1682[fp - 0x24 + 0x00:word32] + 0x04:word32];
			word32 eax_1687 = Mem1682[Mem1682[fp - 0x24 + 0x00:word32] + 0x00:word32];
			Mem1689[fp - 0xE0 + 0x00:word32] = Mem1682[fp - 0x40 + 0x00:word32];
			Mem1690[fp - 228 + 0x00:word32] = eax_1684;
			Mem1691[fp - 232 + 0x00:word32] = 0x01;
			Mem1692[fp - 0xEC + 0x00:word32] = eax_1687;
			fwrite(Mem1692[fp - 0xEC + 0x00:(ptr void)], Mem1692[fp - 232 + 0x00:size_t], Mem1692[fp - 228 + 0x00:size_t], Mem1692[fp - 0xE0 + 0x00:(ptr FILE)]);
			Mem1695[fp - 0xEC + 0x00:word32] = Mem1692[fp - 0x40 + 0x00:word32];
			fclose(Mem1695[fp - 0xEC + 0x00:(ptr FILE)]);
		}
		if (Mem49[fp - 0x38 + 0x00:word32] != 0x00)
		{
			word32 eax_1667 = Mem49[Mem49[fp - 0x24 + 0x00:word32] + 0x04:word32];
			word32 eax_1670 = Mem49[Mem49[fp - 0x24 + 0x00:word32] + 0x00:word32];
			Mem1672[fp - 0xE0 + 0x00:word32] = Mem49[fp - 0x38 + 0x00:word32];
			Mem1673[fp - 228 + 0x00:word32] = eax_1667;
			Mem1674[fp - 232 + 0x00:word32] = 0x01;
			Mem1675[fp - 0xEC + 0x00:word32] = eax_1670;
			fwrite(Mem1675[fp - 0xEC + 0x00:(ptr void)], Mem1675[fp - 232 + 0x00:size_t], Mem1675[fp - 228 + 0x00:size_t], Mem1675[fp - 0xE0 + 0x00:(ptr FILE)]);
		}
		Mem106[fp - 232 + 0x00:word32] = 0x03;
		Mem108[fp - 0xEC + 0x00:word32] = Mem106[fp - 0x24 + 0x00:word32];
		cleanup_line(dwArg00, dwArg04);
		if ((byte) (word32) Mem108[Mem108[Mem108[fp - 0x24 + 0x00:word32] + 0x00:word32] + 0x00:byte] != 0x0A && ((byte) ((word32) Mem108[Mem108[Mem108[(fp - 0x24) + 0x00:word32] + 0x00:word32] + 0x00:byte]) != 0x0D && (byte) ((word32) Mem108[Mem108[Mem108[(fp - 0x24) + 0x00:word32] + 0x00:word32] + 0x00:byte]) != 0x00))
		{
			if ((Mem108[135774876:word32] & 0x02) == 0x00)
			{
				if (Mem108[fp - 0x20 + 0x00:word32] != 0x00)
				{
					Mem1659[fp - 232 + 0x00:word32] = Mem108[fp - 0x24 + 0x00:word32];
					Mem1661[fp - 0xEC + 0x00:word32] = Mem1659[fp - 0x20 + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
				else
					Mem1663[fp - 0x20 + 0x00:word32] = Mem108[fp - 0x24 + 0x00:word32];
				Mem1324[fp - 0xEC + 0x00:word32] = Mem108[Mem108[fp + 0x04:word32] + 0x04:word32];
				Mem1326[fp - 0x0D + 0x00:byte] = ISgetc(dwArg00);
				Mem1329[fp - 0xEC + 0x00:word32] = Mem1326[Mem1326[fp + 0x04:word32] + 0x04:word32];
				ISundogetc(dwArg00);
				if (Mem1329[fp - 0x0D + 0x00:byte] == 0x20 || Mem1329[(fp - 0x0D) + 0x00:byte] == 0x09)
					continue;
				word32 edx_1345;
				Mem1335[fp - 232 + 0x00:word32] = fp - 0x30;
				Mem1337[fp - 0xEC + 0x00:word32] = Mem1335[fp - 0x20 + 0x00:word32];
				Mem1339[fp - 0x20 + 0x00:word32] = decodeMIME(fp - 0x04, gs, dwArg00, dwArg04);
				if (Mem1339[fp - 0x30 + 0x00:word32] != 0x00)
					edx_1345 = Mem1339[fp - 0x30 + 0x00:word32];
				else
					edx_1345 = Mem1339[135091060:word32];
				word32 eax_1351;
				if (Mem1339[fp - 0x30 + 0x00:word32] != 0x00)
					eax_1351 = fp - 0x30;
				else
					eax_1351 = fp - 44;
				Mem1352[fp - 220 + 0x00:word32] = edx_1345;
				Mem1353[fp - 0xE0 + 0x00:word32] = eax_1351;
				Mem1354[fp - 228 + 0x00:word32] = 0x00;
				Mem1356[fp - 232 + 0x00:word32] = Mem1354[fp - 0x20 + 0x00:word32];
				Mem1357[fp - 0xEC + 0x00:word32] = 0x00;
				Mem1359[fp - 0x20 + 0x00:word32] = convertLine(fp - 0x04, dwArg04, dwArg0C, dwArg10);
				word32 eax_1361 = Mem1359[Mem1359[fp - 0x20 + 0x00:word32] + 0x04:word32];
				Mem1362[fp - 0xEC + 0x00:word32] = eax_1361;
				Strnew_size(eax_1361, dwArg00);
				Mem1364[fp - 0x24 + 0x00:word32] = eax_1361;
				Mem1367[fp - 0x14 + 0x00:word32] = Mem1364[Mem1364[fp - 0x20 + 0x00:word32] + 0x00:word32];
				while ((byte) (word32) Mem1367[Mem1367[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00)
				{
					Mem1520[fp - 0x18 + 0x00:word32] = Mem1367[fp - 0x14 + 0x00:word32];
					while ((byte) (word32) Mem1520[Mem1520[fp - 0x18 + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem1520[Mem1520[(fp - 0x18) + 0x00:word32] + 0x00:byte]) != 0x0D && (byte) ((word32) Mem1520[Mem1520[(fp - 0x18) + 0x00:word32] + 0x00:byte]) != 0x0A))
						Mem1648[fp - 0x18 + 0x00:word32] = Mem1520[fp - 0x18 + 0x00:word32] + 0x01;
					Mem1535[fp - 232 + 0x00:word32] = Mem1520[fp - 0x18 + 0x00:word32] - Mem1520[(fp - 0x14) + 0x00:word32];
					word32 eax_1536 = Mem1535[fp - 0x14 + 0x00:word32];
					Mem1537[fp - 0xEC + 0x00:word32] = eax_1536;
					word32 edx_1538;
					word32 eax_1539 = Strnew_charp_n(eax_1536, dwArg00, dwArg04, out edx_1538);
					Mem1540[fp - 228 + 0x00:word32] = 0x00;
					Mem1542[fp - 232 + 0x00:word32] = fp - 0x3C;
					Mem1543[fp - 0xEC + 0x00:word32] = eax_1539;
					Mem1545[fp - 0x20 + 0x00:word32] = checkType(dwArg00, dwArg04, dwArg08);
					Mem1547[fp - 232 + 0x00:word32] = Mem1545[fp - 0x20 + 0x00:word32];
					Mem1549[fp - 0xEC + 0x00:word32] = Mem1547[fp - 0x24 + 0x00:word32];
					Strcat(dwArg00, dwArg04);
					if (Mem1549[fp + 0x0C:word32] != 0x00)
					{
						word32 eax_1595;
						if (Mem1549[0x0817C330:word32] != 0x00)
						{
							word32 eax_1616;
							word32 edx_1610 = Mem1549[0x081807A0:word32];
							if (Mem1549[0x0817C2D8:word32] != 0x00)
								eax_1616 = 0x06;
							else
								eax_1616 = 0x01;
							word32 ebx_1618 = edx_1610 - eax_1616;
							word32 eax_1619 = ebx_1618;
							if (ebx_1618 < 0x00)
								eax_1619 = 0x00;
							eax_1595 = eax_1619 + 0x01;
						}
						else
							eax_1595 = ~0x00;
						word32 ebx_1598 = Mem1549[Mem1549[fp - 0x20 + 0x00:word32] + 0x04:word32];
						word32 ecx_1599 = Mem1549[fp - 0x3C + 0x00:word32];
						word32 edx_1601 = Mem1549[Mem1549[fp - 0x20 + 0x00:word32] + 0x00:word32];
						Mem1602[fp - 212 + 0x00:word32] = ~0x00;
						Mem1603[fp - 0xD8 + 0x00:word32] = eax_1595;
						Mem1604[fp - 220 + 0x00:word32] = ebx_1598;
						Mem1605[fp - 0xE0 + 0x00:word32] = 0x00;
						Mem1606[fp - 228 + 0x00:word32] = ecx_1599;
						Mem1607[fp - 232 + 0x00:word32] = edx_1601;
						Mem1609[fp - 0xEC + 0x00:word32] = Mem1607[fp + 0x08:word32];
						addnewline(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
					}
					while ((byte) (word32) Mem1549[Mem1549[fp - 0x18 + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem1549[Mem1549[(fp - 0x18) + 0x00:word32] + 0x00:byte]) == 0x0D || (byte) ((word32) Mem1549[Mem1549[(fp - 0x18) + 0x00:word32] + 0x00:byte]) == 0x0A))
						Mem1578[fp - 0x18 + 0x00:word32] = Mem1549[fp - 0x18 + 0x00:word32] + 0x01;
					Mem1568[fp - 0x14 + 0x00:word32] = Mem1549[fp - 0x18 + 0x00:word32];
				}
				if (Mem1367[fp + 0x0C:word32] != 0x00 && (Mem1367[135774940:word32] != 0x00 && Mem1367[0x080D530C:word32] != 0x00))
				{
					Mem1398[fp - 0x44 + 0x00:word32] = 0x00;
					word32 eax_1400 = Mem1398[Mem1398[fp - 0x24 + 0x00:word32] + 0x00:word32];
					Mem1401[fp - 228 + 0x00:word32] = 0x0C;
					Mem1402[fp - 232 + 0x00:word32] = 135041140;
					Mem1403[fp - 0xEC + 0x00:word32] = eax_1400;
					if (strncasecmp(Mem1403[fp - 0xEC + 0x00:(ptr char)], Mem1403[fp - 232 + 0x00:(ptr char)], Mem1403[fp - 228 + 0x00:int32]) == 0x00)
					{
						Mem1458[fp - 0x34 + 0x00:word32] = Mem1403[Mem1403[fp - 0x24 + 0x00:word32] + 0x00:word32] + 0x0C;
						while ((byte) (word32) Mem1458[Mem1458[fp - 0x34 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem1458[(word32) ((byte) ((word32) Mem1458[Mem1458[(fp - 0x34) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
							Mem1490[fp - 0x34 + 0x00:word32] = Mem1458[fp - 0x34 + 0x00:word32] + 0x01;
						Mem1471[fp - 0xEC + 0x00:word32] = Mem1458[fp - 0x34 + 0x00:word32];
						word32 eax_1472 = html_quote(dwArg00);
						Mem1473[fp - 0xE0 + 0x00:word32] = 0x00;
						Mem1474[fp - 228 + 0x00:word32] = 0x080C9081;
						Mem1475[fp - 232 + 0x00:word32] = eax_1472;
						Mem1476[fp - 0xEC + 0x00:word32] = 0x080C9096;
						Strnew_m_charp(eax_1472, dwArg00);
						Mem1477[fp - 0x44 + 0x00:word32] = eax_1472;
					}
					else
					{
						word32 eax_1493 = Mem1403[Mem1403[fp - 0x24 + 0x00:word32] + 0x00:word32];
						Mem1494[fp - 228 + 0x00:word32] = 0x07;
						Mem1495[fp - 232 + 0x00:word32] = 0x080C90A1;
						Mem1496[fp - 0xEC + 0x00:word32] = eax_1493;
						if (strncasecmp(Mem1496[fp - 0xEC + 0x00:(ptr char)], Mem1496[fp - 232 + 0x00:(ptr char)], Mem1496[fp - 228 + 0x00:int32]) == 0x00)
						{
							Mem1505[fp - 0xEC + 0x00:word32] = Mem1496[Mem1496[fp - 0x24 + 0x00:word32] + 0x00:word32] + 0x07;
							Mem1507[fp - 0x34 + 0x00:word32] = xface2xpm(fp - 0x04, dwArg00);
							if (Mem1507[fp - 0x34 + 0x00:word32] != 0x00)
							{
								Mem1511[fp - 0xEC + 0x00:word32] = Mem1507[fp - 0x34 + 0x00:word32];
								word32 eax_1512 = html_quote(dwArg00);
								Mem1513[fp - 220 + 0x00:word32] = 0x00;
								Mem1514[fp - 0xE0 + 0x00:word32] = 0x080C90A9;
								Mem1515[fp - 228 + 0x00:word32] = 0x080C90BE;
								Mem1516[fp - 232 + 0x00:word32] = eax_1512;
								Mem1517[fp - 0xEC + 0x00:word32] = 0x080C90CD;
								Strnew_m_charp(eax_1512, dwArg00);
								Mem1518[fp - 0x44 + 0x00:word32] = eax_1512;
							}
						}
					}
					if (Mem1403[fp - 0x44 + 0x00:word32] != 0x00)
					{
						Mem1416[fp - 0x4C + 0x00:word32] = Mem1403[Mem1403[fp + 0x08:word32] + 0xD0:word32];
						word32 eax_1417 = Mem1416[fp - 0x44 + 0x00:word32];
						Mem1418[fp - 0xEC + 0x00:word32] = eax_1417;
						Mem1420[fp - 228 + 0x00:word32] = newStrStream(eax_1417, dwArg00);
						Mem1421[fp - 232 + 0x00:word32] = 0x04;
						Mem1423[fp - 0xEC + 0x00:word32] = fp - 0xB8;
						init_stream(dwArg00, dwArg04, dwArg08);
						Mem1424[fp - 0xE0 + 0x00:word32] = 0x01;
						Mem1425[fp - 228 + 0x00:word32] = 0x00;
						Mem1427[fp - 232 + 0x00:word32] = Mem1425[fp + 0x08:word32];
						Mem1429[fp - 0xEC + 0x00:word32] = fp - 0xB8;
						loadHTMLstream(fp - 0xB8, fp - 0x04, gs);
						Mem1432[fp - 0x48 + 0x00:word32] = Mem1429[Mem1429[fp + 0x08:word32] + 0x14:word32];
						while (Mem1432[fp - 0x48 + 0x00:word32] != 0x00 && Mem1432[Mem1432[(fp - 0x48) + 0x00:word32] + 0x20:word32] != 0x00)
						{
							Mem1450[Mem1432[fp - 0x48 + 0x00:word32] + 0x20:word32] = 0x00;
							Mem1453[fp - 0x48 + 0x00:word32] = Mem1450[Mem1450[fp - 0x48 + 0x00:word32] + 0x10:word32];
						}
						Mem1443[Mem1432[fp + 0x08:word32] + 0xD0:word32] = Mem1432[fp - 0x4C + 0x00:word32];
					}
				}
				Mem1389[fp - 0x20 + 0x00:word32] = Mem1367[fp - 0x24 + 0x00:word32];
			}
			else
				Mem1665[fp - 0x20 + 0x00:word32] = Mem108[fp - 0x24 + 0x00:word32];
		}
		else if (Mem108[fp - 0x20 + 0x00:word32] == 0x00)
			break;
		if ((byte) (word32) Mem108[Mem108[fp + 0x04:word32] + 0x00:byte] == 0x00 && Mem108[0x0817C890:word32] == ~0x00)
		{
			Mem1238[fp - 0x14 + 0x00:word32] = Mem108[Mem108[fp - 0x20 + 0x00:word32] + 0x00:word32];
			while ((byte) (word32) Mem1238[Mem1238[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem1238[(word32) ((byte) ((word32) Mem1238[Mem1238[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
				Mem1294[fp - 0x14 + 0x00:word32] = Mem1238[fp - 0x14 + 0x00:word32] + 0x01;
			while ((byte) (word32) Mem1238[Mem1238[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem1238[(word32) ((byte) ((word32) Mem1238[Mem1238[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem1280[fp - 0x14 + 0x00:word32] = Mem1238[fp - 0x14 + 0x00:word32] + 0x01;
			Mem1254[fp - 0xEC + 0x00:word32] = Mem1238[fp - 0x14 + 0x00:word32];
			Mem1256[0x0817C890:word32] = atoi(Mem1254[fp - 0xEC + 0x00:(ptr char)]);
			if ((byte) (word32) Mem1256[135774799:byte] != 0x00)
			{
				word32 eax_1263 = Mem1256[Mem1256[fp - 0x20 + 0x00:word32] + 0x00:word32];
				Mem1264[fp - 228 + 0x00:word32] = 0x00;
				Mem1265[fp - 232 + 0x00:word32] = 0x00;
				Mem1266[fp - 0xEC + 0x00:word32] = eax_1263;
				message(dwArg00, dwArg04, dwArg08);
				refresh(fp - 0x04);
			}
		}
		word32 eax_130 = Mem108[Mem108[fp - 0x20 + 0x00:word32] + 0x00:word32];
		Mem131[fp - 228 + 0x00:word32] = 0x1A;
		Mem132[fp - 232 + 0x00:word32] = 0x080C90DD;
		Mem133[fp - 0xEC + 0x00:word32] = eax_130;
		if (strncasecmp(Mem133[fp - 0xEC + 0x00:(ptr char)], Mem133[fp - 232 + 0x00:(ptr char)], Mem133[fp - 228 + 0x00:int32]) == 0x00)
		{
			Mem168[fp - 0x14 + 0x00:word32] = Mem133[Mem133[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x1A;
			while (((word32) (byte) (word32) Mem168[(word32) (byte) (word32) Mem168[Mem168[fp - 0x14 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
				Mem225[fp - 0x14 + 0x00:word32] = Mem168[fp - 0x14 + 0x00:word32] + 0x01;
			Mem181[fp - 228 + 0x00:word32] = 0x06;
			Mem182[fp - 232 + 0x00:word32] = 0x080C90F8;
			Mem184[fp - 0xEC + 0x00:word32] = Mem182[fp - 0x14 + 0x00:word32];
			if (strncasecmp(Mem184[fp - 0xEC + 0x00:(ptr char)], Mem184[fp - 232 + 0x00:(ptr char)], Mem184[fp - 228 + 0x00:int32]) == 0x00)
			{
				Mem190[Mem184[fp + 0x04:word32] + 0x02:byte] = 0x01;
				goto l0805CA92;
			}
			Mem191[fp - 228 + 0x00:word32] = 0x10;
			Mem192[fp - 232 + 0x00:word32] = 0x080C90FF;
			Mem194[fp - 0xEC + 0x00:word32] = Mem192[fp - 0x14 + 0x00:word32];
			if (strncasecmp(Mem194[fp - 0xEC + 0x00:(ptr char)], Mem194[fp - 232 + 0x00:(ptr char)], Mem194[fp - 228 + 0x00:int32]) == 0x00)
			{
				Mem200[Mem194[fp + 0x04:word32] + 0x02:byte] = 0x02;
				goto l0805CA92;
			}
			Mem201[fp - 228 + 0x00:word32] = 0x08;
			Mem202[fp - 232 + 0x00:word32] = 0x080C9110;
			Mem204[fp - 0xEC + 0x00:word32] = Mem202[fp - 0x14 + 0x00:word32];
			if (strncasecmp(Mem204[fp - 0xEC + 0x00:(ptr char)], Mem204[fp - 232 + 0x00:(ptr char)], Mem204[fp - 228 + 0x00:int32]) != 0x00)
			{
				Mem214[fp - 228 + 0x00:word32] = 0x0A;
				Mem215[fp - 232 + 0x00:word32] = 0x080C9119;
				Mem217[fp - 0xEC + 0x00:word32] = Mem215[fp - 0x14 + 0x00:word32];
				if (strncasecmp(Mem217[fp - 0xEC + 0x00:(ptr char)], Mem217[fp - 232 + 0x00:(ptr char)], Mem217[fp - 228 + 0x00:int32]) == 0x00)
					goto l0805BED6;
				Mem223[Mem217[fp + 0x04:word32] + 0x02:byte] = 0x00;
			}
			else
			{
l0805BED6:
				Mem213[Mem204[fp + 0x04:word32] + 0x02:byte] = 0x03;
			}
			goto l0805CA92;
		}
		word32 eax_228 = Mem133[Mem133[fp - 0x20 + 0x00:word32] + 0x00:word32];
		Mem229[fp - 228 + 0x00:word32] = 0x11;
		Mem230[fp - 232 + 0x00:word32] = 135041316;
		Mem231[fp - 0xEC + 0x00:word32] = eax_228;
		if (strncasecmp(Mem231[fp - 0xEC + 0x00:(ptr char)], Mem231[fp - 232 + 0x00:(ptr char)], Mem231[fp - 228 + 0x00:int32]) == 0x00)
		{
			Mem240[fp - 0x14 + 0x00:word32] = Mem231[Mem231[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x11;
			while (((word32) (byte) (word32) Mem240[(word32) (byte) (word32) Mem240[Mem240[fp - 0x14 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
				Mem313[fp - 0x14 + 0x00:word32] = Mem240[fp - 0x14 + 0x00:word32] + 0x01;
			Mem254[Mem240[fp + 0x04:word32] + 0x0C:word32] = 0x00;
			Mem255[fp - 0x50 + 0x00:word32] = 0x080D5480;
			while (Mem255[Mem255[fp - 0x50 + 0x00:word32] + 0x00:word32] != 0x00)
			{
				Mem274[fp - 0x54 + 0x00:word32] = Mem255[fp - 0x50 + 0x00:word32] + 0x1C;
				while (Mem274[Mem274[fp - 0x54 + 0x00:word32] + 0x00:word32] != 0x00)
				{
					Mem293[fp - 0xEC + 0x00:word32] = Mem274[Mem274[fp - 0x54 + 0x00:word32] + 0x00:word32];
					word32 eax_294 = strlen(Mem293[fp - 0xEC + 0x00:(ptr char)]);
					word32 edx_296 = Mem293[Mem293[fp - 0x54 + 0x00:word32] + 0x00:word32];
					Mem297[fp - 228 + 0x00:word32] = eax_294;
					Mem298[fp - 232 + 0x00:word32] = edx_296;
					Mem300[fp - 0xEC + 0x00:word32] = Mem298[fp - 0x14 + 0x00:word32];
					if (strncasecmp(Mem300[fp - 0xEC + 0x00:(ptr char)], Mem300[fp - 232 + 0x00:(ptr char)], Mem300[fp - 228 + 0x00:int32]) == 0x00)
					{
						Mem308[Mem300[fp + 0x04:word32] + 0x0C:word32] = Mem300[Mem300[fp - 0x50 + 0x00:word32] + 0x00:word32];
						break;
					}
					Mem310[fp - 0x54 + 0x00:word32] = Mem300[fp - 0x54 + 0x00:word32] + 0x04;
				}
				if (Mem274[Mem274[fp + 0x04:word32] + 0x0C:word32] != 0x00)
					break;
				Mem289[fp - 0x50 + 0x00:word32] = Mem274[fp - 0x50 + 0x00:word32] + 44;
			}
			Mem270[Mem255[fp + 0x04:word32] + 0x10:word32] = Mem255[Mem255[fp + 0x04:word32] + 0x0C:word32];
			goto l0805CA92;
		}
		if (Mem231[135775080:word32] != 0x00 && (Mem231[135775084:word32] != 0x00 && Mem231[fp + 0x10:word32] != 0x00))
		{
			Mem465[fp - 0xEC + 0x00:word32] = Mem231[Mem231[fp + 0x10:word32] + 0x0C:word32];
			if (check_cookie_accept_domain(dwArg00) == 0x00)
				goto l0805C8FE;
			word32 eax_471 = Mem465[Mem465[fp - 0x20 + 0x00:word32] + 0x00:word32];
			Mem472[fp - 228 + 0x00:word32] = 11;
			Mem473[fp - 232 + 0x00:word32] = 135041334;
			Mem474[fp - 0xEC + 0x00:word32] = eax_471;
			word32 eax_1228 = strncasecmp(Mem474[fp - 0xEC + 0x00:(ptr char)], Mem474[fp - 232 + 0x00:(ptr char)], Mem474[fp - 228 + 0x00:int32]);
			if (eax_1228 != 0x00)
			{
				word32 eax_1224 = Mem474[Mem474[fp - 0x20 + 0x00:word32] + 0x00:word32];
				Mem1225[fp - 228 + 0x00:word32] = 0x0C;
				Mem1226[fp - 232 + 0x00:word32] = 135041346;
				Mem1227[fp - 0xEC + 0x00:word32] = eax_1224;
				eax_1228 = strncasecmp(Mem1227[fp - 0xEC + 0x00:(ptr char)], Mem1227[fp - 232 + 0x00:(ptr char)], Mem1227[fp - 228 + 0x00:int32]);
				if (eax_1228 == 0x00)
					goto l0805C04B;
				goto l0805C8FE;
			}
l0805C04B:
			Strnew(eax_1228);
			Mem483[fp - 88 + 0x00:word32] = eax_1228;
			Strnew(eax_1228);
			Mem484[fp - 0x5C + 0x00:word32] = eax_1228;
			Mem485[fp - 0x60 + 0x00:word32] = 0x00;
			Mem486[fp - 100 + 0x00:word32] = 0x00;
			Mem487[fp - 0x68 + 0x00:word32] = 0x00;
			Mem488[fp - 0x6C + 0x00:word32] = 0x00;
			Mem489[fp - 0x70 + 0x00:word32] = 0x00;
			Mem490[fp - 0x80 + 0x00:word32] = 0x00;
			Mem491[fp - 0x84 + 0x00:word32] = ~0x00;
			Mem492[fp - 0x18 + 0x00:word32] = 0x00;
			if ((byte) (word32) Mem492[Mem492[Mem492[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x0A:byte] == 0x32)
			{
				Mem1215[fp - 0x14 + 0x00:word32] = Mem492[Mem492[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x0C;
				Mem1216[fp - 0x78 + 0x00:word32] = 0x01;
			}
			else
			{
				Mem1221[fp - 0x14 + 0x00:word32] = Mem492[Mem492[fp - 0x20 + 0x00:word32] + 0x00:word32] + 11;
				Mem1222[fp - 0x78 + 0x00:word32] = 0x00;
			}
			while ((byte) (word32) Mem492[Mem492[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem492[(word32) ((byte) ((word32) Mem492[Mem492[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem1209[fp - 0x14 + 0x00:word32] = Mem492[fp - 0x14 + 0x00:word32] + 0x01;
			while ((byte) (word32) Mem492[Mem492[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x3D && ((byte) ((word32) Mem492[Mem492[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x00 && ((byte) ((word32) Mem492[Mem492[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x0D && ((byte) ((word32) Mem492[Mem492[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x0A && (byte) ((word32) Mem492[Mem492[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x3B))))
			{
				if (Mem492[Mem492[fp - 88 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem492[Mem492[(fp - 88) + 0x00:word32] + 0x08:word32])
				{
					Mem1196[fp - 0xEC + 0x00:word32] = Mem492[fp - 88 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_1176 = Mem492[Mem492[fp - 88 + 0x00:word32] + 0x04:word32];
				Mem1182[Mem492[Mem492[fp - 88 + 0x00:word32] + 0x00:word32] + eax_1176:byte] = (byte) (word32) Mem492[Mem492[fp - 0x14 + 0x00:word32] + 0x00:byte];
				Mem1185[Mem1182[fp - 88 + 0x00:word32] + 0x04:word32] = eax_1176 + 0x01;
				Mem1187[fp - 0x14 + 0x00:word32] = Mem1185[fp - 0x14 + 0x00:word32] + 0x01;
				Mem1194[Mem1187[Mem1187[fp - 88 + 0x00:word32] + 0x00:word32] + Mem1187[Mem1187[(fp - 88) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			Mem521[fp - 0xEC + 0x00:word32] = Mem492[fp - 88 + 0x00:word32];
			Strremovetrailingspaces(dwArg00);
			if ((byte) (word32) Mem521[Mem521[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x3D)
			{
				Mem1017[fp - 0x14 + 0x00:word32] = Mem521[fp - 0x14 + 0x00:word32] + 0x01;
				while ((byte) (word32) Mem1017[Mem1017[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem1017[(word32) ((byte) ((word32) Mem1017[Mem1017[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					Mem1143[fp - 0x14 + 0x00:word32] = Mem1017[fp - 0x14 + 0x00:word32] + 0x01;
				Mem1031[fp - 0x7C + 0x00:word32] = 0x00;
				while ((byte) (word32) Mem1031[Mem1031[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem1031[Mem1031[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x0D && ((byte) ((word32) Mem1031[Mem1031[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x0A && (Mem1031[(fp - 0x7C) + 0x00:word32] != 0x00 || (byte) ((word32) Mem1031[Mem1031[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x3B))))
				{
					if (((word32) (byte) (word32) Mem1031[(word32) (byte) (word32) Mem1031[Mem1031[fp - 0x14 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00)
						Mem1125[fp - 0x18 + 0x00:word32] = Mem1031[fp - 0x14 + 0x00:word32];
					if ((byte) (word32) Mem1031[Mem1031[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x22)
						Mem1123[fp - 0x7C + 0x00:word32] = (word32) (Mem1031[fp - 0x7C + 0x00:word32] == 0x00);
					if (Mem1031[Mem1031[fp - 0x5C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem1031[Mem1031[(fp - 0x5C) + 0x00:word32] + 0x08:word32])
					{
						Mem1118[fp - 0xEC + 0x00:word32] = Mem1031[fp - 0x5C + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_1098 = Mem1031[Mem1031[fp - 0x5C + 0x00:word32] + 0x04:word32];
					Mem1104[Mem1031[Mem1031[fp - 0x5C + 0x00:word32] + 0x00:word32] + eax_1098:byte] = (byte) (word32) Mem1031[Mem1031[fp - 0x14 + 0x00:word32] + 0x00:byte];
					Mem1107[Mem1104[fp - 0x5C + 0x00:word32] + 0x04:word32] = eax_1098 + 0x01;
					Mem1109[fp - 0x14 + 0x00:word32] = Mem1107[fp - 0x14 + 0x00:word32] + 0x01;
					Mem1116[Mem1109[Mem1109[fp - 0x5C + 0x00:word32] + 0x00:word32] + Mem1109[Mem1109[(fp - 0x5C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				if (Mem1031[fp - 0x18 + 0x00:word32] != 0x00)
				{
					Mem1054[fp - 232 + 0x00:word32] = Mem1031[fp - 0x14 + 0x00:word32] - Mem1031[(fp - 0x18) + 0x00:word32] - 0x01;
					Mem1056[fp - 0xEC + 0x00:word32] = Mem1054[fp - 0x5C + 0x00:word32];
					Strshrink(dwArg00, dwArg04);
				}
			}
			while ((byte) (word32) Mem521[Mem521[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x3B)
			{
				Mem811[fp - 0x14 + 0x00:word32] = Mem521[fp - 0x14 + 0x00:word32] + 0x01;
				while ((byte) (word32) Mem811[Mem811[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem811[(word32) ((byte) ((word32) Mem811[Mem811[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					Mem1014[fp - 0x14 + 0x00:word32] = Mem811[fp - 0x14 + 0x00:word32] + 0x01;
				Mem822[fp - 0xE0 + 0x00:word32] = fp - 116;
				Mem823[fp - 228 + 0x00:word32] = 0x07;
				Mem824[fp - 232 + 0x00:word32] = 135041359;
				Mem826[fp - 0xEC + 0x00:word32] = Mem824[fp - 0x14 + 0x00:word32];
				if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
				{
					Mem879[fp - 0xEC + 0x00:word32] = Mem826[Mem826[fp - 116 + 0x00:word32] + 0x00:word32];
					Mem881[fp - 0x84 + 0x00:word32] = mymktime(dwArg00);
				}
				else
				{
					Mem883[fp - 0xE0 + 0x00:word32] = fp - 116;
					Mem884[fp - 228 + 0x00:word32] = 0x07;
					Mem885[fp - 232 + 0x00:word32] = 0x080C9157;
					Mem887[fp - 0xEC + 0x00:word32] = Mem885[fp - 0x14 + 0x00:word32];
					if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
					{
						Mem892[fp - 0xEC + 0x00:word32] = 0x00;
						word32 eax_893 = time(Mem892[fp - 0xEC + 0x00:(ptr time_t)]);
						Mem897[fp - 0xEC + 0x00:word32] = Mem892[Mem892[fp - 116 + 0x00:word32] + 0x00:word32];
						Mem900[fp - 0x84 + 0x00:word32] = eax_893 + atol(Mem897[(fp - 0xEC) + 0x00:(ptr char)]);
					}
					else
					{
						Mem902[fp - 0xE0 + 0x00:word32] = fp - 116;
						Mem903[fp - 228 + 0x00:word32] = 0x06;
						Mem904[fp - 232 + 0x00:word32] = 135041375;
						Mem906[fp - 0xEC + 0x00:word32] = Mem904[fp - 0x14 + 0x00:word32];
						if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
							Mem912[fp - 0x60 + 0x00:word32] = Mem906[fp - 116 + 0x00:word32];
						else
						{
							Mem914[fp - 0xE0 + 0x00:word32] = fp - 116;
							Mem915[fp - 228 + 0x00:word32] = 0x04;
							Mem916[fp - 232 + 0x00:word32] = 0x080C9166;
							Mem918[fp - 0xEC + 0x00:word32] = Mem916[fp - 0x14 + 0x00:word32];
							if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
								Mem924[fp - 100 + 0x00:word32] = Mem918[fp - 116 + 0x00:word32];
							else
							{
								Mem925[fp - 0xE0 + 0x00:word32] = 0x00;
								Mem926[fp - 228 + 0x00:word32] = 0x06;
								Mem927[fp - 232 + 0x00:word32] = 0x080C916B;
								Mem929[fp - 0xEC + 0x00:word32] = Mem927[fp - 0x14 + 0x00:word32];
								if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
									Mem935[fp - 0x80 + 0x00:word32] = Mem929[fp - 0x80 + 0x00:word32] | 0x02;
								else
								{
									Mem939[fp - 0xE0 + 0x00:word32] = fp - 116;
									Mem940[fp - 228 + 0x00:word32] = 0x07;
									Mem941[fp - 232 + 0x00:word32] = 135041394;
									Mem943[fp - 0xEC + 0x00:word32] = Mem941[fp - 0x14 + 0x00:word32];
									if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
										Mem949[fp - 0x68 + 0x00:word32] = Mem943[fp - 116 + 0x00:word32];
									else
									{
										Mem951[fp - 0xE0 + 0x00:word32] = fp - 116;
										Mem952[fp - 228 + 0x00:word32] = 0x07;
										Mem953[fp - 232 + 0x00:word32] = 135041402;
										Mem955[fp - 0xEC + 0x00:word32] = Mem953[fp - 0x14 + 0x00:word32];
										if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
										{
											Mem962[fp - 0xEC + 0x00:word32] = Mem955[Mem955[fp - 116 + 0x00:word32] + 0x00:word32];
											Mem964[fp - 0x78 + 0x00:word32] = atoi(Mem962[fp - 0xEC + 0x00:(ptr char)]);
										}
										else
										{
											Mem966[fp - 0xE0 + 0x00:word32] = fp - 116;
											Mem967[fp - 228 + 0x00:word32] = 0x04;
											Mem968[fp - 232 + 0x00:word32] = 135041410;
											Mem970[fp - 0xEC + 0x00:word32] = Mem968[fp - 0x14 + 0x00:word32];
											if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
												Mem976[fp - 0x70 + 0x00:word32] = Mem970[fp - 116 + 0x00:word32];
											else
											{
												Mem978[fp - 0xE0 + 0x00:word32] = fp - 116;
												Mem979[fp - 228 + 0x00:word32] = 0x0A;
												Mem980[fp - 232 + 0x00:word32] = 135041415;
												Mem982[fp - 0xEC + 0x00:word32] = Mem980[fp - 0x14 + 0x00:word32];
												if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
													Mem988[fp - 0x6C + 0x00:word32] = Mem982[fp - 116 + 0x00:word32];
												else
												{
													Mem989[fp - 0xE0 + 0x00:word32] = 0x00;
													Mem990[fp - 228 + 0x00:word32] = 0x07;
													Mem991[fp - 232 + 0x00:word32] = 0x080C9192;
													Mem993[fp - 0xEC + 0x00:word32] = Mem991[fp - 0x14 + 0x00:word32];
													if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
														Mem999[fp - 0x80 + 0x00:word32] = Mem993[fp - 0x80 + 0x00:word32] | 0x10;
												}
											}
										}
									}
								}
							}
						}
					}
				}
				Mem836[fp - 0x7C + 0x00:word32] = 0x00;
				while ((byte) (word32) Mem836[Mem836[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem836[Mem836[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x0D && ((byte) ((word32) Mem836[Mem836[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x0A && (Mem836[(fp - 0x7C) + 0x00:word32] != 0x00 || (byte) ((word32) Mem836[Mem836[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 0x3B))))
				{
					if ((byte) (word32) Mem836[Mem836[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x22)
						Mem871[fp - 0x7C + 0x00:word32] = (word32) (Mem836[fp - 0x7C + 0x00:word32] == 0x00);
					Mem865[fp - 0x14 + 0x00:word32] = Mem836[fp - 0x14 + 0x00:word32] + 0x01;
				}
			}
			if (Mem521[fp + 0x10:word32] == 0x00 || Mem521[Mem521[(fp - 88) + 0x00:word32] + 0x04:word32] <= 0x00)
				goto l0805CA92;
			if (Mem521[135091092:word32] != 0x00)
			{
				if ((Mem521[fp - 0x80 + 0x00:word32] & 0x02) != 0x00)
				{
					Mem788[fp - 220 + 0x00:word32] = 0x00;
					Mem789[fp - 0xE0 + 0x00:word32] = 0x01;
					Mem790[fp - 228 + 0x00:word32] = 0x01;
					Mem791[fp - 232 + 0x00:word32] = 0x00;
					Mem792[fp - 0xEC + 0x00:word32] = 135041434;
					disp_message_nsec(fp - 0x04, gs, dwArg00);
				}
				else
				{
					word32 eax_797 = Mem521[Mem521[fp - 88 + 0x00:word32] + 0x00:word32];
					Mem798[fp - 228 + 0x00:word32] = Mem521[Mem521[fp - 0x5C + 0x00:word32] + 0x00:word32];
					Mem799[fp - 232 + 0x00:word32] = eax_797;
					Mem800[fp - 0xEC + 0x00:word32] = 135041460;
					byte bpl_801;
					word32 eax_803 = Mem800[Sprintf(dwArg00, out bpl_801) + 0x00:word32];
					Mem804[fp - 220 + 0x00:word32] = 0x00;
					Mem805[fp - 0xE0 + 0x00:word32] = 0x01;
					Mem806[fp - 228 + 0x00:word32] = 0x01;
					Mem807[fp - 232 + 0x00:word32] = 0x00;
					Mem808[fp - 0xEC + 0x00:word32] = eax_803;
					disp_message_nsec(fp - 0x04, gs, dwArg00);
				}
			}
			Mem554[fp - 0xC4 + 0x00:word32] = Mem521[fp - 0x6C + 0x00:word32];
			Mem556[fp - 200 + 0x00:word32] = Mem554[fp - 0x70 + 0x00:word32];
			Mem558[fp - 0xCC + 0x00:word32] = Mem556[fp - 0x78 + 0x00:word32];
			Mem560[fp - 0xD0 + 0x00:word32] = Mem558[fp - 0x68 + 0x00:word32];
			Mem562[fp - 212 + 0x00:word32] = Mem560[fp - 0x80 + 0x00:word32];
			Mem564[fp - 0xD8 + 0x00:word32] = Mem562[fp - 100 + 0x00:word32];
			Mem566[fp - 220 + 0x00:word32] = Mem564[fp - 0x60 + 0x00:word32];
			Mem568[fp - 0xE0 + 0x00:word32] = Mem566[fp - 0x84 + 0x00:word32];
			Mem570[fp - 228 + 0x00:word32] = Mem568[fp - 0x5C + 0x00:word32];
			Mem572[fp - 232 + 0x00:word32] = Mem570[fp - 88 + 0x00:word32];
			Mem574[fp - 0xEC + 0x00:word32] = Mem572[fp + 0x10:word32];
			Mem577[fp - 0x88 + 0x00:word32] = add_cookie(fp - 0x04, dwArg00, dwArg10, dwArg14, dwArg18, dwArg20);
			if (Mem577[fp - 0x88 + 0x00:word32] == 0x00)
				goto l0805CA92;
			word32 eax_583;
			if (Mem577[0x0817C370:word32] == 0x01)
				eax_583 = 0x080C91CB;
			else
				eax_583 = 0x00;
			Mem584[fp - 0x8C + 0x00:word32] = eax_583;
			if ((byte) (word32) Mem584[135774799:byte] != 0x00 && ((Mem584[(fp - 0x88) + 0x00:word32] & 0x20) != 0x00 && Mem584[0x0817C370:word32] == 0x02))
			{
				word32 eax_727;
				if (Mem584[fp - 0x60 + 0x00:word32] != 0x00 && Mem584[Mem584[(fp - 0x60) + 0x00:word32] + 0x00:word32] != 0x00)
					eax_727 = Mem584[Mem584[fp - 0x60 + 0x00:word32] + 0x00:word32];
				else
					eax_727 = 0x080C91CD;
				word32 edx_729 = Mem584[Mem584[fp + 0x10:word32] + 0x0C:word32];
				Mem730[fp - 228 + 0x00:word32] = eax_727;
				Mem731[fp - 232 + 0x00:word32] = edx_729;
				Mem732[fp - 0xEC + 0x00:word32] = 135041500;
				byte bpl_733;
				Mem735[fp - 0x90 + 0x00:word32] = Sprintf(dwArg00, out bpl_733);
				if (Mem735[Mem735[fp - 0x90 + 0x00:word32] + 0x04:word32] > Mem735[0x081807A0:word32] - 0x0A)
				{
					Mem763[fp - 232 + 0x00:word32] = Mem735[Mem735[fp - 0x90 + 0x00:word32] + 0x04:word32] + (0x0A - Mem735[0x081807A0:word32]);
					Mem765[fp - 0xEC + 0x00:word32] = Mem763[fp - 0x90 + 0x00:word32];
					Strshrink(dwArg00, dwArg04);
				}
				Mem746[fp - 232 + 0x00:word32] = 135041534;
				Mem748[fp - 0xEC + 0x00:word32] = Mem746[fp - 0x90 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem751[fp - 0xEC + 0x00:word32] = Mem748[Mem748[fp - 0x90 + 0x00:word32] + 0x00:word32];
				Mem753[fp - 0x8C + 0x00:word32] = inputAnswer(gs, dwArg00);
			}
			if (Mem584[fp - 0x8C + 0x00:word32] != 0x00)
			{
				if (((word32) (byte) (word32) Mem584[(word32) (byte) (word32) Mem584[Mem584[fp - 0x8C + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
				{
					if ((byte) ((word32) Mem584[Mem584[fp - 0x8C + 0x00:word32] + 0x00:byte] | 0x20) == 121)
						goto l0805C7A7;
					goto l0805C810;
				}
				if ((byte) (word32) Mem584[Mem584[fp - 0x8C + 0x00:word32] + 0x00:byte] != 121)
					goto l0805C810;
l0805C7A7:
				word32 eax_653 = Mem584[fp - 0x80 + 0x00:word32];
				Mem659[fp - 0xC4 + 0x00:word32] = Mem584[fp - 0x6C + 0x00:word32];
				Mem661[fp - 200 + 0x00:word32] = Mem659[fp - 0x70 + 0x00:word32];
				Mem663[fp - 0xCC + 0x00:word32] = Mem661[fp - 0x78 + 0x00:word32];
				Mem665[fp - 0xD0 + 0x00:word32] = Mem663[fp - 0x68 + 0x00:word32];
				Mem666[fp - 212 + 0x00:word32] = eax_653 | 0x20;
				Mem668[fp - 0xD8 + 0x00:word32] = Mem666[fp - 100 + 0x00:word32];
				Mem670[fp - 220 + 0x00:word32] = Mem668[fp - 0x60 + 0x00:word32];
				Mem672[fp - 0xE0 + 0x00:word32] = Mem670[fp - 0x84 + 0x00:word32];
				Mem674[fp - 228 + 0x00:word32] = Mem672[fp - 0x5C + 0x00:word32];
				Mem676[fp - 232 + 0x00:word32] = Mem674[fp - 88 + 0x00:word32];
				Mem678[fp - 0xEC + 0x00:word32] = Mem676[fp + 0x10:word32];
				Mem680[fp - 0x88 + 0x00:word32] = add_cookie(fp - 0x04, dwArg00, dwArg10, dwArg14, dwArg18, dwArg20);
				if (Mem680[fp - 0x88 + 0x00:word32] != 0x00)
					goto l0805C810;
				if (Mem680[135091092:word32] != 0x00)
				{
					word32 eax_690 = Mem680[Mem680[fp - 88 + 0x00:word32] + 0x00:word32];
					Mem691[fp - 228 + 0x00:word32] = Mem680[Mem680[fp - 0x5C + 0x00:word32] + 0x00:word32];
					Mem692[fp - 232 + 0x00:word32] = eax_690;
					Mem693[fp - 0xEC + 0x00:word32] = 0x080C9280;
					byte bpl_694;
					word32 eax_696 = Mem693[Sprintf(dwArg00, out bpl_694) + 0x00:word32];
					Mem697[fp - 220 + 0x00:word32] = 0x00;
					Mem698[fp - 0xE0 + 0x00:word32] = 0x01;
					Mem699[fp - 228 + 0x00:word32] = 0x01;
					Mem700[fp - 232 + 0x00:word32] = 0x00;
					Mem701[fp - 0xEC + 0x00:word32] = eax_696;
					disp_message_nsec(fp - 0x04, gs, dwArg00);
				}
			}
			else
			{
l0805C810:
				Mem608[fp - 0x88 + 0x00:word32] = (Mem584[fp - 0x88 + 0x00:word32] & ~0x20) - 0x01;
				if (Mem608[fp - 0x88 + 0x00:word32] >= 0x00 && Mem608[(fp - 0x88) + 0x00:word32] <= 0x08)
				{
					Mem635[fp - 232 + 0x00:word32] = 0x080D5440[Mem608[fp - 0x88 + 0x00:word32] * 0x04];
					Mem636[fp - 0xEC + 0x00:word32] = 0x080C9208;
					byte bpl_637;
					Mem640[fp - 0x1C + 0x00:word32] = Mem636[Sprintf(dwArg00, out bpl_637) + 0x00:word32];
				}
				else
					Mem630[fp - 0x1C + 0x00:word32] = 0x080C9248;
				Mem614[fp - 0xEC + 0x00:word32] = Mem608[fp - 0x1C + 0x00:word32];
				record_err_message(dwArg00);
				if (Mem614[135091092:word32] != 0x00)
				{
					Mem620[fp - 220 + 0x00:word32] = 0x00;
					Mem621[fp - 0xE0 + 0x00:word32] = 0x01;
					Mem622[fp - 228 + 0x00:word32] = 0x01;
					Mem623[fp - 232 + 0x00:word32] = 0x00;
					Mem625[fp - 0xEC + 0x00:word32] = Mem623[fp - 0x1C + 0x00:word32];
					disp_message_nsec(fp - 0x04, gs, dwArg00);
				}
			}
		}
		else
		{
l0805C8FE:
			word32 eax_322 = Mem231[Mem231[fp - 0x20 + 0x00:word32] + 0x00:word32];
			Mem323[fp - 228 + 0x00:word32] = 0x0C;
			Mem324[fp - 232 + 0x00:word32] = 0x080C92A0;
			Mem325[fp - 0xEC + 0x00:word32] = eax_322;
			if (strncasecmp(Mem325[fp - 0xEC + 0x00:(ptr char)], Mem325[fp - 232 + 0x00:(ptr char)], Mem325[fp - 228 + 0x00:int32]) == 0x00)
			{
				word32 eax_331 = (word32) Mem325[Mem325[fp + 0x04:word32] + 0x00:byte];
				if ((byte) eax_331 == 0x05)
				{
					Strnew(eax_331);
					Mem335[fp - 0x94 + 0x00:word32] = eax_331;
					Mem340[fp - 0x14 + 0x00:word32] = Mem335[Mem335[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x0C;
					while ((byte) (word32) Mem340[Mem340[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem340[(word32) ((byte) ((word32) Mem340[Mem340[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
						Mem455[fp - 0x14 + 0x00:word32] = Mem340[fp - 0x14 + 0x00:word32] + 0x01;
					while ((byte) (word32) Mem340[Mem340[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem340[(word32) ((byte) ((word32) Mem340[Mem340[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
					{
						if (Mem340[Mem340[fp - 0x94 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem340[Mem340[(fp - 0x94) + 0x00:word32] + 0x08:word32])
						{
							Mem442[fp - 0xEC + 0x00:word32] = Mem340[fp - 0x94 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_422 = Mem340[Mem340[fp - 0x94 + 0x00:word32] + 0x04:word32];
						Mem428[Mem340[Mem340[fp - 0x94 + 0x00:word32] + 0x00:word32] + eax_422:byte] = (byte) (word32) Mem340[Mem340[fp - 0x14 + 0x00:word32] + 0x00:byte];
						Mem431[Mem428[fp - 0x94 + 0x00:word32] + 0x04:word32] = eax_422 + 0x01;
						Mem433[fp - 0x14 + 0x00:word32] = Mem431[fp - 0x14 + 0x00:word32] + 0x01;
						Mem440[Mem433[Mem433[fp - 0x94 + 0x00:word32] + 0x00:word32] + Mem433[Mem433[(fp - 0x94) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
					while ((byte) (word32) Mem340[Mem340[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem340[(word32) ((byte) ((word32) Mem340[Mem340[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
						Mem399[fp - 0x14 + 0x00:word32] = Mem340[fp - 0x14 + 0x00:word32] + 0x01;
					Mem372[fp - 0xEC + 0x00:word32] = Mem340[Mem340[fp - 0x94 + 0x00:word32] + 0x00:word32];
					Mem374[fp - 0x98 + 0x00:word32] = getFuncList(dwArg00);
					if (Mem374[fp - 0x98 + 0x00:word32] >= 0x00)
					{
						word32 eax_377 = Mem374[fp - 0x14 + 0x00:word32];
						Mem378[fp - 0xEC + 0x00:word32] = eax_377;
						Strnew_charp(eax_377, dwArg00);
						Mem379[fp - 0x24 + 0x00:word32] = eax_377;
						Mem381[fp - 0xEC + 0x00:word32] = Mem379[fp - 0x24 + 0x00:word32];
						Strchop(dwArg00);
						Mem384[fp - 232 + 0x00:word32] = Mem381[Mem381[fp - 0x24 + 0x00:word32] + 0x00:word32];
						word32 eax_385 = Mem384[fp - 0x98 + 0x00:word32];
						Mem386[fp - 0xEC + 0x00:word32] = eax_385;
						pushEvent(eax_385, dwArg00, dwArg04);
					}
				}
			}
		}
l0805CA92:
		if (Mem133[fp - 0x28 + 0x00:word32] != 0x00)
		{
			word32 eax_156 = Mem133[Mem133[fp - 0x20 + 0x00:word32] + 0x00:word32];
			Mem157[fp - 232 + 0x00:word32] = ~0x00;
			Mem158[fp - 0xEC + 0x00:word32] = eax_156;
			word32 eax_159 = allocStr(dwArg00, dwArg04);
			word32 edx_160 = Mem158[fp - 0x28 + 0x00:word32];
			Mem161[fp - 232 + 0x00:word32] = eax_159;
			Mem162[fp - 0xEC + 0x00:word32] = edx_160;
			pushValue(dwArg00, dwArg04);
		}
		Mem153[fp - 0xEC + 0x00:word32] = Mem133[fp - 0x20 + 0x00:word32];
		Strfree(dwArg00);
		Mem154[fp - 0x20 + 0x00:word32] = 0x00;
	}
	if (Mem49[fp + 0x0C:word32] != 0x00)
	{
		word32 eax_76 = Mem49[fp - 0x3C + 0x00:word32];
		Mem77[fp - 212 + 0x00:word32] = ~0x00;
		Mem78[fp - 0xD8 + 0x00:word32] = ~0x00;
		Mem79[fp - 220 + 0x00:word32] = 0x00;
		Mem80[fp - 0xE0 + 0x00:word32] = 0x00;
		Mem81[fp - 228 + 0x00:word32] = eax_76;
		Mem82[fp - 232 + 0x00:word32] = 0x080C92AD;
		Mem84[fp - 0xEC + 0x00:word32] = Mem82[fp + 0x08:word32];
		addnewline(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
	}
	if (Mem49[fp - 0x38 + 0x00:word32] != 0x00)
	{
		Mem74[fp - 0xEC + 0x00:word32] = Mem49[fp - 0x38 + 0x00:word32];
		fclose(Mem74[fp - 0xEC + 0x00:(ptr FILE)]);
	}
}

// 0805CB59: Register word32 checkHeader(Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 edxOut)
word32 checkHeader(word32 dwArg04, word32 dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 eax_23;
	if (dwArg04 != 0x00 && (dwArg08 != 0x00 && Mem0[dwArg04 + 0xD8:word32] != 0x00))
	{
		word32 eax_51 = strlen(dwArg08);
		word32 dwLoc14_56 = Mem0[Mem0[dwArg04 + 0xD8:word32] + 0x00:word32];
		while (dwLoc14_56 != 0x00)
		{
			word32 edx_72;
			*edxOut = dwArg08;
			if (strncasecmp(Mem0[dwLoc14_56 + 0x00:word32], dwArg08, eax_51) == 0x00)
			{
				word32 edx_86;
				eax_23 = remove_space(Mem0[dwLoc14_56 + 0x00:word32] + eax_51, out edx_86);
				return eax_23;
			}
			dwLoc14_56 = Mem0[dwLoc14_56 + 0x04:word32];
		}
		eax_23 = 0x00;
	}
	else
		eax_23 = 0x00;
	return eax_23;
}

// 0805CBED: Register word32 checkContentType(Register selector gs, Stack word32 dwArg04, Register out ptr32 bplOut)
word32 checkContentType(selector gs, word32 dwArg04, ptr32 & bplOut)
{
	word32 eax_32;
	word32 edx_13;
	word32 eax_14 = checkHeader(dwArg04, 135041710, out edx_13);
	word32 ebp_34 = fp - 0x04;
	word32 dwLoc10_16 = eax_14;
	if (eax_14 == 0x00)
		eax_32 = 0x00;
	else
	{
		Strnew(eax_14);
		while (true)
		{
			byte al_60 = (byte) (word32) Mem0[dwLoc10_16 + 0x00:byte];
			if (al_60 == 0x00 || ((byte) ((word32) Mem0[dwLoc10_16 + 0x00:byte]) == 0x3B || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_16 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00))
				break;
			if (Mem0[eax_14 + 0x04:word32] + 0x01 >= Mem0[eax_14 + 0x08:word32])
				Strgrow(eax_14);
			word32 eax_195 = Mem0[eax_14 + 0x04:word32];
			Mem201[Mem0[eax_14 + 0x00:word32] + eax_195:byte] = (byte) (word32) Mem0[dwLoc10_16 + 0x00:byte];
			Mem204[eax_14 + 0x04:word32] = eax_195 + 0x01;
			Mem213[Mem204[eax_14 + 0x00:word32] + Mem204[eax_14 + 0x04:word32]:byte] = 0x00;
			dwLoc10_16 = dwLoc10_16 + 0x01;
		}
		word32 esp_67;
		byte SCZO_69;
		word32 eax_70;
		byte Z_71;
		byte al_72;
		byte SZO_73;
		byte C_74;
		word32 edx_75;
		byte SO_76;
		word32 ecx_77;
		byte dl_78;
		selector gs_79;
		byte bpl_80;
		!strcasestr();
		if (eax_70 != 0x00)
		{
			word32 dwLoc10_166 = eax_70 + 0x07 + 0x01;
			while ((byte) (word32) Mem0[dwLoc10_166 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_166 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				dwLoc10_166 = dwLoc10_166 + 0x01;
			if ((byte) (word32) Mem0[dwLoc10_166 + 0x00:byte] == 0x3D)
			{
				word32 dwLoc10_113 = dwLoc10_166 + 0x00 + 0x01;
				while ((byte) (word32) Mem0[dwLoc10_113 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_113 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					dwLoc10_113 = dwLoc10_113 + 0x01;
				if ((byte) (word32) Mem0[dwLoc10_113 + 0x00:byte] == 0x22)
					dwLoc10_113 = dwLoc10_113 + 0x00;
				Mem136[135776404:word32] = wc_guess_charset(gs_79, dwLoc10_113, 0x00);
			}
		}
		eax_32 = Mem0[Mem0[ebp_34 - 0x10 + 0x00:word32] + 0x00:word32];
	}
	byte bpl_38;
	*bplOut = (byte) Mem0[ebp_34 + 0x00:word32];
	return eax_32;
}

// 0805CD5B: Register word32 skip_auth_token(Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 skip_auth_token(word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 dwLoc0C_17 = 0x00;
	word32 dwLoc08_13 = Mem0[dwArg04 + 0x00:word32];
	while (true)
	{
		word32 eax_23 = (int32) (byte) (word32) Mem0[dwLoc08_13 + 0x00:byte];
		if (eax_23 <=u 0x7F)
			break;
		word32 dwLoc10_57;
		if ((byte) (word32) Mem0[dwLoc08_13 + 0x00:byte] >u 0x1F)
			dwLoc10_57 = 0x02;
		else
			dwLoc10_57 = 0x01;
		if (dwLoc0C_17 == 0x00)
			dwLoc0C_17 = dwLoc10_57;
		else if (dwLoc0C_17 != dwLoc10_57)
		{
			Mem73[dwArg04 + 0x00:word32] = dwLoc08_13;
			word32 ebp_77;
			*ebpOut = ebp;
			word32 esp_78;
			*espOut = fp;
			return dwLoc0C_17;
		}
		dwLoc08_13 = dwLoc08_13 + 0x01;
	}
	word32 eax_39 = 0x080C92C4[eax_23 * 0x04];
	word32 esp_43;
	word32 ebp_44;
	byte SCZO_45;
	word32 eax_46;
	byte al_47;
	byte CZ_48;
	bcuiposr0 None_49;
	byte Z_50;
	word32 edx_51;
	eax_39();
	return eax_46;
}

// 0805CDCE: Register word32 extract_auth_val(Stack word32 dwArg04)
word32 extract_auth_val(word32 dwArg04)
{
	word32 eax_11 = Mem0[dwArg04 + 0x00:word32];
	Strnew(eax_11);
	word32 dwLoc10_111 = eax_11 + 0x01;
	word32 dwLoc14_13 = 0x00;
	while ((byte) (word32) Mem0[dwLoc10_111 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_111 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc10_111 = dwLoc10_111 + 0x01;
	if ((byte) (word32) Mem0[dwLoc10_111 + 0x00:byte] == 0x22)
	{
		dwLoc14_13 = 0x01;
		if (Mem0[eax_11 + 0x04:word32] + 0x01 >= Mem0[eax_11 + 0x08:word32])
			Strgrow(eax_11);
		word32 eax_249 = Mem0[eax_11 + 0x04:word32];
		Mem255[Mem0[eax_11 + 0x00:word32] + eax_249:byte] = (byte) (word32) Mem0[dwLoc10_111 + 0x00:byte];
		Mem258[eax_11 + 0x04:word32] = eax_249 + 0x01;
		Mem267[Mem258[eax_11 + 0x00:word32] + Mem258[eax_11 + 0x04:word32]:byte] = 0x00;
		dwLoc10_111 = dwLoc10_111 + 0x00;
	}
	while ((byte) (word32) Mem0[dwLoc10_111 + 0x00:byte] != 0x00)
	{
		if (dwLoc14_13 != 0x00 && (byte) ((word32) Mem0[dwLoc10_111 + 0x00:byte]) == 0x22)
		{
			if (Mem0[eax_11 + 0x04:word32] + 0x01 >= Mem0[eax_11 + 0x08:word32])
				Strgrow(eax_11);
			word32 eax_215 = Mem0[eax_11 + 0x04:word32];
			Mem221[Mem0[eax_11 + 0x00:word32] + eax_215:byte] = (byte) (word32) Mem0[dwLoc10_111 + 0x00:byte];
			Mem224[eax_11 + 0x04:word32] = eax_215 + 0x01;
			Mem233[Mem224[eax_11 + 0x00:word32] + Mem224[eax_11 + 0x04:word32]:byte] = 0x00;
			dwLoc10_111 = dwLoc10_111 + 0x01;
			break;
		}
		if (dwLoc14_13 == 0x00)
		{
			word32 eax_124 = (word32) (byte) (word32) Mem0[dwLoc10_111 + 0x00:byte];
			if (eax_124 <=u 0x5D)
			{
				word32 eax_129 = 0x080C94C4[(eax_124 - 0x09) * 0x04];
				word32 esp_131;
				word32 ebp_132;
				byte SCZO_133;
				word32 eax_134;
				byte al_135;
				byte SZO_136;
				byte C_137;
				byte Z_138;
				word32 edx_139;
				byte SO_140;
				word32 ecx_141;
				byte dl_142;
				byte CZ_143;
				eax_129();
				return eax_134;
			}
			if ((byte) (word32) Mem0[dwLoc10_111 + 0x00:byte] <=u 0x1F || (byte) ((word32) Mem0[dwLoc10_111 + 0x00:byte]) == 0x7F)
			{
				dwLoc10_111 = dwLoc10_111 + 0x01;
				break;
			}
		}
		else if (dwLoc14_13 != 0x00 && (byte) ((word32) Mem0[dwLoc10_111 + 0x00:byte]) == 0x5C)
		{
			if (Mem0[eax_11 + 0x04:word32] + 0x01 >= Mem0[eax_11 + 0x08:word32])
				Strgrow(eax_11);
			word32 eax_178 = Mem0[eax_11 + 0x04:word32];
			Mem184[Mem0[eax_11 + 0x00:word32] + eax_178:byte] = (byte) (word32) Mem0[dwLoc10_111 + 0x00:byte];
			Mem187[eax_11 + 0x04:word32] = eax_178 + 0x01;
			Mem196[Mem187[eax_11 + 0x00:word32] + Mem187[eax_11 + 0x04:word32]:byte] = 0x00;
			dwLoc10_111 = dwLoc10_111 + 0x01;
		}
		if (Mem0[eax_11 + 0x04:word32] + 0x01 >= Mem0[eax_11 + 0x08:word32])
			Strgrow(eax_11);
		word32 eax_100 = Mem0[eax_11 + 0x04:word32];
		Mem106[Mem0[eax_11 + 0x00:word32] + eax_100:byte] = (byte) (word32) Mem0[dwLoc10_111 + 0x00:byte];
		Mem109[eax_11 + 0x04:word32] = eax_100 + 0x01;
		Mem118[Mem109[eax_11 + 0x00:word32] + Mem109[eax_11 + 0x04:word32]:byte] = 0x00;
		dwLoc10_111 = dwLoc10_111 + 0x01;
	}
	Mem70[dwArg04 + 0x00:word32] = dwLoc10_111;
	return eax_11;
}

// 0805D007: Register word32 qstr_unquote(Stack word32 dwArg04)
word32 qstr_unquote(word32 dwArg04)
{
	word32 eax_130;
	if (dwArg04 == 0x00)
		eax_130 = 0x00;
	else
	{
		word32 eax_41 = Mem0[dwArg04 + 0x00:word32];
		word32 eax_44 = (word32) Mem0[eax_41 + 0x00:byte];
		if ((byte) eax_44 == 0x22)
		{
			Strnew(eax_44);
			word32 dwLoc10_123 = eax_41 + 0x01;
			while ((byte) (word32) Mem0[dwLoc10_123 + 0x00:byte] != 0x00)
			{
				if ((byte) (word32) Mem0[dwLoc10_123 + 0x00:byte] == 0x5C)
					dwLoc10_123 = dwLoc10_123 + 0x01;
				if (Mem0[eax_44 + 0x04:word32] + 0x01 >= Mem0[eax_44 + 0x08:word32])
					Strgrow(eax_44);
				word32 eax_106 = Mem0[eax_44 + 0x04:word32];
				Mem112[Mem0[eax_44 + 0x00:word32] + eax_106:byte] = (byte) (word32) Mem0[dwLoc10_123 + 0x00:byte];
				Mem115[eax_44 + 0x04:word32] = eax_106 + 0x01;
				Mem121[Mem115[eax_44 + 0x00:word32] + Mem115[eax_44 + 0x04:word32]:byte] = 0x00;
				dwLoc10_123 = dwLoc10_123 + 0x01;
			}
			if (Mem0[eax_44 + 0x04:word32] > 0x00 && (byte) ((word32) Mem0[Mem0[eax_44 + 0x00:word32] + (Mem0[eax_44 + 0x04:word32] - 0x01):byte]) == 0x22)
				Strshrink(eax_44, 0x01);
			eax_130 = eax_44;
		}
		else
			eax_130 = dwArg04;
	}
	return eax_130;
}

// 0805D0EB: Register word32 extract_auth_param(Register word32 ebp, Stack word32 dwArg08)
word32 extract_auth_param(word32 ebp, word32 dwArg08)
{
	word32 ebp_133 = fp - 0x04;
	word32 esp_132 = fp - 44;
	word32 dwLoc10_10 = dwArg08 + 0x04;
	while (Mem0[dwLoc10_10 + 0x00:word32] != 0x00)
	{
		Mem301[dwLoc10_10 + 0x00:word32] = 0x00;
		dwLoc10_10 = dwLoc10_10 + 0x08;
	}
	while (true)
	{
		word32 eax_142;
		if ((byte) (word32) Mem0[Mem0[ebp_133 + 0x08:word32] + 0x00:byte] == 0x00)
			break;
		while ((byte) (word32) Mem0[Mem0[ebp_133 + 0x08:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[ebp_133 + 0x08:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			Mem299[ebp_133 + 0x08:word32] = Mem0[ebp_133 + 0x08:word32] + 0x01;
		Mem66[ebp_133 - 0x0C + 0x00:word32] = Mem0[ebp_133 + 0x0C:word32];
		while (Mem66[Mem66[ebp_133 - 0x0C + 0x00:word32] + 0x00:word32] != 0x00)
		{
			Mem200[esp_132 + 0x00:word32] = Mem66[Mem66[ebp_133 - 0x0C + 0x00:word32] + 0x00:word32];
			Mem202[ebp_133 - 0x14 + 0x00:word32] = strlen(Mem200[esp_132 + 0x00:(ptr char)]);
			word32 edx_204 = Mem202[Mem202[ebp_133 - 0x0C + 0x00:word32] + 0x00:word32];
			word32 eax_205 = Mem202[ebp_133 + 0x08:word32];
			Mem207[esp_132 + 0x08:word32] = Mem202[ebp_133 - 0x14 + 0x00:word32];
			Mem208[esp_132 + 0x04:word32] = edx_204;
			Mem209[esp_132 + 0x00:word32] = eax_205;
			if (strncasecmp(Mem209[esp_132 + 0x00:(ptr char)], Mem209[esp_132 + 0x04:(ptr char)], Mem209[esp_132 + 0x08:int32]) == 0x00 && (((word32) ((byte) ((word32) Mem209[(word32) ((byte) ((word32) Mem209[Mem209[ebp_133 + 0x08:word32] + Mem209[(ebp_133 - 0x14) + 0x00:word32]:byte])) + 0x080DB700:byte])) & 0x02) != 0x00 || (byte) ((word32) Mem209[Mem209[ebp_133 + 0x08:word32] + Mem209[(ebp_133 - 0x14) + 0x00:word32]:byte]) == 0x3D))
			{
				Mem239[ebp_133 - 0x10 + 0x00:word32] = Mem209[ebp_133 + 0x08:word32] + Mem209[(ebp_133 - 0x14) + 0x00:word32];
				while ((byte) (word32) Mem239[Mem239[ebp_133 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem239[(word32) ((byte) ((word32) Mem239[Mem239[(ebp_133 - 0x10) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					Mem277[ebp_133 - 0x10 + 0x00:word32] = Mem239[ebp_133 - 0x10 + 0x00:word32] + 0x01;
				if ((byte) (word32) Mem239[Mem239[ebp_133 - 0x10 + 0x00:word32] + 0x00:byte] == 0x3D)
				{
					Mem259[ebp_133 + 0x08:word32] = Mem239[ebp_133 - 0x10 + 0x00:word32] + 0x01;
					Mem261[esp_132 + 0x00:word32] = ebp_133 + 0x08;
					Mem264[Mem261[ebp_133 - 0x0C + 0x00:word32] + 0x04:word32] = extract_auth_val(dwArg00);
					break;
				}
				else
				{
					eax_142 = Mem239[ebp_133 + 0x08:word32];
					return eax_142;
				}
			}
			Mem220[ebp_133 - 0x0C + 0x00:word32] = Mem209[ebp_133 - 0x0C + 0x00:word32] + 0x08;
		}
		if (Mem66[Mem66[ebp_133 - 0x0C + 0x00:word32] + 0x00:word32] == 0x00)
		{
			Mem128[ebp_133 - 0x10 + 0x00:word32] = Mem66[ebp_133 + 0x08:word32];
			Mem130[esp_132 + 0x00:word32] = ebp_133 + 0x08;
			word32 eax_134 = skip_auth_token(dwArg00, out esp_132, out ebp_133);
			Mem135[ebp_133 - 0x18 + 0x00:word32] = eax_134;
			if (Mem135[ebp_133 - 0x18 + 0x00:word32] != 0x02 || ((word32) ((byte) ((word32) Mem135[(word32) ((byte) ((word32) Mem135[Mem135[ebp_133 + 0x08:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem135[Mem135[ebp_133 + 0x08:word32] + 0x00:byte]) != 0x3D)
			{
				eax_142 = Mem135[ebp_133 - 0x10 + 0x00:word32];
				return eax_142;
			}
			while ((byte) (word32) Mem135[Mem135[ebp_133 + 0x08:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem135[(word32) ((byte) ((word32) Mem135[Mem135[ebp_133 + 0x08:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem192[ebp_133 + 0x08:word32] = Mem135[ebp_133 + 0x08:word32] + 0x01;
			if ((byte) (word32) Mem135[Mem135[ebp_133 + 0x08:word32] + 0x00:byte] != 0x3D)
			{
				eax_142 = Mem135[ebp_133 - 0x10 + 0x00:word32];
				return eax_142;
			}
			Mem174[ebp_133 + 0x08:word32] = Mem135[ebp_133 + 0x08:word32] + 0x01;
			Mem176[esp_132 + 0x00:word32] = ebp_133 + 0x08;
			extract_auth_val(dwArg00);
		}
		if ((byte) (word32) Mem66[Mem66[ebp_133 + 0x08:word32] + 0x00:byte] == 0x00)
			continue;
		while ((byte) (word32) Mem66[Mem66[ebp_133 + 0x08:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem66[(word32) ((byte) ((word32) Mem66[Mem66[ebp_133 + 0x08:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			Mem126[ebp_133 + 0x08:word32] = Mem66[ebp_133 + 0x08:word32] + 0x01;
		if ((byte) (word32) Mem66[Mem66[ebp_133 + 0x08:word32] + 0x00:byte] != 44)
			break;
		Mem111[ebp_133 + 0x08:word32] = Mem66[ebp_133 + 0x08:word32] + 0x01;
	}
	eax_142 = Mem0[ebp_133 + 0x08:word32];
	return eax_142;
}

// 0805D322: Register word32 get_auth_param(Stack word32 dwArg04, Stack word32 dwArg08)
word32 get_auth_param(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_10 = dwArg04 + 0x04;
	while (true)
	{
		word32 eax_28;
		if (Mem0[dwLoc10_10 + 0x00:word32] == 0x00)
			break;
		if (strcasecmp(dwArg08, Mem0[dwLoc10_10 + 0x00:word32]) == 0x00)
		{
			eax_28 = Mem0[dwLoc10_10 + 0x00:word32];
			return eax_28;
		}
		dwLoc10_10 = dwLoc10_10 + 0x08;
	}
	eax_28 = 0x00;
	return eax_28;
}

// 0805D364: void AuthBasicCred(Stack word32 dwArg08, Stack word32 dwArg0C)
void AuthBasicCred(word32 dwArg08, word32 dwArg0C)
{
	word32 eax_11 = Strdup(dwArg08);
	if (Mem0[eax_11 + 0x04:word32] + 0x01 >= Mem0[eax_11 + 0x08:word32])
		Strgrow(eax_11);
	word32 eax_24 = Mem0[eax_11 + 0x04:word32];
	Mem27[Mem0[eax_11 + 0x00:word32] + eax_24:byte] = 0x3A;
	Mem30[eax_11 + 0x04:word32] = eax_24 + 0x01;
	Mem36[Mem30[eax_11 + 0x00:word32] + Mem30[eax_11 + 0x04:word32]:byte] = 0x00;
	Strcat(eax_11, dwArg0C);
	word32 eax_43 = Mem36[eax_11 + 0x00:word32];
	encodeB(eax_43, eax_43);
	Strnew_m_charp(Mem36[eax_43 + 0x00:word32], 0x080C9618);
}

// 0805D3FE: Register word32 findAuthentication(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 bplOut)
word32 findAuthentication(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & bplOut)
{
	strlen(dwArg0C);
	byte SCZO_20;
	word32 eax_21;
	byte Z_22;
	byte SZO_23;
	byte C_24;
	word32 edx_25;
	byte al_26;
	word32 ecx_27;
	byte SO_28;
	byte bpl_29;
	word32 ebp_146;
	word32 esp_145;
	!bzero();
	while (Mem0[ebp_146 - 0x18 + 0x00:word32] != 0x00)
	{
		word32 eax_65 = Mem0[Mem0[ebp_146 - 0x18 + 0x00:word32] + 0x00:word32];
		Mem66[esp_145 + 0x08:word32] = Mem0[ebp_146 - 0x10 + 0x00:word32];
		Mem68[esp_145 + 0x04:word32] = Mem66[ebp_146 + 0x10:word32];
		Mem69[esp_145 + 0x00:word32] = eax_65;
		if (strncasecmp(Mem69[esp_145 + 0x00:(ptr char)], Mem69[esp_145 + 0x04:(ptr char)], Mem69[esp_145 + 0x08:int32]) == 0x00)
		{
			Mem91[ebp_146 - 0x20 + 0x00:word32] = Mem69[Mem69[ebp_146 - 0x18 + 0x00:word32] + 0x00:word32] + Mem69[(ebp_146 - 0x10) + 0x00:word32];
			while (Mem91[ebp_146 - 0x20 + 0x00:word32] != 0x00 && (byte) ((word32) Mem91[Mem91[(ebp_146 - 0x20) + 0x00:word32] + 0x00:byte]) != 0x00)
			{
				while ((byte) (word32) Mem91[Mem91[ebp_146 - 0x20 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem91[(word32) ((byte) ((word32) Mem91[Mem91[(ebp_146 - 0x20) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					Mem291[ebp_146 - 0x20 + 0x00:word32] = Mem91[ebp_146 - 0x20 + 0x00:word32] + 0x01;
				Mem121[ebp_146 - 0x1C + 0x00:word32] = Mem91[ebp_146 - 0x20 + 0x00:word32];
				Mem122[ebp_146 - 0x0C + 0x00:word32] = 0x080D5580;
				while (Mem122[Mem122[ebp_146 - 0x0C + 0x00:word32] + 0x04:word32] != 0x00)
				{
					Mem195[esp_145 + 0x00:word32] = Mem122[Mem122[ebp_146 - 0x0C + 0x00:word32] + 0x04:word32];
					Mem197[ebp_146 - 0x14 + 0x00:word32] = strlen(Mem195[esp_145 + 0x00:(ptr char)]);
					word32 edx_200 = Mem197[Mem197[ebp_146 - 0x0C + 0x00:word32] + 0x04:word32];
					word32 eax_201 = Mem197[ebp_146 - 0x20 + 0x00:word32];
					Mem202[esp_145 + 0x08:word32] = Mem197[ebp_146 - 0x14 + 0x00:word32];
					Mem203[esp_145 + 0x04:word32] = edx_200;
					Mem204[esp_145 + 0x00:word32] = eax_201;
					if (strncasecmp(Mem204[esp_145 + 0x00:(ptr char)], Mem204[esp_145 + 0x04:(ptr char)], Mem204[esp_145 + 0x08:int32]) == 0x00)
					{
						Mem222[ebp_146 - 0x20 + 0x00:word32] = Mem204[ebp_146 - 0x20 + 0x00:word32] + Mem204[(ebp_146 - 0x14) + 0x00:word32];
						while ((byte) (word32) Mem222[Mem222[ebp_146 - 0x20 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem222[(word32) ((byte) ((word32) Mem222[Mem222[(ebp_146 - 0x20) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
							Mem276[ebp_146 - 0x20 + 0x00:word32] = Mem222[ebp_146 - 0x20 + 0x00:word32] + 0x01;
						if (Mem222[Mem222[ebp_146 + 0x08:word32] + 0x00:word32] < Mem222[Mem222[(ebp_146 - 0x0C) + 0x00:word32] + 0x00:word32])
						{
							word32 edx_241 = Mem222[ebp_146 - 0x0C + 0x00:word32];
							word32 eax_240 = Mem222[ebp_146 + 0x08:word32];
							Mem243[eax_240 + 0x00:word32] = Mem222[edx_241 + 0x00:word32];
							Mem245[eax_240 + 0x04:word32] = Mem243[edx_241 + 0x04:word32];
							Mem247[eax_240 + 0x08:word32] = Mem245[edx_241 + 0x08:word32];
							Mem249[eax_240 + 0x0C:word32] = Mem247[edx_241 + 0x0C:word32];
							word32 eax_252 = Mem249[ebp_146 - 0x20 + 0x00:word32];
							Mem253[esp_145 + 0x04:word32] = Mem249[Mem249[ebp_146 + 0x08:word32] + 0x08:word32];
							Mem254[esp_145 + 0x00:word32] = eax_252;
							Mem256[ebp_146 - 0x20 + 0x00:word32] = extract_auth_param(ebp_146, dwArg04);
							break;
						}
						word32 eax_257 = Mem222[ebp_146 - 0x20 + 0x00:word32];
						Mem258[esp_145 + 0x04:word32] = 135775712;
						Mem259[esp_145 + 0x00:word32] = eax_257;
						Mem261[ebp_146 - 0x20 + 0x00:word32] = extract_auth_param(ebp_146, dwArg04);
					}
					Mem217[ebp_146 - 0x0C + 0x00:word32] = Mem204[ebp_146 - 0x0C + 0x00:word32] + 0x10;
				}
				if (Mem122[ebp_146 - 0x1C + 0x00:word32] != Mem122[(ebp_146 - 0x20) + 0x00:word32])
					continue;
				Mem143[esp_145 + 0x00:word32] = ebp_146 - 0x20;
				word32 eax_147 = skip_auth_token(dwArg00, out esp_145, out ebp_146);
				Mem148[ebp_146 - 0x24 + 0x00:word32] = eax_147;
				if (Mem148[ebp_146 - 0x24 + 0x00:word32] != 0x02 || ((word32) ((byte) ((word32) Mem148[(word32) ((byte) ((word32) Mem148[Mem148[(ebp_146 - 0x20) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
					break;
				while ((byte) (word32) Mem148[Mem148[ebp_146 - 0x20 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem148[(word32) ((byte) ((word32) Mem148[Mem148[(ebp_146 - 0x20) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					Mem192[ebp_146 - 0x20 + 0x00:word32] = Mem148[ebp_146 - 0x20 + 0x00:word32] + 0x01;
				word32 eax_173 = Mem148[ebp_146 - 0x20 + 0x00:word32];
				Mem174[esp_145 + 0x04:word32] = 135775712;
				Mem175[esp_145 + 0x00:word32] = eax_173;
				Mem177[ebp_146 - 0x20 + 0x00:word32] = extract_auth_param(ebp_146, dwArg04);
			}
		}
		Mem86[ebp_146 - 0x18 + 0x00:word32] = Mem69[Mem69[ebp_146 - 0x18 + 0x00:word32] + 0x04:word32];
	}
	word32 eax_52;
	if (Mem0[Mem0[ebp_146 + 0x08:word32] + 0x04:word32] != 0x00)
		eax_52 = Mem0[ebp_146 + 0x08:word32];
	else
		eax_52 = 0x00;
	byte bpl_56;
	*bplOut = (byte) Mem0[ebp_146 + 0x00:word32];
	return eax_52;
}

// 0805D642: Register byte getAuthCookie(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
byte getAuthCookie(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 ebp_107 = fp - 0x04;
	word32 esp_109 = fp - 0x4C;
	word32 eax_18 = strlen(dwArg08);
	word32 dwLoc24_20 = 0x00;
	if (dwArg04 != 0x00)
		dwLoc24_20 = Mem0[qstr_unquote(get_auth_param(Mem0[dwArg04 + 0x08:word32], 0x080C961F)) + 0x00:word32];
	if (dwLoc24_20 == 0x00)
		return (byte) Mem0[esp_109 + 0x48:word32];
	word32 dwLoc1C_403 = 0x00;
	word32 dwLoc18_406 = Mem0[dwArg0C + 0x00:word32];
	while (dwLoc18_406 != 0x00)
	{
		if (strncasecmp(Mem0[dwLoc18_406 + 0x00:word32], dwArg08, eax_18) == 0x00)
		{
			dwLoc1C_403 = 0x01;
			break;
		}
		dwLoc18_406 = Mem0[dwLoc18_406 + 0x04:word32];
	}
	strncasecmp(0x080C9625, dwArg08, eax_18);
	if (dwLoc1C_403 != 0x00)
	{
		word32 eax_340 = (word32) Mem0[135774799:byte];
		byte al_341 = (byte) eax_340;
		if (al_341 != 0x00)
		{
			message(0x080C963A, 0x00, 0x00);
			refresh(fp - 0x04);
		}
		else
			fwrite(0x080C9655, 0x01, 0x1B, Mem0[0x0817C1E4:word32]);
		Mem349[fp - 0x4C + 0x00:word32] = 0x01;
		word32 esi_352;
		word32 ebx_353;
		byte SCZO_354;
		word32 eax_355;
		byte Z_356;
		byte SZO_357;
		byte C_358;
		byte al_359;
		word32 edx_360;
		word32 ecx_361;
		selector gs_362;
		byte bpl_363;
		!sleep();
		word32 eax_365 = Mem349[ebp_107 + 0x10:word32];
		Mem366[esp_109 + 0x04:word32] = Mem349[ebp_107 - 0x14 + 0x00:word32];
		Mem367[esp_109 + 0x00:word32] = eax_365;
		delValue(dwArg00, dwArg04);
		word32 edx_369 = Mem367[Mem367[ebp_107 + 0x24:word32] + 0x00:word32];
		word32 eax_371 = Mem367[Mem367[ebp_107 + 0x20:word32] + 0x00:word32];
		Mem373[esp_109 + 0x10:word32] = Mem367[ebp_107 - 0x24 + 0x00:word32];
		Mem374[esp_109 + 0x0C:word32] = edx_369;
		Mem375[esp_109 + 0x08:word32] = eax_371;
		Mem377[esp_109 + 0x04:word32] = Mem375[ebp_107 - 0x20 + 0x00:word32];
		Mem379[esp_109 + 0x00:word32] = Mem377[ebp_107 + 0x14:word32];
		invalidate_auth_user_passwd(dwArg00, dwArg04, dwArg10);
	}
	Mem111[Mem0[ebp_107 + 0x20:word32] + 0x00:word32] = 0x00;
	Mem113[Mem111[ebp_107 + 0x24:word32] + 0x00:word32] = 0x00;
	if (Mem113[ebp_107 - 0x18 + 0x00:word32] == 0x00)
	{
		Mem326[esp_109 + 0x10:word32] = Mem113[ebp_107 - 0x24 + 0x00:word32];
		Mem328[esp_109 + 0x0C:word32] = Mem326[ebp_107 + 0x24:word32];
		Mem330[esp_109 + 0x08:word32] = Mem328[ebp_107 + 0x20:word32];
		Mem332[esp_109 + 0x04:word32] = Mem330[ebp_107 - 0x20 + 0x00:word32];
		Mem334[esp_109 + 0x00:word32] = Mem332[ebp_107 + 0x14:word32];
		if (find_auth_user_passwd(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10) != 0x00)
			goto l0805D9E4;
	}
	word32 eax_176 = (word32) Mem113[0x0817C250:byte];
	byte al_177 = (byte) eax_176;
	if (al_177 != 0x00)
		return (byte) Mem0[esp_109 + 0x48:word32];
	Mem181[esp_109 + 0x00:word32] = 0x02;
	word32 esi_184;
	word32 ebx_185;
	byte SCZO_186;
	word32 eax_187;
	byte Z_188;
	byte SZO_189;
	byte C_190;
	byte al_191;
	word32 edx_192;
	word32 ecx_193;
	selector gs_194;
	byte bpl_195;
	!sleep();
	if ((byte) (word32) Mem181[135774799:byte] == 0x00)
	{
		Mem256[esp_109 + 0x00:word32] = Mem181[135774740:word32];
		if (feof(Mem256[esp_109 + 0x00:(ptr FILE)]) == 0x00)
		{
			Mem273[esp_109 + 0x00:word32] = Mem256[135774740:word32];
			if (ferror(Mem273[esp_109 + 0x00:(ptr FILE)]) == 0x00)
			{
				word32 eax_281;
				if (Mem273[ebp_107 - 0x24 + 0x00:word32] != 0x00)
					eax_281 = 0x080C96BC;
				else
					eax_281 = 0x080C9671;
				word32 eax_298;
				Mem283[esp_109 + 0x04:word32] = Mem273[ebp_107 - 0x20 + 0x00:word32];
				Mem284[esp_109 + 0x00:word32] = eax_281;
				printf(Mem284[esp_109 + 0x00:(ptr char)], Mem284[esp_109 + 0x04:(ptr char)]);
				Mem287[esp_109 + 0x00:word32] = Mem284[0x0817C220:word32];
				fflush(Mem287[esp_109 + 0x00:(ptr FILE)]);
				word32 eax_289 = Mem287[135774740:word32];
				Mem290[esp_109 + 0x00:word32] = eax_289;
				Strfgets(eax_289, dwArg00);
				word32 edx_291 = Mem290[ebp_107 + 0x20:word32];
				Mem292[edx_291 + 0x00:word32] = eax_289;
				Mem295[esp_109 + 0x00:word32] = Mem292[Mem292[ebp_107 + 0x20:word32] + 0x00:word32];
				Strchop(dwArg00);
				if (Mem295[ebp_107 - 0x24 + 0x00:word32] != 0x00)
					eax_298 = 0x080C96D4;
				else
					eax_298 = 0x080C96E5;
				Mem299[esp_109 + 0x00:word32] = eax_298;
				word32 esi_302;
				word32 ebx_303;
				byte SCZO_304;
				word32 eax_305;
				byte Z_306;
				byte SZO_307;
				byte C_308;
				byte al_309;
				word32 edx_310;
				word32 ecx_311;
				selector gs_312;
				byte bpl_313;
				!getpass();
				Mem314[esp_109 + 0x00:word32] = eax_305;
				Strnew_charp(eax_305, dwArg00);
				Mem316[Mem314[ebp_107 + 0x24:word32] + 0x00:word32] = eax_305;
				goto l0805D9E4;
			}
		}
		word32 eax_265 = Mem256[0x0817C1E4:word32];
		Mem267[esp_109 + 0x08:word32] = Mem256[ebp_107 - 0x20 + 0x00:word32];
		Mem268[esp_109 + 0x04:word32] = 0x080C9698;
		Mem269[esp_109 + 0x00:word32] = eax_265;
		fprintf(Mem269[esp_109 + 0x00:(ptr FILE)], Mem269[esp_109 + 0x04:(ptr char)], Mem269[esp_109 + 0x08:(ptr char)]);
		Mem271[esp_109 + 0x00:word32] = 0x01;
		exit(Mem271[esp_109 + 0x00:int32]);
	}
	else
	{
		term_raw(gs_194);
		Mem202[esp_109 + 0x04:word32] = Mem181[ebp_107 - 0x20 + 0x00:word32];
		Mem203[esp_109 + 0x00:word32] = 0x080C9671;
		byte bpl_204;
		word32 eax_206 = Mem203[Sprintf(dwArg00, out bpl_204) + 0x00:word32];
		Mem207[esp_109 + 0x10:word32] = 0x00;
		Mem208[esp_109 + 0x0C:word32] = 0x00;
		Mem209[esp_109 + 0x08:word32] = 0x10;
		Mem210[esp_109 + 0x04:word32] = 0x00;
		Mem211[esp_109 + 0x00:word32] = eax_206;
		Mem213[ebp_107 - 0x28 + 0x00:word32] = inputLineHistSearch(ebp_107, gs_194, dwArg00, dwArg04, dwArg08, dwArg0C);
		if (Mem213[ebp_107 - 0x28 + 0x00:word32] == 0x00)
			return (byte) Mem0[esp_109 + 0x48:word32];
		word32 esi_216 = Mem213[0x080D5378:word32];
		word32 ebx_217 = Mem213[135091052:word32];
		word32 eax_218 = Mem213[ebp_107 - 0x28 + 0x00:word32];
		Mem219[esp_109 + 0x00:word32] = eax_218;
		Strnew_charp(eax_218, dwArg00);
		Mem220[esp_109 + 0x08:word32] = esi_216;
		Mem221[esp_109 + 0x04:word32] = ebx_217;
		Mem222[esp_109 + 0x00:word32] = eax_218;
		word32 ebx_223;
		Mem226[Mem222[ebp_107 + 0x20:word32] + 0x00:word32] = wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_223);
		Mem228[esp_109 + 0x04:word32] = Mem226[ebp_107 - 0x20 + 0x00:word32];
		Mem229[esp_109 + 0x00:word32] = 0x080C9683;
		byte bpl_230;
		word32 eax_232 = Mem229[Sprintf(dwArg00, out bpl_230) + 0x00:word32];
		Mem233[esp_109 + 0x10:word32] = 0x00;
		Mem234[esp_109 + 0x0C:word32] = 0x00;
		Mem235[esp_109 + 0x08:word32] = 0x40;
		Mem236[esp_109 + 0x04:word32] = 0x00;
		Mem237[esp_109 + 0x00:word32] = eax_232;
		Mem239[ebp_107 - 0x28 + 0x00:word32] = inputLineHistSearch(ebp_107, gs_194, dwArg00, dwArg04, dwArg08, dwArg0C);
		if (Mem239[ebp_107 - 0x28 + 0x00:word32] == 0x00)
		{
			Mem243[Mem239[ebp_107 + 0x20:word32] + 0x00:word32] = 0x00;
			return (byte) Mem0[esp_109 + 0x48:word32];
		}
		word32 esi_244 = Mem239[0x080D5378:word32];
		word32 ebx_245 = Mem239[135091052:word32];
		word32 eax_246 = Mem239[ebp_107 - 0x28 + 0x00:word32];
		Mem247[esp_109 + 0x00:word32] = eax_246;
		Strnew_charp(eax_246, dwArg00);
		Mem248[esp_109 + 0x08:word32] = esi_244;
		Mem249[esp_109 + 0x04:word32] = ebx_245;
		Mem250[esp_109 + 0x00:word32] = eax_246;
		word32 ebx_251;
		Mem254[Mem250[ebp_107 + 0x24:word32] + 0x00:word32] = wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_251);
		term_cbreak(gs_194);
l0805D9E4:
		word32 ebx_119 = Mem113[Mem113[ebp_107 + 0x08:word32] + 0x0C:word32];
		word32 edx_121 = Mem113[Mem113[ebp_107 + 0x24:word32] + 0x00:word32];
		word32 eax_123 = Mem113[Mem113[ebp_107 + 0x20:word32] + 0x00:word32];
		Mem125[esp_109 + 0x14:word32] = Mem113[ebp_107 + 0x1C:word32];
		Mem127[esp_109 + 0x10:word32] = Mem125[ebp_107 + 0x18:word32];
		word32 ecx_128 = Mem127[ebp_107 + 0x14:word32];
		Mem129[esp_109 + 0x0C:word32] = ecx_128;
		Mem130[esp_109 + 0x08:word32] = edx_121;
		Mem131[esp_109 + 0x04:word32] = eax_123;
		word32 eax_132 = Mem131[ebp_107 + 0x08:word32];
		Mem133[esp_109 + 0x00:word32] = eax_132;
		word32 ebp_135;
		word32 esi_136;
		word32 ebx_137;
		byte SCZO_138;
		word32 eax_139;
		byte Z_140;
		byte SZO_141;
		byte C_142;
		byte al_143;
		word32 edx_144;
		word32 ecx_145;
		selector gs_146;
		byte bpl_147;
		ebx_119();
		Mem148[ebp_135 - 0x0C + 0x00:word32] = eax_139;
		if (Mem148[ebp_135 - 0x0C + 0x00:word32] != 0x00)
		{
			word32 eax_151 = Mem148[ebp_135 + 0x0C:word32];
			Mem152[esp_109 + 0x00:word32] = eax_151;
			Strnew_charp(eax_151, dwArg00);
			Mem154[ebp_135 - 0x10 + 0x00:word32] = eax_151;
			word32 eax_156 = Mem154[Mem154[ebp_135 - 0x0C + 0x00:word32] + 0x00:word32];
			Mem157[esp_109 + 0x10:word32] = 0x00;
			Mem158[esp_109 + 0x0C:word32] = 0x080C96F0;
			Mem159[esp_109 + 0x08:word32] = eax_156;
			Mem160[esp_109 + 0x04:word32] = 0x080C96F3;
			Mem162[esp_109 + 0x00:word32] = Mem160[ebp_135 - 0x10 + 0x00:word32];
			Strcat_m_charp(dwArg00);
			word32 eax_164 = Mem162[Mem162[ebp_135 - 0x10 + 0x00:word32] + 0x00:word32];
			Mem165[esp_109 + 0x04:word32] = ~0x00;
			Mem166[esp_109 + 0x00:word32] = eax_164;
			word32 eax_167 = allocStr(dwArg00, dwArg04);
			word32 edx_168 = Mem166[ebp_135 + 0x10:word32];
			Mem169[esp_109 + 0x04:word32] = eax_167;
			Mem170[esp_109 + 0x00:word32] = edx_168;
			pushValue(dwArg00, dwArg04);
		}
		else
		{
			Mem173[Mem148[ebp_135 + 0x20:word32] + 0x00:word32] = 0x00;
			Mem175[Mem173[ebp_135 + 0x24:word32] + 0x00:word32] = 0x00;
		}
		return (byte) Mem0[esp_109 + 0x48:word32];
	}
}

// 0805DAA4: Register word32 same_url_p(Stack word32 dwArg04, Stack word32 dwArg08)
word32 same_url_p(word32 dwArg04, word32 dwArg08)
{
	word32 eax_27;
	if (Mem0[dwArg04 + 0x00:word32] == Mem0[dwArg08 + 0x00:word32] && (Mem0[dwArg04 + 0x10:word32] == Mem0[dwArg08 + 0x10:word32] && (Mem0[dwArg04 + 0x0C:word32] == 0x00 || Mem0[dwArg08 + 0x0C:word32] != 0x00 && strcasecmp(Mem0[dwArg04 + 0x0C:word32], Mem0[dwArg08 + 0x0C:word32]) == 0x00)) && (Mem0[dwArg04 + 0x14:word32] == 0x00 || Mem0[dwArg08 + 0x14:word32] != 0x00 && strcmp(Mem0[dwArg04 + 0x14:word32], Mem0[dwArg08 + 0x14:word32]) == 0x00))
		eax_27 = 0x01;
	else
		eax_27 = 0x00;
	return eax_27;
}

// 0805DB36: Register word32 checkRedirection(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 checkRedirection(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_125;
	if (dwArg04 == 0x00)
	{
		Mem35[135776656:word32] = 0x00;
		Mem36[135776660:word32] = 0x00;
		Mem37[135776664:word32] = 0x00;
		eax_125 = 0x01;
		return eax_125;
	}
	if (Mem0[135776656:word32] >= Mem0[135091132:word32])
	{
		byte bpl_57;
		word32 edx_59 = Mem0[parsedURL2Str(dwArg04, out bpl_57) + 0x00:word32];
		word32 eax_60 = Mem0[135091132:word32];
		Mem61[fp - 0x34 + 0x00:word32] = edx_59;
		Mem62[fp - 0x38 + 0x00:word32] = eax_60;
		Mem63[fp - 0x3C + 0x00:word32] = 0x080C96F8;
		byte bpl_65;
		Mem67[fp - 0x10 + 0x00:word32] = Sprintf(dwArg00, out bpl_65);
		word32 eax_69 = Mem67[Mem67[fp - 0x10 + 0x00:word32] + 0x00:word32];
		Mem70[fp - 0x38 + 0x00:word32] = 0x00;
		Mem71[fp - 0x3C + 0x00:word32] = eax_69;
		byte bpl_72;
		disp_err_message(gs, dwArg00, dwArg04, out bpl_72);
		eax_125 = 0x00;
		return eax_125;
	}
	if (Mem0[135776660:word32] > 0x00)
	{
		word32 eax_170 = Mem0[135776656:word32];
		if (same_url_p(dwArg04, Mem0[135776664:word32] + (int32) (SEQ(eax_170 - 0x01 >> 0x1F, eax_170 - 0x01) % Mem0[135776660:word32]) * 0x28) != 0x00)
		{
l0805DC67:
			byte bpl_205;
			Mem208[fp - 0x38 + 0x00:word32] = Mem0[parsedURL2Str(dwArg04, out bpl_205) + 0x00:word32];
			Mem209[fp - 0x3C + 0x00:word32] = 0x080C9724;
			byte bpl_210;
			Mem212[fp - 0x10 + 0x00:word32] = Sprintf(dwArg00, out bpl_210);
			word32 eax_214 = Mem212[Mem212[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem215[fp - 0x38 + 0x00:word32] = 0x00;
			Mem216[fp - 0x3C + 0x00:word32] = eax_214;
			byte bpl_217;
			disp_err_message(gs, dwArg00, dwArg04, out bpl_217);
			eax_125 = 0x00;
			return eax_125;
		}
		if ((Mem0[135776656:word32] & 0x01) == 0x00)
		{
			word32 eax_227 = Mem0[135776656:word32];
			word32 eax_230 = (eax_227 >>u 0x1F) + eax_227;
			if (same_url_p(dwArg04, Mem0[135776664:word32] + (int32) (SEQ(eax_230 >> 0x20, eax_230 >> 0x01) % Mem0[135776660:word32]) * 0x28) != 0x00)
				goto l0805DC67;
		}
	}
	if (Mem0[135776664:word32] == 0x00)
	{
		word32 eax_127 = Mem0[135091132:word32];
		Mem133[135776660:word32] = ((eax_127 >>u 0x1F) + eax_127 >> 0x01) + 0x01;
		word32 esp_142;
		word32 ebp_143;
		word32 ebx_144;
		byte SCZO_145;
		byte Z_146;
		word32 eax_147;
		word32 edx_148;
		byte SO_149;
		byte SZO_150;
		byte C_151;
		word32 ecx_152;
		selector gs_153;
		byte bpl_154;
		!GC_malloc();
		Mem155[135776664:word32] = eax_147;
		memset(Mem155[135776664:word32], 0x00, Mem155[135776660:word32] * 0x28);
	}
	word32 eax_102 = Mem0[135776656:word32];
	copyParsedURL(Mem0[135776664:word32] + (int32) (SEQ(eax_102 >> 0x1F, eax_102) % Mem0[135776660:word32]) * 0x28, dwArg04);
	Mem124[135776656:word32] = Mem0[135776656:word32] + 0x01;
	eax_125 = 0x01;
	return eax_125;
}

// 0805DD60: Register word32 loadGeneralFile(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 loadGeneralFile(word32 ebp, selector gs, word32 dwArg04)
{
	newGeneralList((int32) (byte) (word32) Mem0[135774784:byte]);
	checkRedirection(fp - 0x04, gs, 0x00);
	word32 ebp_100 = fp - 0x04;
	word32 esp_103 = fp - 0x019C;
	while (true)
	{
		if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[135774799:byte] != 0x00)
				term_raw(gs);
			if (Mem0[ebp_100 - 0x48 + 0x00:word32] != 0x00)
			{
				Mem2398[esp_103 + 0x04:word32] = Mem0[ebp_100 - 0x48 + 0x00:word32];
				Mem2399[esp_103 + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		word32 eax_1057;
		Mem72[ebp_100 - 0x9C + 0x00:word32] = Mem0[ebp_100 + 0x10:word32];
		Mem74[ebp_100 - 0x98 + 0x00:word32] = Mem72[ebp_100 + 0x14:word32];
		word32 esi_75 = Mem74[ebp_100 - 0x20 + 0x00:word32];
		word32 ebx_76 = Mem74[ebp_100 + 0x18:word32];
		word32 ecx_77 = Mem74[ebp_100 + 0x0C:word32];
		word32 edx_78 = Mem74[ebp_100 - 44 + 0x00:word32];
		Mem81[esp_103 + 0x24:word32] = ebp_100 - 0x19;
		word32 edi_82 = ebp_100 - 0xA8;
		Mem83[esp_103 + 0x20:word32] = edi_82;
		Mem84[esp_103 + 0x1C:word32] = esi_75;
		word32 esi_85 = Mem84[ebp_100 - 0x4C + 0x00:word32];
		Mem86[esp_103 + 0x18:word32] = esi_85;
		Mem87[esp_103 + 0x14:word32] = ebx_76;
		word32 ebx_88 = ebp_100 - 0x9C;
		Mem89[esp_103 + 0x10:word32] = ebx_88;
		Mem90[esp_103 + 0x0C:word32] = ecx_77;
		word32 ecx_91 = ebp_100 - 0xF0;
		Mem92[esp_103 + 0x08:word32] = ecx_91;
		Mem93[esp_103 + 0x04:word32] = edx_78;
		Mem94[esp_103 + 0x00:word32] = ebp_100 - 0x0168;
		word32 esp_101 = openURL(ebp_100, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg1C, dwArg20, out ebp_100);
		Mem105[ebp_100 - 200 + 0x00:word32] = Mem94[ebp_100 - 0x0168 + 0x00:word32];
		Mem107[ebp_100 - 0xC4 + 0x00:word32] = Mem105[ebp_100 - 0x0164 + 0x00:word32];
		Mem109[ebp_100 - 0xC0 + 0x00:word32] = Mem107[ebp_100 - 0x0160 + 0x00:word32];
		Mem111[ebp_100 - 188 + 0x00:word32] = Mem109[ebp_100 - 0x015C + 0x00:word32];
		Mem113[ebp_100 - 0xB8 + 0x00:word32] = Mem111[ebp_100 - 344 + 0x00:word32];
		Mem115[ebp_100 - 0xB4 + 0x00:word32] = Mem113[ebp_100 - 0x0154 + 0x00:word32];
		Mem117[ebp_100 - 0xB0 + 0x00:word32] = Mem115[ebp_100 - 336 + 0x00:word32];
		Mem119[ebp_100 - 0xAC + 0x00:word32] = Mem117[ebp_100 - 332 + 0x00:word32];
		Mem120[ebp_100 - 0x20 + 0x00:word32] = 0x00;
		Mem121[135776404:word32] = 0x00;
		esp_103 = esp_101;
		if (Mem121[ebp_100 - 0xC4 + 0x00:word32] == 0x00)
			break;
		word32 eax_1419 = (word32) Mem121[ebp_100 - 0x19 + 0x00:byte];
		byte al_1420 = (byte) eax_1419;
		if (al_1420 == ~0x01)
		{
			if ((byte) (word32) Mem121[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem121[135774799:byte] != 0x00)
					term_raw(gs);
				if (Mem121[ebp_100 - 0x48 + 0x00:word32] != 0x00)
				{
					Mem1453[esp_101 + 0x04:word32] = Mem121[ebp_100 - 0x48 + 0x00:word32];
					Mem1454[esp_101 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
			Mem1430[esp_101 + 0x00:word32] = Mem121[ebp_100 - 0xC4 + 0x00:word32];
			if (ISclose(dwArg00) == 0x00)
				Mem1439[ebp_100 - 0xC4 + 0x00:word32] = 0x00;
			eax_1057 = 0x00;
			return eax_1057;
		}
		Mem1456[esp_101 + 0x04:word32] = 0x01;
		Mem1457[esp_101 + 0x00:word32] = 135775744;
		word32 edi_1460;
		word32 esi_1461;
		word32 ebx_1462;
		byte SCZO_1463;
		word32 eax_1464;
		byte al_1465;
		byte SZO_1466;
		byte C_1467;
		byte Z_1468;
		word32 ecx_1469;
		word32 edx_1470;
		byte S_1471;
		word16 dx_1472;
		byte dl_1473;
		byte bpl_1475;
		!__sigsetjmp();
		if (eax_1464 != 0x00)
		{
			if ((byte) (word32) Mem1457[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem1457[135774799:byte] != 0x00)
					term_raw(gs);
				if (Mem1457[ebp_100 - 0x48 + 0x00:word32] != 0x00)
				{
					Mem1517[esp_103 + 0x04:word32] = Mem1457[ebp_100 - 0x48 + 0x00:word32];
					Mem1518[esp_103 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
			if (Mem1457[ebp_100 - 0x24 + 0x00:word32] != 0x00)
			{
				Mem1505[esp_103 + 0x00:word32] = Mem1457[ebp_100 - 0x24 + 0x00:word32];
				discardBuffer(ebp_100, gs, dwArg00);
			}
			Mem1491[esp_103 + 0x00:word32] = Mem1457[ebp_100 - 0xC4 + 0x00:word32];
			if (ISclose(dwArg00) == 0x00)
				Mem1500[ebp_100 - 0xC4 + 0x00:word32] = 0x00;
			eax_1057 = 0x00;
			return eax_1057;
		}
		Mem1520[ebp_100 - 0x24 + 0x00:word32] = 0x00;
		if ((byte) (word32) Mem1520[ebp_100 - 199 + 0x00:byte] != 0x00)
		{
			Mem2386[ebp_100 - 0x40 + 0x00:word32] = 0x01;
			Mem2387[ebp_100 - 0x44 + 0x00:word32] = 0x00;
		}
		if (Mem1520[135774884:word32] != 0x00)
			Mem2385[135774884:word32] = 0x00;
		if ((byte) (word32) Mem1520[0x080D52C5:byte] != 0x00)
		{
			Mem2376[esp_103 + 0x04:word32] = 0x0805A9F4;
			Mem2377[esp_103 + 0x00:word32] = 0x02;
			Mem2379[ebp_100 - 0x48 + 0x00:word32] = mySignal(dwArg00, dwArg04);
			if ((byte) (word32) Mem2379[135774799:byte] != 0x00)
				term_cbreak(gs);
		}
		if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] != 0x00)
		{
			if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] == 0x01)
			{
				Mem2371[esp_103 + 0x00:word32] = Mem1520[135774808:word32];
				if (non_null(dwArg00) == 0x00)
					goto l0805E2EF;
				goto l0805E313;
			}
l0805E2EF:
			if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] == 0x02)
			{
				Mem2365[esp_103 + 0x00:word32] = Mem1520[0x0817C25C:word32];
				if (non_null(dwArg00) == 0x00)
					goto l0805E89D;
l0805E313:
				if ((byte) (word32) Mem1520[0x080D52CC:byte] == 0x00)
					goto l0805E89D;
				Mem2354[esp_103 + 0x00:word32] = Mem1520[ebp_100 - 228 + 0x00:word32];
				if (check_no_proxy(gs, dwArg00) == 0x00)
					goto l0805E338;
			}
l0805E89D:
			if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] == 0x09 || Mem1520[(ebp_100 - 0xF0) + 0x00:word32] == 0x07)
			{
				if (Mem1520[ebp_100 - 0x3C + 0x00:word32] == 0x00)
				{
					word32 eax_2037;
					word32 edx_2030 = Mem1520[0x081807A0:word32];
					if (Mem1520[0x0817C2D8:word32] != 0x00)
						eax_2037 = 0x06;
					else
						eax_2037 = 0x01;
					word32 ecx_2039 = edx_2030 - eax_2037;
					word32 eax_2040 = ecx_2039;
					if (ecx_2039 < 0x00)
						eax_2040 = 0x00;
					Mem2048[esp_103 + 0x00:word32] = eax_2040;
					Mem2050[ebp_100 - 0x3C + 0x00:word32] = newBuffer(eax_2040, dwArg00);
				}
				word32 eax_2013 = Mem1520[ebp_100 - 0x3C + 0x00:word32];
				Mem2015[esp_103 + 0x0C:word32] = ebp_100 - 0xF0;
				Mem2016[esp_103 + 0x08:word32] = 0x01;
				Mem2017[esp_103 + 0x04:word32] = eax_2013;
				Mem2019[esp_103 + 0x00:word32] = ebp_100 - 200;
				readHeader(ebp_100 - 200, ebp_100, gs, dwArg00, dwArg04, dwArg08);
				Mem2021[esp_103 + 0x00:word32] = Mem2019[ebp_100 - 0x3C + 0x00:word32];
				byte bpl_2022;
				Mem2024[ebp_100 - 0x30 + 0x00:word32] = checkContentType(gs, dwArg00, out bpl_2022);
				if (Mem2024[ebp_100 - 0x30 + 0x00:word32] == 0x00)
					Mem2029[ebp_100 - 0x30 + 0x00:word32] = 135041053;
				goto l0805ECF5;
			}
			if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] != 0x01)
			{
				if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] == 0x02)
				{
					Mem2119[esp_103 + 0x04:word32] = ebp_100 - 200;
					Mem2121[esp_103 + 0x00:word32] = Mem2119[ebp_100 + 0x08:word32];
					check_compression(dwArg00, dwArg04);
					if (Mem2121[ebp_100 - 188 + 0x00:word32] != 0x00)
					{
						word32 eax_2126 = Mem2121[ebp_100 - 220 + 0x00:word32];
						Mem2127[esp_103 + 0x04:word32] = 0x00;
						Mem2128[esp_103 + 0x00:word32] = eax_2126;
						Mem2130[ebp_100 - 116 + 0x00:word32] = uncompressed_file_type(dwArg00, dwArg04);
						Mem2132[ebp_100 - 0x38 + 0x00:word32] = Mem2130[ebp_100 - 0xB4 + 0x00:word32];
						if (Mem2132[ebp_100 - 116 + 0x00:word32] != 0x00)
							Mem2136[ebp_100 - 0x30 + 0x00:word32] = Mem2132[ebp_100 - 116 + 0x00:word32];
						else
							Mem2138[ebp_100 - 0x30 + 0x00:word32] = Mem2132[ebp_100 - 0x38 + 0x00:word32];
					}
					else
					{
						Mem2140[esp_103 + 0x00:word32] = Mem2121[ebp_100 - 220 + 0x00:word32];
						Mem2142[ebp_100 - 0x38 + 0x00:word32] = guessContentType(dwArg00);
						if (Mem2142[ebp_100 - 0x38 + 0x00:word32] == 0x00)
							Mem2149[ebp_100 - 0x38 + 0x00:word32] = 135041053;
						Mem2148[ebp_100 - 0x30 + 0x00:word32] = Mem2142[ebp_100 - 0x38 + 0x00:word32];
					}
				}
				else if (Mem1520[ebp_100 - 0xF0 + 0x00:word32] == 11)
					Mem2154[ebp_100 - 0x30 + 0x00:word32] = Mem1520[ebp_100 - 0xB4 + 0x00:word32];
				else if (Mem1520[ebp_100 - 0x40 + 0x00:word32] != 0x00)
				{
					Mem2159[135774784:byte] = 0x00;
					Mem2160[ebp_100 - 0x40 + 0x00:word32] = 0x00;
					if (Mem2160[ebp_100 - 0x3C + 0x00:word32] == 0x00)
					{
						word32 eax_2303;
						word32 edx_2296 = Mem2160[0x081807A0:word32];
						if (Mem2160[0x0817C2D8:word32] != 0x00)
							eax_2303 = 0x06;
						else
							eax_2303 = 0x01;
						word32 ecx_2305 = edx_2296 - eax_2303;
						word32 eax_2306 = ecx_2305;
						if (ecx_2305 < 0x00)
							eax_2306 = 0x00;
						Mem2314[esp_103 + 0x00:word32] = eax_2306;
						Mem2316[ebp_100 - 0x3C + 0x00:word32] = newBuffer(eax_2306, dwArg00);
					}
					word32 edx_2168 = Mem2160[ebp_100 - 0x44 + 0x00:word32];
					word32 eax_2169 = Mem2160[ebp_100 - 0x3C + 0x00:word32];
					Mem2171[esp_103 + 0x0C:word32] = ebp_100 - 0xF0;
					Mem2172[esp_103 + 0x08:word32] = edx_2168;
					Mem2173[esp_103 + 0x04:word32] = eax_2169;
					Mem2175[esp_103 + 0x00:word32] = ebp_100 - 200;
					readHeader(ebp_100 - 200, ebp_100, gs, dwArg00, dwArg04, dwArg08);
					if ((byte) (word32) Mem2175[ebp_100 - 199 + 0x00:byte] != 0x00)
					{
						word32 eax_2193 = Mem2175[ebp_100 - 0x3C + 0x00:word32];
						Mem2194[esp_103 + 0x04:word32] = 0x080C97B3;
						Mem2195[esp_103 + 0x00:word32] = eax_2193;
						word32 edx_2196;
						Mem2198[ebp_100 - 0x34 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_2196);
						if (Mem2198[ebp_100 - 0x34 + 0x00:word32] != 0x00)
						{
							Mem2202[esp_103 + 0x00:word32] = ebp_100 - 0xF0;
							if (checkRedirection(ebp_100, gs, dwArg00) != 0x00)
							{
								word32 esi_2207 = Mem2202[135091060:word32];
								word32 ebx_2208 = Mem2202[135091052:word32];
								Mem2210[esp_103 + 0x00:word32] = Mem2202[ebp_100 - 0x34 + 0x00:word32];
								word32 edx_2211;
								word32 eax_2212 = remove_space(dwArg00, out edx_2211);
								Mem2213[esp_103 + 0x00:word32] = eax_2212;
								Strnew_charp(eax_2212, dwArg00);
								Mem2214[esp_103 + 0x08:word32] = esi_2207;
								Mem2215[esp_103 + 0x04:word32] = ebx_2208;
								Mem2216[esp_103 + 0x00:word32] = eax_2212;
								word32 ebx_2217;
								Mem2220[esp_103 + 0x00:word32] = Mem2216[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_2217) + 0x00:word32];
								Mem2222[ebp_100 - 44 + 0x00:word32] = url_quote(dwArg00);
								Mem2223[ebp_100 + 0x18:word32] = 0x00;
								Mem2225[esp_103 + 0x00:word32] = Mem2223[ebp_100 - 0xC4 + 0x00:word32];
								word32 eax_2226 = ISclose(dwArg00);
								if (eax_2226 == 0x00)
									Mem2291[ebp_100 - 0xC4 + 0x00:word32] = 0x00;
								word32 eax_2263;
								Mem2231[ebp_100 - 0x5C + 0x00:word32] = 0x00;
								Mem2232[esp_103 + 0x00:word32] = 0x28;
								word32 edi_2235;
								word32 esi_2236;
								word32 ebx_2237;
								byte SCZO_2238;
								word32 eax_2239;
								byte al_2240;
								byte SZO_2241;
								byte C_2242;
								byte Z_2243;
								word32 ecx_2244;
								word32 edx_2245;
								byte S_2246;
								word16 dx_2247;
								byte dl_2248;
								byte bpl_2250;
								!GC_malloc();
								Mem2251[ebp_100 + 0x0C:word32] = eax_2239;
								word32 eax_2252 = Mem2251[ebp_100 + 0x0C:word32];
								Mem2254[esp_103 + 0x04:word32] = ebp_100 - 0xF0;
								Mem2255[esp_103 + 0x00:word32] = eax_2252;
								copyParsedURL(dwArg00, dwArg04);
								word32 edx_2256 = Mem2255[0x081807A0:word32];
								if (Mem2255[0x0817C2D8:word32] != 0x00)
									eax_2263 = 0x06;
								else
									eax_2263 = 0x01;
								word32 ecx_2265 = edx_2256 - eax_2263;
								word32 eax_2266 = ecx_2265;
								if (ecx_2265 < 0x00)
									eax_2266 = 0x00;
								Mem2274[esp_103 + 0x00:word32] = eax_2266;
								Mem2276[ebp_100 - 0x3C + 0x00:word32] = newBuffer(eax_2266, dwArg00);
								word32 eax_2277 = Mem2276[ebp_100 - 0x3C + 0x00:word32];
								Mem2283[eax_2277 + 0x40:word16] = (word16) ((word32) Mem2276[eax_2277 + 0x40:word16] | 0x20);
								Mem2284[ebp_100 - 0x19 + 0x00:byte] = 0x00;
								continue;
							}
						}
					}
					Mem2184[esp_103 + 0x00:word32] = Mem2175[ebp_100 - 0x3C + 0x00:word32];
					byte bpl_2185;
					Mem2187[ebp_100 - 0x30 + 0x00:word32] = checkContentType(gs, dwArg00, out bpl_2185);
					if (Mem2187[ebp_100 - 0x30 + 0x00:word32] == 0x00)
						Mem2192[ebp_100 - 0x30 + 0x00:word32] = 135041053;
				}
				else if (Mem1520[135774788:word32] != 0x00)
				{
					Mem2328[ebp_100 - 0x30 + 0x00:word32] = Mem1520[135774788:word32];
					Mem2329[135774788:word32] = 0x00;
				}
				else
				{
					Mem2331[esp_103 + 0x00:word32] = Mem1520[ebp_100 - 220 + 0x00:word32];
					Mem2333[ebp_100 - 0x30 + 0x00:word32] = guessContentType(dwArg00);
					if (Mem2333[ebp_100 - 0x30 + 0x00:word32] == 0x00)
						Mem2346[ebp_100 - 0x30 + 0x00:word32] = 135041053;
					Mem2339[ebp_100 - 0x38 + 0x00:word32] = Mem2333[ebp_100 - 0x30 + 0x00:word32];
					if (Mem2339[ebp_100 - 0xB4 + 0x00:word32] != 0x00)
						Mem2345[ebp_100 - 0x30 + 0x00:word32] = Mem2339[ebp_100 - 0xB4 + 0x00:word32];
				}
				goto l0805ECF5;
			}
			word32 eax_2066 = (int32) (byte) (word32) Mem1520[Mem1520[ebp_100 - 220 + 0x00:word32] + 0x00:byte];
			if (eax_2066 == 0x67)
			{
				Mem2114[ebp_100 - 0x30 + 0x00:word32] = 0x080C981E;
				goto l0805ECF5;
			}
			if (eax_2066 <= 0x67)
			{
				if (eax_2066 != 0x30)
				{
					if (eax_2066 == 0x31)
					{
l0805E9A0:
						Mem2074[esp_103 + 0x08:word32] = ebp_100 - 0x68;
						Mem2076[esp_103 + 0x04:word32] = ebp_100 - 0xF0;
						Mem2078[esp_103 + 0x00:word32] = ebp_100 - 200;
						byte bpl_2079;
						Mem2081[ebp_100 - 100 + 0x00:word32] = loadGopherDir(ebp_100, gs, dwArg04, out bpl_2079);
						Mem2082[ebp_100 - 0x30 + 0x00:word32] = 0x080C9801;
						if ((byte) (word32) Mem2082[0x080D52C5:byte] != 0x00)
						{
							if ((byte) (word32) Mem2082[135774799:byte] != 0x00)
								term_raw(gs);
							if (Mem2082[ebp_100 - 0x48 + 0x00:word32] != 0x00)
							{
								Mem2098[esp_103 + 0x04:word32] = Mem2082[ebp_100 - 0x48 + 0x00:word32];
								Mem2099[esp_103 + 0x00:word32] = 0x02;
								mySignal(dwArg00, dwArg04);
							}
						}
						goto l0805ED13;
					}
				}
				else
					Mem2105[ebp_100 - 0x30 + 0x00:word32] = 135041053;
			}
			else
			{
				if (eax_2066 == 0x6D)
					goto l0805E9A0;
				if (eax_2066 != 115)
				{
					if (eax_2066 == 0x68)
						Mem2112[ebp_100 - 0x30 + 0x00:word32] = 0x080C9028;
				}
				else
					Mem2113[ebp_100 - 0x30 + 0x00:word32] = 0x080C9812;
			}
l0805ECF5:
			Mem1554[ebp_100 - 0xB4 + 0x00:word32] = Mem1520[ebp_100 - 0x30 + 0x00:word32];
			goto l0805ED13;
		}
l0805E338:
		if ((byte) (word32) Mem1520[135774799:byte] != 0x00)
		{
			term_cbreak(gs);
			Mem1985[esp_103 + 0x04:word32] = Mem1520[ebp_100 - 228 + 0x00:word32];
			Mem1986[esp_103 + 0x00:word32] = 0x080C9790;
			byte bpl_1987;
			word32 eax_1989 = Mem1986[Sprintf(dwArg00, out bpl_1987) + 0x00:word32];
			Mem1990[esp_103 + 0x08:word32] = 0x00;
			Mem1991[esp_103 + 0x04:word32] = 0x00;
			Mem1992[esp_103 + 0x00:word32] = eax_1989;
			message(dwArg00, dwArg04, dwArg08);
			refresh(ebp_100);
		}
		if (Mem1520[ebp_100 - 0x3C + 0x00:word32] == 0x00)
		{
			word32 eax_1964;
			word32 edx_1957 = Mem1520[0x081807A0:word32];
			if (Mem1520[0x0817C2D8:word32] != 0x00)
				eax_1964 = 0x06;
			else
				eax_1964 = 0x01;
			word32 ecx_1966 = edx_1957 - eax_1964;
			word32 eax_1967 = ecx_1966;
			if (ecx_1966 < 0x00)
				eax_1967 = 0x00;
			Mem1975[esp_103 + 0x00:word32] = eax_1967;
			Mem1977[ebp_100 - 0x3C + 0x00:word32] = newBuffer(eax_1967, dwArg00);
		}
		word32 eax_1573 = Mem1520[ebp_100 - 0x3C + 0x00:word32];
		Mem1575[esp_103 + 0x0C:word32] = ebp_100 - 0xF0;
		Mem1576[esp_103 + 0x08:word32] = 0x00;
		Mem1577[esp_103 + 0x04:word32] = eax_1573;
		Mem1579[esp_103 + 0x00:word32] = ebp_100 - 200;
		readHeader(ebp_100 - 200, ebp_100, gs, dwArg00, dwArg04, dwArg08);
		if (Mem1579[0x0817C890:word32] > 300 && Mem1579[0x0817C890:word32] <= 303 || Mem1579[0x0817C890:word32] == 0x0133)
		{
			word32 eax_1851 = Mem1579[ebp_100 - 0x3C + 0x00:word32];
			Mem1852[esp_103 + 0x04:word32] = 0x080C97B3;
			Mem1853[esp_103 + 0x00:word32] = eax_1851;
			word32 edx_1854;
			Mem1856[ebp_100 - 0x34 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_1854);
			if (Mem1856[ebp_100 - 0x34 + 0x00:word32] != 0x00)
			{
				Mem1860[esp_103 + 0x00:word32] = ebp_100 - 0xF0;
				if (checkRedirection(ebp_100, gs, dwArg00) != 0x00)
				{
					word32 esi_1865 = Mem1860[135091060:word32];
					word32 ebx_1866 = Mem1860[135091052:word32];
					word32 eax_1867 = Mem1860[ebp_100 - 0x34 + 0x00:word32];
					Mem1868[esp_103 + 0x00:word32] = eax_1867;
					Strnew_charp(eax_1867, dwArg00);
					Mem1869[esp_103 + 0x08:word32] = esi_1865;
					Mem1870[esp_103 + 0x04:word32] = ebx_1866;
					Mem1871[esp_103 + 0x00:word32] = eax_1867;
					word32 ebx_1872;
					Mem1875[esp_103 + 0x00:word32] = Mem1871[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_1872) + 0x00:word32];
					Mem1877[ebp_100 - 44 + 0x00:word32] = url_quote(dwArg00);
					Mem1878[ebp_100 + 0x18:word32] = 0x00;
					Mem1880[esp_103 + 0x00:word32] = Mem1878[ebp_100 - 0xC4 + 0x00:word32];
					word32 eax_1881 = ISclose(dwArg00);
					if (eax_1881 == 0x00)
						Mem1945[ebp_100 - 0xC4 + 0x00:word32] = 0x00;
					word32 eax_1917;
					Mem1886[esp_103 + 0x00:word32] = 0x28;
					word32 edi_1889;
					word32 esi_1890;
					word32 ebx_1891;
					byte SCZO_1892;
					word32 eax_1893;
					byte al_1894;
					byte SZO_1895;
					byte C_1896;
					byte Z_1897;
					word32 ecx_1898;
					word32 edx_1899;
					byte S_1900;
					word16 dx_1901;
					byte dl_1902;
					byte bpl_1904;
					!GC_malloc();
					Mem1905[ebp_100 + 0x0C:word32] = eax_1893;
					word32 eax_1906 = Mem1905[ebp_100 + 0x0C:word32];
					Mem1908[esp_103 + 0x04:word32] = ebp_100 - 0xF0;
					Mem1909[esp_103 + 0x00:word32] = eax_1906;
					copyParsedURL(dwArg00, dwArg04);
					word32 edx_1910 = Mem1909[0x081807A0:word32];
					if (Mem1909[0x0817C2D8:word32] != 0x00)
						eax_1917 = 0x06;
					else
						eax_1917 = 0x01;
					word32 ecx_1919 = edx_1910 - eax_1917;
					word32 eax_1920 = ecx_1919;
					if (ecx_1919 < 0x00)
						eax_1920 = 0x00;
					Mem1928[esp_103 + 0x00:word32] = eax_1920;
					Mem1930[ebp_100 - 0x3C + 0x00:word32] = newBuffer(eax_1920, dwArg00);
					word32 eax_1931 = Mem1930[ebp_100 - 0x3C + 0x00:word32];
					Mem1937[eax_1931 + 0x40:word16] = (word16) ((word32) Mem1930[eax_1931 + 0x40:word16] | 0x20);
					Mem1938[ebp_100 - 0x19 + 0x00:byte] = 0x00;
					continue;
				}
			}
		}
		Mem1586[esp_103 + 0x00:word32] = Mem1579[ebp_100 - 0x3C + 0x00:word32];
		byte bpl_1587;
		Mem1589[ebp_100 - 0x30 + 0x00:word32] = checkContentType(gs, dwArg00, out bpl_1587);
		if (Mem1589[ebp_100 - 0x30 + 0x00:word32] == 0x00 && (Mem1589[(ebp_100 - 220) + 0x00:word32] != 0x00 && (Mem1589[0x0817C890:word32] <= 399 || Mem1589[0x0817C890:word32] > 0x0197)) && (Mem1589[0x0817C890:word32] <= 499 || Mem1589[0x0817C890:word32] > 505))
		{
			Mem1841[esp_103 + 0x00:word32] = Mem1589[ebp_100 - 220 + 0x00:word32];
			Mem1843[ebp_100 - 0x30 + 0x00:word32] = guessContentType(dwArg00);
		}
		if (Mem1589[ebp_100 - 0x30 + 0x00:word32] == 0x00)
			Mem1827[ebp_100 - 0x30 + 0x00:word32] = 135041053;
		if (Mem1589[ebp_100 - 0x5C + 0x00:word32] != 0x00 && (Mem1589[(ebp_100 - 88) + 0x00:word32] != 0x00 && (Mem1589[(ebp_100 - 0x50) + 0x00:word32] != 0x00 && Mem1589[(ebp_100 - 0x54) + 0x00:word32] != 0x00)))
		{
			word32 esi_1813 = Mem1589[ebp_100 - 0x54 + 0x00:word32];
			word32 ebx_1814 = Mem1589[ebp_100 - 0x50 + 0x00:word32];
			Mem1816[esp_103 + 0x00:word32] = Mem1589[ebp_100 - 88 + 0x00:word32];
			word32 eax_1818 = Mem1816[qstr_unquote(dwArg00) + 0x00:word32];
			Mem1819[esp_103 + 0x10:word32] = 0x00;
			Mem1820[esp_103 + 0x0C:word32] = esi_1813;
			Mem1821[esp_103 + 0x08:word32] = ebx_1814;
			Mem1822[esp_103 + 0x04:word32] = eax_1818;
			Mem1824[esp_103 + 0x00:word32] = ebp_100 - 0xF0;
			add_auth_user_passwd(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
			Mem1826[ebp_100 - 0x5C + 0x00:word32] = 0x00;
		}
		word32 eax_1607 = Mem1589[ebp_100 - 0x3C + 0x00:word32];
		Mem1608[esp_103 + 0x04:word32] = 135043005;
		Mem1609[esp_103 + 0x00:word32] = eax_1607;
		word32 edx_1610;
		Mem1612[ebp_100 - 0x34 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_1610);
		if (Mem1612[ebp_100 - 0x34 + 0x00:word32] != 0x00 && Mem1612[0x0817C890:word32] == 0x0191)
		{
			word32 eax_1726 = Mem1612[ebp_100 - 0x3C + 0x00:word32];
			Mem1727[esp_103 + 0x08:word32] = 135043005;
			Mem1728[esp_103 + 0x04:word32] = eax_1726;
			Mem1730[esp_103 + 0x00:word32] = ebp_100 - 0x0148;
			byte bpl_1731;
			if (findAuthentication(ebp_100, dwArg00, dwArg04, dwArg08, out bpl_1731) != 0x00)
			{
				word32 eax_1736 = Mem1730[ebp_100 - 0x0140 + 0x00:word32];
				Mem1737[esp_103 + 0x04:word32] = 0x080C961F;
				Mem1738[esp_103 + 0x00:word32] = eax_1736;
				Mem1740[ebp_100 - 88 + 0x00:word32] = get_auth_param(dwArg00, dwArg04);
				if (Mem1740[ebp_100 - 88 + 0x00:word32] != 0x00)
				{
					Mem1746[ebp_100 - 0x6C + 0x00:word32] = ebp_100 - 0xF0;
					word32 edx_1747 = Mem1746[ebp_100 + 0x18:word32];
					word32 eax_1748 = Mem1746[ebp_100 - 0x6C + 0x00:word32];
					Mem1750[esp_103 + 0x1C:word32] = ebp_100 - 0x54;
					Mem1752[esp_103 + 0x18:word32] = ebp_100 - 0x50;
					Mem1753[esp_103 + 0x14:word32] = edx_1747;
					Mem1755[esp_103 + 0x10:word32] = ebp_100 - 0xA8;
					Mem1756[esp_103 + 0x0C:word32] = eax_1748;
					Mem1758[esp_103 + 0x08:word32] = Mem1756[ebp_100 - 0x4C + 0x00:word32];
					Mem1759[esp_103 + 0x04:word32] = 0x080C97CF;
					Mem1761[esp_103 + 0x00:word32] = ebp_100 - 0x0148;
					ebp_100 = DPB(ebp_100, getAuthCookie(ebp_100, gs, dwArg00, dwArg04, dwArg08), 0);
					if (Mem1761[ebp_100 - 0x50 + 0x00:word32] != 0x00)
					{
						Mem1787[esp_103 + 0x00:word32] = Mem1761[ebp_100 - 0xC4 + 0x00:word32];
						if (ISclose(dwArg00) == 0x00)
							Mem1797[ebp_100 - 0xC4 + 0x00:word32] = 0x00;
						Mem1795[ebp_100 - 0x5C + 0x00:word32] = 0x01;
						Mem1796[ebp_100 - 0x19 + 0x00:byte] = 0x00;
						continue;
					}
					else
					{
						if ((byte) (word32) Mem1761[0x080D52C5:byte] != 0x00)
						{
							if ((byte) (word32) Mem1761[135774799:byte] != 0x00)
								term_raw(gs);
							if (Mem1761[ebp_100 - 0x48 + 0x00:word32] != 0x00)
							{
								Mem1783[esp_103 + 0x04:word32] = Mem1761[ebp_100 - 0x48 + 0x00:word32];
								Mem1784[esp_103 + 0x00:word32] = 0x02;
								mySignal(dwArg00, dwArg04);
							}
						}
						goto l0805ED13;
					}
				}
			}
		}
		word32 eax_1618 = Mem1612[ebp_100 - 0x3C + 0x00:word32];
		Mem1619[esp_103 + 0x04:word32] = 135043038;
		Mem1620[esp_103 + 0x00:word32] = eax_1618;
		word32 edx_1621;
		Mem1623[ebp_100 - 0x34 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_1621);
		if (Mem1623[ebp_100 - 0x34 + 0x00:word32] != 0x00 && Mem1623[0x0817C890:word32] == 0x0197)
		{
			word32 eax_1646 = Mem1623[ebp_100 - 0x3C + 0x00:word32];
			Mem1647[esp_103 + 0x08:word32] = 135043038;
			Mem1648[esp_103 + 0x04:word32] = eax_1646;
			Mem1650[esp_103 + 0x00:word32] = ebp_100 - 0x0148;
			byte bpl_1651;
			if (findAuthentication(ebp_100, dwArg00, dwArg04, dwArg08, out bpl_1651) != 0x00)
			{
				word32 eax_1656 = Mem1650[ebp_100 - 0x0140 + 0x00:word32];
				Mem1657[esp_103 + 0x04:word32] = 0x080C961F;
				Mem1658[esp_103 + 0x00:word32] = eax_1656;
				Mem1660[ebp_100 - 88 + 0x00:word32] = get_auth_param(dwArg00, dwArg04);
				if (Mem1660[ebp_100 - 88 + 0x00:word32] != 0x00)
				{
					Mem1666[esp_103 + 0x00:word32] = Mem1660[ebp_100 - 0xF0 + 0x00:word32];
					Mem1668[ebp_100 - 0x6C + 0x00:word32] = schemeToProxy(dwArg00);
					word32 edx_1669 = Mem1668[ebp_100 + 0x18:word32];
					word32 eax_1670 = Mem1668[ebp_100 - 0x6C + 0x00:word32];
					Mem1672[esp_103 + 0x1C:word32] = ebp_100 - 0x54;
					Mem1674[esp_103 + 0x18:word32] = ebp_100 - 0x50;
					Mem1675[esp_103 + 0x14:word32] = edx_1669;
					Mem1677[esp_103 + 0x10:word32] = ebp_100 - 0xA8;
					Mem1678[esp_103 + 0x0C:word32] = eax_1670;
					Mem1680[esp_103 + 0x08:word32] = Mem1678[ebp_100 - 0x4C + 0x00:word32];
					Mem1681[esp_103 + 0x04:word32] = 0x080C9625;
					Mem1683[esp_103 + 0x00:word32] = ebp_100 - 0x0148;
					ebp_100 = DPB(ebp_100, getAuthCookie(ebp_100, gs, dwArg00, dwArg04, dwArg08), 0);
					if (Mem1683[ebp_100 - 0x50 + 0x00:word32] != 0x00)
					{
						Mem1709[esp_103 + 0x00:word32] = Mem1683[ebp_100 - 0xC4 + 0x00:word32];
						if (ISclose(dwArg00) == 0x00)
							Mem1719[ebp_100 - 0xC4 + 0x00:word32] = 0x00;
						Mem1717[ebp_100 - 0x5C + 0x00:word32] = 0x01;
						Mem1718[ebp_100 - 0x19 + 0x00:byte] = 0x00;
						continue;
					}
					else
					{
						if ((byte) (word32) Mem1683[0x080D52C5:byte] != 0x00)
						{
							if ((byte) (word32) Mem1683[135774799:byte] != 0x00)
								term_raw(gs);
							if (Mem1683[ebp_100 - 0x48 + 0x00:word32] != 0x00)
							{
								Mem1705[esp_103 + 0x04:word32] = Mem1683[ebp_100 - 0x48 + 0x00:word32];
								Mem1706[esp_103 + 0x00:word32] = 0x02;
								mySignal(dwArg00, dwArg04);
							}
						}
						goto l0805ED13;
					}
				}
			}
		}
		if ((byte) (word32) Mem1623[ebp_100 - 0x19 + 0x00:byte] != 0x01)
		{
			word32 eax_1635 = Mem1623[ebp_100 - 0x3C + 0x00:word32];
			Mem1636[esp_103 + 0x04:word32] = 135043058;
			Mem1637[esp_103 + 0x00:word32] = eax_1635;
			word32 edx_1638;
			Mem1640[esp_103 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_1638);
			Mem1642[ebp_100 - 0xAC + 0x00:word32] = mymktime(dwArg00);
			goto l0805ECF5;
		}
		Mem1634[ebp_100 - 0x20 + 0x00:word32] = ebp_100 - 200;
	}
	word32 eax_1261 = (word32) (byte) (word32) Mem121[ebp_100 - 200 + 0x00:byte];
	if (eax_1261 != 0x04)
	{
		if (eax_1261 <= 0x04)
		{
			if (eax_1261 == 0x03)
			{
				Mem1286[esp_101 + 0x04:word32] = ebp_100 - 0x68;
				Mem1288[esp_101 + 0x00:word32] = ebp_100 - 0xF0;
				byte bpl_1289;
				Mem1291[ebp_100 - 100 + 0x00:word32] = loadFTPDir(ebp_100, gs, dwArg04, out bpl_1289);
				Mem1292[ebp_100 - 0x30 + 0x00:word32] = 0x080C9765;
			}
		}
		else if (eax_1261 != 0x0A)
		{
			if (eax_1261 == 0xFF)
			{
				Mem1298[esp_101 + 0x00:word32] = ebp_100 - 0xF0;
				Mem1300[ebp_100 - 0x60 + 0x00:word32] = searchURIMethods(ebp_100, dwArg00);
				if (Mem1300[ebp_100 - 0x60 + 0x00:word32] != 0x00)
				{
					word32 edx_1304 = Mem1300[ebp_100 + 0x0C:word32];
					word32 eax_1306 = Mem1300[Mem1300[ebp_100 - 0x60 + 0x00:word32] + 0x00:word32];
					Mem1307[esp_101 + 0x10:word32] = Mem1300[ebp_100 + 0x18:word32];
					Mem1309[esp_101 + 0x0C:word32] = Mem1307[ebp_100 + 0x14:word32];
					Mem1311[esp_101 + 0x08:word32] = Mem1309[ebp_100 + 0x10:word32];
					Mem1312[esp_101 + 0x04:word32] = edx_1304;
					Mem1313[esp_101 + 0x00:word32] = eax_1306;
					Mem1315[ebp_100 - 0x24 + 0x00:word32] = loadGeneralFile(ebp_100, gs, dwArg00);
					if (Mem1315[ebp_100 - 0x24 + 0x00:word32] != 0x00 && Mem1315[(ebp_100 - 0x24) + 0x00:word32] != 0x01)
					{
						word32 eax_1328 = Mem1315[ebp_100 - 0x24 + 0x00:word32];
						Mem1331[esp_101 + 0x04:word32] = ebp_100 - 0xF0;
						Mem1332[esp_101 + 0x00:word32] = eax_1328 + 0x84;
						copyParsedURL(dwArg00, dwArg04);
					}
					eax_1057 = Mem1315[ebp_100 - 0x24 + 0x00:word32];
					return eax_1057;
				}
				Mem1334[esp_101 + 0x00:word32] = ebp_100 - 0xF0;
				byte bpl_1335;
				Mem1338[esp_101 + 0x04:word32] = Mem1334[parsedURL2Str(dwArg00, out bpl_1335) + 0x00:word32];
				Mem1339[esp_101 + 0x00:word32] = 0x080C977E;
				byte bpl_1340;
				word32 eax_1342 = Mem1339[Sprintf(dwArg00, out bpl_1340) + 0x00:word32];
				Mem1343[esp_101 + 0x04:word32] = 0x00;
				Mem1344[esp_101 + 0x00:word32] = eax_1342;
				byte bpl_1345;
				disp_err_message(gs, dwArg00, dwArg04, out bpl_1345);
			}
		}
		else
		{
			Mem1348[esp_101 + 0x04:word32] = ebp_100 - 0x68;
			Mem1350[esp_101 + 0x00:word32] = ebp_100 - 0xF0;
			byte bpl_1351;
			Mem1353[ebp_100 - 100 + 0x00:word32] = loadNewsgroup(ebp_100, gs, dwArg00, dwArg04, out bpl_1351);
			Mem1354[ebp_100 - 0x30 + 0x00:word32] = 0x080C9773;
		}
	}
	else
	{
		word32 eax_1355 = Mem121[ebp_100 - 0xD8 + 0x00:word32];
		Mem1357[esp_101 + 0x04:word32] = ebp_100 - 0x0148;
		Mem1358[esp_101 + 0x00:word32] = eax_1355;
		if (stat(dwArg00, dwArg04) < 0x00)
		{
			eax_1057 = 0x00;
			return eax_1057;
		}
		if ((Mem1358[ebp_100 - 0x0138 + 0x00:word32] & 0xF000) == 0x4000)
		{
			if (Mem1358[0x080D533C:word32] != 0x00)
			{
				word32 eax_1374 = Mem1358[0x080D5340:word32];
				Mem1375[esp_101 + 0x08:word32] = Mem1358[ebp_100 - 220 + 0x00:word32];
				Mem1376[esp_101 + 0x04:word32] = eax_1374;
				Mem1377[esp_101 + 0x00:word32] = 0x080C9743;
				byte bpl_1378;
				Mem1380[ebp_100 - 0x70 + 0x00:word32] = Sprintf(dwArg00, out bpl_1378);
				word32 eax_1382 = Mem1380[Mem1380[ebp_100 - 0x70 + 0x00:word32] + 0x00:word32];
				Mem1383[esp_101 + 0x10:word32] = 0x00;
				Mem1384[esp_101 + 0x0C:word32] = 0x00;
				Mem1385[esp_101 + 0x08:word32] = ~0x00;
				Mem1386[esp_101 + 0x04:word32] = 0x00;
				Mem1387[esp_101 + 0x00:word32] = eax_1382;
				Mem1389[ebp_100 - 0x24 + 0x00:word32] = loadGeneralFile(ebp_100, gs, dwArg00);
				if (Mem1389[ebp_100 - 0x24 + 0x00:word32] != 0x00 && Mem1389[(ebp_100 - 0x24) + 0x00:word32] != 0x01)
				{
					word32 eax_1402 = Mem1389[ebp_100 - 0x24 + 0x00:word32];
					Mem1405[esp_101 + 0x04:word32] = ebp_100 - 0xF0;
					Mem1406[esp_101 + 0x00:word32] = eax_1402 + 0x84;
					copyParsedURL(dwArg00, dwArg04);
					Mem1410[Mem1406[ebp_100 - 0x24 + 0x00:word32] + 0x00:word32] = Mem1406[Mem1406[ebp_100 - 0x24 + 0x00:word32] + 0x9C:word32];
				}
				eax_1057 = Mem1389[ebp_100 - 0x24 + 0x00:word32];
				return eax_1057;
			}
			Mem1412[esp_101 + 0x00:word32] = Mem1358[ebp_100 - 0xD8 + 0x00:word32];
			byte bpl_1413;
			Mem1415[ebp_100 - 100 + 0x00:word32] = loadLocalDir(ebp_100, gs, dwArg00, out bpl_1413);
			Mem1416[ebp_100 - 0x30 + 0x00:word32] = 0x080C9755;
			Mem1418[ebp_100 - 0x68 + 0x00:word32] = Mem1416[0x080D5378:word32];
		}
	}
	if (Mem121[ebp_100 - 100 + 0x00:word32] == 0x00 || Mem121[Mem121[(ebp_100 - 100) + 0x00:word32] + 0x04:word32] <= 0x00)
	{
		eax_1057 = 0x00;
		return eax_1057;
	}
l0805ED13:
	if (Mem121[ebp_100 - 100 + 0x00:word32] != 0x00)
	{
		if (Mem121[0x0817C2F8:word32] != 0x00)
			eax_1057 = 0x00;
		else
		{
			Mem174[esp_103 + 0x04:word32] = 0x080C9828;
			Mem175[esp_103 + 0x00:word32] = 0x01;
			byte bpl_176;
			Mem178[ebp_100 - 0x60 + 0x00:word32] = tmpfname(ebp_100, dwArg00, dwArg04, out bpl_176);
			word32 eax_181 = Mem178[Mem178[ebp_100 - 0x60 + 0x00:word32] + 0x00:word32];
			Mem182[esp_103 + 0x04:word32] = 0x080C9070;
			Mem183[esp_103 + 0x00:word32] = eax_181;
			Mem185[ebp_100 - 0x78 + 0x00:word32] = fopen(Mem183[esp_103 + 0x00:(ptr char)], Mem183[esp_103 + 0x04:(ptr char)]);
			if (Mem185[ebp_100 - 0x78 + 0x00:word32] != 0x00)
			{
				word32 edx_268 = Mem185[135091052:word32];
				word32 eax_269 = Mem185[ebp_100 - 100 + 0x00:word32];
				Mem270[esp_103 + 0x08:word32] = Mem185[ebp_100 - 0x68 + 0x00:word32];
				Mem271[esp_103 + 0x04:word32] = edx_268;
				Mem272[esp_103 + 0x00:word32] = eax_269;
				word32 ebx_273;
				Mem275[ebp_100 - 0x7C + 0x00:word32] = wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_273);
				word32 eax_277 = Mem275[Mem275[ebp_100 - 0x7C + 0x00:word32] + 0x04:word32];
				word32 eax_280 = Mem275[Mem275[ebp_100 - 0x7C + 0x00:word32] + 0x00:word32];
				Mem282[esp_103 + 0x0C:word32] = Mem275[ebp_100 - 0x78 + 0x00:word32];
				Mem283[esp_103 + 0x08:word32] = eax_277;
				Mem284[esp_103 + 0x04:word32] = 0x01;
				Mem285[esp_103 + 0x00:word32] = eax_280;
				fwrite(Mem285[esp_103 + 0x00:(ptr void)], Mem285[esp_103 + 0x04:size_t], Mem285[esp_103 + 0x08:size_t], Mem285[esp_103 + 0x0C:(ptr FILE)]);
				Mem288[esp_103 + 0x00:word32] = Mem285[ebp_100 - 0x78 + 0x00:word32];
				fclose(Mem288[esp_103 + 0x00:(ptr FILE)]);
			}
			if (Mem185[135774964:word32] != 0x00)
			{
				if (Mem185[ebp_100 - 0x78 + 0x00:word32] == 0x00)
					eax_1057 = 0x00;
				else
				{
					Mem200[esp_103 + 0x00:word32] = Mem185[ebp_100 - 220 + 0x00:word32];
					Mem202[ebp_100 - 0x80 + 0x00:word32] = guess_filename(dwArg00);
					if ((byte) (word32) Mem202[ebp_100 - 200 + 0x00:byte] == 0x01)
					{
						Mem228[esp_103 + 0x04:word32] = Mem202[ebp_100 - 0x80 + 0x00:word32];
						Mem229[esp_103 + 0x00:word32] = 0x080C982E;
						byte bpl_230;
						Mem233[ebp_100 - 0x80 + 0x00:word32] = Mem229[Sprintf(dwArg00, out bpl_230) + 0x00:word32];
					}
					if ((byte) (word32) Mem202[ebp_100 - 200 + 0x00:byte] == 0x0A)
					{
						Mem221[esp_103 + 0x04:word32] = Mem202[ebp_100 - 0x80 + 0x00:word32];
						Mem222[esp_103 + 0x00:word32] = 0x080C982E;
						byte bpl_223;
						Mem226[ebp_100 - 0x80 + 0x00:word32] = Mem222[Sprintf(dwArg00, out bpl_223) + 0x00:word32];
					}
					word32 eax_214 = Mem202[Mem202[ebp_100 - 0x60 + 0x00:word32] + 0x00:word32];
					Mem216[esp_103 + 0x04:word32] = Mem202[ebp_100 - 0x80 + 0x00:word32];
					Mem217[esp_103 + 0x00:word32] = eax_214;
					doFileMove(gs, dwArg00, dwArg04);
					eax_1057 = 0x01;
				}
			}
			else
			{
				Mem235[esp_103 + 0x00:word32] = Mem185[ebp_100 - 100 + 0x00:word32];
				Mem237[ebp_100 - 0x24 + 0x00:word32] = loadHTMLString(ebp_100, gs, dwArg00);
				if (Mem237[ebp_100 - 0x24 + 0x00:word32] != 0x00)
				{
					word32 eax_247 = Mem237[ebp_100 - 0x24 + 0x00:word32];
					Mem250[esp_103 + 0x04:word32] = ebp_100 - 0xF0;
					Mem251[esp_103 + 0x00:word32] = eax_247 + 0x84;
					copyParsedURL(dwArg00, dwArg04);
					Mem254[Mem251[ebp_100 - 0x24 + 0x00:word32] + 0xB4:word32] = Mem251[ebp_100 - 0xF0 + 0x00:word32];
					Mem257[Mem254[ebp_100 - 0x24 + 0x00:word32] + 0x38:word32] = Mem254[ebp_100 - 0x30 + 0x00:word32];
					if (Mem257[ebp_100 - 0x78 + 0x00:word32] != 0x00)
						Mem266[Mem257[ebp_100 - 0x24 + 0x00:word32] + 0xB8:word32] = Mem257[Mem257[ebp_100 - 0x60 + 0x00:word32] + 0x00:word32];
					Mem262[Mem257[ebp_100 - 0x24 + 0x00:word32] + 0xD0:word32] = Mem257[ebp_100 - 0x68 + 0x00:word32];
				}
				eax_1057 = Mem237[ebp_100 - 0x24 + 0x00:word32];
			}
		}
		return eax_1057;
	}
	if (Mem121[ebp_100 - 0x38 + 0x00:word32] == 0x00)
		Mem1258[ebp_100 - 0x38 + 0x00:word32] = Mem121[ebp_100 - 0x30 + 0x00:word32];
	Mem295[ebp_100 - 0x28 + 0x00:word32] = 0x0806F5A5;
	Mem296[esp_103 + 0x00:word32] = 0x28;
	word32 esp_297;
	word32 edi_299;
	word32 esi_300;
	word32 ebx_301;
	byte SCZO_302;
	word32 eax_303;
	byte al_304;
	byte SZO_305;
	byte C_306;
	byte Z_307;
	word32 ecx_308;
	word32 edx_309;
	byte S_310;
	word16 dx_311;
	byte dl_312;
	selector gs_313;
	word32 ebp_1186;
	byte bpl_1155;
	!GC_malloc();
	Mem315[0x0817C840:word32] = 0x0806F5A5;
	word32 eax_316 = Mem315[0x0817C840:word32];
	Mem320[esp_297 + 0x04:word32] = ebp_1186 - 0xF0;
	Mem321[esp_297 + 0x00:word32] = eax_316;
	copyParsedURL(dwArg00, dwArg04);
	Mem322[0x0817C8B0:word32] = 0x00;
	Mem323[135776436:word32] = 0x00;
	word32 eax_324 = Mem323[ebp_1186 - 0x3C + 0x00:word32];
	Mem325[esp_297 + 0x04:word32] = 0x080C9836;
	Mem326[esp_297 + 0x00:word32] = eax_324;
	word32 edx_327;
	Mem329[ebp_1186 - 0x34 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_327);
	if (Mem329[ebp_1186 - 0x34 + 0x00:word32] != 0x00)
	{
		Mem1253[esp_297 + 0x00:word32] = Mem329[ebp_1186 - 0x34 + 0x00:word32];
		Mem1255[0x0817C8B0:word32] = strtoclen(dwArg00);
		Mem1256[135776436:word32] = edx_327;
	}
	if (Mem329[135774964:word32] != 0x00)
	{
		if ((byte) (word32) Mem329[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem329[135774799:byte] != 0x00)
				term_raw(gs_313);
			if (Mem329[ebp_1186 - 0x48 + 0x00:word32] != 0x00)
			{
				Mem456[esp_297 + 0x04:word32] = Mem329[ebp_1186 - 0x48 + 0x00:word32];
				Mem457[esp_297 + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		if ((byte) (word32) Mem329[135774795:byte] != 0x00 && (byte) ((word32) Mem329[Mem329[(ebp_1186 - 0xC4) + 0x00:word32] + 0x14:byte]) != 0x04)
		{
			word32 eax_441 = Mem329[ebp_1186 - 0xC4 + 0x00:word32];
			Mem442[esp_297 + 0x04:word32] = (int32) (byte) (word32) Mem329[ebp_1186 - 0xC6 + 0x00:byte];
			Mem443[esp_297 + 0x00:word32] = eax_441;
			Mem445[ebp_1186 - 0xC4 + 0x00:word32] = newEncodedStream(dwArg00, dwArg04);
		}
		if (Mem329[ebp_1186 - 0xF0 + 0x00:word32] == 0x04)
		{
			if ((byte) (word32) Mem329[0x080D52C4:byte] != 0x00)
			{
				word32 eax_417 = Mem329[ebp_1186 - 0xD8 + 0x00:word32];
				Mem419[esp_297 + 0x04:word32] = ebp_1186 - 0x0148;
				Mem420[esp_297 + 0x00:word32] = eax_417;
				if (stat(dwArg00, dwArg04) == 0x00)
					Mem426[ebp_1186 - 0xAC + 0x00:word32] = Mem420[ebp_1186 - 0x0108 + 0x00:word32];
			}
			word32 esi_403 = Mem329[135091052:word32];
			word32 ebx_404 = Mem329[0x080D5378:word32];
			Mem406[esp_297 + 0x04:word32] = Mem329[ebp_1186 - 0xD8 + 0x00:word32];
			Mem407[esp_297 + 0x00:word32] = 0x00;
			word32 eax_408 = guess_save_name(dwArg00, dwArg04);
			Mem409[esp_297 + 0x00:word32] = eax_408;
			Strnew_charp(eax_408, dwArg00);
			Mem410[esp_297 + 0x08:word32] = esi_403;
			Mem411[esp_297 + 0x04:word32] = ebx_404;
			Mem412[esp_297 + 0x00:word32] = eax_408;
			word32 ebx_413;
			Mem416[ebp_1186 - 0x84 + 0x00:word32] = Mem412[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_413) + 0x00:word32];
		}
		else
		{
			word32 eax_428 = Mem329[ebp_1186 - 0x3C + 0x00:word32];
			Mem429[esp_297 + 0x04:word32] = Mem329[ebp_1186 - 220 + 0x00:word32];
			Mem430[esp_297 + 0x00:word32] = eax_428;
			Mem432[ebp_1186 - 0x84 + 0x00:word32] = guess_save_name(dwArg00, dwArg04);
		}
		Mem356[esp_297 + 0x20:word32] = Mem329[ebp_1186 - 0x84 + 0x00:word32];
		Mem358[esp_297 + 0x00:word32] = Mem356[ebp_1186 - 200 + 0x00:word32];
		Mem360[esp_297 + 0x04:word32] = Mem358[ebp_1186 - 0xC4 + 0x00:word32];
		Mem362[esp_297 + 0x08:word32] = Mem360[ebp_1186 - 0xC0 + 0x00:word32];
		Mem364[esp_297 + 0x0C:word32] = Mem362[ebp_1186 - 188 + 0x00:word32];
		Mem366[esp_297 + 0x10:word32] = Mem364[ebp_1186 - 0xB8 + 0x00:word32];
		Mem368[esp_297 + 0x14:word32] = Mem366[ebp_1186 - 0xB4 + 0x00:word32];
		Mem370[esp_297 + 0x18:word32] = Mem368[ebp_1186 - 0xB0 + 0x00:word32];
		Mem372[esp_297 + 0x1C:word32] = Mem370[ebp_1186 - 0xAC + 0x00:word32];
		if (doFileSave(ebp_1186, gs_313, dwArg20) == 0x00)
		{
			Mem383[esp_297 + 0x00:word32] = ebp_1186 - 200;
			UFhalfclose(dwArg00);
		}
		else
		{
			Mem385[esp_297 + 0x00:word32] = Mem372[ebp_1186 - 0xC4 + 0x00:word32];
			if (ISclose(dwArg00) == 0x00)
				Mem390[ebp_1186 - 0xC4 + 0x00:word32] = 0x00;
		}
		eax_1057 = 0x01;
		return eax_1057;
	}
	if (Mem329[ebp_1186 - 0xB8 + 0x00:word32] != 0x00 && ((byte) ((word32) Mem329[135774796:byte]) != 0x00 && (Mem329[135774876:word32] & 0x08) == 0x00))
	{
		Mem1247[esp_297 + 0x04:word32] = ebp_1186 - 0xD8;
		Mem1249[esp_297 + 0x00:word32] = ebp_1186 - 200;
		bpl_1155 = uncompress_stream(ebp_1186, dwArg00);
		ebp_1186 = DPB(ebp_1186, bpl_1155, 0);
		goto l0805F210;
	}
	if (Mem329[ebp_1186 - 188 + 0x00:word32] == 0x00)
		goto l0805F210;
	if ((Mem329[135774876:word32] & 0x04) == 0x00)
	{
		if ((Mem329[135774876:word32] & ~0x20) != 0x00)
		{
l0805F181:
			if (Mem329[ebp_1186 - 0x3C + 0x00:word32] == 0x00)
			{
				word32 eax_1201;
				word32 edx_1194 = Mem329[0x081807A0:word32];
				if (Mem329[0x0817C2D8:word32] != 0x00)
					eax_1201 = 0x06;
				else
					eax_1201 = 0x01;
				word32 ecx_1203 = edx_1194 - eax_1201;
				word32 eax_1204 = ecx_1203;
				if (ecx_1203 < 0x00)
					eax_1204 = 0x00;
				Mem1212[esp_297 + 0x00:word32] = eax_1204;
				Mem1214[ebp_1186 - 0x3C + 0x00:word32] = newBuffer(eax_1204, dwArg00);
			}
			Mem1182[esp_297 + 0x04:word32] = Mem329[ebp_1186 - 0x3C + 0x00:word32] + 0xB8;
			Mem1184[esp_297 + 0x00:word32] = ebp_1186 - 200;
			bpl_1155 = uncompress_stream(ebp_1186, dwArg00);
			ebp_1186 = DPB(ebp_1186, bpl_1155, 0);
			word32 eax_1187 = Mem1184[ebp_1186 - 220 + 0x00:word32];
			Mem1191[esp_297 + 0x04:word32] = ebp_1186 - 0xC0;
			Mem1192[esp_297 + 0x00:word32] = eax_1187;
			uncompressed_file_type(dwArg00, dwArg04);
l0805F210:
			if (Mem329[0x0817C2F8:word32] != 0x00)
			{
				Mem476[ebp_1186 - 0x88 + 0x00:word32] = 0x00;
				if ((byte) (word32) Mem476[Mem476[ebp_1186 - 0xC4 + 0x00:word32] + 0x14:byte] != 0x04)
				{
					word32 eax_582 = Mem476[ebp_1186 - 0xC4 + 0x00:word32];
					Mem583[esp_297 + 0x04:word32] = (int32) (byte) (word32) Mem476[ebp_1186 - 0xC6 + 0x00:byte];
					Mem584[esp_297 + 0x00:word32] = eax_582;
					Mem586[ebp_1186 - 0xC4 + 0x00:word32] = newEncodedStream(dwArg00, dwArg04);
				}
				Mem485[esp_297 + 0x20:word32] = Mem476[0x0817C2F8:word32];
				Mem487[esp_297 + 0x00:word32] = Mem485[ebp_1186 - 200 + 0x00:word32];
				Mem489[esp_297 + 0x04:word32] = Mem487[ebp_1186 - 0xC4 + 0x00:word32];
				Mem491[esp_297 + 0x08:word32] = Mem489[ebp_1186 - 0xC0 + 0x00:word32];
				Mem493[esp_297 + 0x0C:word32] = Mem491[ebp_1186 - 188 + 0x00:word32];
				Mem495[esp_297 + 0x10:word32] = Mem493[ebp_1186 - 0xB8 + 0x00:word32];
				Mem497[esp_297 + 0x14:word32] = Mem495[ebp_1186 - 0xB4 + 0x00:word32];
				Mem499[esp_297 + 0x18:word32] = Mem497[ebp_1186 - 0xB0 + 0x00:word32];
				Mem501[esp_297 + 0x1C:word32] = Mem499[ebp_1186 - 0xAC + 0x00:word32];
				if (save2tmp(bpl_1155, gs_313, bArg00, dwArg20) == 0x00)
				{
					word32 eax_553;
					word32 edx_546 = Mem501[0x081807A0:word32];
					if (Mem501[0x0817C2D8:word32] != 0x00)
						eax_553 = 0x06;
					else
						eax_553 = 0x01;
					word32 ecx_555 = edx_546 - eax_553;
					word32 eax_556 = ecx_555;
					if (ecx_555 < 0x00)
						eax_556 = 0x00;
					Mem564[esp_297 + 0x00:word32] = eax_556;
					Mem566[ebp_1186 - 0x88 + 0x00:word32] = newBuffer(eax_556, dwArg00);
					Mem569[Mem566[ebp_1186 - 0x88 + 0x00:word32] + 0xB8:word32] = Mem566[0x0817C2F8:word32];
					Mem572[Mem569[ebp_1186 - 0x88 + 0x00:word32] + 0x38:word32] = Mem569[ebp_1186 - 0x30 + 0x00:word32];
				}
				Mem514[esp_297 + 0x00:word32] = Mem501[ebp_1186 - 0xC4 + 0x00:word32];
				if (ISclose(dwArg00) == 0x00)
					Mem542[ebp_1186 - 0xC4 + 0x00:word32] = 0x00;
				if ((byte) (word32) Mem514[0x080D52C5:byte] != 0x00)
				{
					if ((byte) (word32) Mem514[135774799:byte] != 0x00)
						term_raw(gs_313);
					if (Mem514[ebp_1186 - 0x48 + 0x00:word32] != 0x00)
					{
						Mem539[esp_297 + 0x04:word32] = Mem514[ebp_1186 - 0x48 + 0x00:word32];
						Mem540[esp_297 + 0x00:word32] = 0x02;
						mySignal(dwArg00, dwArg04);
					}
				}
				eax_1057 = Mem514[ebp_1186 - 0x88 + 0x00:word32];
				return eax_1057;
			}
			Mem588[esp_297 + 0x00:word32] = Mem329[ebp_1186 - 0x30 + 0x00:word32];
			if (is_html_type(dwArg00) != 0x00)
			{
				Mem849[ebp_1186 - 0x28 + 0x00:word32] = 0x0806D888;
				goto l0805F744;
			}
			Mem851[esp_297 + 0x00:word32] = Mem588[ebp_1186 - 0x30 + 0x00:word32];
			if (is_plain_text_type(dwArg00) != 0x00)
			{
				Mem857[ebp_1186 - 0x28 + 0x00:word32] = 0x0806F5A5;
				goto l0805F744;
			}
			if (Mem851[135774940:word32] != 0x00 && (Mem851[0x080D530C:word32] != 0x00 && (Mem851[0x080D5314:word32] == 0x00 && (Mem851[135774876:word32] & ~0x20) == 0x00)))
			{
				word32 eax_1132 = Mem851[ebp_1186 - 0x30 + 0x00:word32];
				Mem1133[esp_297 + 0x08:word32] = 0x06;
				Mem1134[esp_297 + 0x04:word32] = 0x080C9846;
				Mem1135[esp_297 + 0x00:word32] = eax_1132;
				if (strncasecmp(Mem1135[esp_297 + 0x00:(ptr char)], Mem1135[esp_297 + 0x04:(ptr char)], Mem1135[esp_297 + 0x08:int32]) == 0x00)
				{
					Mem1141[ebp_1186 - 0x28 + 0x00:word32] = 0x0806FA5B;
					goto l0805F744;
				}
			}
			if (Mem851[135775120:word32] != 0x00)
				goto l0805F744;
			if ((Mem851[135774876:word32] & ~0x20) != 0x00)
			{
				Mem1107[esp_297 + 0x00:word32] = Mem851[ebp_1186 - 0x30 + 0x00:word32];
				if (is_dump_text_type(dwArg00) == 0x00)
				{
					if ((Mem1107[135774876:word32] & 0x20) != 0x00)
					{
						eax_1057 = 0x00;
						return eax_1057;
					}
l0805F744:
					if ((Mem588[ebp_1186 + 0x14:word32] & 0x02) != 0x00)
					{
						if (Mem588[ebp_1186 - 0x3C + 0x00:word32] == 0x00)
						{
							word32 eax_828;
							word32 edx_821 = Mem588[0x081807A0:word32];
							if (Mem588[0x0817C2D8:word32] != 0x00)
								eax_828 = 0x06;
							else
								eax_828 = 0x01;
							word32 ecx_830 = edx_821 - eax_828;
							word32 eax_831 = ecx_830;
							if (ecx_830 < 0x00)
								eax_831 = 0x00;
							Mem839[esp_297 + 0x00:word32] = eax_831;
							Mem841[ebp_1186 - 0x3C + 0x00:word32] = newBuffer(eax_831, dwArg00);
						}
						word32 eax_814 = Mem588[ebp_1186 - 0x3C + 0x00:word32];
						Mem820[eax_814 + 0x40:word16] = (word16) ((word32) Mem588[eax_814 + 0x40:word16] | 0x02);
					}
					word32 eax_612;
					Mem602[135775720:word32] = Mem588[ebp_1186 + 0x14:word32] & 0x04;
					word32 ecx_603 = Mem602[ebp_1186 - 0x3C + 0x00:word32];
					word32 eax_604 = Mem602[ebp_1186 - 0x28 + 0x00:word32];
					if (Mem602[ebp_1186 - 0xD8 + 0x00:word32] != 0x00)
						eax_612 = Mem602[ebp_1186 - 0xD8 + 0x00:word32];
					else
						eax_612 = Mem602[ebp_1186 - 220 + 0x00:word32];
					Mem614[esp_297 + 0x0C:word32] = ecx_603;
					Mem615[esp_297 + 0x08:word32] = eax_604;
					Mem616[esp_297 + 0x04:word32] = eax_612;
					Mem618[esp_297 + 0x00:word32] = ebp_1186 - 200;
					Mem620[ebp_1186 - 0x24 + 0x00:word32] = loadSomething(dwArg00, dwArg04, dwArg08, dwArg0C);
					Mem622[esp_297 + 0x00:word32] = Mem620[ebp_1186 - 0xC4 + 0x00:word32];
					if (ISclose(dwArg00) == 0x00)
						Mem797[ebp_1186 - 0xC4 + 0x00:word32] = 0x00;
					Mem627[135775720:word32] = 0x00;
					if (Mem627[ebp_1186 - 0x24 + 0x00:word32] != 0x00)
					{
						Mem685[Mem627[ebp_1186 - 0x24 + 0x00:word32] + 0xB4:word32] = (word32) (byte) (word32) Mem627[ebp_1186 - 200 + 0x00:byte];
						Mem688[Mem685[ebp_1186 - 0x24 + 0x00:word32] + 0x38:word32] = Mem685[ebp_1186 - 0x38 + 0x00:word32];
						if (Mem688[Mem688[ebp_1186 - 0x24 + 0x00:word32] + 0x90:word32] == 0x00 && Mem688[Mem688[(ebp_1186 - 0x24) + 0x00:word32] + 0x98:word32] == 0x00)
						{
							word32 eax_792 = Mem688[ebp_1186 - 0x24 + 0x00:word32];
							Mem795[esp_297 + 0x04:word32] = ebp_1186 - 0xF0;
							Mem796[esp_297 + 0x00:word32] = eax_792 + 0x84;
							copyParsedURL(dwArg00, dwArg04);
						}
						Mem696[esp_297 + 0x00:word32] = Mem688[ebp_1186 - 0x30 + 0x00:word32];
						if (is_html_type(dwArg00) != 0x00)
							Mem768[Mem696[ebp_1186 - 0x24 + 0x00:word32] + 0x34:word32] = 0x080C9028;
						else if (Mem696[135775120:word32] != 0x00)
						{
							word32 eax_773 = Mem696[ebp_1186 - 0x30 + 0x00:word32];
							Mem774[esp_297 + 0x00:word32] = eax_773;
							Strnew_charp(eax_773, dwArg00);
							Mem775[ebp_1186 - 0x8C + 0x00:word32] = eax_773;
							Mem779[Mem775[ebp_1186 - 0x24 + 0x00:word32] + 0x34:word32] = Mem775[Mem775[ebp_1186 - 0x8C + 0x00:word32] + 0x00:word32];
						}
						else if (Mem696[ebp_1186 - 0x28 + 0x00:word32] == 0x0806FA5B)
							Mem784[Mem696[ebp_1186 - 0x24 + 0x00:word32] + 0x34:word32] = 0x080C9028;
						else
							Mem786[Mem696[ebp_1186 - 0x24 + 0x00:word32] + 0x34:word32] = 135041053;
						if (Mem696[ebp_1186 - 0xD0 + 0x00:word32] != 0x00)
						{
							if (Mem696[ebp_1186 - 0x28 + 0x00:word32] == 0x0806D888)
							{
								word32 eax_711 = Mem696[ebp_1186 - 0x24 + 0x00:word32];
								Mem712[esp_297 + 0x04:word32] = Mem696[ebp_1186 - 0xD0 + 0x00:word32];
								Mem713[esp_297 + 0x00:word32] = eax_711;
								Mem715[ebp_1186 - 0x90 + 0x00:word32] = searchURLLabel(dwArg00, dwArg04);
								if (Mem715[ebp_1186 - 0x90 + 0x00:word32] != 0x00)
								{
									word32 eax_720 = Mem715[ebp_1186 - 0x24 + 0x00:word32];
									Mem721[esp_297 + 0x04:word32] = Mem715[Mem715[ebp_1186 - 0x90 + 0x00:word32] + 0x14:word32];
									Mem722[esp_297 + 0x00:word32] = eax_720;
									gotoLine(ebp_1186, gs_313, dwArg00, dwArg04);
									if (Mem722[0x0817C2C0:word32] != 0x00)
									{
										word32 ebx_736 = Mem722[ebp_1186 - 0x24 + 0x00:word32];
										word32 ecx_744 = Mem722[Mem722[Mem722[ebp_1186 - 0x24 + 0x00:word32] + 0x10:word32] + 0x1C:word32] - Mem722[Mem722[Mem722[(ebp_1186 - 0x24) + 0x00:word32] + 0x0C:word32] + 0x1C:word32];
										word32 edx_747 = Mem722[Mem722[ebp_1186 - 0x24 + 0x00:word32] + 0x0C:word32];
										word32 eax_748 = Mem722[ebp_1186 - 0x24 + 0x00:word32];
										Mem749[esp_297 + 0x0C:word32] = 0x00;
										Mem750[esp_297 + 0x08:word32] = ecx_744;
										Mem751[esp_297 + 0x04:word32] = edx_747;
										Mem752[esp_297 + 0x00:word32] = eax_748;
										Mem754[ebx_736 + 0x0C:word32] = lineSkip(gs_313, dwArg00, dwArg04, dwArg08, dwArg0C);
									}
									Mem733[Mem722[ebp_1186 - 0x24 + 0x00:word32] + 0x4C:word32] = Mem722[Mem722[ebp_1186 - 0x90 + 0x00:word32] + 0x18:word32];
									Mem735[esp_297 + 0x00:word32] = Mem733[ebp_1186 - 0x24 + 0x00:word32];
									arrangeCursor(ebp_1186, gs_313, dwArg00);
								}
							}
							else
							{
								Mem756[esp_297 + 0x00:word32] = Mem696[ebp_1186 - 0xD0 + 0x00:word32];
								Mem758[ebp_1186 - 0x94 + 0x00:word32] = atoi(Mem756[esp_297 + 0x00:(ptr char)]);
								word32 eax_759 = Mem758[ebp_1186 - 0x24 + 0x00:word32];
								Mem761[esp_297 + 0x04:word32] = Mem758[ebp_1186 - 0x94 + 0x00:word32];
								Mem762[esp_297 + 0x00:word32] = eax_759;
								gotoRealLine(ebp_1186, gs_313, dwArg00, dwArg04);
								Mem764[Mem762[ebp_1186 - 0x24 + 0x00:word32] + 0x4C:word32] = 0x00;
								Mem766[esp_297 + 0x00:word32] = Mem764[ebp_1186 - 0x24 + 0x00:word32];
								arrangeCursor(ebp_1186, gs_313, dwArg00);
							}
						}
					}
					if (Mem627[135774884:word32] != 0x00)
						Mem680[135774884:word32] = 0x00;
					if ((byte) (word32) Mem627[ebp_1186 - 200 + 0x00:byte] == 0x07 || (byte) ((word32) Mem627[(ebp_1186 - 200) + 0x00:byte]) == 0x09)
					{
						Mem675[esp_297 + 0x00:word32] = Mem627[ebp_1186 - 0x24 + 0x00:word32];
						reAnchorNewsheader(ebp_1186, dwArg00);
					}
					Mem647[esp_297 + 0x00:word32] = Mem627[ebp_1186 - 0x24 + 0x00:word32];
					preFormUpdateBuffer(ebp_1186, dwArg00);
					if ((byte) (word32) Mem647[0x080D52C5:byte] != 0x00)
					{
						if ((byte) (word32) Mem647[135774799:byte] != 0x00)
							term_raw(gs_313);
						if (Mem647[ebp_1186 - 0x48 + 0x00:word32] != 0x00)
						{
							Mem668[esp_297 + 0x04:word32] = Mem647[ebp_1186 - 0x48 + 0x00:word32];
							Mem669[esp_297 + 0x00:word32] = 0x02;
							mySignal(dwArg00, dwArg04);
						}
					}
					eax_1057 = Mem647[ebp_1186 - 0x24 + 0x00:word32];
					return eax_1057;
				}
			}
			if (Mem851[135774964:word32] == 0x00)
			{
				word32 eax_1008;
				word32 ecx_1000 = Mem851[ebp_1186 - 0x3C + 0x00:word32];
				word32 edx_1001 = Mem851[ebp_1186 - 0x30 + 0x00:word32];
				if (Mem851[ebp_1186 - 0xD8 + 0x00:word32] != 0x00)
					eax_1008 = Mem851[ebp_1186 - 0xD8 + 0x00:word32];
				else
					eax_1008 = Mem851[ebp_1186 - 220 + 0x00:word32];
				Mem1010[esp_297 + 44:word32] = ecx_1000;
				Mem1012[esp_297 + 0x28:word32] = ebp_1186 - 0x24;
				Mem1013[esp_297 + 0x24:word32] = edx_1001;
				Mem1014[esp_297 + 0x20:word32] = eax_1008;
				Mem1016[esp_297 + 0x00:word32] = Mem1014[ebp_1186 - 200 + 0x00:word32];
				Mem1018[esp_297 + 0x04:word32] = Mem1016[ebp_1186 - 0xC4 + 0x00:word32];
				Mem1020[esp_297 + 0x08:word32] = Mem1018[ebp_1186 - 0xC0 + 0x00:word32];
				Mem1022[esp_297 + 0x0C:word32] = Mem1020[ebp_1186 - 188 + 0x00:word32];
				Mem1024[esp_297 + 0x10:word32] = Mem1022[ebp_1186 - 0xB8 + 0x00:word32];
				Mem1026[esp_297 + 0x14:word32] = Mem1024[ebp_1186 - 0xB4 + 0x00:word32];
				Mem1028[esp_297 + 0x18:word32] = Mem1026[ebp_1186 - 0xB0 + 0x00:word32];
				Mem1030[esp_297 + 0x1C:word32] = Mem1028[ebp_1186 - 0xAC + 0x00:word32];
				if (doExternal(ebp_1186, gs_313, dwArg08, dwArg24) != 0x00)
				{
					if (Mem1030[ebp_1186 - 0x24 + 0x00:word32] != 0x00 && Mem1030[(ebp_1186 - 0x24) + 0x00:word32] != 0x01)
					{
						Mem1083[Mem1030[ebp_1186 - 0x24 + 0x00:word32] + 0xB4:word32] = (word32) (byte) (word32) Mem1030[ebp_1186 - 200 + 0x00:byte];
						Mem1086[Mem1083[ebp_1186 - 0x24 + 0x00:word32] + 0x38:word32] = Mem1083[ebp_1186 - 0x38 + 0x00:word32];
						if (Mem1086[Mem1086[ebp_1186 - 0x24 + 0x00:word32] + 0x90:word32] == 0x00 && Mem1086[Mem1086[(ebp_1186 - 0x24) + 0x00:word32] + 0x98:word32] == 0x00)
						{
							word32 eax_1097 = Mem1086[ebp_1186 - 0x24 + 0x00:word32];
							Mem1100[esp_297 + 0x04:word32] = ebp_1186 - 0xF0;
							Mem1101[esp_297 + 0x00:word32] = eax_1097 + 0x84;
							copyParsedURL(dwArg00, dwArg04);
						}
					}
					Mem1044[esp_297 + 0x00:word32] = Mem1030[ebp_1186 - 0xC4 + 0x00:word32];
					if (ISclose(dwArg00) == 0x00)
						Mem1072[ebp_1186 - 0xC4 + 0x00:word32] = 0x00;
					if ((byte) (word32) Mem1044[0x080D52C5:byte] != 0x00)
					{
						if ((byte) (word32) Mem1044[135774799:byte] != 0x00)
							term_raw(gs_313);
						if (Mem1044[ebp_1186 - 0x48 + 0x00:word32] != 0x00)
						{
							Mem1069[esp_297 + 0x04:word32] = Mem1044[ebp_1186 - 0x48 + 0x00:word32];
							Mem1070[esp_297 + 0x00:word32] = 0x02;
							mySignal(dwArg00, dwArg04);
						}
					}
					eax_1057 = Mem1044[ebp_1186 - 0x24 + 0x00:word32];
					return eax_1057;
				}
			}
			if ((byte) (word32) Mem851[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem851[135774799:byte] != 0x00)
					term_raw(gs_313);
				if (Mem851[ebp_1186 - 0x48 + 0x00:word32] != 0x00)
				{
					Mem997[esp_297 + 0x04:word32] = Mem851[ebp_1186 - 0x48 + 0x00:word32];
					Mem998[esp_297 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
			if (Mem851[ebp_1186 - 0xF0 + 0x00:word32] == 0x04)
			{
				Mem900[esp_297 + 0x00:word32] = Mem851[ebp_1186 - 0xC4 + 0x00:word32];
				if (ISclose(dwArg00) == 0x00)
					Mem925[ebp_1186 - 0xC4 + 0x00:word32] = 0x00;
				word32 esi_907 = Mem900[135091052:word32];
				word32 ebx_908 = Mem900[0x080D5378:word32];
				Mem910[esp_297 + 0x04:word32] = Mem900[ebp_1186 - 0xD8 + 0x00:word32];
				Mem911[esp_297 + 0x00:word32] = 0x00;
				word32 eax_912 = guess_save_name(dwArg00, dwArg04);
				Mem913[esp_297 + 0x00:word32] = eax_912;
				Strnew_charp(eax_912, dwArg00);
				Mem914[esp_297 + 0x08:word32] = esi_907;
				Mem915[esp_297 + 0x04:word32] = ebx_908;
				Mem916[esp_297 + 0x00:word32] = eax_912;
				word32 ebx_917;
				word32 edx_919 = Mem916[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_917) + 0x00:word32];
				word32 eax_920 = Mem916[ebp_1186 - 0xD8 + 0x00:word32];
				Mem921[esp_297 + 0x08:word32] = 0x01;
				Mem922[esp_297 + 0x04:word32] = edx_919;
				Mem923[esp_297 + 0x00:word32] = eax_920;
				_doFileCopy(ebp_1186, gs_313, dwArg04);
			}
			else
			{
				if ((byte) (word32) Mem851[135774795:byte] != 0x00 && (byte) ((word32) Mem851[Mem851[(ebp_1186 - 0xC4) + 0x00:word32] + 0x14:byte]) != 0x04)
				{
					word32 eax_982 = Mem851[ebp_1186 - 0xC4 + 0x00:word32];
					Mem983[esp_297 + 0x04:word32] = (int32) (byte) (word32) Mem851[ebp_1186 - 0xC6 + 0x00:byte];
					Mem984[esp_297 + 0x00:word32] = eax_982;
					Mem986[ebp_1186 - 0xC4 + 0x00:word32] = newEncodedStream(dwArg00, dwArg04);
				}
				word32 eax_937 = Mem851[ebp_1186 - 0x3C + 0x00:word32];
				Mem938[esp_297 + 0x04:word32] = Mem851[ebp_1186 - 220 + 0x00:word32];
				Mem939[esp_297 + 0x00:word32] = eax_937;
				Mem941[esp_297 + 0x20:word32] = guess_save_name(dwArg00, dwArg04);
				Mem943[esp_297 + 0x00:word32] = Mem941[ebp_1186 - 200 + 0x00:word32];
				Mem945[esp_297 + 0x04:word32] = Mem943[ebp_1186 - 0xC4 + 0x00:word32];
				Mem947[esp_297 + 0x08:word32] = Mem945[ebp_1186 - 0xC0 + 0x00:word32];
				Mem949[esp_297 + 0x0C:word32] = Mem947[ebp_1186 - 188 + 0x00:word32];
				Mem951[esp_297 + 0x10:word32] = Mem949[ebp_1186 - 0xB8 + 0x00:word32];
				Mem953[esp_297 + 0x14:word32] = Mem951[ebp_1186 - 0xB4 + 0x00:word32];
				Mem955[esp_297 + 0x18:word32] = Mem953[ebp_1186 - 0xB0 + 0x00:word32];
				Mem957[esp_297 + 0x1C:word32] = Mem955[ebp_1186 - 0xAC + 0x00:word32];
				if (doFileSave(ebp_1186, gs_313, dwArg20) == 0x00)
				{
					Mem963[esp_297 + 0x00:word32] = ebp_1186 - 200;
					UFhalfclose(dwArg00);
				}
				else
				{
					Mem965[esp_297 + 0x00:word32] = Mem957[ebp_1186 - 0xC4 + 0x00:word32];
					if (ISclose(dwArg00) == 0x00)
						Mem970[ebp_1186 - 0xC4 + 0x00:word32] = 0x00;
				}
			}
			eax_1057 = 0x01;
			return eax_1057;
		}
		Mem1222[esp_297 + 0x00:word32] = Mem329[ebp_1186 - 0x30 + 0x00:word32];
		if (is_text_type(dwArg00) != 0x00)
			goto l0805F181;
		Mem1228[esp_297 + 0x00:word32] = Mem1222[ebp_1186 - 0x30 + 0x00:word32];
		if (searchExtViewer(ebp_1186, out bpl_1155) != 0x00)
			goto l0805F181;
	}
	Mem1157[esp_297 + 0x00:word32] = Mem329[ebp_1186 - 188 + 0x00:word32];
	Mem1159[ebp_1186 - 0x30 + 0x00:word32] = compress_application_type(dwArg00);
	Mem1160[ebp_1186 - 188 + 0x00:word32] = 0x00;
	goto l0805F210;
}

// 0805FA4E: Register word32 has_hidden_link(Stack word32 dwArg04, Stack word32 dwArg08)
word32 has_hidden_link(word32 dwArg04, word32 dwArg08)
{
	word32 eax_24;
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	if (Mem0[eax_10 + 0x04:word32] > 0x00 && (byte) ((word32) Mem0[Mem0[eax_10 + 0x00:word32] + (Mem0[eax_10 + 0x04:word32] - 0x01):byte]) == 0x3E)
	{
		word32 dwLoc0C_49 = Mem0[0x0817C89C:word32];
		while (dwLoc0C_49 != 0x00 && Mem0[dwLoc0C_49 + 0x00:word32] != dwArg08)
			dwLoc0C_49 = Mem0[dwLoc0C_49 + 0x08:word32];
		if (dwLoc0C_49 == 0x00)
			eax_24 = 0x00;
		else if ((word16) (word32) Mem0[dwArg04 + 0x06:word16] == (word16) ((word32) Mem0[dwLoc0C_49 + 0x06:word16]))
			eax_24 = Mem0[eax_10 + 0x00:word32] + (int32) ((word16) ((word32) Mem0[dwLoc0C_49 + 0x04:word16]));
		else
			eax_24 = 0x00;
	}
	else
		eax_24 = 0x00;
	return eax_24;
}

// 0805FAE4: void push_link(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void push_link(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	word16 dx_14;
	!GC_malloc();
	Mem19[eax_12 + 0x00:word32] = dwArg04;
	Mem25[eax_12 + 0x04:word16] = (word16) dwArg08;
	Mem31[eax_12 + 0x06:word16] = (word16) dwArg0C;
	Mem34[eax_12 + 0x08:word32] = Mem31[0x0817C89C:word32];
	Mem36[0x0817C89C:word32] = eax_12;
}

// 0805FB2F: Register word32 is_period_char(Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 is_period_char(word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 eax_11 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if (eax_11 >u 0x7D)
	{
		word32 ebp_34;
		*ebpOut = ebp;
		word32 esp_35;
		*espOut = fp;
		return 0x00;
	}
	else
	{
		word32 eax_24 = 0x080C9850[(eax_11 - 33) * 0x04];
		word32 esp_26;
		word32 ebp_27;
		word32 eax_28;
		byte al_29;
		byte SCZO_30;
		byte CZ_31;
		eax_24();
		return eax_28;
	}
}

// 0805FB5A: Register word32 is_beginning_char(Stack word32 dwArg04)
word32 is_beginning_char(word32 dwArg04)
{
	word32 eax_19;
	word32 eax_11 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if (eax_11 != 0x5B)
	{
		if (eax_11 <= 0x5B)
		{
			if (eax_11 != 0x28 && eax_11 != 0x3C)
			{
l0805FB8D:
				eax_19 = 0x00;
				return eax_19;
			}
		}
		else if (eax_11 != 0x60 && eax_11 != 0x7B)
			goto l0805FB8D;
	}
	eax_19 = 0x01;
	return eax_19;
}

// 0805FB94: Register word32 is_word_char(Stack word32 dwArg04)
word32 is_word_char(word32 dwArg04)
{
	word32 eax_102;
	word16 ax_17 = (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x08179BE0:byte] << 0x08);
	if (((word32) ax_17 & 0x1900) != 0x00)
		eax_102 = 0x00;
	else if (((word32) ax_17 & 0x0600) != 0x00)
		eax_102 = 0x01;
	else if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x0C) != 0x00)
		eax_102 = 0x01;
	else
	{
		word32 eax_75 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (eax_75 <=u 0x7E)
		{
			word32 eax_81 = 0x080C99C4[(eax_75 - 0x22) * 0x04];
			word32 esp_84;
			word32 ebp_85;
			byte SCZO_86;
			word32 eax_87;
			byte al_88;
			word16 ax_89;
			byte SZO_90;
			byte C_91;
			byte Z_92;
			byte CZ_93;
			eax_81();
			return eax_87;
		}
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0xA0)
			eax_102 = 0x01;
		else
			eax_102 = 0x00;
	}
	return eax_102;
}

// 0805FC36: Register word32 is_combining_char(Stack word32 dwArg04)
word32 is_combining_char(word32 dwArg04)
{
	word32 eax_24;
	if (((word32) (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x08179BE0:byte] << 0x08) & 0x0400) != 0x00)
		eax_24 = 0x01;
	else
		eax_24 = 0x00;
	return eax_24;
}

// 0805FC71: Register word32 is_boundary(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
word32 is_boundary(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 eax_104;
	word32 ebp_5 = fp - 0x04;
	word32 esp_54 = fp - 0x08;
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x00 || (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) == 0x00)
	{
		eax_104 = 0x01;
		return eax_104;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x20 && (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) == 0x20)
	{
		eax_104 = 0x00;
		return eax_104;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x20 && is_period_char(dwArg08, out esp_54, out ebp_5) != 0x00)
	{
		eax_104 = 0x00;
		return eax_104;
	}
	if ((byte) (word32) Mem0[Mem0[ebp_5 + 0x0C:word32] + 0x00:byte] != 0x20)
	{
		Mem89[esp_54 + 0x00:word32] = Mem0[ebp_5 + 0x08:word32];
		if (is_beginning_char(dwArg00) != 0x00)
		{
			eax_104 = 0x00;
			return eax_104;
		}
	}
	Mem61[esp_54 + 0x00:word32] = Mem0[ebp_5 + 0x0C:word32];
	if (is_combining_char(dwArg00) != 0x00)
	{
		eax_104 = 0x00;
		return eax_104;
	}
	Mem70[esp_54 + 0x00:word32] = Mem61[ebp_5 + 0x08:word32];
	if (is_word_char(dwArg00) != 0x00)
	{
		Mem81[esp_54 + 0x00:word32] = Mem70[ebp_5 + 0x0C:word32];
		if (is_word_char(dwArg00) != 0x00)
		{
			eax_104 = 0x00;
			return eax_104;
		}
	}
	eax_104 = 0x01;
	return eax_104;
}

// 0805FD35: void set_breakpoint(Stack word32 dwArg04, Stack word32 dwArg08)
void set_breakpoint(word32 dwArg04, word32 dwArg08)
{
	Mem13[dwArg04 + 0xC0:word32] = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32];
	word16 ax_16 = (word16) (word32) Mem13[dwArg04 + 0x06:word16];
	Mem19[dwArg04 + 188:word32] = (int32) ax_16;
	Mem23[dwArg04 + 0xC4:word32] = dwArg08;
	Mem27[dwArg04 + 200:word32] = Mem23[dwArg04 + 0x0C:word32];
	Mem32[dwArg04 + 0x011A:word16] = (word16) (word32) Mem27[dwArg04 + 332:word16];
	word16 dx_35 = (word16) (word32) Mem32[dwArg04 + 334:word16];
	Mem37[dwArg04 + 0x011C:word16] = dx_35;
	byte al_40 = (byte) (word32) Mem37[dwArg04 + 0x0118:byte];
	if (al_40 != 0x00)
	{
		word32 esp_69;
		word32 ebp_70;
		byte SCZO_71;
		word32 eax_72;
		word32 edx_73;
		word16 ax_74;
		word16 dx_75;
		byte al_76;
		byte SZO_77;
		byte C_78;
		byte Z_79;
		byte dl_80;
		!bcopy();
		Mem84[dwArg04 + 0x0108:word32] = Mem37[dwArg04 + 0x84:word32];
		Mem89[dwArg04 + 0x010C:byte] = (byte) (word32) Mem84[dwArg04 + 0x88:byte];
		Mem94[dwArg04 + 0x010E:byte] = (byte) (word32) Mem89[dwArg04 + 0x8A:byte];
		Mem99[dwArg04 + 0x010D:byte] = (byte) (word32) Mem94[dwArg04 + 0x89:byte];
		Mem104[dwArg04 + 0x010F:byte] = (byte) (word32) Mem99[dwArg04 + 0x8B:byte];
		Mem109[dwArg04 + 0x0110:byte] = (byte) (word32) Mem104[dwArg04 + 0x8C:byte];
		Mem114[dwArg04 + 0x0114:word16] = (word16) (word32) Mem109[dwArg04 + 0x44:word16];
		Mem119[dwArg04 + 0x0116:word16] = (word16) (word32) Mem114[dwArg04 + 0xB8:word16];
		Mem121[dwArg04 + 0x0118:byte] = 0x00;
	}
}

// 0805FE7C: void back_to_breakpoint(Stack word32 dwArg04)
void back_to_breakpoint(word32 dwArg04)
{
	Mem12[dwArg04 + 0x0C:word32] = Mem0[dwArg04 + 200:word32];
	word32 esp_21;
	word32 ebp_22;
	byte SCZO_23;
	word32 eax_24;
	word32 edx_25;
	byte dl_26;
	word16 dx_27;
	byte SZO_28;
	byte C_29;
	byte Z_30;
	!bcopy();
	Mem34[dwArg04 + 0x84:word32] = Mem12[dwArg04 + 0x0108:word32];
	Mem39[dwArg04 + 0x88:byte] = (byte) (word32) Mem34[dwArg04 + 0x010C:byte];
	Mem44[dwArg04 + 0x8A:byte] = (byte) (word32) Mem39[dwArg04 + 0x010E:byte];
	Mem49[dwArg04 + 0x89:byte] = (byte) (word32) Mem44[dwArg04 + 0x010D:byte];
	Mem54[dwArg04 + 0x8B:byte] = (byte) (word32) Mem49[dwArg04 + 0x010F:byte];
	Mem59[dwArg04 + 0x8C:byte] = (byte) (word32) Mem54[dwArg04 + 0x0110:byte];
	Mem64[dwArg04 + 0xB8:word16] = (word16) (word32) Mem59[dwArg04 + 0x0116:word16];
	Mem70[dwArg04 + 0x06:word16] = (word16) Mem64[dwArg04 + 188:word32];
	Mem75[dwArg04 + 332:word16] = (word16) (word32) Mem70[dwArg04 + 0x011A:word16];
	Mem80[dwArg04 + 334:word16] = (word16) (word32) Mem75[dwArg04 + 0x011C:word16];
	if ((Mem80[dwArg04 + 0x0C:word32] & 0x80) != 0x00)
		Mem97[dwArg04 + 0x44:word16] = (word16) (word32) Mem80[dwArg04 + 0x0114:word16];
}

// 0805FF94: void append_tags(Stack word32 dwArg04)
void append_tags(word32 dwArg04)
{
	word32 eax_15 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32];
	word32 dwLoc18_104 = 0x00;
	word32 dwLoc10_18 = 0x00;
	while (Mem0[dwArg04 + 0x0148:word32] > dwLoc10_18)
	{
		word32 eax_65 = Mem0[dwArg04[(dwLoc10_18 + 0x48) * 0x04] + 0x04:word32];
		if (eax_65 != 0x41)
		{
			if (eax_65 <= 0x41)
			{
				if (eax_65 != 0x01 && eax_65 != 0x07)
					goto l08060020;
				goto l0805FFEF;
			}
			if (eax_65 != 0x6D && (eax_65 != 0x88 && eax_65 != 0x69))
				goto l08060020;
		}
l0805FFEF:
		word32 eax_126 = Mem0[dwArg04[(dwLoc10_18 + 0x48) * 0x04] + 0x04:word32];
		push_link(eax_126, eax_126, Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32], (int32) (word16) (word32) Mem0[dwArg04 + 0x06:word16]);
l08060020:
		Strcat_charp(Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04[(dwLoc10_18 + 0x48) * 0x04] + 0x00:word32]);
		word32 eax_87 = Mem0[dwArg04[(dwLoc10_18 + 0x48) * 0x04] + 0x04:word32];
		if (eax_87 != 0x32)
		{
			if (eax_87 != 0x45)
				goto l08060071;
			goto l08060067;
		}
		if ((word16) (word32) Mem0[dwArg04 + 0x44:word16] <= 0x01)
		{
l08060067:
			dwLoc18_104 = 0x01;
		}
l08060071:
		dwLoc10_18 = dwLoc10_18 + 0x01;
	}
	Mem41[dwArg04 + 0x0148:word32] = 0x00;
	if (dwLoc18_104 != 0x00)
		set_breakpoint(dwArg04, Mem41[Mem41[dwArg04 + 0x00:word32] + 0x04:word32] - eax_15);
}

// 080600BA: void push_tag(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void push_tag(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_16;
	word32 ebp_17;
	word32 ebx_18;
	byte SCZO_19;
	word32 eax_20;
	word32 edx_21;
	word32 ecx_22;
	byte SZO_23;
	byte C_24;
	byte Z_25;
	!GC_malloc();
	dwArg04[(ebx_18 + 0x48) * 0x04] = eax_20;
	Mem41[dwArg04[(Mem29[dwArg04 + 0x0148:word32] + 0x48) * 0x04] + 0x00:word32] = allocStr(dwArg08, ~0x00);
	Mem49[dwArg04[(Mem41[dwArg04 + 0x0148:word32] + 0x48) * 0x04] + 0x04:word32] = dwArg0C;
	Mem54[dwArg04 + 0x0148:word32] = Mem49[dwArg04 + 0x0148:word32] + 0x01;
	if (Mem54[dwArg04 + 0x0148:word32] > 0x09 || (Mem54[dwArg04 + 0x0C:word32] & 0x020F) != 0x00)
		append_tags(dwArg04);
}

// 08060163: void push_nchars(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void push_nchars(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	append_tags(dwArg04);
	Strcat_charp_n(Mem0[dwArg04 + 0x00:word32], dwArg0C, dwArg10);
	Mem34[dwArg04 + 0x06:word16] = (word16) ((word32) Mem0[dwArg04 + 0x06:word16] + dwArg08);
	word16 ax_10 = (word16) dwArg14;
	if (dwArg08 > 0x00)
	{
		Strcopy_charp_n(Mem34[dwArg04 + 0x08:word32], dwArg0C, dwArg10);
		Mem64[dwArg04 + 0xB8:word16] = (word16) (word32) ax_10;
	}
	word32 eax_42 = Mem34[dwArg04 + 0x0C:word32];
	Mem50[dwArg04 + 0x0C:word32] = DPB(eax_42, SLICE(eax_42, byte, 8) | 0x80, 8);
}

// 080601F1: void check_breakpoint(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void check_breakpoint(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_12 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32];
	append_tags(dwArg04);
	if (dwArg08 == 0x00 && (Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] - eax_12 > 0x00 || is_boundary(fp - 0x04, Mem0[Mem0[dwArg04 + 0x08:word32] + 0x00:word32], dwArg0C) != 0x00))
	{
		Mem48[fp - 0x28 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
		Mem50[fp - 44 + 0x00:word32] = Mem48[fp + 0x04:word32];
		set_breakpoint(dwArg00, dwArg04);
	}
}

// 08060259: void push_char(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void push_char(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	check_breakpoint(fp - 0x04, dwArg04, dwArg08, fp - 0x10);
	if (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + 0x08:word32])
	{
		Mem90[fp - 44 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x00:word32];
		Strgrow(dwArg00);
	}
	word32 eax_37 = Mem0[Mem0[fp + 0x04:word32] + 0x00:word32];
	word32 edx_38 = Mem0[eax_37 + 0x04:word32];
	Mem43[Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + edx_38:byte] = (byte) (word32) Mem0[fp - 0x10 + 0x00:byte];
	Mem46[eax_37 + 0x04:word32] = edx_38 + 0x01;
	Mem54[Mem46[Mem46[Mem46[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + Mem46[Mem46[Mem46[fp + 0x04:word32] + 0x00:word32] + 0x04:word32]:byte] = 0x00;
	Mem60[Mem54[fp + 0x04:word32] + 0x06:word16] = (word16) ((word32) Mem54[Mem54[fp + 0x04:word32] + 0x06:word16] + 0x01);
	word32 eax_62 = Mem60[Mem60[fp + 0x04:word32] + 0x08:word32];
	Mem63[fp - 0x24 + 0x00:word32] = 0x01;
	Mem65[fp - 0x28 + 0x00:word32] = fp - 0x10;
	Mem66[fp - 44 + 0x00:word32] = eax_62;
	Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
	if ((byte) (word32) Mem66[fp - 0x10 + 0x00:byte] != 0x20)
		Mem87[Mem66[fp + 0x04:word32] + 0xB8:word16] = 0x00;
	word32 eax_73 = Mem66[Mem66[fp + 0x04:word32] + 0x0C:word32];
	Mem79[Mem66[fp + 0x04:word32] + 0x0C:word32] = DPB(eax_73, SLICE(eax_73, byte, 8) | 0x80, 8);
}

// 08060330: void push_spaces(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void push_spaces(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg0C > 0x00)
	{
		check_breakpoint(fp - 0x04, dwArg04, dwArg08, 0x080C96F3);
		Mem38[fp - 0x10 + 0x00:word32] = 0x00;
		while (Mem38[fp - 0x10 + 0x00:word32] < Mem38[fp + 0x0C:word32])
		{
			if (Mem38[Mem38[Mem38[fp + 0x04:word32] + 0x00:word32] + 0x04:word32] + 0x01 >= Mem38[Mem38[Mem38[fp + 0x04:word32] + 0x00:word32] + 0x08:word32])
			{
				Mem105[fp - 44 + 0x00:word32] = Mem38[Mem38[fp + 0x04:word32] + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_85 = Mem38[Mem38[fp + 0x04:word32] + 0x00:word32];
			word32 edx_86 = Mem38[eax_85 + 0x04:word32];
			Mem89[Mem38[Mem38[Mem38[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + edx_86:byte] = 0x20;
			Mem91[eax_85 + 0x04:word32] = edx_86 + 0x01;
			Mem99[Mem91[Mem91[Mem91[fp + 0x04:word32] + 0x00:word32] + 0x00:word32] + Mem91[Mem91[Mem91[fp + 0x04:word32] + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem101[fp - 0x10 + 0x00:word32] = Mem99[fp - 0x10 + 0x00:word32] + 0x01;
		}
		Mem55[Mem38[fp + 0x04:word32] + 0x06:word16] = (word16) ((word32) Mem38[Mem38[fp + 0x04:word32] + 0x06:word16] + Mem38[fp + 0x0C:word32]);
		word32 eax_57 = Mem55[Mem55[fp + 0x04:word32] + 0x08:word32];
		Mem58[fp - 0x24 + 0x00:word32] = 0x01;
		Mem59[fp - 0x28 + 0x00:word32] = 0x080C96F3;
		Mem60[fp - 44 + 0x00:word32] = eax_57;
		Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
		word32 eax_63 = Mem60[Mem60[fp + 0x04:word32] + 0x0C:word32];
		Mem71[Mem60[fp + 0x04:word32] + 0x0C:word32] = DPB(eax_63, SLICE(eax_63, byte, 8) | 0x80, 8);
	}
}

// 08060416: void proc_mchar(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg10, Stack word32 dwArg14)
void proc_mchar(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg10, word32 dwArg14)
{
	check_breakpoint(fp - 0x04, dwArg04, dwArg08, Mem0[dwArg10 + 0x00:word32]);
	Mem31[Mem0[fp + 0x04:word32] + 0x06:word16] = (word16) ((word32) Mem0[Mem0[fp + 0x04:word32] + 0x06:word16] + Mem0[fp + 0x0C:word32]);
	word32 edx_41 = Mem31[Mem31[fp + 0x10:word32] + 0x00:word32];
	word32 eax_43 = Mem31[Mem31[fp + 0x04:word32] + 0x00:word32];
	Mem44[fp - 0x24 + 0x00:word32] = (word32) (byte) (word32) Mem31[(word32) (byte) (word32) Mem31[Mem31[Mem31[fp + 0x10:word32] + 0x00:word32] + 0x00:byte] + 0x08179AE0:byte];
	Mem45[fp - 0x28 + 0x00:word32] = edx_41;
	Mem46[fp - 44 + 0x00:word32] = eax_43;
	Strcat_charp_n(dwArg00, dwArg04, dwArg08);
	if (Mem46[fp + 0x0C:word32] > 0x00)
	{
		word32 edx_81 = Mem46[Mem46[fp + 0x10:word32] + 0x00:word32];
		word32 eax_83 = Mem46[Mem46[fp + 0x04:word32] + 0x08:word32];
		Mem84[fp - 0x24 + 0x00:word32] = 0x01;
		Mem85[fp - 0x28 + 0x00:word32] = edx_81;
		Mem86[fp - 44 + 0x00:word32] = eax_83;
		Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
		if ((byte) (word32) Mem86[Mem86[Mem86[fp + 0x10:word32] + 0x00:word32] + 0x00:byte] != 0x20)
			Mem96[Mem86[fp + 0x04:word32] + 0xB8:word16] = (word16) (word32) Mem86[fp - 0x10 + 0x00:word16];
	}
	Mem66[Mem46[fp + 0x10:word32] + 0x00:word32] = Mem46[Mem46[fp + 0x10:word32] + 0x00:word32] + (word32) ((byte) ((word32) Mem46[(word32) ((byte) ((word32) Mem46[Mem46[Mem46[fp + 0x10:word32] + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte]));
	word32 eax_68 = Mem66[Mem66[fp + 0x04:word32] + 0x0C:word32];
	Mem76[Mem66[fp + 0x04:word32] + 0x0C:word32] = DPB(eax_68, SLICE(eax_68, byte, 8) | 0x80, 8);
}

// 080604F8: void push_render_image(Register word32 ebp, Register selector gs, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void push_render_image(word32 ebp, selector gs, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 ecx_27 = dwArg0C - dwArg08;
	push_spaces(fp - 0x04, Mem0[dwArg10 + 0x00:word32], 0x01, (ecx_27 >>u 0x1F) + ecx_27 >> 0x01);
	word32 edx_39 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	word32 eax_41 = Mem0[Mem0[fp + 0x04:word32] + 0x00:word32];
	Mem42[fp - 44 + 0x00:word32] = 0x00;
	Mem43[fp - 0x30 + 0x00:word32] = edx_39;
	Mem44[fp - 0x34 + 0x00:word32] = eax_41;
	Mem46[fp - 0x38 + 0x00:word32] = Mem44[fp + 0x08:word32];
	Mem48[fp - 0x3C + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32];
	push_nchars(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
	word32 ecx_54 = Mem48[fp + 0x0C:word32] - Mem48[fp + 0x08:word32];
	Mem62[fp - 0x34 + 0x00:word32] = (ecx_54 + 0x01 >>u 0x1F) + (ecx_54 + 0x01) >> 0x01;
	Mem63[fp - 0x38 + 0x00:word32] = 0x01;
	Mem65[fp - 0x3C + 0x00:word32] = Mem63[fp - 0x10 + 0x00:word32];
	push_spaces(fp - 0x04, dwArg00, dwArg04, dwArg08);
	if (Mem65[fp + 0x08:word32] > 0x00)
	{
		Mem74[fp - 44 + 0x00:word32] = Mem65[Mem65[fp + 0x10:word32] + 0x10:word32];
		Mem75[fp - 0x30 + 0x00:word32] = 0x00;
		Mem77[fp - 0x34 + 0x00:word32] = Mem75[fp - 0x14 + 0x00:word32];
		Mem79[fp - 0x38 + 0x00:word32] = Mem77[fp - 0x10 + 0x00:word32];
		Mem81[fp - 0x3C + 0x00:word32] = Mem79[fp + 0x10:word32];
		flushline(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg10);
	}
}

// 080605DF: Register word32 sloppy_parse_line(Stack word32 dwArg04)
word32 sloppy_parse_line(word32 dwArg04)
{
	word32 eax_19;
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x3C)
	{
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x3E)
			Mem57[dwArg04 + 0x00:word32] = Mem0[dwArg04 + 0x00:word32] + 0x01;
		if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x3E)
			Mem46[dwArg04 + 0x00:word32] = Mem0[dwArg04 + 0x00:word32] + 0x01;
		eax_19 = 0x01;
	}
	else
	{
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x3C)
			Mem81[dwArg04 + 0x00:word32] = Mem0[dwArg04 + 0x00:word32] + 0x01;
		eax_19 = 0x00;
	}
	return eax_19;
}

// 08060664: void passthrough(Register word32 eax, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void passthrough(word32 eax, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Strnew(eax);
	if (dwArg0C != 0x00)
	{
		Strnew_charp(dwArg08, dwArg08);
		Strshrink(Mem0[dwArg04 + 0x00:word32], Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32] + Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] - dwArg08);
		dwArg08 = Mem0[dwArg08 + 0x00:word32];
	}
	while ((byte) (word32) Mem0[dwArg08 + 0x00:byte] != 0x00)
	{
		if (sloppy_parse_line(fp + 0x08) != 0x00)
		{
			word32 eax_59 = gethtmlcmd(gs, fp - 0x20);
			if (0x00 != 0x00)
			{
				word32 dwLoc24_64 = Mem0[0x0817C89C:word32];
				while (dwLoc24_64 != 0x00)
				{
					if (Mem0[dwLoc24_64 + 0x00:word32] == eax_59)
					{
						Mem79[0x0817C89C:word32] = Mem0[dwLoc24_64 + 0x08:word32];
						break;
					}
					dwLoc24_64 = Mem0[dwLoc24_64 + 0x08:word32];
				}
			}
			else
			{
				Strcat_charp_n(eax, dwArg08, 0x00);
				push_tag(dwArg04, Mem0[eax + 0x00:word32], eax_59);
				Strclear(eax);
			}
		}
		else
			push_nchars(dwArg04, 0x00, dwArg08, 0x00, (word32) (word16) (word32) Mem0[dwArg04 + 0xB8:word16]);
	}
}

// 080607D1: void fillline(Stack word32 dwArg04, Stack word32 dwArg08)
void fillline(word32 dwArg04, word32 dwArg08)
{
	push_spaces(fp - 0x04, dwArg04, 0x01, dwArg08 - (int32) ((word16) ((word32) Mem0[dwArg04 + 0x06:word16])));
	word32 eax_24 = Mem0[Mem0[fp + 0x04:word32] + 0x0C:word32];
	Mem32[Mem0[fp + 0x04:word32] + 0x0C:word32] = DPB(eax_24, SLICE(eax_24, byte, 8) & 0x7F, 8);
}

// 08060812: void flushline(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg14)
void flushline(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg14)
{
	word32 ebp_1192 = fp - 0x04;
	word32 esp_10 = fp - 0x021C;
	word32 eax_21 = Mem0[dwArg08 + 0x00:word32];
	word32 dwLoc20_1339 = 0x00;
	word32 dwLoc24_1323 = 0x00;
	word32 dwLoc28_1307 = 0x00;
	word32 dwLoc2C_1275 = 0x00;
	word32 dwLoc30_1291 = 0x00;
	word32 dwLoc34_108 = 0x00;
	word32 dwLoc38_119 = 0x00;
	word32 dwLoc3C_109 = 0x00;
	if ((Mem0[dwArg08 + 0x0C:word32] & 0x020F) == 0x00 && (Mem0[eax_21 + 0x04:word32] > 0x00 && (byte) ((word32) Mem0[Mem0[eax_21 + 0x00:word32] + (Mem0[eax_21 + 0x04:word32] - 0x01):byte]) == 0x20))
	{
		Strshrink(eax_21, 0x01);
		Mem1364[dwArg08 + 0x06:word16] = (word16) ((word32) Mem0[dwArg08 + 0x06:word16] - 0x01);
	}
	append_tags(dwArg08);
	if (Mem0[dwArg08 + 0x48:word32] != 0x00)
	{
		word32 eax_1338 = has_hidden_link(dwArg08, 0x01);
		dwLoc20_1339 = eax_1338;
		dwLoc3C_109 = eax_1338;
	}
	if (Mem0[dwArg08 + 0x84:word32] != 0x00)
	{
		word32 eax_1322 = has_hidden_link(dwArg08, 0x88);
		dwLoc24_1323 = eax_1322;
		if (eax_1322 != 0x00 && (dwLoc3C_109 == 0x00 || eax_1322 <u dwLoc3C_109))
			dwLoc3C_109 = eax_1322;
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x88:byte] != 0x00)
	{
		word32 eax_1306 = has_hidden_link(dwArg08, 0x07);
		dwLoc28_1307 = eax_1306;
		if (eax_1306 != 0x00 && (dwLoc3C_109 == 0x00 || eax_1306 <u dwLoc3C_109))
			dwLoc3C_109 = eax_1306;
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x8A:byte] != 0x00)
	{
		word32 eax_1290 = has_hidden_link(dwArg08, 0x6D);
		dwLoc30_1291 = eax_1290;
		if (eax_1290 != 0x00 && (dwLoc3C_109 == 0x00 || eax_1290 <u dwLoc3C_109))
			dwLoc3C_109 = eax_1290;
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x89:byte] != 0x00)
	{
		word32 eax_1274 = has_hidden_link(dwArg08, 0x41);
		dwLoc2C_1275 = eax_1274;
		if (eax_1274 != 0x00 && (dwLoc3C_109 == 0x00 || eax_1274 <u dwLoc3C_109))
			dwLoc3C_109 = eax_1274;
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x8B:byte] != 0x00)
	{
		word32 eax_1258 = has_hidden_link(dwArg08, 0x69);
		dwLoc34_108 = eax_1258;
		if (eax_1258 != 0x00 && (dwLoc3C_109 == 0x00 || eax_1258 <u dwLoc3C_109))
			dwLoc3C_109 = eax_1258;
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x8C:byte] != 0x00)
	{
		word32 eax_1242 = has_hidden_link(dwArg08, 0x3F);
		dwLoc38_119 = eax_1242;
		if (eax_1242 != 0x00 && (dwLoc3C_109 == 0x00 || eax_1242 <u dwLoc3C_109))
			dwLoc3C_109 = eax_1242;
	}
	if (dwLoc3C_109 != 0x00)
	{
		Strnew_charp(dwLoc3C_109, dwLoc3C_109);
		Strshrink(eax_21, Mem0[eax_21 + 0x00:word32] + Mem0[eax_21 + 0x04:word32] - dwLoc3C_109);
	}
	if ((Mem0[dwArg08 + 0x0C:word32] & 0x020F) == 0x00 && (int32) ((word16) ((word32) Mem0[dwArg08 + 0x06:word16])) > dwArg14)
	{
		word32 ebx_1147 = Mem0[dwArg08 + 0xC0:word32] - Mem0[dwArg08 + 0xC4:word32];
		word16 ax_1161 = (word16) (word32) Mem0[dwArg08 + 0x06:word16];
		word32 eax_1149 = Mem0[eax_21 + 0x00:word32] + ebx_1147;
		word32 eax_1155 = Mem0[eax_21 + 0x00:word32] + Mem0[eax_21 + 0x04:word32];
		if (Mem0[dwArg08 + 188:word32] == (int32) ax_1161 && (eax_1149 <=u eax_1155 && Mem0[eax_21 + 0x00:word32] <u eax_1149))
		{
			byte al_1175 = (byte) (word32) Mem0[eax_1149 - 0x01 + 0x00:byte];
			if (al_1175 == 0x20)
			{
				word32 ebx_1193;
				byte SCZO_1194;
				word32 eax_1195;
				byte SZO_1196;
				byte C_1197;
				byte Z_1198;
				word32 edx_1199;
				byte al_1200;
				word16 dx_1201;
				word32 ecx_1202;
				word16 ax_1203;
				byte CZ_1204;
				byte SO_1205;
				byte S_1206;
				byte dh_1207;
				byte dl_1208;
				byte bpl_1210;
				!bcopy();
				Mem1215[eax_21 + 0x04:word32] = Mem0[eax_21 + 0x04:word32] - 0x01;
				Mem1221[dwArg08 + 0x06:word16] = (word16) ((word32) Mem1215[dwArg08 + 0x06:word16] - 0x01);
			}
		}
	}
	if (Mem0[dwArg08 + 0x48:word32] != 0x00 && dwLoc20_1339 == 0x00)
		Strcat_charp(eax_21, 0x080C9B38);
	if (Mem0[dwArg08 + 0x84:word32] != 0x00 && dwLoc24_1323 == 0x00)
		Strcat_charp(eax_21, 135043901);
	if ((byte) (word32) Mem0[dwArg08 + 0x88:byte] != 0x00 && dwLoc28_1307 == 0x00)
		Strcat_charp(eax_21, 0x080C9B48);
	if ((byte) (word32) Mem0[dwArg08 + 0x8A:byte] != 0x00 && dwLoc30_1291 == 0x00)
		Strcat_charp(eax_21, 0x080C9B4D);
	if ((byte) (word32) Mem0[dwArg08 + 0x89:byte] != 0x00 && dwLoc2C_1275 == 0x00)
		Strcat_charp(eax_21, 0x080C9B52);
	if ((byte) (word32) Mem0[dwArg08 + 0x8B:byte] != 0x00 && dwLoc34_108 == 0x00)
		Strcat_charp(eax_21, 0x080C9B57);
	if ((byte) (word32) Mem0[dwArg08 + 0x8C:byte] != 0x00 && dwLoc38_119 == 0x00)
		Strcat_charp(eax_21, 0x080C9B5C);
	if ((word16) (word32) Mem0[dwArg08 + 332:word16] > 0x00)
	{
		init_henv(fp - 0xAC, fp - 0x01FC, fp - 0x7C, 0x01, 0x00, dwArg14, dwArg0C);
		Strnew_size(dwArg14 + 0x14, dwArg14 + 0x14);
		word16 ax_1026 = (word16) (word32) Mem0[dwArg08 + 0x06:word16];
		Strcat_charp(dwArg14 + 0x14, 135043939);
		word32 dwLoc48_1036 = 0x00;
		while ((int32) (word16) (word32) ax_1026 > dwLoc48_1036)
		{
			if (Mem0[dwArg14 + 0x18:word32] + 0x01 >= Mem0[dwArg14 + 0x1C:word32])
				Strgrow(dwArg14 + 0x14);
			word32 edx_1082 = Mem0[dwArg14 + 0x18:word32];
			Mem1085[Mem0[dwArg14 + 0x14:word32] + edx_1082:byte] = 0x20;
			Mem1087[dwArg14 + 0x18:word32] = edx_1082 + 0x01;
			Mem1093[Mem1087[dwArg14 + 0x14:word32] + Mem1087[dwArg14 + 0x18:word32]:byte] = 0x00;
			dwLoc48_1036 = dwLoc48_1036 + 0x01;
		}
		Strcat_charp(dwArg14 + 0x14, 135043949);
		while ((int32) (word16) (word32) Mem0[Mem0[ebp_1192 + 0x0C:word32] + 332:word16] > Mem0[(ebp_1192 - 0x44) + 0x00:word32])
		{
			Mem1059[esp_10 + 0x10:word32] = Mem0[ebp_1192 + 0x18:word32];
			Mem1061[esp_10 + 0x0C:word32] = Mem1059[ebp_1192 + 0x14:word32];
			Mem1063[esp_10 + 0x08:word32] = Mem1061[ebp_1192 + 0x10:word32];
			Mem1065[esp_10 + 0x04:word32] = ebp_1192 - 0x01F8;
			Mem1067[esp_10 + 0x00:word32] = Mem1065[ebp_1192 + 0x08:word32];
			flushline(ebp_1192, gs, dwArg00, dwArg04, dwArg08, dwArg10);
			Mem1069[ebp_1192 - 0x44 + 0x00:word32] = Mem1067[ebp_1192 - 0x44 + 0x00:word32] + 0x01;
		}
	}
	if (Mem0[ebp_1192 + 0x14:word32] != 0x01 && (Mem0[Mem0[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 0x8000) == 0x00)
	{
		word32 eax_902 = Mem0[Mem0[ebp_1192 - 0x14 + 0x00:word32] + 0x00:word32];
		Mem903[ebp_1192 - 0x4C + 0x00:word32] = eax_902;
		Strnew(eax_902);
		Mem904[ebp_1192 - 0x54 + 0x00:word32] = eax_902;
		Strnew(eax_902);
		Mem905[ebp_1192 - 88 + 0x00:word32] = eax_902;
		while ((byte) (word32) Mem905[Mem905[ebp_1192 - 0x4C + 0x00:word32] + 0x00:byte] != 0x00)
		{
			Mem955[ebp_1192 - 0x50 + 0x00:word32] = Mem905[ebp_1192 - 0x4C + 0x00:word32];
			Mem957[esp_10 + 0x00:word32] = ebp_1192 - 0x4C;
			if (sloppy_parse_line(dwArg00) != 0x00)
			{
				Mem969[esp_10 + 0x08:word32] = Mem957[ebp_1192 - 0x4C + 0x00:word32] - Mem957[(ebp_1192 - 0x50) + 0x00:word32];
				Mem971[esp_10 + 0x04:word32] = Mem969[ebp_1192 - 0x50 + 0x00:word32];
				Mem973[esp_10 + 0x00:word32] = Mem971[ebp_1192 - 0x54 + 0x00:word32];
				Strcat_charp_n(dwArg00, dwArg04, dwArg08);
				if (Mem973[ebp_1192 + 0x14:word32] == 0x02)
				{
					if (Mem973[ebp_1192 - 0x0C + 0x00:word32] != 0x00)
					{
						Mem984[esp_10 + 0x08:word32] = 0x00;
						Mem986[esp_10 + 0x04:word32] = Mem984[ebp_1192 - 0x54 + 0x00:word32];
						Mem988[esp_10 + 0x00:word32] = Mem986[ebp_1192 - 0x0C + 0x00:word32];
						appendTextLine(dwArg00, dwArg04, dwArg08);
					}
					else if (Mem973[ebp_1192 - 0x10 + 0x00:word32] != 0x00)
					{
						word32 eax_992 = Mem973[Mem973[ebp_1192 - 0x54 + 0x00:word32] + 0x04:word32];
						word32 eax_995 = Mem973[Mem973[ebp_1192 - 0x54 + 0x00:word32] + 0x00:word32];
						Mem997[esp_10 + 0x0C:word32] = Mem973[ebp_1192 - 0x10 + 0x00:word32];
						Mem998[esp_10 + 0x08:word32] = eax_992;
						Mem999[esp_10 + 0x04:word32] = 0x01;
						Mem1000[esp_10 + 0x00:word32] = eax_995;
						fwrite(Mem1000[esp_10 + 0x00:(ptr void)], Mem1000[esp_10 + 0x04:size_t], Mem1000[esp_10 + 0x08:size_t], Mem1000[esp_10 + 0x0C:(ptr FILE)]);
					}
				}
				else
				{
					Mem1003[esp_10 + 0x04:word32] = Mem973[ebp_1192 - 0x54 + 0x00:word32];
					Mem1005[esp_10 + 0x00:word32] = Mem1003[ebp_1192 - 88 + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
				Mem981[esp_10 + 0x00:word32] = Mem973[ebp_1192 - 0x54 + 0x00:word32];
				Strclear(dwArg00);
			}
		}
		if (Mem905[ebp_1192 + 0x14:word32] == 0x02)
		{
			if (Mem905[ebp_1192 - 0x18 + 0x00:word32] != 0x00)
			{
				if (Mem905[ebp_1192 - 0x0C + 0x00:word32] != 0x00)
				{
					Mem928[esp_10 + 0x08:word32] = 0x00;
					Mem930[esp_10 + 0x04:word32] = Mem928[ebp_1192 - 0x18 + 0x00:word32];
					Mem932[esp_10 + 0x00:word32] = Mem930[ebp_1192 - 0x0C + 0x00:word32];
					appendTextLine(dwArg00, dwArg04, dwArg08);
				}
				else if (Mem905[ebp_1192 - 0x10 + 0x00:word32] != 0x00)
				{
					word32 eax_936 = Mem905[Mem905[ebp_1192 - 0x18 + 0x00:word32] + 0x04:word32];
					word32 eax_939 = Mem905[Mem905[ebp_1192 - 0x18 + 0x00:word32] + 0x00:word32];
					Mem941[esp_10 + 0x0C:word32] = Mem905[ebp_1192 - 0x10 + 0x00:word32];
					Mem942[esp_10 + 0x08:word32] = eax_936;
					Mem943[esp_10 + 0x04:word32] = 0x01;
					Mem944[esp_10 + 0x00:word32] = eax_939;
					fwrite(Mem944[esp_10 + 0x00:(ptr void)], Mem944[esp_10 + 0x04:size_t], Mem944[esp_10 + 0x08:size_t], Mem944[esp_10 + 0x0C:(ptr FILE)]);
				}
			}
			Mem925[ebp_1192 - 0x18 + 0x00:word32] = 0x00;
		}
		else
		{
			if (Mem905[ebp_1192 - 0x18 + 0x00:word32] != 0x00)
			{
				Mem951[esp_10 + 0x04:word32] = Mem905[ebp_1192 - 0x18 + 0x00:word32];
				Mem953[esp_10 + 0x00:word32] = Mem951[ebp_1192 - 88 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			Mem949[ebp_1192 - 0x18 + 0x00:word32] = Mem905[ebp_1192 - 88 + 0x00:word32];
		}
	}
	else
	{
		Mem737[esp_10 + 0x04:word32] = (int32) (word16) (word32) Mem0[Mem0[ebp_1192 + 0x0C:word32] + 0x06:word16];
		word32 eax_738 = Mem737[ebp_1192 - 0x14 + 0x00:word32];
		Mem739[esp_10 + 0x00:word32] = eax_738;
		newTextLine(eax_738, dwArg00, dwArg04);
		Mem740[ebp_1192 - 0x48 + 0x00:word32] = eax_738;
		if ((Mem740[Mem740[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 0x70) == 0x20)
		{
			Mem864[esp_10 + 0x08:word32] = 0x00;
			Mem866[esp_10 + 0x04:word32] = Mem864[ebp_1192 + 0x18:word32];
			Mem868[esp_10 + 0x00:word32] = Mem866[ebp_1192 - 0x48 + 0x00:word32];
			align(dwArg00, dwArg04, dwArg08);
		}
		else if ((Mem740[Mem740[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 0x70) == 0x40)
		{
			Mem874[esp_10 + 0x08:word32] = 0x02;
			Mem876[esp_10 + 0x04:word32] = Mem874[ebp_1192 + 0x18:word32];
			Mem878[esp_10 + 0x00:word32] = Mem876[ebp_1192 - 0x48 + 0x00:word32];
			align(dwArg00, dwArg04, dwArg08);
		}
		else if ((Mem740[Mem740[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 0x70) == 0x10 && (Mem740[Mem740[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 0x00020000) != 0x00)
		{
			Mem890[esp_10 + 0x08:word32] = 0x01;
			Mem892[esp_10 + 0x04:word32] = Mem890[ebp_1192 + 0x18:word32];
			Mem894[esp_10 + 0x00:word32] = Mem892[ebp_1192 - 0x48 + 0x00:word32];
			align(dwArg00, dwArg04, dwArg08);
		}
		if ((int32) (word16) (word32) Mem740[Mem740[ebp_1192 - 0x48 + 0x00:word32] + 0x04:word16] > Mem740[Mem740[ebp_1192 + 0x08:word32] + 0x14:word32])
			Mem863[Mem740[ebp_1192 + 0x08:word32] + 0x14:word32] = (int32) (word16) (word32) Mem740[Mem740[ebp_1192 - 0x48 + 0x00:word32] + 0x04:word16];
		if (Mem740[ebp_1192 - 0x0C + 0x00:word32] != 0x00)
		{
			word32 eax_789 = Mem740[ebp_1192 - 0x0C + 0x00:word32];
			Mem791[esp_10 + 0x04:word32] = Mem740[ebp_1192 - 0x48 + 0x00:word32];
			Mem792[esp_10 + 0x00:word32] = eax_789;
			pushValue(dwArg00, dwArg04);
		}
		else if (Mem740[ebp_1192 - 0x10 + 0x00:word32] != 0x00)
		{
			word32 eax_804;
			if ((byte) (word32) Mem740[135775056:byte] != 0x00)
			{
				word32 edx_844 = Mem740[135091052:word32];
				word32 eax_846 = Mem740[Mem740[ebp_1192 - 0x48 + 0x00:word32] + 0x00:word32];
				Mem847[esp_10 + 0x08:word32] = Mem740[0x080D5370:word32];
				Mem848[esp_10 + 0x04:word32] = edx_844;
				Mem849[esp_10 + 0x00:word32] = eax_846;
				word32 ebx_850;
				eax_804 = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_850);
			}
			else
				eax_804 = Mem740[Mem740[ebp_1192 - 0x48 + 0x00:word32] + 0x00:word32];
			word32 eax_815;
			word32 ebx_806 = Mem740[eax_804 + 0x04:word32];
			if ((byte) (word32) Mem740[135775056:byte] != 0x00)
			{
				word32 edx_829 = Mem740[135091052:word32];
				word32 eax_831 = Mem740[Mem740[ebp_1192 - 0x48 + 0x00:word32] + 0x00:word32];
				Mem832[esp_10 + 0x08:word32] = Mem740[0x080D5370:word32];
				Mem833[esp_10 + 0x04:word32] = edx_829;
				Mem834[esp_10 + 0x00:word32] = eax_831;
				eax_815 = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_806);
			}
			else
				eax_815 = Mem740[Mem740[ebp_1192 - 0x48 + 0x00:word32] + 0x00:word32];
			word32 eax_817 = Mem740[eax_815 + 0x00:word32];
			Mem819[esp_10 + 0x0C:word32] = Mem740[ebp_1192 - 0x10 + 0x00:word32];
			Mem820[esp_10 + 0x08:word32] = ebx_806;
			Mem821[esp_10 + 0x04:word32] = 0x01;
			Mem822[esp_10 + 0x00:word32] = eax_817;
			fwrite(Mem822[esp_10 + 0x00:(ptr void)], Mem822[esp_10 + 0x04:size_t], Mem822[esp_10 + 0x08:size_t], Mem822[esp_10 + 0x0C:(ptr FILE)]);
			Mem825[esp_10 + 0x04:word32] = Mem822[ebp_1192 - 0x10 + 0x00:word32];
			Mem826[esp_10 + 0x00:word32] = 0x0A;
			fputc(Mem826[esp_10 + 0x00:int8], Mem826[esp_10 + 0x04:(ptr FILE)]);
		}
		if ((Mem740[Mem740[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 655) == 0x00 && (Mem740[Mem740[ebp_1192 + 0x0C:word32] + 0x0C:word32] & 0x8000) == 0x00)
			Mem788[Mem740[ebp_1192 + 0x08:word32] + 44:word32] = Mem740[Mem740[ebp_1192 + 0x08:word32] + 44:word32] + 0x01;
		else
			Mem777[Mem740[ebp_1192 + 0x08:word32] + 44:word32] = 0x00;
	}
	if ((word16) (word32) Mem0[Mem0[ebp_1192 + 0x0C:word32] + 334:word16] > 0x00)
	{
		Mem638[esp_10 + 0x18:word32] = Mem0[ebp_1192 + 0x10:word32];
		Mem640[esp_10 + 0x14:word32] = Mem638[ebp_1192 + 0x18:word32];
		Mem641[esp_10 + 0x10:word32] = 0x00;
		Mem642[esp_10 + 0x0C:word32] = 0x01;
		Mem644[esp_10 + 0x08:word32] = ebp_1192 - 0x78;
		Mem646[esp_10 + 0x04:word32] = ebp_1192 - 0x01F8;
		Mem648[esp_10 + 0x00:word32] = ebp_1192 - 0xA8;
		init_henv(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
		word32 eax_653 = Mem648[ebp_1192 + 0x18:word32];
		Mem656[esp_10 + 0x00:word32] = eax_653 + 0x14;
		Strnew_size(eax_653 + 0x14, dwArg00);
		Mem658[ebp_1192 - 0x01F8 + 0x00:word32] = eax_653 + 0x14;
		Mem662[ebp_1192 - 0x01F2 + 0x00:word16] = (word16) (word32) Mem658[Mem658[ebp_1192 + 0x0C:word32] + 0x06:word16];
		Mem665[ebp_1192 - 0x01EC + 0x00:word32] = Mem662[Mem662[ebp_1192 + 0x0C:word32] + 0x0C:word32];
		Mem666[ebp_1192 - 0xAC + 0x00:word16] = ~0x00;
		Mem667[ebp_1192 - 0xAA + 0x00:word16] = ~0x00;
		word32 eax_668 = Mem667[ebp_1192 - 0x01F8 + 0x00:word32];
		Mem669[esp_10 + 0x04:word32] = 135043939;
		Mem670[esp_10 + 0x00:word32] = eax_668;
		Strcat_charp(dwArg00, dwArg04);
		Mem671[ebp_1192 - 0x5C + 0x00:word32] = 0x00;
		while ((int32) (word16) (word32) Mem671[ebp_1192 - 0x01F2 + 0x00:word16] > Mem671[(ebp_1192 - 0x5C) + 0x00:word32])
		{
			if (Mem671[Mem671[ebp_1192 - 0x01F8 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem671[Mem671[(ebp_1192 - 0x01F8) + 0x00:word32] + 0x08:word32])
			{
				Mem730[esp_10 + 0x00:word32] = Mem671[ebp_1192 - 0x01F8 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_713 = Mem671[ebp_1192 - 0x01F8 + 0x00:word32];
			word32 edx_714 = Mem671[eax_713 + 0x04:word32];
			Mem717[Mem671[Mem671[ebp_1192 - 0x01F8 + 0x00:word32] + 0x00:word32] + edx_714:byte] = 0x20;
			Mem719[eax_713 + 0x04:word32] = edx_714 + 0x01;
			Mem725[Mem719[Mem719[ebp_1192 - 0x01F8 + 0x00:word32] + 0x00:word32] + Mem719[Mem719[(ebp_1192 - 0x01F8) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem727[ebp_1192 - 0x5C + 0x00:word32] = Mem725[ebp_1192 - 0x5C + 0x00:word32] + 0x01;
		}
		word32 eax_681 = Mem671[ebp_1192 - 0x01F8 + 0x00:word32];
		Mem682[esp_10 + 0x04:word32] = 135043949;
		Mem683[esp_10 + 0x00:word32] = eax_681;
		Strcat_charp(dwArg00, dwArg04);
		Mem684[ebp_1192 - 0x5C + 0x00:word32] = 0x00;
		while ((int32) (word16) (word32) Mem684[Mem684[ebp_1192 + 0x0C:word32] + 334:word16] > Mem684[(ebp_1192 - 0x5C) + 0x00:word32])
		{
			Mem692[esp_10 + 0x10:word32] = Mem684[ebp_1192 + 0x18:word32];
			Mem694[esp_10 + 0x0C:word32] = Mem692[ebp_1192 + 0x14:word32];
			Mem696[esp_10 + 0x08:word32] = Mem694[ebp_1192 + 0x10:word32];
			Mem698[esp_10 + 0x04:word32] = ebp_1192 - 0x01F8;
			Mem700[esp_10 + 0x00:word32] = Mem698[ebp_1192 + 0x08:word32];
			flushline(ebp_1192, gs, dwArg00, dwArg04, dwArg08, dwArg10);
			Mem702[ebp_1192 - 0x5C + 0x00:word32] = Mem700[ebp_1192 - 0x5C + 0x00:word32] + 0x01;
		}
	}
	if ((word16) (word32) Mem0[Mem0[ebp_1192 + 0x0C:word32] + 332:word16] >= 0x00)
	{
		word32 eax_312 = (word32) Mem0[Mem0[ebp_1192 + 0x0C:word32] + 334:word16];
		if ((word16) eax_312 >= 0x00)
		{
			Mem318[esp_10 + 0x00:word32] = 0x0100;
			Strnew_size(eax_312, dwArg00);
			Mem322[Mem318[ebp_1192 + 0x0C:word32] + 0x00:word32] = eax_312;
			Mem324[Mem322[ebp_1192 + 0x0C:word32] + 0x06:word16] = 0x00;
			Mem326[Mem324[ebp_1192 + 0x0C:word32] + 332:word16] = 0x00;
			Mem328[Mem326[ebp_1192 + 0x0C:word32] + 334:word16] = 0x00;
			word32 eax_330 = Mem328[Mem328[ebp_1192 + 0x0C:word32] + 0x08:word32];
			Mem331[esp_10 + 0x08:word32] = 0x01;
			Mem332[esp_10 + 0x04:word32] = 0x080C96F3;
			Mem333[esp_10 + 0x00:word32] = eax_330;
			Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
			Mem335[Mem333[ebp_1192 + 0x0C:word32] + 0x0118:byte] = 0x01;
			word32 eax_337 = Mem335[Mem335[ebp_1192 + 0x0C:word32] + 0x0C:word32];
			Mem345[Mem335[ebp_1192 + 0x0C:word32] + 0x0C:word32] = DPB(eax_337, SLICE(eax_337, byte, 8) & 0x7F, 8);
			Mem346[esp_10 + 0x04:word32] = 0x00;
			Mem348[esp_10 + 0x00:word32] = Mem346[ebp_1192 + 0x0C:word32];
			set_breakpoint(dwArg00, dwArg04);
			Mem350[Mem348[ebp_1192 + 0x0C:word32] + 0xB8:word16] = 0x00;
			Mem351[0x0817C89C:word32] = 0x00;
			Mem353[esp_10 + 0x04:word32] = Mem351[ebp_1192 + 0x10:word32];
			Mem355[esp_10 + 0x00:word32] = Mem353[ebp_1192 + 0x0C:word32];
			fillline(dwArg00, dwArg04);
			if (Mem355[ebp_1192 - 0x18 + 0x00:word32] != 0x00)
			{
				word32 eax_632 = Mem355[Mem355[ebp_1192 - 0x18 + 0x00:word32] + 0x00:word32];
				Mem633[esp_10 + 0x08:word32] = 0x00;
				Mem634[esp_10 + 0x04:word32] = eax_632;
				word32 eax_635 = Mem634[ebp_1192 + 0x0C:word32];
				Mem636[esp_10 + 0x00:word32] = eax_635;
				passthrough(eax_635, gs, dwArg00, dwArg04, dwArg08);
			}
			if (Mem355[ebp_1192 - 0x1C + 0x00:word32] == 0x00 && Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x48:word32] != 0x00)
			{
				if (Mem355[Mem355[ebp_1192 + 0x0C:word32] + 116:word32] > 0x00)
					Mem630[Mem355[ebp_1192 + 0x0C:word32] + 116:word32] = -Mem355[Mem355[ebp_1192 + 0x0C:word32] + 116:word32];
				Mem492[esp_10 + 0x04:word32] = Mem355[Mem355[ebp_1192 + 0x0C:word32] + 116:word32];
				Mem493[esp_10 + 0x00:word32] = 0x080C9B78;
				byte bpl_494;
				Mem496[ebp_1192 - 0x60 + 0x00:word32] = Sprintf(dwArg00, out bpl_494);
				Mem499[esp_10 + 0x00:word32] = Mem496[Mem496[ebp_1192 + 0x0C:word32] + 0x48:word32];
				Mem501[esp_10 + 0x04:word32] = html_quote(dwArg00);
				Mem503[esp_10 + 0x00:word32] = Mem501[ebp_1192 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				if (Mem503[Mem503[ebp_1192 + 0x0C:word32] + 0x4C:word32] != 0x00)
				{
					Mem613[esp_10 + 0x04:word32] = 0x080C9B8C;
					Mem615[esp_10 + 0x00:word32] = Mem613[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					Mem618[esp_10 + 0x00:word32] = Mem615[Mem615[ebp_1192 + 0x0C:word32] + 0x4C:word32];
					Mem620[esp_10 + 0x04:word32] = html_quote(dwArg00);
					Mem622[esp_10 + 0x00:word32] = Mem620[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				if (Mem503[Mem503[ebp_1192 + 0x0C:word32] + 0x50:word32] != 0x00)
				{
					Mem603[esp_10 + 0x04:word32] = 0x080C9B97;
					Mem605[esp_10 + 0x00:word32] = Mem603[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					Mem608[esp_10 + 0x00:word32] = Mem605[Mem605[ebp_1192 + 0x0C:word32] + 0x50:word32];
					Mem610[esp_10 + 0x04:word32] = html_quote(dwArg00);
					Mem612[esp_10 + 0x00:word32] = Mem610[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				if (Mem503[Mem503[ebp_1192 + 0x0C:word32] + 0x54:word32] != 0x00)
				{
					Mem593[esp_10 + 0x04:word32] = 135044003;
					Mem595[esp_10 + 0x00:word32] = Mem593[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					Mem598[esp_10 + 0x00:word32] = Mem595[Mem595[ebp_1192 + 0x0C:word32] + 0x54:word32];
					Mem600[esp_10 + 0x04:word32] = html_quote(dwArg00);
					Mem602[esp_10 + 0x00:word32] = Mem600[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				if ((byte) (word32) Mem503[Mem503[ebp_1192 + 0x0C:word32] + 88:byte] != 0x00)
				{
					Mem554[ebp_1192 - 100 + 0x00:word32] = 0x080DB6C0[((word32) (byte) (word32) Mem503[(word32) (byte) (word32) Mem503[Mem503[ebp_1192 + 0x0C:word32] + 88:byte] + 0x080DB5C0:byte] & 0x07) * 0x04];
					Mem555[esp_10 + 0x04:word32] = 135044013;
					Mem557[esp_10 + 0x00:word32] = Mem555[ebp_1192 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					if (Mem557[ebp_1192 - 100 + 0x00:word32] != 0x00)
					{
						Mem561[esp_10 + 0x04:word32] = Mem557[ebp_1192 - 100 + 0x00:word32];
						Mem563[esp_10 + 0x00:word32] = Mem561[ebp_1192 - 0x60 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					else
					{
						if (Mem557[Mem557[ebp_1192 - 0x60 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem557[Mem557[(ebp_1192 - 0x60) + 0x00:word32] + 0x08:word32])
						{
							Mem592[esp_10 + 0x00:word32] = Mem557[ebp_1192 - 0x60 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_574 = Mem557[Mem557[ebp_1192 - 0x60 + 0x00:word32] + 0x04:word32];
						Mem581[Mem557[Mem557[ebp_1192 - 0x60 + 0x00:word32] + 0x00:word32] + eax_574:byte] = (byte) (word32) Mem557[Mem557[ebp_1192 + 0x0C:word32] + 88:byte];
						Mem584[Mem581[ebp_1192 - 0x60 + 0x00:word32] + 0x04:word32] = eax_574 + 0x01;
						Mem590[Mem584[Mem584[ebp_1192 - 0x60 + 0x00:word32] + 0x00:word32] + Mem584[Mem584[(ebp_1192 - 0x60) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
				}
				Mem534[esp_10 + 0x04:word32] = 0x080C9BBB;
				Mem536[esp_10 + 0x00:word32] = Mem534[ebp_1192 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				word32 eax_538 = Mem536[Mem536[ebp_1192 - 0x60 + 0x00:word32] + 0x00:word32];
				Mem539[esp_10 + 0x08:word32] = 0x01;
				Mem540[esp_10 + 0x04:word32] = eax_538;
				Mem542[esp_10 + 0x00:word32] = Mem540[ebp_1192 + 0x0C:word32];
				push_tag(dwArg00, dwArg04, dwArg08);
			}
			if (Mem355[ebp_1192 - 0x20 + 0x00:word32] == 0x00)
			{
				word32 eax_454 = Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x84:word32];
				if (eax_454 != 0x00)
				{
					Mem460[esp_10 + 0x00:word32] = 135044030;
					Strnew_charp(eax_454, dwArg00);
					Mem461[ebp_1192 - 0x68 + 0x00:word32] = eax_454;
					Mem465[esp_10 + 0x00:word32] = Mem461[Mem461[Mem461[ebp_1192 + 0x0C:word32] + 0x84:word32] + 0x00:word32];
					Mem467[esp_10 + 0x04:word32] = html_quote(dwArg00);
					Mem469[esp_10 + 0x00:word32] = Mem467[ebp_1192 - 0x68 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					Mem470[esp_10 + 0x04:word32] = 0x080C9BBB;
					Mem472[esp_10 + 0x00:word32] = Mem470[ebp_1192 - 0x68 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					word32 eax_474 = Mem472[Mem472[ebp_1192 - 0x68 + 0x00:word32] + 0x00:word32];
					Mem475[esp_10 + 0x08:word32] = 0x88;
					Mem476[esp_10 + 0x04:word32] = eax_474;
					Mem478[esp_10 + 0x00:word32] = Mem476[ebp_1192 + 0x0C:word32];
					push_tag(dwArg00, dwArg04, dwArg08);
				}
			}
			if (Mem355[ebp_1192 - 0x24 + 0x00:word32] == 0x00 && (byte) ((word32) Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x88:byte]) != 0x00)
			{
				Mem449[esp_10 + 0x08:word32] = 0x07;
				Mem450[esp_10 + 0x04:word32] = 135044045;
				Mem452[esp_10 + 0x00:word32] = Mem450[ebp_1192 + 0x0C:word32];
				push_tag(dwArg00, dwArg04, dwArg08);
			}
			if (Mem355[ebp_1192 - 44 + 0x00:word32] == 0x00 && (byte) ((word32) Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x8A:byte]) != 0x00)
			{
				Mem439[esp_10 + 0x08:word32] = 0x6D;
				Mem440[esp_10 + 0x04:word32] = 135044049;
				Mem442[esp_10 + 0x00:word32] = Mem440[ebp_1192 + 0x0C:word32];
				push_tag(dwArg00, dwArg04, dwArg08);
			}
			if (Mem355[ebp_1192 - 0x28 + 0x00:word32] == 0x00 && (byte) ((word32) Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x89:byte]) != 0x00)
			{
				Mem429[esp_10 + 0x08:word32] = 0x41;
				Mem430[esp_10 + 0x04:word32] = 135044053;
				Mem432[esp_10 + 0x00:word32] = Mem430[ebp_1192 + 0x0C:word32];
				push_tag(dwArg00, dwArg04, dwArg08);
			}
			if (Mem355[ebp_1192 - 0x30 + 0x00:word32] == 0x00 && (byte) ((word32) Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x8B:byte]) != 0x00)
			{
				Mem419[esp_10 + 0x08:word32] = 0x69;
				Mem420[esp_10 + 0x04:word32] = 0x080C9BD9;
				Mem422[esp_10 + 0x00:word32] = Mem420[ebp_1192 + 0x0C:word32];
				push_tag(dwArg00, dwArg04, dwArg08);
			}
			if (Mem355[ebp_1192 - 0x34 + 0x00:word32] == 0x00 && (byte) ((word32) Mem355[Mem355[ebp_1192 + 0x0C:word32] + 0x8C:byte]) != 0x00)
			{
				Mem409[esp_10 + 0x08:word32] = 0x3F;
				Mem410[esp_10 + 0x04:word32] = 0x080C9BDD;
				Mem412[esp_10 + 0x00:word32] = Mem410[ebp_1192 + 0x0C:word32];
				push_tag(dwArg00, dwArg04, dwArg08);
			}
		}
	}
}

// 08061711: void do_blankline(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg14)
void do_blankline(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg14)
{
	if (Mem0[dwArg04 + 44:word32] == 0x00)
		flushline(fp - 0x04, gs, dwArg04, dwArg08, dwArg0C, dwArg14);
}

// 0806174B: void purgeline(Stack word32 dwArg04)
void purgeline(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x04:word32] != 0x00 && Mem0[dwArg04 + 44:word32] != 0x00)
	{
		word32 eax_41 = Mem0[Mem0[rpopValue(Mem0[dwArg04 + 0x04:word32]) + 0x00:word32] + 0x00:word32];
		Strnew(eax_41);
		while ((byte) (word32) Mem0[eax_41 + 0x00:byte] != 0x00)
		{
			if (sloppy_parse_line(fp - 0x10) != 0x00)
				Strcat_charp_n(eax_41, eax_41, 0x00);
		}
		appendTextLine(Mem0[dwArg04 + 0x04:word32], eax_41, 0x00);
		Mem73[dwArg04 + 44:word32] = Mem0[dwArg04 + 44:word32] - 0x01;
	}
}

// 08061803: void close_effect0(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void close_effect0(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_109 = Mem0[dwArg04 + 0x0148:word32] - 0x01 + 0x48;
	while (dwLoc10_109 >= ~0x47 && Mem0[dwArg04[(dwLoc10_109 + 0x00) * 0x04] + 0x04:word32] != dwArg08)
		dwLoc10_109 = dwLoc10_109 - 0x01;
	if (dwLoc10_109 >= 0x00)
	{
		Mem50[dwArg04 + 0x0148:word32] = Mem0[dwArg04 + 0x0148:word32] - 0x01;
		word32 esp_72;
		word32 ebp_73;
		word32 ebx_74;
		byte SCZO_75;
		word32 eax_76;
		byte S_77;
		word32 edx_78;
		byte Z_79;
		word32 ecx_80;
		selector gs_81;
		!bcopy();
	}
	else
	{
		word32 eax_88 = has_hidden_link(dwArg04, dwArg08);
		if (eax_88 != 0x00)
			passthrough(dwArg04, gs, dwArg04, eax_88, 0x01);
	}
}

// 080618EE: void close_anchor(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void close_anchor(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x48:word32] == 0x00)
	{
l08061B40:
		word32 eax_53 = Mem0[fp + 0x08:word32];
		Mem56[fp - 0x28 + 0x00:word32] = 0x3C;
		Mem57[fp - 44 + 0x00:word32] = eax_53 + 0x48;
		word32 esp_65;
		word32 ebp_66;
		word32 ebx_67;
		byte SCZO_68;
		word32 eax_69;
		byte SZO_70;
		byte C_71;
		byte Z_72;
		byte S_73;
		word32 edx_74;
		byte al_75;
		word16 dx_76;
		word32 ecx_77;
		byte SO_78;
		selector gs_79;
		!bzero();
		return;
	}
	word32 dwLoc14_169 = 0x00;
	word32 dwLoc10_302 = Mem0[dwArg08 + 0x0148:word32] - 0x01 + 0x48;
	while (dwLoc10_302 >= ~0x47 && Mem0[dwArg08[(dwLoc10_302 + 0x00) * 0x04] + 0x04:word32] != 0x01)
		dwLoc10_302 = dwLoc10_302 - 0x01;
	if (dwLoc10_302 < 0x00 && (Mem0[dwArg08 + 116:word32] > 0x00 && (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x04:word32] > 0x00 && (byte) ((word32) Mem0[Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32] + (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x04:word32] - 0x01):byte]) == 0x20)))
	{
		Strshrink(Mem0[dwArg08 + 0x00:word32], 0x01);
		Mem292[dwArg08 + 0x06:word16] = (word16) ((word32) Mem0[dwArg08 + 0x06:word16] - 0x01);
	}
	if (dwLoc10_302 < 0x00)
	{
		word32 eax_258 = has_hidden_link(dwArg08, 0x01);
		dwLoc14_169 = eax_258;
		if (eax_258 == 0x00)
			goto l08061AB8;
	}
	if (Mem0[dwArg08 + 116:word32] <= 0x00)
	{
		if (dwLoc10_302 >= 0x00)
		{
			Mem215[dwArg08 + 0x0148:word32] = Mem0[dwArg08 + 0x0148:word32] - 0x01;
			word32 esp_235;
			word32 ebp_236;
			word32 ebx_237;
			byte SCZO_238;
			word32 eax_239;
			byte SZO_240;
			byte C_241;
			byte Z_242;
			byte S_243;
			word32 edx_244;
			byte al_245;
			word16 dx_246;
			word32 ecx_247;
			byte SO_248;
			selector gs_249;
			!bcopy();
		}
		else
			passthrough(dwArg08, gs, dwArg08, dwLoc14_169, 0x01);
		word32 esp_196;
		word32 ebp_197;
		word32 ebx_198;
		byte SCZO_199;
		word32 eax_200;
		byte SZO_201;
		byte C_202;
		byte Z_203;
		byte S_204;
		word32 edx_205;
		byte al_206;
		word16 dx_207;
		word32 ecx_208;
		byte SO_209;
		selector gs_210;
		!bzero();
		return;
	}
	HTMLlineproc0(fp - 0x04, gs, dwArg04);
	word32 eax_183 = Mem0[Mem0[fp + 0x08:word32] + 0x08:word32];
	Mem184[fp - 0x24 + 0x00:word32] = 0x01;
	Mem185[fp - 0x28 + 0x00:word32] = 0x080C96F3;
	Mem186[fp - 44 + 0x00:word32] = eax_183;
	Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
	Mem187[fp - 0x18 + 0x00:word32] = 0x00;
l08061AB8:
	if (Mem0[fp - 0x18 + 0x00:word32] != 0x00)
	{
		if (Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x00:word32] + 0x08:word32])
		{
			Mem168[fp - 44 + 0x00:word32] = Mem0[Mem0[fp + 0x08:word32] + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_144 = Mem0[Mem0[fp + 0x08:word32] + 0x00:word32];
		word32 edx_145 = Mem0[eax_144 + 0x04:word32];
		Mem148[Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x00:word32] + 0x00:word32] + edx_145:byte] = 0x20;
		Mem151[eax_144 + 0x04:word32] = edx_145 + 0x01;
		Mem159[Mem151[Mem151[Mem151[fp + 0x08:word32] + 0x00:word32] + 0x00:word32] + Mem151[Mem151[Mem151[fp + 0x08:word32] + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem165[Mem159[fp + 0x08:word32] + 0x06:word16] = (word16) ((word32) Mem159[Mem159[fp + 0x08:word32] + 0x06:word16] + 0x01);
	}
	Mem125[fp - 0x24 + 0x00:word32] = 0x02;
	Mem126[fp - 0x28 + 0x00:word32] = 0x080C9B38;
	Mem128[fp - 44 + 0x00:word32] = Mem126[fp + 0x08:word32];
	push_tag(dwArg00, dwArg04, dwArg08);
	goto l08061B40;
}

// 08061B5C: void save_fonteffect(Stack word32 dwArg08)
void save_fonteffect(word32 dwArg08)
{
	if (Mem0[dwArg08 + 0xB4:word32] <= 0x04)
	{
		word32 esp_128;
		word32 ebp_129;
		byte SCZO_130;
		word32 eax_131;
		byte SZO_132;
		word32 ecx_133;
		word32 edx_134;
		byte al_135;
		byte C_136;
		byte Z_137;
		!bcopy();
	}
	Mem28[dwArg08 + 0xB4:word32] = Mem0[dwArg08 + 0xB4:word32] + 0x01;
	if ((byte) (word32) Mem28[dwArg08 + 0x88:byte] != 0x00)
		push_tag(dwArg08, 0x080C9B48, 0x08);
	if ((byte) (word32) Mem28[dwArg08 + 0x8A:byte] != 0x00)
		push_tag(dwArg08, 0x080C9B4D, 110);
	if ((byte) (word32) Mem28[dwArg08 + 0x89:byte] != 0x00)
		push_tag(dwArg08, 0x080C9B52, 66);
	if ((byte) (word32) Mem28[dwArg08 + 0x8B:byte] != 0x00)
		push_tag(dwArg08, 0x080C9B57, 0x6A);
	byte al_67 = (byte) (word32) Mem28[dwArg08 + 0x8C:byte];
	if (al_67 != 0x00)
		push_tag(dwArg08, 0x080C9B5C, 0x40);
	word32 esp_77;
	word32 ebp_78;
	byte SCZO_79;
	word32 eax_80;
	byte SZO_81;
	word32 ecx_82;
	word32 edx_83;
	byte al_84;
	byte C_85;
	byte Z_86;
	!bzero();
}

// 08061CA6: void restore_fonteffect(Stack word32 dwArg08)
void restore_fonteffect(word32 dwArg08)
{
	if (Mem0[dwArg08 + 0xB4:word32] > 0x00)
		Mem139[dwArg08 + 0xB4:word32] = Mem0[dwArg08 + 0xB4:word32] - 0x01;
	if (Mem0[dwArg08 + 0xB4:word32] <= 0x04)
	{
		word32 esp_124;
		word32 ebp_125;
		word32 ebx_126;
		byte SCZO_127;
		word32 eax_128;
		byte SZO_129;
		byte C_130;
		word32 edx_131;
		word32 ecx_132;
		byte al_133;
		byte Z_134;
		!bcopy();
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x88:byte] != 0x00)
		push_tag(dwArg08, 0x080C9BE5, 0x07);
	if ((byte) (word32) Mem0[dwArg08 + 0x8A:byte] != 0x00)
		push_tag(dwArg08, 0x080C9BE9, 0x6D);
	if ((byte) (word32) Mem0[dwArg08 + 0x89:byte] != 0x00)
		push_tag(dwArg08, 135044077, 0x41);
	if ((byte) (word32) Mem0[dwArg08 + 0x8B:byte] != 0x00)
		push_tag(dwArg08, 135044081, 0x69);
	if ((byte) (word32) Mem0[dwArg08 + 0x8C:byte] != 0x00)
		push_tag(dwArg08, 135044085, 0x3F);
}

// 08061DEB: void process_title(Register word32 eax)
void process_title(word32 eax)
{
	Strnew(eax);
	Mem9[0x0817C848:word32] = eax;
}

// 08061E02: void process_n_title()
void process_n_title()
{
	if (Mem0[0x0817C848:word32] != 0x00)
	{
		Strremovefirstspaces(Mem0[0x0817C848:word32]);
		Strremovetrailingspaces(Mem0[0x0817C848:word32]);
		Strnew_m_charp(html_quote(Mem0[Mem0[0x0817C848:word32] + 0x00:word32]), 0x080C9BFB);
		Mem40[0x0817C848:word32] = 0x00;
	}
}

// 08061E73: void feed_title(Register word32 ebp)
void feed_title(word32 ebp)
{
	if (Mem0[0x0817C848:word32] != 0x00)
	{
		while ((byte) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x00:byte] == 0x26)
			{
				Mem60[fp - 0x1C + 0x00:word32] = fp + 0x04;
				word32 ebx_62;
				word32 eax_63 = getescapecmd(dwArg00, out ebx_62);
				word32 edx_64 = Mem60[0x0817C848:word32];
				Mem65[fp - 0x18 + 0x00:word32] = eax_63;
				Mem66[fp - 0x1C + 0x00:word32] = edx_64;
				Strcat_charp(dwArg00, dwArg04);
			}
			else if ((byte) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x00:byte] != 0x0A && (byte) ((word32) Mem0[Mem0[fp + 0x04:word32] + 0x00:byte]) != 0x0D)
			{
				if (Mem0[Mem0[0x0817C848:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x0817C848:word32] + 0x08:word32])
				{
					Mem137[fp - 0x1C + 0x00:word32] = Mem0[0x0817C848:word32];
					Strgrow(dwArg00);
				}
				word32 eax_117 = Mem0[0x0817C848:word32];
				word32 ecx_118 = Mem0[eax_117 + 0x04:word32];
				word32 edx_121 = Mem0[fp + 0x04:word32];
				Mem124[Mem0[Mem0[0x0817C848:word32] + 0x00:word32] + ecx_118:byte] = (byte) (word32) Mem0[edx_121 + 0x00:byte];
				Mem127[eax_117 + 0x04:word32] = ecx_118 + 0x01;
				Mem129[fp + 0x04:word32] = edx_121 + 0x01;
				Mem135[Mem129[Mem129[0x0817C848:word32] + 0x00:word32] + Mem129[Mem129[0x0817C848:word32] + 0x04:word32]:byte] = 0x00;
			}
			else
			{
				if (Mem0[Mem0[0x0817C848:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x0817C848:word32] + 0x08:word32])
				{
					Mem102[fp - 0x1C + 0x00:word32] = Mem0[0x0817C848:word32];
					Strgrow(dwArg00);
				}
				word32 eax_84 = Mem0[0x0817C848:word32];
				word32 edx_85 = Mem0[eax_84 + 0x04:word32];
				Mem88[Mem0[Mem0[0x0817C848:word32] + 0x00:word32] + edx_85:byte] = 0x20;
				Mem90[eax_84 + 0x04:word32] = edx_85 + 0x01;
				Mem96[Mem90[Mem90[0x0817C848:word32] + 0x00:word32] + Mem90[Mem90[0x0817C848:word32] + 0x04:word32]:byte] = 0x00;
				Mem100[fp + 0x04:word32] = Mem96[fp + 0x04:word32] + 0x01;
			}
		}
	}
}

// 08061FA7: void process_img(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void process_img(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word16 ax_154;
	word32 eax_1728;
	word32 ebp_294 = fp - 0x04;
	word32 esp_16 = fp - 0xEC;
	if (Mem0[135774940:word32] != 0x00 && Mem0[0x080D530C:word32] != 0x00)
	{
		eax_1728 = 0x01;
		ax_154 = 0x01;
	}
	else
	{
		eax_1728 = 0x00;
		ax_154 = 0x00;
	}
	Strnew(eax_1728);
	if (parsedtag_get_value(dwArg04, 0x1F, fp - 0x20) == 0x00)
		return;
	word32 edx_118;
	remove_space(dwLoc20, out edx_118);
	parsedtag_get_value(dwArg04, 0x05, fp - 0x24);
	parsedtag_get_value(dwArg04, 0x31, fp - 0x34);
	word32 dwLoc38_136 = ~0x00;
	if (parsedtag_get_value(dwArg04, 0x26, fp - 0x38) != 0x00)
	{
		if (true)
		{
			if (dwArg08 > 0x00)
			{
				real64 rLoc1_1715 = (real64) -dwArg08 * Mem0[0x080D53A0:real64] * (real64) ~0x00 / Mem0[0x080CAB78:real64] + Mem0[0x080CAB80:real64];
				word16 wLocD2_1716 = __fstcw();
				ax_154 = DPB(ax_154, 0x0C, 8);
				__fldcw(ax_154);
				__fldcw(wLocD2_1716);
				dwLoc38_136 = (int32) rLoc1_1715;
			}
			else
				dwLoc38_136 = ~0x00;
		}
		if (eax_1728 != 0x00 && dwLoc38_136 > 0x00)
		{
			real64 rLoc1_1680 = (real64) dwLoc38_136 * Mem0[0x080D53B0:real64] / Mem0[0x080CAB78:real64] + Mem0[0x080CAB80:real64];
			word16 wLocD2_1681 = __fstcw();
			ax_154 = DPB(ax_154, 0x0C, 8);
			__fldcw(ax_154);
			__fldcw(wLocD2_1681);
			word32 dwLocD0_1686 = (int32) rLoc1_1680;
		}
	}
	if (eax_1728 != 0x00)
	{
		if (parsedtag_get_value(dwArg04, 0x11, fp - 0x3C) != 0x00 && false)
		{
			real64 rLoc1_1627 = (real64) ~0x00 * Mem0[0x080D53B0:real64] / Mem0[0x080CAB78:real64] + Mem0[0x080CAB80:real64];
			word16 wLocD2_1628 = __fstcw();
			__fldcw(DPB(ax_154, 0x0C, 8));
			__fldcw(wLocD2_1628);
			word32 dwLocD0_1633 = (int32) rLoc1_1627;
		}
		parsedtag_get_value(dwArg04, 0x04, fp - 0x54);
	}
	else
		parsedtag_get_value(dwArg04, 0x11, fp - 0x3C);
	parsedtag_get_value(dwArg04, 0x22, fp - 0x28);
	word32 eax_1539 = Mem0[dwArg04 + 0x0C:word32];
	word16 ax_1142 = (word16) eax_1539;
	if (eax_1539 != 0x00)
	{
		eax_1539 = (word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x4A:byte];
		ax_1142 = (word16) eax_1539;
		if ((byte) eax_1539 != 0x4B)
		{
			eax_1539 = (word32) Mem0[Mem0[dwArg04 + 0x04:word32] + (word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x4A:byte])):byte];
			ax_1142 = (word16) eax_1539;
		}
	}
	Strnew_size(eax_1539, 0x80);
	if (eax_1728 != 0x00)
	{
		if (~0x01 != 0x00)
		{
			if (~0x02 != 0x00)
			{
				if (~0x00 == 0x00)
					Strcat_charp(eax_1539, 135044131);
			}
			else
				Strcat_charp(eax_1539, 135044154);
		}
		else
			Strcat_charp(eax_1539, 0x080C9C0E);
	}
	if (0x00 != 0x00)
	{
		strchr(0x00, '#');
		Mem1425[fp - 0xEC + 0x00:word32] = parse_tag(fp - 0x04, gs, fp - 0x30, 0x01);
		Mem1427[fp - 0x7C + 0x00:word32] = process_form(gs, dwArg00);
		if (Mem1427[fp - 0x7C + 0x00:word32] != 0x00)
		{
			Mem1516[fp - 232 + 0x00:word32] = Mem1427[fp - 0x7C + 0x00:word32];
			Mem1518[fp - 0xEC + 0x00:word32] = Mem1516[fp - 0x78 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		word32 eax_1438;
		if (Mem1427[0x0817C8AC:word32] >= 0x00)
			eax_1438 = Mem1427[0x0817C8A4:word32][Mem1427[0x0817C8AC:word32] * 0x04];
		else
			eax_1438 = ~0x00;
		word32 eax_1451;
		Mem1439[fp - 232 + 0x00:word32] = eax_1438;
		Mem1440[fp - 0xEC + 0x00:word32] = 0x080C9C78;
		byte bpl_1441;
		Mem1443[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_1441);
		Mem1445[fp - 0xEC + 0x00:word32] = Mem1443[fp - 0x78 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		if (Mem1445[fp - 44 + 0x00:word32] != 0x00)
			eax_1451 = Mem1445[fp - 44 + 0x00:word32] + 0x01;
		else
			eax_1451 = Mem1445[fp - 0x28 + 0x00:word32];
		word32 eax_1465;
		Mem1453[fp - 0xEC + 0x00:word32] = eax_1451;
		Mem1455[fp - 232 + 0x00:word32] = html_quote(dwArg00);
		Mem1457[fp - 0xEC + 0x00:word32] = Mem1455[fp - 0x78 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		if (Mem1457[0x0817C8AC:word32] >= 0x00)
		{
			eax_1465 = Mem1457[0x0817C8A4:word32][Mem1457[0x0817C8AC:word32] * 0x04];
			ax_1142 = (word16) eax_1465;
		}
		else
		{
			eax_1465 = ~0x00;
			ax_1142 = ~0x00;
		}
		word32 edx_1466 = Mem1457[0x0817C8B8:word32];
		Mem1470[0x0817C8B8:word32] = edx_1466 + 0x01;
		Mem1471[fp - 228 + 0x00:word32] = eax_1465;
		Mem1472[fp - 232 + 0x00:word32] = edx_1466;
		Mem1473[fp - 0xEC + 0x00:word32] = 0x080C9CAC;
		byte bpl_1474;
		Mem1476[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_1474);
		Mem1478[fp - 0xEC + 0x00:word32] = Mem1476[fp - 0x78 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
	}
	word16 ax_1024;
	if (Mem0[fp - 0x6C + 0x00:word32] != 0x00)
	{
		Mem1130[fp - 0x4C + 0x00:word32] = Mem0[fp - 0x38 + 0x00:word32];
		Mem1132[fp - 0x50 + 0x00:word32] = Mem1130[fp - 0x3C + 0x00:word32];
		if (Mem1132[fp - 0x38 + 0x00:word32] < 0x00 || Mem1132[(fp - 0x3C) + 0x00:word32] < 0x00)
		{
			word32 edi_1233 = (int32) (byte) (word32) Mem1132[0x0817C844:byte];
			word32 esi_1234 = Mem1132[135091052:word32];
			word32 eax_1235 = Mem1132[fp - 0x20 + 0x00:word32];
			Mem1236[fp - 0xEC + 0x00:word32] = eax_1235;
			Strnew_charp(eax_1235, dwArg00);
			Mem1237[fp - 228 + 0x00:word32] = edi_1233;
			Mem1238[fp - 232 + 0x00:word32] = esi_1234;
			Mem1239[fp - 0xEC + 0x00:word32] = eax_1235;
			word32 ebx_1240;
			word32 eax_1242 = Mem1239[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_1240) + 0x00:word32];
			Mem1243[fp - 228 + 0x00:word32] = ebx_1240;
			Mem1245[fp - 232 + 0x00:word32] = fp - 0xCC;
			Mem1246[fp - 0xEC + 0x00:word32] = eax_1242;
			parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem1248[fp - 0xEC + 0x00:word32] = fp - 0xCC;
			byte bpl_1249;
			Mem1252[fp - 0xA4 + 0x00:word32] = Mem1248[parsedURL2Str(dwArg00, out bpl_1249) + 0x00:word32];
			word32 eax_1253 = Mem1252[fp - 0xB8 + 0x00:word32];
			Mem1257[fp - 232 + 0x00:word32] = fp - 0xA0;
			Mem1258[fp - 0xEC + 0x00:word32] = eax_1253;
			if (uncompressed_file_type(dwArg00, dwArg04) == 0x00)
			{
				word32 eax_1340 = Mem1258[fp - 0xB8 + 0x00:word32];
				Mem1341[fp - 232 + 0x00:word32] = 0x01;
				Mem1342[fp - 0xEC + 0x00:word32] = eax_1340;
				Mem1344[fp - 0xA0 + 0x00:word32] = filename_extension(dwArg00, dwArg04);
			}
			Mem1263[fp - 0x84 + 0x00:word32] = 0x00;
			Mem1266[fp - 0x9C + 0x00:word16] = (word16) Mem1263[fp - 0x38 + 0x00:word32];
			ax_1142 = (word16) Mem1266[fp - 0x3C + 0x00:word32];
			Mem1269[fp - 0x9A + 0x00:word16] = ax_1142;
			word32 eax_1270 = Mem1269[0x0817C840:word32];
			Mem1271[fp - 228 + 0x00:word32] = 0x01;
			Mem1272[fp - 232 + 0x00:word32] = eax_1270;
			Mem1274[fp - 0xEC + 0x00:word32] = fp - 0xA4;
			word32 ebx_1275;
			byte bpl_1276;
			Mem1278[fp - 0x84 + 0x00:word32] = getImage(fp - 0x04, dwArg00, out ebx_1275, out bpl_1276);
			if (Mem1278[fp - 0x84 + 0x00:word32] != 0x00)
			{
				ax_1142 = (word16) (word32) Mem1278[Mem1278[fp - 0x84 + 0x00:word32] + 0x1C:word16];
				if (ax_1142 > 0x00)
				{
					ax_1142 = (word16) (word32) Mem1278[Mem1278[fp - 0x84 + 0x00:word32] + 0x1E:word16];
					if (ax_1142 > 0x00)
					{
						Mem1330[fp - 0x4C + 0x00:word32] = (int32) (word16) (word32) Mem1278[Mem1278[fp - 0x84 + 0x00:word32] + 0x1C:word16];
						Mem1332[fp - 0x38 + 0x00:word32] = Mem1330[fp - 0x4C + 0x00:word32];
						ax_1142 = (word16) (word32) Mem1332[Mem1332[fp - 0x84 + 0x00:word32] + 0x1E:word16];
						Mem1337[fp - 0x50 + 0x00:word32] = (int32) ax_1142;
						Mem1339[fp - 0x3C + 0x00:word32] = Mem1337[fp - 0x50 + 0x00:word32];
					}
				}
			}
			if (Mem1278[fp - 0x38 + 0x00:word32] < 0x00)
			{
				real64 rLoc1_1307 = Mem1278[0x080D53A0:real64] * Mem1278[0x080CAB88:real64];
				Mem1308[fp - 0xD2 + 0x00:word16] = __fstcw();
				ax_1142 = DPB(ax_1142, 0x0C, 8);
				Mem1312[fp - 212 + 0x00:word16] = ax_1142;
				__fldcw(Mem1312[fp - 212 + 0x00:word16]);
				Mem1313[fp - 0xD0 + 0x00:int32] = (int32) rLoc1_1307;
				__fldcw(Mem1313[fp - 0xD2 + 0x00:word16]);
				Mem1315[fp - 0x38 + 0x00:word32] = Mem1313[fp - 0xD0 + 0x00:word32];
			}
			if (Mem1278[fp - 0x3C + 0x00:word32] < 0x00)
			{
				real64 rLoc1_1296 = Mem1278[135091112:real64];
				Mem1297[fp - 0xD2 + 0x00:word16] = __fstcw();
				ax_1142 = DPB(ax_1142, 0x0C, 8);
				Mem1301[fp - 212 + 0x00:word16] = ax_1142;
				__fldcw(Mem1301[fp - 212 + 0x00:word16]);
				Mem1302[fp - 0xD0 + 0x00:int32] = (int32) rLoc1_1296;
				__fldcw(Mem1302[fp - 0xD2 + 0x00:word16]);
				Mem1304[fp - 0x3C + 0x00:word32] = Mem1302[fp - 0xD0 + 0x00:word32];
			}
		}
		word32 eax_1158;
		word16 ax_1156;
		if (Mem1132[fp - 0x38 + 0x00:word32] > 0x03)
		{
			Mem1209[fp - 0xD0 + 0x00:word32] = Mem1132[fp - 0x38 + 0x00:word32] - 0x03;
			real64 rLoc1_1212 = (real64) Mem1209[fp - 0xD0 + 0x00:int32] / Mem1209[0x080D53A0:real64];
			Mem1215[fp - 0xD2 + 0x00:word16] = __fstcw();
			Mem1219[fp - 212 + 0x00:word16] = DPB(ax_1142, 0x0C, 8);
			__fldcw(Mem1219[fp - 212 + 0x00:word16]);
			Mem1220[fp - 0xD0 + 0x00:int32] = (int32) (rLoc1_1212 + 1.0);
			__fldcw(Mem1220[fp - 0xD2 + 0x00:word16]);
			eax_1158 = Mem1220[fp - 0xD0 + 0x00:word32];
			ax_1156 = (word16) eax_1158;
		}
		else
		{
			eax_1158 = 0x01;
			ax_1156 = 0x01;
		}
		word32 eax_1168;
		Mem1159[fp - 0x40 + 0x00:word32] = eax_1158;
		if (Mem1159[fp - 0x3C + 0x00:word32] > 0x03)
		{
			Mem1186[fp - 0xD0 + 0x00:word32] = Mem1159[fp - 0x3C + 0x00:word32] - 0x03;
			real64 rLoc1_1189 = (real64) Mem1186[fp - 0xD0 + 0x00:int32] / Mem1186[135091112:real64];
			Mem1192[fp - 0xD2 + 0x00:word16] = __fstcw();
			Mem1196[fp - 212 + 0x00:word16] = DPB(ax_1156, 0x0C, 8);
			__fldcw(Mem1196[fp - 212 + 0x00:word16]);
			Mem1197[fp - 0xD0 + 0x00:int32] = (int32) (rLoc1_1189 + 1.0);
			__fldcw(Mem1197[fp - 0xD2 + 0x00:word16]);
			eax_1168 = Mem1197[fp - 0xD0 + 0x00:word32];
			ax_1024 = (word16) eax_1168;
		}
		else
		{
			eax_1168 = 0x01;
			ax_1024 = 0x01;
		}
		Mem1169[fp - 0x44 + 0x00:word32] = eax_1168;
		word32 eax_1170 = Mem1169[135776444:word32];
		Mem1174[135776444:word32] = eax_1170 + 0x01;
		Mem1175[fp - 232 + 0x00:word32] = eax_1170;
		Mem1176[fp - 0xEC + 0x00:word32] = 0x080C9CE8;
		byte bpl_1177;
		Mem1179[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_1177);
		Mem1181[fp - 0xEC + 0x00:word32] = Mem1179[fp - 0x78 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		Mem1182[fp - 0x70 + 0x00:word32] = 0x01;
	}
	else
	{
		if (Mem0[fp - 0x38 + 0x00:word32] < 0x00)
		{
			real64 rLoc1_1405 = Mem0[0x080D53A0:real64] * Mem0[0x080CAB90:real64];
			Mem1406[fp - 0xD2 + 0x00:word16] = __fstcw();
			ax_1142 = DPB(ax_1142, 0x0C, 8);
			Mem1410[fp - 212 + 0x00:word16] = ax_1142;
			__fldcw(Mem1410[fp - 212 + 0x00:word16]);
			Mem1411[fp - 0xD0 + 0x00:int32] = (int32) rLoc1_1405;
			__fldcw(Mem1411[fp - 0xD2 + 0x00:word16]);
			Mem1413[fp - 0x38 + 0x00:word32] = Mem1411[fp - 0xD0 + 0x00:word32];
		}
		word32 eax_1366;
		if (Mem0[fp - 0x38 + 0x00:word32] != 0x00)
		{
			Mem1383[fp - 0xD0 + 0x00:word32] = Mem0[fp - 0x38 + 0x00:word32] - 0x01;
			real64 rLoc1_1386 = (real64) Mem1383[fp - 0xD0 + 0x00:int32] / Mem1383[0x080D53A0:real64];
			Mem1389[fp - 0xD2 + 0x00:word16] = __fstcw();
			Mem1393[fp - 212 + 0x00:word16] = DPB(ax_1142, 0x0C, 8);
			__fldcw(Mem1393[fp - 212 + 0x00:word16]);
			Mem1394[fp - 0xD0 + 0x00:int32] = (int32) (rLoc1_1386 + 1.0);
			__fldcw(Mem1394[fp - 0xD2 + 0x00:word16]);
			eax_1366 = Mem1394[fp - 0xD0 + 0x00:word32];
			ax_1024 = (word16) eax_1366;
		}
		else
		{
			eax_1366 = 0x01;
			ax_1024 = 0x01;
		}
		Mem1368[fp - 0x40 + 0x00:word32] = eax_1366;
		if (Mem1368[fp - 0x28 + 0x00:word32] != 0x00)
		{
			Mem1376[fp - 232 + 0x00:word32] = 135043939;
			Mem1378[fp - 0xEC + 0x00:word32] = Mem1376[fp - 0x78 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem1379[fp - 0x70 + 0x00:word32] = 0x01;
		}
		Mem1373[fp - 232 + 0x00:word32] = 0x080C9D0A;
		Mem1375[fp - 0xEC + 0x00:word32] = Mem1373[fp - 0x78 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
	Mem234[fp - 0xEC + 0x00:word32] = Mem0[fp - 0x20 + 0x00:word32];
	Mem237[fp - 232 + 0x00:word32] = html_quote(dwArg00);
	Mem239[fp - 0xEC + 0x00:word32] = Mem237[fp - 0x78 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem240[fp - 232 + 0x00:word32] = 0x080C9D19;
	Mem242[fp - 0xEC + 0x00:word32] = Mem240[fp - 0x78 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	if (Mem242[fp - 0x34 + 0x00:word32] != 0x00)
	{
		Mem1117[fp - 232 + 0x00:word32] = 0x080C9D1B;
		Mem1119[fp - 0xEC + 0x00:word32] = Mem1117[fp - 0x78 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem1121[fp - 0xEC + 0x00:word32] = Mem1119[fp - 0x34 + 0x00:word32];
		Mem1123[fp - 232 + 0x00:word32] = html_quote(dwArg00);
		Mem1125[fp - 0xEC + 0x00:word32] = Mem1123[fp - 0x78 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem1126[fp - 232 + 0x00:word32] = 0x080C9D19;
		Mem1128[fp - 0xEC + 0x00:word32] = Mem1126[fp - 0x78 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
	if (Mem242[fp - 0x6C + 0x00:word32] == 0x00)
	{
l08062C8E:
		Mem262[fp - 232 + 0x00:word32] = 0x080C9D83;
		Mem264[fp - 0xEC + 0x00:word32] = Mem262[fp - 0x78 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		if (Mem264[fp - 0x24 + 0x00:word32] != 0x00 && ((byte) ((word32) Mem264[Mem264[(fp - 0x24) + 0x00:word32] + 0x00:byte]) == 0x00 && Mem264[0x080D5348:word32] != 0x00))
			Mem849[fp - 0x24 + 0x00:word32] = 0x00;
		if (Mem264[fp - 0x24 + 0x00:word32] != 0x00)
		{
			Mem366[fp - 0xEC + 0x00:word32] = Mem264[fp - 0x24 + 0x00:word32];
			Mem368[fp - 0x48 + 0x00:word32] = wtf_strwidth(dwArg00);
			if (Mem368[fp - 0x6C + 0x00:word32] != 0x00)
			{
				if (Mem368[fp - 0x48 + 0x00:word32] > Mem368[(fp - 0x40) + 0x00:word32])
				{
					Mem375[fp - 0x80 + 0x00:word32] = Mem368[fp - 0x24 + 0x00:word32];
					Mem376[fp - 0x48 + 0x00:word32] = 0x00;
					while (Mem376[fp - 0x80 + 0x00:word32] != 0x00)
					{
						word32 eax_416;
						if ((byte) (word32) Mem376[0x080DC0AF:byte] != 0x00)
							eax_416 = (word32) (byte) (word32) Mem376[(word32) (byte) (word32) Mem376[Mem376[fp - 0x80 + 0x00:word32] + 0x00:byte] + 0x081799E0:byte];
						else
							eax_416 = (word32) ((byte) (word32) Mem376[(word32) (byte) (word32) Mem376[Mem376[fp - 0x80 + 0x00:word32] + 0x00:byte] + 0x081799E0:byte] != 0x00);
						if (eax_416 + Mem376[(fp - 0x48) + 0x00:word32] > Mem376[(fp - 0x40) + 0x00:word32])
							break;
						word32 eax_440;
						Mem428[fp - 0x80 + 0x00:word32] = Mem376[fp - 0x80 + 0x00:word32] + (word32) ((byte) ((word32) Mem376[(word32) ((byte) ((word32) Mem376[Mem376[(fp - 0x80) + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte]));
						if ((byte) (word32) Mem428[0x080DC0AF:byte] != 0x00)
							eax_440 = (word32) (byte) (word32) Mem428[(word32) (byte) (word32) Mem428[Mem428[fp - 0x80 + 0x00:word32] + 0x00:byte] + 0x081799E0:byte];
						else
							eax_440 = (word32) ((byte) (word32) Mem428[(word32) (byte) (word32) Mem428[Mem428[fp - 0x80 + 0x00:word32] + 0x00:byte] + 0x081799E0:byte] != 0x00);
						Mem442[fp - 0x48 + 0x00:word32] = Mem428[fp - 0x48 + 0x00:word32] + eax_440;
					}
					word32 eax_395 = Mem376[fp - 0x24 + 0x00:word32];
					Mem396[fp - 232 + 0x00:word32] = Mem376[fp - 0x80 + 0x00:word32] - Mem376[(fp - 0x24) + 0x00:word32];
					Mem397[fp - 0xEC + 0x00:word32] = eax_395;
					word32 edx_398;
					Mem401[fp - 0xEC + 0x00:word32] = Mem397[Strnew_charp_n(eax_395, dwArg00, dwArg04, out edx_398) + 0x00:word32];
					Mem403[fp - 232 + 0x00:word32] = html_quote(dwArg00);
					Mem405[fp - 0xEC + 0x00:word32] = Mem403[fp - 0x78 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				else
				{
					Mem493[fp - 0xEC + 0x00:word32] = Mem368[fp - 0x24 + 0x00:word32];
					Mem495[fp - 232 + 0x00:word32] = html_quote(dwArg00);
					Mem497[fp - 0xEC + 0x00:word32] = Mem495[fp - 0x78 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
			else
			{
				Mem499[fp - 0xEC + 0x00:word32] = Mem368[fp - 0x24 + 0x00:word32];
				Mem501[fp - 232 + 0x00:word32] = html_quote(dwArg00);
				Mem503[fp - 0xEC + 0x00:word32] = Mem501[fp - 0x78 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
		}
		else
		{
			if (Mem264[fp - 0x38 + 0x00:word32] > 0x00 && Mem264[(fp - 0x3C) + 0x00:word32] > 0x00)
			{
				if (Mem264[fp - 0x38 + 0x00:word32] <= 0x1F && Mem264[(fp - 0x3C) + 0x00:word32] <= 0x2F)
				{
					Mem736[fp - 0x48 + 0x00:word32] = 0x01;
					word32 eax_737 = Mem736[fp - 0x20 + 0x00:word32];
					Mem738[fp - 232 + 0x00:word32] = 135044485;
					Mem739[fp - 0xEC + 0x00:word32] = eax_737;
					word32 edi_742;
					word32 esi_743;
					word32 ebx_744;
					byte SCZO_745;
					word32 eax_746;
					byte SZO_747;
					byte C_748;
					byte Z_749;
					byte S_750;
					byte ah_751;
					word16 ax_752;
					byte al_753;
					word32 edx_754;
					word32 ecx_755;
					byte CZP_756;
					byte CZ_757;
					byte SO_758;
					byte dl_759;
					selector gs_760;
					byte bpl_761;
					!strcasestr();
					if (eax_746 == 0x00)
					{
						word32 eax_789 = Mem739[ebp_294 - 0x1C + 0x00:word32];
						Mem790[esp_16 + 0x04:word32] = 135044491;
						Mem791[esp_16 + 0x00:word32] = eax_789;
						word32 edi_794;
						word32 esi_795;
						word32 ebx_796;
						byte SCZO_797;
						word32 eax_798;
						byte SZO_799;
						byte C_800;
						byte Z_801;
						byte S_802;
						byte ah_803;
						word16 ax_804;
						byte al_805;
						word32 edx_806;
						word32 ecx_807;
						byte CZP_808;
						byte CZ_809;
						byte SO_810;
						byte dl_811;
						selector gs_812;
						byte bpl_813;
						!strcasestr();
						if (eax_798 == 0x00)
						{
							if (Mem791[ebp_294 - 0x38 + 0x00:word32] *s Mem791[(ebp_294 - 0x34) + 0x00:word32] <= 0x7F)
							{
								Mem822[esp_16 + 0x04:word32] = 135044499;
								Mem824[esp_16 + 0x00:word32] = Mem822[ebp_294 - 116 + 0x00:word32];
								Strcat_charp(dwArg00, dwArg04);
							}
							else
							{
								if (Mem791[ebp_294 - 0x6C + 0x00:word32] == 0x00)
								{
									Mem835[esp_16 + 0x04:word32] = 135043939;
									Mem837[esp_16 + 0x00:word32] = Mem835[ebp_294 - 116 + 0x00:word32];
									Strcat_charp(dwArg00, dwArg04);
									Mem838[ebp_294 - 0x6C + 0x00:word32] = 0x01;
								}
								word32 eax_827 = Mem791[0x0817D2D4:word32];
								Mem828[esp_16 + 0x0C:word32] = 0x01;
								Mem829[esp_16 + 0x08:word32] = eax_827;
								Mem830[esp_16 + 0x04:word32] = 44;
								Mem832[esp_16 + 0x00:word32] = Mem830[ebp_294 - 116 + 0x00:word32];
								push_symbol(ebp_294, dwArg04, dwArg08);
								Mem834[ebp_294 - 0x44 + 0x00:word32] = Mem832[0x0817D2D4:word32];
							}
							goto l08063182;
						}
					}
					Mem786[esp_16 + 0x04:word32] = 0x080C9D91;
					Mem788[esp_16 + 0x00:word32] = Mem786[ebp_294 - 116 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					goto l08063182;
				}
				if (Mem264[fp - 0x38 + 0x00:word32] > 200 && Mem264[(fp - 0x3C) + 0x00:word32] <= 0x0C)
				{
					if (Mem264[fp - 0x70 + 0x00:word32] == 0x00)
					{
						Mem729[fp - 232 + 0x00:word32] = 135043939;
						Mem731[fp - 0xEC + 0x00:word32] = Mem729[fp - 0x78 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						Mem732[fp - 0x70 + 0x00:word32] = 0x01;
					}
					Mem696[fp - 0xD0 + 0x00:word32] = Mem264[fp - 0x38 + 0x00:word32];
					real64 rLoc1_699 = (real64) Mem696[fp - 0xD0 + 0x00:int32] / Mem696[0x080D53A0:real64];
					Mem701[fp - 0xD0 + 0x00:word32] = Mem696[0x0817D2D4:word32];
					real64 rLoc1_703 = rLoc1_699 / (real64) Mem701[(fp - 0xD0) + 0x00:int32];
					Mem704[fp - 0xD2 + 0x00:word16] = __fstcw();
					Mem708[fp - 212 + 0x00:word16] = DPB(ax_1024, 0x0C, 8);
					__fldcw(Mem708[fp - 212 + 0x00:word16]);
					Mem709[fp - 0xD0 + 0x00:int32] = (int32) rLoc1_703;
					__fldcw(Mem709[fp - 0xD2 + 0x00:word16]);
					Mem711[fp - 0x38 + 0x00:word32] = Mem709[fp - 0xD0 + 0x00:word32];
					if (Mem711[fp - 0x38 + 0x00:word32] <= 0x00)
						Mem728[fp - 0x38 + 0x00:word32] = 0x01;
					word32 eax_716 = Mem711[0x0817D2D4:word32];
					Mem717[fp - 0xE0 + 0x00:word32] = Mem711[fp - 0x38 + 0x00:word32];
					Mem718[fp - 228 + 0x00:word32] = eax_716;
					Mem719[fp - 232 + 0x00:word32] = 0x1A;
					Mem721[fp - 0xEC + 0x00:word32] = Mem719[fp - 0x78 + 0x00:word32];
					push_symbol(fp - 0x04, dwArg04, dwArg08);
					Mem727[fp - 0x48 + 0x00:word32] = Mem721[0x0817D2D4:word32] *s Mem721[(fp - 0x38) + 0x00:word32];
					goto l08063182;
				}
			}
			Mem511[fp - 0x24 + 0x00:word32] = Mem264[fp - 0x20 + 0x00:word32];
			while ((byte) (word32) Mem511[Mem511[fp - 0x24 + 0x00:word32] + 0x00:byte] != 0x00)
				Mem680[fp - 0x24 + 0x00:word32] = Mem511[fp - 0x24 + 0x00:word32] + 0x01;
			while (Mem511[fp - 0x24 + 0x00:word32] >u Mem511[(fp - 0x20) + 0x00:word32] && (byte) ((word32) Mem511[Mem511[(fp - 0x24) + 0x00:word32] + 0x00:byte]) != 0x2F)
				Mem676[fp - 0x24 + 0x00:word32] = Mem511[fp - 0x24 + 0x00:word32] - 0x01;
			if ((byte) (word32) Mem511[Mem511[fp - 0x24 + 0x00:word32] + 0x00:byte] == 0x2F)
				Mem667[fp - 0x24 + 0x00:word32] = Mem511[fp - 0x24 + 0x00:word32] + 0x01;
			if (Mem511[Mem511[fp - 0x78 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem511[Mem511[(fp - 0x78) + 0x00:word32] + 0x08:word32])
			{
				Mem663[fp - 0xEC + 0x00:word32] = Mem511[fp - 0x78 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_540 = Mem511[Mem511[fp - 0x78 + 0x00:word32] + 0x04:word32];
			Mem543[Mem511[Mem511[fp - 0x78 + 0x00:word32] + 0x00:word32] + eax_540:byte] = 0x5B;
			Mem546[Mem543[fp - 0x78 + 0x00:word32] + 0x04:word32] = eax_540 + 0x01;
			Mem552[Mem546[Mem546[fp - 0x78 + 0x00:word32] + 0x00:word32] + Mem546[Mem546[(fp - 0x78) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem553[fp - 0x48 + 0x00:word32] = 0x01;
			Mem555[fp - 0x20 + 0x00:word32] = Mem553[fp - 0x24 + 0x00:word32];
			while ((byte) (word32) Mem555[Mem555[fp - 0x24 + 0x00:word32] + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem555[(word32) ((byte) ((word32) Mem555[Mem555[(fp - 0x24) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x0C) != 0x00 || ((byte) ((word32) Mem555[Mem555[(fp - 0x24) + 0x00:word32] + 0x00:byte]) == 0x5F || (byte) ((word32) Mem555[Mem555[(fp - 0x24) + 0x00:word32] + 0x00:byte]) == 0x2D)))
			{
				if (Mem555[Mem555[fp - 0x78 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem555[Mem555[(fp - 0x78) + 0x00:word32] + 0x08:word32])
				{
					Mem651[fp - 0xEC + 0x00:word32] = Mem555[fp - 0x78 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_624 = Mem555[Mem555[fp - 0x78 + 0x00:word32] + 0x04:word32];
				Mem630[Mem555[Mem555[fp - 0x78 + 0x00:word32] + 0x00:word32] + eax_624:byte] = (byte) (word32) Mem555[Mem555[fp - 0x24 + 0x00:word32] + 0x00:byte];
				Mem633[Mem630[fp - 0x78 + 0x00:word32] + 0x04:word32] = eax_624 + 0x01;
				Mem639[Mem633[Mem633[fp - 0x78 + 0x00:word32] + 0x00:word32] + Mem633[Mem633[(fp - 0x78) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				Mem641[fp - 0x48 + 0x00:word32] = Mem639[fp - 0x48 + 0x00:word32] + 0x01;
				if (Mem641[fp - 0x48 + 0x00:word32] + 0x01 >= Mem641[(fp - 0x40) + 0x00:word32])
					break;
				Mem649[fp - 0x24 + 0x00:word32] = Mem641[fp - 0x24 + 0x00:word32] + 0x01;
			}
			if (Mem555[Mem555[fp - 0x78 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem555[Mem555[(fp - 0x78) + 0x00:word32] + 0x08:word32])
			{
				Mem600[fp - 0xEC + 0x00:word32] = Mem555[fp - 0x78 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_583 = Mem555[Mem555[fp - 0x78 + 0x00:word32] + 0x04:word32];
			Mem586[Mem555[Mem555[fp - 0x78 + 0x00:word32] + 0x00:word32] + eax_583:byte] = 0x5D;
			Mem589[Mem586[fp - 0x78 + 0x00:word32] + 0x04:word32] = eax_583 + 0x01;
			Mem595[Mem589[Mem589[fp - 0x78 + 0x00:word32] + 0x00:word32] + Mem589[Mem589[(fp - 0x78) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem597[fp - 0x48 + 0x00:word32] = Mem595[fp - 0x48 + 0x00:word32] + 0x01;
		}
l08063182:
		if (Mem264[ebp_294 - 0x68 + 0x00:word32] != 0x00)
		{
			while (Mem264[ebp_294 - 0x44 + 0x00:word32] < Mem264[(ebp_294 - 0x3C) + 0x00:word32])
			{
				if (Mem264[Mem264[ebp_294 - 116 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem264[Mem264[(ebp_294 - 116) + 0x00:word32] + 0x08:word32])
				{
					Mem364[esp_16 + 0x00:word32] = Mem264[ebp_294 - 116 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_347 = Mem264[Mem264[ebp_294 - 116 + 0x00:word32] + 0x04:word32];
				Mem350[Mem264[Mem264[ebp_294 - 116 + 0x00:word32] + 0x00:word32] + eax_347:byte] = 0x20;
				Mem353[Mem350[ebp_294 - 116 + 0x00:word32] + 0x04:word32] = eax_347 + 0x01;
				Mem359[Mem353[Mem353[ebp_294 - 116 + 0x00:word32] + 0x00:word32] + Mem353[Mem353[(ebp_294 - 116) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				Mem361[ebp_294 - 0x44 + 0x00:word32] = Mem359[ebp_294 - 0x44 + 0x00:word32] + 0x01;
			}
		}
		Mem301[esp_16 + 0x04:word32] = 135043901;
		Mem303[esp_16 + 0x00:word32] = Mem301[ebp_294 - 116 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		if (Mem303[ebp_294 - 0x6C + 0x00:word32] != 0x00 && Mem303[(ebp_294 - 0x70) + 0x00:word32] == 0x00)
		{
			Mem329[esp_16 + 0x04:word32] = 135043949;
			Mem331[esp_16 + 0x00:word32] = Mem329[ebp_294 - 116 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		if (Mem303[ebp_294 - 0x24 + 0x00:word32] != 0x00)
		{
			Mem324[esp_16 + 0x04:word32] = 135044501;
			Mem326[esp_16 + 0x00:word32] = Mem324[ebp_294 - 116 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			process_n_form();
		}
		if (Mem303[ebp_294 - 0x68 + 0x00:word32] != 0x00 && Mem303[(ebp_294 - 0x50) + 0x00:word32] <=u 0x02)
		{
			Mem321[esp_16 + 0x04:word32] = 135044514;
			Mem323[esp_16 + 0x00:word32] = Mem321[ebp_294 - 116 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		return;
	}
	if (Mem242[fp - 0x4C + 0x00:word32] >= 0x00)
	{
		Mem1110[fp - 232 + 0x00:word32] = Mem242[fp - 0x4C + 0x00:word32];
		Mem1111[fp - 0xEC + 0x00:word32] = 135044388;
		byte bpl_1112;
		Mem1114[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_1112);
		Mem1116[fp - 0xEC + 0x00:word32] = Mem1114[fp - 0x78 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
	}
	if (Mem242[fp - 0x50 + 0x00:word32] >= 0x00)
	{
		Mem1102[fp - 232 + 0x00:word32] = Mem242[fp - 0x50 + 0x00:word32];
		Mem1103[fp - 0xEC + 0x00:word32] = 0x080C9D2E;
		byte bpl_1104;
		Mem1106[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_1104);
		Mem1108[fp - 0xEC + 0x00:word32] = Mem1106[fp - 0x78 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
	}
	word32 eax_857 = Mem242[fp - 0x54 + 0x00:word32];
	word16 ax_859 = (word16) eax_857;
	if (eax_857 == 0x05)
	{
		Mem1090[fp - 0x60 + 0x00:word32] = 0x00;
		Mem1094[fp - 100 + 0x00:word32] = Mem1090[fp - 0x44 + 0x00:word32] - 0x01;
		Mem1095[fp - 0x5C + 0x00:word32] = 0x00;
		Mem1096[fp - 0xD2 + 0x00:word16] = __fstcw();
		ax_1024 = DPB(ax_859, 0x0C, 8);
		Mem1100[fp - 212 + 0x00:word16] = ax_1024;
		goto l08062B4D;
	}
	if (eax_857 == 0x06)
	{
		Mem1075[fp - 0x60 + 0x00:word32] = Mem242[fp - 0x44 + 0x00:word32] - 0x01;
		Mem1076[fp - 100 + 0x00:word32] = 0x00;
		real64 rLoc1_1079 = (real64) Mem1076[fp - 0x44 + 0x00:int32] * Mem1076[135091112:real64];
		Mem1081[fp - 0xD0 + 0x00:word32] = Mem1076[fp - 0x3C + 0x00:word32];
		real64 rLoc1_1083 = rLoc1_1079 - (real64) Mem1081[(fp - 0xD0) + 0x00:int32];
		Mem1084[fp - 0xD2 + 0x00:word16] = __fstcw();
		ax_1024 = DPB(ax_859, 0x0C, 8);
		Mem1088[fp - 212 + 0x00:word16] = ax_1024;
		__fldcw(Mem1088[fp - 212 + 0x00:word16]);
		Mem1089[fp - 0x5C + 0x00:int32] = (int32) rLoc1_1083;
		__fldcw(Mem1089[fp - 0xD2 + 0x00:word16]);
		goto l08062B4D;
	}
	if (eax_857 == 0x04)
	{
		word32 eax_1026 = Mem242[fp - 0x44 + 0x00:word32];
		Mem1031[fp - 0x60 + 0x00:word32] = (eax_1026 >>u 0x1F) + eax_1026 >> 0x01;
		Mem1033[fp - 100 + 0x00:word32] = Mem1031[fp - 0x60 + 0x00:word32];
		if (Mem1033[fp - 0x60 + 0x00:word32] * 0x02 == Mem1033[(fp - 0x44) + 0x00:word32])
		{
			Mem1041[fp - 0xD0 + 0x00:word32] = Mem1033[fp - 0x44 + 0x00:word32] + 0x01;
			real64 rLoc1_1044 = (real64) Mem1041[fp - 0xD0 + 0x00:int32] * Mem1041[135091112:real64];
			Mem1046[fp - 0xD0 + 0x00:word32] = Mem1041[fp - 0x3C + 0x00:word32];
			real64 rLoc1_1050 = (rLoc1_1044 - (real64) Mem1046[(fp - 0xD0) + 0x00:int32]) / Mem1046[135048088:real64];
			Mem1051[fp - 0xD2 + 0x00:word16] = __fstcw();
			ax_1024 = DPB(ax_859, 0x0C, 8);
			Mem1055[fp - 212 + 0x00:word16] = ax_1024;
			__fldcw(Mem1055[fp - 212 + 0x00:word16]);
			Mem1056[fp - 0x5C + 0x00:int32] = (int32) rLoc1_1050;
			__fldcw(Mem1056[fp - 0xD2 + 0x00:word16]);
		}
		else
		{
			real64 rLoc1_1059 = (real64) Mem1033[fp - 0x44 + 0x00:int32] * Mem1033[135091112:real64];
			Mem1061[fp - 0xD0 + 0x00:word32] = Mem1033[fp - 0x3C + 0x00:word32];
			real64 rLoc1_1065 = (rLoc1_1059 - (real64) Mem1061[(fp - 0xD0) + 0x00:int32]) / Mem1061[135048088:real64];
			Mem1066[fp - 0xD2 + 0x00:word16] = __fstcw();
			ax_1024 = DPB(ax_859, 0x0C, 8);
			Mem1070[fp - 212 + 0x00:word16] = ax_1024;
			__fldcw(Mem1070[fp - 212 + 0x00:word16]);
			Mem1071[fp - 0x5C + 0x00:int32] = (int32) rLoc1_1065;
			__fldcw(Mem1071[fp - 0xD2 + 0x00:word16]);
		}
l08062B4D:
		real64 rLoc1_874 = (real64) Mem242[fp - 0x40 + 0x00:int32] * Mem242[0x080D53A0:real64];
		Mem876[fp - 0xD0 + 0x00:word32] = Mem242[fp - 0x38 + 0x00:word32];
		real64 rLoc1_880 = (rLoc1_874 - (real64) Mem876[(fp - 0xD0) + 0x00:int32]) / Mem876[135048088:real64];
		__fldcw(Mem876[fp - 212 + 0x00:word16]);
		Mem881[fp - 88 + 0x00:int32] = (int32) rLoc1_880;
		__fldcw(Mem881[fp - 0xD2 + 0x00:word16]);
		if (Mem881[fp - 88 + 0x00:word32] != 0x00)
		{
			Mem963[fp - 232 + 0x00:word32] = Mem881[fp - 88 + 0x00:word32];
			Mem964[fp - 0xEC + 0x00:word32] = 0x080C9D39;
			byte bpl_965;
			Mem967[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_965);
			Mem969[fp - 0xEC + 0x00:word32] = Mem967[fp - 0x78 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem881[fp - 0x5C + 0x00:word32] != 0x00)
		{
			Mem955[fp - 232 + 0x00:word32] = Mem881[fp - 0x5C + 0x00:word32];
			Mem956[fp - 0xEC + 0x00:word32] = 135044421;
			byte bpl_957;
			Mem959[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_957);
			Mem961[fp - 0xEC + 0x00:word32] = Mem959[fp - 0x78 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem881[fp - 0x60 + 0x00:word32] != 0x00)
		{
			Mem947[fp - 232 + 0x00:word32] = Mem881[fp - 0x60 + 0x00:word32];
			Mem948[fp - 0xEC + 0x00:word32] = 135044433;
			byte bpl_949;
			Mem951[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_949);
			Mem953[fp - 0xEC + 0x00:word32] = Mem951[fp - 0x78 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem881[fp - 100 + 0x00:word32] != 0x00)
		{
			Mem939[fp - 232 + 0x00:word32] = Mem881[fp - 100 + 0x00:word32];
			Mem940[fp - 0xEC + 0x00:word32] = 135044448;
			byte bpl_941;
			Mem943[fp - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_941);
			Mem945[fp - 0xEC + 0x00:word32] = Mem943[fp - 0x78 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem881[fp - 0x28 + 0x00:word32] != 0x00)
		{
			word32 eax_918;
			Mem910[fp - 232 + 0x00:word32] = 135044466;
			Mem912[fp - 0xEC + 0x00:word32] = Mem910[fp - 0x78 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (Mem912[fp - 44 + 0x00:word32] != 0x00)
			{
				word32 eax_928 = Mem912[fp - 44 + 0x00:word32];
				eax_918 = eax_928 + 0x01;
				ax_1024 = (word16) (eax_928 + 0x01);
			}
			else
			{
				eax_918 = Mem912[fp - 0x28 + 0x00:word32];
				ax_1024 = (word16) eax_918;
			}
			Mem920[fp - 0xEC + 0x00:word32] = eax_918;
			Mem922[fp - 232 + 0x00:word32] = html_quote(dwArg00);
			Mem924[fp - 0xEC + 0x00:word32] = Mem922[fp - 0x78 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem925[fp - 232 + 0x00:word32] = 0x080C9D19;
			Mem927[fp - 0xEC + 0x00:word32] = Mem925[fp - 0x78 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		if (Mem881[fp - 0x68 + 0x00:word32] != 0x00)
		{
			Mem907[fp - 232 + 0x00:word32] = 0x080C9D7C;
			Mem909[fp - 0xEC + 0x00:word32] = Mem907[fp - 0x78 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		goto l08062C8E;
	}
	else
	{
		Mem976[fp - 0x60 + 0x00:word32] = Mem242[fp - 0x44 + 0x00:word32] - 0x01;
		Mem977[fp - 100 + 0x00:word32] = 0x00;
		if (Mem977[fp - 0x44 + 0x00:word32] == 0x01)
		{
			real64 rLoc1_1006 = (real64) Mem977[fp - 0x44 + 0x00:int32] * Mem977[135091112:real64];
			Mem1008[fp - 0xD0 + 0x00:word32] = Mem977[fp - 0x3C + 0x00:word32];
			if (rLoc1_1006 >u (real64) Mem1008[(fp - 0xD0) + 0x00:int32] != 0x00)
			{
				Mem1020[fp - 0x5C + 0x00:word32] = 0x00;
				Mem1021[fp - 0xD2 + 0x00:word16] = __fstcw();
				ax_1024 = DPB(ax_859, 0x0C, 8);
				Mem1025[fp - 212 + 0x00:word16] = ax_1024;
				goto l08062B4D;
			}
		}
		real64 rLoc1_988 = (real64) Mem977[fp - 0x44 + 0x00:int32] * Mem977[135091112:real64];
		Mem990[fp - 0xD0 + 0x00:word32] = Mem977[fp - 0x3C + 0x00:word32];
		real64 rLoc1_992 = rLoc1_988 - (real64) Mem990[(fp - 0xD0) + 0x00:int32];
		Mem993[fp - 0xD2 + 0x00:word16] = __fstcw();
		ax_1024 = DPB(ax_859, 0x0C, 8);
		Mem997[fp - 212 + 0x00:word16] = ax_1024;
		__fldcw(Mem997[fp - 212 + 0x00:word16]);
		Mem998[fp - 0x5C + 0x00:int32] = (int32) rLoc1_992;
		__fldcw(Mem998[fp - 0xD2 + 0x00:word16]);
		if (Mem998[fp - 0x5C + 0x00:word32] < ~0x00)
			Mem1002[fp - 0x5C + 0x00:word32] = Mem998[fp - 0x5C + 0x00:word32] + 0x01;
		goto l08062B4D;
	}
}

// 08063264: void process_anchor(Register word32 ebp, Stack word32 dwArg04)
void process_anchor(word32 ebp, word32 dwArg04)
{
	if ((byte) (word32) Mem0[dwArg04 + 0x10:byte] != 0x00)
	{
		Mem28[0x0817C8B8:word32] = Mem0[0x0817C8B8:word32] + 0x01;
		byte bpl_31;
		Mem34[fp - 0x24 + 0x00:word32] = Mem28[Sprintf(0x080C9DAD, out bpl_31) + 0x00:word32];
		Mem35[fp - 0x28 + 0x00:word32] = 0x45;
		Mem37[fp - 44 + 0x00:word32] = Mem35[fp + 0x04:word32];
		parsedtag_set_value(dwArg00, dwArg04, dwArg08);
		Mem41[fp - 44 + 0x00:word32] = Mem37[fp + 0x04:word32];
		parsedtag2str(fp - 0x04, dwArg00);
	}
	else
	{
		Mem47[0x0817C8B8:word32] = Mem0[0x0817C8B8:word32] + 0x01;
		byte bpl_50;
		Mem52[fp - 0x10 + 0x00:word32] = Sprintf(0x080C9DB0, out bpl_50);
		Mem56[fp - 0x28 + 0x00:word32] = Mem52[fp + 0x08:word32] + 0x02;
		Mem58[fp - 44 + 0x00:word32] = Mem56[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
}

// 080632F6: void process_input(Register word32 ebp, Register selector gs)
void process_input(word32 ebp, selector gs)
{
	word32 eax_34;
	if (Mem0[0x0817C8AC:word32] >= 0x00)
	{
		eax_34 = Mem0[0x0817C8A4:word32][Mem0[0x0817C8AC:word32] * 0x04];
		if (eax_34 >= 0x00)
		{
l0806335B:
			if (Mem0[fp - 0x54 + 0x00:word32] == 0x00)
			{
				Strnew(eax_34);
				Mem731[fp - 0x54 + 0x00:word32] = eax_34;
			}
			word32 eax_706;
			Mem37[fp - 0x44 + 0x00:word32] = 135044583;
			Mem39[fp - 0x94 + 0x00:word32] = fp - 0x44;
			Mem40[fp - 0x98 + 0x00:word32] = 33;
			Mem42[fp - 0x9C + 0x00:word32] = Mem40[fp + 0x04:word32];
			parsedtag_get_value(dwArg00, dwArg04, dwArg08);
			Mem47[fp - 0x40 + 0x00:word32] = 0x00;
			Mem49[fp - 0x94 + 0x00:word32] = fp - 0x40;
			Mem50[fp - 0x98 + 0x00:word32] = 0x24;
			Mem52[fp - 0x9C + 0x00:word32] = Mem50[fp + 0x04:word32];
			parsedtag_get_value(dwArg00, dwArg04, dwArg08);
			Mem54[fp - 0x48 + 0x00:word32] = 0x080C92AD;
			Mem56[fp - 0x94 + 0x00:word32] = fp - 0x48;
			Mem57[fp - 0x98 + 0x00:word32] = 0x19;
			Mem59[fp - 0x9C + 0x00:word32] = Mem57[fp + 0x04:word32];
			parsedtag_get_value(dwArg00, dwArg04, dwArg08);
			Mem61[fp - 0x24 + 0x00:word32] = 0x14;
			Mem63[fp - 0x94 + 0x00:word32] = fp - 0x24;
			Mem64[fp - 0x98 + 0x00:word32] = 0x1E;
			Mem66[fp - 0x9C + 0x00:word32] = Mem64[fp + 0x04:word32];
			parsedtag_get_value(dwArg00, dwArg04, dwArg08);
			Mem68[fp - 0x20 + 0x00:word32] = 0x14;
			Mem70[fp - 0x94 + 0x00:word32] = fp - 0x20;
			Mem71[fp - 0x98 + 0x00:word32] = 22;
			Mem73[fp - 0x9C + 0x00:word32] = Mem71[fp + 0x04:word32];
			parsedtag_get_value(dwArg00, dwArg04, dwArg08);
			Mem75[fp - 0x4C + 0x00:word32] = 0x00;
			Mem77[fp - 0x94 + 0x00:word32] = fp - 0x4C;
			Mem78[fp - 0x98 + 0x00:word32] = 0x05;
			Mem80[fp - 0x9C + 0x00:word32] = Mem78[fp + 0x04:word32];
			parsedtag_get_value(dwArg00, dwArg04, dwArg08);
			if (Mem80[Mem80[fp + 0x04:word32] + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem80[Mem80[Mem80[fp + 0x04:word32] + 0x0C:word32] + 0x0C:byte]) != 0x4B && (byte) ((word32) Mem80[Mem80[Mem80[fp + 0x04:word32] + 0x04:word32] + (word32) ((byte) ((word32) Mem80[Mem80[Mem80[fp + 0x04:word32] + 0x0C:word32] + 0x0C:byte])):byte]) != 0x00))
				eax_706 = 0x01;
			else
				eax_706 = 0x00;
			word32 eax_676;
			Mem91[fp - 44 + 0x00:word32] = eax_706;
			if (Mem91[Mem91[fp + 0x04:word32] + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem91[Mem91[Mem91[fp + 0x04:word32] + 0x0C:word32] + 0x01:byte]) != 0x4B && (byte) ((word32) Mem91[Mem91[Mem91[fp + 0x04:word32] + 0x04:word32] + (word32) ((byte) ((word32) Mem91[Mem91[Mem91[fp + 0x04:word32] + 0x0C:word32] + 0x01:byte])):byte]) != 0x00))
				eax_676 = 0x01;
			else
				eax_676 = 0x00;
			word32 eax_111;
			Mem101[fp - 0x30 + 0x00:word32] = eax_676;
			if (Mem101[Mem101[fp + 0x04:word32] + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem101[Mem101[Mem101[fp + 0x04:word32] + 0x0C:word32] + 0x2B:byte]) != 0x4B && (byte) ((word32) Mem101[Mem101[Mem101[fp + 0x04:word32] + 0x04:word32] + (word32) ((byte) ((word32) Mem101[Mem101[Mem101[fp + 0x04:word32] + 0x0C:word32] + 0x2B:byte])):byte]) != 0x00))
				eax_111 = 0x01;
			else
				eax_111 = 0x00;
			Mem112[fp - 0x34 + 0x00:word32] = eax_111;
			Mem114[fp - 0x9C + 0x00:word32] = Mem112[fp - 0x44 + 0x00:word32];
			Mem116[fp - 0x28 + 0x00:word32] = formtype(dwArg00);
			if (Mem116[fp - 0x28 + 0x00:word32] == ~0x00)
				return;
			if (Mem116[fp - 0x40 + 0x00:word32] == 0x00 && Mem116[(fp - 0x28) + 0x00:word32] <=u 0x0A)
			{
				word32 eax_621 = 0x080C9EC0[Mem116[fp - 0x28 + 0x00:word32] * 0x04];
				word32 esp_622;
				word32 ebp_623;
				word32 edi_624;
				word32 esi_625;
				word32 ebx_626;
				byte SCZO_627;
				word32 eax_628;
				byte SZO_629;
				byte C_630;
				byte S_631;
				word32 edx_632;
				byte Z_633;
				byte al_634;
				byte CZ_635;
				byte SO_636;
				word32 ecx_637;
				byte cl_638;
				selector gs_639;
				byte bpl_640;
				eax_621();
				return;
			}
			if (Mem116[fp - 0x28 + 0x00:word32] == 11)
				Mem615[fp - 0x40 + 0x00:word32] = 0x00;
			if (Mem116[fp - 0x40 + 0x00:word32] != 0x00)
			{
				Mem608[fp - 0x9C + 0x00:word32] = Mem116[fp - 0x40 + 0x00:word32];
				Mem610[fp - 88 + 0x00:word32] = html_quote(dwArg00);
				Mem612[fp - 0x9C + 0x00:word32] = Mem610[fp - 0x40 + 0x00:word32];
				Mem614[fp - 0x5C + 0x00:word32] = wtf_strwidth(dwArg00);
			}
			Mem177[fp - 0x98 + 0x00:word32] = 135043939;
			Mem179[fp - 0x9C + 0x00:word32] = Mem177[fp - 0x54 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			word32 eax_180 = Mem179[fp - 0x28 + 0x00:word32];
			if (eax_180 != 0x03)
			{
				if (eax_180 <= 0x03)
				{
					if (eax_180 < 0x00)
						goto l08063654;
				}
				else if (eax_180 != 11)
					goto l08063654;
				if (Mem179[Mem179[fp - 0x54 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem179[Mem179[(fp - 0x54) + 0x00:word32] + 0x08:word32])
				{
					Mem576[fp - 0x9C + 0x00:word32] = Mem179[fp - 0x54 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_562 = Mem179[Mem179[fp - 0x54 + 0x00:word32] + 0x04:word32];
				Mem565[Mem179[Mem179[fp - 0x54 + 0x00:word32] + 0x00:word32] + eax_562:byte] = 0x5B;
				Mem568[Mem565[fp - 0x54 + 0x00:word32] + 0x04:word32] = eax_562 + 0x01;
				Mem574[Mem568[Mem568[fp - 0x54 + 0x00:word32] + 0x00:word32] + Mem568[Mem568[(fp - 0x54) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			else
			{
				if (Mem179[Mem179[fp - 0x54 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem179[Mem179[(fp - 0x54) + 0x00:word32] + 0x08:word32])
				{
					Mem606[fp - 0x9C + 0x00:word32] = Mem179[fp - 0x54 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_592 = Mem179[Mem179[fp - 0x54 + 0x00:word32] + 0x04:word32];
				Mem595[Mem179[Mem179[fp - 0x54 + 0x00:word32] + 0x00:word32] + eax_592:byte] = 0x28;
				Mem598[Mem595[fp - 0x54 + 0x00:word32] + 0x04:word32] = eax_592 + 0x01;
				Mem604[Mem598[Mem598[fp - 0x54 + 0x00:word32] + 0x00:word32] + Mem598[Mem598[(fp - 0x54) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
l08063654:
			word32 edx_201;
			Mem189[fp - 0x70 + 0x00:word32] = Mem179[fp - 0x20 + 0x00:word32];
			word32 edi_190 = Mem189[fp - 0x24 + 0x00:word32];
			Mem192[fp - 0x9C + 0x00:word32] = Mem189[fp - 0x48 + 0x00:word32];
			word32 eax_193 = html_quote(dwArg00);
			word32 esi_196 = Mem192[fp - 0x44 + 0x00:word32];
			if (Mem192[0x0817C8AC:word32] >= 0x00)
				edx_201 = Mem192[0x0817C8A4:word32][Mem192[0x0817C8AC:word32] * 0x04];
			else
				edx_201 = ~0x00;
			word32 eax_202 = Mem192[0x0817C8B8:word32];
			Mem206[0x0817C8B8:word32] = eax_202 + 0x01;
			Mem208[fp - 0x80 + 0x00:word32] = Mem206[fp - 88 + 0x00:word32];
			Mem210[fp - 0x84 + 0x00:word32] = Mem208[fp - 0x70 + 0x00:word32];
			Mem211[fp - 0x88 + 0x00:word32] = edi_190;
			Mem212[fp - 0x8C + 0x00:word32] = eax_193;
			Mem213[fp - 0x90 + 0x00:word32] = esi_196;
			Mem214[fp - 0x94 + 0x00:word32] = edx_201;
			Mem215[fp - 0x98 + 0x00:word32] = eax_202;
			Mem216[fp - 0x9C + 0x00:word32] = 0x080C9DFC;
			byte bpl_217;
			Mem219[fp - 0x98 + 0x00:word32] = Sprintf(dwArg00, out bpl_217);
			Mem221[fp - 0x9C + 0x00:word32] = Mem219[fp - 0x54 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			if (Mem221[fp - 44 + 0x00:word32] != 0x00)
			{
				Mem536[fp - 0x98 + 0x00:word32] = 0x080C9E4D;
				Mem538[fp - 0x9C + 0x00:word32] = Mem536[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem221[fp - 0x30 + 0x00:word32] != 0x00)
			{
				Mem533[fp - 0x98 + 0x00:word32] = 135044694;
				Mem535[fp - 0x9C + 0x00:word32] = Mem533[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem221[fp - 0x34 + 0x00:word32] != 0x00)
			{
				Mem530[fp - 0x98 + 0x00:word32] = 0x080C9E5E;
				Mem532[fp - 0x9C + 0x00:word32] = Mem530[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem221[Mem221[fp - 0x54 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem221[Mem221[(fp - 0x54) + 0x00:word32] + 0x08:word32])
			{
				Mem529[fp - 0x9C + 0x00:word32] = Mem221[fp - 0x54 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_240 = Mem221[Mem221[fp - 0x54 + 0x00:word32] + 0x04:word32];
			Mem243[Mem221[Mem221[fp - 0x54 + 0x00:word32] + 0x00:word32] + eax_240:byte] = 0x3E;
			Mem246[Mem243[fp - 0x54 + 0x00:word32] + 0x04:word32] = eax_240 + 0x01;
			Mem252[Mem246[Mem246[fp - 0x54 + 0x00:word32] + 0x00:word32] + Mem246[Mem246[(fp - 0x54) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem252[fp - 0x28 + 0x00:word32] == 0x06)
			{
				Mem268[fp - 0x98 + 0x00:word32] = 0x080C9E68;
				Mem270[fp - 0x9C + 0x00:word32] = Mem268[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				return;
			}
			if (Mem252[fp - 0x28 + 0x00:word32] >u 11)
			{
l08063933:
				if (Mem252[fp - 0x28 + 0x00:word32] <=u 11)
				{
					word32 eax_287 = 0x080C9EEC[Mem252[fp - 0x28 + 0x00:word32] * 0x04];
					word32 esp_288;
					word32 ebp_289;
					word32 edi_290;
					word32 esi_291;
					word32 ebx_292;
					byte SCZO_293;
					word32 eax_294;
					byte SZO_295;
					byte C_296;
					byte S_297;
					word32 edx_298;
					byte Z_299;
					byte al_300;
					byte CZ_301;
					byte SO_302;
					word32 ecx_303;
					byte cl_304;
					selector gs_305;
					byte bpl_306;
					eax_287();
					return;
				}
				if (Mem252[fp - 0x28 + 0x00:word32] <=u 11)
				{
					word32 ebx_399 = 0x01 << (byte) Mem252[(fp - 0x28) + 0x00:word32];
					if ((ebx_399 & 0x04B0) == 0x00)
					{
						if ((ebx_399 & 0x0803) != 0x00)
						{
							Mem411[fp - 0x98 + 0x00:word32] = 0x080C9B52;
							Mem413[fp - 0x9C + 0x00:word32] = Mem411[fp - 0x54 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
					}
					else
					{
						Mem414[fp - 0x98 + 0x00:word32] = 0x080C9EBC;
						Mem416[fp - 0x9C + 0x00:word32] = Mem414[fp - 0x54 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
				}
				Mem315[fp - 0x98 + 0x00:word32] = 135044501;
				Mem317[fp - 0x9C + 0x00:word32] = Mem315[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				word32 eax_318 = Mem317[fp - 0x28 + 0x00:word32];
				if (eax_318 != 0x03)
				{
					if (eax_318 <= 0x03)
					{
						if (eax_318 < 0x00)
							goto l08063CE1;
					}
					else if (eax_318 != 11)
						goto l08063CE1;
					if (Mem317[Mem317[fp - 0x54 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem317[Mem317[(fp - 0x54) + 0x00:word32] + 0x08:word32])
					{
						Mem363[fp - 0x9C + 0x00:word32] = Mem317[fp - 0x54 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_349 = Mem317[Mem317[fp - 0x54 + 0x00:word32] + 0x04:word32];
					Mem352[Mem317[Mem317[fp - 0x54 + 0x00:word32] + 0x00:word32] + eax_349:byte] = 0x5D;
					Mem355[Mem352[fp - 0x54 + 0x00:word32] + 0x04:word32] = eax_349 + 0x01;
					Mem361[Mem355[Mem355[fp - 0x54 + 0x00:word32] + 0x00:word32] + Mem355[Mem355[(fp - 0x54) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				else
				{
					if (Mem317[Mem317[fp - 0x54 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem317[Mem317[(fp - 0x54) + 0x00:word32] + 0x08:word32])
					{
						Mem393[fp - 0x9C + 0x00:word32] = Mem317[fp - 0x54 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_379 = Mem317[Mem317[fp - 0x54 + 0x00:word32] + 0x04:word32];
					Mem382[Mem317[Mem317[fp - 0x54 + 0x00:word32] + 0x00:word32] + eax_379:byte] = 0x29;
					Mem385[Mem382[fp - 0x54 + 0x00:word32] + 0x04:word32] = eax_379 + 0x01;
					Mem391[Mem385[Mem385[fp - 0x54 + 0x00:word32] + 0x00:word32] + Mem385[Mem385[(fp - 0x54) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
l08063CE1:
				Mem330[fp - 0x98 + 0x00:word32] = 135043949;
				Mem332[fp - 0x9C + 0x00:word32] = Mem330[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				return;
			}
			else
			{
				word32 ebx_422 = 0x01 << (byte) Mem252[(fp - 0x28) + 0x00:word32];
				if ((ebx_422 & 0x0430) == 0x00)
				{
					if ((ebx_422 & 0x0803) != 0x00)
					{
						Mem525[fp - 0x98 + 0x00:word32] = 135044077;
						Mem527[fp - 0x9C + 0x00:word32] = Mem525[fp - 0x54 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						goto l08063933;
					}
					if ((ebx_422 & 0x80) == 0x00)
						goto l08063933;
					Mem446[fp - 0x50 + 0x00:word32] = 0x00;
					Mem448[fp - 0x94 + 0x00:word32] = fp - 0x50;
					Mem449[fp - 0x98 + 0x00:word32] = 0x1F;
					Mem451[fp - 0x9C + 0x00:word32] = Mem449[fp + 0x04:word32];
					parsedtag_get_value(dwArg00, dwArg04, dwArg08);
					if (Mem451[fp - 0x50 + 0x00:word32] != 0x00)
					{
						Mem458[fp - 0x9C + 0x00:word32] = Mem451[fp - 0x50 + 0x00:word32];
						Mem460[fp - 0x98 + 0x00:word32] = html_quote(dwArg00);
						Mem461[fp - 0x9C + 0x00:word32] = 135044735;
						byte bpl_462;
						Mem464[fp - 0x98 + 0x00:word32] = Sprintf(dwArg00, out bpl_462);
						Mem466[fp - 0x9C + 0x00:word32] = Mem464[fp - 0x54 + 0x00:word32];
						Strcat(dwArg00, dwArg04);
						if (Mem466[fp - 0x4C + 0x00:word32] != 0x00)
						{
							Mem516[fp - 0x9C + 0x00:word32] = Mem466[fp - 0x4C + 0x00:word32];
							Mem518[fp - 0x98 + 0x00:word32] = html_quote(dwArg00);
							Mem519[fp - 0x9C + 0x00:word32] = 0x080C9E8D;
							byte bpl_520;
							Mem522[fp - 0x98 + 0x00:word32] = Sprintf(dwArg00, out bpl_520);
							Mem524[fp - 0x9C + 0x00:word32] = Mem522[fp - 0x54 + 0x00:word32];
							Strcat(dwArg00, dwArg04);
						}
						Mem473[fp - 0x94 + 0x00:word32] = fp - 0x38;
						Mem474[fp - 0x98 + 0x00:word32] = 0x26;
						Mem476[fp - 0x9C + 0x00:word32] = Mem474[fp + 0x04:word32];
						if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
						{
							Mem508[fp - 0x98 + 0x00:word32] = Mem476[fp - 0x38 + 0x00:word32];
							Mem509[fp - 0x9C + 0x00:word32] = 0x080C9E97;
							byte bpl_510;
							Mem512[fp - 0x98 + 0x00:word32] = Sprintf(dwArg00, out bpl_510);
							Mem514[fp - 0x9C + 0x00:word32] = Mem512[fp - 0x54 + 0x00:word32];
							Strcat(dwArg00, dwArg04);
						}
						Mem483[fp - 0x94 + 0x00:word32] = fp - 0x3C;
						Mem484[fp - 0x98 + 0x00:word32] = 0x11;
						Mem486[fp - 0x9C + 0x00:word32] = Mem484[fp + 0x04:word32];
						if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
						{
							Mem500[fp - 0x98 + 0x00:word32] = Mem486[fp - 0x3C + 0x00:word32];
							Mem501[fp - 0x9C + 0x00:word32] = 135044771;
							byte bpl_502;
							Mem504[fp - 0x98 + 0x00:word32] = Sprintf(dwArg00, out bpl_502);
							Mem506[fp - 0x9C + 0x00:word32] = Mem504[fp - 0x54 + 0x00:word32];
							Strcat(dwArg00, dwArg04);
						}
						Mem492[fp - 0x98 + 0x00:word32] = 0x080C9EB0;
						Mem494[fp - 0x9C + 0x00:word32] = Mem492[fp - 0x54 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						Mem495[fp - 0x98 + 0x00:word32] = 0x080C9E68;
						Mem497[fp - 0x9C + 0x00:word32] = Mem495[fp - 0x54 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						return;
					}
				}
				Mem434[fp - 0x98 + 0x00:word32] = 135044794;
				Mem436[fp - 0x9C + 0x00:word32] = Mem434[fp - 0x54 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				goto l08063933;
			}
		}
	}
	Mem741[fp - 0x9C + 0x00:word32] = parse_tag(fp - 0x04, gs, fp - 0x60, 0x01);
	eax_34 = process_form(gs, dwArg00);
	Mem744[fp - 0x54 + 0x00:word32] = eax_34;
	goto l0806335B;
}

// 08063D02: void process_select(Register word32 ebp, Register selector gs)
void process_select(word32 ebp, selector gs)
{
	if (Mem0[0x0817C8AC:word32] < 0x00 || Mem0[0x0817C8A4:word32][Mem0[0x0817C8AC:word32] * 0x04] < 0x00)
	{
		Mem208[fp - 0x3C + 0x00:word32] = parse_tag(fp - 0x04, gs, fp - 0x18, 0x01);
		Mem210[fp - 0x10 + 0x00:word32] = process_form(gs, dwArg00);
	}
	word32 eax_174;
	Mem26[fp - 0x14 + 0x00:word32] = 0x080C92AD;
	Mem28[fp - 0x34 + 0x00:word32] = fp - 0x14;
	Mem29[fp - 0x38 + 0x00:word32] = 0x19;
	Mem31[fp - 0x3C + 0x00:word32] = Mem29[fp + 0x04:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	word32 eax_36 = Mem31[fp - 0x14 + 0x00:word32];
	Mem37[fp - 0x3C + 0x00:word32] = eax_36;
	Strnew_charp(eax_36, dwArg00);
	Mem38[135776332:word32] = eax_36;
	if (Mem38[Mem38[fp + 0x04:word32] + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem38[Mem38[Mem38[fp + 0x04:word32] + 0x0C:word32] + 0x18:byte]) != 0x4B && (byte) ((word32) Mem38[Mem38[Mem38[fp + 0x04:word32] + 0x04:word32] + (word32) ((byte) ((word32) Mem38[Mem38[Mem38[fp + 0x04:word32] + 0x0C:word32] + 0x18:byte])):byte]) != 0x00))
		eax_174 = 0x01;
	else
		eax_174 = 0x00;
	Mem48[0x0817C854:word32] = eax_174;
	word32 eax_49 = Mem48[0x0817C854:word32];
	if (eax_49 == 0x00)
	{
		word32 eax_163;
		word32 esi_77 = Mem48[0x0817C870:word32];
		Mem79[fp - 0x3C + 0x00:word32] = Mem48[fp - 0x14 + 0x00:word32];
		word32 eax_80 = html_quote(dwArg00);
		if (Mem79[0x0817C8AC:word32] >= 0x00)
			eax_163 = Mem79[0x0817C8A4:word32][Mem79[0x0817C8AC:word32] * 0x04];
		else
			eax_163 = ~0x00;
		word32 edx_88 = Mem79[0x0817C8B8:word32];
		Mem92[0x0817C8B8:word32] = edx_88 + 0x01;
		Mem93[fp - 44 + 0x00:word32] = esi_77;
		Mem94[fp - 0x30 + 0x00:word32] = eax_80;
		Mem95[fp - 0x34 + 0x00:word32] = eax_163;
		Mem96[fp - 0x38 + 0x00:word32] = edx_88;
		Mem97[fp - 0x3C + 0x00:word32] = 0x080C9F1C;
		byte bpl_98;
		Mem100[135776336:word32] = Sprintf(dwArg00, out bpl_98);
		word32 eax_101 = Mem100[135776336:word32];
		Mem102[fp - 0x38 + 0x00:word32] = 0x080C9D83;
		Mem103[fp - 0x3C + 0x00:word32] = eax_101;
		Strcat_charp(dwArg00, dwArg04);
		if (Mem103[0x0817C870:word32] == Mem103[0x080D5420:word32])
		{
			Mem136[0x080D5420:word32] = Mem103[0x080D5420:word32] * 0x02;
			word32 eax_139 = Mem136[0x08180738:word32];
			Mem140[fp - 0x38 + 0x00:word32] = Mem136[0x080D5420:word32] * 0x08;
			Mem141[fp - 0x3C + 0x00:word32] = eax_139;
			word32 esp_142;
			word32 ebp_143;
			word32 esi_144;
			word32 ebx_145;
			byte SCZO_146;
			word32 eax_147;
			byte SZO_148;
			byte C_149;
			byte S_150;
			word32 edx_151;
			byte Z_152;
			byte al_153;
			word32 ecx_154;
			selector gs_155;
			byte bpl_156;
			!GC_realloc();
			Mem157[0x08180738:word32] = eax_147;
		}
		Mem103[0x08180738:word32][Mem103[0x0817C870:word32] * 0x08] = 0x00;
		Mem131[Mem125[0x08180738:word32] + (Mem125[0x0817C870:word32] << 0x03) + 0x04:word32] = 0x00;
		Mem132[135776372:word32] = 0x00;
	}
	else
	{
		Strnew(eax_49);
		Mem167[135776336:word32] = eax_49;
	}
	Mem65[0x0817C85C:word32] = 0x00;
	Mem66[0x0817C86C:word32] = 0x00;
	Mem67[0x0817C858:word32] = 0x00;
}

// 08063F01: Register word32 process_n_select(Register word32 ebp)
word32 process_n_select(word32 ebp)
{
	word32 eax_17;
	if (Mem0[135776332:word32] == 0x00)
		eax_17 = 0x00;
	else
	{
		process_option(fp - 0x04);
		if (Mem0[0x0817C854:word32] == 0x00)
		{
			if (Mem0[0x08180738:word32][Mem0[0x0817C870:word32] * 0x08] != 0x00)
			{
				Mem61[fp - 0x68 + 0x00:word32] = Mem0[0x08180738:word32][Mem0[0x0817C870:word32] * 0x08];
				Mem63[fp - 0x6C + 0x00:word32] = fp - 0x54;
				chooseSelectOption(dwArg00, dwArg04);
				word32 eax_65 = Mem63[fp - 0x24 + 0x00:word32];
				Mem66[fp - 0x68 + 0x00:word32] = Mem63[135776372:word32];
				Mem67[fp - 0x6C + 0x00:word32] = eax_65;
				word32 eax_68 = textfieldrep(dwArg00, dwArg04);
				word32 edx_69 = Mem67[135776336:word32];
				Mem70[fp - 0x68 + 0x00:word32] = eax_68;
				Mem71[fp - 0x6C + 0x00:word32] = edx_69;
				Strcat(dwArg00, dwArg04);
			}
			word32 eax_46 = Mem0[135776336:word32];
			Mem47[fp - 0x68 + 0x00:word32] = 0x080C9F6A;
			Mem48[fp - 0x6C + 0x00:word32] = eax_46;
			Strcat_charp(dwArg00, dwArg04);
			Mem54[0x0817C870:word32] = Mem48[0x0817C870:word32] + 0x01;
		}
		else
		{
			word32 eax_72 = Mem0[135776336:word32];
			Mem73[fp - 0x68 + 0x00:word32] = 135044994;
			Mem74[fp - 0x6C + 0x00:word32] = eax_72;
			Strcat_charp(dwArg00, dwArg04);
		}
		Mem34[135776332:word32] = 0x00;
		Mem35[0x0817C858:word32] = 0x00;
		eax_17 = Mem35[135776336:word32];
	}
	return eax_17;
}

// 08063FDE: void feed_select(Register word32 eax, Register word32 ebp, Register selector gs)
void feed_select(word32 eax, word32 ebp, selector gs)
{
	Strnew(eax);
	if (Mem0[135776332:word32] != 0x00)
	{
		while (true)
		{
			Mem53[fp - 0x3C + 0x00:word32] = 0x00;
			Mem54[fp - 0x40 + 0x00:word32] = 0x00;
			Mem55[fp - 0x44 + 0x00:word32] = 0x0817C86C;
			Mem57[fp - 0x48 + 0x00:word32] = fp + 0x04;
			Mem59[fp - 0x4C + 0x00:word32] = Mem57[fp - 0x10 + 0x00:word32];
			if (read_token(fp - 0x04, dwArg00, dwArg04, dwArg10) == 0x00)
				break;
			if (Mem59[0x0817C86C:word32] == 0x00 && Mem59[(fp - 0x14) + 0x00:word32] == 0x00)
			{
				Mem75[fp - 0x18 + 0x00:word32] = Mem59[Mem59[fp - 0x10 + 0x00:word32] + 0x00:word32];
				if ((byte) (word32) Mem75[Mem75[Mem75[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x3C && (Mem75[Mem75[(fp - 0x10) + 0x00:word32] + 0x04:word32] > 0x00 && (byte) ((word32) Mem75[Mem75[Mem75[(fp - 0x10) + 0x00:word32] + 0x00:word32] + (Mem75[Mem75[(fp - 0x10) + 0x00:word32] + 0x04:word32] - 0x01):byte]) == 0x3E))
				{
					Mem196[fp - 0x48 + 0x00:word32] = 0x00;
					Mem198[fp - 0x4C + 0x00:word32] = fp - 0x18;
					Mem201[fp - 0x1C + 0x00:word32] = parse_tag(fp - 0x04, gs, dwArg00, dwArg04);
					if (Mem201[fp - 0x1C + 0x00:word32] != 0x00 && (word32) ((byte) ((word32) Mem201[Mem201[(fp - 0x1C) + 0x00:word32] + 0x00:byte])) == 0x31)
					{
						word32 eax_210 = process_option(fp - 0x04);
						Strnew(eax_210);
						Mem211[0x0817C85C:word32] = eax_210;
						Mem213[fp - 0x44 + 0x00:word32] = fp - 0x20;
						Mem214[fp - 0x48 + 0x00:word32] = 0x24;
						Mem216[fp - 0x4C + 0x00:word32] = Mem214[fp - 0x1C + 0x00:word32];
						if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
						{
							word32 eax_279 = Mem216[fp - 0x20 + 0x00:word32];
							Mem280[fp - 0x4C + 0x00:word32] = eax_279;
							Strnew_charp(eax_279, dwArg00);
							Mem281[0x0817C860:word32] = eax_279;
						}
						else
							Mem282[0x0817C860:word32] = 0x00;
						Mem223[fp - 0x44 + 0x00:word32] = fp - 0x20;
						Mem224[fp - 0x48 + 0x00:word32] = 0x2A;
						Mem226[fp - 0x4C + 0x00:word32] = Mem224[fp - 0x1C + 0x00:word32];
						if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
						{
							word32 eax_275 = Mem226[fp - 0x20 + 0x00:word32];
							Mem276[fp - 0x4C + 0x00:word32] = eax_275;
							Strnew_charp(eax_275, dwArg00);
							Mem277[135776356:word32] = eax_275;
						}
						else
							Mem278[135776356:word32] = 0x00;
						word32 eax_240;
						if (Mem226[Mem226[fp - 0x1C + 0x00:word32] + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem226[Mem226[Mem226[(fp - 0x1C) + 0x00:word32] + 0x0C:word32] + 0x29:byte]) != 0x4B && (byte) ((word32) Mem226[Mem226[Mem226[(fp - 0x1C) + 0x00:word32] + 0x04:word32] + (word32) ((byte) ((word32) Mem226[Mem226[Mem226[(fp - 0x1C) + 0x00:word32] + 0x0C:word32] + 0x29:byte])):byte]) != 0x00))
							eax_240 = 0x01;
						else
							eax_240 = 0x00;
						Mem243[0x0817C868:word32] = eax_240;
						Mem244[0x080D55D4:word32] = ~0x00;
					}
				}
				else if (Mem75[0x0817C85C:word32] != 0x00)
				{
					while ((byte) (word32) Mem75[Mem75[fp - 0x18 + 0x00:word32] + 0x00:byte] != 0x00)
					{
						if (((word32) (byte) (word32) Mem75[(word32) (byte) (word32) Mem75[Mem75[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && Mem75[0x080D55D4:word32] != 0x00)
						{
							Mem174[fp - 0x18 + 0x00:word32] = Mem75[fp - 0x18 + 0x00:word32] + 0x01;
							if (Mem174[0x080D55D4:word32] > 0x00)
								Mem181[0x080D55D4:word32] = Mem174[0x080D55D4:word32] + 0x01;
						}
						else
						{
							if (((word32) (byte) (word32) Mem75[(word32) (byte) (word32) Mem75[Mem75[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
								Mem166[0x080D55D4:word32] = 0x01;
							else
								Mem167[0x080D55D4:word32] = 0x00;
							if ((byte) (word32) Mem75[Mem75[fp - 0x18 + 0x00:word32] + 0x00:byte] == 0x26)
							{
								Mem130[fp - 0x4C + 0x00:word32] = fp - 0x18;
								word32 ebx_131;
								word32 eax_132 = getescapecmd(dwArg00, out ebx_131);
								word32 edx_133 = Mem130[0x0817C85C:word32];
								Mem134[fp - 0x48 + 0x00:word32] = eax_132;
								Mem135[fp - 0x4C + 0x00:word32] = edx_133;
								Strcat_charp(dwArg00, dwArg04);
							}
							else
							{
								if (Mem75[Mem75[0x0817C85C:word32] + 0x04:word32] + 0x01 >= Mem75[Mem75[0x0817C85C:word32] + 0x08:word32])
								{
									Mem165[fp - 0x4C + 0x00:word32] = Mem75[0x0817C85C:word32];
									Strgrow(dwArg00);
								}
								word32 eax_145 = Mem75[0x0817C85C:word32];
								word32 ecx_146 = Mem75[eax_145 + 0x04:word32];
								word32 edx_149 = Mem75[fp - 0x18 + 0x00:word32];
								Mem152[Mem75[Mem75[0x0817C85C:word32] + 0x00:word32] + ecx_146:byte] = (byte) (word32) Mem75[edx_149 + 0x00:byte];
								Mem155[eax_145 + 0x04:word32] = ecx_146 + 0x01;
								Mem157[fp - 0x18 + 0x00:word32] = edx_149 + 0x01;
								Mem163[Mem157[Mem157[0x0817C85C:word32] + 0x00:word32] + Mem157[Mem157[0x0817C85C:word32] + 0x04:word32]:byte] = 0x00;
							}
						}
					}
				}
			}
		}
	}
}

// 080642DF: Register word32 process_option(Register word32 ebp)
word32 process_option(word32 ebp)
{
	word32 eax_120 = Mem0[135776332:word32];
	if (eax_120 != 0x00)
	{
		eax_120 = Mem0[0x0817C85C:word32];
		if (eax_120 != 0x00)
		{
			while (Mem0[Mem0[0x0817C85C:word32] + 0x04:word32] > 0x00)
			{
				word32 eax_242;
				if (Mem0[Mem0[0x0817C85C:word32] + 0x04:word32] > 0x00)
					eax_242 = (word32) (byte) (word32) Mem0[Mem0[Mem0[0x0817C85C:word32] + 0x00:word32] + (Mem0[Mem0[0x0817C85C:word32] + 0x04:word32] - 0x01):byte];
				else
					eax_242 = 0x00;
				if (((word32) (byte) (word32) Mem0[eax_242 + 0x080DB700:byte] & 0x02) == 0x00)
					break;
				Strshrink(Mem0[0x0817C85C:word32], 0x01);
			}
			if (Mem0[0x0817C860:word32] == 0x00)
				Mem236[0x0817C860:word32] = Mem0[0x0817C85C:word32];
			if (Mem0[135776356:word32] == 0x00)
				Mem234[135776356:word32] = Mem0[0x0817C85C:word32];
			if (Mem0[0x0817C854:word32] == 0x00)
			{
				word32 eax_103 = wtf_strwidth(Mem0[Mem0[135776356:word32] + 0x00:word32]);
				if (eax_103 > Mem0[135776372:word32])
					Mem123[135776372:word32] = eax_103;
				word32 eax_110 = Mem0[0x0817C860:word32];
				eax_120 = addSelectOption(eax_110, Mem0[0x08180738:word32] + (Mem0[0x0817C870:word32] << 0x03), eax_110, Mem0[135776356:word32], Mem0[0x0817C868:word32]);
			}
			else
			{
				html_quote(Mem0[Mem0[0x0817C860:word32] + 0x00:word32]);
				html_quote(Mem0[Mem0[135776332:word32] + 0x00:word32]);
				Mem154[0x0817C8B8:word32] = Mem0[0x0817C8B8:word32] + 0x01;
				byte bpl_163;
				word32 eax_164 = Sprintf(0x080C9F98, out bpl_163);
				word32 edx_165 = Mem154[135776336:word32];
				Mem166[fp - 0x48 + 0x00:word32] = eax_164;
				Mem167[fp - 0x4C + 0x00:word32] = edx_165;
				Strcat(dwArg00, dwArg04);
				if (Mem167[0x0817C868:word32] != 0x00)
				{
					word32 eax_216 = Mem167[135776336:word32];
					Mem217[fp - 0x48 + 0x00:word32] = 135045090;
					Mem218[fp - 0x4C + 0x00:word32] = eax_216;
					Strcat_charp(dwArg00, dwArg04);
				}
				else
				{
					word32 eax_219 = Mem167[135776336:word32];
					Mem220[fp - 0x48 + 0x00:word32] = 0x080C9FF9;
					Mem221[fp - 0x4C + 0x00:word32] = eax_219;
					Strcat_charp(dwArg00, dwArg04);
				}
				if (Mem167[Mem167[135776336:word32] + 0x04:word32] + 0x01 >= Mem167[Mem167[135776336:word32] + 0x08:word32])
				{
					Mem215[fp - 0x4C + 0x00:word32] = Mem167[135776336:word32];
					Strgrow(dwArg00);
				}
				word32 eax_183 = Mem167[135776336:word32];
				word32 edx_184 = Mem167[eax_183 + 0x04:word32];
				Mem189[Mem167[Mem167[135776336:word32] + 0x00:word32] + edx_184:byte] = (byte) (word32) Mem167[fp - 0x1E + 0x00:byte];
				Mem192[eax_183 + 0x04:word32] = edx_184 + 0x01;
				Mem198[Mem192[Mem192[135776336:word32] + 0x00:word32] + Mem192[Mem192[135776336:word32] + 0x04:word32]:byte] = 0x00;
				Mem201[fp - 0x4C + 0x00:word32] = Mem198[Mem198[135776356:word32] + 0x00:word32];
				word32 eax_202 = html_quote(dwArg00);
				word32 edx_203 = Mem201[135776336:word32];
				Mem204[fp - 0x48 + 0x00:word32] = eax_202;
				Mem205[fp - 0x4C + 0x00:word32] = edx_203;
				Strcat_charp(dwArg00, dwArg04);
				word32 eax_206 = Mem205[135776336:word32];
				Mem207[fp - 0x48 + 0x00:word32] = 135043949;
				Mem208[fp - 0x4C + 0x00:word32] = eax_206;
				Strcat_charp(dwArg00, dwArg04);
				word32 eax_209 = Mem208[0x0817C858:word32];
				Mem213[0x0817C858:word32] = eax_209 + 0x01;
				eax_120 = eax_209 + 0x01;
			}
		}
	}
	return eax_120;
}

// 0806458C: void process_textarea(Register word32 ebp, Register selector gs)
void process_textarea(word32 ebp, selector gs)
{
	if (Mem0[0x0817C8AC:word32] < 0x00 || Mem0[0x0817C8A4:word32][Mem0[0x0817C8AC:word32] * 0x04] < 0x00)
	{
		Mem216[fp - 44 + 0x00:word32] = parse_tag(fp - 0x04, gs, fp - 0x18, 0x01);
		Mem218[fp - 0x10 + 0x00:word32] = process_form(gs, dwArg00);
	}
	Mem22[fp - 0x14 + 0x00:word32] = 0x080C92AD;
	Mem24[fp - 0x24 + 0x00:word32] = fp - 0x14;
	Mem25[fp - 0x28 + 0x00:word32] = 0x19;
	Mem27[fp - 44 + 0x00:word32] = Mem25[fp + 0x04:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	word32 eax_32 = Mem27[fp - 0x14 + 0x00:word32];
	Mem33[fp - 44 + 0x00:word32] = eax_32;
	Strnew_charp(eax_32, dwArg00);
	Mem34[0x0817C878:word32] = eax_32;
	Mem35[0x0817C87C:word32] = 0x14;
	Mem37[fp - 0x24 + 0x00:word32] = fp - 0x14;
	Mem38[fp - 0x28 + 0x00:word32] = 0x0D;
	Mem40[fp - 44 + 0x00:word32] = Mem38[fp + 0x04:word32];
	if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
	{
		Mem171[fp - 44 + 0x00:word32] = Mem40[fp - 0x14 + 0x00:word32];
		Mem173[0x0817C87C:word32] = atoi(Mem171[fp - 44 + 0x00:(ptr char)]);
		word32 ebx_174 = Mem173[fp - 0x14 + 0x00:word32];
		Mem176[fp - 44 + 0x00:word32] = Mem173[fp - 0x14 + 0x00:word32];
		if ((byte) (word32) Mem176[ebx_174 + (strlen(Mem176[(fp - 44) + 0x00:(ptr char)]) - 0x01):byte] == 0x25)
			Mem206[0x0817C87C:word32] = 42949672 - (Mem176[0x0817C87C:word32] *s Mem176[fp + 0x08:word32] >> 0x1F) - 0x02;
		if (Mem176[0x0817C87C:word32] <= 0x00)
			Mem191[0x0817C87C:word32] = 0x14;
	}
	Mem55[0x0817C880:word32] = 0x01;
	Mem57[fp - 0x24 + 0x00:word32] = fp - 0x14;
	Mem58[fp - 0x28 + 0x00:word32] = 0x1C;
	Mem60[fp - 44 + 0x00:word32] = Mem58[fp + 0x04:word32];
	if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
	{
		Mem163[fp - 44 + 0x00:word32] = Mem60[fp - 0x14 + 0x00:word32];
		Mem165[0x0817C880:word32] = atoi(Mem163[fp - 44 + 0x00:(ptr char)]);
		if (Mem165[0x0817C880:word32] <= 0x00)
			Mem169[0x0817C880:word32] = 0x01;
	}
	word32 eax_135;
	if (Mem60[Mem60[fp + 0x04:word32] + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem60[Mem60[Mem60[fp + 0x04:word32] + 0x0C:word32] + 0x2B:byte]) != 0x4B && (byte) ((word32) Mem60[Mem60[Mem60[fp + 0x04:word32] + 0x04:word32] + (word32) ((byte) ((word32) Mem60[Mem60[Mem60[fp + 0x04:word32] + 0x0C:word32] + 0x2B:byte])):byte]) != 0x00))
		eax_135 = 0x01;
	else
		eax_135 = 0x00;
	Mem76[0x0817C884:word32] = eax_135;
	if (Mem76[0x0817C888:word32] >= Mem76[0x080D5424:word32])
	{
		Mem109[0x080D5424:word32] = Mem76[0x080D5424:word32] * 0x02;
		word32 eax_112 = Mem109[0x08180734:word32];
		Mem113[fp - 0x28 + 0x00:word32] = Mem109[0x080D5424:word32] * 0x04;
		Mem114[fp - 44 + 0x00:word32] = eax_112;
		word32 esp_115;
		word32 ebp_116;
		word32 ebx_117;
		byte SCZO_118;
		word32 eax_119;
		byte SZO_120;
		byte C_121;
		byte S_122;
		word32 edx_123;
		byte Z_124;
		byte al_125;
		word32 ecx_126;
		byte SO_127;
		selector gs_128;
		!GC_realloc();
		Mem129[0x08180734:word32] = eax_119;
	}
	word32 eax_92 = Mem76[0x08180734:word32];
	word32 ebx_96 = eax_92 + (Mem76[0x0817C888:word32] << 0x02);
	Strnew(eax_92);
	Mem97[ebx_96 + 0x00:word32] = eax_92;
	Mem98[0x0817C88C:word32] = 0x01;
}

// 0806479C: Register word32 process_n_textarea(Register word32 ebp)
word32 process_n_textarea(word32 ebp)
{
	word32 eax_126;
	word32 eax_17 = Mem0[0x0817C878:word32];
	if (eax_17 == 0x00)
		eax_126 = 0x00;
	else
	{
		Strnew(eax_17);
		html_quote(Mem0[Mem0[0x0817C878:word32] + 0x00:word32]);
		byte bpl_95;
		Mem97[fp - 88 + 0x00:word32] = Sprintf(0x080CA008, out bpl_95);
		Mem99[fp - 0x5C + 0x00:word32] = Mem97[fp - 0x20 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		if (Mem99[0x0817C884:word32] != 0x00)
		{
			Mem155[fp - 88 + 0x00:word32] = 0x080C9E5E;
			Mem157[fp - 0x5C + 0x00:word32] = Mem155[fp - 0x20 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		Mem106[fp - 88 + 0x00:word32] = 0x080CA078;
		Mem108[fp - 0x5C + 0x00:word32] = Mem106[fp - 0x20 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem109[fp - 0x24 + 0x00:word32] = 0x00;
		while (Mem109[fp - 0x24 + 0x00:word32] < Mem109[0x0817C87C:word32])
		{
			if (Mem109[Mem109[fp - 0x20 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem109[Mem109[(fp - 0x20) + 0x00:word32] + 0x08:word32])
			{
				Mem154[fp - 0x5C + 0x00:word32] = Mem109[fp - 0x20 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_137 = Mem109[Mem109[fp - 0x20 + 0x00:word32] + 0x04:word32];
			Mem140[Mem109[Mem109[fp - 0x20 + 0x00:word32] + 0x00:word32] + eax_137:byte] = 0x20;
			Mem143[Mem140[fp - 0x20 + 0x00:word32] + 0x04:word32] = eax_137 + 0x01;
			Mem149[Mem143[Mem143[fp - 0x20 + 0x00:word32] + 0x00:word32] + Mem143[Mem143[(fp - 0x20) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem151[fp - 0x24 + 0x00:word32] = Mem149[fp - 0x24 + 0x00:word32] + 0x01;
		}
		Mem115[fp - 88 + 0x00:word32] = 0x080CA07D;
		Mem117[fp - 0x5C + 0x00:word32] = Mem115[fp - 0x20 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem120[0x0817C8B8:word32] = Mem117[0x0817C8B8:word32] + 0x01;
		Mem124[0x0817C888:word32] = Mem120[0x0817C888:word32] + 0x01;
		Mem125[0x0817C878:word32] = 0x00;
		eax_126 = Mem125[fp - 0x20 + 0x00:word32];
	}
	return eax_126;
}

// 08064924: void feed_textarea(Register word32 ebp, Stack word32 dwArg04)
void feed_textarea(word32 ebp, word32 dwArg04)
{
	if (Mem0[0x0817C878:word32] != 0x00)
	{
		if (Mem0[0x0817C88C:word32] != 0x00)
		{
			if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x0D)
				dwArg04 = dwArg04 + 0x01;
			if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x0A)
				dwArg04 = dwArg04 + 0x01;
		}
		Mem48[0x0817C88C:word32] = 0x00;
		while ((byte) (word32) Mem48[Mem48[fp + 0x04:word32] + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem48[Mem48[fp + 0x04:word32] + 0x00:byte] == 0x26)
			{
				Mem72[fp - 0x1C + 0x00:word32] = fp + 0x04;
				word32 ebx_74;
				word32 eax_75 = getescapecmd(dwArg00, out ebx_74);
				word32 edx_81 = Mem72[0x08180734:word32][Mem72[0x0817C888:word32] * 0x04];
				Mem82[fp - 0x18 + 0x00:word32] = eax_75;
				Mem83[fp - 0x1C + 0x00:word32] = edx_81;
				Strcat_charp(dwArg00, dwArg04);
			}
			else if ((byte) (word32) Mem48[Mem48[fp + 0x04:word32] + 0x00:byte] == 0x0A)
			{
				word32 eax_94 = Mem48[0x08180734:word32][Mem48[0x0817C888:word32] * 0x04];
				Mem95[fp - 0x18 + 0x00:word32] = 0x080C96F0;
				Mem96[fp - 0x1C + 0x00:word32] = eax_94;
				Strcat_charp(dwArg00, dwArg04);
				Mem100[fp + 0x04:word32] = Mem96[fp + 0x04:word32] + 0x01;
			}
			else if ((byte) (word32) Mem48[Mem48[fp + 0x04:word32] + 0x00:byte] != 0x0D)
			{
				if (Mem48[Mem48[0x08180734:word32][Mem48[0x0817C888:word32] * 0x04] + 0x04:word32] + 0x01 >= Mem48[Mem48[0x08180734:word32][Mem48[0x0817C888:word32] * 0x04] + 0x08:word32])
				{
					Mem164[fp - 0x1C + 0x00:word32] = Mem48[0x08180734:word32][Mem48[0x0817C888:word32] * 0x04];
					Strgrow(dwArg00);
				}
				word32 eax_131 = Mem48[0x08180734:word32][Mem48[0x0817C888:word32] * 0x04];
				word32 ecx_132 = Mem48[eax_131 + 0x04:word32];
				word32 edx_135 = Mem48[fp + 0x04:word32];
				Mem138[Mem48[Mem48[0x08180734:word32][Mem48[0x0817C888:word32] * 0x04] + 0x00:word32] + ecx_132:byte] = (byte) (word32) Mem48[edx_135 + 0x00:byte];
				Mem140[eax_131 + 0x04:word32] = ecx_132 + 0x01;
				Mem142[fp + 0x04:word32] = edx_135 + 0x01;
				Mem157[Mem142[Mem142[0x08180734:word32][Mem142[0x0817C888:word32] * 0x04] + 0x00:word32] + Mem142[Mem142[0x08180734:word32][Mem142[0x0817C888:word32] * 0x04] + 0x04:word32]:byte] = 0x00;
			}
		}
	}
}

// 08064ACC: void process_hr(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void process_hr(word32 eax, word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Strnew_charp(eax, 0x080CA09A);
	if (dwArg08 > dwArg0C)
		dwArg08 = dwArg08 - dwArg0C;
	word32 dwLoc14_118;
	if (parsedtag_get_value(dwArg04, 0x26, fp - 0x14) != 0x00)
	{
		word32 eax_117;
		if (true)
		{
			real64 rLoc1_123 = (real64) 0x00 / Mem0[0x080D53A0:real64];
			word16 wLoc22_124 = __fstcw();
			__fldcw(DPB(ax, 0x0C, 8));
			__fldcw(wLoc22_124);
			eax_117 = (int32) rLoc1_123;
		}
		else
			eax_117 = 42949672 - (-0x00 *s dwArg08 >> 0x1F);
		dwLoc14_118 = eax_117;
	}
	else
		dwLoc14_118 = dwArg08;
	parsedtag_get_value(dwArg04, 0x04, fp - 0x18);
	if (~0x00 != 0x00)
	{
		if (~0x01 != 0x00)
		{
			if (true)
				Strcat_charp(eax, 135044131);
		}
		else
			Strcat_charp(eax, 135044154);
	}
	else
		Strcat_charp(eax, 0x080C9C0E);
	push_symbol(fp - 0x04, 0x1A, Mem0[0x0817D2D4:word32]);
	Mem79[fp - 0x48 + 0x00:word32] = 0x080CA0A1;
	Mem81[fp - 0x4C + 0x00:word32] = Mem79[fp - 0x10 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
}

// 08064C43: Register word32 check_charset(Register selector gs, Stack word32 dwArg04)
word32 check_charset(selector gs, word32 dwArg04)
{
	word32 eax_17;
	if (wc_guess_charset(gs, dwArg04, 0x00) != 0x00)
		eax_17 = Mem0[fp + 0x04:word32];
	else
		eax_17 = 0x00;
	return eax_17;
}

// 08064C6C: Register word32 check_accept_charset(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 check_accept_charset(word32 ebp, selector gs, word32 dwArg04)
{
	while (true)
	{
		word32 eax_29;
		if ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] == 0x00)
			break;
		while ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00 || (byte) ((word32) Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 44))
			Mem122[fp - 0x10 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32] + 0x01;
		if ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:byte] == 0x00)
			break;
		Mem55[fp - 0x14 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
		while ((byte) (word32) Mem55[Mem55[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem55[(word32) ((byte) ((word32) Mem55[Mem55[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem55[Mem55[(fp - 0x14) + 0x00:word32] + 0x00:byte]) != 44))
			Mem105[fp - 0x14 + 0x00:word32] = Mem55[fp - 0x14 + 0x00:word32] + 0x01;
		Mem70[fp - 0x28 + 0x00:word32] = Mem55[fp - 0x14 + 0x00:word32] - Mem55[(fp - 0x10) + 0x00:word32];
		word32 eax_71 = Mem70[fp - 0x10 + 0x00:word32];
		Mem72[fp - 44 + 0x00:word32] = eax_71;
		word32 edx_74;
		word32 eax_76 = Mem72[Strnew_charp_n(eax_71, dwArg00, dwArg04, out edx_74) + 0x00:word32];
		Mem77[fp - 0x28 + 0x00:word32] = 0x00;
		Mem78[fp - 44 + 0x00:word32] = eax_76;
		if (wc_guess_charset(gs, dwArg00, dwArg04) != 0x00)
		{
			eax_29 = Mem78[fp + 0x04:word32];
			return eax_29;
		}
		Mem87[fp - 0x10 + 0x00:word32] = Mem78[fp - 0x14 + 0x00:word32];
	}
	eax_29 = 0x00;
	return eax_29;
}

// 08064D4E: Register word32 process_form_int(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 process_form_int(word32 ebp, selector gs, word32 dwArg04)
{
	parsedtag_get_value(dwArg04, 0x17, fp - 0x20);
	parsedtag_get_value(dwArg04, 0x03, fp - 0x24);
	word32 ebp_255 = fp - 0x04;
	word32 esp_16 = fp - 0x6C;
	if (parsedtag_get_value(dwArg04, 0x02, fp - 0x28) != 0x00)
		Mem356[fp - 0x28 + 0x00:word32] = check_accept_charset(fp - 0x04, gs, 0x00);
	if (Mem0[fp - 0x28 + 0x00:word32] == 0x00)
	{
		Mem341[fp - 100 + 0x00:word32] = fp - 0x28;
		Mem342[fp - 0x68 + 0x00:word32] = 11;
		Mem344[fp - 0x6C + 0x00:word32] = Mem342[fp + 0x04:word32];
		if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
		{
			Mem350[fp - 0x6C + 0x00:word32] = Mem344[fp - 0x28 + 0x00:word32];
			Mem352[fp - 0x28 + 0x00:word32] = check_charset(gs, dwArg00);
		}
	}
	Mem52[fp - 44 + 0x00:word32] = 0x00;
	Mem54[fp - 100 + 0x00:word32] = fp - 44;
	Mem55[fp - 0x68 + 0x00:word32] = 0x10;
	Mem57[fp - 0x6C + 0x00:word32] = Mem55[fp + 0x04:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	Mem61[fp - 0x30 + 0x00:word32] = 0x00;
	Mem63[fp - 100 + 0x00:word32] = fp - 0x30;
	Mem64[fp - 0x68 + 0x00:word32] = 0x20;
	Mem66[fp - 0x6C + 0x00:word32] = Mem64[fp + 0x04:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	Mem68[fp - 0x34 + 0x00:word32] = 0x00;
	Mem70[fp - 100 + 0x00:word32] = fp - 0x34;
	Mem71[fp - 0x68 + 0x00:word32] = 0x19;
	Mem73[fp - 0x6C + 0x00:word32] = Mem71[fp + 0x04:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	if (Mem73[fp + 0x08:word32] < 0x00)
	{
		Mem325[0x080D5428:word32] = Mem73[0x080D5428:word32] + 0x01;
		Mem329[0x0817C8AC:word32] = Mem325[0x0817C8AC:word32] + 0x01;
		Mem331[fp + 0x08:word32] = Mem329[0x080D5428:word32];
	}
	else
	{
		if (Mem73[0x080D5428:word32] < Mem73[fp + 0x08:word32])
			Mem339[0x080D5428:word32] = Mem73[fp + 0x08:word32];
		Mem337[0x0817C8AC:word32] = Mem73[fp + 0x08:word32];
	}
	if (Mem73[0x0817C8A8:word32] == 0x00)
	{
		Mem225[0x0817C8A8:word32] = 0x0A;
		Mem229[fp - 0x6C + 0x00:word32] = Mem225[0x0817C8A8:word32] << 0x02;
		word32 esp_233;
		word32 ebp_234;
		word32 edi_235;
		word32 esi_236;
		word32 ebx_237;
		byte SCZO_238;
		word32 eax_239;
		byte SZO_240;
		byte C_241;
		byte Z_242;
		byte S_243;
		byte SO_244;
		word32 edx_245;
		word32 ecx_246;
		selector gs_247;
		byte bpl_248;
		!GC_malloc();
		Mem249[0x0817C8A0:word32] = eax_239;
		Mem253[esp_233 + 0x00:word32] = Mem249[0x0817C8A8:word32] << 0x02;
		word32 edi_256;
		word32 esi_257;
		word32 ebx_258;
		byte SCZO_259;
		word32 eax_260;
		byte SZO_261;
		byte C_262;
		byte Z_263;
		byte S_264;
		byte SO_265;
		word32 edx_266;
		word32 ecx_267;
		byte bpl_269;
		!GC_malloc_atomic();
		Mem270[0x0817C8A4:word32] = eax_260;
	}
	else if (Mem73[0x0817C8A8:word32] <= Mem73[0x080D5428:word32])
	{
		Mem278[0x0817C8A8:word32] = Mem73[0x0817C8A8:word32] + Mem73[0x080D5428:word32];
		word32 eax_281 = Mem278[0x0817C8A0:word32];
		Mem282[fp - 0x68 + 0x00:word32] = Mem278[0x0817C8A8:word32] * 0x04;
		Mem283[fp - 0x6C + 0x00:word32] = eax_281;
		word32 esp_284;
		word32 ebp_285;
		word32 edi_286;
		word32 esi_287;
		word32 ebx_288;
		byte SCZO_289;
		word32 eax_290;
		byte SZO_291;
		byte C_292;
		byte Z_293;
		byte S_294;
		byte SO_295;
		word32 edx_296;
		word32 ecx_297;
		selector gs_298;
		byte bpl_299;
		!GC_realloc();
		Mem300[0x0817C8A0:word32] = eax_290;
		word32 eax_303 = Mem300[0x0817C8A4:word32];
		Mem304[esp_284 + 0x04:word32] = Mem300[0x0817C8A8:word32] * 0x04;
		Mem305[esp_284 + 0x00:word32] = eax_303;
		word32 edi_308;
		word32 esi_309;
		word32 ebx_310;
		byte SCZO_311;
		word32 eax_312;
		byte SZO_313;
		byte C_314;
		byte Z_315;
		byte S_316;
		byte SO_317;
		word32 edx_318;
		word32 ecx_319;
		byte bpl_321;
		!GC_realloc();
		Mem322[0x0817C8A4:word32] = eax_312;
	}
	word32 eax_111;
	Mem73[0x0817C8A4:word32][Mem73[0x0817C8AC:word32] * 0x04] = Mem73[ebp_255 + 0x0C:word32];
	if ((Mem99[135774876:word32] & 0x10) != 0x00)
	{
		Mem123[esp_16 + 0x00:word32] = Mem99[ebp_255 - 0x1C + 0x00:word32];
		word32 eax_124 = html_quote(dwArg00);
		Mem127[esp_16 + 0x00:word32] = Mem123[ebp_255 - 0x20 + 0x00:word32];
		word32 eax_128 = html_quote(dwArg00);
		Mem129[esp_16 + 0x0C:word32] = eax_124;
		Mem130[esp_16 + 0x08:word32] = eax_128;
		Mem132[esp_16 + 0x04:word32] = Mem130[ebp_255 + 0x0C:word32];
		Mem133[esp_16 + 0x00:word32] = 0x080CA0C8;
		byte bpl_134;
		Mem136[ebp_255 - 0x34 + 0x00:word32] = Sprintf(dwArg00, out bpl_134);
		if (Mem136[ebp_255 - 0x28 + 0x00:word32] != 0x00)
		{
			Mem192[esp_16 + 0x00:word32] = Mem136[ebp_255 - 0x28 + 0x00:word32];
			Mem194[esp_16 + 0x04:word32] = html_quote(dwArg00);
			Mem195[esp_16 + 0x00:word32] = 0x080CA0F3;
			byte bpl_196;
			Mem198[esp_16 + 0x04:word32] = Sprintf(dwArg00, out bpl_196);
			Mem200[esp_16 + 0x00:word32] = Mem198[ebp_255 - 0x34 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem136[ebp_255 - 44 + 0x00:word32] != 0x00)
		{
			Mem182[esp_16 + 0x00:word32] = Mem136[ebp_255 - 44 + 0x00:word32];
			Mem184[esp_16 + 0x04:word32] = html_quote(dwArg00);
			Mem185[esp_16 + 0x00:word32] = 0x080CA101;
			byte bpl_186;
			Mem188[esp_16 + 0x04:word32] = Sprintf(dwArg00, out bpl_186);
			Mem190[esp_16 + 0x00:word32] = Mem188[ebp_255 - 0x34 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem136[ebp_255 - 0x30 + 0x00:word32] != 0x00)
		{
			Mem172[esp_16 + 0x00:word32] = Mem136[ebp_255 - 0x30 + 0x00:word32];
			Mem174[esp_16 + 0x04:word32] = html_quote(dwArg00);
			Mem175[esp_16 + 0x00:word32] = 0x080CA10E;
			byte bpl_176;
			Mem178[esp_16 + 0x04:word32] = Sprintf(dwArg00, out bpl_176);
			Mem180[esp_16 + 0x00:word32] = Mem178[ebp_255 - 0x34 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		if (Mem136[ebp_255 - 0x24 + 0x00:word32] != 0x00)
		{
			Mem162[esp_16 + 0x00:word32] = Mem136[ebp_255 - 0x24 + 0x00:word32];
			Mem164[esp_16 + 0x04:word32] = html_quote(dwArg00);
			Mem165[esp_16 + 0x00:word32] = 135045401;
			byte bpl_166;
			Mem168[esp_16 + 0x04:word32] = Sprintf(dwArg00, out bpl_166);
			Mem170[esp_16 + 0x00:word32] = Mem168[ebp_255 - 0x34 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		Mem157[esp_16 + 0x04:word32] = 0x080C9D83;
		Mem159[esp_16 + 0x00:word32] = Mem157[ebp_255 - 0x34 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		eax_111 = Mem159[ebp_255 - 0x34 + 0x00:word32];
	}
	else
	{
		Mem206[ebp_255 - 0x3C + 0x00:word32] = Mem99[0x0817C8A0:word32] + (Mem99[ebp_255 + 0x0C:word32] << 0x02);
		word32 edi_207 = Mem206[ebp_255 - 0x30 + 0x00:word32];
		word32 esi_208 = Mem206[ebp_255 - 44 + 0x00:word32];
		word32 ebx_209 = Mem206[ebp_255 - 0x28 + 0x00:word32];
		word32 ecx_210 = Mem206[ebp_255 - 0x24 + 0x00:word32];
		word32 edx_211 = Mem206[ebp_255 - 0x1C + 0x00:word32];
		word32 eax_212 = Mem206[ebp_255 - 0x20 + 0x00:word32];
		Mem213[esp_16 + 0x18:word32] = 0x00;
		Mem214[esp_16 + 0x14:word32] = edi_207;
		Mem215[esp_16 + 0x10:word32] = esi_208;
		Mem216[esp_16 + 0x0C:word32] = ebx_209;
		Mem217[esp_16 + 0x08:word32] = ecx_210;
		Mem218[esp_16 + 0x04:word32] = edx_211;
		Mem219[esp_16 + 0x00:word32] = eax_212;
		Mem223[Mem219[ebp_255 - 0x3C + 0x00:word32] + 0x00:word32] = newFormList(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		eax_111 = 0x00;
	}
	return eax_111;
}

// 080650DB: Register word32 process_form(Register selector gs, Stack word32 dwArg04)
word32 process_form(selector gs, word32 dwArg04)
{
	return process_form_int(fp - 0x04, gs, dwArg04);
}

// 080650F6: void process_n_form()
void process_n_form()
{
	if (Mem0[0x0817C8AC:word32] >= 0x00)
		Mem19[0x0817C8AC:word32] = Mem0[0x0817C8AC:word32] - 0x01;
}

// 08065116: void clear_ignore_p_flag(Stack word32 dwArg04, Stack word32 dwArg08)
void clear_ignore_p_flag(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_46 = 0x00;
	while (0x080D55CC[dwLoc08_46 * 0x04] != 0x00)
	{
		if (0x080D55CC[dwLoc08_46 * 0x04] == dwArg04)
		{
			word32 eax_36 = Mem0[dwArg08 + 0x0C:word32];
			Mem44[dwArg08 + 0x0C:word32] = DPB(eax_36, SLICE(eax_36, byte, 8) & 223, 8);
			return;
		}
		dwLoc08_46 = dwLoc08_46 + 0x01;
	}
}

// 0806515B: void set_alignment(Stack word32 dwArg04, Stack word32 dwArg08)
void set_alignment(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_11 = ~0x00;
	if (parsedtag_get_value(dwArg08, 0x04, fp - 0x14) != 0x00)
	{
		if (dwLoc14 != 0x01)
		{
			if (dwLoc14 != 0x02)
			{
				if (dwLoc14 == 0x00)
					dwLoc10_11 = 0x20;
			}
			else
				dwLoc10_11 = 0x40;
		}
		else
			dwLoc10_11 = 0x10;
	}
	if (Mem0[dwArg04 + 0x38:word32] <= 0x09)
	{
		word32 eax_66 = Mem0[dwArg04 + 0x38:word32];
		dwArg04[(eax_66 + 0x04) * 0x04] = Mem0[dwArg04 + 0x0C:word32] & 0x70;
		Mem78[dwArg04 + 0x38:word32] = eax_66 + 0x01;
	}
	if (dwLoc10_11 != ~0x00)
	{
		Mem56[dwArg04 + 0x0C:word32] = Mem0[dwArg04 + 0x0C:word32] & ~0x70;
		Mem64[dwArg04 + 0x0C:word32] = Mem56[dwArg04 + 0x0C:word32] | dwLoc10_11;
	}
}

// 0806520D: void process_idattr(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg0C)
void process_idattr(word32 ebp, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 != 0x1F)
	{
		parsedtag_get_value(dwArg0C, 0x14, fp - 0x10);
		parsedtag_get_value(dwArg0C, 0x43, fp - 0x14);
		if (0x00 != 0x00)
		{
			if (0x00 != 0x00)
			{
				html_quote(0x00);
				html_quote(0x00);
				byte bpl_75;
				Mem77[fp - 0x18 + 0x00:word32] = Sprintf(135045422, out bpl_75);
			}
			else
			{
				html_quote(0x00);
				byte bpl_83;
				Mem85[fp - 0x18 + 0x00:word32] = Sprintf(135045451, out bpl_83);
			}
			word32 eax_58 = Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:word32];
			Mem59[fp - 0x24 + 0x00:word32] = 0x8A;
			Mem60[fp - 0x28 + 0x00:word32] = eax_58;
			Mem62[fp - 44 + 0x00:word32] = Mem60[fp + 0x04:word32];
			push_tag(dwArg00, dwArg04, dwArg08);
		}
	}
}

// 080652EC: void ul_type(Stack word32 dwArg04, Stack word32 dwArg08)
void ul_type(word32 dwArg04, word32 dwArg08)
{
	if (parsedtag_get_value(dwArg04, 33, fp - 0x10) == 0x00 || strcasecmp(dwLoc10, 135045465) != 0x00 && (strcasecmp(dwLoc10, 135045470) != 0x00 && strcasecmp(dwLoc10, 135045477) != 0x00))
		;
}

// 0806536F: void getMetaRefreshParam(Stack word32 dwArg04, Stack word32 dwArg08)
void getMetaRefreshParam(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc18_160 = 0x00;
	if (dwArg04 != 0x00 && dwArg08 != 0x00)
	{
		if (atoi(dwArg04) >= 0x00)
		{
			while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
			{
				if (strncasecmp(dwArg04, 135045484, 0x04) == 0x00)
				{
					word32 v12_128 = dwArg04 + 0x04;
					word32 dwArg04_129 = v12_128;
					if ((byte) (word32) Mem0[v12_128 + 0x00:byte] == 0x22)
						dwArg04_129 = v12_128 + 0x01;
					word32 dwLoc14_138 = dwArg04_129 + 0x01;
					while ((byte) (word32) Mem0[dwLoc14_138 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_138 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem0[dwLoc14_138 + 0x00:byte]) != 0x3B))
						dwLoc14_138 = dwLoc14_138 + 0x00;
					word32 edx_158;
					word32 eax_159 = Strnew_charp_n(dwArg04_129, dwArg04_129, dwLoc14_138 - dwArg04_129, out edx_158);
					dwLoc18_160 = eax_159;
					if ((byte) (word32) Mem0[Mem0[eax_159 + 0x00:word32] + (Mem0[eax_159 + 0x04:word32] - 0x01):byte] == 0x22)
					{
						Mem178[eax_159 + 0x04:word32] = Mem0[eax_159 + 0x04:word32] - 0x01;
						Mem184[Mem178[eax_159 + 0x00:word32] + Mem178[eax_159 + 0x04:word32]:byte] = 0x00;
					}
					dwArg04 = dwLoc14_138;
				}
				while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x3B)
					dwArg04 = dwArg04 + 0x01;
				if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x3B)
					dwArg04 = dwArg04 + 0x01;
				while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) == 0x20)
					dwArg04 = dwArg04 + 0x01;
			}
			Mem72[dwArg08 + 0x00:word32] = dwLoc18_160;
		}
	}
}

// 080654E5: Register word32 HTMLtagproc1(Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 HTMLtagproc1(word32 dwArg04, word32 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 eax_53;
	word32 eax_26 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if ((byte) (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x0C:word32] & 0x01) != 0x00 && (eax_26 >= 0x32 && (eax_26 <= 0x33 || eax_26 <=u ~0x80)))
		eax_53 = 0x01;
	else
	{
		if (eax_26 <=u 0x90)
		{
			word32 eax_72 = 0x080CA304[eax_26 * 0x04];
			word32 esp_74;
			word32 ebp_75;
			word32 esi_76;
			word32 ebx_77;
			byte SCZO_78;
			word32 eax_79;
			byte al_80;
			byte SZO_81;
			byte C_82;
			byte Z_83;
			byte SO_84;
			byte CZ_85;
			eax_72();
			return eax_79;
		}
		eax_53 = 0x00;
	}
	word32 ebp_61;
	*ebpOut = ebp;
	word32 esp_62;
	*espOut = fp;
	return eax_53;
}

// 08069B8B: void textlist_feed()
void textlist_feed()
{
	if (Mem0[0x0817C8C0:word32] != 0x00)
		Mem22[0x0817C8C0:word32] = Mem0[Mem0[0x0817C8C0:word32] + 0x04:word32];
}

// 08069BBF: Register word32 ex_efct(Stack word32 dwArg04)
word32 ex_efct(word32 dwArg04)
{
	word32 eax_15;
	word32 dwLoc08_30 = 0x00;
	if (dwArg04 == 0x00)
		eax_15 = 0x00;
	else
	{
		if ((byte) (dwArg04 & 0x01) != 0x00)
			dwLoc08_30 = 0x02;
		if ((dwArg04 & 0x02) != 0x00)
			dwLoc08_30 = dwLoc08_30 | 0x02;
		if ((dwArg04 & 0x04) != 0x00)
			dwLoc08_30 = dwLoc08_30 | 0x04;
		eax_15 = dwLoc08_30;
	}
	return eax_15;
}

// 08069C08: void HTMLlineproc2body(Register word32 ebp, Register selector gs)
void HTMLlineproc2body(word32 ebp, selector gs)
{
	word32 ebp_1069 = fp - 0x04;
	if (Mem0[135776644:word32] == 0x00)
	{
		Mem1601[135776644:word32] = 0x0100;
		word32 esp_1604;
		word32 ebp_1605;
		word32 edi_1606;
		word32 esi_1607;
		word32 ebx_1608;
		byte SCZO_1609;
		word32 eax_1610;
		byte SZO_1611;
		byte C_1612;
		byte Z_1613;
		byte S_1614;
		byte al_1615;
		word32 edx_1616;
		word32 ecx_1617;
		byte SO_1618;
		word16 ax_1619;
		byte dl_1620;
		byte ah_1621;
		byte CZ_1622;
		bcuiposr0 None_1623;
		selector gs_1624;
		!GC_malloc_atomic();
		Mem1625[0x0817C988:word32] = eax_1610;
		word32 esp_1630;
		word32 edi_1632;
		word32 esi_1633;
		word32 ebx_1634;
		byte SCZO_1635;
		word32 eax_1636;
		byte SZO_1637;
		byte C_1638;
		byte Z_1639;
		byte S_1640;
		byte al_1641;
		word32 edx_1642;
		word32 ecx_1643;
		byte SO_1644;
		word16 ax_1645;
		byte dl_1646;
		byte ah_1647;
		byte CZ_1648;
		bcuiposr0 None_1649;
		selector gs_1650;
		!GC_malloc_atomic();
		Mem1651[135776652:word32] = eax_1636;
	}
	Mem62[0x0817C888:word32] = ~0x00;
	if (Mem62[0x080D5424:word32] == 0x00)
	{
		Mem1548[0x080D5424:word32] = 0x0A;
		word32 esp_1553;
		word32 ebp_1554;
		word32 edi_1555;
		word32 esi_1556;
		word32 ebx_1557;
		byte SCZO_1558;
		word32 eax_1559;
		byte SZO_1560;
		byte C_1561;
		byte Z_1562;
		byte S_1563;
		byte al_1564;
		word32 edx_1565;
		word32 ecx_1566;
		byte SO_1567;
		word16 ax_1568;
		byte dl_1569;
		byte ah_1570;
		byte CZ_1571;
		bcuiposr0 None_1572;
		selector gs_1573;
		!GC_malloc();
		Mem1574[0x08180734:word32] = eax_1559;
		word32 esp_1579;
		word32 edi_1581;
		word32 esi_1582;
		word32 ebx_1583;
		byte SCZO_1584;
		word32 eax_1585;
		byte SZO_1586;
		byte C_1587;
		byte Z_1588;
		byte S_1589;
		byte al_1590;
		word32 edx_1591;
		word32 ecx_1592;
		byte SO_1593;
		word16 ax_1594;
		byte dl_1595;
		byte ah_1596;
		byte CZ_1597;
		bcuiposr0 None_1598;
		selector gs_1599;
		!GC_malloc();
	}
	Mem86[0x0817C870:word32] = ~0x00;
	if (Mem86[0x080D5420:word32] == 0x00)
	{
		Mem1492[0x080D5420:word32] = 0x0A;
		word32 esp_1500;
		word32 ebp_1501;
		word32 edi_1502;
		word32 esi_1503;
		word32 ebx_1504;
		byte SCZO_1505;
		word32 eax_1506;
		byte SZO_1507;
		byte C_1508;
		byte Z_1509;
		byte S_1510;
		byte al_1511;
		word32 edx_1512;
		word32 ecx_1513;
		byte SO_1514;
		word16 ax_1515;
		byte dl_1516;
		byte ah_1517;
		byte CZ_1518;
		bcuiposr0 None_1519;
		selector gs_1520;
		!GC_malloc();
		Mem1521[0x08180738:word32] = eax_1506;
		word32 esp_1526;
		word32 edi_1528;
		word32 esi_1529;
		word32 ebx_1530;
		byte SCZO_1531;
		word32 eax_1532;
		byte SZO_1533;
		byte C_1534;
		byte Z_1535;
		byte S_1536;
		byte al_1537;
		word32 edx_1538;
		word32 ecx_1539;
		byte SO_1540;
		word16 ax_1541;
		byte dl_1542;
		byte ah_1543;
		byte CZ_1544;
		bcuiposr0 None_1545;
		selector gs_1546;
		!GC_malloc();
	}
	while (true)
	{
l0806BFE6:
		word32 eax_118 = Mem86[ebp_1069 + 0x0C:word32];
		word32 edi_121;
		word32 esi_122;
		word32 ebx_123;
		byte SCZO_124;
		word32 eax_125;
		byte SZO_126;
		byte C_127;
		byte Z_128;
		byte S_129;
		byte al_130;
		word32 edx_131;
		word32 ecx_132;
		byte SO_133;
		word16 ax_134;
		byte dl_135;
		byte ah_136;
		byte CZ_137;
		bcuiposr0 None_138;
		selector gs_1055;
		word32 esp_1070;
		eax_118();
		Mem140[ebp_1069 - 100 + 0x00:word32] = eax_125;
		if (Mem140[ebp_1069 - 100 + 0x00:word32] == 0x00)
			break;
		if (Mem140[0x0817C888:word32] < 0x00 || (byte) ((word32) Mem140[Mem140[Mem140[(ebp_1069 - 100) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x3C)
		{
			while (true)
			{
				Mem280[ebp_1069 - 0x4C + 0x00:word32] = Mem140[ebp_1069 - 0x4C + 0x00:word32] + 0x01;
				if (Mem280[ebp_1069 - 0x4C + 0x00:word32] == Mem280[ebp_1069 + 0x10:word32])
					break;
				Mem284[ebp_1069 - 0x48 + 0x00:word32] = 0x00;
				Mem286[esp_1070 + 0x00:word32] = Mem284[ebp_1069 - 100 + 0x00:word32];
				Strremovetrailingspaces(dwArg00);
				Mem289[ebp_1069 - 0x44 + 0x00:word32] = Mem286[Mem286[ebp_1069 - 100 + 0x00:word32] + 0x00:word32];
				Mem294[ebp_1069 - 0x68 + 0x00:word32] = Mem289[ebp_1069 - 0x44 + 0x00:word32] + Mem289[Mem289[(ebp_1069 - 100) + 0x00:word32] + 0x04:word32];
				while (Mem294[ebp_1069 - 0x44 + 0x00:word32] <u Mem294[(ebp_1069 - 0x68) + 0x00:word32])
				{
					if (Mem294[ebp_1069 - 0x48 + 0x00:word32] + 0x01 >= Mem294[135776644:word32])
					{
						word32 edx_1413 = Mem294[ebp_1069 - 0x48 + 0x00:word32];
						Mem1422[135776644:word32] = (edx_1413 * 0x03 >>u 0x1F) + edx_1413 * 0x03 >> 0x01;
						word32 eax_1425 = Mem1422[0x0817C988:word32];
						Mem1426[esp_1070 + 0x04:word32] = Mem1422[135776644:word32];
						Mem1427[esp_1070 + 0x00:word32] = eax_1425;
						word32 esp_1428;
						word32 ebp_1429;
						word32 edi_1430;
						word32 esi_1431;
						word32 ebx_1432;
						byte SCZO_1433;
						word32 eax_1434;
						byte SZO_1435;
						byte C_1436;
						byte Z_1437;
						byte S_1438;
						byte al_1439;
						word32 edx_1440;
						word32 ecx_1441;
						byte SO_1442;
						word16 ax_1443;
						byte dl_1444;
						byte ah_1445;
						byte CZ_1446;
						bcuiposr0 None_1447;
						selector gs_1448;
						!GC_realloc();
						Mem1449[0x0817C988:word32] = eax_1434;
						word32 eax_1452 = Mem1449[135776652:word32];
						Mem1453[esp_1428 + 0x04:word32] = Mem1449[135776644:word32] * 0x02;
						Mem1454[esp_1428 + 0x00:word32] = eax_1452;
						word32 edi_1457;
						word32 esi_1458;
						word32 ebx_1459;
						byte SCZO_1460;
						word32 eax_1461;
						byte SZO_1462;
						byte C_1463;
						byte Z_1464;
						byte S_1465;
						byte al_1466;
						word32 edx_1467;
						word32 ecx_1468;
						byte SO_1469;
						word16 ax_1470;
						byte dl_1471;
						byte ah_1472;
						byte CZ_1473;
						bcuiposr0 None_1474;
						!GC_realloc();
						Mem1476[135776652:word32] = eax_1461;
					}
					Mem388[ebp_1069 - 0x1C + 0x00:word16] = (word16) ((word32) (byte) (word32) Mem294[(word32) (byte) (word32) Mem294[Mem294[ebp_1069 - 0x44 + 0x00:word32] + 0x00:byte] + 0x08179BE0:byte] << 0x08);
					word32 ebx_389 = (word32) Mem388[ebp_1069 - 0x1E + 0x00:word16];
					Mem391[esp_1070 + 0x00:word32] = (word32) Mem388[ebp_1069 - 0x20 + 0x00:word16];
					if (((ex_efct(dwArg00) | ebx_389) & 0x8000) != 0x00 && (byte) ((word32) Mem391[Mem391[(ebp_1069 - 0x44) + 0x00:word32] + 0x00:byte]) != 0x3C)
					{
						Mem1193[esp_1070 + 0x00:word32] = Mem391[0x0817D2D8:word32];
						Mem1195[ebp_1069 - 0x78 + 0x00:word32] = set_symbol(ebp_1069, gs_1055, dwArg00);
						Mem1200[ebp_1069 - 0x30 + 0x00:word32] = Mem1195[ebp_1069 - 0x78 + 0x00:word32][(int32) Mem1195[ebp_1069 - 0x19 + 0x00:byte] * 0x04];
						Mem1208[ebp_1069 - 0x7C + 0x00:word32] = (word32) (byte) (word32) Mem1200[(word32) (byte) (word32) Mem1200[Mem1200[ebp_1069 - 0x30 + 0x00:word32] + 0x00:byte] + 0x08179AE0:byte];
						Mem1218[ebp_1069 - 0x1C + 0x00:word16] = (word16) ((word32) (byte) (word32) Mem1208[(word32) (byte) (word32) Mem1208[Mem1208[ebp_1069 - 0x30 + 0x00:word32] + 0x00:byte] + 0x08179BE0:byte] << 0x08);
						word32 ebx_1222 = Mem1218[135776652:word32] + Mem1218[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
						word32 eax_1225 = (word32) Mem1218[ebp_1069 - 0x1E + 0x00:word16] | (word32) Mem1218[(ebp_1069 - 0x1C) + 0x00:word16];
						Mem1230[esp_1070 + 0x00:word32] = (word32) Mem1218[ebp_1069 - 0x20 + 0x00:word16];
						word16 ax_1233 = (word16) (ex_efct(dwArg00) | eax_1225);
						Mem1234[ebx_1222 + 0x00:word16] = ax_1233;
						word32 eax_1238 = Mem1234[ebp_1069 - 0x30 + 0x00:word32];
						Mem1241[Mem1234[0x0817C988:word32] + Mem1234[(ebp_1069 - 0x48) + 0x00:word32]:byte] = (byte) (word32) Mem1234[eax_1238 + 0x00:byte];
						Mem1243[ebp_1069 - 0x30 + 0x00:word32] = eax_1238 + 0x01;
						Mem1245[ebp_1069 - 0x48 + 0x00:word32] = Mem1243[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
						Mem1247[ebp_1069 - 0x7C + 0x00:word32] = Mem1245[ebp_1069 - 0x7C + 0x00:word32] - 0x01;
						if (Mem1247[ebp_1069 - 0x7C + 0x00:word32] != 0x00)
						{
							Mem1280[ebp_1069 - 0x1C + 0x00:word16] = DPB(ax_1233, SLICE((word32) Mem1247[ebp_1069 - 0x1C + 0x00:word16], byte, 8) & ~0x06 | 0x04, 8);
							while (true)
							{
								byte al_1299 = Mem1280[ebp_1069 - 0x7C + 0x00:word32] != 0x00;
								Mem1301[ebp_1069 - 0x7C + 0x00:word32] = Mem1280[ebp_1069 - 0x7C + 0x00:word32] - 0x01;
								if (al_1299 == 0x00)
									break;
								if (Mem1301[ebp_1069 - 0x48 + 0x00:word32] + 0x01 >= Mem1301[135776644:word32])
								{
									word32 edx_1349 = Mem1301[ebp_1069 - 0x48 + 0x00:word32];
									Mem1358[135776644:word32] = (edx_1349 * 0x03 >>u 0x1F) + edx_1349 * 0x03 >> 0x01;
									word32 eax_1361 = Mem1358[0x0817C988:word32];
									Mem1362[esp_1070 + 0x04:word32] = Mem1358[135776644:word32];
									Mem1363[esp_1070 + 0x00:word32] = eax_1361;
									word32 esp_1364;
									word32 ebp_1365;
									word32 edi_1366;
									word32 esi_1367;
									word32 ebx_1368;
									byte SCZO_1369;
									word32 eax_1370;
									byte SZO_1371;
									byte C_1372;
									byte Z_1373;
									byte S_1374;
									byte al_1375;
									word32 edx_1376;
									word32 ecx_1377;
									byte SO_1378;
									word16 ax_1379;
									byte dl_1380;
									byte ah_1381;
									byte CZ_1382;
									bcuiposr0 None_1383;
									selector gs_1384;
									!GC_realloc();
									Mem1385[0x0817C988:word32] = eax_1370;
									word32 eax_1388 = Mem1385[135776652:word32];
									Mem1389[esp_1364 + 0x04:word32] = Mem1385[135776644:word32] * 0x02;
									Mem1390[esp_1364 + 0x00:word32] = eax_1388;
									word32 edi_1393;
									word32 esi_1394;
									word32 ebx_1395;
									byte SCZO_1396;
									word32 eax_1397;
									byte SZO_1398;
									byte C_1399;
									byte Z_1400;
									byte S_1401;
									byte al_1402;
									word32 edx_1403;
									word32 ecx_1404;
									byte SO_1405;
									word16 ax_1406;
									byte dl_1407;
									byte ah_1408;
									byte CZ_1409;
									bcuiposr0 None_1410;
									!GC_realloc();
									Mem1412[135776652:word32] = eax_1397;
								}
								word32 ebx_1324 = Mem1301[135776652:word32] + Mem1301[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
								word32 eax_1327 = (word32) Mem1301[ebp_1069 - 0x1E + 0x00:word16] | (word32) Mem1301[(ebp_1069 - 0x1C) + 0x00:word16];
								Mem1332[esp_1070 + 0x00:word32] = (word32) Mem1301[ebp_1069 - 0x20 + 0x00:word16];
								Mem1336[ebx_1324 + 0x00:word16] = (word16) (ex_efct(dwArg00) | eax_1327);
								word32 eax_1340 = Mem1336[ebp_1069 - 0x30 + 0x00:word32];
								Mem1343[Mem1336[0x0817C988:word32] + Mem1336[(ebp_1069 - 0x48) + 0x00:word32]:byte] = (byte) (word32) Mem1336[eax_1340 + 0x00:byte];
								Mem1345[ebp_1069 - 0x30 + 0x00:word32] = eax_1340 + 0x01;
								Mem1347[ebp_1069 - 0x48 + 0x00:word32] = Mem1345[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
							}
						}
						Mem1272[ebp_1069 - 0x44 + 0x00:word32] = Mem1247[ebp_1069 - 0x44 + 0x00:word32] + Mem1247[0x0817D2D4:word32];
						continue;
					}
					if (Mem391[ebp_1069 - 0x1C + 0x00:word16] != 0x0100 && Mem391[(ebp_1069 - 0x1C) + 0x00:word16] != 0x2000)
					{
						if (((word32) Mem391[ebp_1069 - 0x1C + 0x00:word16] & 0x1000) != 0x00)
						{
							word32 ebx_437 = Mem391[135776652:word32] + Mem391[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
							Mem439[esp_1070 + 0x00:word32] = (word32) Mem391[ebp_1069 - 0x20 + 0x00:word16];
							Mem445[ebx_437 + 0x00:word16] = (word16) ((word32) Mem439[ebp_1069 - 0x1E + 0x00:word16] | ex_efct(dwArg00));
							Mem449[Mem445[0x0817C988:word32] + Mem445[(ebp_1069 - 0x48) + 0x00:word32]:byte] = 0x20;
							Mem451[ebp_1069 - 0x48 + 0x00:word32] = Mem449[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
							Mem462[ebp_1069 - 0x44 + 0x00:word32] = Mem451[ebp_1069 - 0x44 + 0x00:word32] + (word32) ((byte) ((word32) Mem451[(word32) ((byte) ((word32) Mem451[Mem451[(ebp_1069 - 0x44) + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte]));
							continue;
						}
						if ((byte) (word32) Mem391[Mem391[ebp_1069 - 0x44 + 0x00:word32] + 0x00:byte] != 0x3C && (byte) ((word32) Mem391[Mem391[(ebp_1069 - 0x44) + 0x00:word32] + 0x00:byte]) != 0x26)
						{
							Mem1015[ebp_1069 - 0x80 + 0x00:word32] = (word32) (byte) (word32) Mem391[(word32) (byte) (word32) Mem391[Mem391[ebp_1069 - 0x44 + 0x00:word32] + 0x00:byte] + 0x08179AE0:byte];
							word32 ebx_1019 = Mem1015[135776652:word32] + Mem1015[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
							word32 eax_1022 = (word32) Mem1015[ebp_1069 - 0x1E + 0x00:word16] | (word32) Mem1015[(ebp_1069 - 0x1C) + 0x00:word16];
							Mem1027[esp_1070 + 0x00:word32] = (word32) Mem1015[ebp_1069 - 0x20 + 0x00:word16];
							word16 ax_1030 = (word16) (ex_efct(dwArg00) | eax_1022);
							Mem1031[ebx_1019 + 0x00:word16] = ax_1030;
							word32 eax_1035 = Mem1031[ebp_1069 - 0x44 + 0x00:word32];
							Mem1038[Mem1031[0x0817C988:word32] + Mem1031[(ebp_1069 - 0x48) + 0x00:word32]:byte] = (byte) (word32) Mem1031[eax_1035 + 0x00:byte];
							Mem1040[ebp_1069 - 0x44 + 0x00:word32] = eax_1035 + 0x01;
							Mem1042[ebp_1069 - 0x48 + 0x00:word32] = Mem1040[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
							Mem1044[ebp_1069 - 0x80 + 0x00:word32] = Mem1042[ebp_1069 - 0x80 + 0x00:word32] - 0x01;
							if (Mem1044[ebp_1069 - 0x80 + 0x00:word32] != 0x00)
							{
								Mem1054[ebp_1069 - 0x1C + 0x00:word16] = DPB(ax_1030, SLICE((word32) Mem1044[ebp_1069 - 0x1C + 0x00:word16], byte, 8) & ~0x06 | 0x04, 8);
								while (true)
								{
									byte al_1073 = Mem1054[ebp_1069 - 0x80 + 0x00:word32] != 0x00;
									Mem1075[ebp_1069 - 0x80 + 0x00:word32] = Mem1054[ebp_1069 - 0x80 + 0x00:word32] - 0x01;
									if (al_1073 == 0x00)
										break;
									if (Mem1075[ebp_1069 - 0x48 + 0x00:word32] + 0x01 >= Mem1075[135776644:word32])
									{
										word32 edx_1123 = Mem1075[ebp_1069 - 0x48 + 0x00:word32];
										Mem1132[135776644:word32] = (edx_1123 * 0x03 >>u 0x1F) + edx_1123 * 0x03 >> 0x01;
										word32 eax_1135 = Mem1132[0x0817C988:word32];
										Mem1136[esp_1070 + 0x04:word32] = Mem1132[135776644:word32];
										Mem1137[esp_1070 + 0x00:word32] = eax_1135;
										word32 esp_1138;
										word32 ebp_1139;
										word32 edi_1140;
										word32 esi_1141;
										word32 ebx_1142;
										byte SCZO_1143;
										word32 eax_1144;
										byte SZO_1145;
										byte C_1146;
										byte Z_1147;
										byte S_1148;
										byte al_1149;
										word32 edx_1150;
										word32 ecx_1151;
										byte SO_1152;
										word16 ax_1153;
										byte dl_1154;
										byte ah_1155;
										byte CZ_1156;
										bcuiposr0 None_1157;
										selector gs_1158;
										!GC_realloc();
										Mem1159[0x0817C988:word32] = eax_1144;
										word32 eax_1162 = Mem1159[135776652:word32];
										Mem1163[esp_1138 + 0x04:word32] = Mem1159[135776644:word32] * 0x02;
										Mem1164[esp_1138 + 0x00:word32] = eax_1162;
										word32 edi_1167;
										word32 esi_1168;
										word32 ebx_1169;
										byte SCZO_1170;
										word32 eax_1171;
										byte SZO_1172;
										byte C_1173;
										byte Z_1174;
										byte S_1175;
										byte al_1176;
										word32 edx_1177;
										word32 ecx_1178;
										byte SO_1179;
										word16 ax_1180;
										byte dl_1181;
										byte ah_1182;
										byte CZ_1183;
										bcuiposr0 None_1184;
										!GC_realloc();
										Mem1186[135776652:word32] = eax_1171;
									}
									word32 ebx_1098 = Mem1075[135776652:word32] + Mem1075[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
									word32 eax_1101 = (word32) Mem1075[ebp_1069 - 0x1E + 0x00:word16] | (word32) Mem1075[(ebp_1069 - 0x1C) + 0x00:word16];
									Mem1106[esp_1070 + 0x00:word32] = (word32) Mem1075[ebp_1069 - 0x20 + 0x00:word16];
									Mem1110[ebx_1098 + 0x00:word16] = (word16) (ex_efct(dwArg00) | eax_1101);
									word32 eax_1114 = Mem1110[ebp_1069 - 0x44 + 0x00:word32];
									Mem1117[Mem1110[0x0817C988:word32] + Mem1110[(ebp_1069 - 0x48) + 0x00:word32]:byte] = (byte) (word32) Mem1110[eax_1114 + 0x00:byte];
									Mem1119[ebp_1069 - 0x44 + 0x00:word32] = eax_1114 + 0x01;
									Mem1121[ebp_1069 - 0x48 + 0x00:word32] = Mem1119[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
								}
							}
							continue;
						}
						if ((byte) (word32) Mem391[Mem391[ebp_1069 - 0x44 + 0x00:word32] + 0x00:byte] == 0x26)
						{
							Mem474[esp_1070 + 0x00:word32] = ebp_1069 - 0x44;
							word32 ebx_475;
							Mem477[ebp_1069 - 0x30 + 0x00:word32] = getescapecmd(dwArg00, out ebx_475);
							while (true)
							{
								byte al_496 = (byte) (word32) Mem477[Mem477[ebp_1069 - 0x30 + 0x00:word32] + 0x00:byte];
								if (al_496 == 0x00)
									break;
								if (Mem477[ebp_1069 - 0x48 + 0x00:word32] + 0x01 >= Mem477[135776644:word32])
								{
									word32 edx_773 = Mem477[ebp_1069 - 0x48 + 0x00:word32];
									Mem782[135776644:word32] = (edx_773 * 0x03 >>u 0x1F) + edx_773 * 0x03 >> 0x01;
									word32 eax_785 = Mem782[0x0817C988:word32];
									Mem786[esp_1070 + 0x04:word32] = Mem782[135776644:word32];
									Mem787[esp_1070 + 0x00:word32] = eax_785;
									word32 esp_788;
									word32 ebp_789;
									word32 edi_790;
									word32 esi_791;
									word32 ebx_792;
									byte SCZO_793;
									word32 eax_794;
									byte SZO_795;
									byte C_796;
									byte Z_797;
									byte S_798;
									byte al_799;
									word32 edx_800;
									word32 ecx_801;
									byte SO_802;
									word16 ax_803;
									byte dl_804;
									byte ah_805;
									byte CZ_806;
									bcuiposr0 None_807;
									selector gs_808;
									!GC_realloc();
									Mem809[0x0817C988:word32] = eax_794;
									word32 eax_812 = Mem809[135776652:word32];
									Mem813[esp_788 + 0x04:word32] = Mem809[135776644:word32] * 0x02;
									Mem814[esp_788 + 0x00:word32] = eax_812;
									word32 edi_817;
									word32 esi_818;
									word32 ebx_819;
									byte SCZO_820;
									word32 eax_821;
									byte SZO_822;
									byte C_823;
									byte Z_824;
									byte S_825;
									byte al_826;
									word32 edx_827;
									word32 ecx_828;
									byte SO_829;
									word16 ax_830;
									byte dl_831;
									byte ah_832;
									byte CZ_833;
									bcuiposr0 None_834;
									!GC_realloc();
									Mem836[135776652:word32] = eax_821;
								}
								Mem530[ebp_1069 - 0x1C + 0x00:word16] = (word16) ((word32) (byte) (word32) Mem477[(word32) (byte) (word32) Mem477[Mem477[ebp_1069 - 0x30 + 0x00:word32] + 0x00:byte] + 0x08179BE0:byte] << 0x08);
								if (Mem530[ebp_1069 - 0x1C + 0x00:word16] != 0x0100 && Mem530[(ebp_1069 - 0x1C) + 0x00:word16] != 0x2000)
								{
									if (((word32) Mem530[ebp_1069 - 0x1C + 0x00:word16] & 0x1000) != 0x00)
									{
										word32 ebx_568 = Mem530[135776652:word32] + Mem530[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
										Mem570[esp_1070 + 0x00:word32] = (word32) Mem530[ebp_1069 - 0x20 + 0x00:word16];
										Mem576[ebx_568 + 0x00:word16] = (word16) ((word32) Mem570[ebp_1069 - 0x1E + 0x00:word16] | ex_efct(dwArg00));
										Mem580[Mem576[0x0817C988:word32] + Mem576[(ebp_1069 - 0x48) + 0x00:word32]:byte] = 0x20;
										Mem582[ebp_1069 - 0x48 + 0x00:word32] = Mem580[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
										Mem593[ebp_1069 - 0x30 + 0x00:word32] = Mem582[ebp_1069 - 0x30 + 0x00:word32] + (word32) ((byte) ((word32) Mem582[(word32) ((byte) ((word32) Mem582[Mem582[(ebp_1069 - 0x30) + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte]));
									}
									else
									{
										Mem601[ebp_1069 - 0x84 + 0x00:word32] = (word32) (byte) (word32) Mem530[(word32) (byte) (word32) Mem530[Mem530[ebp_1069 - 0x30 + 0x00:word32] + 0x00:byte] + 0x08179AE0:byte];
										word32 ebx_605 = Mem601[135776652:word32] + Mem601[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
										word32 eax_608 = (word32) Mem601[ebp_1069 - 0x1E + 0x00:word16] | (word32) Mem601[(ebp_1069 - 0x1C) + 0x00:word16];
										Mem613[esp_1070 + 0x00:word32] = (word32) Mem601[ebp_1069 - 0x20 + 0x00:word16];
										word16 ax_616 = (word16) (ex_efct(dwArg00) | eax_608);
										Mem617[ebx_605 + 0x00:word16] = ax_616;
										word32 eax_621 = Mem617[ebp_1069 - 0x30 + 0x00:word32];
										Mem624[Mem617[0x0817C988:word32] + Mem617[(ebp_1069 - 0x48) + 0x00:word32]:byte] = (byte) (word32) Mem617[eax_621 + 0x00:byte];
										Mem626[ebp_1069 - 0x30 + 0x00:word32] = eax_621 + 0x01;
										Mem628[ebp_1069 - 0x48 + 0x00:word32] = Mem626[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
										Mem630[ebp_1069 - 0x84 + 0x00:word32] = Mem628[ebp_1069 - 0x84 + 0x00:word32] - 0x01;
										if (Mem630[ebp_1069 - 0x84 + 0x00:word32] != 0x00)
										{
											Mem640[ebp_1069 - 0x1C + 0x00:word16] = DPB(ax_616, SLICE((word32) Mem630[ebp_1069 - 0x1C + 0x00:word16], byte, 8) & ~0x06 | 0x04, 8);
											while (true)
											{
												byte al_659 = Mem640[ebp_1069 - 0x84 + 0x00:word32] != 0x00;
												Mem661[ebp_1069 - 0x84 + 0x00:word32] = Mem640[ebp_1069 - 0x84 + 0x00:word32] - 0x01;
												if (al_659 == 0x00)
													break;
												if (Mem661[ebp_1069 - 0x48 + 0x00:word32] + 0x01 >= Mem661[135776644:word32])
												{
													word32 edx_709 = Mem661[ebp_1069 - 0x48 + 0x00:word32];
													Mem718[135776644:word32] = (edx_709 * 0x03 >>u 0x1F) + edx_709 * 0x03 >> 0x01;
													word32 eax_721 = Mem718[0x0817C988:word32];
													Mem722[esp_1070 + 0x04:word32] = Mem718[135776644:word32];
													Mem723[esp_1070 + 0x00:word32] = eax_721;
													word32 esp_724;
													word32 ebp_725;
													word32 edi_726;
													word32 esi_727;
													word32 ebx_728;
													byte SCZO_729;
													word32 eax_730;
													byte SZO_731;
													byte C_732;
													byte Z_733;
													byte S_734;
													byte al_735;
													word32 edx_736;
													word32 ecx_737;
													byte SO_738;
													word16 ax_739;
													byte dl_740;
													byte ah_741;
													byte CZ_742;
													bcuiposr0 None_743;
													selector gs_744;
													!GC_realloc();
													Mem745[0x0817C988:word32] = eax_730;
													word32 eax_748 = Mem745[135776652:word32];
													Mem749[esp_724 + 0x04:word32] = Mem745[135776644:word32] * 0x02;
													Mem750[esp_724 + 0x00:word32] = eax_748;
													word32 edi_753;
													word32 esi_754;
													word32 ebx_755;
													byte SCZO_756;
													word32 eax_757;
													byte SZO_758;
													byte C_759;
													byte Z_760;
													byte S_761;
													byte al_762;
													word32 edx_763;
													word32 ecx_764;
													byte SO_765;
													word16 ax_766;
													byte dl_767;
													byte ah_768;
													byte CZ_769;
													bcuiposr0 None_770;
													!GC_realloc();
													Mem772[135776652:word32] = eax_757;
												}
												word32 ebx_684 = Mem661[135776652:word32] + Mem661[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
												word32 eax_687 = (word32) Mem661[ebp_1069 - 0x1E + 0x00:word16] | (word32) Mem661[(ebp_1069 - 0x1C) + 0x00:word16];
												Mem692[esp_1070 + 0x00:word32] = (word32) Mem661[ebp_1069 - 0x20 + 0x00:word16];
												Mem696[ebx_684 + 0x00:word16] = (word16) (ex_efct(dwArg00) | eax_687);
												word32 eax_700 = Mem696[ebp_1069 - 0x30 + 0x00:word32];
												Mem703[Mem696[0x0817C988:word32] + Mem696[(ebp_1069 - 0x48) + 0x00:word32]:byte] = (byte) (word32) Mem696[eax_700 + 0x00:byte];
												Mem705[ebp_1069 - 0x30 + 0x00:word32] = eax_700 + 0x01;
												Mem707[ebp_1069 - 0x48 + 0x00:word32] = Mem705[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
											}
										}
									}
								}
								else
								{
									word32 ebx_538 = Mem530[135776652:word32] + Mem530[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
									Mem540[esp_1070 + 0x00:word32] = (word32) Mem530[ebp_1069 - 0x20 + 0x00:word16];
									Mem546[ebx_538 + 0x00:word16] = (word16) ((word32) Mem540[ebp_1069 - 0x1E + 0x00:word16] | ex_efct(dwArg00));
									Mem550[Mem546[0x0817C988:word32] + Mem546[(ebp_1069 - 0x48) + 0x00:word32]:byte] = 0x20;
									Mem552[ebp_1069 - 0x48 + 0x00:word32] = Mem550[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
									Mem556[ebp_1069 - 0x30 + 0x00:word32] = Mem552[ebp_1069 - 0x30 + 0x00:word32] + 0x01;
								}
							}
							continue;
						}
						Mem837[esp_1070 + 0x04:word32] = 0x01;
						Mem839[esp_1070 + 0x00:word32] = ebp_1069 - 0x44;
						Mem841[ebp_1069 - 0x88 + 0x00:word32] = parse_tag(ebp_1069, gs_1055, dwArg00, dwArg04);
						if (Mem841[ebp_1069 - 0x88 + 0x00:word32] == 0x00)
							continue;
						word32 eax_847 = (word32) (byte) (word32) Mem841[Mem841[ebp_1069 - 0x88 + 0x00:word32] + 0x00:byte];
						if (eax_847 <=u 0x8E)
						{
							word32 eax_853 = 0x080CA548[eax_847 * 0x04];
							word32 esp_854;
							word32 ebp_855;
							word32 edi_856;
							word32 esi_857;
							word32 ebx_858;
							byte SCZO_859;
							word32 eax_860;
							byte SZO_861;
							byte C_862;
							byte Z_863;
							byte S_864;
							byte al_865;
							word32 edx_866;
							word32 ecx_867;
							byte SO_868;
							word16 ax_869;
							byte dl_870;
							byte ah_871;
							byte CZ_872;
							bcuiposr0 None_873;
							selector gs_874;
							eax_853();
							return;
						}
						Mem875[ebp_1069 - 88 + 0x00:word32] = 0x00;
						Mem877[esp_1070 + 0x08:word32] = ebp_1069 - 88;
						Mem878[esp_1070 + 0x04:word32] = 0x14;
						Mem880[esp_1070 + 0x00:word32] = Mem878[ebp_1069 - 0x88 + 0x00:word32];
						if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00)
						{
							word32 esi_980 = Mem880[Mem880[ebp_1069 + 0x08:word32] + 0xD0:word32];
							word32 ebx_981 = Mem880[135091052:word32];
							word32 eax_982 = Mem880[ebp_1069 - 88 + 0x00:word32];
							Mem983[esp_1070 + 0x00:word32] = eax_982;
							Strnew_charp(eax_982, dwArg00);
							Mem984[esp_1070 + 0x08:word32] = esi_980;
							Mem985[esp_1070 + 0x04:word32] = ebx_981;
							Mem986[esp_1070 + 0x00:word32] = eax_982;
							word32 ebx_987;
							Mem990[esp_1070 + 0x00:word32] = Mem986[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_987) + 0x00:word32];
							Mem992[ebp_1069 - 88 + 0x00:word32] = url_quote(dwArg00);
							Mem994[esp_1070 + 0x00:word32] = Mem992[ebp_1069 + 0x08:word32];
							word32 eax_995 = currentLn(dwArg00);
							word32 edx_996 = Mem994[ebp_1069 - 88 + 0x00:word32];
							Mem998[esp_1070 + 0x0C:word32] = Mem994[ebp_1069 - 0x48 + 0x00:word32];
							Mem999[esp_1070 + 0x08:word32] = eax_995;
							Mem1000[esp_1070 + 0x04:word32] = edx_996;
							Mem1002[esp_1070 + 0x00:word32] = Mem1000[ebp_1069 + 0x08:word32];
							registerName(dwArg00, dwArg04, dwArg08, dwArg0C);
						}
						if (Mem880[0x0817D300:word32] != 0x00)
						{
							Mem928[esp_1070 + 0x08:word32] = ebp_1069 - 0x30;
							Mem929[esp_1070 + 0x04:word32] = 0x43;
							Mem931[esp_1070 + 0x00:word32] = Mem929[ebp_1069 - 0x88 + 0x00:word32];
							if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) == 0x00)
								goto l0806BEDD;
							word32 esi_937 = Mem931[Mem931[ebp_1069 + 0x08:word32] + 0xD0:word32];
							word32 ebx_938 = Mem931[135091052:word32];
							word32 eax_939 = Mem931[ebp_1069 - 0x30 + 0x00:word32];
							Mem940[esp_1070 + 0x00:word32] = eax_939;
							Strnew_charp(eax_939, dwArg00);
							Mem941[esp_1070 + 0x08:word32] = esi_937;
							Mem942[esp_1070 + 0x04:word32] = ebx_938;
							Mem943[esp_1070 + 0x00:word32] = eax_939;
							word32 ebx_944;
							Mem947[esp_1070 + 0x00:word32] = Mem943[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_944) + 0x00:word32];
							Mem949[ebp_1069 - 0x30 + 0x00:word32] = url_quote(dwArg00);
							if (Mem949[ebp_1069 - 0x54 + 0x00:word32] != 0x00)
							{
								word32 eax_972 = Mem949[Mem949[Mem949[ebp_1069 - 0x54 + 0x00:word32] + 0x00:word32] + 0x04:word32];
								Mem973[esp_1070 + 0x04:word32] = Mem949[ebp_1069 - 0x30 + 0x00:word32];
								Mem974[esp_1070 + 0x00:word32] = eax_972;
								if (strcmp(Mem974[esp_1070 + 0x00:(ptr char)], Mem974[esp_1070 + 0x04:(ptr char)]) != 0x00)
									goto l0806BEAD;
							}
							else
							{
l0806BEAD:
								word32 eax_955 = Mem949[0x0817D300:word32];
								Mem956[esp_1070 + 0x04:word32] = Mem949[ebp_1069 - 0x30 + 0x00:word32];
								Mem957[esp_1070 + 0x00:word32] = eax_955;
								Mem959[ebp_1069 - 0x54 + 0x00:word32] = search_frame(dwArg00, dwArg04);
								if (Mem959[ebp_1069 - 0x54 + 0x00:word32] != 0x00 && (byte) ((word32) Mem959[Mem959[Mem959[(ebp_1069 - 0x54) + 0x00:word32] + 0x00:word32] + 0x00:byte]) != 0x01)
									Mem968[ebp_1069 - 0x54 + 0x00:word32] = 0x00;
							}
						}
l0806BEDD:
						if (Mem880[ebp_1069 - 88 + 0x00:word32] != 0x00 && Mem880[(ebp_1069 - 0x54) + 0x00:word32] != 0x00)
						{
							word32 ebx_905 = Mem880[Mem880[ebp_1069 - 0x54 + 0x00:word32] + 0x00:word32];
							Mem907[esp_1070 + 0x00:word32] = Mem880[ebp_1069 + 0x08:word32];
							word32 eax_908 = currentLn(dwArg00);
							word32 ecx_909 = Mem907[ebp_1069 - 88 + 0x00:word32];
							word32 edx_912 = Mem907[Mem907[Mem907[ebp_1069 - 0x54 + 0x00:word32] + 0x00:word32] + 0x1C:word32];
							Mem914[esp_1070 + 0x20:word32] = Mem907[ebp_1069 - 0x48 + 0x00:word32];
							Mem915[esp_1070 + 0x1C:word32] = eax_908;
							Mem916[esp_1070 + 0x18:word32] = 0x00;
							Mem917[esp_1070 + 0x14:word32] = 0x00;
							Mem918[esp_1070 + 0x10:word32] = 0x00;
							Mem919[esp_1070 + 0x0C:word32] = 0x00;
							Mem920[esp_1070 + 0x08:word32] = 0x00;
							Mem921[esp_1070 + 0x04:word32] = ecx_909;
							Mem922[esp_1070 + 0x00:word32] = edx_912;
							Mem926[ebx_905 + 0x1C:word32] = putAnchor(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20);
						}
						continue;
					}
					word32 ebx_407 = Mem391[135776652:word32] + Mem391[(ebp_1069 - 0x48) + 0x00:word32] * 0x02;
					Mem409[esp_1070 + 0x00:word32] = (word32) Mem391[ebp_1069 - 0x20 + 0x00:word16];
					Mem415[ebx_407 + 0x00:word16] = (word16) ((word32) Mem409[ebp_1069 - 0x1E + 0x00:word16] | ex_efct(dwArg00));
					Mem419[Mem415[0x0817C988:word32] + Mem415[(ebp_1069 - 0x48) + 0x00:word32]:byte] = 0x20;
					Mem421[ebp_1069 - 0x48 + 0x00:word32] = Mem419[ebp_1069 - 0x48 + 0x00:word32] + 0x01;
					Mem425[ebp_1069 - 0x44 + 0x00:word32] = Mem421[ebp_1069 - 0x44 + 0x00:word32] + 0x01;
				}
				if (Mem294[ebp_1069 - 0x6C + 0x00:word32] == 0x00)
				{
					word32 edx_344 = Mem294[135776652:word32];
					word32 eax_345 = Mem294[0x0817C988:word32];
					Mem347[esp_1070 + 0x18:word32] = Mem294[ebp_1069 - 0x4C + 0x00:word32];
					Mem348[esp_1070 + 0x14:word32] = ~0x00;
					Mem350[esp_1070 + 0x10:word32] = Mem348[ebp_1069 - 0x48 + 0x00:word32];
					Mem351[esp_1070 + 0x0C:word32] = 0x00;
					Mem352[esp_1070 + 0x08:word32] = edx_344;
					Mem353[esp_1070 + 0x04:word32] = eax_345;
					Mem355[esp_1070 + 0x00:word32] = Mem353[ebp_1069 + 0x08:word32];
					addnewline(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
				}
				if (Mem294[ebp_1069 - 0x6C + 0x00:word32] == 0x8E)
					Mem343[ebp_1069 - 0x6C + 0x00:word32] = 0x00;
				if (Mem294[ebp_1069 - 0x44 + 0x00:word32] == Mem294[(ebp_1069 - 0x68) + 0x00:word32])
					goto l0806BFE6;
				word32 ebx_334 = Mem294[ebp_1069 - 0x44 + 0x00:word32] - Mem294[Mem294[(ebp_1069 - 100) + 0x00:word32] + 0x00:word32];
				Mem337[esp_1070 + 0x08:word32] = Mem294[ebp_1069 - 0x68 + 0x00:word32] - Mem294[(ebp_1069 - 0x44) + 0x00:word32];
				Mem338[esp_1070 + 0x04:word32] = ebx_334;
				word32 eax_339 = Mem338[ebp_1069 - 100 + 0x00:word32];
				Mem340[esp_1070 + 0x00:word32] = eax_339;
				Strsubstr(eax_339, dwArg00, dwArg04, dwArg08);
				Mem342[ebp_1069 - 100 + 0x00:word32] = eax_339;
			}
			break;
		}
		word32 eax_1488 = Mem140[0x08180734:word32][Mem140[0x0817C888:word32] * 0x04];
		Mem1490[esp_1070 + 0x04:word32] = Mem140[ebp_1069 - 100 + 0x00:word32];
		Mem1491[esp_1070 + 0x00:word32] = eax_1488;
		Strcat(dwArg00, dwArg04);
	}
	Mem185[ebp_1069 - 0x60 + 0x00:word32] = 0x01;
	while (Mem185[ebp_1069 - 0x60 + 0x00:word32] <= Mem185[0x080D5428:word32])
	{
		Mem252[Mem185[0x0817C8A0:word32][Mem185[ebp_1069 - 0x60 + 0x00:word32] * 0x04] + 0x20:word32] = Mem185[0x0817C8A0:word32][(Mem185[ebp_1069 - 0x60 + 0x00:word32] - 0x01) * 0x04];
		Mem256[ebp_1069 - 0x60 + 0x00:word32] = Mem252[ebp_1069 - 0x60 + 0x00:word32] + 0x01;
	}
	word32 eax_198;
	if (Mem185[0x080D5428:word32] >= 0x00)
		eax_198 = Mem185[0x0817C8A0:word32][Mem185[0x080D5428:word32] * 0x04];
	else
		eax_198 = 0x00;
	Mem201[Mem185[ebp_1069 + 0x08:word32] + 116:word32] = eax_198;
	if (Mem201[0x0817C888:word32] != 0x00)
	{
		Mem225[esp_1070 + 0x04:word32] = Mem201[Mem201[ebp_1069 + 0x08:word32] + 0x6C:word32];
		Mem227[esp_1070 + 0x00:word32] = Mem225[ebp_1069 + 0x08:word32];
		addMultirowsForm(dwArg00, dwArg04);
	}
	Mem208[esp_1070 + 0x04:word32] = Mem201[Mem201[ebp_1069 + 0x08:word32] + 0x68:word32];
	Mem210[esp_1070 + 0x00:word32] = Mem208[ebp_1069 + 0x08:word32];
	addMultirowsImg(dwArg00, dwArg04);
}

// 0806C0A4: void addLink(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void addLink(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	parsedtag_get_value(dwArg08, 0x12, fp - 0x14);
	if (0x00 != 0x00)
	{
		word32 esi_151 = Mem0[dwArg04 + 0xD0:word32];
		word32 ebx_152 = Mem0[135091052:word32];
		word32 edx_155;
		word32 eax_156 = remove_space(0x00, out edx_155);
		Strnew_charp(eax_156, eax_156);
		word32 ebx_161;
		Mem164[fp - 0x3C + 0x00:word32] = Mem0[wc_Str_conv_strict(eax_156, ebx_152, esi_151, out ebx_161) + 0x00:word32];
		Mem166[fp - 0x14 + 0x00:word32] = url_quote(dwArg00);
	}
	Mem39[fp - 0x34 + 0x00:word32] = fp - 0x18;
	Mem40[fp - 0x38 + 0x00:word32] = 0x31;
	Mem42[fp - 0x3C + 0x00:word32] = Mem40[fp + 0x08:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	Mem47[fp - 0x34 + 0x00:word32] = fp - 0x1C;
	Mem48[fp - 0x38 + 0x00:word32] = 33;
	Mem50[fp - 0x3C + 0x00:word32] = Mem48[fp + 0x08:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	Mem53[fp - 0x34 + 0x00:word32] = fp - 0x20;
	Mem54[fp - 0x38 + 0x00:word32] = 0x2F;
	Mem56[fp - 0x3C + 0x00:word32] = Mem54[fp + 0x08:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	if (Mem56[fp - 0x20 + 0x00:word32] != 0x00)
	{
		Mem142[fp - 0x0D + 0x00:byte] = 0x01;
		if (Mem142[fp - 0x18 + 0x00:word32] == 0x00)
			Mem148[fp - 0x18 + 0x00:word32] = Mem142[fp - 0x20 + 0x00:word32];
	}
	Mem63[fp - 0x34 + 0x00:word32] = fp - 0x24;
	Mem64[fp - 0x38 + 0x00:word32] = 0x30;
	Mem66[fp - 0x3C + 0x00:word32] = Mem64[fp + 0x08:word32];
	parsedtag_get_value(dwArg00, dwArg04, dwArg08);
	word32 eax_68 = Mem66[fp - 0x24 + 0x00:word32];
	if (eax_68 != 0x00)
	{
		Mem135[fp - 0x0D + 0x00:byte] = 0x02;
		if (Mem135[fp - 0x18 + 0x00:word32] == 0x00)
			Mem141[fp - 0x18 + 0x00:word32] = Mem135[fp - 0x24 + 0x00:word32];
	}
	Mem72[fp - 0x3C + 0x00:word32] = 0x14;
	word32 esp_73;
	word32 ebp_74;
	word32 esi_75;
	word32 ebx_76;
	byte SCZO_77;
	word32 eax_78;
	byte SZO_79;
	byte C_80;
	byte Z_81;
	word32 edx_82;
	byte dl_83;
	!GC_malloc();
	Mem84[ebp_74 - 0x24 + 0x00:word32] = eax_78;
	Mem87[Mem84[ebp_74 - 0x24 + 0x00:word32] + 0x00:word32] = Mem84[ebp_74 - 0x10 + 0x00:word32];
	Mem90[Mem87[ebp_74 - 0x24 + 0x00:word32] + 0x04:word32] = Mem87[ebp_74 - 0x14 + 0x00:word32];
	Mem93[Mem90[ebp_74 - 0x24 + 0x00:word32] + 0x08:word32] = Mem90[ebp_74 - 0x18 + 0x00:word32];
	Mem97[Mem93[ebp_74 - 0x24 + 0x00:word32] + 0x0C:byte] = (byte) (word32) Mem93[ebp_74 - 0x09 + 0x00:byte];
	Mem99[Mem97[ebp_74 - 0x24 + 0x00:word32] + 0x10:word32] = 0x00;
	if (Mem99[Mem99[ebp_74 + 0x08:word32] + 0x70:word32] != 0x00)
	{
		Mem120[ebp_74 - 0x28 + 0x00:word32] = Mem99[Mem99[ebp_74 + 0x08:word32] + 0x70:word32];
		while (Mem120[Mem120[ebp_74 - 0x28 + 0x00:word32] + 0x10:word32] != 0x00)
			Mem131[ebp_74 - 0x28 + 0x00:word32] = Mem120[Mem120[ebp_74 - 0x28 + 0x00:word32] + 0x10:word32];
		Mem128[Mem120[ebp_74 - 0x28 + 0x00:word32] + 0x10:word32] = Mem120[ebp_74 - 0x24 + 0x00:word32];
	}
	else
		Mem134[Mem99[ebp_74 + 0x08:word32] + 0x70:word32] = Mem99[ebp_74 - 0x24 + 0x00:word32];
}

// 0806C24B: void HTMLlineproc2(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void HTMLlineproc2(selector gs, word32 dwArg04, word32 dwArg08)
{
	Mem12[0x0817C8C0:word32] = Mem0[dwArg08 + 0x00:word32];
	HTMLlineproc2body(fp - 0x04, gs);
}

// 0806C278: void file_feed()
void file_feed()
{
	if (Mem0[StrISgets(Mem0[0x0817C8C4:word32]) + 0x04:word32] == 0x00)
		ISclose(Mem0[0x0817C8C4:word32]);
}

// 0806C2B1: void HTMLlineproc3(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void HTMLlineproc3(selector gs, word32 dwArg04, word32 dwArg08)
{
	Mem10[0x0817C8C4:word32] = dwArg08;
	HTMLlineproc2body(fp - 0x04, gs);
}

// 0806C2DC: void proc_escape(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void proc_escape(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 eax_14 = Mem0[dwArg08 + 0x00:word32];
	word32 eax_18 = getescapechar(dwArg08);
	if (eax_18 < 0x00)
	{
		Mem52[dwArg08 + 0x00:word32] = eax_14;
		proc_mchar(fp - 0x04, dwArg04, Mem52[dwArg04 + 0x0C:word32] & 655, dwArg08, 0x00);
	}
	else
	{
		Mem86[fp - 0x18 + 0x00:word32] = conv_entity(eax_18);
		word32 eax_88 = Mem86[Mem86[fp + 0x04:word32] + 0x0C:word32];
		Mem94[fp - 0x44 + 0x00:word32] = Mem86[fp - 0x18 + 0x00:word32];
		Mem95[fp - 0x48 + 0x00:word32] = eax_88 & 655;
		Mem97[fp - 0x4C + 0x00:word32] = Mem95[fp + 0x04:word32];
		check_breakpoint(fp - 0x04, dwArg00, dwArg04, dwArg08);
		Mem100[fp - 0x4C + 0x00:word32] = Mem97[fp - 0x18 + 0x00:word32];
		Mem102[fp - 0x20 + 0x00:word32] = wtf_strwidth(dwArg00);
		if (Mem102[fp - 0x20 + 0x00:word32] == 0x01 && ((word32) ((byte) ((word32) Mem102[Mem102[(fp - 0x18) + 0x00:word32] + 0x00:byte])) == Mem102[(fp - 0x1C) + 0x00:word32] && (Mem102[(fp - 0x1C) + 0x00:word32] != 0x26 && (Mem102[(fp - 0x1C) + 0x00:word32] != 0x3C && Mem102[(fp - 0x1C) + 0x00:word32] != 0x3E))))
		{
			if ((byte) ((word32) (byte) (word32) Mem102[(word32) (byte) Mem102[fp - 0x1C + 0x00:word32] + 0x080DB700:byte] & 0x01) != 0x00)
				Mem179[fp - 0x0E + 0x00:word16] = 0x0100;
			word32 ebx_167 = (word32) Mem102[fp - 0x0E + 0x00:word16];
			Mem169[fp - 0x4C + 0x00:word32] = Mem102[fp - 0x18 + 0x00:word32];
			word32 eax_170 = strlen(Mem169[fp - 0x4C + 0x00:(ptr char)]);
			Mem171[fp - 0x3C + 0x00:word32] = ebx_167;
			Mem172[fp - 0x40 + 0x00:word32] = eax_170;
			Mem174[fp - 0x44 + 0x00:word32] = Mem172[fp - 0x18 + 0x00:word32];
			Mem176[fp - 0x48 + 0x00:word32] = Mem174[fp - 0x20 + 0x00:word32];
			Mem178[fp - 0x4C + 0x00:word32] = Mem176[fp + 0x04:word32];
			push_nchars(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
		}
		else
		{
			Mem133[fp - 0x3C + 0x00:word32] = (word32) Mem102[fp - 0x0E + 0x00:word16];
			Mem135[fp - 0x40 + 0x00:word32] = Mem133[fp - 0x24 + 0x00:word32];
			Mem137[fp - 0x44 + 0x00:word32] = Mem135[fp - 0x14 + 0x00:word32];
			Mem139[fp - 0x48 + 0x00:word32] = Mem137[fp - 0x20 + 0x00:word32];
			Mem141[fp - 0x4C + 0x00:word32] = Mem139[fp + 0x04:word32];
			push_nchars(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
		}
		Mem112[fp - 0x4C + 0x00:word32] = Mem102[fp - 0x18 + 0x00:word32];
		word32 eax_113 = strlen(Mem112[fp - 0x4C + 0x00:(ptr char)]);
		word32 eax_116 = Mem112[Mem112[fp + 0x04:word32] + 0x08:word32];
		Mem117[fp - 0x44 + 0x00:word32] = eax_113;
		Mem119[fp - 0x48 + 0x00:word32] = Mem117[fp - 0x18 + 0x00:word32];
		Mem120[fp - 0x4C + 0x00:word32] = eax_116;
		Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
		Mem124[Mem120[fp + 0x04:word32] + 0xB8:word16] = (word16) (word32) Mem120[fp - 0x0E + 0x00:word16];
	}
}

// 0806C497: Register word32 need_flushline(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 need_flushline(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_25;
	if ((Mem0[dwArg08 + 0x0C:word32] & 0x0200) != 0x00)
	{
		if ((int32) (word16) (word32) Mem0[dwArg08 + 0x06:word16] > Mem0[dwArg04 + 0x10:word32])
			eax_25 = 0x01;
		else
			eax_25 = 0x00;
	}
	else
	{
		byte al_55;
		if (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x04:word32] > 0x00)
			al_55 = (byte) (word32) Mem0[Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32] + (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x04:word32] - 0x01):byte];
		else
			al_55 = 0x00;
		if (al_55 == 0x20)
			eax_25 = 0x00;
		else if ((int32) (word16) (word32) Mem0[dwArg08 + 0x06:word16] > Mem0[dwArg04 + 0x10:word32])
			eax_25 = 0x01;
		else
			eax_25 = 0x00;
	}
	return eax_25;
}

// 0806C532: Register word32 table_width(Stack word32 dwArg04, Stack word32 dwArg08)
word32 table_width(word32 dwArg04, word32 dwArg08)
{
	word32 eax_15;
	if (dwArg08 < 0x00)
		eax_15 = 0x00;
	else
	{
		word32 eax_29 = Mem0[0x0817C6A0[dwArg08 * 0x04] + 0x18:word32];
		if (dwArg08 <= 0x00 && eax_29 <= 0x00)
			eax_15 = Mem0[dwArg04 + 0x10:word32] - (int32) ((byte) ((word32) Mem0[(Mem0[dwArg04 + 0x18:word32] + (Mem0[dwArg04 + 0x20:word32] << 0x04)) + 0x0C:byte]));
		else
			eax_15 = eax_29;
	}
	return eax_15;
}

// 0806C58D: void HTMLlineproc0(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
void HTMLlineproc0(word32 ebp, selector gs, word32 dwArg08)
{
	Strnew(Mem0[dwArg08 + 0x00:word32]);
	word32 ebp_243 = fp - 0x04;
	word32 esp_10 = fp - 188;
l0806C5C3:
	if ((word16) (word32) Mem0[Mem0[ebp_243 - 0x14 + 0x00:word32] + 66:word16] >= 0x00)
	{
		word16 ax_1462 = (word16) (word32) Mem0[Mem0[ebp_243 - 0x14 + 0x00:word32] + 66:word16];
		if (ax_1462 > 0x13)
			ax_1462 = 0x13;
		Mem1472[ebp_243 - 0x3C + 0x00:word32] = (int32) ax_1462;
		Mem1475[ebp_243 - 0x28 + 0x00:word32] = 0x0817C6A0[Mem1472[ebp_243 - 0x3C + 0x00:word32] * 0x04];
		Mem1480[ebp_243 - 44 + 0x00:word32] = (Mem1475[ebp_243 - 0x3C + 0x00:word32] << 0x04) + 0x0817C700;
		Mem1482[esp_10 + 0x04:word32] = Mem1480[ebp_243 - 0x3C + 0x00:word32];
		Mem1484[esp_10 + 0x00:word32] = Mem1482[ebp_243 + 0x0C:word32];
		Mem1486[ebp_243 - 0x30 + 0x00:word32] = table_width(dwArg00, dwArg04);
	}
	while ((byte) (word32) Mem0[Mem0[ebp_243 + 0x08:word32] + 0x00:byte] != 0x00)
	{
		word32 eax_1451;
		Mem170[ebp_243 - 0x48 + 0x00:word32] = 0x00;
		if ((word16) (word32) Mem170[Mem170[ebp_243 - 0x14 + 0x00:word32] + 66:word16] >= 0x00)
			eax_1451 = Mem170[Mem170[ebp_243 - 44 + 0x00:word32] + 0x00:word32];
		else
			eax_1451 = Mem170[Mem170[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
		word32 eax_1439;
		Mem180[ebp_243 - 0x4C + 0x00:word32] = eax_1451;
		if ((word16) (word32) Mem180[Mem180[ebp_243 - 0x14 + 0x00:word32] + 66:word16] >= 0x00)
			eax_1439 = (word32) (byte) (word32) Mem180[Mem180[ebp_243 - 44 + 0x00:word32] + 0x0C:byte];
		else
			eax_1439 = (word32) (byte) (word32) Mem180[Mem180[ebp_243 - 0x14 + 0x00:word32] + 0x40:byte];
		Mem190[ebp_243 - 0x50 + 0x00:word32] = eax_1439;
		if ((byte) (word32) Mem190[Mem190[ebp_243 + 0x08:word32] + 0x00:byte] != 0x3C && Mem190[Mem190[(ebp_243 - 0x14) + 0x00:word32] + 0x3C:word32] == 0x00)
		{
			word32 eax_1412 = Mem190[ebp_243 - 0x4C + 0x00:word32];
			word32 eax_1415 = Mem190[ebp_243 - 0x14 + 0x00:word32];
			Mem1418[esp_10 + 0x10:word32] = 0x00;
			Mem1419[esp_10 + 0x0C:word32] = eax_1412 & 0x0A0F;
			Mem1420[esp_10 + 0x08:word32] = eax_1415 + 0x3C;
			Mem1422[esp_10 + 0x04:word32] = ebp_243 + 0x08;
			Mem1424[esp_10 + 0x00:word32] = Mem1422[ebp_243 - 0x24 + 0x00:word32];
			read_token(ebp_243, dwArg00, dwArg04, dwArg10);
			if (Mem1424[Mem1424[ebp_243 - 0x14 + 0x00:word32] + 0x3C:word32] != 0x00)
				Mem1435[Mem1424[ebp_243 - 0x14 + 0x00:word32] + 0x3C:word32] = 0x00;
			Mem1433[ebp_243 - 0x40 + 0x00:word32] = Mem1424[Mem1424[ebp_243 - 0x24 + 0x00:word32] + 0x00:word32];
		}
		else
		{
			if (Mem190[Mem190[ebp_243 - 0x14 + 0x00:word32] + 0x3C:word32] == 0x07)
				Mem1379[Mem190[ebp_243 - 0x14 + 0x00:word32] + 0x3C:word32] = 0x00;
			else
			{
				word32 eax_1386 = Mem190[ebp_243 - 0x4C + 0x00:word32];
				word32 eax_1391 = Mem190[ebp_243 - 0x14 + 0x00:word32];
				word32 eax_1394 = Mem190[Mem190[ebp_243 + 0x0C:word32] + 0x0C:word32];
				Mem1395[esp_10 + 0x10:word32] = (word32) (Mem190[Mem190[ebp_243 - 0x14 + 0x00:word32] + 0x3C:word32] != 0x00);
				Mem1396[esp_10 + 0x0C:word32] = eax_1386 & 0x0A0F;
				Mem1397[esp_10 + 0x08:word32] = eax_1391 + 0x3C;
				Mem1399[esp_10 + 0x04:word32] = ebp_243 + 0x08;
				Mem1400[esp_10 + 0x00:word32] = eax_1394;
				read_token(ebp_243, dwArg00, dwArg04, dwArg10);
				if (Mem1400[Mem1400[ebp_243 - 0x14 + 0x00:word32] + 0x3C:word32] != 0x00)
					return;
			}
			if (Mem190[Mem190[Mem190[ebp_243 + 0x0C:word32] + 0x0C:word32] + 0x04:word32] == 0x00)
				continue;
			Mem1298[ebp_243 - 0x40 + 0x00:word32] = Mem190[Mem190[Mem190[ebp_243 + 0x0C:word32] + 0x0C:word32] + 0x00:word32];
			if ((byte) (word32) Mem1298[Mem1298[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] == 0x3C)
			{
				if ((byte) (word32) Mem1298[Mem1298[ebp_243 - 0x40 + 0x00:word32] + 0x01:byte] != 0x00 && (((word32) ((byte) ((word32) Mem1298[(word32) ((byte) ((word32) Mem1298[Mem1298[(ebp_243 - 0x40) + 0x00:word32] + 0x01:byte])) + 0x080DB700:byte])) & 0x04) != 0x00 || ((byte) ((word32) Mem1298[Mem1298[(ebp_243 - 0x40) + 0x00:word32] + 0x01:byte]) == 0x2F || ((byte) ((word32) Mem1298[Mem1298[(ebp_243 - 0x40) + 0x00:word32] + 0x01:byte]) == 33 || ((byte) ((word32) Mem1298[Mem1298[(ebp_243 - 0x40) + 0x00:word32] + 0x01:byte]) == 0x3F || ((byte) ((word32) Mem1298[Mem1298[(ebp_243 - 0x40) + 0x00:word32] + 0x01:byte]) == 0x00 || (byte) ((word32) Mem1298[Mem1298[(ebp_243 - 0x40) + 0x00:word32] + 0x01:byte]) == 0x5F))))))
					Mem1346[ebp_243 - 0x48 + 0x00:word32] = 0x01;
				else if ((Mem1298[ebp_243 - 0x4C + 0x00:word32] & 22542) == 0x00)
				{
					word32 eax_1318 = Mem1298[ebp_243 + 0x08:word32];
					word32 edx_1319 = Mem1298[ebp_243 - 0x40 + 0x00:word32];
					Mem1322[esp_10 + 0x08:word32] = 0x00;
					Mem1323[esp_10 + 0x04:word32] = eax_1318;
					Mem1324[esp_10 + 0x00:word32] = edx_1319 + 0x01;
					Strnew_m_charp(eax_1318, dwArg00);
					Mem1326[ebp_243 + 0x08:word32] = Mem1324[eax_1318 + 0x00:word32];
					Mem1327[ebp_243 - 0x40 + 0x00:word32] = 0x080CA784;
				}
			}
		}
		if ((Mem190[ebp_243 - 0x4C + 0x00:word32] & 22542) == 0x00)
		{
l0806C9BC:
			if ((word16) (word32) Mem190[Mem190[ebp_243 - 0x14 + 0x00:word32] + 66:word16] >= 0x00)
			{
				word32 eax_935 = Mem190[ebp_243 - 0x40 + 0x00:word32];
				Mem937[esp_10 + 0x10:word32] = Mem190[ebp_243 + 0x10:word32];
				Mem939[esp_10 + 0x0C:word32] = Mem937[ebp_243 - 0x30 + 0x00:word32];
				Mem941[esp_10 + 0x08:word32] = Mem939[ebp_243 - 44 + 0x00:word32];
				Mem942[esp_10 + 0x04:word32] = eax_935;
				Mem944[esp_10 + 0x00:word32] = Mem942[ebp_243 - 0x28 + 0x00:word32];
				word32 eax_945 = feed_table(ebp_243, gs, dwArg00, dwArg04, dwArg08, dwArg10);
				if (eax_945 == 0x00)
				{
					Mem959[Mem944[ebp_243 - 0x14 + 0x00:word32] + 66:word16] = (word16) ((word32) Mem944[Mem944[ebp_243 - 0x14 + 0x00:word32] + 66:word16] - 0x01);
					if ((word16) (word32) Mem959[Mem959[ebp_243 - 0x14 + 0x00:word32] + 66:word16] <= 0x12)
					{
						Mem966[esp_10 + 0x00:word32] = Mem959[ebp_243 - 0x28 + 0x00:word32];
						end_table(gs, dwArg00);
						if ((word16) (word32) Mem966[Mem966[ebp_243 - 0x14 + 0x00:word32] + 66:word16] >= 0x00)
						{
							Mem978[ebp_243 - 0x54 + 0x00:word32] = 0x0817C6A0[(int32) (word16) (word32) Mem966[Mem966[ebp_243 - 0x14 + 0x00:word32] + 66:word16] * 0x04];
							Mem983[esp_10 + 0x04:word32] = (int32) (word16) (word32) Mem978[Mem978[ebp_243 - 0x54 + 0x00:word32] + 0x02AC:word16];
							Mem984[esp_10 + 0x00:word32] = 0x080CA78E;
							byte bpl_985;
							Mem988[ebp_243 - 0x40 + 0x00:word32] = Mem984[Sprintf(dwArg00, out bpl_985) + 0x00:word32];
							Mem990[esp_10 + 0x04:word32] = Mem988[ebp_243 - 0x28 + 0x00:word32];
							Mem992[esp_10 + 0x00:word32] = Mem990[ebp_243 - 0x54 + 0x00:word32];
							pushTable(dwArg00, dwArg04);
							Mem994[ebp_243 - 0x28 + 0x00:word32] = Mem992[ebp_243 - 0x54 + 0x00:word32];
							Mem1002[ebp_243 - 44 + 0x00:word32] = ((int32) (word16) (word32) Mem994[Mem994[ebp_243 - 0x14 + 0x00:word32] + 66:word16] << 0x04) + 0x0817C700;
							Mem1007[esp_10 + 0x04:word32] = (int32) (word16) (word32) Mem1002[Mem1002[ebp_243 - 0x14 + 0x00:word32] + 66:word16];
							Mem1009[esp_10 + 0x00:word32] = Mem1007[ebp_243 + 0x0C:word32];
							Mem1011[ebp_243 - 0x30 + 0x00:word32] = table_width(dwArg00, dwArg04);
							word32 eax_1012 = Mem1011[ebp_243 - 0x40 + 0x00:word32];
							Mem1013[esp_10 + 0x10:word32] = 0x01;
							Mem1015[esp_10 + 0x0C:word32] = Mem1013[ebp_243 - 0x30 + 0x00:word32];
							Mem1017[esp_10 + 0x08:word32] = Mem1015[ebp_243 - 44 + 0x00:word32];
							Mem1018[esp_10 + 0x04:word32] = eax_1012;
							Mem1020[esp_10 + 0x00:word32] = Mem1018[ebp_243 - 0x28 + 0x00:word32];
							feed_table(ebp_243, gs, dwArg00, dwArg04, dwArg08, dwArg10);
						}
						else if ((Mem966[Mem966[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x00100000) == 0x00)
						{
							if (Mem966[Mem966[ebp_243 - 0x28 + 0x00:word32] + 0x34:word32] > 0x00 && (Mem966[Mem966[(ebp_243 - 0x14) + 0x00:word32] + 0x0C:word32] & 0x2000) == 0x00)
							{
								Mem1119[ebp_243 - 88 + 0x00:word32] = (int32) (byte) (word32) Mem966[Mem966[Mem966[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem966[Mem966[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04) + 0x0C:byte];
								Mem1122[esp_10 + 0x10:word32] = Mem1119[Mem1119[ebp_243 + 0x0C:word32] + 0x10:word32];
								Mem1123[esp_10 + 0x0C:word32] = 0x00;
								Mem1125[esp_10 + 0x08:word32] = Mem1123[ebp_243 - 88 + 0x00:word32];
								Mem1127[esp_10 + 0x04:word32] = Mem1125[ebp_243 - 0x14 + 0x00:word32];
								Mem1129[esp_10 + 0x00:word32] = Mem1127[ebp_243 + 0x0C:word32];
								flushline(ebp_243, gs, dwArg00, dwArg04, dwArg08, dwArg10);
								Mem1132[esp_10 + 0x10:word32] = Mem1129[Mem1129[ebp_243 + 0x0C:word32] + 0x10:word32];
								Mem1133[esp_10 + 0x0C:word32] = 0x00;
								Mem1135[esp_10 + 0x08:word32] = Mem1133[ebp_243 - 88 + 0x00:word32];
								Mem1137[esp_10 + 0x04:word32] = Mem1135[ebp_243 - 0x14 + 0x00:word32];
								Mem1139[esp_10 + 0x00:word32] = Mem1137[ebp_243 + 0x0C:word32];
								do_blankline(gs, dwArg00, dwArg04, dwArg08, dwArg10);
							}
							Mem1036[esp_10 + 0x04:word32] = Mem966[ebp_243 - 0x14 + 0x00:word32];
							Mem1038[esp_10 + 0x00:word32] = Mem1036[ebp_243 + 0x0C:word32];
							save_fonteffect(dwArg04);
							Mem1040[esp_10 + 0x08:word32] = Mem1038[ebp_243 + 0x0C:word32];
							Mem1042[esp_10 + 0x04:word32] = Mem1040[ebp_243 - 0x30 + 0x00:word32];
							Mem1044[esp_10 + 0x00:word32] = Mem1042[ebp_243 - 0x28 + 0x00:word32];
							renderTable(ebp_243, gs, dwArg00, dwArg04, dwArg08);
							Mem1046[esp_10 + 0x04:word32] = Mem1044[ebp_243 - 0x14 + 0x00:word32];
							Mem1048[esp_10 + 0x00:word32] = Mem1046[ebp_243 + 0x0C:word32];
							restore_fonteffect(dwArg04);
							word32 eax_1050 = Mem1048[Mem1048[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
							Mem1056[Mem1048[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] = DPB(eax_1050, SLICE(eax_1050, byte, 8) & 223, 8);
							if (Mem1056[Mem1056[ebp_243 - 0x28 + 0x00:word32] + 0x34:word32] > 0x00)
							{
								Mem1082[ebp_243 - 0x5C + 0x00:word32] = (int32) (byte) (word32) Mem1056[Mem1056[Mem1056[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem1056[Mem1056[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04) + 0x0C:byte];
								Mem1085[esp_10 + 0x10:word32] = Mem1082[Mem1082[ebp_243 + 0x0C:word32] + 0x10:word32];
								Mem1086[esp_10 + 0x0C:word32] = 0x00;
								Mem1088[esp_10 + 0x08:word32] = Mem1086[ebp_243 - 0x5C + 0x00:word32];
								Mem1090[esp_10 + 0x04:word32] = Mem1088[ebp_243 - 0x14 + 0x00:word32];
								Mem1092[esp_10 + 0x00:word32] = Mem1090[ebp_243 + 0x0C:word32];
								do_blankline(gs, dwArg00, dwArg04, dwArg08, dwArg10);
								word32 eax_1094 = Mem1092[Mem1092[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
								Mem1102[Mem1092[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] = DPB(eax_1094, SLICE(eax_1094, byte, 8) | 0x20, 8);
							}
							word32 eax_1068 = Mem1056[Mem1056[ebp_243 - 0x14 + 0x00:word32] + 0x08:word32];
							Mem1069[esp_10 + 0x08:word32] = 0x01;
							Mem1070[esp_10 + 0x04:word32] = 0x080C96F3;
							Mem1071[esp_10 + 0x00:word32] = eax_1068;
							Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
						}
					}
					continue;
				}
				if (eax_945 != 0x01)
					continue;
			}
			if (Mem190[ebp_243 - 0x48 + 0x00:word32] == 0x00)
			{
				if ((Mem190[Mem190[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x00300000) == 0x00)
				{
					while ((byte) (word32) Mem190[Mem190[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] != 0x00)
					{
						word32 eax_323;
						Mem314[ebp_243 - 0x0C + 0x00:word16] = (word16) ((word32) (byte) (word32) Mem190[(word32) (byte) (word32) Mem190[Mem190[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] + 0x08179BE0:byte] << 0x08);
						if ((byte) (word32) Mem314[0x080DC0AF:byte] != 0x00)
							eax_323 = (word32) (byte) (word32) Mem314[(word32) (byte) (word32) Mem314[Mem314[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] + 0x081799E0:byte];
						else
							eax_323 = (word32) ((byte) (word32) Mem314[(word32) (byte) (word32) Mem314[Mem314[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] + 0x081799E0:byte] != 0x00);
						Mem324[ebp_243 - 0x1C + 0x00:word32] = eax_323;
						if ((Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x020F) == 0x00)
						{
							if (((word32) (byte) (word32) Mem324[(word32) (byte) (word32) Mem324[Mem324[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00)
							{
								word32 eax_902 = Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
								Mem910[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] = DPB(eax_902, SLICE(eax_902, byte, 8) & 223, 8);
							}
							if (Mem324[ebp_243 - 0x0C + 0x00:word16] != 0x00 && Mem324[(ebp_243 - 0x0C) + 0x00:word16] != 0x0100 || ((word32) ((byte) ((word32) Mem324[(word32) ((byte) ((word32) Mem324[Mem324[(ebp_243 - 0x40) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
							{
								if (Mem324[ebp_243 - 0x0C + 0x00:word16] == 0x0A00)
								{
									Mem860[esp_10 + 0x00:word32] = Mem324[ebp_243 - 0x40 + 0x00:word32];
									Mem863[ebp_243 - 0x34 + 0x00:word32] = (word32) wtf_is_hangul(dwArg00);
								}
								else
									Mem864[ebp_243 - 0x34 + 0x00:word32] = 0x00;
								if ((byte) (word32) Mem324[135775057:byte] == 0x00 && (Mem324[(ebp_243 - 0x0C) + 0x00:word16] == 0x0A00 && (Mem324[(ebp_243 - 0x34) + 0x00:word32] == 0x00 && (Mem324[(ebp_243 - 0x38) + 0x00:word32] == 0x00 && ((word16) ((word32) Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x06:word16]) > (int16) ((byte) ((word32) Mem324[(Mem324[Mem324[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem324[Mem324[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04)) + 0x0C:byte])) && (Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x04:word32] > 0x00 && (byte) ((word32) Mem324[Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x00:word32] + (Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x04:word32] - 0x01):byte]) == 0x20))))))
								{
									while (Mem324[Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x04:word32] > 0x01)
									{
										word32 eax_827 = Mem324[Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] + (Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x04:word32] - 0x02);
										Mem828[esp_10 + 0x08:word32] = 0x02;
										Mem829[esp_10 + 0x04:word32] = 0x080CA7A1;
										Mem830[esp_10 + 0x00:word32] = eax_827;
										if (strncmp(Mem830[esp_10 + 0x00:(ptr char)], Mem830[esp_10 + 0x04:(ptr char)], Mem830[esp_10 + 0x08:int32]) != 0x00 || (word16) ((word32) Mem830[Mem830[(ebp_243 - 0x14) + 0x00:word32] + 0x06:word16]) < (int16) ((byte) ((word32) Mem830[(Mem830[Mem830[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem830[Mem830[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04)) + 0x0C:byte])))
											break;
										word32 eax_850 = Mem830[Mem830[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32];
										Mem851[esp_10 + 0x04:word32] = 0x01;
										Mem852[esp_10 + 0x00:word32] = eax_850;
										Strshrink(dwArg00, dwArg04);
										Mem858[Mem852[ebp_243 - 0x14 + 0x00:word32] + 0x06:word16] = (word16) ((word32) Mem852[Mem852[ebp_243 - 0x14 + 0x00:word32] + 0x06:word16] - 0x01);
									}
									if (Mem324[Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x04:word32] > 0x02 && ((word16) ((word32) Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0xB8:word16]) == 0x0A00 && (Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x04:word32] > 0x00 && ((byte) ((word32) Mem324[Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x00:word32] + (Mem324[Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x04:word32] - 0x01):byte]) == 0x20 && (word16) ((word32) Mem324[Mem324[(ebp_243 - 0x14) + 0x00:word32] + 0x06:word16]) >= (int16) ((byte) ((word32) Mem324[(Mem324[Mem324[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem324[Mem324[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04)) + 0x0C:byte]))))))
									{
										word32 eax_811 = Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32];
										Mem812[esp_10 + 0x04:word32] = 0x01;
										Mem813[esp_10 + 0x00:word32] = eax_811;
										Strshrink(dwArg00, dwArg04);
										Mem819[Mem813[ebp_243 - 0x14 + 0x00:word32] + 0x06:word16] = (word16) ((word32) Mem813[Mem813[ebp_243 - 0x14 + 0x00:word32] + 0x06:word16] - 0x01);
									}
								}
								Mem687[ebp_243 - 0x38 + 0x00:word32] = Mem324[ebp_243 - 0x34 + 0x00:word32];
								if ((byte) (word32) Mem687[Mem687[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] == 0x26)
								{
									Mem694[esp_10 + 0x04:word32] = ebp_243 - 0x40;
									Mem696[esp_10 + 0x00:word32] = Mem694[ebp_243 - 0x14 + 0x00:word32];
									proc_escape(ebp_243, dwArg00, dwArg04);
								}
								else
								{
									word32 edx_699 = Mem687[Mem687[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
									Mem703[esp_10 + 0x10:word32] = (word32) Mem687[ebp_243 - 0x0C + 0x00:word16];
									Mem705[esp_10 + 0x0C:word32] = ebp_243 - 0x40;
									Mem707[esp_10 + 0x08:word32] = Mem705[ebp_243 - 0x1C + 0x00:word32];
									Mem708[esp_10 + 0x04:word32] = edx_699 & 655;
									Mem710[esp_10 + 0x00:word32] = Mem708[ebp_243 - 0x14 + 0x00:word32];
									proc_mchar(ebp_243, dwArg00, dwArg04, dwArg0C, dwArg10);
								}
							}
							else
							{
								if ((byte) (word32) Mem324[Mem324[Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x08:word32] + 0x00:word32] + 0x00:byte] != 0x20)
								{
									word32 eax_891 = Mem324[Mem324[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
									Mem895[esp_10 + 0x08:word32] = 0x20;
									Mem896[esp_10 + 0x04:word32] = eax_891 & 655;
									Mem898[esp_10 + 0x00:word32] = Mem896[ebp_243 - 0x14 + 0x00:word32];
									push_char(ebp_243, dwArg00, dwArg04, dwArg08);
								}
								Mem889[ebp_243 - 0x40 + 0x00:word32] = Mem324[ebp_243 - 0x40 + 0x00:word32] + 0x01;
							}
							goto l0806D2F8;
						}
						Mem428[ebp_243 - 0x09 + 0x00:byte] = (byte) (word32) Mem324[Mem324[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte];
						if ((Mem428[Mem428[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x08) == 0x00 && (byte) ((word32) Mem428[Mem428[(ebp_243 - 0x40) + 0x00:word32] + 0x00:byte]) == 0x26)
						{
							Mem628[ebp_243 - 0x60 + 0x00:word32] = Mem428[ebp_243 - 0x40 + 0x00:word32];
							Mem630[esp_10 + 0x00:word32] = ebp_243 - 0x60;
							Mem632[ebp_243 - 100 + 0x00:word32] = getescapechar(dwArg00);
							if (Mem632[ebp_243 - 100 + 0x00:word32] != 0x0A && Mem632[(ebp_243 - 100) + 0x00:word32] != 0x0D)
							{
								if (Mem632[ebp_243 - 100 + 0x00:word32] == 0x09)
								{
									Mem645[ebp_243 - 0x09 + 0x00:byte] = 0x09;
									Mem649[ebp_243 - 0x40 + 0x00:word32] = Mem645[ebp_243 - 0x60 + 0x00:word32] - 0x01;
								}
							}
							else
							{
								Mem636[ebp_243 - 0x09 + 0x00:byte] = 0x0A;
								Mem640[ebp_243 - 0x40 + 0x00:word32] = Mem636[ebp_243 - 0x60 + 0x00:word32] - 0x01;
							}
						}
						if (Mem428[ebp_243 - 0x09 + 0x00:byte] != 0x0A)
						{
							word32 eax_613 = Mem428[Mem428[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
							Mem621[Mem428[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] = DPB(eax_613, SLICE(eax_613, byte, 8) & 223, 8);
						}
						if (Mem428[ebp_243 - 0x09 + 0x00:byte] != 0x0A)
						{
							if (Mem428[ebp_243 - 0x09 + 0x00:byte] == 0x09)
							{
								do
								{
									word32 eax_514 = Mem428[Mem428[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
									Mem518[esp_10 + 0x08:word32] = 0x20;
									Mem519[esp_10 + 0x04:word32] = eax_514 & 655;
									Mem521[esp_10 + 0x00:word32] = Mem519[ebp_243 - 0x14 + 0x00:word32];
									push_char(ebp_243, dwArg00, dwArg04, dwArg08);
									word32 edx_535 = (int32) (byte) (word32) Mem521[Mem521[Mem521[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem521[Mem521[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04) + 0x0C:byte] + (int32) ((word16) ((word32) Mem521[Mem521[(ebp_243 - 0x14) + 0x00:word32] + 0x06:word16]));
									Mem537[ebp_243 - 0x8C + 0x00:word32] = Mem521[0x080D52B4:word32];
								} while ((int32) (SEQ(edx_535 >> 0x1F, edx_535) % Mem537[(ebp_243 - 0x8C) + 0x00:word32]) != 0x00);
								Mem551[ebp_243 - 0x40 + 0x00:word32] = Mem537[ebp_243 - 0x40 + 0x00:word32] + 0x01;
							}
							else if ((Mem428[Mem428[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x08) != 0x00)
							{
								Mem567[ebp_243 - 0x68 + 0x00:word32] = 0x080DB6C0[((word32) (byte) (word32) Mem428[(word32) (byte) (word32) Mem428[Mem428[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] + 0x080DB5C0:byte] & 0x07) * 0x04];
								if (Mem567[ebp_243 - 0x68 + 0x00:word32] != 0x00)
								{
									Mem571[esp_10 + 0x00:word32] = Mem567[ebp_243 - 0x68 + 0x00:word32];
									word32 eax_572 = strlen(Mem571[esp_10 + 0x00:(ptr char)]);
									Mem573[esp_10 + 0x10:word32] = 0x00;
									Mem574[esp_10 + 0x0C:word32] = eax_572;
									Mem576[esp_10 + 0x08:word32] = Mem574[ebp_243 - 0x68 + 0x00:word32];
									Mem577[esp_10 + 0x04:word32] = 0x01;
									Mem579[esp_10 + 0x00:word32] = Mem577[ebp_243 - 0x14 + 0x00:word32];
									push_nchars(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
									Mem584[ebp_243 - 0x40 + 0x00:word32] = Mem579[ebp_243 - 0x40 + 0x00:word32] + 0x01;
								}
								else
								{
									Mem586[esp_10 + 0x10:word32] = (word32) Mem567[ebp_243 - 0x0C + 0x00:word16];
									Mem588[esp_10 + 0x0C:word32] = ebp_243 - 0x40;
									Mem590[esp_10 + 0x08:word32] = Mem588[ebp_243 - 0x1C + 0x00:word32];
									Mem591[esp_10 + 0x04:word32] = 0x01;
									Mem593[esp_10 + 0x00:word32] = Mem591[ebp_243 - 0x14 + 0x00:word32];
									proc_mchar(ebp_243, dwArg00, dwArg04, dwArg0C, dwArg10);
								}
							}
							else if ((byte) (word32) Mem428[Mem428[ebp_243 - 0x40 + 0x00:word32] + 0x00:byte] == 0x26)
							{
								Mem600[esp_10 + 0x04:word32] = ebp_243 - 0x40;
								Mem602[esp_10 + 0x00:word32] = Mem600[ebp_243 - 0x14 + 0x00:word32];
								proc_escape(ebp_243, dwArg00, dwArg04);
							}
							else
							{
								Mem604[esp_10 + 0x10:word32] = (word32) Mem428[ebp_243 - 0x0C + 0x00:word16];
								Mem606[esp_10 + 0x0C:word32] = ebp_243 - 0x40;
								Mem608[esp_10 + 0x08:word32] = Mem606[ebp_243 - 0x1C + 0x00:word32];
								Mem609[esp_10 + 0x04:word32] = 0x01;
								Mem611[esp_10 + 0x00:word32] = Mem609[ebp_243 - 0x14 + 0x00:word32];
								proc_mchar(ebp_243, dwArg00, dwArg04, dwArg0C, dwArg10);
							}
							goto l0806D02E;
						}
						Mem460[ebp_243 - 0x40 + 0x00:word32] = Mem428[ebp_243 - 0x40 + 0x00:word32] + 0x01;
						if ((Mem460[Mem460[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x2000) == 0x00)
						{
							if ((Mem460[Mem460[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x0200) != 0x00)
							{
								word32 eax_484 = Mem460[Mem460[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
								Mem488[esp_10 + 0x08:word32] = 0x20;
								Mem489[esp_10 + 0x04:word32] = eax_484 & 655;
								Mem491[esp_10 + 0x00:word32] = Mem489[ebp_243 - 0x14 + 0x00:word32];
								push_char(ebp_243, dwArg00, dwArg04, dwArg08);
							}
							else
							{
								word32 eax_503 = (int32) (byte) (word32) Mem460[Mem460[Mem460[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem460[Mem460[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04) + 0x0C:byte];
								Mem504[esp_10 + 0x10:word32] = Mem460[Mem460[ebp_243 + 0x0C:word32] + 0x10:word32];
								Mem505[esp_10 + 0x0C:word32] = 0x01;
								Mem506[esp_10 + 0x08:word32] = eax_503;
								Mem508[esp_10 + 0x04:word32] = Mem506[ebp_243 - 0x14 + 0x00:word32];
								Mem510[esp_10 + 0x00:word32] = Mem508[ebp_243 + 0x0C:word32];
								flushline(ebp_243, gs, dwArg00, dwArg04, dwArg08, dwArg10);
							}
l0806D02E:
							if ((Mem428[Mem428[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 0x8F) != 0x00)
								continue;
l0806D2F8:
							Mem341[esp_10 + 0x08:word32] = (word32) Mem324[ebp_243 - 0x0C + 0x00:word16];
							Mem343[esp_10 + 0x04:word32] = Mem341[ebp_243 - 0x14 + 0x00:word32];
							Mem345[esp_10 + 0x00:word32] = Mem343[ebp_243 + 0x0C:word32];
							if (need_flushline(dwArg00, dwArg04, dwArg08) != 0x00)
							{
								Mem356[ebp_243 - 0x6C + 0x00:word32] = Mem345[Mem345[Mem345[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] + Mem345[Mem345[(ebp_243 - 0x14) + 0x00:word32] + 0xC0:word32];
								Mem361[ebp_243 - 0x70 + 0x00:word32] = -Mem356[Mem356[ebp_243 - 0x14 + 0x00:word32] + 0xC4:word32] + Mem356[(ebp_243 - 0x6C) + 0x00:word32];
								Mem362[ebp_243 - 116 + 0x00:word32] = 0x00;
								if (Mem362[Mem362[Mem362[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] <u Mem362[(ebp_243 - 0x70) + 0x00:word32] && (byte) ((word32) Mem362[(Mem362[(ebp_243 - 0x70) + 0x00:word32] - 0x01) + 0x00:byte]) == 0x20)
									Mem424[ebp_243 - 116 + 0x00:word32] = 0x01;
								Mem378[ebp_243 - 0x18 + 0x00:word32] = (int32) (byte) (word32) Mem362[Mem362[Mem362[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem362[Mem362[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04) + 0x0C:byte];
								if (Mem378[Mem378[ebp_243 - 0x14 + 0x00:word32] + 188:word32] - Mem378[(ebp_243 - 116) + 0x00:word32] > Mem378[(ebp_243 - 0x18) + 0x00:word32])
								{
									Mem385[esp_10 + 0x00:word32] = Mem378[ebp_243 - 0x14 + 0x00:word32];
									append_tags(dwArg00);
									word32 eax_386 = Mem385[ebp_243 - 0x6C + 0x00:word32];
									Mem387[esp_10 + 0x00:word32] = eax_386;
									Strnew_charp(eax_386, dwArg00);
									Mem388[ebp_243 - 0x78 + 0x00:word32] = eax_386;
									word32 eax_397 = Mem388[Mem388[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32];
									Mem398[esp_10 + 0x04:word32] = Mem388[Mem388[Mem388[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x04:word32] - Mem388[Mem388[(ebp_243 - 0x14) + 0x00:word32] + 0xC0:word32];
									Mem399[esp_10 + 0x00:word32] = eax_397;
									Strshrink(dwArg00, dwArg04);
									Mem401[esp_10 + 0x00:word32] = Mem399[ebp_243 - 0x14 + 0x00:word32];
									back_to_breakpoint(dwArg00);
									Mem404[esp_10 + 0x10:word32] = Mem401[Mem401[ebp_243 + 0x0C:word32] + 0x10:word32];
									Mem405[esp_10 + 0x0C:word32] = 0x00;
									Mem407[esp_10 + 0x08:word32] = Mem405[ebp_243 - 0x18 + 0x00:word32];
									Mem409[esp_10 + 0x04:word32] = Mem407[ebp_243 - 0x14 + 0x00:word32];
									Mem411[esp_10 + 0x00:word32] = Mem409[ebp_243 + 0x0C:word32];
									flushline(ebp_243, gs, dwArg00, dwArg04, dwArg08, dwArg10);
									word32 eax_413 = Mem411[Mem411[ebp_243 - 0x78 + 0x00:word32] + 0x00:word32];
									Mem414[esp_10 + 0x08:word32] = 0x01;
									Mem416[esp_10 + 0x04:word32] = Mem414[ebp_243 + 0x0C:word32];
									Mem417[esp_10 + 0x00:word32] = eax_413;
									HTMLlineproc0(ebp_243, gs, dwArg04);
								}
							}
							continue;
						}
						word32 eax_468 = Mem460[Mem460[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32];
						Mem476[Mem460[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] = DPB(eax_468, SLICE(eax_468, byte, 8) & 223, 8);
					}
				}
				continue;
			}
			else
			{
				Mem226[esp_10 + 0x04:word32] = Mem190[ebp_243 + 0x10:word32];
				Mem228[esp_10 + 0x00:word32] = ebp_243 - 0x40;
				Mem230[ebp_243 - 0x20 + 0x00:word32] = parse_tag(ebp_243, gs, dwArg00, dwArg04);
				if (Mem230[ebp_243 - 0x20 + 0x00:word32] == 0x00)
					continue;
				Mem237[ebp_243 - 0x10 + 0x00:word32] = (word32) (byte) (word32) Mem230[Mem230[ebp_243 - 0x20 + 0x00:word32] + 0x00:byte];
				Mem239[esp_10 + 0x04:word32] = Mem237[ebp_243 + 0x0C:word32];
				Mem241[esp_10 + 0x00:word32] = Mem239[ebp_243 - 0x20 + 0x00:word32];
				if (HTMLtagproc1(dwArg00, dwArg04, out esp_10, out ebp_243) == 0x00)
				{
					if ((byte) (word32) Mem241[Mem241[ebp_243 - 0x20 + 0x00:word32] + 0x10:byte] != 0x00)
					{
						Mem275[esp_10 + 0x00:word32] = Mem241[ebp_243 - 0x20 + 0x00:word32];
						Mem278[Mem275[ebp_243 + 0x0C:word32] + 0x0C:word32] = parsedtag2str(ebp_243, dwArg00);
					}
					word32 eax_268 = Mem241[Mem241[Mem241[ebp_243 + 0x0C:word32] + 0x0C:word32] + 0x00:word32];
					Mem270[esp_10 + 0x08:word32] = Mem241[ebp_243 - 0x10 + 0x00:word32];
					Mem271[esp_10 + 0x04:word32] = eax_268;
					Mem273[esp_10 + 0x00:word32] = Mem271[ebp_243 - 0x14 + 0x00:word32];
					push_tag(dwArg00, dwArg04, dwArg08);
				}
				else
				{
					Mem280[esp_10 + 0x08:word32] = Mem241[ebp_243 - 0x20 + 0x00:word32];
					Mem282[esp_10 + 0x04:word32] = Mem280[ebp_243 - 0x10 + 0x00:word32];
					Mem284[esp_10 + 0x00:word32] = Mem282[ebp_243 - 0x14 + 0x00:word32];
					process_idattr(ebp_243, dwArg04, dwArg08);
				}
				Mem253[Mem241[ebp_243 - 0x14 + 0x00:word32] + 0x0118:byte] = 0x01;
				Mem255[esp_10 + 0x04:word32] = Mem253[ebp_243 - 0x14 + 0x00:word32];
				Mem257[esp_10 + 0x00:word32] = Mem255[ebp_243 - 0x10 + 0x00:word32];
				clear_ignore_p_flag(dwArg00, dwArg04);
				if (Mem257[ebp_243 - 0x10 + 0x00:word32] == 0x1F)
					goto l0806C5C3;
				continue;
			}
		}
		if (Mem190[ebp_243 - 0x48 + 0x00:word32] != 0x00)
		{
			Mem1237[ebp_243 - 0x44 + 0x00:word32] = Mem190[ebp_243 - 0x40 + 0x00:word32];
			Mem1239[esp_10 + 0x04:word32] = Mem1237[ebp_243 + 0x10:word32];
			Mem1241[esp_10 + 0x00:word32] = ebp_243 - 0x44;
			Mem1243[ebp_243 - 0x20 + 0x00:word32] = parse_tag(ebp_243, gs, dwArg00, dwArg04);
			if (Mem1243[ebp_243 - 0x20 + 0x00:word32] != 0x00 && (((word32) ((byte) ((word32) Mem1243[Mem1243[(ebp_243 - 0x20) + 0x00:word32] + 0x00:byte])) == Mem1243[(ebp_243 - 0x50) + 0x00:word32] || (Mem1243[(ebp_243 - 0x4C) + 0x00:word32] & 0x1000) != 0x00 && (byte) ((word32) Mem1243[Mem1243[(ebp_243 - 0x20) + 0x00:word32] + 0x00:byte]) == 0x2B) || (Mem1243[(ebp_243 - 0x4C) + 0x00:word32] & 0x4000) != 0x00 && ((byte) ((word32) Mem1243[Mem1243[(ebp_243 - 0x20) + 0x00:word32] + 0x00:byte]) == 0x60 || (byte) ((word32) Mem1243[Mem1243[(ebp_243 - 0x20) + 0x00:word32] + 0x00:byte]) == 0x48)))
				goto l0806C9BC;
		}
		if ((Mem190[ebp_243 - 0x4C + 0x00:word32] & 0x4000) == 0x00)
		{
			if ((Mem190[ebp_243 - 0x4C + 0x00:word32] & 0x1000) != 0x00)
			{
				if ((word16) (word32) Mem190[Mem190[ebp_243 - 0x14 + 0x00:word32] + 66:word16] < 0x00)
				{
					word32 eax_1162 = Mem190[ebp_243 - 0x40 + 0x00:word32];
					Mem1163[esp_10 + 0x00:word32] = eax_1162;
					feed_select(eax_1162, ebp_243, gs);
					continue;
				}
			}
			else
			{
				if (Mem190[ebp_243 - 0x48 + 0x00:word32] != 0x00)
				{
					word32 eax_1192 = Mem190[ebp_243 - 0x40 + 0x00:word32];
					Mem1193[esp_10 + 0x08:word32] = 0x04;
					Mem1194[esp_10 + 0x04:word32] = 0x080CA789;
					Mem1195[esp_10 + 0x00:word32] = eax_1192;
					if (strncmp(Mem1195[esp_10 + 0x00:(ptr char)], Mem1195[esp_10 + 0x04:(ptr char)], Mem1195[esp_10 + 0x08:int32]) != 0x00)
					{
						word32 eax_1207 = Mem1195[ebp_243 - 0x40 + 0x00:word32];
						Mem1209[esp_10 + 0x04:word32] = 0x3C;
						Mem1210[esp_10 + 0x00:word32] = eax_1207 + 0x01;
						Mem1212[ebp_243 - 0x44 + 0x00:word32] = strchr(Mem1210[esp_10 + 0x00:(ptr char)], Mem1210[esp_10 + 0x04:char]);
						if (Mem1212[ebp_243 - 0x44 + 0x00:word32] != 0x00)
						{
							word32 eax_1222 = Mem1212[ebp_243 - 0x40 + 0x00:word32];
							Mem1223[esp_10 + 0x04:word32] = Mem1212[ebp_243 - 0x44 + 0x00:word32] - Mem1212[(ebp_243 - 0x40) + 0x00:word32];
							Mem1224[esp_10 + 0x00:word32] = eax_1222;
							word32 edx_1225;
							Mem1228[ebp_243 - 0x40 + 0x00:word32] = Mem1224[Strnew_charp_n(eax_1222, dwArg00, dwArg04, out edx_1225) + 0x00:word32];
							word32 edx_1229 = Mem1228[ebp_243 + 0x08:word32];
							word32 eax_1230 = Mem1228[ebp_243 - 0x44 + 0x00:word32];
							Mem1231[esp_10 + 0x08:word32] = 0x00;
							Mem1232[esp_10 + 0x04:word32] = edx_1229;
							Mem1233[esp_10 + 0x00:word32] = eax_1230;
							Strnew_m_charp(eax_1230, dwArg00);
							Mem1235[ebp_243 + 0x08:word32] = Mem1233[eax_1230 + 0x00:word32];
						}
					}
					Mem1206[ebp_243 - 0x48 + 0x00:word32] = 0x00;
				}
				if ((word16) (word32) Mem190[Mem190[ebp_243 - 0x14 + 0x00:word32] + 66:word16] < 0x00)
				{
					if ((Mem190[ebp_243 - 0x4C + 0x00:word32] & 0x0800) != 0x00)
					{
						Mem1181[esp_10 + 0x00:word32] = Mem190[ebp_243 - 0x40 + 0x00:word32];
						feed_textarea(ebp_243, dwArg00);
						continue;
					}
					if ((Mem190[ebp_243 - 0x4C + 0x00:word32] & 0x02) != 0x00 || (Mem190[(ebp_243 - 0x4C) + 0x00:word32] & 0x04) != 0x00)
						continue;
				}
			}
			goto l0806C9BC;
		}
		Mem1150[esp_10 + 0x00:word32] = Mem190[ebp_243 - 0x40 + 0x00:word32];
		feed_title(ebp_243);
	}
	if ((Mem0[Mem0[ebp_243 - 0x14 + 0x00:word32] + 0x0C:word32] & 6799) == 0x00)
	{
		Mem90[ebp_243 - 0x80 + 0x00:word32] = 0x00;
		if (Mem90[Mem90[ebp_243 - 0x14 + 0x00:word32] + 188:word32] == (int32) ((word16) ((word32) Mem90[Mem90[(ebp_243 - 0x14) + 0x00:word32] + 0x06:word16])))
			Mem161[ebp_243 - 0x7C + 0x00:word32] = Mem90[Mem90[Mem90[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] + (Mem90[Mem90[(ebp_243 - 0x14) + 0x00:word32] + 0xC0:word32] - Mem90[Mem90[(ebp_243 - 0x14) + 0x00:word32] + 0xC4:word32]);
		else
			Mem169[ebp_243 - 0x7C + 0x00:word32] = Mem90[Mem90[Mem90[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] + Mem90[Mem90[Mem90[(ebp_243 - 0x14) + 0x00:word32] + 0x00:word32] + 0x04:word32];
		if (Mem90[Mem90[Mem90[ebp_243 - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] <u Mem90[(ebp_243 - 0x7C) + 0x00:word32] && (byte) ((word32) Mem90[(Mem90[(ebp_243 - 0x7C) + 0x00:word32] - 0x01) + 0x00:byte]) == 0x20)
			Mem148[ebp_243 - 0x80 + 0x00:word32] = 0x01;
		Mem117[ebp_243 - 0x18 + 0x00:word32] = (int32) (byte) (word32) Mem90[Mem90[Mem90[ebp_243 + 0x0C:word32] + 0x18:word32] + (Mem90[Mem90[ebp_243 + 0x0C:word32] + 0x20:word32] << 0x04) + 0x0C:byte];
		if ((int32) (word16) (word32) Mem117[Mem117[ebp_243 - 0x14 + 0x00:word32] + 0x06:word16] - Mem117[(ebp_243 - 0x80) + 0x00:word32] > Mem117[Mem117[ebp_243 + 0x0C:word32] + 0x10:word32])
		{
			Mem130[esp_10 + 0x10:word32] = Mem117[Mem117[ebp_243 + 0x0C:word32] + 0x10:word32];
			Mem131[esp_10 + 0x0C:word32] = 0x00;
			Mem133[esp_10 + 0x08:word32] = Mem131[ebp_243 - 0x18 + 0x00:word32];
			Mem135[esp_10 + 0x04:word32] = Mem133[ebp_243 - 0x14 + 0x00:word32];
			Mem137[esp_10 + 0x00:word32] = Mem135[ebp_243 + 0x0C:word32];
			flushline(ebp_243, gs, dwArg00, dwArg04, dwArg08, dwArg10);
		}
	}
}

// 0806D554: void addnewline2(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18)
void addnewline2(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SZO_14;
	byte C_15;
	byte Z_16;
	byte S_17;
	!GC_malloc();
	Mem20[eax_12 + 0x0C:word32] = 0x00;
	Mem24[eax_12 + 0x00:word32] = dwArg08;
	Mem28[eax_12 + 0x04:word32] = dwArg0C;
	Mem32[eax_12 + 0x08:word32] = dwArg10;
	Mem36[eax_12 + 0x14:word32] = dwArg14;
	Mem38[eax_12 + 0x18:word32] = ~0x00;
	Mem41[eax_12 + 0x28:word32] = dwArg14;
	Mem43[eax_12 + 44:word32] = 0x00;
	Mem45[eax_12 + 0x30:word32] = 0x00;
	Mem50[eax_12 + 0x10:word32] = Mem45[dwArg04 + 0x10:word32];
	if (Mem50[dwArg04 + 0x10:word32] != 0x00)
	{
		Mem112[eax_12 + 0x0C:word32] = Mem50[Mem50[dwArg04 + 0x10:word32] + 0x0C:word32];
		Mem116[Mem112[dwArg04 + 0x10:word32] + 0x0C:word32] = eax_12;
	}
	else
		Mem118[eax_12 + 0x0C:word32] = 0x00;
	if (Mem50[dwArg04 + 0x14:word32] == 0x00 || Mem50[dwArg04 + 0x14:word32] == Mem50[dwArg04 + 0x10:word32])
		Mem101[dwArg04 + 0x14:word32] = eax_12;
	Mem65[dwArg04 + 0x10:word32] = eax_12;
	if (Mem65[dwArg04 + 0x08:word32] == 0x00)
		Mem96[dwArg04 + 0x08:word32] = eax_12;
	Mem75[dwArg04 + 0x3C:word32] = Mem65[dwArg04 + 0x3C:word32] + 0x01;
	Mem79[eax_12 + 0x1C:word32] = Mem75[dwArg04 + 0x3C:word32];
	if (dwArg18 < 0x00)
		Mem90[eax_12 + 0x20:word32] = 0x00;
	else
		Mem93[eax_12 + 0x20:word32] = dwArg18;
}

// 0806D678: void addnewline(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
void addnewline(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	word32 dwLoc14_160;
	word32 dwLoc10_156;
	if (dwArg14 > 0x00)
	{
		dwLoc10_156 = allocStr(dwArg08, dwArg14);
		word32 esp_271;
		word32 ebp_272;
		word32 ebx_273;
		byte SCZO_274;
		byte SZO_275;
		word32 eax_276;
		byte Z_277;
		word32 edx_278;
		word16 ax_279;
		byte C_280;
		word32 ecx_281;
		!GC_malloc_atomic();
		dwLoc14_160 = eax_276;
		word32 esp_292;
		word32 ebp_293;
		word32 ebx_294;
		byte SCZO_295;
		byte SZO_296;
		word32 eax_297;
		byte Z_298;
		word32 edx_299;
		word16 ax_300;
		byte C_301;
		word32 ecx_302;
		!bcopy();
	}
	else
	{
		dwLoc10_156 = Mem0[0x080D55D8:word32];
		dwLoc14_160 = 135776676;
	}
	word32 dwLoc18_163;
	if (dwArg14 > 0x00 && dwArg10 != 0x00)
	{
		word32 esp_224;
		word32 ebp_225;
		word32 ebx_226;
		byte SCZO_227;
		byte SZO_228;
		word32 eax_229;
		byte Z_230;
		word32 edx_231;
		word16 ax_232;
		byte C_233;
		word32 ecx_234;
		!GC_malloc_atomic();
		dwLoc18_163 = eax_229;
		word32 esp_242;
		word32 ebp_243;
		word32 ebx_244;
		byte SCZO_245;
		byte SZO_246;
		word32 eax_247;
		byte Z_248;
		word32 edx_249;
		word16 ax_250;
		byte C_251;
		word32 ecx_252;
		!bcopy();
	}
	else
		dwLoc18_163 = 0x00;
	addnewline2(dwArg04, dwArg04, dwLoc10_156, dwLoc14_160, dwLoc18_163, dwArg14, dwArg1C);
	if (dwArg14 > 0x00 && dwArg18 > 0x00)
	{
		word32 dwLoc24_149 = 0x00;
		word32 dwLoc28_153 = 0x00;
		while (true)
		{
			word32 eax_103 = Mem0[dwArg04 + 0x10:word32];
			Mem107[eax_103 + 44:word32] = dwLoc24_149;
			Mem110[eax_103 + 0x30:word32] = dwLoc28_153;
			word32 eax_115 = columnLen(eax_103, dwArg18);
			word32 dwLoc20_116 = eax_115;
			if (eax_115 == 0x00)
			{
				dwLoc20_116 = eax_115 + 0x01;
				while (Mem110[eax_103 + 0x14:word32] > dwLoc20_116 && ((word32) ((word16) ((word32) dwLoc14_160[dwLoc20_116 * 0x02])) & 0x0400) != 0x00)
					dwLoc20_116 = dwLoc20_116 + 0x01;
			}
			Mem125[eax_103 + 0x14:word32] = dwLoc20_116;
			Mem142[eax_103 + 0x18:word32] = calcPosition(Mem125[eax_103 + 0x00:word32], Mem125[eax_103 + 0x04:word32], Mem125[eax_103 + 0x14:word32], Mem125[eax_103 + 0x14:word32], 0x00, 0x00);
			if (dwArg14 <= dwLoc20_116)
				break;
			word32 v16_155 = dwLoc10_156 + dwLoc20_116;
			word32 v17_159 = dwLoc14_160 + dwLoc20_116 * 0x02;
			dwLoc24_149 = dwLoc24_149 + Mem142[eax_103 + 0x14:word32];
			dwLoc28_153 = dwLoc28_153 + Mem142[eax_103 + 0x18:word32];
			dwLoc10_156 = v16_155;
			dwLoc14_160 = v17_159;
			if (dwLoc18_163 != 0x00)
				dwLoc18_163 = dwLoc18_163 + dwLoc20_116;
			word32 v19_165 = dwArg14 - dwLoc20_116;
			addnewline2(dwArg04, dwArg04, v16_155, v17_159, dwLoc18_163, v19_165, dwArg1C);
			dwArg14 = v19_165;
		}
	}
}

// 0806D888: Register word32 loadHTMLBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 loadHTMLBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 == 0x00)
	{
		word32 eax_122;
		word32 edx_117 = Mem0[0x081807A0:word32];
		if (Mem0[0x0817C2D8:word32] != 0x00)
			eax_122 = 0x06;
		else
			eax_122 = 0x01;
		word32 ecx_124 = edx_117 - eax_122;
		word32 eax_125 = ecx_124;
		if (ecx_124 < 0x00)
			eax_125 = 0x00;
		dwArg08 = newBuffer(eax_125, eax_125);
	}
	if (Mem0[dwArg08 + 0xB8:word32] == 0x00 && ((byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x04 || Mem0[dwArg08 + 232:word32] != 0x00))
	{
		byte bpl_96;
		Mem98[fp - 0x14 + 0x00:word32] = tmpfname(fp - 0x04, 0x01, 0x080C9828, out bpl_96);
		word32 eax_101 = Mem98[Mem98[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem102[fp - 0x28 + 0x00:word32] = 0x080C9070;
		Mem103[fp - 44 + 0x00:word32] = eax_101;
		Mem105[fp - 0x10 + 0x00:word32] = fopen(Mem103[fp - 44 + 0x00:(ptr char)], Mem103[fp - 0x28 + 0x00:(ptr char)]);
		if (Mem105[fp - 0x10 + 0x00:word32] != 0x00)
			Mem111[Mem105[fp + 0x08:word32] + 0xB8:word32] = Mem105[Mem105[fp - 0x14 + 0x00:word32] + 0x00:word32];
	}
	Mem44[fp - 0x20 + 0x00:word32] = (int32) (word16) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x40:word16] & 0x02;
	Mem46[fp - 0x24 + 0x00:word32] = Mem44[fp - 0x10 + 0x00:word32];
	Mem48[fp - 0x28 + 0x00:word32] = Mem46[fp + 0x08:word32];
	word32 eax_49 = Mem48[fp + 0x04:word32];
	Mem50[fp - 44 + 0x00:word32] = eax_49;
	loadHTMLstream(eax_49, fp - 0x04, gs);
	Mem55[Mem50[fp + 0x08:word32] + 0x0C:word32] = Mem50[Mem50[fp + 0x08:word32] + 0x08:word32];
	Mem59[Mem55[fp + 0x08:word32] + 0x14:word32] = Mem55[Mem55[fp + 0x08:word32] + 0x10:word32];
	Mem63[Mem59[fp + 0x08:word32] + 0x10:word32] = Mem59[Mem59[fp + 0x08:word32] + 0x08:word32];
	if (Mem63[0x0817C888:word32] != 0x00)
	{
		Mem82[fp - 0x28 + 0x00:word32] = Mem63[Mem63[fp + 0x08:word32] + 0x6C:word32];
		Mem84[fp - 44 + 0x00:word32] = Mem82[fp + 0x08:word32];
		formResetBuffer(fp - 0x04, gs, dwArg00, dwArg04);
	}
	if (Mem63[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem78[fp - 44 + 0x00:word32] = Mem63[fp - 0x10 + 0x00:word32];
		fclose(Mem78[fp - 44 + 0x00:(ptr FILE)]);
	}
	return Mem63[fp + 0x08:word32];
}

// 0806D9B9: Register word32 convert_size(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, FpuStack real64 rArg0)
word32 convert_size(word32 dwArg04, word32 dwArg08, word32 dwArg0C, real64 rArg0)
{
	int64 qwLoc24_18 = DPB(qwLoc24, dwArg08, 32);
	word32 dwLoc14_19 = 0x01;
	real32 rLoc10_22 = (real32) (real64) qwLoc24_18;
	while (true)
	{
		byte al_36 = (real64) rLoc10_22 >=u Mem0[0x080CABA8:real64];
		if (al_36 == 0x00 || 0x080D55A0[(dwLoc14_19 + 0x00) * 0x04] == 0x00)
			break;
		rLoc10_22 = (real32) ((real64) rLoc10_22 / (real64) Mem0[0x080CABA0:real32]);
		dwLoc14_19 = dwLoc14_19 + 0x01;
	}
	word32 eax_68;
	word32 esp_51;
	word32 ebp_52;
	word32 ebx_53;
	byte SCZO_54;
	word32 eax_55;
	byte CZP_56;
	byte al_57;
	byte C_58;
	byte SZO_59;
	byte Z_60;
	byte bpl_61;
	!floor();
	if (dwArg0C != 0x00)
		eax_68 = 0x080CA7C1;
	else
		eax_68 = 0x080CA7C8;
	byte bpl_72;
	return Mem0[Sprintf(eax_68, out bpl_72) + 0x00:word32];
}

// 0806DA74: Register word32 convert_size2(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, FpuStack real64 rArg0, FpuStack real64 rArg1)
word32 convert_size2(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, real64 rArg0, real64 rArg1)
{
	word32 dwLoc18_155 = 0x3F800000;
	word32 dwLoc1C_157 = 0x01;
	word32 edx_165 = dwArg10;
	if (dwArg10 <= dwArg08 && (dwArg10 < dwArg08 || dwArg0C <u dwArg04))
		edx_165 = dwArg08;
	int64 qwLoc34_44 = DPB(qwLoc34, edx_165, 32);
	real32 rLoc14_46 = (real32) (real64) qwLoc34_44;
	while (true)
	{
		byte al_61 = (real64) rLoc14_46 / dwLoc18_155 >=u Mem0[0x080CABA8:real64];
		if (al_61 == 0x00 || 0x080D55A0[(dwLoc1C_157 + 0x00) * 0x04] == 0x00)
			break;
		dwLoc18_155 = (real32) ((real64) dwLoc18_155 * (real64) Mem0[0x080CABA0:real32]);
		dwLoc1C_157 = dwLoc1C_157 + 0x01;
	}
	word32 eax_124;
	word32 esp_78;
	word32 ebp_79;
	word32 ebx_80;
	byte SCZO_81;
	word32 eax_82;
	word32 ecx_83;
	word32 edx_84;
	byte SZO_85;
	byte SO_86;
	byte C_87;
	byte CZP_88;
	byte al_89;
	byte Z_90;
	byte bpl_91;
	!floor();
	word32 esp_104;
	word32 ebp_105;
	word32 ebx_106;
	byte SCZO_107;
	word32 eax_108;
	word32 ecx_109;
	word32 edx_110;
	byte SZO_111;
	byte SO_112;
	byte C_113;
	byte CZP_114;
	byte al_115;
	byte Z_116;
	byte bpl_117;
	!floor();
	if (dwArg14 != 0x00)
		eax_124 = 0x080CA7CF;
	else
		eax_124 = 135047131;
	byte bpl_130;
	return Mem0[Sprintf(eax_124, out bpl_130) + 0x00:word32];
}

// 0806DB9B: void showProgress(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, FpuStack real64 rArg1, FpuStack real64 rArg2)
void showProgress(word32 ebp, word32 dwArg04, word32 dwArg08, real64 rArg1, real64 rArg2)
{
	if ((byte) (word32) Mem0[135774799:byte] != 0x00)
	{
		word32 edx_60 = Mem0[dwArg04 + 0x04:word32];
		word32 eax_61 = Mem0[dwArg04 + 0x00:word32];
		if (edx_60 > 0x00 || edx_60 >= 0x00 && eax_61 >u 0x03FF)
		{
			word32 eax_70 = Mem0[0x0817C8B0:word32];
			word32 edx_72 = Mem0[135776436:word32];
			if (edx_72 >= 0x00 && (edx_72 > 0x00 || eax_70 >u 0x00))
			{
				word32 eax_208 = time(0x00);
				if ((Mem0[dwArg08 + 0x00:word32] | Mem0[dwArg08 + 0x04:word32]) == 0x00)
				{
					move(Mem0[0x08180780:word32] - 0x01, 0x00);
					clrtoeolx();
					Mem487[135776636:word32] = eax_208;
				}
				word32 ecx_220 = Mem0[dwArg08 + 0x00:word32];
				word64 edx_eax_229 = SEQ(Mem0[dwArg04 + 0x04:word32], Mem0[dwArg04 + 0x00:word32] + ecx_220) + SEQ(Mem0[dwArg08 + 0x04:word32], ecx_220);
				Mem233[dwArg08 + 0x00:word32] = (word32) edx_eax_229;
				Mem234[dwArg08 + 0x04:word32] = SLICE(edx_eax_229, word32, 32);
				Mem236[dwArg04 + 0x00:word32] = 0x00;
				Mem237[dwArg04 + 0x04:word32] = 0x00;
				if (eax_208 != Mem237[0x0817C980:word32])
				{
					Mem242[0x0817C980:word32] = eax_208;
					move(Mem242[0x08180780:word32] - 0x01, 0x00);
					Mem276[fp - 0x40 + 0x00:word32] = convert_size2(Mem242[dwArg08 + 0x00:word32], Mem242[dwArg08 + 0x04:word32], Mem242[0x0817C8B0:word32], Mem242[135776436:word32], 0x01, rArg0, rArg1);
					Mem282[fp - 44 + 0x00:word32] = Mem276[fp - 0x38 + 0x00:word32] - Mem276[135776636:word32];
					if (Mem282[fp - 44 + 0x00:word32] != 0x00)
					{
						word32 eax_372;
						word32 eax_345 = Mem282[fp + 0x08:word32];
						word32 edx_346 = Mem282[eax_345 + 0x04:word32];
						word32 eax_347 = Mem282[eax_345 + 0x00:word32];
						word32 ecx_348 = Mem282[fp - 44 + 0x00:word32];
						Mem352[fp - 116 + 0x00:word32] = ecx_348;
						Mem353[fp - 0x70 + 0x00:word32] = ecx_348 >> 0x1F;
						Mem354[fp - 0x7C + 0x00:word32] = eax_347;
						Mem355[fp - 0x78 + 0x00:word32] = edx_346;
						word32 edx_356;
						Mem358[fp - 0x28 + 0x00:word32] = __divdi3(dwArg00, dwArg04, dwArg08, dwArg0C, out edx_356);
						word32 eax_359 = Mem358[fp - 0x28 + 0x00:word32];
						Mem363[fp - 116 + 0x00:word32] = 0x01;
						Mem364[fp - 0x7C + 0x00:word32] = eax_359;
						Mem365[fp - 0x78 + 0x00:word32] = eax_359 >> 0x1F;
						Mem367[fp - 0x44 + 0x00:word32] = convert_size(dwArg00, dwArg04, dwArg08, rArg2);
						if (Mem367[fp - 0x28 + 0x00:word32] != 0x00)
						{
							word32 ecx_448 = Mem367[fp + 0x08:word32];
							word32 ecx_450 = Mem367[ecx_448 + 0x00:word32];
							word64 edx_eax_455 = SEQ(Mem367[135776436:word32], Mem367[0x0817C8B0:word32] - ecx_450) - SEQ(Mem367[ecx_448 + 0x04:word32], ecx_450);
							word32 ecx_458 = Mem367[fp - 0x28 + 0x00:word32];
							Mem462[fp - 116 + 0x00:word32] = ecx_458;
							Mem463[fp - 0x70 + 0x00:word32] = ecx_458 >> 0x1F;
							Mem464[fp - 0x7C + 0x00:word32] = (word32) edx_eax_455;
							Mem465[fp - 0x78 + 0x00:word32] = SLICE(edx_eax_455, word32, 32);
							word32 edx_466;
							eax_372 = __divdi3(dwArg00, dwArg04, dwArg08, dwArg0C, out edx_466);
						}
						else
							eax_372 = ~0x00;
						Mem373[fp - 0x30 + 0x00:word32] = eax_372;
						word32 ecx_374 = Mem373[fp - 0x30 + 0x00:word32];
						word32 ecx_392 = Mem373[fp - 0x30 + 0x00:word32];
						word32 ecx_402 = (ecx_392 + 0x88888889 >> 0x05) - (ecx_392 >> 0x1F);
						word32 esi_384 = (ecx_374 + 0x88888889 >> 0x05) - (ecx_374 >> 0x1F);
						word32 ecx_420 = Mem373[fp - 0x30 + 0x00:word32];
						Mem433[fp - 0x60 + 0x00:word32] = ecx_374 - ((esi_384 << 0x06) - (esi_384 << 0x02));
						word32 ebx_412 = (ecx_402 + 0x88888889 >> 0x05) - (ecx_402 >> 0x1F);
						Mem434[fp - 100 + 0x00:word32] = ecx_402 - ((ebx_412 << 0x06) - (ebx_412 << 0x02));
						Mem435[fp - 0x68 + 0x00:word32] = (ecx_420 + 2443359173 >> 11) - (ecx_420 >> 0x1F);
						Mem437[fp - 0x6C + 0x00:word32] = Mem435[fp - 0x44 + 0x00:word32];
						Mem439[fp - 116 + 0x00:real64] = Mem437[fp - 0x4C + 0x00:real64];
						Mem441[fp - 0x78 + 0x00:word32] = Mem439[fp - 0x40 + 0x00:word32];
						Mem442[fp - 0x7C + 0x00:word32] = 0x080CA7E8;
						byte bpl_443;
						Mem445[fp - 0x3C + 0x00:word32] = Sprintf(dwArg00, out bpl_443);
					}
					else
					{
						Mem474[fp - 116 + 0x00:real64] = Mem282[fp - 0x4C + 0x00:real64];
						Mem476[fp - 0x78 + 0x00:word32] = Mem474[fp - 0x40 + 0x00:word32];
						Mem477[fp - 0x7C + 0x00:word32] = 0x080CA814;
						byte bpl_478;
						Mem480[fp - 0x3C + 0x00:word32] = Sprintf(dwArg00, out bpl_478);
					}
					Mem293[fp - 0x7C + 0x00:word32] = Mem282[Mem282[fp - 0x3C + 0x00:word32] + 0x00:word32];
					addstr(dwArg00);
					Mem294[fp - 0x34 + 0x00:word32] = 0x2A;
					word32 eax_301 = Mem294[fp + 0x08:word32];
					word32 eax_296 = Mem294[0x081807A0:word32] - Mem294[(fp - 0x34) + 0x00:word32];
					word32 eax_303 = Mem294[eax_301 + 0x00:word32];
					word64 edx_eax_309 = (eax_296 - 0x01) *u eax_303;
					word32 esi_312 = (eax_296 - 0x01 >> 0x1F) *s eax_303 + Mem294[eax_301 + 0x04:word32] *s (eax_296 - 0x01) + SLICE(edx_eax_309, word32, 32);
					word32 ebx_316 = Mem294[135776436:word32];
					Mem317[fp - 116 + 0x00:word32] = Mem294[0x0817C8B0:word32];
					Mem318[fp - 0x70 + 0x00:word32] = ebx_316;
					Mem319[fp - 0x7C + 0x00:word32] = (word32) edx_eax_309;
					Mem320[fp - 0x78 + 0x00:word32] = esi_312;
					word32 edx_321;
					Mem326[fp - 0x20 + 0x00:word32] = __divdi3(dwArg00, dwArg04, dwArg08, dwArg0C, out edx_321) + Mem320[(fp - 0x34) + 0x00:word32];
					word32 eax_327 = Mem326[0x08180780:word32];
					Mem330[fp - 0x78 + 0x00:word32] = Mem326[fp - 0x34 + 0x00:word32];
					Mem331[fp - 0x7C + 0x00:word32] = eax_327 - 0x01;
					move(dwArg00, dwArg04);
					standout();
					Mem332[fp - 0x7C + 0x00:word32] = 0x20;
					addch(dwArg00);
					Mem336[fp - 0x24 + 0x00:word32] = Mem332[fp - 0x34 + 0x00:word32] + 0x01;
					while (Mem336[fp - 0x24 + 0x00:word32] <= Mem336[(fp - 0x20) + 0x00:word32])
					{
						Mem341[fp - 0x7C + 0x00:word32] = 0x7C;
						addch(dwArg00);
						Mem343[fp - 0x24 + 0x00:word32] = Mem341[fp - 0x24 + 0x00:word32] + 0x01;
					}
					standend();
					refresh(fp - 0x04);
				}
			}
			else
			{
				word32 eax_80 = time(0x00);
				if ((Mem0[dwArg08 + 0x00:word32] | Mem0[dwArg08 + 0x04:word32]) == 0x00)
				{
					move(Mem0[0x08180780:word32] - 0x01, 0x00);
					clrtoeolx();
					Mem202[135776636:word32] = eax_80;
				}
				word32 ecx_94 = Mem0[dwArg08 + 0x00:word32];
				word64 edx_eax_103 = SEQ(Mem0[dwArg04 + 0x04:word32], Mem0[dwArg04 + 0x00:word32] + ecx_94) + SEQ(Mem0[dwArg08 + 0x04:word32], ecx_94);
				Mem107[dwArg08 + 0x00:word32] = (word32) edx_eax_103;
				Mem108[dwArg08 + 0x04:word32] = SLICE(edx_eax_103, word32, 32);
				Mem110[dwArg04 + 0x00:word32] = 0x00;
				Mem111[dwArg04 + 0x04:word32] = 0x00;
				if (eax_80 != Mem111[0x0817C980:word32])
				{
					Mem116[0x0817C980:word32] = eax_80;
					move(Mem116[0x08180780:word32] - 0x01, 0x00);
					Mem130[fp - 0x40 + 0x00:word32] = convert_size(Mem116[dwArg08 + 0x00:word32], Mem116[dwArg08 + 0x04:word32], 0x01, rArg0);
					Mem136[fp - 44 + 0x00:word32] = Mem130[fp - 0x38 + 0x00:word32] - Mem130[135776636:word32];
					if (Mem136[fp - 44 + 0x00:word32] != 0x00)
					{
						word32 eax_161 = Mem136[fp + 0x08:word32];
						word32 edx_162 = Mem136[eax_161 + 0x04:word32];
						word32 eax_163 = Mem136[eax_161 + 0x00:word32];
						word32 ecx_164 = Mem136[fp - 44 + 0x00:word32];
						Mem168[fp - 116 + 0x00:word32] = ecx_164;
						Mem169[fp - 0x70 + 0x00:word32] = ecx_164 >> 0x1F;
						Mem170[fp - 0x7C + 0x00:word32] = eax_163;
						Mem171[fp - 0x78 + 0x00:word32] = edx_162;
						word32 edx_173;
						word32 eax_174 = __divdi3(dwArg00, dwArg04, dwArg08, dwArg0C, out edx_173);
						Mem175[fp - 116 + 0x00:word32] = 0x01;
						Mem176[fp - 0x7C + 0x00:word32] = eax_174;
						Mem177[fp - 0x78 + 0x00:word32] = edx_173;
						Mem179[fp - 0x44 + 0x00:word32] = convert_size(dwArg00, dwArg04, dwArg08, rArg1);
						Mem181[fp - 116 + 0x00:word32] = Mem179[fp - 0x44 + 0x00:word32];
						Mem183[fp - 0x78 + 0x00:word32] = Mem181[fp - 0x40 + 0x00:word32];
						Mem184[fp - 0x7C + 0x00:word32] = 0x080CA83B;
						byte bpl_185;
						Mem187[fp - 0x3C + 0x00:word32] = Sprintf(dwArg00, out bpl_185);
					}
					else
					{
						Mem189[fp - 0x78 + 0x00:word32] = Mem136[fp - 0x40 + 0x00:word32];
						Mem190[fp - 0x7C + 0x00:word32] = 0x080CA84C;
						byte bpl_191;
						Mem193[fp - 0x3C + 0x00:word32] = Sprintf(dwArg00, out bpl_191);
					}
					word32 eax_145 = Mem136[Mem136[fp - 0x3C + 0x00:word32] + 0x00:word32];
					Mem146[fp - 116 + 0x00:word32] = 0x00;
					Mem147[fp - 0x78 + 0x00:word32] = 0x00;
					Mem148[fp - 0x7C + 0x00:word32] = eax_145;
					message(dwArg00, dwArg04, dwArg08);
					refresh(fp - 0x04);
				}
			}
		}
	}
}

// 0806E0B9: void init_henv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
void init_henv(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	byte dl_11 = (byte) dwArg1C;
	Mem14[dwArg0C + 0x0C:byte] = dl_11;
	Strnew(dwArg0C);
	Mem17[dwArg08 + 0x00:word32] = dwArg0C;
	Mem19[dwArg08 + 0x04:word16] = 0x00;
	Mem21[dwArg08 + 0x06:word16] = 0x00;
	Strnew_size(dwArg08, 0x08);
	Mem25[dwArg08 + 0x08:word32] = dwArg08;
	Strcopy_charp_n(Mem25[dwArg08 + 0x08:word32], 0x080C96F3, 0x01);
	Mem32[dwArg08 + 0x0C:word32] = 0x2000;
	Mem34[dwArg08 + 0x38:word32] = 0x00;
	Mem36[dwArg08 + 0x3C:word32] = 0x00;
	Mem38[dwArg08 + 66:word16] = ~0x00;
	Mem40[dwArg08 + 0x44:word16] = 0x00;
	word32 esp_46;
	word32 ebp_47;
	byte SCZO_48;
	word32 eax_49;
	word32 edx_50;
	byte dl_51;
	!bzero();
	Mem53[dwArg08 + 0x84:word32] = 0x00;
	Mem55[dwArg08 + 0x88:byte] = 0x00;
	Mem57[dwArg08 + 0x8A:byte] = 0x00;
	Mem59[dwArg08 + 0x89:byte] = 0x00;
	Mem61[dwArg08 + 0x8B:byte] = 0x00;
	Mem63[dwArg08 + 0x8C:byte] = 0x00;
	Mem65[dwArg08 + 0xB8:word16] = 0x00;
	Mem67[dwArg08 + 0x0148:word32] = 0x00;
	Mem69[dwArg08 + 0xB4:word32] = 0x00;
	Mem71[dwArg08 + 332:word16] = 0x00;
	Mem73[dwArg08 + 334:word16] = 0x00;
	Mem75[dwArg08 + 0x0118:byte] = 0x01;
	set_breakpoint(dwArg08, 0x00);
	Mem83[dwArg04 + 0x04:word32] = dwArg14;
	Mem85[dwArg04 + 0x08:word32] = 0x00;
	Mem88[dwArg04 + 0x00:word32] = dwArg08;
	Strnew(dwArg04);
	Mem90[dwArg04 + 0x0C:word32] = dwArg04;
	Mem94[dwArg04 + 0x10:word32] = dwArg18;
	Mem96[dwArg04 + 0x14:word32] = 0x00;
	Mem99[dwArg04 + 0x18:word32] = dwArg0C;
	Mem103[dwArg04 + 0x1C:word32] = dwArg10;
	Mem105[dwArg04 + 0x20:word32] = 0x00;
	Mem107[dwArg04 + 0x24:word32] = 0x00;
	Mem109[dwArg04 + 0x28:word32] = 0x00;
	Mem111[dwArg04 + 44:word32] = 0x00;
}

// 0806E26B: void completeHTMLstream(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void completeHTMLstream(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	close_anchor(fp - 0x04, gs, dwArg04, dwArg08);
	if (Mem0[Mem0[fp + 0x08:word32] + 0x84:word32] != 0x00)
	{
		Mem153[fp - 0x14 + 0x00:word32] = 0x89;
		Mem154[fp - 0x18 + 0x00:word32] = 135043901;
		Mem156[fp - 0x1C + 0x00:word32] = Mem154[fp + 0x08:word32];
		push_tag(dwArg00, dwArg04, dwArg08);
		Mem158[Mem156[fp + 0x08:word32] + 0x84:word32] = 0x00;
	}
	if ((byte) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x88:byte] != 0x00)
	{
		Mem147[fp - 0x14 + 0x00:word32] = 0x08;
		Mem148[fp - 0x18 + 0x00:word32] = 0x080C9B48;
		Mem150[fp - 0x1C + 0x00:word32] = Mem148[fp + 0x08:word32];
		push_tag(dwArg00, dwArg04, dwArg08);
		Mem152[Mem150[fp + 0x08:word32] + 0x88:byte] = 0x00;
	}
	if ((byte) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x8A:byte] != 0x00)
	{
		Mem141[fp - 0x14 + 0x00:word32] = 110;
		Mem142[fp - 0x18 + 0x00:word32] = 0x080C9B4D;
		Mem144[fp - 0x1C + 0x00:word32] = Mem142[fp + 0x08:word32];
		push_tag(dwArg00, dwArg04, dwArg08);
		Mem146[Mem144[fp + 0x08:word32] + 0x8A:byte] = 0x00;
	}
	if ((byte) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x89:byte] != 0x00)
	{
		Mem135[fp - 0x14 + 0x00:word32] = 66;
		Mem136[fp - 0x18 + 0x00:word32] = 0x080C9B52;
		Mem138[fp - 0x1C + 0x00:word32] = Mem136[fp + 0x08:word32];
		push_tag(dwArg00, dwArg04, dwArg08);
		Mem140[Mem138[fp + 0x08:word32] + 0x89:byte] = 0x00;
	}
	if ((byte) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x8B:byte] != 0x00)
	{
		Mem129[fp - 0x14 + 0x00:word32] = 0x6A;
		Mem130[fp - 0x18 + 0x00:word32] = 0x080C9B57;
		Mem132[fp - 0x1C + 0x00:word32] = Mem130[fp + 0x08:word32];
		push_tag(dwArg00, dwArg04, dwArg08);
		Mem134[Mem132[fp + 0x08:word32] + 0x8B:byte] = 0x00;
	}
	if ((byte) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x8C:byte] != 0x00)
	{
		Mem122[fp - 0x14 + 0x00:word32] = 0x40;
		Mem123[fp - 0x18 + 0x00:word32] = 0x080C9B5C;
		Mem125[fp - 0x1C + 0x00:word32] = Mem123[fp + 0x08:word32];
		push_tag(dwArg00, dwArg04, dwArg08);
		Mem128[Mem125[fp + 0x08:word32] + 0x8C:byte] = 0x00;
	}
	if ((Mem0[Mem0[fp + 0x08:word32] + 0x0C:word32] & 0x0800) != 0x00)
	{
		Mem118[fp - 0x14 + 0x00:word32] = 0x01;
		Mem120[fp - 0x18 + 0x00:word32] = Mem118[fp + 0x04:word32];
		Mem121[fp - 0x1C + 0x00:word32] = 0x080CA857;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
	}
	if ((Mem0[Mem0[fp + 0x08:word32] + 0x0C:word32] & 0x1000) != 0x00)
	{
		Mem114[fp - 0x14 + 0x00:word32] = 0x01;
		Mem116[fp - 0x18 + 0x00:word32] = Mem114[fp + 0x04:word32];
		Mem117[fp - 0x1C + 0x00:word32] = 0x080CA863;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
	}
	if ((Mem0[Mem0[fp + 0x08:word32] + 0x0C:word32] & 0x4000) != 0x00)
	{
		Mem110[fp - 0x14 + 0x00:word32] = 0x01;
		Mem112[fp - 0x18 + 0x00:word32] = Mem110[fp + 0x04:word32];
		Mem113[fp - 0x1C + 0x00:word32] = 0x080CA2FA;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
	}
	if ((word16) (word32) Mem0[Mem0[fp + 0x08:word32] + 66:word16] > 0x13)
		Mem107[Mem0[fp + 0x08:word32] + 66:word16] = 0x13;
	while ((word16) (word32) Mem0[Mem0[fp + 0x08:word32] + 66:word16] >= 0x00)
	{
		0x0817C700[(int32) (word16) (word32) Mem0[Mem0[fp + 0x08:word32] + 66:word16] * 0x10] = 0x0817C700[(int32) (word16) (word32) Mem0[Mem0[fp + 0x08:word32] + 66:word16] * 0x10] & ~0x0E;
		Mem102[fp - 0x14 + 0x00:word32] = 0x01;
		Mem104[fp - 0x18 + 0x00:word32] = Mem102[fp + 0x04:word32];
		Mem105[fp - 0x1C + 0x00:word32] = 0x080CA86D;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
	}
}

// 0806E4A4: void print_internal_information(Register word32 eax, Register word32 ebp, Stack word32 dwArg04)
void print_internal_information(word32 eax, word32 ebp, word32 dwArg04)
{
	newGeneralList(eax);
	Strnew_charp(eax, 0x080CA876);
	newTextLine(eax, eax, 0x00);
	pushValue(eax, eax);
	if (Mem0[dwArg04 + 0x28:word32] != 0x00)
	{
		word32 eax_303 = html_quote(Mem0[dwArg04 + 0x28:word32]);
		Strnew_m_charp(eax_303, 0x080C9BFB);
		newTextLine(eax_303, eax_303, 0x00);
		pushValue(eax, eax_303);
	}
	if (Mem0[0x0817C870:word32] > 0x00)
	{
		while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[0x0817C870:word32])
		{
			Mem210[fp - 0x38 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
			Mem211[fp - 0x3C + 0x00:word32] = 0x080CA881;
			byte bpl_212;
			Mem214[fp - 0x14 + 0x00:word32] = Sprintf(dwArg00, out bpl_212);
			Mem215[fp - 0x38 + 0x00:word32] = 0x00;
			word32 eax_216 = Mem215[fp - 0x14 + 0x00:word32];
			Mem217[fp - 0x3C + 0x00:word32] = eax_216;
			newTextLine(eax_216, dwArg00, dwArg04);
			word32 edx_218 = Mem217[fp - 0x18 + 0x00:word32];
			Mem219[fp - 0x38 + 0x00:word32] = eax_216;
			Mem220[fp - 0x3C + 0x00:word32] = edx_218;
			pushValue(dwArg00, dwArg04);
			word32 eax_227 = Mem220[0x08180738:word32][Mem220[fp - 0x10 + 0x00:word32] * 0x08];
			Mem229[fp - 0x1C + 0x00:word32] = eax_227;
			while (Mem229[fp - 0x1C + 0x00:word32] != 0x00)
			{
				word32 ebx_257;
				if (Mem229[Mem229[fp - 0x1C + 0x00:word32] + 0x08:word32] != 0x00)
					ebx_257 = 0x080CA89E;
				else
					ebx_257 = 0x080C92AD;
				word32 eax_269;
				Mem261[fp - 0x3C + 0x00:word32] = Mem229[Mem229[Mem229[fp - 0x1C + 0x00:word32] + 0x04:word32] + 0x00:word32];
				word32 eax_262 = html_quote(dwArg00);
				if (Mem261[Mem261[fp - 0x1C + 0x00:word32] + 0x00:word32] != 0x00)
					eax_269 = Mem261[Mem261[Mem261[fp - 0x1C + 0x00:word32] + 0x00:word32] + 0x00:word32];
				else
					eax_269 = Mem261[Mem261[Mem261[fp - 0x1C + 0x00:word32] + 0x04:word32] + 0x00:word32];
				Mem270[fp - 0x3C + 0x00:word32] = eax_269;
				word32 eax_271 = html_quote(dwArg00);
				Mem272[fp - 0x30 + 0x00:word32] = ebx_257;
				Mem273[fp - 0x34 + 0x00:word32] = eax_262;
				Mem274[fp - 0x38 + 0x00:word32] = eax_271;
				Mem275[fp - 0x3C + 0x00:word32] = 0x080CA8A8;
				byte bpl_276;
				Mem278[fp - 0x14 + 0x00:word32] = Sprintf(dwArg00, out bpl_276);
				Mem279[fp - 0x38 + 0x00:word32] = 0x00;
				word32 eax_280 = Mem279[fp - 0x14 + 0x00:word32];
				Mem281[fp - 0x3C + 0x00:word32] = eax_280;
				newTextLine(eax_280, dwArg00, dwArg04);
				word32 edx_282 = Mem281[fp - 0x18 + 0x00:word32];
				Mem283[fp - 0x38 + 0x00:word32] = eax_280;
				Mem284[fp - 0x3C + 0x00:word32] = edx_282;
				pushValue(dwArg00, dwArg04);
				eax_227 = Mem284[Mem284[fp - 0x1C + 0x00:word32] + 0x0C:word32];
				Mem289[fp - 0x1C + 0x00:word32] = eax_227;
			}
			Mem240[fp - 0x3C + 0x00:word32] = 0x080CA8CD;
			Strnew_charp(eax_227, dwArg00);
			Mem241[fp - 0x14 + 0x00:word32] = eax_227;
			Mem242[fp - 0x38 + 0x00:word32] = 0x00;
			word32 eax_243 = Mem242[fp - 0x14 + 0x00:word32];
			Mem244[fp - 0x3C + 0x00:word32] = eax_243;
			newTextLine(eax_243, dwArg00, dwArg04);
			word32 edx_245 = Mem244[fp - 0x18 + 0x00:word32];
			Mem246[fp - 0x38 + 0x00:word32] = eax_243;
			Mem247[fp - 0x3C + 0x00:word32] = edx_245;
			pushValue(dwArg00, dwArg04);
			Mem250[fp - 0x10 + 0x00:word32] = Mem247[fp - 0x10 + 0x00:word32] + 0x01;
		}
	}
	word32 eax_155 = Mem0[0x0817C888:word32];
	if (eax_155 > 0x00)
	{
		Mem152[fp - 0x10 + 0x00:word32] = 0x00;
		while (true)
		{
			eax_155 = Mem152[0x0817C888:word32];
			if (Mem152[fp - 0x10 + 0x00:word32] >= eax_155)
				break;
			Mem160[fp - 0x38 + 0x00:word32] = Mem152[fp - 0x10 + 0x00:word32];
			Mem161[fp - 0x3C + 0x00:word32] = 0x080CA8DC;
			byte bpl_162;
			Mem164[fp - 0x14 + 0x00:word32] = Sprintf(dwArg00, out bpl_162);
			Mem165[fp - 0x38 + 0x00:word32] = 0x00;
			word32 eax_166 = Mem165[fp - 0x14 + 0x00:word32];
			Mem167[fp - 0x3C + 0x00:word32] = eax_166;
			newTextLine(eax_166, dwArg00, dwArg04);
			word32 edx_168 = Mem167[fp - 0x18 + 0x00:word32];
			Mem169[fp - 0x38 + 0x00:word32] = eax_166;
			Mem170[fp - 0x3C + 0x00:word32] = edx_168;
			pushValue(dwArg00, dwArg04);
			Mem179[fp - 0x3C + 0x00:word32] = Mem170[Mem170[0x08180734:word32][Mem170[fp - 0x10 + 0x00:word32] * 0x04] + 0x00:word32];
			word32 eax_180 = html_quote(dwArg00);
			Mem181[fp - 0x3C + 0x00:word32] = eax_180;
			Strnew_charp(eax_180, dwArg00);
			Mem182[fp - 0x14 + 0x00:word32] = eax_180;
			Mem183[fp - 0x38 + 0x00:word32] = 0x080CA8FD;
			Mem185[fp - 0x3C + 0x00:word32] = Mem183[fp - 0x14 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem186[fp - 0x38 + 0x00:word32] = 0x00;
			word32 eax_187 = Mem186[fp - 0x14 + 0x00:word32];
			Mem188[fp - 0x3C + 0x00:word32] = eax_187;
			newTextLine(eax_187, dwArg00, dwArg04);
			word32 edx_189 = Mem188[fp - 0x18 + 0x00:word32];
			Mem190[fp - 0x38 + 0x00:word32] = eax_187;
			Mem191[fp - 0x3C + 0x00:word32] = edx_189;
			pushValue(dwArg00, dwArg04);
			Mem194[fp - 0x10 + 0x00:word32] = Mem191[fp - 0x10 + 0x00:word32] + 0x01;
		}
	}
	Mem63[fp - 0x3C + 0x00:word32] = 0x080CA90D;
	Strnew_charp(eax_155, dwArg00);
	Mem65[fp - 0x14 + 0x00:word32] = eax_155;
	Mem66[fp - 0x38 + 0x00:word32] = 0x00;
	word32 eax_67 = Mem66[fp - 0x14 + 0x00:word32];
	Mem68[fp - 0x3C + 0x00:word32] = eax_67;
	newTextLine(eax_67, dwArg00, dwArg04);
	word32 edx_69 = Mem68[fp - 0x18 + 0x00:word32];
	Mem70[fp - 0x38 + 0x00:word32] = eax_67;
	Mem71[fp - 0x3C + 0x00:word32] = edx_69;
	pushValue(dwArg00, dwArg04);
	if (Mem71[Mem71[fp + 0x04:word32] + 0x04:word32] != 0x00)
	{
		word32 eax_95 = Mem71[Mem71[fp + 0x04:word32] + 0x04:word32];
		Mem96[fp - 0x38 + 0x00:word32] = Mem71[fp - 0x18 + 0x00:word32];
		Mem97[fp - 0x3C + 0x00:word32] = eax_95;
		appendGeneralList(dwArg00, dwArg04);
	}
	else if (Mem71[Mem71[fp + 0x04:word32] + 0x08:word32] != 0x00)
	{
		Mem107[fp - 0x20 + 0x00:word32] = Mem71[Mem71[fp - 0x18 + 0x00:word32] + 0x00:word32];
		while (Mem107[fp - 0x20 + 0x00:word32] != 0x00)
		{
			word32 eax_123;
			if ((byte) (word32) Mem107[135775056:byte] != 0x00)
			{
				word32 edx_137 = Mem107[135091052:word32];
				word32 eax_140 = Mem107[Mem107[Mem107[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x00:word32];
				Mem141[fp - 0x34 + 0x00:word32] = Mem107[0x080D5370:word32];
				Mem142[fp - 0x38 + 0x00:word32] = edx_137;
				Mem143[fp - 0x3C + 0x00:word32] = eax_140;
				word32 ebx_145;
				eax_123 = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_145);
			}
			else
				eax_123 = Mem107[Mem107[Mem107[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x00:word32];
			word32 eax_128 = Mem107[Mem107[fp + 0x04:word32] + 0x08:word32];
			Mem129[fp - 0x34 + 0x00:word32] = Mem107[eax_123 + 0x00:word32];
			Mem130[fp - 0x38 + 0x00:word32] = 0x080CA919;
			Mem131[fp - 0x3C + 0x00:word32] = eax_128;
			fprintf(Mem131[fp - 0x3C + 0x00:(ptr FILE)], Mem131[fp - 0x38 + 0x00:(ptr char)], Mem131[fp - 0x34 + 0x00:(ptr char)]);
			Mem135[fp - 0x20 + 0x00:word32] = Mem131[Mem131[fp - 0x20 + 0x00:word32] + 0x04:word32];
		}
	}
}

// 0806E813: void loadHTMLstream(Register word32 eax, Register word32 ebp, Register selector gs)
void loadHTMLstream(word32 eax, word32 ebp, selector gs)
{
	Strnew(eax);
	byte al_23 = (byte) (word32) Mem0[135774799:byte];
	if (al_23 != 0x00 && graph_ok() != 0x00)
	{
		Mem639[0x0817D2D8:word32] = 0x01;
		Mem641[0x0817D2D4:word32] = Mem639[0x0817D2D8:word32];
	}
	else
	{
		word32 eax_624;
		Mem611[0x0817D2D8:word32] = 0x00;
		get_symbol(Mem611[0x080D5370:word32], 0x0817D2D8);
		if ((byte) (word32) Mem611[0x080DC0AF:byte] != 0x00)
			eax_624 = Mem611[0x0817D2D8:word32];
		else
			eax_624 = 0x01;
		Mem625[0x0817D2D4:word32] = eax_624;
	}
	Mem30[0x0817C848:word32] = 0x00;
	Mem31[0x0817C888:word32] = 0x00;
	Mem32[0x0817C878:word32] = 0x00;
	Mem33[0x080D5424:word32] = 0x0A;
	Mem37[fp - 0x031C + 0x00:word32] = Mem33[0x080D5424:word32] << 0x02;
	word32 esp_38;
	word32 ebp_39;
	word32 ebx_40;
	byte SCZO_41;
	word32 eax_42;
	byte al_43;
	byte SZO_44;
	byte C_45;
	byte Z_46;
	word32 edx_47;
	word16 ax_48;
	word32 ecx_49;
	byte dl_50;
	selector gs_51;
	!GC_malloc();
	Mem52[0x08180734:word32] = eax_42;
	Mem53[0x0817C870:word32] = 0x00;
	Mem54[0x080D5420:word32] = 0x0A;
	Mem58[esp_38 + 0x00:word32] = Mem54[0x080D5420:word32] << 0x03;
	word32 esp_59;
	word32 ebp_60;
	word32 ebx_61;
	byte SCZO_62;
	word32 eax_63;
	byte al_64;
	byte SZO_65;
	byte C_66;
	byte Z_67;
	word32 edx_68;
	word16 ax_69;
	word32 ecx_70;
	byte dl_71;
	selector gs_72;
	!GC_malloc();
	Mem73[0x08180738:word32] = eax_63;
	Mem74[135776332:word32] = 0x00;
	Mem75[0x0817C8AC:word32] = ~0x00;
	Mem76[0x080D5428:word32] = ~0x00;
	Mem77[0x0817C8A8:word32] = 0x00;
	Mem78[0x0817C8A0:word32] = 0x00;
	Mem79[0x0817C8B8:word32] = 0x01;
	Mem80[135776444:word32] = 0x01;
	if ((byte) (word32) Mem80[Mem80[ebp_60 + 0x0C:word32] + 0xF5:byte] != 0x00)
		Mem592[ebp_60 - 0x18 + 0x00:word32] = (int32) (byte) (word32) Mem80[Mem80[ebp_60 + 0x0C:word32] + 0xF5:byte];
	else if (Mem80[135774940:word32] != 0x00 && (Mem80[0x080D530C:word32] != 0x00 && Mem80[0x080D5310:word32] != 0x00))
		Mem610[ebp_60 - 0x18 + 0x00:word32] = 0x02;
	else
		Mem601[ebp_60 - 0x18 + 0x00:word32] = 0x01;
	if (Mem80[Mem80[ebp_60 + 0x0C:word32] + 0x98:word32] != 0x00)
	{
		Mem585[esp_59 + 0x00:word32] = Mem80[ebp_60 + 0x0C:word32];
		Mem587[0x0817C840:word32] = baseURL(dwArg00);
	}
	if (Mem80[0x0817C2A0:word32] != 0x00)
	{
		Mem117[Mem80[ebp_60 + 0x0C:word32] + 0x04:word32] = 135047453;
		Mem120[Mem117[ebp_60 + 0x0C:word32] + 0xD0:word32] = Mem117[135091052:word32];
		Mem121[0x080D5424:word32] = 0x00;
		Mem122[0x080D5420:word32] = 0x00;
		Mem125[esp_59 + 0x04:word32] = Mem122[Mem122[ebp_60 + 0x08:word32] + 0x04:word32];
		Mem127[esp_59 + 0x00:word32] = Mem125[ebp_60 + 0x0C:word32];
		HTMLlineproc3(gs_72, dwArg00, dwArg04);
		Mem130[0x0817C2A0:word32] = 0x00;
		return;
	}
	word32 eax_135 = (int32) (word16) (word32) Mem80[Mem80[ebp_60 + 0x0C:word32] + 0x30:word16];
	Mem136[esp_59 + 0x18:word32] = 0x00;
	Mem137[esp_59 + 0x14:word32] = eax_135;
	Mem138[esp_59 + 0x10:word32] = 0x00;
	Mem139[esp_59 + 0x0C:word32] = 0x14;
	Mem141[esp_59 + 0x08:word32] = ebp_60 - 0x01A0;
	Mem143[esp_59 + 0x04:word32] = ebp_60 - 0x02F0;
	Mem145[esp_59 + 0x00:word32] = ebp_60 - 0x60;
	init_henv(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
	word32 eax_151 = Mem145[135774876:word32];
	if ((eax_151 & 0x10) != 0x00)
		Mem582[ebp_60 - 88 + 0x00:word32] = Mem145[0x0817C220:word32];
	else
	{
		newGeneralList(eax_151 & 0x10);
		Mem583[ebp_60 - 0x5C + 0x00:word32] = eax_151 & 0x10;
	}
	Mem160[esp_59 + 0x04:word32] = 0x01;
	Mem161[esp_59 + 0x00:word32] = 135775744;
	word32 esp_162;
	word32 ebp_163;
	word32 ebx_164;
	byte SCZO_165;
	word32 eax_166;
	byte al_167;
	byte SZO_168;
	byte C_169;
	byte Z_170;
	word32 edx_171;
	word16 ax_172;
	word32 ecx_173;
	byte dl_174;
	selector gs_175;
	!__sigsetjmp();
	if (eax_166 == 0x00)
	{
		if ((byte) (word32) Mem161[0x080D52C5:byte] != 0x00)
		{
			Mem569[esp_162 + 0x04:word32] = 0x0805A9F4;
			Mem570[esp_162 + 0x00:word32] = 0x02;
			Mem572[ebp_163 - 0x1C + 0x00:word32] = mySignal(dwArg00, dwArg04);
			if ((byte) (word32) Mem572[135774799:byte] != 0x00)
				term_cbreak(gs_175);
		}
		if (Mem161[ebp_163 + 0x0C:word32] != 0x00)
		{
			if (((int32) (word16) (word32) Mem161[Mem161[ebp_163 + 0x0C:word32] + 0x40:word16] & 0x02) != 0x00)
				Mem558[ebp_163 - 0x10 + 0x00:word32] = Mem161[135091052:word32];
			else if (Mem161[Mem161[ebp_163 + 0x0C:word32] + 0xD0:word32] != 0x00)
			{
				Mem566[ebp_163 - 0x14 + 0x00:word32] = Mem161[Mem161[ebp_163 + 0x0C:word32] + 0xD0:word32];
				Mem568[ebp_163 - 0x10 + 0x00:word32] = Mem566[ebp_163 - 0x14 + 0x00:word32];
			}
		}
		if (Mem161[135776404:word32] != 0x00 && (byte) ((word32) Mem161[0x080D5381:byte]) != 0x00)
			Mem548[ebp_163 - 0x14 + 0x00:word32] = Mem161[135776404:word32];
		else if (Mem161[Mem161[ebp_163 + 0x08:word32] + 0x14:word32] != 0x00)
		{
			word32 eax_534 = Mem161[Mem161[ebp_163 + 0x08:word32] + 0x14:word32];
			Mem535[esp_162 + 0x04:word32] = 0x080C9032;
			Mem536[esp_162 + 0x00:word32] = eax_534;
			if (strcasecmp(Mem536[esp_162 + 0x00:(ptr char)], Mem536[esp_162 + 0x04:(ptr char)]) == 0x00)
				Mem541[ebp_163 - 0x14 + 0x00:word32] = 0x00308045;
		}
		Mem253[0x0817C898:word32] = 0x00;
		if ((byte) (word32) Mem253[Mem253[Mem253[ebp_163 + 0x08:word32] + 0x04:word32] + 0x14:byte] != 0x04)
		{
			word32 eax_521 = Mem253[Mem253[ebp_163 + 0x08:word32] + 0x04:word32];
			Mem522[esp_162 + 0x04:word32] = (int32) (byte) (word32) Mem253[Mem253[ebp_163 + 0x08:word32] + 0x02:byte];
			Mem523[esp_162 + 0x00:word32] = eax_521;
			Mem526[Mem523[ebp_163 + 0x08:word32] + 0x04:word32] = newEncodedStream(dwArg00, dwArg04);
		}
		while (true)
		{
			Mem269[esp_162 + 0x00:word32] = Mem253[Mem253[ebp_163 + 0x08:word32] + 0x04:word32];
			Mem271[ebp_163 - 0x0C + 0x00:word32] = StrmyISgets(dwArg00);
			if (Mem271[Mem271[ebp_163 - 0x0C + 0x00:word32] + 0x04:word32] == 0x00)
				break;
			if ((byte) (word32) Mem271[Mem271[ebp_163 + 0x08:word32] + 0x00:byte] == 0x09 && (byte) ((word32) Mem271[Mem271[Mem271[(ebp_163 - 0x0C) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x2E)
			{
				Mem493[esp_162 + 0x08:word32] = 0x01;
				Mem494[esp_162 + 0x04:word32] = 0x00;
				Mem496[esp_162 + 0x00:word32] = Mem494[ebp_163 - 0x0C + 0x00:word32];
				Strdelete(dwArg00, dwArg04, dwArg08);
				if ((byte) (word32) Mem496[Mem496[Mem496[ebp_163 - 0x0C + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x0A || ((byte) ((word32) Mem496[Mem496[Mem496[(ebp_163 - 0x0C) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x0D || (byte) ((word32) Mem496[Mem496[Mem496[(ebp_163 - 0x0C) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x00))
					break;
			}
			if (Mem271[ebp_163 + 0x10:word32] != 0x00)
			{
				word32 eax_477 = Mem271[Mem271[ebp_163 - 0x0C + 0x00:word32] + 0x04:word32];
				word32 eax_480 = Mem271[Mem271[ebp_163 - 0x0C + 0x00:word32] + 0x00:word32];
				Mem482[esp_162 + 0x0C:word32] = Mem271[ebp_163 + 0x10:word32];
				Mem483[esp_162 + 0x08:word32] = eax_477;
				Mem484[esp_162 + 0x04:word32] = 0x01;
				Mem485[esp_162 + 0x00:word32] = eax_480;
				fwrite(Mem485[esp_162 + 0x00:(ptr void)], Mem485[esp_162 + 0x04:size_t], Mem485[esp_162 + 0x08:size_t], Mem485[esp_162 + 0x0C:(ptr FILE)]);
			}
			word32 eax_381 = Mem271[Mem271[ebp_163 - 0x0C + 0x00:word32] + 0x04:word32];
			ui64 edx_eax_391 = SEQ(Mem271[ebp_163 - 0x24 + 0x00:word32], Mem271[ebp_163 - 0x28 + 0x00:word32] + eax_381) + SEQ(eax_381 >> 0x1F, eax_381);
			Mem394[ebp_163 - 0x28 + 0x00:word32] = (word32) edx_eax_391;
			Mem395[ebp_163 - 0x24 + 0x00:word32] = SLICE(edx_eax_391, word32, 32);
			if ((Mem395[135774876:word32] & 0x08) != 0x00)
			{
				word32 ecx_461 = Mem395[0x0817C8B0:word32];
				word32 ebx_462 = Mem395[135776436:word32];
				word32 eax_463 = Mem395[ebp_163 - 0x28 + 0x00:word32];
				word32 edx_464 = Mem395[ebp_163 - 0x24 + 0x00:word32];
				Mem465[esp_162 + 0x10:word32] = 0x01;
				Mem466[esp_162 + 0x08:word32] = ecx_461;
				Mem467[esp_162 + 0x0C:word32] = ebx_462;
				Mem468[esp_162 + 0x00:word32] = eax_463;
				Mem469[esp_162 + 0x04:word32] = edx_464;
				Mem473[esp_162 + 0x04:word32] = convert_size2(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, rArg0, rArg1);
				Mem474[esp_162 + 0x00:word32] = 0x080CA93F;
				printf(Mem474[esp_162 + 0x00:(ptr char)], Mem474[esp_162 + 0x04:(ptr char)]);
			}
			if ((Mem395[135774876:word32] & 0x04) == 0x00)
			{
				Mem410[esp_162 + 0x04:word32] = ebp_163 - 0x30;
				Mem412[esp_162 + 0x00:word32] = ebp_163 - 0x28;
				showProgress(ebp_163, dwArg00, dwArg04, rArg1, rArg2);
				if (Mem412[0x0817C898:word32] != 0x00)
				{
					if (Mem412[135776404:word32] == 0x00 && (byte) ((word32) Mem412[0x080D5381:byte]) != 0x00)
					{
						Mem459[ebp_163 - 0x14 + 0x00:word32] = Mem412[0x0817C898:word32];
						Mem460[ebp_163 - 0x10 + 0x00:word32] = 0x0100;
					}
					Mem452[0x0817C898:word32] = 0x00;
				}
				Mem423[esp_162 + 0x10:word32] = Mem412[ebp_163 - 0x14 + 0x00:word32];
				Mem425[esp_162 + 0x0C:word32] = ebp_163 - 0x10;
				Mem426[esp_162 + 0x08:word32] = 0x02;
				Mem428[esp_162 + 0x04:word32] = Mem426[ebp_163 - 0x0C + 0x00:word32];
				Mem430[esp_162 + 0x00:word32] = Mem428[ebp_163 + 0x08:word32];
				Mem432[ebp_163 - 0x0C + 0x00:word32] = convertLine(ebp_163, dwArg04, dwArg0C, dwArg10);
				Mem435[0x0817C844:byte] = (byte) Mem432[ebp_163 - 0x10 + 0x00:word32];
				word32 eax_437 = Mem435[Mem435[ebp_163 - 0x0C + 0x00:word32] + 0x00:word32];
				Mem439[esp_162 + 0x08:word32] = Mem435[ebp_163 + 0x14:word32];
				Mem441[esp_162 + 0x04:word32] = ebp_163 - 0x60;
				Mem442[esp_162 + 0x00:word32] = eax_437;
				HTMLlineproc0(ebp_163, gs_175, dwArg04);
			}
		}
		if (Mem271[ebp_163 - 0x02B4 + 0x00:word32] != 0x00)
		{
			Mem363[ebp_163 - 0x02B4 + 0x00:word32] = 0x07;
			Mem365[esp_162 + 0x08:word32] = Mem363[ebp_163 + 0x14:word32];
			Mem367[esp_162 + 0x04:word32] = ebp_163 - 0x60;
			Mem368[esp_162 + 0x00:word32] = 0x080CA954;
			HTMLlineproc0(ebp_163, gs_175, dwArg04);
		}
		Mem283[ebp_163 - 0x02B4 + 0x00:word32] = 0x00;
		Mem285[esp_162 + 0x04:word32] = ebp_163 - 0x02F0;
		Mem287[esp_162 + 0x00:word32] = ebp_163 - 0x60;
		completeHTMLstream(ebp_163, gs_175, dwArg00, dwArg04);
		Mem289[esp_162 + 0x10:word32] = Mem287[ebp_163 - 0x50 + 0x00:word32];
		Mem290[esp_162 + 0x0C:word32] = 0x02;
		Mem291[esp_162 + 0x08:word32] = 0x00;
		Mem293[esp_162 + 0x04:word32] = ebp_163 - 0x02F0;
		Mem295[esp_162 + 0x00:word32] = ebp_163 - 0x60;
		flushline(ebp_163, gs_175, dwArg00, dwArg04, dwArg08, dwArg10);
		if (Mem295[ebp_163 - 0x38 + 0x00:word32] != 0x00)
			Mem362[Mem295[ebp_163 + 0x0C:word32] + 0x04:word32] = Mem295[ebp_163 - 0x38 + 0x00:word32];
		if ((Mem295[135774876:word32] & 0x10) != 0x00)
		{
			if ((byte) (word32) Mem295[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem295[135774799:byte] != 0x00)
					term_raw(gs_175);
				if (Mem295[ebp_163 - 0x1C + 0x00:word32] != 0x00)
				{
					Mem327[esp_162 + 0x04:word32] = Mem295[ebp_163 - 0x1C + 0x00:word32];
					Mem328[esp_162 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
			Mem316[esp_162 + 0x00:word32] = ebp_163 - 0x60;
			print_internal_information(ebp_163 - 0x60, ebp_163, dwArg00);
		}
		else
		{
			if (Mem295[135775120:word32] == 0x00)
			{
l0806EEB1:
				Mem191[Mem161[ebp_163 + 0x0C:word32] + 200:word32] = Mem161[ebp_163 - 0x30 + 0x00:word32] + Mem161[(ebp_163 - 0x28) + 0x00:word32];
				if ((byte) (word32) Mem191[0x080D52C5:byte] != 0x00)
				{
					if ((byte) (word32) Mem191[135774799:byte] != 0x00)
						term_raw(gs_175);
					if (Mem191[ebp_163 - 0x1C + 0x00:word32] != 0x00)
					{
						Mem228[esp_162 + 0x04:word32] = Mem191[ebp_163 - 0x1C + 0x00:word32];
						Mem229[esp_162 + 0x00:word32] = 0x02;
						mySignal(dwArg00, dwArg04);
					}
				}
				if (((int32) (word16) (word32) Mem191[Mem191[ebp_163 + 0x0C:word32] + 0x40:word16] & 0x02) == 0x00)
					Mem217[Mem191[ebp_163 + 0x0C:word32] + 0xD0:word32] = Mem191[ebp_163 - 0x10 + 0x00:word32];
				Mem210[Mem191[ebp_163 + 0x0C:word32] + 0xF5:byte] = (byte) Mem191[ebp_163 - 0x18 + 0x00:word32];
				Mem212[esp_162 + 0x04:word32] = Mem210[ebp_163 - 0x5C + 0x00:word32];
				Mem214[esp_162 + 0x00:word32] = Mem212[ebp_163 + 0x0C:word32];
				HTMLlineproc2(gs_175, dwArg00, dwArg04);
				return;
			}
			if ((byte) (word32) Mem295[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem295[135774799:byte] != 0x00)
					term_raw(gs_175);
				if (Mem295[ebp_163 - 0x1C + 0x00:word32] != 0x00)
				{
					Mem357[esp_162 + 0x04:word32] = Mem295[ebp_163 - 0x1C + 0x00:word32];
					Mem358[esp_162 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
			Mem344[esp_162 + 0x00:word32] = ebp_163 - 0x60;
			print_internal_information(ebp_163 - 0x60, ebp_163, dwArg00);
			Mem346[0x0818052C:word32] = Mem344[ebp_163 - 0x5C + 0x00:word32];
		}
	}
	else
	{
		Mem231[esp_162 + 0x08:word32] = 0x01;
		Mem233[esp_162 + 0x04:word32] = ebp_163 - 0x60;
		Mem234[esp_162 + 0x00:word32] = 135047457;
		HTMLlineproc0(ebp_163, gs_175, dwArg04);
		goto l0806EEB1;
	}
}

// 0806EF44: Register word32 loadHTMLString(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 loadHTMLString(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_14;
	word32 edx_9 = Mem0[0x081807A0:word32];
	if (Mem0[0x0817C2D8:word32] != 0x00)
		eax_14 = 0x06;
	else
		eax_14 = 0x01;
	word32 ecx_16 = edx_9 - eax_14;
	word32 eax_17 = ecx_16;
	if (ecx_16 < 0x00)
		eax_17 = 0x00;
	word32 eax_142;
	word32 eax_25 = newBuffer(eax_17, eax_17);
	word32 esp_29;
	word32 ebp_30;
	byte SCZO_31;
	word32 edx_32;
	word32 eax_33;
	byte SZO_34;
	byte C_35;
	byte Z_36;
	word32 ecx_37;
	byte S_38;
	byte al_39;
	selector gs_40;
	word32 ebx_41;
	!__sigsetjmp();
	if (eax_33 != 0x00)
	{
		if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[135774799:byte] != 0x00)
				term_raw(gs_40);
			if (0x00 != 0x00)
				mySignal(0x02, 0x00);
		}
		discardBuffer(ebp_30, gs_40, eax_25);
		eax_142 = 0x00;
	}
	else
	{
		if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
		{
			mySignal(0x02, 0x0805A9F4);
			if ((byte) (word32) Mem0[135774799:byte] != 0x00)
				term_cbreak(gs_40);
		}
		init_stream(fp - 0x34, 0x04, newStrStream(dwArg04, dwArg04));
		Mem105[eax_25 + 0xD0:word32] = Mem0[135091052:word32];
		loadHTMLstream(fp - 0x34, ebp_30, gs_40);
		Mem113[Mem105[ebp_30 - 0x10 + 0x00:word32] + 0xD0:word32] = 0x0100;
		if ((byte) (word32) Mem113[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem113[135774799:byte] != 0x00)
				term_raw(gs_40);
			if (Mem113[ebp_30 - 0x0C + 0x00:word32] != 0x00)
			{
				Mem160[esp_29 + 0x04:word32] = Mem113[ebp_30 - 0x0C + 0x00:word32];
				Mem161[esp_29 + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		Mem123[Mem113[ebp_30 - 0x10 + 0x00:word32] + 0x0C:word32] = Mem113[Mem113[ebp_30 - 0x10 + 0x00:word32] + 0x08:word32];
		Mem127[Mem123[ebp_30 - 0x10 + 0x00:word32] + 0x14:word32] = Mem123[Mem123[ebp_30 - 0x10 + 0x00:word32] + 0x10:word32];
		Mem131[Mem127[ebp_30 - 0x10 + 0x00:word32] + 0x10:word32] = Mem127[Mem127[ebp_30 - 0x10 + 0x00:word32] + 0x08:word32];
		Mem133[Mem131[ebp_30 - 0x10 + 0x00:word32] + 0x34:word32] = 0x080C9028;
		Mem137[Mem133[ebp_30 - 0x10 + 0x00:word32] + 0x38:word32] = Mem133[Mem133[ebp_30 - 0x10 + 0x00:word32] + 0x34:word32];
		if (Mem137[0x0817C888:word32] != 0x00)
		{
			Mem146[esp_29 + 0x04:word32] = Mem137[Mem137[ebp_30 - 0x10 + 0x00:word32] + 0x6C:word32];
			Mem148[esp_29 + 0x00:word32] = Mem146[ebp_30 - 0x10 + 0x00:word32];
			formResetBuffer(ebp_30, gs_40, dwArg00, dwArg04);
		}
		eax_142 = Mem137[ebp_30 - 0x10 + 0x00:word32];
	}
	return eax_142;
}

// 0806F10D: Register word32 loadGopherDir(Register word32 ebp, Register selector gs, Stack word32 dwArg08, Register out ptr32 bplOut)
word32 loadGopherDir(word32 ebp, selector gs, word32 dwArg08, ptr32 & bplOut)
{
	byte bpl_25;
	Mem27[fp - 0x20 + 0x00:word32] = parsedURL2Str(dwArg08, out bpl_25);
	Mem30[fp - 0x7C + 0x00:word32] = Mem27[Mem27[fp - 0x20 + 0x00:word32] + 0x00:word32];
	Mem33[fp - 0x38 + 0x00:word32] = html_quote(dwArg00);
	Mem36[fp - 0x7C + 0x00:word32] = Mem33[Mem33[fp - 0x20 + 0x00:word32] + 0x00:word32];
	word32 eax_37 = file_unquote(dwArg00);
	Mem38[fp - 0x7C + 0x00:word32] = eax_37;
	Strnew_charp(eax_37, dwArg00);
	Mem40[fp - 0x6C + 0x00:word32] = Mem38[fp - 0x44 + 0x00:word32];
	Mem42[fp - 0x70 + 0x00:word32] = Mem40[fp + 0x0C:word32];
	Mem43[fp - 116 + 0x00:word32] = 0x00;
	Mem44[fp - 0x78 + 0x00:word32] = eax_37;
	Mem45[fp - 0x7C + 0x00:word32] = 0x00;
	Mem50[fp - 0x20 + 0x00:word32] = convertLine(fp - 0x04, dwArg04, dwArg0C, dwArg10);
	Mem53[fp - 0x7C + 0x00:word32] = Mem50[Mem50[fp - 0x20 + 0x00:word32] + 0x00:word32];
	Mem55[fp - 0x3C + 0x00:word32] = html_quote(dwArg00);
	word32 ecx_56 = Mem55[fp - 0x3C + 0x00:word32];
	word32 edx_57 = Mem55[fp - 0x3C + 0x00:word32];
	word32 eax_58 = Mem55[fp - 0x38 + 0x00:word32];
	Mem59[fp - 0x60 + 0x00:word32] = 0x00;
	Mem60[fp - 100 + 0x00:word32] = 135047510;
	Mem61[fp - 0x68 + 0x00:word32] = ecx_56;
	Mem62[fp - 0x6C + 0x00:word32] = 0x080CA968;
	Mem63[fp - 0x70 + 0x00:word32] = edx_57;
	Mem64[fp - 116 + 0x00:word32] = 0x080CA98E;
	Mem65[fp - 0x78 + 0x00:word32] = eax_58;
	Mem66[fp - 0x7C + 0x00:word32] = 0x080CA999;
	Strnew_m_charp(eax_58, dwArg00);
	Mem67[fp - 0x20 + 0x00:word32] = eax_58;
	Mem68[fp - 0x78 + 0x00:word32] = 0x01;
	Mem69[fp - 0x7C + 0x00:word32] = 135775744;
	word32 esp_70;
	word32 ebp_71;
	word32 edi_72;
	word32 esi_73;
	word32 ebx_74;
	byte SCZO_75;
	word32 eax_76;
	word32 edx_77;
	word32 ecx_78;
	byte SZO_79;
	byte C_80;
	byte Z_81;
	byte al_82;
	selector gs_83;
	byte bpl_84;
	!__sigsetjmp();
	if (eax_76 == 0x00)
	{
		if ((byte) (word32) Mem69[0x080D52C5:byte] != 0x00)
		{
			Mem434[esp_70 + 0x04:word32] = 0x0805A9F4;
			Mem435[esp_70 + 0x00:word32] = 0x02;
			Mem437[ebp_71 - 0x3C + 0x00:word32] = mySignal(dwArg00, dwArg04);
			if ((byte) (word32) Mem437[135774799:byte] != 0x00)
				term_cbreak(gs_83);
		}
		while (true)
		{
			Mem146[esp_70 + 0x00:word32] = Mem69[Mem69[ebp_71 + 0x08:word32] + 0x04:word32];
			Mem148[ebp_71 - 0x20 + 0x00:word32] = StrISgets(dwArg00);
			if (Mem148[Mem148[ebp_71 - 0x20 + 0x00:word32] + 0x04:word32] == 0x00 || (byte) ((word32) Mem148[Mem148[Mem148[(ebp_71 - 0x20) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x2E && ((byte) ((word32) Mem148[Mem148[Mem148[(ebp_71 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x0A || (byte) ((word32) Mem148[Mem148[Mem148[(ebp_71 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x0D))
				break;
			Mem164[esp_70 + 0x10:word32] = Mem148[ebp_71 - 0x40 + 0x00:word32];
			Mem166[esp_70 + 0x0C:word32] = Mem164[ebp_71 + 0x10:word32];
			Mem167[esp_70 + 0x08:word32] = 0x02;
			Mem169[esp_70 + 0x04:word32] = Mem167[ebp_71 - 0x20 + 0x00:word32];
			Mem171[esp_70 + 0x00:word32] = Mem169[ebp_71 + 0x08:word32];
			Mem173[ebp_71 - 0x20 + 0x00:word32] = convertLine(ebp_71, dwArg04, dwArg0C, dwArg10);
			Mem176[ebp_71 - 0x34 + 0x00:word32] = Mem173[Mem173[ebp_71 - 0x20 + 0x00:word32] + 0x00:word32];
			Mem178[ebp_71 - 0x38 + 0x00:word32] = Mem176[ebp_71 - 0x34 + 0x00:word32];
			while ((byte) (word32) Mem178[Mem178[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem178[Mem178[(ebp_71 - 0x38) + 0x00:word32] + 0x00:byte]) != 0x09)
				Mem419[ebp_71 - 0x38 + 0x00:word32] = Mem178[ebp_71 - 0x38 + 0x00:word32] + 0x01;
			word32 eax_191 = Mem178[ebp_71 - 0x34 + 0x00:word32];
			Mem192[esp_70 + 0x04:word32] = Mem178[ebp_71 - 0x38 + 0x00:word32] - Mem178[(ebp_71 - 0x34) + 0x00:word32];
			Mem193[esp_70 + 0x00:word32] = eax_191;
			word32 edx_194;
			Mem196[ebp_71 - 0x24 + 0x00:word32] = Strnew_charp_n(eax_191, dwArg00, dwArg04, out edx_194);
			if ((byte) (word32) Mem196[Mem196[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] != 0x00)
			{
				Mem213[ebp_71 - 0x34 + 0x00:word32] = Mem196[ebp_71 - 0x38 + 0x00:word32] + 0x01;
				Mem215[ebp_71 - 0x38 + 0x00:word32] = Mem213[ebp_71 - 0x34 + 0x00:word32];
				while ((byte) (word32) Mem215[Mem215[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem215[Mem215[(ebp_71 - 0x38) + 0x00:word32] + 0x00:byte]) != 0x09)
					Mem410[ebp_71 - 0x38 + 0x00:word32] = Mem215[ebp_71 - 0x38 + 0x00:word32] + 0x01;
				word32 eax_228 = Mem215[ebp_71 - 0x34 + 0x00:word32];
				Mem229[esp_70 + 0x04:word32] = Mem215[ebp_71 - 0x38 + 0x00:word32] - Mem215[(ebp_71 - 0x34) + 0x00:word32];
				Mem230[esp_70 + 0x00:word32] = eax_228;
				word32 edx_231;
				Mem233[ebp_71 - 0x28 + 0x00:word32] = Strnew_charp_n(eax_228, dwArg00, dwArg04, out edx_231);
				if ((byte) (word32) Mem233[Mem233[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] == 0x00)
					goto l0806F549;
				Mem243[ebp_71 - 0x34 + 0x00:word32] = Mem233[ebp_71 - 0x38 + 0x00:word32] + 0x01;
				Mem245[ebp_71 - 0x38 + 0x00:word32] = Mem243[ebp_71 - 0x34 + 0x00:word32];
				while ((byte) (word32) Mem245[Mem245[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem245[Mem245[(ebp_71 - 0x38) + 0x00:word32] + 0x00:byte]) != 0x09)
					Mem401[ebp_71 - 0x38 + 0x00:word32] = Mem245[ebp_71 - 0x38 + 0x00:word32] + 0x01;
				word32 eax_258 = Mem245[ebp_71 - 0x34 + 0x00:word32];
				Mem259[esp_70 + 0x04:word32] = Mem245[ebp_71 - 0x38 + 0x00:word32] - Mem245[(ebp_71 - 0x34) + 0x00:word32];
				Mem260[esp_70 + 0x00:word32] = eax_258;
				word32 edx_261;
				Mem263[ebp_71 - 44 + 0x00:word32] = Strnew_charp_n(eax_258, dwArg00, dwArg04, out edx_261);
				if ((byte) (word32) Mem263[Mem263[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] == 0x00)
					goto l0806F549;
				Mem273[ebp_71 - 0x34 + 0x00:word32] = Mem263[ebp_71 - 0x38 + 0x00:word32] + 0x01;
				Mem275[ebp_71 - 0x38 + 0x00:word32] = Mem273[ebp_71 - 0x34 + 0x00:word32];
				while ((byte) (word32) Mem275[Mem275[ebp_71 - 0x38 + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem275[Mem275[(ebp_71 - 0x38) + 0x00:word32] + 0x00:byte]) != 0x09 && ((byte) ((word32) Mem275[Mem275[(ebp_71 - 0x38) + 0x00:word32] + 0x00:byte]) != 0x0D && (byte) ((word32) Mem275[Mem275[(ebp_71 - 0x38) + 0x00:word32] + 0x00:byte]) != 0x0A)))
					Mem392[ebp_71 - 0x38 + 0x00:word32] = Mem275[ebp_71 - 0x38 + 0x00:word32] + 0x01;
				word32 eax_288 = Mem275[ebp_71 - 0x34 + 0x00:word32];
				Mem289[esp_70 + 0x04:word32] = Mem275[ebp_71 - 0x38 + 0x00:word32] - Mem275[(ebp_71 - 0x34) + 0x00:word32];
				Mem290[esp_70 + 0x00:word32] = eax_288;
				word32 edx_291;
				Mem293[ebp_71 - 0x30 + 0x00:word32] = Strnew_charp_n(eax_288, dwArg00, dwArg04, out edx_291);
				word32 eax_298 = (int32) (byte) (word32) Mem293[Mem293[Mem293[ebp_71 - 0x24 + 0x00:word32] + 0x00:word32] + 0x00:byte];
				if (eax_298 == 0x67)
				{
					Mem373[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9DE;
					goto l0806F476;
				}
				if (eax_298 <= 0x67)
				{
					if (eax_298 != 0x30)
					{
						if (eax_298 != 0x31)
							goto l0806F46F;
						Mem362[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9C0;
					}
					else
						Mem363[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9B4;
				}
				else if (eax_298 != 0x6D)
				{
					if (eax_298 != 115)
					{
						if (eax_298 != 0x68)
						{
l0806F46F:
							Mem357[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9EB;
						}
						else
							Mem370[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9E4;
					}
					else
						Mem371[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9D6;
				}
				else
					Mem372[ebp_71 - 0x34 + 0x00:word32] = 0x080CA9CC;
l0806F476:
				word32 ecx_305 = Mem293[Mem293[ebp_71 - 0x28 + 0x00:word32] + 0x00:word32];
				word32 edx_307 = Mem293[Mem293[ebp_71 - 0x30 + 0x00:word32] + 0x00:word32];
				word32 eax_309 = Mem293[Mem293[ebp_71 - 44 + 0x00:word32] + 0x00:word32];
				Mem310[esp_70 + 0x18:word32] = 0x00;
				Mem311[esp_70 + 0x14:word32] = ecx_305;
				Mem312[esp_70 + 0x10:word32] = 0x080CA9F9;
				Mem313[esp_70 + 0x0C:word32] = edx_307;
				Mem314[esp_70 + 0x08:word32] = 0x080CA9FB;
				Mem315[esp_70 + 0x04:word32] = eax_309;
				Mem316[esp_70 + 0x00:word32] = 135047677;
				Strnew_m_charp(eax_309, dwArg00);
				Mem318[ebp_71 - 0x38 + 0x00:word32] = Mem316[eax_309 + 0x00:word32];
				Mem323[esp_70 + 0x00:word32] = Mem318[Mem318[ebp_71 - 0x24 + 0x00:word32] + 0x00:word32] + 0x01;
				html_quote(dwArg00);
				word32 esi_326 = Mem323[ebp_71 - 0x34 + 0x00:word32];
				Mem329[ebp_71 - 0x4C + 0x00:word32] = Mem323[Mem323[ebp_71 + 0x10:word32] + 0x00:word32];
				word32 edi_330 = Mem329[135091052:word32];
				word32 eax_331 = Mem329[ebp_71 - 0x38 + 0x00:word32];
				Mem332[esp_70 + 0x00:word32] = eax_331;
				Strnew_charp(eax_331, dwArg00);
				Mem334[esp_70 + 0x08:word32] = Mem332[ebp_71 - 0x4C + 0x00:word32];
				Mem335[esp_70 + 0x04:word32] = edi_330;
				Mem336[esp_70 + 0x00:word32] = eax_331;
				word32 ebx_337;
				Mem340[esp_70 + 0x00:word32] = Mem336[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_337) + 0x00:word32];
				Mem342[esp_70 + 0x00:word32] = url_quote(dwArg00);
				word32 eax_343 = html_quote(dwArg00);
				word32 edx_344 = Mem342[ebp_71 - 0x1C + 0x00:word32];
				Mem345[esp_70 + 0x1C:word32] = 0x00;
				Mem346[esp_70 + 0x18:word32] = 0x080CAA07;
				Mem347[esp_70 + 0x14:word32] = ebx_337;
				Mem348[esp_70 + 0x10:word32] = esi_326;
				Mem349[esp_70 + 0x0C:word32] = 0x080C9BBB;
				Mem350[esp_70 + 0x08:word32] = eax_343;
				Mem351[esp_70 + 0x04:word32] = 0x080CAA0D;
				Mem352[esp_70 + 0x00:word32] = edx_344;
				Strcat_m_charp(dwArg00);
				continue;
			}
l0806F549:
		}
	}
	if ((byte) (word32) Mem69[0x080D52C5:byte] != 0x00)
	{
		if ((byte) (word32) Mem69[135774799:byte] != 0x00)
			term_raw(gs_83);
		if (Mem69[ebp_71 - 0x3C + 0x00:word32] != 0x00)
		{
			Mem129[esp_70 + 0x04:word32] = Mem69[ebp_71 - 0x3C + 0x00:word32];
			Mem130[esp_70 + 0x00:word32] = 0x02;
			mySignal(dwArg00, dwArg04);
		}
	}
	word32 eax_102 = Mem69[ebp_71 - 0x1C + 0x00:word32];
	Mem103[esp_70 + 0x04:word32] = 0x080CAA17;
	Mem104[esp_70 + 0x00:word32] = eax_102;
	Strcat_charp(dwArg00, dwArg04);
	byte bpl_116;
	*bplOut = (byte) Mem104[esp_70 + 0x78:word32];
	return Mem104[ebp_71 - 0x1C + 0x00:word32];
}

// 0806F5A5: void loadBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void loadBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_31 = dwArg08;
	if (dwArg08 == 0x00)
	{
		word32 eax_482;
		word32 edx_476 = Mem0[0x081807A0:word32];
		if (Mem0[0x0817C2D8:word32] != 0x00)
			eax_482 = 0x06;
		else
			eax_482 = 0x01;
		word32 ecx_484 = edx_476 - eax_482;
		word32 eax_485 = ecx_484;
		if (ecx_484 < 0x00)
			eax_485 = 0x00;
		eax_31 = newBuffer(eax_485, eax_485);
		dwArg08 = eax_31;
	}
	Strnew(eax_31);
	word32 esp_44;
	word32 ebp_45;
	word32 edi_46;
	word32 esi_47;
	word32 ebx_48;
	byte SCZO_49;
	word32 eax_50;
	byte SZO_51;
	byte C_52;
	byte Z_53;
	word32 edx_54;
	byte al_55;
	word32 ecx_56;
	byte S_57;
	selector gs_58;
	byte bpl_59;
	!__sigsetjmp();
	if (eax_50 == 0x00)
	{
		if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
		{
			mySignal(0x02, 0x0805A9F4);
			if ((byte) (word32) Mem0[135774799:byte] != 0x00)
				term_cbreak(gs_58);
		}
		if (Mem0[dwArg08 + 0xB8:word32] == 0x00 && ((byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x04 || Mem0[dwArg08 + 232:word32] != 0x00))
		{
			byte bpl_444;
			Mem446[ebp_45 - 0x34 + 0x00:word32] = tmpfname(ebp_45, 0x01, 0x00, out bpl_444);
			word32 eax_449 = Mem446[Mem446[ebp_45 - 0x34 + 0x00:word32] + 0x00:word32];
			Mem450[esp_44 + 0x04:word32] = 0x080C9070;
			Mem451[esp_44 + 0x00:word32] = eax_449;
			Mem453[ebp_45 - 0x20 + 0x00:word32] = fopen(Mem451[esp_44 + 0x00:(ptr char)], Mem451[esp_44 + 0x04:(ptr char)]);
			if (Mem453[ebp_45 - 0x20 + 0x00:word32] != 0x00)
				Mem461[Mem453[ebp_45 + 0x0C:word32] + 0xB8:word32] = Mem453[Mem453[ebp_45 - 0x34 + 0x00:word32] + 0x00:word32];
		}
		if (Mem0[Mem0[ebp_45 + 0x0C:word32] + 0xD0:word32] != 0x00)
		{
			Mem434[ebp_45 - 0x28 + 0x00:word32] = Mem0[Mem0[ebp_45 + 0x0C:word32] + 0xD0:word32];
			Mem436[ebp_45 - 0x24 + 0x00:word32] = Mem434[ebp_45 - 0x28 + 0x00:word32];
		}
		if (Mem0[135776404:word32] != 0x00 && (byte) ((word32) Mem0[0x080D5381:byte]) != 0x00)
			Mem431[ebp_45 - 0x28 + 0x00:word32] = Mem0[135776404:word32];
		Mem169[ebp_45 - 0x30 + 0x00:word32] = 0x00;
		if ((byte) (word32) Mem169[Mem169[Mem169[ebp_45 + 0x08:word32] + 0x04:word32] + 0x14:byte] != 0x04)
		{
			word32 eax_418 = Mem169[Mem169[ebp_45 + 0x08:word32] + 0x04:word32];
			Mem419[esp_44 + 0x04:word32] = (int32) (byte) (word32) Mem169[Mem169[ebp_45 + 0x08:word32] + 0x02:byte];
			Mem420[esp_44 + 0x00:word32] = eax_418;
			Mem423[Mem420[ebp_45 + 0x08:word32] + 0x04:word32] = newEncodedStream(dwArg00, dwArg04);
		}
		while (true)
		{
			Mem188[esp_44 + 0x00:word32] = Mem169[Mem169[ebp_45 + 0x08:word32] + 0x04:word32];
			Mem190[ebp_45 - 44 + 0x00:word32] = StrmyISgets(dwArg00);
			if (Mem190[Mem190[ebp_45 - 44 + 0x00:word32] + 0x04:word32] == 0x00)
				break;
			if ((byte) (word32) Mem190[Mem190[ebp_45 + 0x08:word32] + 0x00:byte] == 0x09 && (byte) ((word32) Mem190[Mem190[Mem190[(ebp_45 - 44) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x2E)
			{
				Mem390[esp_44 + 0x08:word32] = 0x01;
				Mem391[esp_44 + 0x04:word32] = 0x00;
				Mem393[esp_44 + 0x00:word32] = Mem391[ebp_45 - 44 + 0x00:word32];
				Strdelete(dwArg00, dwArg04, dwArg08);
				if ((byte) (word32) Mem393[Mem393[Mem393[ebp_45 - 44 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x0A || ((byte) ((word32) Mem393[Mem393[Mem393[(ebp_45 - 44) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x0D || (byte) ((word32) Mem393[Mem393[Mem393[(ebp_45 - 44) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x00))
					break;
			}
			if (Mem190[ebp_45 - 0x20 + 0x00:word32] != 0x00)
			{
				word32 eax_375 = Mem190[Mem190[ebp_45 - 44 + 0x00:word32] + 0x04:word32];
				word32 eax_378 = Mem190[Mem190[ebp_45 - 44 + 0x00:word32] + 0x00:word32];
				Mem379[esp_44 + 0x0C:word32] = Mem190[ebp_45 - 0x20 + 0x00:word32];
				Mem380[esp_44 + 0x08:word32] = eax_375;
				Mem381[esp_44 + 0x04:word32] = 0x01;
				Mem382[esp_44 + 0x00:word32] = eax_378;
				fwrite(Mem382[esp_44 + 0x00:(ptr void)], Mem382[esp_44 + 0x04:size_t], Mem382[esp_44 + 0x08:size_t], Mem382[esp_44 + 0x0C:(ptr FILE)]);
			}
			word32 eax_208 = Mem190[Mem190[ebp_45 - 44 + 0x00:word32] + 0x04:word32];
			ui64 edx_eax_218 = SEQ(Mem190[ebp_45 - 0x44 + 0x00:word32], Mem190[ebp_45 - 0x48 + 0x00:word32] + eax_208) + SEQ(eax_208 >> 0x1F, eax_208);
			Mem221[ebp_45 - 0x48 + 0x00:word32] = (word32) edx_eax_218;
			Mem222[ebp_45 - 0x44 + 0x00:word32] = SLICE(edx_eax_218, word32, 32);
			if ((Mem222[135774876:word32] & 0x08) != 0x00)
			{
				word32 ecx_358 = Mem222[0x0817C8B0:word32];
				word32 ebx_359 = Mem222[135776436:word32];
				word32 eax_360 = Mem222[ebp_45 - 0x48 + 0x00:word32];
				word32 edx_361 = Mem222[ebp_45 - 0x44 + 0x00:word32];
				Mem362[esp_44 + 0x10:word32] = 0x01;
				Mem363[esp_44 + 0x08:word32] = ecx_358;
				Mem364[esp_44 + 0x0C:word32] = ebx_359;
				Mem365[esp_44 + 0x00:word32] = eax_360;
				Mem366[esp_44 + 0x04:word32] = edx_361;
				Mem370[esp_44 + 0x04:word32] = convert_size2(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, rArg0, rArg1);
				Mem371[esp_44 + 0x00:word32] = 0x080CA93F;
				printf(Mem371[esp_44 + 0x00:(ptr char)], Mem371[esp_44 + 0x04:(ptr char)]);
			}
			if ((Mem222[135774876:word32] & 0x04) != 0x00)
				continue;
			Mem237[esp_44 + 0x04:word32] = ebp_45 - 0x50;
			Mem239[esp_44 + 0x00:word32] = ebp_45 - 0x48;
			showProgress(ebp_45, dwArg00, dwArg04, rArg1, rArg2);
			if (Mem239[135775720:word32] != 0x00)
				continue;
			Mem247[esp_44 + 0x10:word32] = Mem239[ebp_45 - 0x28 + 0x00:word32];
			Mem249[esp_44 + 0x0C:word32] = ebp_45 - 0x24;
			Mem250[esp_44 + 0x08:word32] = 0x01;
			Mem252[esp_44 + 0x04:word32] = Mem250[ebp_45 - 44 + 0x00:word32];
			Mem254[esp_44 + 0x00:word32] = Mem252[ebp_45 + 0x08:word32];
			Mem258[ebp_45 - 44 + 0x00:word32] = convertLine(ebp_45, dwArg04, dwArg0C, dwArg10);
			if (Mem258[135775000:word32] == 0x00)
			{
l0806F8F3:
				word32 eax_286;
				Mem265[ebp_45 - 0x30 + 0x00:word32] = Mem258[ebp_45 - 0x30 + 0x00:word32] + 0x01;
				Mem268[esp_44 + 0x00:word32] = Mem265[ebp_45 - 44 + 0x00:word32];
				Strchop(dwArg00);
				Mem269[esp_44 + 0x08:word32] = 0x00;
				Mem271[esp_44 + 0x04:word32] = ebp_45 - 0x38;
				Mem273[esp_44 + 0x00:word32] = Mem271[ebp_45 - 44 + 0x00:word32];
				Mem275[ebp_45 - 44 + 0x00:word32] = checkType(dwArg00, dwArg04, dwArg08);
				if (Mem275[0x0817C330:word32] != 0x00)
				{
					word32 eax_311;
					word32 edx_305 = Mem275[0x081807A0:word32];
					if (Mem275[0x0817C2D8:word32] != 0x00)
						eax_311 = 0x06;
					else
						eax_311 = 0x01;
					word32 ecx_313 = edx_305 - eax_311;
					word32 eax_314 = ecx_313;
					if (ecx_313 < 0x00)
						eax_314 = 0x00;
					eax_286 = eax_314 + 0x01;
				}
				else
					eax_286 = ~0x00;
				word32 esi_289 = Mem275[Mem275[ebp_45 - 44 + 0x00:word32] + 0x04:word32];
				word32 ebx_290 = Mem275[ebp_45 - 0x38 + 0x00:word32];
				word32 ecx_292 = Mem275[Mem275[ebp_45 - 44 + 0x00:word32] + 0x00:word32];
				word32 edx_293 = Mem275[ebp_45 + 0x0C:word32];
				Mem295[esp_44 + 0x18:word32] = Mem275[ebp_45 - 0x30 + 0x00:word32];
				Mem296[esp_44 + 0x14:word32] = eax_286;
				Mem297[esp_44 + 0x10:word32] = esi_289;
				Mem299[esp_44 + 0x0C:word32] = Mem297[ebp_45 - 0x3C + 0x00:word32];
				Mem300[esp_44 + 0x08:word32] = ebx_290;
				Mem301[esp_44 + 0x04:word32] = ecx_292;
				Mem302[esp_44 + 0x00:word32] = edx_293;
				addnewline(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
				continue;
			}
			if ((byte) (word32) Mem258[Mem258[Mem258[ebp_45 - 44 + 0x00:word32] + 0x00:word32] + 0x00:byte] != 0x0A || (byte) ((word32) Mem258[(ebp_45 - 0x19) + 0x00:byte]) != 0x0A)
			{
				Mem350[ebp_45 - 0x19 + 0x00:byte] = (byte) (word32) Mem258[Mem258[Mem258[ebp_45 - 44 + 0x00:word32] + 0x00:word32] + 0x00:byte];
				goto l0806F8F3;
			}
			Mem356[ebp_45 - 0x30 + 0x00:word32] = Mem258[ebp_45 - 0x30 + 0x00:word32] + 0x01;
		}
	}
	if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[135774799:byte] != 0x00)
			term_raw(gs_58);
		if (Mem0[ebp_45 - 0x40 + 0x00:word32] != 0x00)
		{
			Mem133[esp_44 + 0x04:word32] = Mem0[ebp_45 - 0x40 + 0x00:word32];
			Mem134[esp_44 + 0x00:word32] = 0x02;
			mySignal(dwArg00, dwArg04);
		}
	}
	Mem85[Mem0[ebp_45 + 0x0C:word32] + 0x0C:word32] = Mem0[Mem0[ebp_45 + 0x0C:word32] + 0x08:word32];
	Mem89[Mem85[ebp_45 + 0x0C:word32] + 0x14:word32] = Mem85[Mem85[ebp_45 + 0x0C:word32] + 0x10:word32];
	Mem93[Mem89[ebp_45 + 0x0C:word32] + 0x10:word32] = Mem89[Mem89[ebp_45 + 0x0C:word32] + 0x08:word32];
	Mem101[Mem93[ebp_45 + 0x0C:word32] + 200:word32] = Mem93[ebp_45 - 0x50 + 0x00:word32] + Mem93[(ebp_45 - 0x48) + 0x00:word32];
	Mem104[Mem101[ebp_45 + 0x0C:word32] + 0xD0:word32] = Mem101[ebp_45 - 0x24 + 0x00:word32];
	if (Mem104[ebp_45 - 0x20 + 0x00:word32] != 0x00)
	{
		Mem121[esp_44 + 0x00:word32] = Mem104[ebp_45 - 0x20 + 0x00:word32];
		fclose(Mem121[esp_44 + 0x00:(ptr FILE)]);
	}
}

// 0806FA5B: Register word32 loadImageBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
word32 loadImageBuffer(word32 ebp, selector gs, word32 dwArg08)
{
	word32 eax_137;
	loadImage(fp - 0x04, gs);
	Mem20[fp - 100 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x18:word32];
	Mem23[fp - 0x60 + 0x00:word32] = Mem20[Mem20[fp + 0x04:word32] + 0x08:word32];
	Mem24[fp - 0x5C + 0x00:word16] = ~0x00;
	Mem25[fp - 0x5A + 0x00:word16] = ~0x00;
	Mem26[fp - 0x44 + 0x00:word32] = 0x00;
	word32 eax_27 = Mem26[0x0817C840:word32];
	Mem28[fp - 228 + 0x00:word32] = 0x02;
	Mem29[fp - 232 + 0x00:word32] = eax_27;
	Mem31[fp - 0xEC + 0x00:word32] = fp - 100;
	word32 ebx_33;
	byte bpl_34;
	Mem36[fp - 0x10 + 0x00:word32] = getImage(fp - 0x04, dwArg00, out ebx_33, out bpl_34);
	if (Mem36[Mem36[0x0817C840:word32] + 0x24:word32] == 0x00 && (byte) ((int32) ((byte) ((word32) Mem36[Mem36[(fp - 0x10) + 0x00:word32] + 0x14:byte])) & 0x01) != 0x00)
	{
		word32 eax_324 = Mem36[Mem36[fp - 0x10 + 0x00:word32] + 0x08:word32];
		Mem326[fp - 232 + 0x00:word32] = fp - 188;
		Mem327[fp - 0xEC + 0x00:word32] = eax_324;
		if (stat(dwArg00, dwArg04) == 0x00)
			goto l0806FC84;
	}
	if ((byte) (word32) Mem36[0x080D52C5:byte] != 0x00)
	{
		Mem305[fp - 232 + 0x00:word32] = 0x0805A9F4;
		Mem306[fp - 0xEC + 0x00:word32] = 0x02;
		Mem308[fp - 0x20 + 0x00:word32] = mySignal(dwArg00, dwArg04);
		if ((byte) (word32) Mem308[135774799:byte] != 0x00)
			term_cbreak(gs);
	}
	if ((byte) (word32) Mem36[Mem36[Mem36[fp + 0x04:word32] + 0x04:word32] + 0x14:byte] != 0x04)
	{
		word32 eax_299 = Mem36[Mem36[fp + 0x04:word32] + 0x04:word32];
		Mem300[fp - 232 + 0x00:word32] = (int32) (byte) (word32) Mem36[Mem36[fp + 0x04:word32] + 0x02:byte];
		Mem301[fp - 0xEC + 0x00:word32] = eax_299;
		Mem304[Mem301[fp + 0x04:word32] + 0x04:word32] = newEncodedStream(dwArg00, dwArg04);
	}
	Mem194[fp - 0xCC + 0x00:word32] = Mem36[Mem36[fp - 0x10 + 0x00:word32] + 0x08:word32];
	word32 eax_195 = Mem194[fp + 0x04:word32];
	Mem197[fp - 0xEC + 0x00:word32] = Mem194[eax_195 + 0x00:word32];
	Mem199[fp - 232 + 0x00:word32] = Mem197[eax_195 + 0x04:word32];
	Mem201[fp - 228 + 0x00:word32] = Mem199[eax_195 + 0x08:word32];
	Mem203[fp - 0xE0 + 0x00:word32] = Mem201[eax_195 + 0x0C:word32];
	Mem205[fp - 220 + 0x00:word32] = Mem203[eax_195 + 0x10:word32];
	Mem207[fp - 0xD8 + 0x00:word32] = Mem205[eax_195 + 0x14:word32];
	Mem209[fp - 212 + 0x00:word32] = Mem207[eax_195 + 0x18:word32];
	Mem211[fp - 0xD0 + 0x00:word32] = Mem209[eax_195 + 0x1C:word32];
	if (save2tmp(bpl_34, gs, bArg00, dwArg20) < 0x00)
	{
		Mem220[fp - 0xEC + 0x00:word32] = Mem211[Mem211[fp + 0x04:word32] + 0x04:word32];
		if (ISclose(dwArg00) == 0x00)
			Mem250[Mem220[fp + 0x04:word32] + 0x04:word32] = 0x00;
		if ((byte) (word32) Mem220[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem220[135774799:byte] != 0x00)
				term_raw(gs);
			if (Mem220[fp - 0x20 + 0x00:word32] != 0x00)
			{
				Mem246[fp - 232 + 0x00:word32] = Mem220[fp - 0x20 + 0x00:word32];
				Mem247[fp - 0xEC + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		eax_137 = 0x00;
		return eax_137;
	}
	Mem257[fp - 0xEC + 0x00:word32] = Mem211[Mem211[fp + 0x04:word32] + 0x04:word32];
	if (ISclose(dwArg00) == 0x00)
		Mem289[Mem257[fp + 0x04:word32] + 0x04:word32] = 0x00;
	if ((byte) (word32) Mem257[0x080D52C5:byte] != 0x00)
	{
		if ((byte) (word32) Mem257[135774799:byte] != 0x00)
			term_raw(gs);
		if (Mem257[fp - 0x20 + 0x00:word32] != 0x00)
		{
			Mem285[fp - 232 + 0x00:word32] = Mem257[fp - 0x20 + 0x00:word32];
			Mem286[fp - 0xEC + 0x00:word32] = 0x02;
			mySignal(dwArg00, dwArg04);
		}
	}
	Mem272[Mem257[fp - 0x10 + 0x00:word32] + 0x14:byte] = 0x01;
	Mem274[Mem272[fp - 0x10 + 0x00:word32] + 0x18:word32] = 0x00;
l0806FC84:
	if (Mem36[fp + 0x08:word32] == 0x00)
	{
		word32 eax_157;
		word32 edx_151 = Mem36[0x081807A0:word32];
		if (Mem36[0x0817C2D8:word32] != 0x00)
			eax_157 = 0x06;
		else
			eax_157 = 0x01;
		word32 ecx_159 = edx_151 - eax_157;
		word32 eax_160 = ecx_159;
		if (ecx_159 < 0x00)
			eax_160 = 0x00;
		Mem168[fp - 0xEC + 0x00:word32] = eax_160;
		Mem170[fp + 0x08:word32] = newBuffer(eax_160, dwArg00);
	}
	Mem75[Mem36[fp - 0x10 + 0x00:word32] + 0x14:byte] = (byte) ((word32) Mem36[Mem36[fp - 0x10 + 0x00:word32] + 0x14:byte] | 0x04);
	if (Mem75[Mem75[fp + 0x08:word32] + 0xB8:word32] == 0x00 && (byte) ((word32) Mem75[Mem75[fp + 0x04:word32] + 0x00:byte]) != 0x04)
		Mem150[Mem75[fp + 0x08:word32] + 0xB8:word32] = Mem75[Mem75[fp - 0x10 + 0x00:word32] + 0x08:word32];
	Mem83[fp - 0xEC + 0x00:word32] = Mem75[fp - 100 + 0x00:word32];
	Mem85[fp - 232 + 0x00:word32] = html_quote(dwArg00);
	Mem86[fp - 0xEC + 0x00:word32] = 0x080CAA31;
	byte bpl_87;
	Mem89[fp - 0x14 + 0x00:word32] = Sprintf(dwArg00, out bpl_87);
	Mem90[fp - 232 + 0x00:word32] = 0x080C9828;
	Mem91[fp - 0xEC + 0x00:word32] = 0x01;
	byte bpl_93;
	Mem95[fp - 0x18 + 0x00:word32] = tmpfname(fp - 0x04, dwArg00, dwArg04, out bpl_93);
	word32 eax_98 = Mem95[Mem95[fp - 0x18 + 0x00:word32] + 0x00:word32];
	Mem99[fp - 232 + 0x00:word32] = 0x080C9070;
	Mem100[fp - 0xEC + 0x00:word32] = eax_98;
	Mem102[fp - 0x1C + 0x00:word32] = fopen(Mem100[fp - 0xEC + 0x00:(ptr char)], Mem100[fp - 232 + 0x00:(ptr char)]);
	Mem106[Mem102[fp + 0x08:word32] + 0xEC:word32] = Mem102[Mem102[fp - 0x18 + 0x00:word32] + 0x00:word32];
	word32 eax_107 = Mem106[fp - 0x14 + 0x00:word32];
	Mem108[fp - 0xEC + 0x00:word32] = eax_107;
	Mem110[fp - 228 + 0x00:word32] = newStrStream(eax_107, dwArg00);
	Mem111[fp - 232 + 0x00:word32] = 0x04;
	Mem113[fp - 0xEC + 0x00:word32] = fp - 0x40;
	init_stream(dwArg00, dwArg04, dwArg08);
	Mem114[fp - 0xE0 + 0x00:word32] = 0x01;
	Mem116[fp - 228 + 0x00:word32] = Mem114[fp - 0x1C + 0x00:word32];
	Mem118[fp - 232 + 0x00:word32] = Mem116[fp + 0x08:word32];
	Mem120[fp - 0xEC + 0x00:word32] = fp - 0x40;
	loadHTMLstream(fp - 0x40, fp - 0x04, gs);
	if (Mem120[fp - 0x1C + 0x00:word32] != 0x00)
	{
		Mem140[fp - 0xEC + 0x00:word32] = Mem120[fp - 0x1C + 0x00:word32];
		fclose(Mem140[fp - 0xEC + 0x00:(ptr FILE)]);
	}
	Mem126[Mem120[fp + 0x08:word32] + 0x0C:word32] = Mem120[Mem120[fp + 0x08:word32] + 0x08:word32];
	Mem130[Mem126[fp + 0x08:word32] + 0x14:word32] = Mem126[Mem126[fp + 0x08:word32] + 0x10:word32];
	Mem134[Mem130[fp + 0x08:word32] + 0x10:word32] = Mem130[Mem130[fp + 0x08:word32] + 0x08:word32];
	Mem136[Mem134[fp + 0x08:word32] + 0xF5:byte] = 0x02;
	eax_137 = Mem136[fp + 0x08:word32];
	return eax_137;
}

// 0806FDDB: Register word32 conv_symbol(Register word32 ebp, Stack word32 dwArg04)
word32 conv_symbol(word32 ebp, word32 dwArg04)
{
	while (Mem0[fp - 0x18 + 0x00:word32] <u Mem0[(fp - 0x1C) + 0x00:word32])
	{
		if ((word16) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:word16] < 0x00)
		{
			Mem88[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
			Mem93[fp - 0x0D + 0x00:byte] = (byte) ((wtf_get_code() & 0x7F) - 0x20);
			Mem101[fp - 44 + 0x00:word32] = (word32) (byte) (word32) Mem93[(word32) (byte) (word32) Mem93[Mem93[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x08179AE0:byte];
			if (Mem101[fp - 0x14 + 0x00:word32] == 0x00)
			{
				word32 eax_153;
				word32 eax_129 = Mem101[Mem101[fp + 0x04:word32] + 0x14:word32];
				Mem130[fp - 0x3C + 0x00:word32] = eax_129;
				Strnew_size(eax_129, dwArg00);
				Mem132[fp - 0x14 + 0x00:word32] = eax_129;
				word32 eax_139 = Mem132[Mem132[fp + 0x04:word32] + 0x00:word32];
				Mem140[fp - 0x34 + 0x00:word32] = Mem132[fp - 0x18 + 0x00:word32] - Mem132[Mem132[fp + 0x04:word32] + 0x00:word32];
				Mem141[fp - 0x38 + 0x00:word32] = eax_139;
				Mem143[fp - 0x3C + 0x00:word32] = Mem141[fp - 0x14 + 0x00:word32];
				Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
				if (((word32) (word16) (word32) Mem143[Mem143[fp - 0x20 + 0x00:word32] + 0x00:word16] & 0x0800) != 0x00)
					eax_153 = 0x02;
				else
					eax_153 = 0x01;
				Mem156[fp - 0x24 + 0x00:word32] = eax_153;
				word32 eax_157 = Mem156[0x080D5370:word32];
				Mem159[fp - 0x38 + 0x00:word32] = fp - 0x24;
				Mem160[fp - 0x3C + 0x00:word32] = eax_157;
				Mem162[fp - 0x28 + 0x00:word32] = get_symbol(dwArg00, dwArg04);
			}
			Mem115[fp - 0x38 + 0x00:word32] = Mem101[fp - 0x28 + 0x00:word32][(int32) Mem101[fp - 0x0D + 0x00:byte] * 0x04];
			Mem117[fp - 0x3C + 0x00:word32] = Mem115[fp - 0x14 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem121[fp - 0x18 + 0x00:word32] = Mem117[fp - 0x18 + 0x00:word32] + (Mem117[(fp - 44) + 0x00:word32] - 0x01);
			Mem126[fp - 0x20 + 0x00:word32] = Mem121[fp - 0x20 + 0x00:word32] + (Mem121[(fp - 44) + 0x00:word32] - 0x01) * 0x02;
		}
		else if (Mem0[fp - 0x14 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x14) + 0x00:word32] + 0x08:word32])
			{
				Mem199[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_181 = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32];
			Mem188[Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32] + eax_181:byte] = (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte];
			Mem191[Mem188[fp - 0x14 + 0x00:word32] + 0x04:word32] = eax_181 + 0x01;
			Mem197[Mem191[Mem191[fp - 0x14 + 0x00:word32] + 0x00:word32] + Mem191[Mem191[(fp - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		}
		Mem83[fp - 0x18 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32] + 0x01;
		Mem85[fp - 0x20 + 0x00:word32] = Mem83[fp - 0x20 + 0x00:word32] + 0x02;
	}
	word32 eax_46;
	if (Mem0[fp - 0x14 + 0x00:word32] != 0x00)
		eax_46 = Mem0[fp - 0x14 + 0x00:word32];
	else
	{
		word32 eax_58 = Mem0[Mem0[fp + 0x04:word32] + 0x00:word32];
		Mem59[fp - 0x38 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
		Mem60[fp - 0x3C + 0x00:word32] = eax_58;
		word32 edx_62;
		eax_46 = Strnew_charp_n(eax_58, dwArg00, dwArg04, out edx_62);
	}
	return eax_46;
}

// 0806FF79: void _saveBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void _saveBuffer(word32 ebp, selector gs, word32 dwArg04)
{
	is_html_type(Mem0[dwArg04 + 0x34:word32]);
	while (true)
	{
		while (Mem0[fp + 0x08:word32] != 0x00)
		{
			if (Mem0[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem146[fp - 44 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem148[fp - 0x10 + 0x00:word32] = conv_symbol(fp - 0x04, dwArg00);
			}
			else
			{
				word32 eax_152 = Mem0[Mem0[fp + 0x08:word32] + 0x00:word32];
				Mem153[fp - 0x28 + 0x00:word32] = Mem0[Mem0[fp + 0x08:word32] + 0x14:word32];
				Mem154[fp - 44 + 0x00:word32] = eax_152;
				word32 edx_155;
				Mem157[fp - 0x10 + 0x00:word32] = Strnew_charp_n(eax_152, dwArg00, dwArg04, out edx_155);
			}
			word32 eax_78 = Mem0[135091052:word32];
			Mem80[fp - 0x24 + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32];
			Mem81[fp - 0x28 + 0x00:word32] = eax_78;
			Mem83[fp - 44 + 0x00:word32] = Mem81[fp - 0x10 + 0x00:word32];
			word32 ebx_85;
			Mem87[fp - 0x10 + 0x00:word32] = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_85);
			word32 eax_89 = Mem87[Mem87[fp - 0x10 + 0x00:word32] + 0x04:word32];
			word32 eax_92 = Mem87[Mem87[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem94[fp - 0x20 + 0x00:word32] = Mem87[fp + 0x0C:word32];
			Mem95[fp - 0x24 + 0x00:word32] = eax_89;
			Mem96[fp - 0x28 + 0x00:word32] = 0x01;
			Mem97[fp - 44 + 0x00:word32] = eax_92;
			fwrite(Mem97[fp - 44 + 0x00:(ptr void)], Mem97[fp - 0x28 + 0x00:size_t], Mem97[fp - 0x24 + 0x00:size_t], Mem97[fp - 0x20 + 0x00:(ptr FILE)]);
			if ((Mem97[Mem97[fp - 0x10 + 0x00:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem97[Mem97[Mem97[(fp - 0x10) + 0x00:word32] + 0x00:word32] + (Mem97[Mem97[(fp - 0x10) + 0x00:word32] + 0x04:word32] - 0x01):byte]) != 0x0A) && (Mem97[fp + 0x10:word32] == 0x00 || (Mem97[Mem97[fp + 0x08:word32] + 0x0C:word32] == 0x00 || Mem97[Mem97[Mem97[fp + 0x08:word32] + 0x0C:word32] + 44:word32] == 0x00)))
			{
				Mem121[fp - 0x28 + 0x00:word32] = Mem97[fp + 0x0C:word32];
				Mem122[fp - 44 + 0x00:word32] = 0x0A;
				_IO_putc(Mem122[fp - 44 + 0x00:int32], Mem122[fp - 0x28 + 0x00:(ptr _IO_FILE)]);
			}
			Mem111[fp + 0x08:word32] = Mem97[Mem97[fp + 0x08:word32] + 0x0C:word32];
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x5C:word32] == 0x00 || ((int32) ((word16) ((word32) Mem0[Mem0[fp + 0x04:word32] + 0x40:word16])) & 0x40) != 0x00)
			break;
		Mem63[fp - 0x28 + 0x00:word32] = Mem0[0x080D52C0:word32];
		Mem65[fp - 44 + 0x00:word32] = Mem63[fp + 0x04:word32];
		Mem69[fp + 0x08:word32] = getNextPage(fp - 0x04, gs, dwArg00);
		if (Mem69[fp - 0x18 + 0x00:word32] != 0x00)
			Mem75[fp - 0x1C + 0x00:word32] = Mem69[Mem69[fp + 0x04:word32] + 0xD0:word32];
	}
}

// 080700E6: void saveBuffer(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void saveBuffer(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	_saveBuffer(fp - 0x04, gs, dwArg04);
}

// 08070111: void saveBufferBody(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void saveBufferBody(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc10_12 = Mem0[dwArg04 + 0x08:word32];
	while (dwLoc10_12 != 0x00 && Mem0[dwLoc10_12 + 0x20:word32] == 0x00)
		dwLoc10_12 = Mem0[dwLoc10_12 + 0x0C:word32];
	_saveBuffer(fp - 0x04, gs, dwArg04);
}

// 0807015D: Register word32 loadcmdout(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 loadcmdout(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_22;
	if (dwArg04 != 0x00)
	{
		byte al_41 = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (al_41 != 0x00)
		{
			word32 esp_48;
			word32 ebp_49;
			byte SCZO_50;
			byte Z_51;
			word32 eax_52;
			byte al_53;
			byte SZO_54;
			byte C_55;
			!popen();
			if (eax_52 == 0x00)
				eax_22 = 0x00;
			else
			{
				init_stream(fp - 0x34, 0xFF, newFileStream(eax_52, eax_52, 134522348));
				word32 esp_77;
				word32 ebp_78;
				byte SCZO_79;
				byte Z_80;
				word32 eax_81;
				byte al_82;
				byte SZO_83;
				byte C_84;
				dwArg08();
				eax_22 = eax_81;
			}
			return eax_22;
		}
	}
	eax_22 = 0x00;
	return eax_22;
}

// 08070200: Register word32 getshell(Register word32 ebp, Stack word32 dwArg04)
word32 getshell(word32 ebp, word32 dwArg04)
{
	word32 eax_29;
	word32 eax_20 = loadcmdout(dwArg04, 0x0806F5A5, 0x00);
	if (eax_20 == 0x00)
		eax_29 = 0x00;
	else
	{
		Mem44[eax_20 + 0x00:word32] = dwArg04;
		word32 esi_45 = Mem44[135091052:word32];
		word32 ebx_46 = Mem44[0x080D5378:word32];
		Strnew_charp(dwArg04, dwArg04);
		word32 ebx_52;
		Mem55[fp - 0x24 + 0x00:word32] = Mem44[wc_Str_conv(dwArg04, ebx_46, esi_45, out ebx_52) + 0x00:word32];
		Mem56[fp - 0x28 + 0x00:word32] = 0x080CAA4A;
		Mem57[fp - 44 + 0x00:word32] = 0x080CAA55;
		byte bpl_59;
		Mem63[Mem57[fp - 0x10 + 0x00:word32] + 0x04:word32] = Mem57[Sprintf(dwArg00, out bpl_59) + 0x00:word32];
		eax_29 = Mem63[fp - 0x10 + 0x00:word32];
	}
	return eax_29;
}

// 0807028F: Register word32 getpipe(Register word32 ebp, Stack word32 dwArg04)
word32 getpipe(word32 ebp, word32 dwArg04)
{
	word32 eax_146;
	if (dwArg04 != 0x00)
	{
		byte al_60 = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (al_60 != 0x00)
		{
			word32 esp_67;
			word32 ebp_68;
			word32 esi_69;
			word32 ebx_70;
			byte SCZO_71;
			byte Z_72;
			word32 eax_73;
			byte al_74;
			byte SZO_75;
			byte C_76;
			word32 edx_77;
			word32 ecx_78;
			byte S_79;
			word16 dx_80;
			byte bpl_81;
			!popen();
			if (eax_73 == 0x00)
				eax_146 = 0x00;
			else
			{
				word32 eax_150;
				word32 edx_87 = Mem0[0x081807A0:word32];
				if (Mem0[0x0817C2D8:word32] != 0x00)
					eax_150 = 0x06;
				else
					eax_150 = 0x01;
				word32 ecx_95 = edx_87 - eax_150;
				word32 eax_102 = ecx_95;
				if (ecx_95 < 0x00)
					eax_102 = 0x00;
				word32 eax_104 = newBuffer(eax_102, eax_102);
				Mem112[eax_104 + 0x5C:word32] = newFileStream(eax_73, eax_73, 134522348);
				Mem115[eax_104 + 0x00:word32] = dwArg04;
				word32 esi_116 = Mem115[135091052:word32];
				word32 ebx_117 = Mem115[0x080D5378:word32];
				Strnew_charp(dwArg04, dwArg04);
				word32 ebx_123;
				Mem126[esp_67 + 0x08:word32] = Mem115[wc_Str_conv(dwArg04, ebx_117, esi_116, out ebx_123) + 0x00:word32];
				Mem127[esp_67 + 0x04:word32] = 0x080CAA5B;
				Mem128[esp_67 + 0x00:word32] = 0x080CAA55;
				byte bpl_130;
				Mem134[Mem128[ebp_68 - 0x10 + 0x00:word32] + 0x04:word32] = Mem128[Sprintf(dwArg00, out bpl_130) + 0x00:word32];
				Mem143[Mem134[ebp_68 - 0x10 + 0x00:word32] + 0x40:word16] = (word16) ((word32) Mem134[Mem134[ebp_68 - 0x10 + 0x00:word32] + 0x40:word16] | 0x01);
				Mem145[Mem143[ebp_68 - 0x10 + 0x00:word32] + 0xD0:word32] = 0x0100;
				eax_146 = Mem145[ebp_68 - 0x10 + 0x00:word32];
			}
			return eax_146;
		}
	}
	eax_146 = 0x00;
	return eax_146;
}

// 080703A2: Register word32 openPagerBuffer(Stack word32 dwArg04, Stack word32 dwArg08)
word32 openPagerBuffer(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 == 0x00)
	{
		word32 eax_109;
		word32 edx_103 = Mem0[0x081807A0:word32];
		if (Mem0[0x0817C2D8:word32] != 0x00)
			eax_109 = 0x06;
		else
			eax_109 = 0x01;
		word32 ecx_111 = edx_103 - eax_109;
		word32 eax_112 = ecx_111;
		if (ecx_111 < 0x00)
			eax_112 = 0x00;
		dwArg08 = newBuffer(eax_112, eax_112);
	}
	Mem28[dwArg08 + 0x5C:word32] = dwArg04;
	Mem32[dwArg08 + 0x04:word32] = getenv(0x080CAA64);
	if (Mem32[dwArg08 + 0x04:word32] == 0x00)
		Mem86[dwArg08 + 0x04:word32] = 0x080CAA5B;
	else
	{
		word32 esi_89 = Mem32[135091052:word32];
		word32 ebx_90 = Mem32[0x080D5378:word32];
		word32 eax_92 = Mem32[dwArg08 + 0x04:word32];
		Strnew_charp(eax_92, eax_92);
		word32 ebx_97;
		Mem101[Mem32[fp + 0x08:word32] + 0x04:word32] = Mem32[wc_Str_conv(eax_92, ebx_90, esi_89, out ebx_97) + 0x00:word32];
	}
	Mem49[Mem32[fp + 0x08:word32] + 0x40:word16] = (word16) ((word32) Mem32[Mem32[fp + 0x08:word32] + 0x40:word16] | 0x01);
	if (Mem49[135776404:word32] != 0x00 && (byte) ((word32) Mem49[0x080D5381:byte]) != 0x00)
		Mem84[Mem49[fp + 0x08:word32] + 0xD0:word32] = Mem49[135776404:word32];
	else
		Mem76[Mem49[fp + 0x08:word32] + 0xD0:word32] = 0x0100;
	Mem60[Mem49[fp + 0x08:word32] + 0x10:word32] = Mem49[Mem49[fp + 0x08:word32] + 0x08:word32];
	return Mem60[fp + 0x08:word32];
}

// 080704A4: Register word32 openGeneralPagerBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Register out ptr32 ebpOut)
word32 openGeneralPagerBuffer(word32 ebp, selector gs, word32 dwArg04, ptr32 & ebpOut)
{
	init_stream(fp - 0x38, 0xFF, dwArg04);
	Mem17[135776404:word32] = 0x00;
	word32 ebp_232 = fp - 0x04;
	if ((byte) (word32) Mem17[135774784:byte] != 0x00)
	{
		word32 eax_247;
		word32 edx_242 = Mem17[0x081807A0:word32];
		if (Mem17[0x0817C2D8:word32] != 0x00)
			eax_247 = 0x06;
		else
			eax_247 = 0x01;
		word32 ecx_249 = edx_242 - eax_247;
		word32 eax_250 = ecx_249;
		if (ecx_249 < 0x00)
			eax_250 = 0x00;
		readHeader(fp - 0x38, fp - 0x04, gs, fp - 0x38, newBuffer(eax_250, eax_250), 0x01);
		Mem268[fp - 0x6C + 0x00:word32] = Mem17[fp - 0x18 + 0x00:word32];
		byte bpl_269;
		Mem271[fp - 0x14 + 0x00:word32] = checkContentType(gs, dwArg00, out bpl_269);
		if (Mem271[fp - 0x14 + 0x00:word32] == 0x00)
			Mem287[fp - 0x14 + 0x00:word32] = 135041053;
		if (Mem271[fp - 0x18 + 0x00:word32] != 0x00)
		{
			Mem282[Mem271[fp - 0x18 + 0x00:word32] + 0x0C:word32] = Mem271[Mem271[fp - 0x18 + 0x00:word32] + 0x08:word32];
			Mem286[Mem282[fp - 0x18 + 0x00:word32] + 0x10:word32] = Mem282[Mem282[fp - 0x18 + 0x00:word32] + 0x14:word32];
		}
		Mem278[135774784:byte] = 0x00;
	}
	else if (Mem17[135774788:word32] != 0x00)
		Mem304[135774788:word32] = 0x00;
	word32 eax_160;
	Mem36[fp - 0x6C + 0x00:word32] = Mem17[fp - 0x14 + 0x00:word32];
	if (is_html_type(dwArg00) != 0x00)
	{
		Mem78[fp - 0x68 + 0x00:word32] = Mem36[fp - 0x18 + 0x00:word32];
		Mem80[fp - 0x6C + 0x00:word32] = fp - 0x38;
		Mem83[fp - 0x10 + 0x00:word32] = loadHTMLBuffer(fp - 0x04, gs, dwArg00, dwArg04);
		Mem85[Mem83[fp - 0x10 + 0x00:word32] + 0x34:word32] = 0x080C9028;
		goto l08070799;
	}
	Mem87[fp - 0x6C + 0x00:word32] = Mem36[fp - 0x14 + 0x00:word32];
	if (is_plain_text_type(dwArg00) != 0x00)
	{
		if ((byte) (word32) Mem87[Mem87[fp + 0x04:word32] + 0x14:byte] != 0x04)
		{
			Mem109[fp - 0x68 + 0x00:word32] = (int32) (byte) (word32) Mem87[fp - 0x36 + 0x00:byte];
			Mem111[fp - 0x6C + 0x00:word32] = Mem109[fp + 0x04:word32];
			Mem113[fp + 0x04:word32] = newEncodedStream(dwArg00, dwArg04);
		}
		Mem99[fp - 0x68 + 0x00:word32] = Mem87[fp - 0x18 + 0x00:word32];
		Mem101[fp - 0x6C + 0x00:word32] = Mem99[fp + 0x04:word32];
		Mem103[fp - 0x10 + 0x00:word32] = openPagerBuffer(dwArg00, dwArg04);
		Mem105[Mem103[fp - 0x10 + 0x00:word32] + 0x34:word32] = 135041053;
	}
	else
	{
		if (Mem87[135774940:word32] != 0x00 && (Mem87[0x080D530C:word32] != 0x00 && (Mem87[0x080D5314:word32] == 0x00 && (Mem87[135774876:word32] & ~0x20) == 0x00)))
		{
			Mem204[fp - 100 + 0x00:word32] = 0x06;
			Mem205[fp - 0x68 + 0x00:word32] = 0x080C9846;
			Mem207[fp - 0x6C + 0x00:word32] = Mem205[fp - 0x14 + 0x00:word32];
			word32 eax_208 = strncasecmp(Mem207[fp - 0x6C + 0x00:(ptr char)], Mem207[fp - 0x68 + 0x00:(ptr char)], Mem207[fp - 100 + 0x00:int32]);
			if (eax_208 == 0x00)
			{
				Mem213[fp - 0x6C + 0x00:word32] = 0x28;
				word32 esp_214;
				word32 ebp_215;
				byte SCZO_216;
				word32 eax_217;
				byte al_218;
				byte SZO_219;
				byte C_220;
				byte Z_221;
				word32 edx_222;
				word32 ecx_223;
				byte S_224;
				selector gs_225;
				byte bpl_226;
				!GC_malloc();
				Mem227[0x0817C840:word32] = eax_217;
				word32 eax_228 = Mem227[0x0817C840:word32];
				Mem229[esp_214 + 0x08:word32] = 0x00;
				Mem230[esp_214 + 0x04:word32] = eax_228;
				Mem231[esp_214 + 0x00:word32] = 0x080CAA6B;
				word32 esp_233 = parseURL(dwArg00, dwArg04, dwArg08, out ebp_232);
				Mem235[esp_233 + 0x04:word32] = Mem231[ebp_232 - 0x14 + 0x00:word32];
				Mem237[esp_233 + 0x00:word32] = ebp_232 - 0x34;
				Mem239[ebp_232 - 0x0C + 0x00:word32] = loadImageBuffer(ebp_232, gs_225, dwArg04);
				Mem241[Mem239[ebp_232 - 0x0C + 0x00:word32] + 0x34:word32] = 0x080C9028;
				goto l08070799;
			}
		}
		Mem120[fp - 0x40 + 0x00:word32] = Mem87[fp - 0x18 + 0x00:word32];
		Mem122[fp - 0x44 + 0x00:word32] = fp - 0x10;
		Mem124[fp - 0x48 + 0x00:word32] = Mem122[fp - 0x14 + 0x00:word32];
		Mem125[fp - 0x4C + 0x00:word32] = 0x080CAA6B;
		Mem127[fp - 0x6C + 0x00:word32] = Mem125[fp - 0x38 + 0x00:word32];
		Mem129[fp - 0x68 + 0x00:word32] = Mem127[fp - 0x34 + 0x00:word32];
		Mem131[fp - 100 + 0x00:word32] = Mem129[fp - 0x30 + 0x00:word32];
		Mem133[fp - 0x60 + 0x00:word32] = Mem131[fp - 44 + 0x00:word32];
		Mem135[fp - 0x5C + 0x00:word32] = Mem133[fp - 0x28 + 0x00:word32];
		Mem137[fp - 88 + 0x00:word32] = Mem135[fp - 0x24 + 0x00:word32];
		Mem139[fp - 0x54 + 0x00:word32] = Mem137[fp - 0x20 + 0x00:word32];
		Mem141[fp - 0x50 + 0x00:word32] = Mem139[fp - 0x1C + 0x00:word32];
		if (doExternal(fp - 0x04, gs, dwArg08, dwArg24) != 0x00)
		{
			Mem149[fp - 0x6C + 0x00:word32] = Mem141[fp - 0x34 + 0x00:word32];
			if (ISclose(dwArg00) == 0x00)
				Mem165[fp - 0x34 + 0x00:word32] = 0x00;
			if (Mem149[fp - 0x10 + 0x00:word32] == 0x00 || Mem149[(fp - 0x10) + 0x00:word32] == 0x01)
			{
				eax_160 = Mem149[fp - 0x10 + 0x00:word32];
l080707BF:
				word32 ebp_54;
				*ebpOut = Mem36[ebp_232 + 0x00:word32];
				return eax_160;
			}
		}
		else
		{
			if ((byte) (word32) Mem141[Mem141[fp + 0x04:word32] + 0x14:byte] != 0x04)
			{
				Mem186[fp - 0x68 + 0x00:word32] = (int32) (byte) (word32) Mem141[fp - 0x36 + 0x00:byte];
				Mem188[fp - 0x6C + 0x00:word32] = Mem186[fp + 0x04:word32];
				Mem190[fp + 0x04:word32] = newEncodedStream(dwArg00, dwArg04);
			}
			Mem176[fp - 0x68 + 0x00:word32] = Mem141[fp - 0x18 + 0x00:word32];
			Mem178[fp - 0x6C + 0x00:word32] = Mem176[fp + 0x04:word32];
			Mem180[fp - 0x10 + 0x00:word32] = openPagerBuffer(dwArg00, dwArg04);
			Mem182[Mem180[fp - 0x10 + 0x00:word32] + 0x34:word32] = 135041053;
		}
	}
l08070799:
	Mem70[Mem36[ebp_232 - 0x0C + 0x00:word32] + 0x38:word32] = Mem36[ebp_232 - 0x10 + 0x00:word32];
	Mem72[Mem70[ebp_232 - 0x0C + 0x00:word32] + 0x84:word32] = 0x04;
	Mem74[Mem72[ebp_232 - 0x0C + 0x00:word32] + 0x98:word32] = 0x080CAA6B;
	eax_160 = Mem74[ebp_232 - 0x0C + 0x00:word32];
	goto l080707BF;
}

// 080707C1: Register word32 getNextPage(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 getNextPage(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_182;
	word32 eax_23 = Mem0[dwArg04 + 0x14:word32];
	if (Mem0[dwArg04 + 0x5C:word32] == 0x00)
		eax_182 = 0x00;
	else
	{
		if (eax_23 != 0x00)
			Mem568[dwArg04 + 0x10:word32] = eax_23;
		if (Mem0[dwArg04 + 0xD0:word32] == 0x0100 && (byte) ((word32) Mem0[0x080D5381:byte]) != 0x00)
		{
			Mem541[135776404:word32] = 0x00;
			byte bpl_544;
			checkContentType(gs, dwArg04, out bpl_544);
			if (Mem541[135776404:word32] != 0x00)
				Mem551[fp - 0x40 + 0x00:word32] = Mem541[135776404:word32];
		}
		word32 eax_112 = (word32) Mem0[Mem0[fp + 0x04:word32] + 212:byte];
		byte al_113 = (byte) eax_112;
		Mem114[0x080DC0A0:byte] = al_113;
		Mem115[fp - 0xA8 + 0x00:word32] = 0x01;
		Mem116[fp - 0xAC + 0x00:word32] = 135775744;
		word32 esp_117;
		word32 ebp_118;
		word32 edi_119;
		word32 esi_120;
		word32 ebx_121;
		byte SCZO_122;
		word32 eax_123;
		word32 edx_124;
		byte al_125;
		byte SZO_126;
		byte C_127;
		byte Z_128;
		byte SO_129;
		word32 ecx_130;
		word16 dx_131;
		byte S_132;
		selector gs_133;
		byte bpl_134;
		!__sigsetjmp();
		if (eax_123 == 0x00)
		{
			if ((byte) (word32) Mem116[0x080D52C5:byte] != 0x00)
			{
				Mem524[esp_117 + 0x04:word32] = 0x0805A9F4;
				Mem525[esp_117 + 0x00:word32] = 0x02;
				Mem527[ebp_118 - 0x4C + 0x00:word32] = mySignal(dwArg00, dwArg04);
				if ((byte) (word32) Mem527[135774799:byte] != 0x00)
					term_cbreak(gs_133);
			}
			Mem230[esp_117 + 0x08:word32] = 0x00;
			Mem231[esp_117 + 0x04:word32] = 0xFF;
			Mem233[esp_117 + 0x00:word32] = ebp_118 - 0x80;
			init_stream(dwArg00, dwArg04, dwArg08);
			Mem235[ebp_118 - 44 + 0x00:word32] = 0x00;
			while (Mem235[ebp_118 - 44 + 0x00:word32] < Mem235[ebp_118 + 0x0C:word32])
			{
				Mem255[esp_117 + 0x00:word32] = Mem235[Mem235[ebp_118 + 0x08:word32] + 0x5C:word32];
				Mem257[ebp_118 - 0x34 + 0x00:word32] = StrmyISgets(dwArg00);
				if (Mem257[Mem257[ebp_118 - 0x34 + 0x00:word32] + 0x04:word32] == 0x00)
				{
					if (Mem257[Mem257[ebp_118 + 0x08:word32] + 0x00:word32] != 0x00)
					{
						word32 esi_281 = Mem257[135091052:word32];
						word32 ebx_282 = Mem257[0x080D5378:word32];
						word32 eax_284 = Mem257[Mem257[ebp_118 + 0x08:word32] + 0x00:word32];
						Mem285[esp_117 + 0x00:word32] = eax_284;
						Strnew_charp(eax_284, dwArg00);
						Mem286[esp_117 + 0x08:word32] = esi_281;
						Mem287[esp_117 + 0x04:word32] = ebx_282;
						Mem288[esp_117 + 0x00:word32] = eax_284;
						word32 ebx_289;
						Mem292[esp_117 + 0x08:word32] = Mem288[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_289) + 0x00:word32];
						Mem293[esp_117 + 0x04:word32] = 0x080CAA6D;
						Mem294[esp_117 + 0x00:word32] = 0x080CAA55;
						byte bpl_295;
						Mem299[Mem294[ebp_118 + 0x08:word32] + 0x04:word32] = Mem294[Sprintf(dwArg00, out bpl_295) + 0x00:word32];
					}
					else
					{
						Mem300[esp_117 + 0x00:word32] = 0x080CAA64;
						if (getenv(Mem300[esp_117 + 0x00:(ptr char)]) == 0x00)
							Mem306[Mem300[ebp_118 + 0x08:word32] + 0x04:word32] = 0x080CAA6D;
					}
					Mem280[Mem257[ebp_118 + 0x08:word32] + 0x40:word16] = (word16) ((word32) Mem257[Mem257[ebp_118 + 0x08:word32] + 0x40:word16] | 0x40);
					break;
				}
				word32 eax_308 = Mem257[Mem257[ebp_118 - 0x34 + 0x00:word32] + 0x04:word32];
				ui64 edx_eax_318 = SEQ(Mem257[ebp_118 - 0x54 + 0x00:word32], Mem257[ebp_118 - 88 + 0x00:word32] + eax_308) + SEQ(eax_308 >> 0x1F, eax_308);
				Mem322[ebp_118 - 88 + 0x00:word32] = (word32) edx_eax_318;
				Mem323[ebp_118 - 0x54 + 0x00:word32] = SLICE(edx_eax_318, word32, 32);
				Mem325[esp_117 + 0x04:word32] = ebp_118 - 0x60;
				Mem327[esp_117 + 0x00:word32] = ebp_118 - 88;
				showProgress(ebp_118, dwArg00, dwArg04, rArg1, rArg2);
				Mem331[esp_117 + 0x10:word32] = Mem327[ebp_118 - 0x3C + 0x00:word32];
				Mem333[esp_117 + 0x0C:word32] = ebp_118 - 0x38;
				Mem334[esp_117 + 0x08:word32] = 0x01;
				Mem336[esp_117 + 0x04:word32] = Mem334[ebp_118 - 0x34 + 0x00:word32];
				Mem338[esp_117 + 0x00:word32] = ebp_118 - 0x80;
				Mem342[ebp_118 - 0x34 + 0x00:word32] = convertLine(ebp_118, dwArg04, dwArg0C, dwArg10);
				if (Mem342[135775000:word32] != 0x00)
				{
					Mem499[ebp_118 - 0x40 + 0x00:word32] = 0x00;
					if ((byte) (word32) Mem499[Mem499[Mem499[ebp_118 - 0x34 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x0A && (byte) ((word32) Mem499[(ebp_118 - 0x19) + 0x00:byte]) == 0x0A)
					{
						Mem519[ebp_118 - 0x30 + 0x00:word32] = Mem499[ebp_118 - 0x30 + 0x00:word32] + 0x01;
						Mem521[ebp_118 - 44 + 0x00:word32] = Mem519[ebp_118 - 44 + 0x00:word32] - 0x01;
						Mem523[ebp_118 - 0x40 + 0x00:word32] = 0x01;
						goto l08070BF0;
					}
					Mem512[ebp_118 - 0x19 + 0x00:byte] = (byte) (word32) Mem499[Mem499[Mem499[ebp_118 - 0x34 + 0x00:word32] + 0x00:word32] + 0x00:byte];
				}
				word32 eax_386;
				Mem368[ebp_118 - 0x30 + 0x00:word32] = Mem342[ebp_118 - 0x30 + 0x00:word32] + 0x01;
				Mem370[esp_117 + 0x00:word32] = Mem368[ebp_118 - 0x34 + 0x00:word32];
				Strchop(dwArg00);
				Mem372[esp_117 + 0x08:word32] = ebp_118 - 0x48;
				Mem374[esp_117 + 0x04:word32] = ebp_118 - 0x44;
				Mem376[esp_117 + 0x00:word32] = Mem374[ebp_118 - 0x34 + 0x00:word32];
				Mem378[ebp_118 - 0x34 + 0x00:word32] = checkType(dwArg00, dwArg04, dwArg08);
				word32 edi_379 = Mem378[ebp_118 - 0x30 + 0x00:word32];
				if (Mem378[0x0817C330:word32] != 0x00)
				{
					word32 eax_472;
					word32 edx_465 = Mem378[0x081807A0:word32];
					if (Mem378[0x0817C2D8:word32] != 0x00)
						eax_472 = 0x06;
					else
						eax_472 = 0x01;
					word32 ecx_474 = edx_465 - eax_472;
					word32 eax_475 = ecx_474;
					if (ecx_474 < 0x00)
						eax_475 = 0x00;
					eax_386 = eax_475 + 0x01;
				}
				else
					eax_386 = ~0x00;
				word32 esi_391 = Mem378[Mem378[ebp_118 - 0x34 + 0x00:word32] + 0x04:word32];
				word32 ebx_392 = Mem378[ebp_118 - 0x48 + 0x00:word32];
				word32 ecx_393 = Mem378[ebp_118 - 0x44 + 0x00:word32];
				word32 edx_395 = Mem378[Mem378[ebp_118 - 0x34 + 0x00:word32] + 0x00:word32];
				Mem396[esp_117 + 0x18:word32] = edi_379;
				Mem397[esp_117 + 0x14:word32] = eax_386;
				Mem398[esp_117 + 0x10:word32] = esi_391;
				Mem399[esp_117 + 0x0C:word32] = ebx_392;
				Mem400[esp_117 + 0x08:word32] = ecx_393;
				Mem401[esp_117 + 0x04:word32] = edx_395;
				Mem403[esp_117 + 0x00:word32] = Mem401[ebp_118 + 0x08:word32];
				addnewline(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
				if (Mem403[ebp_118 - 0x20 + 0x00:word32] == 0x00)
				{
					Mem462[ebp_118 - 0x20 + 0x00:word32] = Mem403[Mem403[ebp_118 + 0x08:word32] + 0x08:word32];
					Mem464[ebp_118 - 0x28 + 0x00:word32] = Mem462[ebp_118 - 0x20 + 0x00:word32];
				}
				if (Mem403[Mem403[Mem403[ebp_118 + 0x08:word32] + 0x14:word32] + 0x20:word32] - Mem403[Mem403[Mem403[ebp_118 + 0x08:word32] + 0x08:word32] + 0x20:word32] >= Mem403[0x080D52C0:word32])
				{
					Mem422[ebp_118 - 0x50 + 0x00:word32] = Mem403[Mem403[ebp_118 + 0x08:word32] + 0x08:word32];
					do
					{
						if (Mem422[ebp_118 - 0x20 + 0x00:word32] == Mem422[(ebp_118 - 0x50) + 0x00:word32])
							Mem459[ebp_118 - 0x20 + 0x00:word32] = Mem422[Mem422[ebp_118 - 0x50 + 0x00:word32] + 0x0C:word32];
						if (Mem422[ebp_118 - 0x28 + 0x00:word32] == Mem422[(ebp_118 - 0x50) + 0x00:word32])
							Mem456[ebp_118 - 0x28 + 0x00:word32] = Mem422[Mem422[ebp_118 - 0x50 + 0x00:word32] + 0x0C:word32];
						if (Mem422[ebp_118 - 0x24 + 0x00:word32] == Mem422[(ebp_118 - 0x50) + 0x00:word32])
							Mem453[ebp_118 - 0x24 + 0x00:word32] = 0x00;
						Mem436[ebp_118 - 0x50 + 0x00:word32] = Mem422[Mem422[ebp_118 - 0x50 + 0x00:word32] + 0x0C:word32];
					} while (Mem436[ebp_118 - 0x50 + 0x00:word32] != 0x00 && Mem436[Mem436[(ebp_118 - 0x50) + 0x00:word32] + 44:word32] != 0x00);
					Mem444[Mem436[ebp_118 + 0x08:word32] + 0x08:word32] = Mem436[ebp_118 - 0x50 + 0x00:word32];
					Mem447[Mem444[Mem444[ebp_118 + 0x08:word32] + 0x08:word32] + 0x10:word32] = 0x00;
				}
l08070BF0:
				Mem362[ebp_118 - 44 + 0x00:word32] = Mem342[ebp_118 - 44 + 0x00:word32] + 0x01;
			}
		}
		if ((byte) (word32) Mem116[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem116[135774799:byte] != 0x00)
				term_raw(gs_133);
			if (Mem116[ebp_118 - 0x4C + 0x00:word32] != 0x00)
			{
				Mem217[esp_117 + 0x04:word32] = Mem116[ebp_118 - 0x4C + 0x00:word32];
				Mem218[esp_117 + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		Mem162[Mem116[ebp_118 + 0x08:word32] + 200:word32] = Mem116[ebp_118 - 0x60 + 0x00:word32] + Mem116[(ebp_118 - 88) + 0x00:word32];
		Mem165[Mem162[ebp_118 + 0x08:word32] + 0xD0:word32] = Mem162[ebp_118 - 0x38 + 0x00:word32];
		Mem168[0x080DC0A0:byte] = (byte) (word32) Mem165[ebp_118 - 0x1A + 0x00:byte];
		Mem171[Mem168[ebp_118 + 0x08:word32] + 0x0C:word32] = Mem168[ebp_118 - 0x20 + 0x00:word32];
		Mem174[Mem171[ebp_118 + 0x08:word32] + 0x10:word32] = Mem171[ebp_118 - 0x28 + 0x00:word32];
		if (Mem174[ebp_118 - 0x24 + 0x00:word32] == 0x00)
			Mem187[ebp_118 - 0x24 + 0x00:word32] = Mem174[Mem174[ebp_118 + 0x08:word32] + 0x08:word32];
		else if (Mem174[ebp_118 - 0x24 + 0x00:word32] != 0x00 && (Mem174[Mem174[(ebp_118 - 0x24) + 0x00:word32] + 0x0C:word32] != 0x00 || Mem174[(ebp_118 - 0x40) + 0x00:word32] == 0x00))
			Mem202[ebp_118 - 0x24 + 0x00:word32] = Mem174[Mem174[ebp_118 - 0x24 + 0x00:word32] + 0x0C:word32];
		eax_182 = Mem174[ebp_118 - 0x24 + 0x00:word32];
	}
	return eax_182;
}

// 08070CBA: Register word32 save2tmp(Register byte bpl, Register selector gs, Stack byte bArg04, Stack word32 dwArg24)
word32 save2tmp(byte bpl, selector gs, byte bArg04, word32 dwArg24)
{
	word32 eax_133;
	word32 eax_21 = fopen(dwArg24, 0x080CAA7E);
	if (eax_21 == 0x00)
		eax_133 = ~0x00;
	else
	{
		word32 esp_66;
		word32 ebp_67;
		word32 ebx_68;
		byte SCZO_69;
		word32 edx_70;
		word32 eax_71;
		byte Z_72;
		byte SZO_73;
		byte C_74;
		byte al_75;
		word32 ecx_76;
		byte bpl_77;
		selector gs_78;
		!bcopy();
		word32 esp_81;
		word32 ebp_82;
		word32 ebx_83;
		byte SCZO_84;
		word32 edx_85;
		word32 eax_86;
		byte Z_87;
		byte SZO_88;
		byte C_89;
		byte al_90;
		word32 ecx_91;
		byte bpl_92;
		selector gs_93;
		!__sigsetjmp();
		if (eax_86 == 0x00)
		{
			if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
			{
				mySignal(0x02, 0x0805A9F4);
				if ((byte) (word32) Mem0[135774799:byte] != 0x00)
					term_cbreak(gs_93);
			}
			word32 eax_163 = (word32) bArg04;
			if ((byte) eax_163 == 0x09)
			{
				while (true)
				{
					Mem172[esp_81 + 0x00:word32] = Mem0[ebp_82 + 0x0C:word32];
					Mem174[ebp_82 - 0x09 + 0x00:byte] = ISgetc(dwArg00);
					if ((byte) (word32) Mem174[Mem174[ebp_82 + 0x0C:word32] + 0x15:byte] != 0x00)
						break;
					if (Mem174[ebp_82 - 0x09 + 0x00:byte] == 0x0A)
					{
						if (Mem174[ebp_82 - 0x14 + 0x00:word32] == 0x00)
							Mem209[ebp_82 - 0x14 + 0x00:word32] = Mem174[ebp_82 - 0x14 + 0x00:word32] + 0x01;
						else if (Mem174[ebp_82 - 0x14 + 0x00:word32] == 0x03)
							break;
					}
					else if (Mem174[ebp_82 - 0x09 + 0x00:byte] == 0x2E && Mem174[(ebp_82 - 0x14) + 0x00:word32] == 0x01)
						Mem228[ebp_82 - 0x14 + 0x00:word32] = Mem174[ebp_82 - 0x14 + 0x00:word32] + 0x01;
					else if (Mem174[ebp_82 - 0x09 + 0x00:byte] == 0x0D && Mem174[(ebp_82 - 0x14) + 0x00:word32] == 0x02)
						Mem223[ebp_82 - 0x14 + 0x00:word32] = Mem174[ebp_82 - 0x14 + 0x00:word32] + 0x01;
					else
						Mem219[ebp_82 - 0x14 + 0x00:word32] = 0x00;
					word32 eax_184 = (int32) Mem174[ebp_82 - 0x09 + 0x00:byte];
					Mem186[esp_81 + 0x04:word32] = Mem174[ebp_82 - 0x10 + 0x00:word32];
					Mem187[esp_81 + 0x00:word32] = eax_184;
					_IO_putc(Mem187[esp_81 + 0x00:int32], Mem187[esp_81 + 0x04:(ptr _IO_FILE)]);
					ui64 edx_eax_192 = SEQ(Mem187[ebp_82 - 0x24 + 0x00:word32], Mem187[ebp_82 - 0x28 + 0x00:word32] + 0x01);
					Mem198[ebp_82 - 0x28 + 0x00:word32] = (word32) (edx_eax_192 + 0x01);
					Mem199[ebp_82 - 0x24 + 0x00:word32] = SLICE(edx_eax_192 + 0x01, word32, 32);
					Mem201[esp_81 + 0x04:word32] = ebp_82 - 0x30;
					Mem203[esp_81 + 0x00:word32] = ebp_82 - 0x28;
					showProgress(ebp_82, dwArg00, dwArg04, rArg1, rArg2);
				}
			}
			else
			{
				Strnew_size(eax_163, 0x0600);
				while (true)
				{
					word32 eax_238 = Mem0[ebp_82 + 0x0C:word32];
					Mem239[esp_81 + 0x08:word32] = 0x0600;
					Mem241[esp_81 + 0x04:word32] = Mem239[ebp_82 - 0x1C + 0x00:word32];
					Mem242[esp_81 + 0x00:word32] = eax_238;
					if (ISread(dwArg00, dwArg04, dwArg08) == 0x00)
						break;
					word32 eax_249 = Mem242[Mem242[ebp_82 - 0x1C + 0x00:word32] + 0x04:word32];
					word32 eax_252 = Mem242[Mem242[ebp_82 - 0x1C + 0x00:word32] + 0x00:word32];
					Mem254[esp_81 + 0x0C:word32] = Mem242[ebp_82 - 0x10 + 0x00:word32];
					Mem255[esp_81 + 0x08:word32] = eax_249;
					Mem256[esp_81 + 0x04:word32] = 0x01;
					Mem257[esp_81 + 0x00:word32] = eax_252;
					fwrite(Mem257[esp_81 + 0x00:(ptr void)], Mem257[esp_81 + 0x04:size_t], Mem257[esp_81 + 0x08:size_t], Mem257[esp_81 + 0x0C:(ptr FILE)]);
					word32 eax_260 = Mem257[Mem257[ebp_82 - 0x1C + 0x00:word32] + 0x04:word32];
					ui64 edx_eax_270 = SEQ(Mem257[ebp_82 - 0x24 + 0x00:word32], Mem257[ebp_82 - 0x28 + 0x00:word32] + eax_260) + SEQ(eax_260 >> 0x1F, eax_260);
					Mem274[ebp_82 - 0x28 + 0x00:word32] = (word32) edx_eax_270;
					Mem275[ebp_82 - 0x24 + 0x00:word32] = SLICE(edx_eax_270, word32, 32);
					Mem277[esp_81 + 0x04:word32] = ebp_82 - 0x30;
					Mem279[esp_81 + 0x00:word32] = ebp_82 - 0x28;
					showProgress(ebp_82, dwArg00, dwArg04, rArg1, rArg2);
				}
			}
		}
		Mem104[esp_81 + 0x08:word32] = 0x9C;
		Mem105[esp_81 + 0x04:word32] = 135775744;
		Mem106[esp_81 + 0x00:word32] = 0x0817C8E0;
		word32 esp_107;
		word32 ebp_108;
		word32 ebx_109;
		byte SCZO_110;
		word32 edx_111;
		word32 eax_112;
		byte Z_113;
		byte SZO_114;
		byte C_115;
		byte al_116;
		word32 ecx_117;
		byte bpl_118;
		selector gs_119;
		!bcopy();
		if ((byte) (word32) Mem106[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem106[135774799:byte] != 0x00)
				term_raw(gs_119);
			if (Mem106[ebp_108 - 0x18 + 0x00:word32] != 0x00)
			{
				Mem146[esp_107 + 0x04:word32] = Mem106[ebp_108 - 0x18 + 0x00:word32];
				Mem147[esp_107 + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		Mem129[esp_107 + 0x00:word32] = Mem106[ebp_108 - 0x10 + 0x00:word32];
		fclose(Mem129[esp_107 + 0x00:(ptr FILE)]);
		Mem131[0x0817C8B0:word32] = 0x00;
		Mem132[135776436:word32] = 0x00;
		eax_133 = 0x00;
	}
	return eax_133;
}

// 08070F2F: Register word32 doExternal(Register word32 ebp, Register selector gs, Stack word32 dwArg0C, Stack word32 dwArg28)
word32 doExternal(word32 ebp, selector gs, word32 dwArg0C, word32 dwArg28)
{
	word32 eax_152;
	byte bpl_23;
	Mem25[fp - 0x18 + 0x00:word32] = searchExtViewer(fp - 0x04, out bpl_23);
	if (Mem25[fp - 0x18 + 0x00:word32] == 0x00)
		eax_152 = 0x00;
	else
	{
		if (Mem25[Mem25[fp - 0x18 + 0x00:word32] + 0x10:word32] != 0x00)
		{
			word32 eax_504 = Mem25[Mem25[fp - 0x18 + 0x00:word32] + 0x10:word32];
			Mem505[fp - 0x5C + 0x00:word32] = 0x00;
			Mem506[fp - 0x60 + 0x00:word32] = 0x00;
			Mem507[fp - 100 + 0x00:word32] = 0x080C92AD;
			Mem508[fp - 0x68 + 0x00:word32] = 0x00;
			Mem509[fp - 0x6C + 0x00:word32] = eax_504;
			byte bpl_510;
			Mem512[fp - 0x10 + 0x00:word32] = unquote_mailcap(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out bpl_510);
			if ((byte) (word32) Mem512[Mem512[Mem512[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x2E)
				Mem521[fp - 44 + 0x00:word32] = Mem512[Mem512[fp - 0x10 + 0x00:word32] + 0x00:word32];
		}
		word32 eax_493;
		if (Mem25[fp - 44 + 0x00:word32] != 0x00 && (byte) ((word32) Mem25[Mem25[(fp - 44) + 0x00:word32] + 0x00:byte]) != 0x00)
			eax_493 = Mem25[fp - 44 + 0x00:word32];
		else
			eax_493 = 0x00;
		Mem71[fp - 0x68 + 0x00:word32] = eax_493;
		Mem72[fp - 0x6C + 0x00:word32] = 0x00;
		byte bpl_75;
		Mem77[fp - 0x10 + 0x00:word32] = tmpfname(fp - 0x04, dwArg00, dwArg04, out bpl_75);
		if ((byte) (word32) Mem77[Mem77[fp + 0x08:word32] + 0x14:byte] != 0x04)
		{
			word32 eax_485 = Mem77[fp + 0x08:word32];
			Mem486[fp - 0x68 + 0x00:word32] = (int32) (byte) (word32) Mem77[fp + 0x06:byte];
			Mem487[fp - 0x6C + 0x00:word32] = eax_485;
			Mem489[fp + 0x08:word32] = newEncodedStream(dwArg00, dwArg04);
		}
		Mem84[fp - 0x68 + 0x00:word32] = 135041710;
		Mem86[fp - 0x6C + 0x00:word32] = Mem84[fp + 0x30:word32];
		word32 edx_87;
		Mem89[fp - 0x24 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_87);
		if (Mem89[fp - 0x24 + 0x00:word32] != 0x00)
		{
			word32 esi_471 = Mem89[0x080D5378:word32];
			word32 ebx_472 = Mem89[135091052:word32];
			word32 eax_473 = Mem89[fp - 0x24 + 0x00:word32];
			Mem474[fp - 0x6C + 0x00:word32] = eax_473;
			Strnew_charp(eax_473, dwArg00);
			Mem475[fp - 100 + 0x00:word32] = esi_471;
			Mem476[fp - 0x68 + 0x00:word32] = ebx_472;
			Mem477[fp - 0x6C + 0x00:word32] = eax_473;
			word32 ebx_478;
			Mem481[fp - 0x24 + 0x00:word32] = Mem477[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_478) + 0x00:word32];
		}
		word32 edx_95 = Mem89[Mem89[fp - 0x10 + 0x00:word32] + 0x00:word32];
		word32 eax_97 = Mem89[Mem89[fp - 0x18 + 0x00:word32] + 0x04:word32];
		Mem99[fp - 0x5C + 0x00:word32] = fp - 0x1C;
		word32 ecx_100 = Mem99[fp - 0x24 + 0x00:word32];
		Mem101[fp - 0x60 + 0x00:word32] = ecx_100;
		Mem102[fp - 100 + 0x00:word32] = edx_95;
		Mem104[fp - 0x68 + 0x00:word32] = Mem102[fp + 0x28:word32];
		Mem105[fp - 0x6C + 0x00:word32] = eax_97;
		byte bpl_108;
		Mem110[fp - 0x14 + 0x00:word32] = unquote_mailcap(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out bpl_108);
		if ((Mem110[fp - 0x1C + 0x00:word32] & 0x01) == 0x00)
		{
			Mem459[fp - 0x6C + 0x00:word32] = Mem110[Mem110[fp - 0x10 + 0x00:word32] + 0x00:word32];
			word32 eax_460 = shell_quote(dwArg00);
			word32 edx_462 = Mem459[Mem459[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem463[fp - 100 + 0x00:word32] = eax_460;
			Mem464[fp - 0x68 + 0x00:word32] = edx_462;
			Mem465[fp - 0x6C + 0x00:word32] = 0x080CAA81;
			Mem468[fp - 0x30 + 0x00:word32] = Sprintf(dwArg00, out bpl_108);
			Mem470[fp - 0x14 + 0x00:word32] = Mem468[fp - 0x30 + 0x00:word32];
		}
		if ((Mem110[Mem110[fp - 0x18 + 0x00:word32] + 0x08:word32] & 0x06) == 0x00 && ((Mem110[Mem110[(fp - 0x18) + 0x00:word32] + 0x08:word32] & 0x01) == 0x00 && Mem110[0x080D5328:word32] != 0x00))
		{
			word32 eax_385 = flush_tty();
			word32 esp_386;
			word32 ebp_387;
			word32 esi_388;
			word32 ebx_389;
			byte SCZO_390;
			word32 eax_391;
			byte Z_392;
			byte SZO_393;
			byte C_394;
			byte al_395;
			word32 edx_396;
			word32 ecx_397;
			byte S_398;
			selector gs_399;
			byte bpl_400;
			!fork();
			if (eax_391 == 0x00)
			{
				Mem413[esp_386 + 0x00:word32] = Mem110[ebp_387 + 0x0C:word32];
				Mem415[esp_386 + 0x08:word32] = ISfileno(dwArg00);
				Mem416[esp_386 + 0x04:word32] = 0x00;
				Mem417[esp_386 + 0x00:word32] = 0x00;
				setup_child(dwArg00, dwArg04, dwArg08);
				Mem420[esp_386 + 0x20:word32] = Mem417[Mem417[ebp_387 - 0x0C + 0x00:word32] + 0x00:word32];
				Mem422[esp_386 + 0x00:word32] = Mem420[ebp_387 + 0x08:word32];
				Mem424[esp_386 + 0x04:word32] = Mem422[ebp_387 + 0x0C:word32];
				Mem426[esp_386 + 0x08:word32] = Mem424[ebp_387 + 0x10:word32];
				Mem428[esp_386 + 0x0C:word32] = Mem426[ebp_387 + 0x14:word32];
				Mem430[esp_386 + 0x10:word32] = Mem428[ebp_387 + 0x18:word32];
				Mem432[esp_386 + 0x14:word32] = Mem430[ebp_387 + 0x1C:word32];
				Mem434[esp_386 + 0x18:word32] = Mem432[ebp_387 + 0x20:word32];
				Mem436[esp_386 + 0x1C:word32] = Mem434[ebp_387 + 0x24:word32];
				if (save2tmp(bpl_400, gs_399, bArg00, dwArg20) < 0x00)
				{
					Mem441[esp_386 + 0x00:word32] = 0x01;
					exit(Mem441[esp_386 + 0x00:int32]);
				}
				Mem443[esp_386 + 0x00:word32] = Mem436[ebp_387 + 0x0C:word32];
				if (ISclose(dwArg00) == 0x00)
					Mem453[ebp_387 + 0x0C:word32] = 0x00;
				Mem452[esp_386 + 0x00:word32] = Mem443[Mem443[ebp_387 - 0x10 + 0x00:word32] + 0x00:word32];
				myExec(dwArg00);
			}
			Mem409[Mem110[ebp_387 + 0x30:word32] + 0x00:word32] = 0x01;
			eax_152 = 0x01;
		}
		else
		{
			Mem127[fp - 0x4C + 0x00:word32] = Mem110[Mem110[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem129[fp - 0x6C + 0x00:word32] = Mem127[fp + 0x04:word32];
			Mem131[fp - 0x68 + 0x00:word32] = Mem129[fp + 0x08:word32];
			Mem133[fp - 100 + 0x00:word32] = Mem131[fp + 0x0C:word32];
			Mem135[fp - 0x60 + 0x00:word32] = Mem133[fp + 0x10:word32];
			Mem137[fp - 0x5C + 0x00:word32] = Mem135[fp + 0x14:word32];
			Mem139[fp - 88 + 0x00:word32] = Mem137[fp + 0x18:word32];
			Mem141[fp - 0x54 + 0x00:word32] = Mem139[fp + 0x1C:word32];
			Mem143[fp - 0x50 + 0x00:word32] = Mem141[fp + 0x20:word32];
			if (save2tmp(bpl_108, gs, bArg00, dwArg20) < 0x00)
			{
				Mem151[Mem143[fp + 44:word32] + 0x00:word32] = 0x00;
				eax_152 = 0x01;
			}
			else
			{
				if ((Mem143[Mem143[fp - 0x18 + 0x00:word32] + 0x08:word32] & 0x06) != 0x00)
				{
					if (Mem143[fp + 0x30:word32] == 0x00)
					{
						word32 eax_355;
						word32 edx_350 = Mem143[0x081807A0:word32];
						if (Mem143[0x0817C2D8:word32] != 0x00)
							eax_355 = 0x06;
						else
							eax_355 = 0x01;
						word32 ecx_357 = edx_350 - eax_355;
						word32 eax_358 = ecx_357;
						if (ecx_357 < 0x00)
							eax_358 = 0x00;
						Mem366[fp - 0x6C + 0x00:word32] = eax_358;
						Mem368[fp + 0x30:word32] = newBuffer(eax_358, dwArg00);
					}
					if (Mem143[Mem143[fp + 0x30:word32] + 0xB8:word32] != 0x00)
						Mem346[fp - 0x28 + 0x00:word32] = Mem143[Mem143[fp + 0x30:word32] + 0xB8:word32];
					else
						Mem349[fp - 0x28 + 0x00:word32] = Mem143[Mem143[fp - 0x10 + 0x00:word32] + 0x00:word32];
					Mem340[Mem143[fp + 0x30:word32] + 0xB8:word32] = 0x00;
					Mem343[Mem340[fp + 0x30:word32] + 232:word32] = Mem340[fp - 0x18 + 0x00:word32];
				}
				if ((Mem143[Mem143[fp - 0x18 + 0x00:word32] + 0x08:word32] & 0x04) != 0x00)
				{
					word32 eax_240 = Mem143[Mem143[fp - 0x14 + 0x00:word32] + 0x00:word32];
					Mem242[fp - 100 + 0x00:word32] = Mem143[fp + 0x30:word32];
					Mem243[fp - 0x68 + 0x00:word32] = 0x0806D888;
					Mem244[fp - 0x6C + 0x00:word32] = eax_240;
					Mem246[fp - 0x20 + 0x00:word32] = loadcmdout(dwArg00, dwArg04, dwArg08);
					if (Mem246[fp - 0x20 + 0x00:word32] != 0x00 && Mem246[(fp - 0x20) + 0x00:word32] != 0x01)
					{
						Mem252[Mem246[fp - 0x20 + 0x00:word32] + 0x34:word32] = 0x080C9028;
						Mem256[Mem252[fp - 0x20 + 0x00:word32] + 0xEC:word32] = Mem252[Mem252[fp - 0x20 + 0x00:word32] + 0xB8:word32];
						Mem259[Mem256[fp - 0x20 + 0x00:word32] + 0xB8:word32] = Mem256[fp - 0x28 + 0x00:word32];
					}
				}
				else if ((Mem143[Mem143[fp - 0x18 + 0x00:word32] + 0x08:word32] & 0x02) != 0x00)
				{
					word32 eax_268 = Mem143[Mem143[fp - 0x14 + 0x00:word32] + 0x00:word32];
					Mem270[fp - 100 + 0x00:word32] = Mem143[fp + 0x30:word32];
					Mem271[fp - 0x68 + 0x00:word32] = 0x0806F5A5;
					Mem272[fp - 0x6C + 0x00:word32] = eax_268;
					Mem274[fp - 0x20 + 0x00:word32] = loadcmdout(dwArg00, dwArg04, dwArg08);
					if (Mem274[fp - 0x20 + 0x00:word32] != 0x00 && Mem274[(fp - 0x20) + 0x00:word32] != 0x01)
					{
						Mem280[Mem274[fp - 0x20 + 0x00:word32] + 0x34:word32] = 135041053;
						Mem284[Mem280[fp - 0x20 + 0x00:word32] + 0xEC:word32] = Mem280[Mem280[fp - 0x20 + 0x00:word32] + 0xB8:word32];
						Mem287[Mem284[fp - 0x20 + 0x00:word32] + 0xB8:word32] = Mem284[fp - 0x28 + 0x00:word32];
					}
				}
				else
				{
					if ((byte) (Mem143[Mem143[fp - 0x18 + 0x00:word32] + 0x08:word32] & 0x01) == 0x00 && Mem143[0x080D5328:word32] != 0x00)
					{
						word32 eax_325 = Mem143[Mem143[fp - 0x14 + 0x00:word32] + 0x00:word32];
						Mem326[fp - 0x68 + 0x00:word32] = 0x01;
						Mem327[fp - 0x6C + 0x00:word32] = eax_325;
						mySystem(dwArg00, dwArg04);
					}
					else
					{
						fmTerm(gs);
						word32 eax_302 = Mem143[Mem143[fp - 0x14 + 0x00:word32] + 0x00:word32];
						Mem303[fp - 0x68 + 0x00:word32] = 0x00;
						Mem304[fp - 0x6C + 0x00:word32] = eax_302;
						mySystem(dwArg00, dwArg04);
						fmInit(gs);
						if (Mem304[0x08180718:word32] != 0x00 && Mem304[Mem304[0x08180718:word32] + 0x08:word32] != 0x00)
						{
							word32 eax_315 = Mem304[Mem304[0x08180718:word32] + 0x08:word32];
							Mem316[fp - 0x68 + 0x00:word32] = 0x01;
							Mem317[fp - 0x6C + 0x00:word32] = eax_315;
							real64 rArg0_318;
							displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_318);
						}
					}
					Mem300[fp - 0x20 + 0x00:word32] = 0x01;
				}
				if (Mem143[fp - 0x20 + 0x00:word32] != 0x00 && Mem143[(fp - 0x20) + 0x00:word32] != 0x01)
				{
					Mem195[Mem143[fp - 0x20 + 0x00:word32] + 0x00:word32] = Mem143[fp + 0x24:word32];
					if (Mem195[Mem195[fp - 0x20 + 0x00:word32] + 0x04:word32] == 0x00 || (byte) ((word32) Mem195[Mem195[Mem195[(fp - 0x20) + 0x00:word32] + 0x04:word32] + 0x00:byte]) == 0x00)
					{
						word32 esi_218 = Mem195[135091052:word32];
						word32 ebx_219 = Mem195[0x080D5378:word32];
						Mem221[fp - 0x6C + 0x00:word32] = Mem195[fp + 0x24:word32];
						word32 eax_222 = lastFileName(dwArg00);
						Mem223[fp - 0x6C + 0x00:word32] = eax_222;
						Strnew_charp(eax_222, dwArg00);
						Mem224[fp - 100 + 0x00:word32] = esi_218;
						Mem225[fp - 0x68 + 0x00:word32] = ebx_219;
						Mem226[fp - 0x6C + 0x00:word32] = eax_222;
						word32 ebx_227;
						Mem231[Mem226[fp - 0x20 + 0x00:word32] + 0x04:word32] = Mem226[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_227) + 0x00:word32];
					}
					Mem210[Mem195[fp - 0x20 + 0x00:word32] + 228:word32] = Mem195[Mem195[fp - 0x18 + 0x00:word32] + 0x14:word32];
					Mem213[Mem210[fp - 0x20 + 0x00:word32] + 232:word32] = Mem210[fp - 0x18 + 0x00:word32];
				}
				Mem188[Mem143[fp + 44:word32] + 0x00:word32] = Mem143[fp - 0x20 + 0x00:word32];
				eax_152 = 0x01;
			}
		}
	}
	return eax_152;
}

// 08071480: Register word32 _MoveFile(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
word32 _MoveFile(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 eax_121;
	word32 eax_19 = open(dwArg04, 0x00);
	word32 ebp_200 = fp - 0x04;
	word32 esp_199 = fp - 0x3C;
	word32 eax_21 = newInputStream(eax_19, eax_19);
	if (eax_21 == 0x00)
		eax_121 = ~0x00;
	else
	{
		word32 eax_182;
		word32 dwLoc14_185;
		if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x7C && (byte) ((word32) Mem0[135774794:byte]) != 0x00)
		{
			word32 ebx_201;
			byte SCZO_202;
			byte Z_204;
			byte al_205;
			byte SZO_206;
			byte C_207;
			word32 edx_208;
			word32 ecx_209;
			!popen();
			dwLoc14_185 = eax_182;
		}
		else
		{
			eax_182 = fopen(dwArg08, 0x080CAA7E);
			dwLoc14_185 = eax_182;
		}
		if (dwLoc14_185 == 0x00)
		{
			ISclose(eax_21);
			eax_121 = ~0x00;
		}
		else
		{
			Mem86[0x0817C8B0:word32] = 0x00;
			Mem87[135776436:word32] = 0x00;
			Strnew_size(eax_182, 0x0600);
			while (true)
			{
				Mem97[esp_199 + 0x08:word32] = 0x0600;
				Mem99[esp_199 + 0x04:word32] = Mem97[ebp_200 - 0x18 + 0x00:word32];
				Mem101[esp_199 + 0x00:word32] = Mem99[ebp_200 - 0x0C + 0x00:word32];
				if (ISread(dwArg00, dwArg04, dwArg08) == 0x00)
					break;
				word32 eax_141 = Mem101[Mem101[ebp_200 - 0x18 + 0x00:word32] + 0x04:word32];
				word32 eax_144 = Mem101[Mem101[ebp_200 - 0x18 + 0x00:word32] + 0x00:word32];
				Mem146[esp_199 + 0x0C:word32] = Mem101[ebp_200 - 0x10 + 0x00:word32];
				Mem147[esp_199 + 0x08:word32] = eax_141;
				Mem148[esp_199 + 0x04:word32] = 0x01;
				Mem149[esp_199 + 0x00:word32] = eax_144;
				fwrite(Mem149[esp_199 + 0x00:(ptr void)], Mem149[esp_199 + 0x04:size_t], Mem149[esp_199 + 0x08:size_t], Mem149[esp_199 + 0x0C:(ptr FILE)]);
				word32 eax_152 = Mem149[Mem149[ebp_200 - 0x18 + 0x00:word32] + 0x04:word32];
				ui64 edx_eax_162 = SEQ(Mem149[ebp_200 - 0x1C + 0x00:word32], Mem149[ebp_200 - 0x20 + 0x00:word32] + eax_152) + SEQ(eax_152 >> 0x1F, eax_152);
				Mem166[ebp_200 - 0x20 + 0x00:word32] = (word32) edx_eax_162;
				Mem167[ebp_200 - 0x1C + 0x00:word32] = SLICE(edx_eax_162, word32, 32);
				Mem169[esp_199 + 0x04:word32] = ebp_200 - 0x28;
				Mem171[esp_199 + 0x00:word32] = ebp_200 - 0x20;
				showProgress(ebp_200, dwArg00, dwArg04, rArg1, rArg2);
			}
			Mem108[esp_199 + 0x00:word32] = Mem101[ebp_200 - 0x0C + 0x00:word32];
			ISclose(dwArg00);
			if (Mem108[ebp_200 - 0x14 + 0x00:word32] != 0x00)
			{
				word32 eax_124 = Mem108[ebp_200 - 0x10 + 0x00:word32];
				Mem125[esp_199 + 0x00:word32] = eax_124;
				word32 esp_126;
				word32 ebp_127;
				word32 ebx_128;
				byte SCZO_129;
				word32 eax_130;
				byte Z_131;
				byte al_132;
				byte SZO_133;
				byte C_134;
				word32 edx_135;
				word32 ecx_136;
				!pclose();
			}
			else
			{
				Mem138[esp_199 + 0x00:word32] = Mem108[ebp_200 - 0x10 + 0x00:word32];
				fclose(Mem138[esp_199 + 0x00:(ptr FILE)]);
			}
			eax_121 = 0x00;
		}
	}
	return eax_121;
}

// 0807160F: Register word32 _doFileCopy(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
word32 _doFileCopy(word32 ebp, selector gs, word32 dwArg08)
{
	word32 eax_150;
	if ((byte) (word32) Mem0[135774799:byte] != 0x00)
	{
		word32 eax_82 = searchKeyData();
		if (eax_82 == 0x00 || (byte) ((word32) Mem0[eax_82 + 0x00:byte]) == 0x00)
		{
			Mem371[fp - 44 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080CAA8B, dwArg08, 0x80, Mem0[0x08180540:word32]);
			if (Mem371[fp - 44 + 0x00:word32] == 0x00 || (byte) ((word32) Mem371[Mem371[(fp - 44) + 0x00:word32] + 0x00:byte]) == 0x00)
			{
				eax_150 = 0x00;
				return eax_150;
			}
			word32 esi_386 = Mem371[0x080D5378:word32];
			word32 ebx_387 = Mem371[135091052:word32];
			word32 eax_388 = Mem371[fp - 44 + 0x00:word32];
			Mem389[fp - 188 + 0x00:word32] = eax_388;
			Strnew_charp(eax_388, dwArg00);
			Mem390[fp - 0xB4 + 0x00:word32] = esi_386;
			Mem391[fp - 0xB8 + 0x00:word32] = ebx_387;
			Mem392[fp - 188 + 0x00:word32] = eax_388;
			word32 ebx_393;
			Mem396[fp - 0x28 + 0x00:word32] = Mem392[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_393) + 0x00:word32];
		}
		if ((byte) (word32) Mem0[Mem0[fp - 0x28 + 0x00:word32] + 0x00:byte] == 0x7C && (byte) ((word32) Mem0[135774794:byte]) != 0x00)
			Mem359[fp - 0x38 + 0x00:word32] = 0x01;
		else
		{
			if (Mem0[fp - 44 + 0x00:word32] != 0x00)
			{
				word32 eax_337 = Mem0[fp - 44 + 0x00:word32];
				Mem338[fp - 188 + 0x00:word32] = eax_337;
				Strnew_charp(eax_337, dwArg00);
				Mem339[fp - 188 + 0x00:word32] = eax_337;
				Mem342[fp - 0x28 + 0x00:word32] = Mem339[unescape_spaces(dwArg00) + 0x00:word32];
				word32 esi_343 = Mem342[0x080D5378:word32];
				word32 ebx_344 = Mem342[135091052:word32];
				word32 eax_345 = Mem342[fp - 44 + 0x00:word32];
				Mem346[fp - 188 + 0x00:word32] = eax_345;
				Strnew_charp(eax_345, dwArg00);
				Mem347[fp - 0xB4 + 0x00:word32] = esi_343;
				Mem348[fp - 0xB8 + 0x00:word32] = ebx_344;
				Mem349[fp - 188 + 0x00:word32] = eax_345;
				word32 ebx_350;
				Mem353[fp - 0x28 + 0x00:word32] = Mem349[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_350) + 0x00:word32];
			}
			Mem325[fp - 188 + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32];
			Mem327[fp - 0x28 + 0x00:word32] = expandPath(dwArg00);
			Mem329[fp - 188 + 0x00:word32] = Mem327[fp - 0x28 + 0x00:word32];
			byte bpl_330;
			if (checkOverWrite(gs, dwArg00, out bpl_330) < 0x00)
			{
				eax_150 = ~0x00;
				return eax_150;
			}
		}
		Mem107[fp - 0xB8 + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32];
		Mem109[fp - 188 + 0x00:word32] = Mem107[fp + 0x04:word32];
		if (checkCopyFile(dwArg00, dwArg04) < 0x00)
		{
			word32 esi_116 = Mem109[135091052:word32];
			word32 ebx_117 = Mem109[0x080D5378:word32];
			word32 eax_118 = Mem109[fp - 0x28 + 0x00:word32];
			Mem119[fp - 188 + 0x00:word32] = eax_118;
			Strnew_charp(eax_118, dwArg00);
			Mem120[fp - 0xB4 + 0x00:word32] = esi_116;
			Mem121[fp - 0xB8 + 0x00:word32] = ebx_117;
			Mem122[fp - 188 + 0x00:word32] = eax_118;
			word32 ebx_124;
			wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_124);
			word32 edi_127 = Mem122[135091052:word32];
			word32 esi_128 = Mem122[0x080D5378:word32];
			word32 eax_129 = Mem122[fp + 0x04:word32];
			Mem130[fp - 188 + 0x00:word32] = eax_129;
			Strnew_charp(eax_129, dwArg00);
			Mem131[fp - 0xB4 + 0x00:word32] = edi_127;
			Mem132[fp - 0xB8 + 0x00:word32] = esi_128;
			Mem133[fp - 188 + 0x00:word32] = eax_129;
			word32 ebx_134;
			word32 eax_136 = Mem133[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_134) + 0x00:word32];
			Mem137[fp - 0xB4 + 0x00:word32] = ebx_134;
			Mem138[fp - 0xB8 + 0x00:word32] = eax_136;
			Mem139[fp - 188 + 0x00:word32] = 0x080CAAA4;
			byte bpl_140;
			Mem142[fp - 0x20 + 0x00:word32] = Sprintf(dwArg00, out bpl_140);
			word32 eax_144 = Mem142[Mem142[fp - 0x20 + 0x00:word32] + 0x00:word32];
			Mem145[fp - 0xB8 + 0x00:word32] = 0x00;
			Mem146[fp - 188 + 0x00:word32] = eax_144;
			byte bpl_148;
			disp_err_message(gs, dwArg00, dwArg04, out bpl_148);
			eax_150 = ~0x00;
			return eax_150;
		}
		if (Mem109[fp + 0x0C:word32] == 0x00)
		{
			Mem158[fp - 0xB8 + 0x00:word32] = Mem109[fp - 0x28 + 0x00:word32];
			Mem160[fp - 188 + 0x00:word32] = Mem158[fp + 0x04:word32];
			if (_MoveFile(fp - 0x04, dwArg00, dwArg04) < 0x00)
			{
				word32 esi_170 = Mem160[135091052:word32];
				word32 ebx_171 = Mem160[0x080D5378:word32];
				word32 eax_172 = Mem160[fp - 0x28 + 0x00:word32];
				Mem173[fp - 188 + 0x00:word32] = eax_172;
				Strnew_charp(eax_172, dwArg00);
				Mem174[fp - 0xB4 + 0x00:word32] = esi_170;
				Mem175[fp - 0xB8 + 0x00:word32] = ebx_171;
				Mem176[fp - 188 + 0x00:word32] = eax_172;
				word32 ebx_177;
				Mem180[fp - 0xB8 + 0x00:word32] = Mem176[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_177) + 0x00:word32];
				Mem181[fp - 188 + 0x00:word32] = 0x080CAAC9;
				byte bpl_182;
				Mem184[fp - 0x20 + 0x00:word32] = Sprintf(dwArg00, out bpl_182);
				word32 eax_186 = Mem184[Mem184[fp - 0x20 + 0x00:word32] + 0x00:word32];
				Mem187[fp - 0xB8 + 0x00:word32] = 0x00;
				Mem188[fp - 188 + 0x00:word32] = eax_186;
				byte bpl_189;
				disp_err_message(gs, dwArg00, dwArg04, out bpl_189);
			}
			eax_150 = ~0x00;
			return eax_150;
		}
		Mem191[fp - 0xB8 + 0x00:word32] = 0x080CAADA;
		Mem192[fp - 188 + 0x00:word32] = 0x00;
		byte bpl_193;
		Mem196[fp - 0x34 + 0x00:word32] = Mem192[tmpfname(fp - 0x04, dwArg00, dwArg04, out bpl_193) + 0x00:word32];
		Mem198[fp - 0xB8 + 0x00:word32] = Mem196[fp - 0x34 + 0x00:word32];
		word32 eax_199 = Mem198[fp - 0x28 + 0x00:word32];
		Mem200[fp - 188 + 0x00:word32] = eax_199;
		word32 esp_201;
		word32 ebp_202;
		word32 edi_203;
		word32 esi_204;
		word32 ebx_205;
		byte SCZO_206;
		word32 eax_207;
		byte al_208;
		byte SZO_209;
		byte C_210;
		byte Z_211;
		byte S_212;
		word32 edx_213;
		word32 ecx_214;
		selector gs_215;
		byte bpl_216;
		!symlink();
		word32 eax_217 = flush_tty();
		word32 esp_218;
		word32 ebp_219;
		word32 edi_220;
		word32 esi_221;
		word32 ebx_222;
		byte SCZO_223;
		word32 eax_224;
		byte al_225;
		byte SZO_226;
		byte C_227;
		byte Z_228;
		byte S_229;
		word32 edx_230;
		word32 ecx_231;
		selector gs_232;
		byte bpl_233;
		!fork();
		Mem234[ebp_219 - 44 + 0x00:word32] = eax_224;
		if (Mem234[ebp_219 - 44 + 0x00:word32] == 0x00)
		{
			Mem237[esp_218 + 0x08:word32] = ~0x00;
			Mem238[esp_218 + 0x04:word32] = 0x00;
			Mem239[esp_218 + 0x00:word32] = 0x00;
			setup_child(dwArg00, dwArg04, dwArg08);
			Mem241[esp_218 + 0x04:word32] = Mem239[ebp_219 - 0x24 + 0x00:word32];
			Mem243[esp_218 + 0x00:word32] = Mem241[ebp_219 + 0x08:word32];
			if (_MoveFile(ebp_219, dwArg00, dwArg04) == 0x00 && ((byte) ((word32) Mem243[0x080D52C4:byte]) != 0x00 && Mem243[(ebp_219 - 0x34) + 0x00:word32] == 0x00))
			{
				word32 eax_265 = Mem243[ebp_219 + 0x08:word32];
				Mem267[esp_218 + 0x04:word32] = ebp_219 - 0x98;
				Mem268[esp_218 + 0x00:word32] = eax_265;
				if (stat(dwArg00, dwArg04) == 0x00)
				{
					Mem274[esp_218 + 0x04:word32] = Mem268[ebp_219 - 88 + 0x00:word32];
					Mem276[esp_218 + 0x00:word32] = Mem274[ebp_219 - 0x24 + 0x00:word32];
					setModtime(dwArg00, dwArg04);
				}
			}
			Mem255[esp_218 + 0x00:word32] = Mem243[ebp_219 - 0x30 + 0x00:word32];
			unlink(Mem255[esp_218 + 0x00:(ptr char)]);
			Mem257[esp_218 + 0x00:word32] = 0x00;
			exit(Mem257[esp_218 + 0x00:int32]);
		}
		word32 eax_277 = Mem234[ebp_219 + 0x08:word32];
		Mem279[esp_218 + 0x04:word32] = ebp_219 - 0x98;
		Mem280[esp_218 + 0x00:word32] = eax_277;
		if (stat(dwArg00, dwArg04) == 0x00)
		{
			word32 eax_310 = Mem280[ebp_219 - 0x6C + 0x00:word32];
			Mem314[ebp_219 - 0x40 + 0x00:word32] = eax_310;
			Mem315[ebp_219 - 0x3C + 0x00:word32] = eax_310 >> 0x1F;
		}
		word32 esi_286 = Mem280[135091052:word32];
		word32 ebx_287 = Mem280[0x080D5378:word32];
		word32 eax_288 = Mem280[ebp_219 + 0x08:word32];
		Mem289[esp_218 + 0x00:word32] = eax_288;
		Strnew_charp(eax_288, dwArg00);
		Mem290[esp_218 + 0x08:word32] = esi_286;
		Mem291[esp_218 + 0x04:word32] = ebx_287;
		Mem292[esp_218 + 0x00:word32] = eax_288;
		word32 ebx_293;
		word32 ecx_295 = Mem292[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_293) + 0x00:word32];
		word32 edx_297 = Mem292[ebp_219 - 0x3C + 0x00:word32];
		Mem298[esp_218 + 0x10:word32] = Mem292[ebp_219 - 0x40 + 0x00:word32];
		Mem299[esp_218 + 0x14:word32] = edx_297;
		Mem301[esp_218 + 0x0C:word32] = Mem299[ebp_219 - 0x30 + 0x00:word32];
		Mem303[esp_218 + 0x08:word32] = Mem301[ebp_219 - 0x24 + 0x00:word32];
		Mem304[esp_218 + 0x04:word32] = ecx_295;
		Mem306[esp_218 + 0x00:word32] = Mem304[ebp_219 - 44 + 0x00:word32];
		addDownloadList(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
	}
	else
	{
		word32 eax_408 = searchKeyData();
		word32 dwLoc2C_409 = eax_408;
		if (eax_408 == 0x00 || (byte) ((word32) Mem0[eax_408 + 0x00:byte]) == 0x00)
		{
			printf(0x080CAA8B);
			fflush(Mem0[0x0817C220:word32]);
			word32 eax_544 = Mem0[135774740:word32];
			Strfgets(eax_544, eax_544);
			if (Mem0[eax_544 + 0x04:word32] == 0x00)
			{
				eax_150 = ~0x00;
				return eax_150;
			}
			dwLoc2C_409 = Mem0[eax_544 + 0x00:word32];
		}
		word32 dwLoc28_424 = strlen(dwLoc2C_409) - 0x01 + dwLoc2C_409 + 0x01;
		while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc28_424 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
			dwLoc28_424 = dwLoc28_424 - 0x01;
		Mem440[dwLoc28_424 + 0x00:byte] = 0x00;
		if ((byte) (word32) Mem440[dwLoc2C_409 + 0x00:byte] == 0x00)
		{
			eax_150 = ~0x00;
			return eax_150;
		}
		if ((byte) (word32) Mem440[dwLoc2C_409 + 0x00:byte] != 0x7C || (byte) ((word32) Mem440[135774794:byte]) == 0x00)
		{
			byte bpl_521;
			if (checkOverWrite(gs, expandPath(dwLoc2C_409), out bpl_521) < 0x00)
			{
				eax_150 = ~0x00;
				return eax_150;
			}
		}
		Mem463[fp - 0xB8 + 0x00:word32] = Mem440[fp - 0x28 + 0x00:word32];
		Mem465[fp - 188 + 0x00:word32] = Mem463[fp + 0x04:word32];
		if (checkCopyFile(dwArg00, dwArg04) < 0x00)
		{
			Mem472[fp - 0xB4 + 0x00:word32] = Mem465[fp - 0x28 + 0x00:word32];
			Mem474[fp - 0xB8 + 0x00:word32] = Mem472[fp + 0x04:word32];
			Mem475[fp - 188 + 0x00:word32] = 0x080CAAA4;
			printf(Mem475[fp - 188 + 0x00:(ptr char)], Mem475[fp - 0xB8 + 0x00:(ptr char)], Mem475[fp - 0xB4 + 0x00:(ptr char)]);
			eax_150 = ~0x00;
			return eax_150;
		}
		Mem480[fp - 0xB8 + 0x00:word32] = Mem465[fp - 0x28 + 0x00:word32];
		Mem482[fp - 188 + 0x00:word32] = Mem480[fp + 0x04:word32];
		if (_MoveFile(fp - 0x04, dwArg00, dwArg04) < 0x00)
		{
			Mem489[fp - 0xB8 + 0x00:word32] = Mem482[fp - 0x28 + 0x00:word32];
			Mem490[fp - 188 + 0x00:word32] = 0x080CAAE0;
			printf(Mem490[fp - 188 + 0x00:(ptr char)], Mem490[fp - 0xB8 + 0x00:(ptr char)]);
			eax_150 = ~0x00;
			return eax_150;
		}
		if ((byte) (word32) Mem482[0x080D52C4:byte] != 0x00 && Mem482[(fp - 0x38) + 0x00:word32] == 0x00)
		{
			word32 eax_501 = Mem482[fp + 0x04:word32];
			Mem503[fp - 0xB8 + 0x00:word32] = fp - 0x9C;
			Mem504[fp - 188 + 0x00:word32] = eax_501;
			if (stat(dwArg00, dwArg04) == 0x00)
			{
				Mem510[fp - 0xB8 + 0x00:word32] = Mem504[fp - 0x5C + 0x00:word32];
				Mem512[fp - 188 + 0x00:word32] = Mem510[fp - 0x28 + 0x00:word32];
				setModtime(dwArg00, dwArg04);
			}
		}
	}
	eax_150 = 0x00;
	return eax_150;
}

// 08071B71: void doFileMove(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void doFileMove(selector gs, word32 dwArg04, word32 dwArg08)
{
	Mem17[fp - 0x10 + 0x00:word32] = _doFileCopy(fp - 0x04, gs, dwArg08);
	Mem19[fp - 44 + 0x00:word32] = Mem17[fp + 0x04:word32];
	unlink(Mem19[fp - 44 + 0x00:(ptr char)]);
}

// 08071BA4: Register word32 doFileSave(Register word32 ebp, Register selector gs, Stack word32 dwArg24)
word32 doFileSave(word32 ebp, selector gs, word32 dwArg24)
{
	word32 eax_131;
	word32 ebp_402 = fp - 0x04;
	if ((byte) (word32) Mem0[135774799:byte] != 0x00)
	{
		word32 eax_71 = searchKeyData();
		if (eax_71 == 0x00 || (byte) ((word32) Mem0[eax_71 + 0x00:byte]) == 0x00)
		{
			Mem289[fp - 0x18 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080CAA8B, dwArg24, 0x20, Mem0[0x08180540:word32]);
			if (Mem289[fp - 0x18 + 0x00:word32] == 0x00 || (byte) ((word32) Mem289[Mem289[(fp - 0x18) + 0x00:word32] + 0x00:byte]) == 0x00)
			{
				eax_131 = ~0x00;
				return eax_131;
			}
			word32 esi_304 = Mem289[0x080D5378:word32];
			word32 ebx_305 = Mem289[135091052:word32];
			word32 eax_306 = Mem289[fp - 0x18 + 0x00:word32];
			Mem307[fp - 0x5C + 0x00:word32] = eax_306;
			Strnew_charp(eax_306, dwArg00);
			Mem308[fp - 0x54 + 0x00:word32] = esi_304;
			Mem309[fp - 88 + 0x00:word32] = ebx_305;
			Mem310[fp - 0x5C + 0x00:word32] = eax_306;
			word32 ebx_311;
			Mem314[fp - 0x18 + 0x00:word32] = Mem310[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_311) + 0x00:word32];
		}
		Mem86[fp - 0x5C + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
		byte bpl_89;
		if (checkOverWrite(gs, dwArg00, out bpl_89) < 0x00)
		{
			eax_131 = ~0x00;
			return eax_131;
		}
		word32 eax_100 = Mem86[fp + 0x08:word32];
		word32 edx_101 = Mem86[fp - 0x18 + 0x00:word32];
		Mem102[fp - 88 + 0x00:word32] = edx_101;
		Mem103[fp - 0x5C + 0x00:word32] = eax_100;
		if (checkSaveFile(dwArg00, dwArg04) < 0x00)
		{
			word32 esi_109 = Mem103[135091052:word32];
			word32 ebx_110 = Mem103[0x080D5378:word32];
			word32 eax_111 = Mem103[fp - 0x18 + 0x00:word32];
			Mem112[fp - 0x5C + 0x00:word32] = eax_111;
			Strnew_charp(eax_111, dwArg00);
			Mem113[fp - 0x54 + 0x00:word32] = esi_109;
			Mem114[fp - 88 + 0x00:word32] = ebx_110;
			Mem115[fp - 0x5C + 0x00:word32] = eax_111;
			word32 ebx_117;
			Mem120[fp - 88 + 0x00:word32] = Mem115[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_117) + 0x00:word32];
			Mem121[fp - 0x5C + 0x00:word32] = 0x080CAAF4;
			byte bpl_122;
			Mem124[fp - 0x10 + 0x00:word32] = Sprintf(dwArg00, out bpl_122);
			word32 eax_126 = Mem124[Mem124[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem127[fp - 88 + 0x00:word32] = 0x00;
			Mem128[fp - 0x5C + 0x00:word32] = eax_126;
			byte bpl_129;
			disp_err_message(gs, dwArg00, dwArg04, out bpl_129);
			eax_131 = ~0x00;
			return eax_131;
		}
		Mem133[fp - 88 + 0x00:word32] = 0x080CAADA;
		Mem134[fp - 0x5C + 0x00:word32] = 0x00;
		byte bpl_135;
		Mem138[fp - 0x24 + 0x00:word32] = Mem134[tmpfname(fp - 0x04, dwArg00, dwArg04, out bpl_135) + 0x00:word32];
		Mem140[fp - 88 + 0x00:word32] = Mem138[fp - 0x24 + 0x00:word32];
		word32 eax_141 = Mem140[fp - 0x18 + 0x00:word32];
		Mem142[fp - 0x5C + 0x00:word32] = eax_141;
		word32 esp_143;
		word32 ebp_144;
		word32 esi_145;
		word32 ebx_146;
		byte SCZO_147;
		word32 eax_148;
		byte al_149;
		byte SZO_150;
		byte C_151;
		byte Z_152;
		byte S_153;
		word32 edx_154;
		word32 ecx_155;
		selector gs_156;
		byte bpl_157;
		!symlink();
		word32 eax_158 = flush_tty();
		word32 esp_159;
		word32 esi_161;
		word32 ebx_162;
		byte SCZO_163;
		word32 eax_164;
		byte al_165;
		byte SZO_166;
		byte C_167;
		byte Z_168;
		byte S_169;
		word32 edx_170;
		word32 ecx_171;
		selector gs_172;
		byte bpl_173;
		word32 ebp_160;
		!fork();
		Mem174[ebp_160 - 0x1C + 0x00:word32] = eax_164;
		if (Mem174[ebp_160 - 0x1C + 0x00:word32] == 0x00)
		{
			if (Mem174[ebp_160 + 0x18:word32] != 0x00 && (byte) ((word32) Mem174[135774796:byte]) != 0x00)
			{
				Mem250[esp_159 + 0x04:word32] = ebp_160 - 0x24;
				Mem252[esp_159 + 0x00:word32] = ebp_160 + 0x08;
				bpl_173 = uncompress_stream(ebp_160, dwArg00);
				ebp_160 = DPB(ebp_160, bpl_173, 0);
				if (Mem252[ebp_160 - 0x24 + 0x00:word32] != 0x00)
				{
					Mem260[esp_159 + 0x00:word32] = Mem252[ebp_160 - 0x24 + 0x00:word32];
					unlink(Mem260[esp_159 + 0x00:(ptr char)]);
				}
			}
			Mem185[esp_159 + 0x00:word32] = Mem174[ebp_160 + 0x0C:word32];
			Mem187[esp_159 + 0x08:word32] = ISfileno(dwArg00);
			Mem188[esp_159 + 0x04:word32] = 0x00;
			Mem189[esp_159 + 0x00:word32] = 0x00;
			setup_child(dwArg00, dwArg04, dwArg08);
			Mem191[esp_159 + 0x20:word32] = Mem189[ebp_160 - 0x14 + 0x00:word32];
			Mem193[esp_159 + 0x00:word32] = Mem191[ebp_160 + 0x08:word32];
			Mem195[esp_159 + 0x04:word32] = Mem193[ebp_160 + 0x0C:word32];
			Mem197[esp_159 + 0x08:word32] = Mem195[ebp_160 + 0x10:word32];
			Mem199[esp_159 + 0x0C:word32] = Mem197[ebp_160 + 0x14:word32];
			Mem201[esp_159 + 0x10:word32] = Mem199[ebp_160 + 0x18:word32];
			Mem203[esp_159 + 0x14:word32] = Mem201[ebp_160 + 0x1C:word32];
			Mem205[esp_159 + 0x18:word32] = Mem203[ebp_160 + 0x20:word32];
			Mem207[esp_159 + 0x1C:word32] = Mem205[ebp_160 + 0x24:word32];
			if (save2tmp(bpl_173, gs_172, bArg00, dwArg20) == 0x00 && ((byte) ((word32) Mem207[0x080D52C4:byte]) != 0x00 && Mem207[ebp_160 + 0x24:word32] != ~0x00))
			{
				Mem241[esp_159 + 0x04:word32] = Mem207[ebp_160 + 0x24:word32];
				Mem243[esp_159 + 0x00:word32] = Mem241[ebp_160 - 0x14 + 0x00:word32];
				setModtime(dwArg00, dwArg04);
			}
			Mem217[esp_159 + 0x00:word32] = Mem207[ebp_160 + 0x0C:word32];
			if (ISclose(dwArg00) == 0x00)
				Mem228[ebp_160 + 0x0C:word32] = 0x00;
			Mem225[esp_159 + 0x00:word32] = Mem217[ebp_160 - 0x20 + 0x00:word32];
			unlink(Mem225[esp_159 + 0x00:(ptr char)]);
			Mem227[esp_159 + 0x00:word32] = 0x00;
			exit(Mem227[esp_159 + 0x00:int32]);
		}
		word32 edx_263 = Mem174[135776436:word32];
		word32 ecx_264 = Mem174[ebp_160 + 0x20:word32];
		Mem265[esp_159 + 0x10:word32] = Mem174[0x0817C8B0:word32];
		Mem266[esp_159 + 0x14:word32] = edx_263;
		Mem268[esp_159 + 0x0C:word32] = Mem266[ebp_160 - 0x20 + 0x00:word32];
		Mem270[esp_159 + 0x08:word32] = Mem268[ebp_160 - 0x14 + 0x00:word32];
		Mem271[esp_159 + 0x04:word32] = ecx_264;
		Mem273[esp_159 + 0x00:word32] = Mem271[ebp_160 - 0x1C + 0x00:word32];
		addDownloadList(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
	}
	else
	{
		word32 eax_326 = searchKeyData();
		word32 dwLoc1C_327 = eax_326;
		if (eax_326 == 0x00 || (byte) ((word32) Mem0[eax_326 + 0x00:byte]) == 0x00)
		{
			printf(0x080CAA8B);
			fflush(Mem0[0x0817C220:word32]);
			word32 eax_472 = Mem0[135774740:word32];
			Strfgets(eax_472, eax_472);
			if (Mem0[eax_472 + 0x04:word32] == 0x00)
			{
				eax_131 = ~0x00;
				return eax_131;
			}
			dwLoc1C_327 = Mem0[eax_472 + 0x00:word32];
		}
		word32 dwLoc18_342 = strlen(dwLoc1C_327) - 0x01 + dwLoc1C_327 + 0x01;
		while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc18_342 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
			dwLoc18_342 = dwLoc18_342 - 0x01;
		Mem358[dwLoc18_342 + 0x00:byte] = 0x00;
		if ((byte) (word32) Mem358[dwLoc1C_327 + 0x00:byte] == 0x00)
		{
			eax_131 = ~0x00;
			return eax_131;
		}
		byte bpl_373;
		if (checkOverWrite(gs, expandPath(dwLoc1C_327), out bpl_373) < 0x00)
		{
			eax_131 = ~0x00;
			return eax_131;
		}
		word32 eax_380 = Mem358[fp + 0x08:word32];
		Mem382[fp - 88 + 0x00:word32] = Mem358[fp - 0x18 + 0x00:word32];
		Mem383[fp - 0x5C + 0x00:word32] = eax_380;
		if (checkSaveFile(dwArg00, dwArg04) < 0x00)
		{
			Mem390[fp - 88 + 0x00:word32] = Mem383[fp - 0x18 + 0x00:word32];
			Mem391[fp - 0x5C + 0x00:word32] = 0x080CAAF4;
			printf(Mem391[fp - 0x5C + 0x00:(ptr char)], Mem391[fp - 88 + 0x00:(ptr char)]);
			eax_131 = ~0x00;
			return eax_131;
		}
		if (Mem383[fp + 0x14:word32] != 0x00 && (byte) ((word32) Mem383[135774796:byte]) != 0x00)
		{
			Mem450[fp - 88 + 0x00:word32] = fp - 0x28;
			Mem452[fp - 0x5C + 0x00:word32] = fp + 0x04;
			bpl_373 = uncompress_stream(fp - 0x04, dwArg00);
			ebp_402 = DPB(fp - 0x04, bpl_373, 0);
			if (Mem452[ebp_402 - 0x24 + 0x00:word32] != 0x00)
			{
				Mem460[fp - 0x5C + 0x00:word32] = Mem452[ebp_402 - 0x24 + 0x00:word32];
				unlink(Mem460[fp - 0x5C + 0x00:(ptr char)]);
			}
		}
		Mem404[fp - 0x3C + 0x00:word32] = Mem383[ebp_402 - 0x14 + 0x00:word32];
		Mem406[fp - 0x5C + 0x00:word32] = Mem404[ebp_402 + 0x08:word32];
		Mem408[fp - 88 + 0x00:word32] = Mem406[ebp_402 + 0x0C:word32];
		Mem410[fp - 0x54 + 0x00:word32] = Mem408[ebp_402 + 0x10:word32];
		Mem412[fp - 0x50 + 0x00:word32] = Mem410[ebp_402 + 0x14:word32];
		Mem414[fp - 0x4C + 0x00:word32] = Mem412[ebp_402 + 0x18:word32];
		Mem416[fp - 0x48 + 0x00:word32] = Mem414[ebp_402 + 0x1C:word32];
		Mem418[fp - 0x44 + 0x00:word32] = Mem416[ebp_402 + 0x20:word32];
		Mem420[fp - 0x40 + 0x00:word32] = Mem418[ebp_402 + 0x24:word32];
		if (save2tmp(bpl_373, gs, bArg00, dwArg20) < 0x00)
		{
			Mem427[fp - 88 + 0x00:word32] = Mem420[ebp_402 - 0x14 + 0x00:word32];
			Mem428[fp - 0x5C + 0x00:word32] = 0x080CAAE0;
			printf(Mem428[fp - 0x5C + 0x00:(ptr char)], Mem428[fp - 88 + 0x00:(ptr char)]);
			eax_131 = ~0x00;
			return eax_131;
		}
		if ((byte) (word32) Mem420[0x080D52C4:byte] != 0x00 && Mem420[ebp_402 + 0x24:word32] != ~0x00)
		{
			Mem441[fp - 88 + 0x00:word32] = Mem420[ebp_402 + 0x24:word32];
			Mem443[fp - 0x5C + 0x00:word32] = Mem441[ebp_402 - 0x14 + 0x00:word32];
			setModtime(dwArg00, dwArg04);
		}
	}
	eax_131 = 0x00;
	return eax_131;
}

// 0807201D: Register word32 checkCopyFile(Stack word32 dwArg04, Stack word32 dwArg08)
word32 checkCopyFile(word32 dwArg04, word32 dwArg08)
{
	word32 eax_21;
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x7C && (byte) ((word32) Mem0[135774794:byte]) != 0x00)
		eax_21 = 0x00;
	else if (stat(dwArg04, fp - 100) == 0x00 && (stat(dwArg08, fp - 188) == 0x00 && dwLoc58 == dwLocB0))
		eax_21 = ~0x00;
	else
		eax_21 = 0x00;
	return eax_21;
}

// 0807208C: Register word32 checkSaveFile(Stack word32 dwArg04, Stack word32 dwArg08)
word32 checkSaveFile(word32 dwArg04, word32 dwArg08)
{
	word32 eax_22;
	word32 eax_11 = ISfileno(dwArg04);
	if (eax_11 < 0x00)
		eax_22 = 0x00;
	else if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x7C && (byte) ((word32) Mem0[135774794:byte]) != 0x00)
		eax_22 = 0x00;
	else if (fstat(eax_11, fp - 0x68) == 0x00 && (stat(dwArg08, fp - 0xC0) == 0x00 && dwLoc5C == dwLocB4))
		eax_22 = ~0x00;
	else
		eax_22 = 0x00;
	return eax_22;
}

// 08072116: Register word32 checkOverWrite(Register selector gs, Stack word32 dwArg04, Register out ptr32 bplOut)
word32 checkOverWrite(selector gs, word32 dwArg04, ptr32 & bplOut)
{
	word32 eax_23;
	if (stat(dwArg04, fp - 0x68) < 0x00)
	{
		eax_23 = 0x00;
		goto l0807218D;
	}
	Mem37[fp - 0x10 + 0x00:word32] = inputAnswer(gs, 0x080CAB20);
	if (Mem37[fp - 0x10 + 0x00:word32] == 0x00)
	{
l08072188:
		eax_23 = ~0x00;
		goto l0807218D;
	}
	else
	{
		if (((word32) (byte) (word32) Mem37[(word32) (byte) (word32) Mem37[Mem37[fp - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
		{
			if ((byte) ((word32) Mem37[Mem37[fp - 0x10 + 0x00:word32] + 0x00:byte] | 0x20) != 121)
				goto l08072188;
		}
		else if ((byte) (word32) Mem37[Mem37[fp - 0x10 + 0x00:word32] + 0x00:byte] != 121)
			goto l08072188;
		eax_23 = 0x00;
l0807218D:
		byte bpl_28;
		*bplOut = (byte) Mem0[fp - 0x04 + 0x00:word32];
		return eax_23;
	}
}

// 0807218F: Register word32 inputAnswer(Register selector gs, Stack word32 dwArg04)
word32 inputAnswer(selector gs, word32 dwArg04)
{
	word32 eax_23;
	if ((byte) (word32) Mem0[0x0817C250:byte] != 0x00)
		eax_23 = 0x080CAB3E;
	else
	{
		if ((byte) (word32) Mem0[135774799:byte] != 0x00)
		{
			term_raw(gs);
			Mem60[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, dwArg04, 0x080C92AD, 0x0200, 0x00);
		}
		else
		{
			printf(0x080CAB40, dwArg04);
			fflush(Mem0[0x0817C220:word32]);
			word32 eax_69 = Mem0[135774740:word32];
			Strfgets(eax_69, eax_69);
		}
		eax_23 = Mem0[fp - 0x10 + 0x00:word32];
	}
	return eax_23;
}

// 0807221F: Register byte uncompress_stream(Register word32 ebp, Stack word32 dwArg04)
byte uncompress_stream(word32 ebp, word32 dwArg04)
{
	word32 dwLoc24_11 = 0x00;
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x04:word32] + 0x14:byte] != 0x04)
	{
		Mem306[dwArg04 + 0x04:word32] = newEncodedStream(Mem0[dwArg04 + 0x04:word32], (int32) (byte) (word32) Mem0[dwArg04 + 0x02:byte]);
		Mem308[dwArg04 + 0x02:byte] = 0x00;
	}
	word32 dwLoc28_28 = 0x080D5480;
	while (Mem0[dwLoc28_28 + 0x00:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x0C:word32] == Mem0[dwLoc28_28 + 0x00:word32])
		{
			if (Mem0[dwLoc28_28 + 0x0C:word32] != 0x00)
				auxbinFile(Mem0[dwLoc28_28 + 0x10:word32]);
			dwLoc24_11 = Mem0[dwLoc28_28 + 0x04:word32];
			break;
		}
		dwLoc28_28 = dwLoc28_28 + 44;
	}
	Mem45[dwArg04 + 0x0C:word32] = 0x00;
	if ((byte) (word32) Mem45[dwArg04 + 0x00:byte] != 0x04 && Mem45[0x0817C2F8:word32] == 0x00)
	{
		byte bpl_262;
		Mem265[fp - 0x20 + 0x00:word32] = Mem45[tmpfname(fp - 0x04, 0x00, dwLoc24_11, out bpl_262) + 0x00:word32];
	}
	Mem57[fp - 0x48 + 0x00:word32] = 0x00;
	Mem59[fp - 0x4C + 0x00:word32] = fp - 0x14;
	Mem62[fp - 0x10 + 0x00:word32] = open_pipe_rw(dwArg00, dwArg04);
	if (Mem62[fp - 0x10 + 0x00:word32] < 0x00)
	{
		Mem77[fp - 0x4C + 0x00:word32] = Mem62[Mem62[fp + 0x04:word32] + 0x04:word32];
		if (ISclose(dwArg00) == 0x00)
			Mem83[Mem77[fp + 0x04:word32] + 0x04:word32] = 0x00;
	}
	else
	{
		if (Mem62[fp - 0x10 + 0x00:word32] == 0x00)
		{
			Mem91[fp - 0x30 + 0x00:word32] = Mem62[135774740:word32];
			Mem92[fp - 0x48 + 0x00:word32] = 0x00;
			Mem94[fp - 0x4C + 0x00:word32] = fp - 0x30;
			word32 eax_95 = open_pipe_rw(dwArg00, dwArg04);
			Mem97[fp - 44 + 0x00:word32] = eax_95;
			if (Mem97[fp - 44 + 0x00:word32] >= 0x00)
			{
				if (Mem97[fp - 44 + 0x00:word32] != 0x00)
				{
					Mem200[fp - 0x48 + 0x00:word32] = 0x02;
					Mem201[fp - 0x4C + 0x00:word32] = 0x01;
					word32 esp_202;
					word32 ebp_203;
					byte SCZO_204;
					word32 eax_205;
					byte al_206;
					byte Z_207;
					word32 edx_208;
					byte SZO_209;
					byte C_210;
					byte S_211;
					word32 ecx_212;
					byte bpl_213;
					!dup2();
					Mem214[esp_202 + 0x08:word32] = ~0x00;
					Mem215[esp_202 + 0x04:word32] = ~0x00;
					Mem216[esp_202 + 0x00:word32] = 0x01;
					setup_child(dwArg00, dwArg04, dwArg08);
					Mem217[esp_202 + 0x08:word32] = 0x00;
					Mem219[esp_202 + 0x04:word32] = Mem217[ebp_203 - 0x18 + 0x00:word32];
					word32 eax_220 = Mem219[ebp_203 - 0x14 + 0x00:word32];
					Mem221[esp_202 + 0x00:word32] = eax_220;
					word32 esp_222;
					word32 ebp_223;
					byte SCZO_224;
					word32 eax_225;
					byte al_226;
					byte Z_227;
					word32 edx_228;
					byte SZO_229;
					byte C_230;
					byte S_231;
					word32 ecx_232;
					byte bpl_233;
					!execlp();
					Mem234[esp_222 + 0x00:word32] = 0x01;
					exit(Mem234[esp_222 + 0x00:int32]);
				}
				else
				{
					Mem119[fp - 0x4C + 0x00:word32] = 0x0600;
					Strnew_size(eax_95, dwArg00);
					Mem121[fp - 0x34 + 0x00:word32] = eax_95;
					Mem122[fp - 0x38 + 0x00:word32] = 0x00;
					Mem125[fp - 0x4C + 0x00:word32] = Mem122[Mem122[fp + 0x04:word32] + 0x04:word32];
					Mem127[fp - 0x44 + 0x00:word32] = ISfileno(dwArg00);
					Mem128[fp - 0x48 + 0x00:word32] = 0x02;
					Mem129[fp - 0x4C + 0x00:word32] = 0x01;
					setup_child(dwArg00, dwArg04, dwArg08);
					if (Mem129[fp - 0x20 + 0x00:word32] != 0x00)
					{
						word32 eax_194 = Mem129[fp - 0x20 + 0x00:word32];
						Mem195[fp - 0x48 + 0x00:word32] = 0x080CAA7E;
						Mem196[fp - 0x4C + 0x00:word32] = eax_194;
						Mem198[fp - 0x38 + 0x00:word32] = fopen(Mem196[fp - 0x4C + 0x00:(ptr char)], Mem196[fp - 0x48 + 0x00:(ptr char)]);
					}
					while (true)
					{
						word32 eax_136 = Mem129[Mem129[fp + 0x04:word32] + 0x04:word32];
						Mem137[fp - 0x44 + 0x00:word32] = 0x0600;
						Mem139[fp - 0x48 + 0x00:word32] = Mem137[fp - 0x34 + 0x00:word32];
						Mem140[fp - 0x4C + 0x00:word32] = eax_136;
						if (ISread(dwArg00, dwArg04, dwArg08) == 0x00)
							break;
						word32 eax_171 = Mem140[Mem140[fp - 0x34 + 0x00:word32] + 0x04:word32];
						word32 eax_174 = Mem140[Mem140[fp - 0x34 + 0x00:word32] + 0x00:word32];
						Mem175[fp - 0x40 + 0x00:word32] = Mem140[0x0817C220:word32];
						Mem176[fp - 0x44 + 0x00:word32] = eax_171;
						Mem177[fp - 0x48 + 0x00:word32] = 0x01;
						Mem178[fp - 0x4C + 0x00:word32] = eax_174;
						fwrite(Mem178[fp - 0x4C + 0x00:(ptr void)], Mem178[fp - 0x48 + 0x00:size_t], Mem178[fp - 0x44 + 0x00:size_t], Mem178[fp - 0x40 + 0x00:(ptr FILE)]);
						if (Mem178[fp - 0x38 + 0x00:word32] != 0x00)
						{
							word32 eax_183 = Mem178[Mem178[fp - 0x34 + 0x00:word32] + 0x04:word32];
							word32 eax_186 = Mem178[Mem178[fp - 0x34 + 0x00:word32] + 0x00:word32];
							Mem188[fp - 0x40 + 0x00:word32] = Mem178[fp - 0x38 + 0x00:word32];
							Mem189[fp - 0x44 + 0x00:word32] = eax_183;
							Mem190[fp - 0x48 + 0x00:word32] = 0x01;
							Mem191[fp - 0x4C + 0x00:word32] = eax_186;
							fwrite(Mem191[fp - 0x4C + 0x00:(ptr void)], Mem191[fp - 0x48 + 0x00:size_t], Mem191[fp - 0x44 + 0x00:size_t], Mem191[fp - 0x40 + 0x00:(ptr FILE)]);
						}
					}
					Mem147[fp - 0x4C + 0x00:word32] = Mem140[Mem140[fp + 0x04:word32] + 0x04:word32];
					if (ISclose(dwArg00) == 0x00)
						Mem163[Mem147[fp + 0x04:word32] + 0x04:word32] = 0x00;
					if (Mem147[fp - 0x38 + 0x00:word32] != 0x00)
					{
						Mem160[fp - 0x4C + 0x00:word32] = Mem147[fp - 0x38 + 0x00:word32];
						fclose(Mem160[fp - 0x4C + 0x00:(ptr FILE)]);
					}
					Mem158[fp - 0x4C + 0x00:word32] = 0x00;
					exit(Mem158[fp - 0x4C + 0x00:int32]);
				}
			}
			else
			{
				Mem102[fp - 0x4C + 0x00:word32] = Mem97[Mem97[fp + 0x04:word32] + 0x04:word32];
				if (ISclose(dwArg00) == 0x00)
					Mem112[Mem102[fp + 0x04:word32] + 0x04:word32] = 0x00;
				Mem110[fp - 0x4C + 0x00:word32] = 0x01;
				exit(Mem110[fp - 0x4C + 0x00:int32]);
			}
		}
		if (Mem62[fp - 0x20 + 0x00:word32] != 0x00)
		{
			if (Mem62[fp + 0x08:word32] != 0x00)
				Mem252[Mem62[fp + 0x08:word32] + 0x00:word32] = Mem62[fp - 0x20 + 0x00:word32];
			else
				Mem254[Mem62[fp + 0x04:word32] + 0x00:byte] = 0x04;
		}
		Mem240[fp - 0x4C + 0x00:word32] = Mem62[fp + 0x04:word32];
		UFhalfclose(dwArg00);
		word32 eax_242 = Mem240[fp - 0x14 + 0x00:word32];
		Mem243[fp - 0x48 + 0x00:word32] = 0x0804A08C;
		Mem244[fp - 0x4C + 0x00:word32] = eax_242;
		Mem247[Mem244[fp + 0x04:word32] + 0x04:word32] = newFileStream(eax_242, dwArg00, dwArg04);
	}
	return (byte) Mem62[fp - 0x04 + 0x00:word32];
}

// 08072573: Register word32 lessopen_stream(Stack word32 dwArg04)
word32 lessopen_stream(word32 dwArg04)
{
	word32 eax_101;
	word32 ebp_5 = fp - 0x04;
	word32 eax_9 = getenv(0x080C9048);
	if (eax_9 == 0x00)
	{
		eax_101 = 0x00;
		return eax_101;
	}
	if ((byte) (word32) Mem0[eax_9 + 0x00:byte] == 0x00)
	{
		eax_101 = 0x00;
		return eax_101;
	}
	byte al_45 = (byte) (word32) Mem0[eax_9 + 0x00:byte];
	if (al_45 == 0x7C)
	{
		shell_quote(dwArg04);
		byte bpl_71;
		Mem73[fp - 0x18 + 0x00:word32] = Sprintf(eax_9 + 0x01, out bpl_71);
		word32 eax_75 = Mem73[Mem73[fp - 0x18 + 0x00:word32] + 0x00:word32];
		Mem76[fp - 0x28 + 0x00:word32] = 0x080CAA48;
		Mem77[fp - 44 + 0x00:word32] = eax_75;
		word32 esp_78;
		byte SCZO_80;
		word32 eax_81;
		byte Z_82;
		byte al_83;
		byte SZO_84;
		byte C_85;
		byte bpl_86;
		!popen();
		Mem87[ebp_5 - 0x10 + 0x00:word32] = eax_81;
		if (Mem87[ebp_5 - 0x10 + 0x00:word32] == 0x00)
		{
			eax_101 = 0x00;
			return eax_101;
		}
		Mem93[esp_78 + 0x00:word32] = Mem87[ebp_5 - 0x10 + 0x00:word32];
		Mem95[ebp_5 - 0x18 + 0x00:word32] = _IO_getc(Mem93[esp_78 + 0x00:(ptr FILE)]);
		if (Mem95[ebp_5 - 0x18 + 0x00:word32] == ~0x00)
		{
			Mem99[esp_78 + 0x00:word32] = Mem95[ebp_5 - 0x10 + 0x00:word32];
			fclose(Mem99[esp_78 + 0x00:(ptr FILE)]);
			eax_101 = 0x00;
			return eax_101;
		}
		Mem104[esp_78 + 0x04:word32] = Mem95[ebp_5 - 0x10 + 0x00:word32];
		Mem106[esp_78 + 0x00:word32] = Mem104[ebp_5 - 0x18 + 0x00:word32];
		ungetc(Mem106[esp_78 + 0x00:int32], Mem106[esp_78 + 0x04:(ptr FILE)]);
	}
	eax_101 = Mem0[ebp_5 - 0x10 + 0x00:word32];
	return eax_101;
}

// 08072646: Register word32 guess_filename(Stack word32 dwArg04)
word32 guess_filename(word32 dwArg04)
{
	word32 dwLoc10_100 = 0x00;
	if (dwArg04 != 0x00)
		dwLoc10_100 = mybasename(dwArg04);
	word32 eax_26;
	if (dwLoc10_100 != 0x00 && (byte) ((word32) Mem0[dwLoc10_100 + 0x00:byte]) != 0x00)
	{
		word32 dwLoc10_51;
		if ((byte) (word32) Mem0[dwLoc10_100 + 0x00:byte] == 0x23)
			dwLoc10_51 = dwLoc10_100 + 0x01;
		else
			dwLoc10_51 = dwLoc10_100;
		while ((byte) (word32) Mem0[dwLoc10_51 + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc10_51 + 0x00:byte] == 0x23 && (byte) ((word32) Mem0[dwLoc10_51 + 0x01:byte]) != 0x00 || (byte) ((word32) Mem0[dwLoc10_51 + 0x00:byte]) == 0x3F)
			{
				Mem76[dwLoc10_51 + 0x00:byte] = 0x00;
				break;
			}
			dwLoc10_51 = dwLoc10_51 + 0x01;
		}
		eax_26 = dwLoc10_100;
	}
	else
		eax_26 = 135048003;
	return eax_26;
}

// 080726D3: Register word32 guess_save_name(Stack word32 dwArg04, Stack word32 dwArg08)
word32 guess_save_name(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 == 0x00 || Mem0[dwArg04 + 0xD8:word32] == 0x00)
		return guess_filename(dwArg08);
	else
	{
		word32 edx_49;
		word32 eax_50 = checkHeader(dwArg04, 135048014, out edx_49);
		if (eax_50 != 0x00)
		{
			word32 esp_125;
			word32 ebp_126;
			byte SCZO_127;
			byte Z_128;
			word32 eax_129;
			byte SZO_130;
			byte C_131;
			byte al_132;
			word32 edx_133;
			!strcasestr();
			if (eax_129 != 0x00 && (eax_129 == eax_50 || (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(eax_129 - 0x01) + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00 || (byte) ((word32) Mem0[(eax_129 - 0x01) + 0x00:byte]) == 0x3B)) && matchattr(eax_129, 135048035, 0x08, fp - 0x10) != 0x00)
			{
				dwArg08 = Mem0[0x00:word32];
				return guess_filename(dwArg08);
			}
		}
		word32 edx_66;
		word32 eax_67 = checkHeader(dwArg04, 135041710, out edx_66);
		if (eax_67 != 0x00)
		{
			word32 esp_74;
			word32 ebp_75;
			byte SCZO_76;
			byte Z_77;
			word32 eax_78;
			byte SZO_79;
			byte C_80;
			byte al_81;
			word32 edx_82;
			!strcasestr();
			if (eax_78 != 0x00 && (eax_78 == eax_67 || (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(eax_78 - 0x01) + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00 || (byte) ((word32) Mem0[(eax_78 - 0x01) + 0x00:byte]) == 0x3B)) && matchattr(eax_78, 0x080CAB6C, 0x04, fp - 0x10) != 0x00)
				dwArg08 = Mem0[0x00:word32];
		}
		return guess_filename(dwArg08);
	}
}

// 08072844: Register word32 newBuffer(Register word32 eax, Stack word32 dwArg04)
word32 newBuffer(word32 eax, word32 dwArg04)
{
	word32 eax_27;
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	byte Z_13;
	word32 edx_14;
	word16 dx_15;
	byte dl_16;
	!GC_malloc();
	if (eax_12 == 0x00)
		eax_27 = 0x00;
	else
	{
		word32 esp_36;
		word32 ebp_37;
		byte SCZO_38;
		word32 eax_39;
		byte Z_40;
		word32 edx_41;
		word16 dx_42;
		byte dl_43;
		!bzero();
		Mem49[eax_12 + 0x30:word16] = (word16) dwArg04;
		Mem54[eax_12 + 88:word16] = (word16) Mem49[0x081807A0:word32];
		word16 dx_59 = (word16) (Mem54[0x08180780:word32] - 0x01);
		Mem61[eax_12 + 0x5A:word16] = dx_59;
		Mem63[eax_12 + 0x84:word32] = 0xFF;
		Mem65[eax_12 + 0xAC:word32] = 0x00;
		Mem67[eax_12 + 0xB0:word32] = 0x00;
		Mem69[eax_12 + 0x04:word32] = 0x080CABB0;
		Mem71[eax_12 + 0x40:word16] = 0x00;
		word32 esp_73;
		word32 ebp_74;
		byte SCZO_75;
		word32 eax_76;
		byte Z_77;
		word32 edx_78;
		word16 dx_79;
		byte dl_80;
		!GC_malloc();
		Mem83[eax_12 + 0xC4:word32] = eax_76;
		Mem86[Mem83[eax_12 + 0xC4:word32] + 0x00:word32] = 0x01;
		Mem88[eax_12 + 200:word32] = 0x00;
		Mem92[eax_12 + 212:byte] = (byte) (word32) Mem88[0x080DC0A0:byte];
		eax_27 = eax_12;
	}
	return eax_27;
}

// 08072929: Register word32 nullBuffer()
word32 nullBuffer()
{
	word32 eax_9 = Mem0[0x081807A0:word32];
	word32 eax_11 = newBuffer(eax_9, eax_9);
	Mem14[eax_11 + 0x04:word32] = 0x080CABB1;
	return eax_11;
}

// 0807294E: void clearBuffer(Stack word32 dwArg04)
void clearBuffer(word32 dwArg04)
{
	Mem8[dwArg04 + 0x14:word32] = 0x00;
	Mem12[dwArg04 + 0x10:word32] = Mem8[dwArg04 + 0x14:word32];
	Mem16[dwArg04 + 0x0C:word32] = Mem12[dwArg04 + 0x10:word32];
	Mem20[dwArg04 + 0x08:word32] = Mem16[dwArg04 + 0x0C:word32];
	Mem22[dwArg04 + 0x3C:word32] = 0x00;
}

// 0807298B: Register word32 discardBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 discardBuffer(word32 ebp, selector gs, word32 dwArg04)
{
	word32 ebx_12 = deleteImage(gs, dwArg04);
	Mem15[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
	clearBuffer(dwArg00);
	Mem17[fp - 0x10 + 0x00:word32] = 0x00;
	while (Mem17[fp - 0x10 + 0x00:word32] <= 0x04)
	{
		Mem145[fp - 0x14 + 0x00:word32] = (Mem17[fp + 0x04:word32] + 0x0C)[(Mem17[fp - 0x10 + 0x00:word32] + 0x04) * 0x04];
		if (Mem145[fp - 0x14 + 0x00:word32] != 0x00)
			(Mem145[fp - 0x14 + 0x00:word32] + 0x0C)[(0x080D52A0[Mem145[fp - 0x10 + 0x00:word32] * 0x04] + 0x04) * 0x04] = 0x00;
		Mem151[fp - 0x10 + 0x00:word32] = Mem145[fp - 0x10 + 0x00:word32] + 0x01;
	}
	if (Mem17[Mem17[fp + 0x04:word32] + 0xE0:word32] != 0x00)
	{
		Mem139[fp - 44 + 0x00:word32] = Mem17[Mem17[fp + 0x04:word32] + 0xE0:word32];
		unlink(Mem139[fp - 44 + 0x00:(ptr char)]);
	}
	word32 eax_31 = Mem17[Mem17[fp + 0x04:word32] + 0xC4:word32];
	Mem34[eax_31 + 0x00:word32] = Mem17[eax_31 + 0x00:word32] - 0x01;
	if (Mem34[eax_31 + 0x00:word32] != 0x00)
		return ebx_12;
	if (Mem34[Mem34[fp + 0x04:word32] + 0x5C:word32] != 0x00)
	{
		Mem135[fp - 44 + 0x00:word32] = Mem34[Mem34[fp + 0x04:word32] + 0x5C:word32];
		ISclose(dwArg00);
	}
	if (Mem34[Mem34[fp + 0x04:word32] + 0xB8:word32] != 0x00)
	{
		if (Mem34[Mem34[fp + 0x04:word32] + 0x38:word32] == 0x00)
		{
l08072A74:
			if (Mem34[Mem34[fp + 0x04:word32] + 0xB4:word32] != 0x04 || ((int32) ((word16) ((word32) Mem34[Mem34[fp + 0x04:word32] + 0x40:word16])) & 0x02) != 0x00)
			{
				Mem114[fp - 44 + 0x00:word32] = Mem34[Mem34[fp + 0x04:word32] + 0xB8:word32];
				unlink(Mem114[fp - 44 + 0x00:(ptr char)]);
			}
			goto l08072AA2;
		}
		word32 eax_125 = Mem34[Mem34[fp + 0x04:word32] + 0x38:word32];
		Mem126[fp - 0x24 + 0x00:word32] = 0x06;
		Mem127[fp - 0x28 + 0x00:word32] = 0x080CABB8;
		Mem128[fp - 44 + 0x00:word32] = eax_125;
		if (strncasecmp(Mem128[fp - 44 + 0x00:(ptr char)], Mem128[fp - 0x28 + 0x00:(ptr char)], Mem128[fp - 0x24 + 0x00:int32]) != 0x00)
			goto l08072A74;
	}
l08072AA2:
	if (Mem34[Mem34[fp + 0x04:word32] + 0xF0:word32] != 0x00)
	{
		Mem95[fp - 44 + 0x00:word32] = Mem34[Mem34[fp + 0x04:word32] + 0xF0:word32];
		unlink(Mem95[fp - 44 + 0x00:(ptr char)]);
	}
	if (Mem34[Mem34[fp + 0x04:word32] + 0xEC:word32] != 0x00)
	{
		Mem91[fp - 44 + 0x00:word32] = Mem34[Mem34[fp + 0x04:word32] + 0xEC:word32];
		unlink(Mem91[fp - 44 + 0x00:(ptr char)]);
	}
	while (Mem34[Mem34[fp + 0x04:word32] + 188:word32] != 0x00)
	{
		Mem81[fp - 44 + 0x00:word32] = Mem34[Mem34[fp + 0x04:word32] + 188:word32];
		deleteFrameSet(dwArg00);
		Mem85[fp - 44 + 0x00:word32] = Mem81[fp + 0x04:word32] + 0xC0;
		Mem88[Mem85[fp + 0x04:word32] + 188:word32] = popFrameTree(dwArg00);
	}
	return ebx_12;
}

// 08072B1F: void namedBuffer(Stack word32 dwArg04, Stack word32 dwArg08)
void namedBuffer(word32 dwArg04, word32 dwArg08)
{
	if (strcmp(Mem0[dwArg04 + 0x04:word32], dwArg08) != 0x00)
	{
		word32 dwLoc10_33 = dwArg04;
		while (Mem0[dwLoc10_33 + 0x18:word32] != 0x00 && strcmp(Mem0[Mem0[dwLoc10_33 + 0x18:word32] + 0x04:word32], dwArg08) != 0x00)
			dwLoc10_33 = Mem0[dwLoc10_33 + 0x18:word32];
	}
}

// 08072B89: Register word32 deleteBuffer(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 ebxOut)
word32 deleteBuffer(selector gs, word32 dwArg04, word32 dwArg08, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	word32 eax_24;
	if (dwArg04 == dwArg08 && Mem0[dwArg04 + 0x18:word32] != 0x00)
	{
		word32 ebx_69;
		*ebxOut = discardBuffer(fp - 0x04, gs, dwArg04);
		eax_24 = Mem0[fp - 0x10 + 0x00:word32];
	}
	else
	{
		word32 eax_36 = prevBuffer(dwArg04, dwArg08);
		if (eax_36 != 0x00)
		{
			word32 eax_49 = Mem0[eax_36 + 0x18:word32];
			Mem54[eax_36 + 0x18:word32] = Mem0[eax_49 + 0x18:word32];
			word32 ebx_58;
			*ebxOut = discardBuffer(fp - 0x04, gs, eax_49);
		}
		eax_24 = Mem0[fp + 0x04:word32];
	}
	return eax_24;
}

// 08072BFA: Register word32 replaceBuffer(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 ebxOut)
word32 replaceBuffer(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	word32 eax_17;
	if (dwArg08 == 0x00)
	{
		Mem27[dwArg0C + 0x18:word32] = dwArg04;
		eax_17 = dwArg0C;
		return eax_17;
	}
	if (dwArg04 == dwArg08)
	{
		Mem39[dwArg0C + 0x18:word32] = Mem0[dwArg08 + 0x18:word32];
		word32 ebx_43;
		*ebxOut = discardBuffer(fp - 0x04, gs, dwArg08);
		eax_17 = Mem39[fp + 0x0C:word32];
		return eax_17;
	}
	if (dwArg08 != 0x00)
	{
		word32 eax_60 = prevBuffer(dwArg04, dwArg08);
		if (eax_60 != 0x00)
		{
			Mem66[eax_60 + 0x18:word32] = dwArg0C;
			Mem70[dwArg0C + 0x18:word32] = Mem66[dwArg08 + 0x18:word32];
			word32 ebx_73;
			*ebxOut = discardBuffer(fp - 0x04, gs, dwArg08);
			eax_17 = Mem70[fp + 0x04:word32];
			return eax_17;
		}
	}
	Mem54[dwArg0C + 0x18:word32] = dwArg04;
	eax_17 = dwArg0C;
	return eax_17;
}

// 08072C8C: Register word32 nthBuffer(Stack word32 dwArg04, Stack word32 dwArg08)
word32 nthBuffer(word32 dwArg04, word32 dwArg08)
{
	word32 eax_18;
	word32 dwLoc0C_28 = dwArg04;
	if (dwArg08 < 0x00)
		eax_18 = dwArg04;
	else
	{
		word32 dwLoc08_26 = 0x00;
		while (dwLoc08_26 < dwArg08)
		{
			if (dwLoc0C_28 == 0x00)
			{
				eax_18 = 0x00;
				return eax_18;
			}
			dwLoc0C_28 = Mem0[dwLoc0C_28 + 0x18:word32];
			dwLoc08_26 = dwLoc08_26 + 0x01;
		}
		eax_18 = dwLoc0C_28;
	}
	return eax_18;
}

// 08072CD3: void writeBufferName(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void writeBufferName(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	move(dwArg08, 0x00);
	byte bpl_31;
	Mem33[fp - 0x10 + 0x00:word32] = Sprintf(0x080CABBF, out bpl_31);
	if (Mem33[Mem33[fp + 0x04:word32] + 0x00:word32] == 0x00)
	{
l08072E83:
		word32 eax_52 = Mem33[Mem33[fp - 0x10 + 0x00:word32] + 0x00:word32];
		Mem53[fp - 0x28 + 0x00:word32] = Mem33[0x081807A0:word32] - 0x01;
		Mem54[fp - 44 + 0x00:word32] = eax_52;
		addnstr_sup(dwArg00, dwArg04);
	}
	else
	{
		word32 eax_65 = Mem33[Mem33[fp + 0x04:word32] + 0x84:word32];
		if (eax_65 >= 0x04)
		{
			if (eax_65 <= 0x05)
			{
				word32 eax_110 = Mem33[Mem33[fp + 0x04:word32] + 0x98:word32];
				Mem111[fp - 0x28 + 0x00:word32] = 0x080CABCF;
				Mem112[fp - 44 + 0x00:word32] = eax_110;
				if (strcmp(Mem112[fp - 44 + 0x00:(ptr char)], Mem112[fp - 0x28 + 0x00:(ptr char)]) != 0x00)
				{
					if (Mem112[Mem112[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem112[Mem112[(fp - 0x10) + 0x00:word32] + 0x08:word32])
					{
						Mem155[fp - 44 + 0x00:word32] = Mem112[fp - 0x10 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_127 = Mem112[Mem112[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem130[Mem112[Mem112[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_127:byte] = 0x20;
					Mem133[Mem130[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_127 + 0x01;
					Mem139[Mem133[Mem133[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem133[Mem133[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					word32 esi_140 = Mem139[135091052:word32];
					word32 ebx_141 = Mem139[0x080D5378:word32];
					word32 eax_143 = Mem139[Mem139[fp + 0x04:word32] + 0x9C:word32];
					Mem144[fp - 44 + 0x00:word32] = eax_143;
					Strnew_charp(eax_143, dwArg00);
					Mem145[fp - 0x24 + 0x00:word32] = esi_140;
					Mem146[fp - 0x28 + 0x00:word32] = ebx_141;
					Mem147[fp - 44 + 0x00:word32] = eax_143;
					word32 ebx_148;
					Mem151[fp - 0x28 + 0x00:word32] = Mem147[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_148) + 0x00:word32];
					Mem153[fp - 44 + 0x00:word32] = Mem151[fp - 0x10 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				goto l08072E83;
			}
			if (eax_65 <=u 0xFF)
				goto l08072E83;
		}
		if (Mem33[Mem33[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem33[Mem33[(fp - 0x10) + 0x00:word32] + 0x08:word32])
		{
			Mem103[fp - 44 + 0x00:word32] = Mem33[fp - 0x10 + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_80 = Mem33[Mem33[fp - 0x10 + 0x00:word32] + 0x04:word32];
		Mem83[Mem33[Mem33[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_80:byte] = 0x20;
		Mem86[Mem83[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_80 + 0x01;
		Mem92[Mem86[Mem86[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem86[Mem86[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem96[fp - 44 + 0x00:word32] = Mem92[fp + 0x04:word32] + 0x84;
		byte bpl_97;
		Mem99[fp - 0x28 + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_97);
		Mem101[fp - 44 + 0x00:word32] = Mem99[fp - 0x10 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		goto l08072E83;
	}
}

// 08072EA3: void gotoLine(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void gotoLine(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x5C:word32] != 0x00 && ((int32) ((word16) ((word32) Mem0[dwArg04 + 0x40:word16])) & 0x40) == 0x00)
		{
			if (Mem0[Mem0[dwArg04 + 0x14:word32] + 0x1C:word32] < dwArg08)
				getNextPage(fp - 0x04, gs, dwArg04);
			while (Mem0[Mem0[Mem0[fp - 0x40 + 0x00:word32] + 0x14:word32] + 0x1C:word32] < Mem0[fp + 0x08:word32])
			{
				Mem191[fp - 88 + 0x00:word32] = 0x01;
				Mem193[fp - 0x5C + 0x00:word32] = Mem191[fp - 0x40 + 0x00:word32];
				if (getNextPage(fp - 0x04, gs, dwArg00) == 0x00)
					break;
			}
		}
		if (Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x1C:word32] > Mem0[fp + 0x08:word32])
		{
			Mem61[fp - 0x54 + 0x00:word32] = Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x1C:word32];
			Mem62[fp - 88 + 0x00:word32] = 135048145;
			Mem64[fp - 0x5C + 0x00:word32] = fp - 0x30;
			sprintf(Mem64[fp - 0x5C + 0x00:(ptr char)], Mem64[fp - 88 + 0x00:(ptr char)], Mem64[fp - 0x60 + 0x00:<unknown>]);
			Mem67[fp - 0x5C + 0x00:word32] = fp - 0x30;
			set_delayed_message(dwArg00);
			Mem71[Mem67[fp - 0x40 + 0x00:word32] + 0x10:word32] = Mem67[fp - 0x34 + 0x00:word32];
			Mem75[Mem71[fp - 0x40 + 0x00:word32] + 0x0C:word32] = Mem71[Mem71[fp - 0x40 + 0x00:word32] + 0x10:word32];
		}
		else if (Mem0[Mem0[Mem0[fp - 0x40 + 0x00:word32] + 0x14:word32] + 0x1C:word32] < Mem0[fp + 0x08:word32])
		{
			Mem83[fp - 0x34 + 0x00:word32] = Mem0[Mem0[fp - 0x40 + 0x00:word32] + 0x14:word32];
			Mem88[fp - 0x54 + 0x00:word32] = Mem83[Mem83[Mem83[fp - 0x40 + 0x00:word32] + 0x14:word32] + 0x1C:word32];
			Mem89[fp - 88 + 0x00:word32] = 0x080CABE4;
			Mem91[fp - 0x5C + 0x00:word32] = fp - 0x30;
			sprintf(Mem91[fp - 0x5C + 0x00:(ptr char)], Mem91[fp - 88 + 0x00:(ptr char)], Mem91[fp - 0x60 + 0x00:<unknown>]);
			Mem94[fp - 0x5C + 0x00:word32] = fp - 0x30;
			set_delayed_message(dwArg00);
			Mem97[Mem94[fp - 0x40 + 0x00:word32] + 0x10:word32] = Mem94[fp - 0x34 + 0x00:word32];
			word32 edx_103 = 0x01 - (int32) ((word16) ((word32) Mem97[Mem97[(fp - 0x40) + 0x00:word32] + 0x5A:word16]));
			word32 eax_106 = Mem97[Mem97[fp - 0x40 + 0x00:word32] + 0x10:word32];
			Mem107[fp - 0x50 + 0x00:word32] = 0x00;
			Mem108[fp - 0x54 + 0x00:word32] = edx_103;
			Mem109[fp - 88 + 0x00:word32] = eax_106;
			Mem111[fp - 0x5C + 0x00:word32] = Mem109[fp - 0x40 + 0x00:word32];
			Mem116[Mem111[fp - 0x40 + 0x00:word32] + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		}
		else
		{
			while (Mem0[fp - 0x34 + 0x00:word32] != 0x00)
			{
				if (Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x1C:word32] >= Mem0[fp + 0x08:word32])
				{
					Mem127[Mem0[fp - 0x40 + 0x00:word32] + 0x10:word32] = Mem0[fp - 0x34 + 0x00:word32];
					if (Mem127[Mem127[Mem127[fp - 0x40 + 0x00:word32] + 0x0C:word32] + 0x1C:word32] > Mem127[fp + 0x08:word32] || Mem127[Mem127[Mem127[(fp - 0x40) + 0x00:word32] + 0x0C:word32] + 0x1C:word32] + (int32) ((word16) ((word32) Mem127[Mem127[(fp - 0x40) + 0x00:word32] + 0x5A:word16])) <= Mem127[fp + 0x08:word32])
					{
						word32 eax_138 = ~(int32) (word16) (word32) Mem127[Mem127[fp - 0x40 + 0x00:word32] + 0x5A:word16];
						Mem144[fp - 0x50 + 0x00:word32] = 0x00;
						Mem145[fp - 0x54 + 0x00:word32] = (eax_138 >>u 0x1F) + eax_138 >> 0x01;
						Mem147[fp - 88 + 0x00:word32] = Mem145[fp - 0x34 + 0x00:word32];
						Mem149[fp - 0x5C + 0x00:word32] = Mem147[fp - 0x40 + 0x00:word32];
						Mem152[Mem149[fp - 0x40 + 0x00:word32] + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
					}
					break;
				}
				Mem165[fp - 0x34 + 0x00:word32] = Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x0C:word32];
			}
		}
	}
	if ((Mem0[fp - 0x10 + 0x00:word32] ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
}

// 080730B4: void gotoRealLine(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void gotoRealLine(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x5C:word32] != 0x00 && ((int32) ((word16) ((word32) Mem0[dwArg04 + 0x40:word16])) & 0x40) == 0x00)
		{
			if (Mem0[Mem0[dwArg04 + 0x14:word32] + 0x20:word32] < dwArg08)
				getNextPage(fp - 0x04, gs, dwArg04);
			while (Mem0[Mem0[Mem0[fp - 0x40 + 0x00:word32] + 0x14:word32] + 0x20:word32] < Mem0[fp + 0x08:word32])
			{
				Mem191[fp - 88 + 0x00:word32] = 0x01;
				Mem193[fp - 0x5C + 0x00:word32] = Mem191[fp - 0x40 + 0x00:word32];
				if (getNextPage(fp - 0x04, gs, dwArg00) == 0x00)
					break;
			}
		}
		if (Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x20:word32] > Mem0[fp + 0x08:word32])
		{
			Mem61[fp - 0x54 + 0x00:word32] = Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x20:word32];
			Mem62[fp - 88 + 0x00:word32] = 135048145;
			Mem64[fp - 0x5C + 0x00:word32] = fp - 0x30;
			sprintf(Mem64[fp - 0x5C + 0x00:(ptr char)], Mem64[fp - 88 + 0x00:(ptr char)], Mem64[fp - 0x60 + 0x00:<unknown>]);
			Mem67[fp - 0x5C + 0x00:word32] = fp - 0x30;
			set_delayed_message(dwArg00);
			Mem71[Mem67[fp - 0x40 + 0x00:word32] + 0x10:word32] = Mem67[fp - 0x34 + 0x00:word32];
			Mem75[Mem71[fp - 0x40 + 0x00:word32] + 0x0C:word32] = Mem71[Mem71[fp - 0x40 + 0x00:word32] + 0x10:word32];
		}
		else if (Mem0[Mem0[Mem0[fp - 0x40 + 0x00:word32] + 0x14:word32] + 0x20:word32] < Mem0[fp + 0x08:word32])
		{
			Mem83[fp - 0x34 + 0x00:word32] = Mem0[Mem0[fp - 0x40 + 0x00:word32] + 0x14:word32];
			Mem88[fp - 0x54 + 0x00:word32] = Mem83[Mem83[Mem83[fp - 0x40 + 0x00:word32] + 0x14:word32] + 0x20:word32];
			Mem89[fp - 88 + 0x00:word32] = 0x080CABE4;
			Mem91[fp - 0x5C + 0x00:word32] = fp - 0x30;
			sprintf(Mem91[fp - 0x5C + 0x00:(ptr char)], Mem91[fp - 88 + 0x00:(ptr char)], Mem91[fp - 0x60 + 0x00:<unknown>]);
			Mem94[fp - 0x5C + 0x00:word32] = fp - 0x30;
			set_delayed_message(dwArg00);
			Mem97[Mem94[fp - 0x40 + 0x00:word32] + 0x10:word32] = Mem94[fp - 0x34 + 0x00:word32];
			word32 edx_103 = 0x01 - (int32) ((word16) ((word32) Mem97[Mem97[(fp - 0x40) + 0x00:word32] + 0x5A:word16]));
			word32 eax_106 = Mem97[Mem97[fp - 0x40 + 0x00:word32] + 0x10:word32];
			Mem107[fp - 0x50 + 0x00:word32] = 0x00;
			Mem108[fp - 0x54 + 0x00:word32] = edx_103;
			Mem109[fp - 88 + 0x00:word32] = eax_106;
			Mem111[fp - 0x5C + 0x00:word32] = Mem109[fp - 0x40 + 0x00:word32];
			Mem116[Mem111[fp - 0x40 + 0x00:word32] + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
		}
		else
		{
			while (Mem0[fp - 0x34 + 0x00:word32] != 0x00)
			{
				if (Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x20:word32] >= Mem0[fp + 0x08:word32])
				{
					Mem127[Mem0[fp - 0x40 + 0x00:word32] + 0x10:word32] = Mem0[fp - 0x34 + 0x00:word32];
					if (Mem127[Mem127[Mem127[fp - 0x40 + 0x00:word32] + 0x0C:word32] + 0x20:word32] > Mem127[fp + 0x08:word32] || Mem127[Mem127[Mem127[(fp - 0x40) + 0x00:word32] + 0x0C:word32] + 0x20:word32] + (int32) ((word16) ((word32) Mem127[Mem127[(fp - 0x40) + 0x00:word32] + 0x5A:word16])) <= Mem127[fp + 0x08:word32])
					{
						word32 eax_138 = ~(int32) (word16) (word32) Mem127[Mem127[fp - 0x40 + 0x00:word32] + 0x5A:word16];
						Mem144[fp - 0x50 + 0x00:word32] = 0x00;
						Mem145[fp - 0x54 + 0x00:word32] = (eax_138 >>u 0x1F) + eax_138 >> 0x01;
						Mem147[fp - 88 + 0x00:word32] = Mem145[fp - 0x34 + 0x00:word32];
						Mem149[fp - 0x5C + 0x00:word32] = Mem147[fp - 0x40 + 0x00:word32];
						Mem152[Mem149[fp - 0x40 + 0x00:word32] + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
					}
					break;
				}
				Mem165[fp - 0x34 + 0x00:word32] = Mem0[Mem0[fp - 0x34 + 0x00:word32] + 0x0C:word32];
			}
		}
	}
	if ((Mem0[fp - 0x10 + 0x00:word32] ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
}

// 080732C5: void listBuffer(Register word32 ebp, Stack word32 dwArg04)
void listBuffer(word32 ebp, word32 dwArg04)
{
	move(0x00, 0x00);
	if (Mem0[0x080D52D8:word32] != 0x00)
	{
		setfcolor(Mem0[0x080D52DC:word32]);
		setbcolor(Mem0[0x080D52EC:word32]);
	}
	clrtobotx();
	while (Mem0[0x08180780:word32] - 0x01 > Mem0[(fp - 0x10) + 0x00:word32])
	{
		if (Mem0[fp - 0x18 + 0x00:word32] == Mem0[fp + 0x08:word32])
		{
			Mem76[fp - 0x14 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
			standout();
		}
		Mem50[fp - 0x28 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
		Mem52[fp - 44 + 0x00:word32] = Mem50[fp - 0x18 + 0x00:word32];
		writeBufferName(fp - 0x04, dwArg00, dwArg04);
		if (Mem52[fp - 0x18 + 0x00:word32] == Mem52[fp + 0x08:word32])
		{
			standend();
			clrtoeolx();
			Mem72[fp - 0x28 + 0x00:word32] = 0x00;
			Mem74[fp - 44 + 0x00:word32] = Mem72[fp - 0x10 + 0x00:word32];
			move(dwArg00, dwArg04);
			toggle_stand();
		}
		else
			clrtoeolx();
		if (Mem52[Mem52[fp - 0x18 + 0x00:word32] + 0x18:word32] == 0x00)
		{
			word32 eax_61 = Mem52[fp - 0x10 + 0x00:word32];
			Mem64[fp - 0x28 + 0x00:word32] = 0x00;
			Mem65[fp - 44 + 0x00:word32] = eax_61 + 0x01;
			move(dwArg00, dwArg04);
			clrtobotx();
			break;
		}
		Mem68[fp - 0x18 + 0x00:word32] = Mem52[Mem52[fp - 0x18 + 0x00:word32] + 0x18:word32];
		Mem70[fp - 0x10 + 0x00:word32] = Mem68[fp - 0x10 + 0x00:word32] + 0x01;
	}
	standout();
	Mem32[fp - 0x24 + 0x00:word32] = 0x00;
	Mem33[fp - 0x28 + 0x00:word32] = 0x00;
	Mem34[fp - 44 + 0x00:word32] = 0x080CABF8;
	message(dwArg00, dwArg04, dwArg08);
	standend();
	Mem37[fp - 0x28 + 0x00:word32] = 0x00;
	Mem39[fp - 44 + 0x00:word32] = Mem37[fp - 0x14 + 0x00:word32];
	move(dwArg00, dwArg04);
	refresh(fp - 0x04);
}

// 08073401: Register word32 selectBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 selectBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_8 = Mem0[0x08180780:word32];
	word32 dwLoc18_12 = 0x00;
	word32 dwLoc14_14 = 0x00;
	word32 dwLoc28_17 = dwArg04;
	while (dwLoc28_17 != 0x00)
	{
		if (dwLoc28_17 == dwArg08)
			dwLoc18_12 = dwLoc14_14;
		dwLoc14_14 = dwLoc14_14 + 0x01;
		dwLoc28_17 = Mem0[dwLoc28_17 + 0x18:word32];
	}
	word32 dwLoc2C_237;
	if (dwLoc18_12 >= eax_8 - 0x01)
		dwLoc2C_237 = nthBuffer(dwArg04, dwLoc18_12 - ((eax_8 - 0x01 >>u 0x1F) + (eax_8 - 0x01) >> 0x01));
	else
		dwLoc2C_237 = dwArg04;
	listBuffer(fp - 0x04, dwLoc2C_237);
	do
	{
l080734A4:
		Mem50[fp - 0x0D + 0x00:byte] = do_getch(gs);
		if (Mem50[fp - 0x0D + 0x00:byte] == 0x1B)
		{
			Mem198[fp - 0x0D + 0x00:byte] = do_getch(gs);
			if (Mem198[fp - 0x0D + 0x00:byte] == 0x5B || Mem198[(fp - 0x0D) + 0x00:byte] == 0x4F)
			{
				Mem202[fp - 0x0D + 0x00:byte] = do_getch(gs);
				word32 eax_203 = (int32) Mem202[fp - 0x0D + 0x00:byte];
				if (eax_203 != 66)
				{
					if (eax_203 <= 66)
					{
						if (eax_203 == 0x41)
							Mem211[fp - 0x0D + 0x00:byte] = 0x6B;
					}
					else if (eax_203 != 0x43)
					{
						if (eax_203 == 0x44)
							Mem216[fp - 0x0D + 0x00:byte] = 66;
					}
					else
						Mem217[fp - 0x0D + 0x00:byte] = 0x20;
				}
				else
					Mem218[fp - 0x0D + 0x00:byte] = 0x6A;
			}
		}
		word32 eax_54 = (int32) Mem50[fp - 0x0D + 0x00:byte];
		if (eax_54 == 0x10)
		{
l080735EB:
			if (Mem50[fp - 0x1C + 0x00:word32] > 0x00)
			{
				Mem74[fp - 0x38 + 0x00:word32] = Mem50[fp - 0x1C + 0x00:word32];
				Mem76[fp - 0x3C + 0x00:word32] = Mem74[fp + 0x08:word32];
				writeBufferName(fp - 0x04, dwArg00, dwArg04);
				Mem78[fp - 0x1C + 0x00:word32] = Mem76[fp - 0x1C + 0x00:word32] - 0x01;
				Mem81[fp - 0x38 + 0x00:word32] = Mem78[fp - 0x1C + 0x00:word32];
				Mem83[fp - 0x3C + 0x00:word32] = Mem81[fp - 44 + 0x00:word32];
				Mem85[fp + 0x08:word32] = nthBuffer(dwArg00, dwArg04);
				Mem87[fp - 0x18 + 0x00:word32] = Mem85[fp - 0x18 + 0x00:word32] - 0x01;
				standout();
				Mem90[fp - 0x38 + 0x00:word32] = Mem87[fp - 0x1C + 0x00:word32];
				Mem92[fp - 0x3C + 0x00:word32] = Mem90[fp + 0x08:word32];
				writeBufferName(fp - 0x04, dwArg00, dwArg04);
				standend();
				Mem93[fp - 0x38 + 0x00:word32] = 0x00;
				Mem95[fp - 0x3C + 0x00:word32] = Mem93[fp - 0x1C + 0x00:word32];
				move(dwArg00, dwArg04);
				toggle_stand();
			}
			else if (Mem50[fp - 0x18 + 0x00:word32] > 0x00)
			{
				Mem103[fp - 0x14 + 0x00:word32] = Mem50[fp - 0x18 + 0x00:word32] - Mem50[(fp - 0x24) + 0x00:word32];
				if (Mem103[fp - 0x14 + 0x00:word32] < 0x00)
					Mem131[fp - 0x14 + 0x00:word32] = 0x00;
				Mem107[fp - 0x18 + 0x00:word32] = Mem103[fp - 0x18 + 0x00:word32] - 0x01;
				Mem114[fp - 0x1C + 0x00:word32] = Mem107[fp - 0x18 + 0x00:word32] - Mem107[(fp - 0x14) + 0x00:word32];
				Mem116[fp - 0x38 + 0x00:word32] = Mem114[fp - 0x18 + 0x00:word32];
				Mem118[fp - 0x3C + 0x00:word32] = Mem116[fp + 0x04:word32];
				Mem120[fp + 0x08:word32] = nthBuffer(dwArg00, dwArg04);
				Mem122[fp - 0x38 + 0x00:word32] = Mem120[fp - 0x14 + 0x00:word32];
				Mem124[fp - 0x3C + 0x00:word32] = Mem122[fp + 0x04:word32];
				Mem126[fp - 44 + 0x00:word32] = nthBuffer(dwArg00, dwArg04);
				Mem128[fp - 0x38 + 0x00:word32] = Mem126[fp + 0x08:word32];
				Mem130[fp - 0x3C + 0x00:word32] = Mem128[fp - 44 + 0x00:word32];
				listBuffer(fp - 0x04, dwArg00);
			}
			goto l080736DE;
		}
		if (eax_54 <= 0x10)
		{
			if (eax_54 != 0x0E)
				goto l080736CC;
			goto l08073534;
		}
		if (eax_54 != 0x6A)
		{
			if (eax_54 != 0x6B)
			{
l080736CC:
				Mem139[Mem50[fp + 0x0C:word32] + 0x00:byte] = (byte) (word32) Mem50[fp - 0x0D + 0x00:byte];
				return Mem139[fp + 0x08:word32];
			}
			goto l080735EB;
		}
l08073534:
		if (Mem50[fp - 0x24 + 0x00:word32] - 0x01 <= Mem50[(fp - 0x1C) + 0x00:word32])
		{
			if (Mem50[fp - 0x20 + 0x00:word32] - 0x01 > Mem50[(fp - 0x18) + 0x00:word32])
			{
				Mem179[fp - 44 + 0x00:word32] = Mem50[fp + 0x08:word32];
				Mem182[fp + 0x08:word32] = Mem179[Mem179[fp + 0x08:word32] + 0x18:word32];
				Mem184[fp - 0x18 + 0x00:word32] = Mem182[fp - 0x18 + 0x00:word32] + 0x01;
				Mem186[fp - 0x1C + 0x00:word32] = 0x01;
				Mem188[fp - 0x38 + 0x00:word32] = Mem186[fp + 0x08:word32];
				Mem190[fp - 0x3C + 0x00:word32] = Mem188[fp - 44 + 0x00:word32];
				listBuffer(fp - 0x04, dwArg00);
			}
			goto l080736DE;
		}
	} while (Mem50[Mem50[fp + 0x08:word32] + 0x18:word32] == 0x00);
	Mem156[fp - 0x38 + 0x00:word32] = Mem50[fp - 0x1C + 0x00:word32];
	Mem158[fp - 0x3C + 0x00:word32] = Mem156[fp + 0x08:word32];
	writeBufferName(fp - 0x04, dwArg00, dwArg04);
	Mem161[fp + 0x08:word32] = Mem158[Mem158[fp + 0x08:word32] + 0x18:word32];
	Mem163[fp - 0x18 + 0x00:word32] = Mem161[fp - 0x18 + 0x00:word32] + 0x01;
	Mem165[fp - 0x1C + 0x00:word32] = Mem163[fp - 0x1C + 0x00:word32] + 0x01;
	standout();
	Mem168[fp - 0x38 + 0x00:word32] = Mem165[fp - 0x1C + 0x00:word32];
	Mem170[fp - 0x3C + 0x00:word32] = Mem168[fp + 0x08:word32];
	writeBufferName(fp - 0x04, dwArg00, dwArg04);
	standend();
	Mem171[fp - 0x38 + 0x00:word32] = 0x00;
	Mem173[fp - 0x3C + 0x00:word32] = Mem171[fp - 0x1C + 0x00:word32];
	move(dwArg00, dwArg04);
	toggle_stand();
l080736DE:
	Mem65[fp - 0x38 + 0x00:word32] = 0x00;
	Mem67[fp - 0x3C + 0x00:word32] = Mem65[fp - 0x1C + 0x00:word32];
	move(dwArg00, dwArg04);
	refresh(fp - 0x04);
	goto l080734A4;
}

// 080736FB: void reshapeBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void reshapeBuffer(word32 ebp, selector gs, word32 dwArg04)
{
	if ((byte) (word32) Mem0[dwArg04 + 0xF7:byte] != 0x00)
	{
		word32 eax_421;
		Mem40[dwArg04 + 0xF7:byte] = 0x00;
		word32 edx_41 = Mem40[0x081807A0:word32];
		if (Mem40[0x0817C2D8:word32] != 0x00)
			eax_421 = 0x06;
		else
			eax_421 = 0x01;
		word32 ecx_50 = edx_41 - eax_421;
		word32 eax_420 = ecx_50;
		if (ecx_50 < 0x00)
			eax_420 = 0x00;
		Mem60[dwArg04 + 0x30:word16] = (word16) eax_420;
		if (Mem60[dwArg04 + 0xB8:word32] != 0x00)
		{
			word32 eax_412;
			init_stream(fp - 0x38, 0x04, 0x00);
			if (Mem60[dwArg04 + 0xEC:word32] != 0x00)
				eax_412 = Mem60[dwArg04 + 0xEC:word32];
			else
				eax_412 = Mem60[dwArg04 + 0xB8:word32];
			examineFile(fp - 0x04, eax_412, fp - 0x38);
			if (Mem60[fp - 0x34 + 0x00:word32] != 0x00)
			{
				Mem85[fp - 0x0168 + 0x00:word32] = Mem60[fp + 0x04:word32];
				Mem87[fp - 0x016C + 0x00:word32] = fp - 0x015C;
				copyBuffer(dwArg00, dwArg04);
				Mem90[fp - 0x016C + 0x00:word32] = Mem87[fp + 0x04:word32];
				clearBuffer(dwArg00);
				while (Mem90[Mem90[fp + 0x04:word32] + 188:word32] != 0x00)
				{
					Mem403[fp - 0x016C + 0x00:word32] = Mem90[Mem90[fp + 0x04:word32] + 188:word32];
					deleteFrameSet(dwArg00);
					Mem407[fp - 0x016C + 0x00:word32] = Mem403[fp + 0x04:word32] + 0xC0;
					Mem410[Mem407[fp + 0x04:word32] + 188:word32] = popFrameTree(dwArg00);
				}
				Mem100[Mem90[fp + 0x04:word32] + 0x60:word32] = 0x00;
				Mem102[Mem100[fp + 0x04:word32] + 100:word32] = 0x00;
				Mem104[Mem102[fp + 0x04:word32] + 0x68:word32] = 0x00;
				Mem106[Mem104[fp + 0x04:word32] + 0x6C:word32] = 0x00;
				Mem108[Mem106[fp + 0x04:word32] + 116:word32] = 0x00;
				Mem110[Mem108[fp + 0x04:word32] + 0x70:word32] = 0x00;
				Mem112[Mem110[fp + 0x04:word32] + 0x78:word32] = 0x00;
				if (Mem112[Mem112[fp + 0x04:word32] + 0x7C:word32] != 0x00)
					Mem400[Mem112[Mem112[fp + 0x04:word32] + 0x7C:word32] + 0x04:word32] = 0x00;
				if (Mem112[Mem112[fp + 0x04:word32] + 0x80:word32] != 0x00)
					Mem397[Mem112[Mem112[fp + 0x04:word32] + 0x80:word32] + 0x04:word32] = 0x00;
				if (Mem112[Mem112[fp + 0x04:word32] + 0xF0:word32] != 0x00)
				{
					if (Mem112[Mem112[fp + 0x04:word32] + 0x84:word32] != 0x04 || Mem112[Mem112[fp + 0x04:word32] + 0xEC:word32] != 0x00)
					{
l080738E2:
						Mem341[fp - 0x0164 + 0x00:word32] = 0x00;
						Mem342[fp - 0x0168 + 0x00:word32] = 0x04;
						Mem344[fp - 0x016C + 0x00:word32] = fp - 88;
						init_stream(dwArg00, dwArg04, dwArg08);
						word32 eax_346 = Mem344[Mem344[fp + 0x04:word32] + 0xF0:word32];
						Mem348[fp - 0x0168 + 0x00:word32] = fp - 88;
						Mem349[fp - 0x016C + 0x00:word32] = eax_346;
						examineFile(fp - 0x04, dwArg00, dwArg04);
						if (Mem349[fp - 0x54 + 0x00:word32] != 0x00)
						{
							Mem354[fp - 0x0160 + 0x00:word32] = 0x00;
							Mem355[fp - 0x0164 + 0x00:word32] = 0x01;
							Mem357[fp - 0x0168 + 0x00:word32] = Mem355[fp + 0x04:word32];
							Mem359[fp - 0x016C + 0x00:word32] = fp - 88;
							readHeader(fp - 88, fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
							Mem361[fp - 0x016C + 0x00:word32] = Mem359[fp - 0x54 + 0x00:word32];
							if (ISclose(dwArg00) == 0x00)
								Mem366[fp - 0x54 + 0x00:word32] = 0x00;
						}
						goto l08073991;
					}
					word32 eax_376 = Mem112[Mem112[fp + 0x04:word32] + 0x98:word32];
					Mem377[fp - 0x0168 + 0x00:word32] = 0x080CABCF;
					Mem378[fp - 0x016C + 0x00:word32] = eax_376;
					if (strcmp(Mem378[fp - 0x016C + 0x00:(ptr char)], Mem378[fp - 0x0168 + 0x00:(ptr char)]) == 0x00)
						goto l080738E2;
					if ((byte) (word32) Mem378[Mem378[fp + 0x04:word32] + 244:byte] != 0x00)
					{
						Mem389[fp - 0x0160 + 0x00:word32] = 0x00;
						Mem390[fp - 0x0164 + 0x00:word32] = 0x01;
						Mem392[fp - 0x0168 + 0x00:word32] = Mem390[fp + 0x04:word32];
						Mem394[fp - 0x016C + 0x00:word32] = fp - 0x38;
						readHeader(fp - 0x38, fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
					}
				}
l08073991:
				Mem131[0x080DC0A0:byte] = 0x00;
				Mem132[0x080D5381:byte] = 0x00;
				Mem135[fp - 0x016C + 0x00:word32] = Mem132[Mem132[fp + 0x04:word32] + 0x34:word32];
				if (is_html_type(dwArg00) != 0x00)
				{
					Mem329[fp - 0x0168 + 0x00:word32] = Mem135[fp + 0x04:word32];
					Mem331[fp - 0x016C + 0x00:word32] = fp - 0x38;
					loadHTMLBuffer(fp - 0x04, gs, dwArg00, dwArg04);
				}
				else
				{
					Mem334[fp - 0x0168 + 0x00:word32] = Mem135[fp + 0x04:word32];
					Mem336[fp - 0x016C + 0x00:word32] = fp - 0x38;
					loadBuffer(fp - 0x04, gs, dwArg00, dwArg04);
				}
				Mem141[fp - 0x016C + 0x00:word32] = Mem135[fp - 0x34 + 0x00:word32];
				if (ISclose(dwArg00) == 0x00)
					Mem324[fp - 0x34 + 0x00:word32] = 0x00;
				Mem148[0x080DC0A0:byte] = (byte) (word32) Mem141[fp - 0x0D + 0x00:byte];
				Mem149[0x080D5381:byte] = 0x01;
				Mem154[Mem149[fp + 0x04:word32] + 0x32:word16] = (word16) Mem149[0x08180780:word32];
				if (Mem154[Mem154[fp + 0x04:word32] + 0x08:word32] == 0x00 || Mem154[(fp - 0x0154) + 0x00:word32] == 0x00)
				{
l08073B8A:
					if ((byte) ((int32) (byte) (word32) Mem154[Mem154[fp + 0x04:word32] + 0xCC:byte] & 0x01) != 0x00)
					{
						Mem203[fp - 0x016C + 0x00:word32] = Mem154[fp + 0x04:word32];
						chkURLBuffer(fp - 0x04, gs);
					}
					if (((int32) (byte) (word32) Mem154[Mem154[fp + 0x04:word32] + 0xCC:byte] & 0x02) != 0x00)
					{
						Mem201[fp - 0x016C + 0x00:word32] = Mem154[fp + 0x04:word32];
						chkNMIDBuffer(fp - 0x04, gs);
					}
					if (Mem154[Mem154[fp + 0x04:word32] + 0xB4:word32] == 0x07 || Mem154[Mem154[fp + 0x04:word32] + 0xB4:word32] == 0x09)
					{
						Mem195[fp - 0x016C + 0x00:word32] = Mem154[fp + 0x04:word32];
						reAnchorNewsheader(fp - 0x04, dwArg00);
					}
					Mem188[fp - 0x0168 + 0x00:word32] = Mem154[fp - 0xF0 + 0x00:word32];
					Mem190[fp - 0x016C + 0x00:word32] = Mem188[fp + 0x04:word32];
					formResetBuffer(fp - 0x04, gs, dwArg00, dwArg04);
					return;
				}
				Mem209[fp - 0x14 + 0x00:word32] = Mem154[fp - 332 + 0x00:word32];
				Mem216[Mem209[fp + 0x04:word32] + 0x4C:word32] = Mem209[fp - 0x0110 + 0x00:word32] + Mem209[Mem209[(fp - 0x14) + 0x00:word32] + 44:word32];
				while (Mem216[Mem216[fp - 0x14 + 0x00:word32] + 44:word32] != 0x00 && Mem216[Mem216[(fp - 0x14) + 0x00:word32] + 0x10:word32] != 0x00)
					Mem323[fp - 0x14 + 0x00:word32] = Mem216[Mem216[fp - 0x14 + 0x00:word32] + 0x10:word32];
				if (Mem216[Mem216[fp - 0x14 + 0x00:word32] + 0x20:word32] > 0x00)
				{
					Mem308[fp - 0x0168 + 0x00:word32] = Mem216[Mem216[fp - 0x14 + 0x00:word32] + 0x20:word32];
					Mem310[fp - 0x016C + 0x00:word32] = Mem308[fp + 0x04:word32];
					gotoRealLine(fp - 0x04, gs, dwArg00, dwArg04);
				}
				else
				{
					Mem313[fp - 0x0168 + 0x00:word32] = Mem216[Mem216[fp - 0x14 + 0x00:word32] + 0x1C:word32];
					Mem315[fp - 0x016C + 0x00:word32] = Mem313[fp + 0x04:word32];
					gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
				}
				Mem243[fp - 0x18 + 0x00:word32] = Mem216[Mem216[Mem216[fp + 0x04:word32] + 0x10:word32] + 0x1C:word32] - Mem216[Mem216[Mem216[fp + 0x04:word32] + 0x0C:word32] + 0x1C:word32] + (Mem216[Mem216[(fp - 336) + 0x00:word32] + 0x1C:word32] - Mem216[Mem216[(fp - 0x14) + 0x00:word32] + 0x1C:word32]);
				if (Mem243[fp - 0x18 + 0x00:word32] != 0x00)
				{
					word32 eax_280 = Mem243[Mem243[fp + 0x04:word32] + 0x0C:word32];
					Mem281[fp - 0x0160 + 0x00:word32] = 0x00;
					Mem283[fp - 0x0164 + 0x00:word32] = Mem281[fp - 0x18 + 0x00:word32];
					Mem284[fp - 0x0168 + 0x00:word32] = eax_280;
					Mem286[fp - 0x016C + 0x00:word32] = Mem284[fp + 0x04:word32];
					Mem291[Mem286[fp + 0x04:word32] + 0x0C:word32] = lineSkip(gs, dwArg00, dwArg04, dwArg08, dwArg0C);
					if (Mem291[Mem291[fp - 0x14 + 0x00:word32] + 0x20:word32] > 0x00)
					{
						Mem298[fp - 0x0168 + 0x00:word32] = Mem291[Mem291[fp - 0x14 + 0x00:word32] + 0x20:word32];
						Mem300[fp - 0x016C + 0x00:word32] = Mem298[fp + 0x04:word32];
						gotoRealLine(fp - 0x04, gs, dwArg00, dwArg04);
					}
					else
					{
						Mem303[fp - 0x0168 + 0x00:word32] = Mem291[Mem291[fp - 0x14 + 0x00:word32] + 0x1C:word32];
						Mem305[fp - 0x016C + 0x00:word32] = Mem303[fp + 0x04:word32];
						gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
					}
				}
				Mem253[Mem243[fp + 0x04:word32] + 0x4C:word32] = Mem243[Mem243[fp + 0x04:word32] + 0x4C:word32] - Mem243[Mem243[Mem243[fp + 0x04:word32] + 0x10:word32] + 44:word32];
				if (Mem253[0x0817C330:word32] != 0x00)
				{
					Mem272[fp - 0x016C + 0x00:word32] = Mem253[Mem253[fp + 0x04:word32] + 0x34:word32];
					if (is_html_type(dwArg00) == 0x00)
					{
						Mem278[Mem272[fp + 0x04:word32] + 0x44:word32] = 0x00;
l08073B7F:
						Mem263[fp - 0x016C + 0x00:word32] = Mem253[fp + 0x04:word32];
						arrangeCursor(fp - 0x04, gs, dwArg00);
						goto l08073B8A;
					}
				}
				Mem269[Mem253[fp + 0x04:word32] + 0x44:word32] = Mem253[fp - 0x0118 + 0x00:word32];
				goto l08073B7F;
			}
		}
	}
}

// 08073C16: void copyBuffer(Stack word32 dwArg04, Stack word32 dwArg08)
void copyBuffer(word32 dwArg04, word32 dwArg08)
{
	readBufferCache(dwArg08);
	word32 esp_18;
	word32 ebp_19;
	byte SCZO_20;
	word32 eax_21;
	!bcopy();
}

// 08073C43: Register word32 prevBuffer(Stack word32 dwArg04, Stack word32 dwArg08)
word32 prevBuffer(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_10 = dwArg04;
	while (dwLoc08_10 != 0x00 && Mem0[dwLoc08_10 + 0x18:word32] != dwArg08)
		dwLoc08_10 = Mem0[dwLoc08_10 + 0x18:word32];
	return dwLoc08_10;
}

// 08073C70: Register word32 writeBufferCache(Stack word32 dwArg04)
word32 writeBufferCache(word32 dwArg04)
{
	word32 eax_126;
	if (Mem0[dwArg04 + 0xE0:word32] != 0x00)
	{
		eax_126 = ~0x00;
		return eax_126;
	}
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		byte bpl_57;
		Mem59[fp - 0x10 + 0x00:word32] = tmpfname(fp - 0x04, 0x03, 0x00, out bpl_57);
		Mem63[Mem59[fp + 0x04:word32] + 0xE0:word32] = Mem59[Mem59[fp - 0x10 + 0x00:word32] + 0x00:word32];
		word32 eax_66 = Mem63[Mem63[fp + 0x04:word32] + 0xE0:word32];
		Mem67[fp - 0x28 + 0x00:word32] = 0x080CAC34;
		Mem68[fp - 44 + 0x00:word32] = eax_66;
		Mem70[fp - 0x14 + 0x00:word32] = fopen(Mem68[fp - 44 + 0x00:(ptr char)], Mem68[fp - 0x28 + 0x00:(ptr char)]);
		if (Mem70[fp - 0x14 + 0x00:word32] != 0x00)
		{
			word32 eax_74 = Mem70[Mem70[fp + 0x04:word32] + 0x10:word32];
			Mem77[fp - 0x20 + 0x00:word32] = Mem70[fp - 0x14 + 0x00:word32];
			Mem78[fp - 0x24 + 0x00:word32] = 0x01;
			Mem79[fp - 0x28 + 0x00:word32] = 0x04;
			Mem80[fp - 44 + 0x00:word32] = eax_74 + 0x1C;
			if (fwrite(Mem80[fp - 44 + 0x00:(ptr void)], Mem80[fp - 0x28 + 0x00:size_t], Mem80[fp - 0x24 + 0x00:size_t], Mem80[fp - 0x20 + 0x00:(ptr FILE)]) != 0x00)
			{
				word32 eax_101 = Mem80[Mem80[fp + 0x04:word32] + 0x0C:word32];
				Mem104[fp - 0x20 + 0x00:word32] = Mem80[fp - 0x14 + 0x00:word32];
				Mem105[fp - 0x24 + 0x00:word32] = 0x01;
				Mem106[fp - 0x28 + 0x00:word32] = 0x04;
				Mem107[fp - 44 + 0x00:word32] = eax_101 + 0x1C;
				if (fwrite(Mem107[fp - 44 + 0x00:(ptr void)], Mem107[fp - 0x28 + 0x00:size_t], Mem107[fp - 0x24 + 0x00:size_t], Mem107[fp - 0x20 + 0x00:(ptr FILE)]) != 0x00)
				{
					Mem114[fp - 0x18 + 0x00:word32] = Mem107[Mem107[fp + 0x04:word32] + 0x08:word32];
					while (Mem114[fp - 0x18 + 0x00:word32] != 0x00)
					{
						word32 eax_128 = Mem114[fp - 0x18 + 0x00:word32];
						Mem131[fp - 0x20 + 0x00:word32] = Mem114[fp - 0x14 + 0x00:word32];
						Mem132[fp - 0x24 + 0x00:word32] = 0x01;
						Mem133[fp - 0x28 + 0x00:word32] = 0x04;
						Mem134[fp - 44 + 0x00:word32] = eax_128 + 0x20;
						if (fwrite(Mem134[fp - 44 + 0x00:(ptr void)], Mem134[fp - 0x28 + 0x00:size_t], Mem134[fp - 0x24 + 0x00:size_t], Mem134[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						word32 eax_139 = Mem134[fp - 0x18 + 0x00:word32];
						Mem142[fp - 0x20 + 0x00:word32] = Mem134[fp - 0x14 + 0x00:word32];
						Mem143[fp - 0x24 + 0x00:word32] = 0x01;
						Mem144[fp - 0x28 + 0x00:word32] = 0x02;
						Mem145[fp - 44 + 0x00:word32] = eax_139 + 0x24;
						if (fwrite(Mem145[fp - 44 + 0x00:(ptr void)], Mem145[fp - 0x28 + 0x00:size_t], Mem145[fp - 0x24 + 0x00:size_t], Mem145[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						word32 eax_150 = Mem145[fp - 0x18 + 0x00:word32];
						Mem153[fp - 0x20 + 0x00:word32] = Mem145[fp - 0x14 + 0x00:word32];
						Mem154[fp - 0x24 + 0x00:word32] = 0x01;
						Mem155[fp - 0x28 + 0x00:word32] = 0x04;
						Mem156[fp - 44 + 0x00:word32] = eax_150 + 0x18;
						if (fwrite(Mem156[fp - 44 + 0x00:(ptr void)], Mem156[fp - 0x28 + 0x00:size_t], Mem156[fp - 0x24 + 0x00:size_t], Mem156[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						word32 eax_161 = Mem156[fp - 0x18 + 0x00:word32];
						Mem164[fp - 0x20 + 0x00:word32] = Mem156[fp - 0x14 + 0x00:word32];
						Mem165[fp - 0x24 + 0x00:word32] = 0x01;
						Mem166[fp - 0x28 + 0x00:word32] = 0x04;
						Mem167[fp - 44 + 0x00:word32] = eax_161 + 0x14;
						if (fwrite(Mem167[fp - 44 + 0x00:(ptr void)], Mem167[fp - 0x28 + 0x00:size_t], Mem167[fp - 0x24 + 0x00:size_t], Mem167[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						word32 eax_172 = Mem167[fp - 0x18 + 0x00:word32];
						Mem175[fp - 0x20 + 0x00:word32] = Mem167[fp - 0x14 + 0x00:word32];
						Mem176[fp - 0x24 + 0x00:word32] = 0x01;
						Mem177[fp - 0x28 + 0x00:word32] = 0x04;
						Mem178[fp - 44 + 0x00:word32] = eax_172 + 0x28;
						if (fwrite(Mem178[fp - 44 + 0x00:(ptr void)], Mem178[fp - 0x28 + 0x00:size_t], Mem178[fp - 0x24 + 0x00:size_t], Mem178[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						word32 eax_183 = Mem178[fp - 0x18 + 0x00:word32];
						Mem186[fp - 0x20 + 0x00:word32] = Mem178[fp - 0x14 + 0x00:word32];
						Mem187[fp - 0x24 + 0x00:word32] = 0x01;
						Mem188[fp - 0x28 + 0x00:word32] = 0x04;
						Mem189[fp - 44 + 0x00:word32] = eax_183 + 44;
						if (fwrite(Mem189[fp - 44 + 0x00:(ptr void)], Mem189[fp - 0x28 + 0x00:size_t], Mem189[fp - 0x24 + 0x00:size_t], Mem189[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						word32 eax_194 = Mem189[fp - 0x18 + 0x00:word32];
						Mem197[fp - 0x20 + 0x00:word32] = Mem189[fp - 0x14 + 0x00:word32];
						Mem198[fp - 0x24 + 0x00:word32] = 0x01;
						Mem199[fp - 0x28 + 0x00:word32] = 0x04;
						Mem200[fp - 44 + 0x00:word32] = eax_194 + 0x30;
						if (fwrite(Mem200[fp - 44 + 0x00:(ptr void)], Mem200[fp - 0x28 + 0x00:size_t], Mem200[fp - 0x24 + 0x00:size_t], Mem200[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						if (Mem200[Mem200[fp - 0x18 + 0x00:word32] + 44:word32] == 0x00)
						{
							word32 eax_264 = Mem200[Mem200[fp - 0x18 + 0x00:word32] + 0x28:word32];
							word32 eax_267 = Mem200[Mem200[fp - 0x18 + 0x00:word32] + 0x00:word32];
							Mem269[fp - 0x20 + 0x00:word32] = Mem200[fp - 0x14 + 0x00:word32];
							Mem270[fp - 0x24 + 0x00:word32] = eax_264;
							Mem271[fp - 0x28 + 0x00:word32] = 0x01;
							Mem272[fp - 44 + 0x00:word32] = eax_267;
							if (fwrite(Mem272[fp - 44 + 0x00:(ptr void)], Mem272[fp - 0x28 + 0x00:size_t], Mem272[fp - 0x24 + 0x00:size_t], Mem272[fp - 0x20 + 0x00:(ptr FILE)]) <u Mem272[Mem272[(fp - 0x18) + 0x00:word32] + 0x28:word32])
								goto l08073FB2;
							word32 eax_279 = Mem272[Mem272[fp - 0x18 + 0x00:word32] + 0x28:word32];
							word32 eax_282 = Mem272[Mem272[fp - 0x18 + 0x00:word32] + 0x04:word32];
							Mem284[fp - 0x20 + 0x00:word32] = Mem272[fp - 0x14 + 0x00:word32];
							Mem285[fp - 0x24 + 0x00:word32] = eax_279;
							Mem286[fp - 0x28 + 0x00:word32] = 0x02;
							Mem287[fp - 44 + 0x00:word32] = eax_282;
							if (fwrite(Mem287[fp - 44 + 0x00:(ptr void)], Mem287[fp - 0x28 + 0x00:size_t], Mem287[fp - 0x24 + 0x00:size_t], Mem287[fp - 0x20 + 0x00:(ptr FILE)]) <u Mem287[Mem287[(fp - 0x18) + 0x00:word32] + 0x28:word32])
								goto l08073FB2;
						}
						Mem219[fp - 0x1C + 0x00:word32] = (word32) (Mem200[Mem200[fp - 0x18 + 0x00:word32] + 0x08:word32] != 0x00);
						Mem221[fp - 0x20 + 0x00:word32] = Mem219[fp - 0x14 + 0x00:word32];
						Mem222[fp - 0x24 + 0x00:word32] = 0x01;
						Mem223[fp - 0x28 + 0x00:word32] = 0x04;
						Mem225[fp - 44 + 0x00:word32] = fp - 0x1C;
						if (fwrite(Mem225[fp - 44 + 0x00:(ptr void)], Mem225[fp - 0x28 + 0x00:size_t], Mem225[fp - 0x24 + 0x00:size_t], Mem225[fp - 0x20 + 0x00:(ptr FILE)]) == 0x00)
							goto l08073FB2;
						if (Mem225[fp - 0x1C + 0x00:word32] != 0x00 && Mem225[Mem225[(fp - 0x18) + 0x00:word32] + 44:word32] == 0x00)
						{
							word32 eax_249 = Mem225[Mem225[fp - 0x18 + 0x00:word32] + 0x28:word32];
							word32 eax_252 = Mem225[Mem225[fp - 0x18 + 0x00:word32] + 0x08:word32];
							Mem254[fp - 0x20 + 0x00:word32] = Mem225[fp - 0x14 + 0x00:word32];
							Mem255[fp - 0x24 + 0x00:word32] = eax_249;
							Mem256[fp - 0x28 + 0x00:word32] = 0x01;
							Mem257[fp - 44 + 0x00:word32] = eax_252;
							if (fwrite(Mem257[fp - 44 + 0x00:(ptr void)], Mem257[fp - 0x28 + 0x00:size_t], Mem257[fp - 0x24 + 0x00:size_t], Mem257[fp - 0x20 + 0x00:(ptr FILE)]) <u Mem257[Mem257[(fp - 0x18) + 0x00:word32] + 0x28:word32])
								goto l08073FB2;
						}
						Mem242[fp - 0x18 + 0x00:word32] = Mem225[Mem225[fp - 0x18 + 0x00:word32] + 0x0C:word32];
					}
					Mem124[fp - 44 + 0x00:word32] = Mem114[fp - 0x14 + 0x00:word32];
					fclose(Mem124[fp - 44 + 0x00:(ptr FILE)]);
					eax_126 = 0x00;
					return eax_126;
				}
			}
l08073FB2:
			Mem94[fp - 44 + 0x00:word32] = Mem80[fp - 0x14 + 0x00:word32];
			fclose(Mem94[fp - 44 + 0x00:(ptr FILE)]);
			Mem98[fp - 44 + 0x00:word32] = Mem94[Mem94[fp + 0x04:word32] + 0xE0:word32];
			unlink(Mem98[fp - 44 + 0x00:(ptr char)]);
		}
	}
	Mem52[Mem0[fp + 0x04:word32] + 0xE0:word32] = 0x00;
	eax_126 = ~0x00;
	return eax_126;
}

// 08073FE8: Register word32 readBufferCache(Stack word32 dwArg04)
word32 readBufferCache(word32 dwArg04)
{
	word32 eax_132;
	word32 dwLoc14_148 = 0x00;
	word32 dwLoc18_104 = 0x00;
	word32 dwLoc1C_248 = 0x00;
	word32 dwLoc20_10 = 0x00;
	if (Mem0[dwArg04 + 0xE0:word32] == 0x00)
		eax_132 = ~0x00;
	else
	{
		word32 eax_51 = fopen(Mem0[dwArg04 + 0xE0:word32], 0x080CAC36);
		if (eax_51 != 0x00 && (fread(fp - 0x24, 0x04, 0x01, eax_51) != 0x00 && fread(fp - 0x28, 0x04, 0x01, eax_51) != 0x00))
		{
			while (feof(eax_51) == 0x00)
			{
				word32 v10_133 = dwLoc20_10 + 0x01;
				dwLoc20_10 = v10_133;
				dwLoc18_104 = dwLoc14_148;
				word32 esp_139;
				word32 ebp_140;
				byte SCZO_141;
				word32 eax_142;
				byte SZO_143;
				byte C_144;
				byte Z_145;
				word32 edx_146;
				word32 ecx_147;
				!GC_malloc();
				Mem151[eax_142 + 0x10:word32] = dwLoc14_148;
				dwLoc14_148 = eax_142;
				if (dwLoc14_148 != 0x00)
					Mem400[dwLoc14_148 + 0x0C:word32] = eax_142;
				else
					Mem403[dwArg04 + 0x08:word32] = eax_142;
				Mem156[eax_142 + 0x1C:word32] = v10_133;
				if (v10_133 == dwLoc24)
					Mem397[dwArg04 + 0x10:word32] = eax_142;
				if (v10_133 == dwLoc28)
					Mem394[dwArg04 + 0x0C:word32] = eax_142;
				if (fread(eax_142 + 0x20, 0x04, 0x01, eax_51) == 0x00 || (fread(eax_142 + 0x24, 0x02, 0x01, eax_51) == 0x00 || (fread(eax_142 + 0x18, 0x04, 0x01, eax_51) == 0x00 || (fread(eax_142 + 0x14, 0x04, 0x01, eax_51) == 0x00 || (fread(eax_142 + 0x28, 0x04, 0x01, eax_51) == 0x00 || (fread(eax_142 + 44, 0x04, 0x01, eax_51) == 0x00 || fread(eax_142 + 0x30, 0x04, 0x01, eax_51) == 0x00))))))
					break;
				if (Mem156[eax_142 + 44:word32] == 0x00)
				{
					dwLoc1C_248 = eax_142;
					word32 esp_317;
					word32 ebp_318;
					byte SCZO_319;
					word32 eax_320;
					byte SZO_321;
					byte C_322;
					byte Z_323;
					word32 edx_324;
					word32 ecx_325;
					!GC_malloc_atomic();
					Mem328[eax_142 + 0x00:word32] = eax_320;
					fread(Mem328[eax_142 + 0x00:word32], 0x01, Mem328[eax_142 + 0x28:word32], eax_51);
					word32 edx_341 = Mem328[eax_142 + 0x00:word32];
					Mem345[edx_341 + Mem328[eax_142 + 0x28:word32]:byte] = 0x00;
					word32 esp_351;
					word32 ebp_352;
					byte SCZO_353;
					word32 eax_354;
					byte SZO_355;
					byte C_356;
					byte Z_357;
					word32 edx_358;
					word32 ecx_359;
					!GC_malloc_atomic();
					Mem362[eax_142 + 0x04:word32] = eax_354;
					fread(Mem362[eax_142 + 0x04:word32], 0x02, Mem362[eax_142 + 0x28:word32], eax_51);
				}
				else
				{
					if (dwLoc1C_248 == 0x00)
						break;
					Mem382[eax_142 + 0x00:word32] = Mem156[dwLoc1C_248 + 0x00:word32] + Mem156[eax_142 + 44:word32];
					Mem391[eax_142 + 0x04:word32] = Mem382[dwLoc1C_248 + 0x04:word32] + Mem382[eax_142 + 44:word32] * 0x02;
				}
				if (fread(fp - 44, 0x04, 0x01, eax_51) == 0x00)
					break;
				if (dwLoc2C != 0x00)
				{
					if (Mem156[eax_142 + 44:word32] == 0x00)
					{
						word32 esp_277;
						word32 ebp_278;
						byte SCZO_279;
						word32 eax_280;
						byte SZO_281;
						byte C_282;
						byte Z_283;
						word32 edx_284;
						word32 ecx_285;
						!GC_malloc_atomic();
						Mem288[eax_142 + 0x08:word32] = eax_280;
						fread(Mem288[eax_142 + 0x08:word32], 0x01, Mem288[eax_142 + 0x28:word32], eax_51);
					}
					else
						Mem307[eax_142 + 0x08:word32] = Mem156[dwLoc1C_248 + 0x08:word32] + Mem156[eax_142 + 44:word32];
				}
				else
					Mem309[eax_142 + 0x08:word32] = 0x00;
			}
			Mem119[dwArg04 + 0x14:word32] = dwLoc18_104;
			Mem122[Mem119[dwArg04 + 0x14:word32] + 0x0C:word32] = 0x00;
			fclose(eax_51);
			unlink(Mem122[dwArg04 + 0xE0:word32]);
			Mem131[dwArg04 + 0xE0:word32] = 0x00;
			eax_132 = 0x00;
		}
		else
		{
			Mem63[dwArg04 + 0xE0:word32] = 0x00;
			eax_132 = ~0x00;
		}
	}
	return eax_132;
}

// 08074428: void effect_anchor_start()
void effect_anchor_start()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52E0:word32]);
	else
		underline();
}

// 0807444D: void effect_anchor_end()
void effect_anchor_end()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52DC:word32]);
	else
		underlineend();
}

// 08074472: void effect_image_start()
void effect_image_start()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[135090916:word32]);
	else
		standout();
}

// 08074497: void effect_image_end()
void effect_image_end()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52DC:word32]);
	else
		standend();
}

// 080744BC: void effect_form_start()
void effect_form_start()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52E8:word32]);
	else
		standout();
}

// 080744E1: void effect_form_end()
void effect_form_end()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52DC:word32]);
	else
		standend();
}

// 08074506: void effect_mark_start()
void effect_mark_start()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setbcolor(Mem0[0x080D52F0:word32]);
	else
		standout();
}

// 0807452B: void effect_mark_end()
void effect_mark_end()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
		setbcolor(Mem0[0x080D52EC:word32]);
	else
		standend();
}

// 08074550: void effect_active_start()
void effect_active_start()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
	{
		if (Mem0[0x0817C2AC:word32] != 0x00)
		{
			setfcolor(Mem0[135090932:word32]);
			underline();
		}
		else
			underline();
	}
	else
		bold();
}

// 0807458A: void effect_active_end()
void effect_active_end()
{
	if (Mem0[0x080D52D8:word32] != 0x00)
	{
		if (Mem0[0x0817C2AC:word32] != 0x00)
		{
			setfcolor(Mem0[0x080D52DC:word32]);
			underlineend();
		}
		else
			underlineend();
	}
	else
		boldend();
}

// 080745C4: void effect_visited_start()
void effect_visited_start()
{
	if (Mem0[0x0817C2B0:word32] != 0x00 && Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52F8:word32]);
}

// 080745EB: void effect_visited_end()
void effect_visited_end()
{
	if (Mem0[0x0817C2B0:word32] != 0x00 && Mem0[0x080D52D8:word32] != 0x00)
		setfcolor(Mem0[0x080D52DC:word32]);
}

// 08074612: void fmTerm(Register selector gs)
void fmTerm(selector gs)
{
	if ((byte) (word32) Mem0[135774799:byte] != 0x00)
	{
		move(Mem0[0x08180780:word32] - 0x01, 0x00);
		clrtoeolx();
		refresh(fp - 0x04);
		if (Mem0[135774940:word32] != 0x00)
		{
			Mem44[fp - 0x18 + 0x00:word32] = 0x01;
			Mem45[fp - 0x1C + 0x00:word32] = 0x00;
			loadImage(fp - 0x04, gs);
		}
		if (Mem0[0x080D5384:word32] != 0x00)
			mouse_end();
		reset_tty();
		Mem43[135774799:byte] = 0x00;
	}
}

// 0807467E: void fmInit(Register selector gs)
void fmInit(selector gs)
{
	word32 eax_8 = (word32) Mem0[135774799:byte];
	if ((byte) eax_8 == 0x00)
	{
		initscr(eax_8, gs);
		term_raw(gs);
		term_noecho(gs);
		if (Mem0[0x080D530C:word32] != 0x00)
			initImage();
	}
	Mem17[135774799:byte] = 0x01;
}

// 080746B5: Register word32 make_lastline_link(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 make_lastline_link(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_106;
	word32 dwLoc10_14 = 0x00;
	word32 eax_16 = Mem0[0x081807A0:word32];
	if (dwArg08 != 0x00 && (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) != 0x00)
	{
		Strnew_m_charp(dwArg08, 0x080CAC3A);
		dwLoc10_14 = dwArg08;
		word32 dwLoc1C_248 = Mem0[dwArg08 + 0x00:word32];
		while ((byte) (word32) Mem0[dwLoc1C_248 + 0x00:byte] != 0x00)
		{
			if ((byte) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_248 + 0x00:byte] + 0x080DB700:byte] & 0x01) != 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc1C_248 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem299[dwLoc1C_248 + 0x00:byte] = 0x20;
			dwLoc1C_248 = dwLoc1C_248 + 0x01;
		}
		if (dwArg0C != 0x00)
			Strcat_charp(dwArg08, 0x080CAC3C);
		if (eax_16 - 0x01 - wtf_strwidth(Mem0[dwArg08 + 0x00:word32]) <= 0x00)
		{
			eax_106 = dwArg08;
			return eax_106;
		}
	}
	if (dwArg0C == 0x00)
	{
		eax_106 = dwLoc10_14;
		return eax_106;
	}
	parseURL2(fp - 0x04, dwArg0C, fp - 0x4C, baseURL(dwArg04));
	Mem83[fp - 0x5C + 0x00:word32] = fp - 0x4C;
	byte bpl_85;
	Mem87[fp - 0x14 + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_85);
	if (Mem87[135774932:word32] != 0x00)
	{
		word32 eax_228 = Mem87[Mem87[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem229[fp - 88 + 0x00:word32] = Mem87[Mem87[fp + 0x04:word32] + 0xD0:word32];
		Mem230[fp - 0x5C + 0x00:word32] = eax_228;
		word32 eax_231 = url_unquote_conv(dwArg00, dwArg04);
		Mem232[fp - 0x5C + 0x00:word32] = eax_231;
		Strnew_charp(eax_231, dwArg00);
		Mem233[fp - 0x14 + 0x00:word32] = eax_231;
	}
	Mem93[fp - 0x54 + 0x00:word32] = 0x00;
	Mem95[fp - 88 + 0x00:word32] = fp - 0x18;
	Mem97[fp - 0x5C + 0x00:word32] = Mem95[fp - 0x14 + 0x00:word32];
	Mem99[fp - 0x14 + 0x00:word32] = checkType(dwArg00, dwArg04, dwArg08);
	if (Mem99[fp - 0x20 + 0x00:word32] > 0x04)
	{
		Mem118[fp - 0x5C + 0x00:word32] = Mem99[Mem99[fp - 0x14 + 0x00:word32] + 0x00:word32];
		if (wtf_strwidth(dwArg00) > Mem118[(fp - 0x20) + 0x00:word32])
		{
			if (Mem118[fp - 0x10 + 0x00:word32] == 0x00)
			{
				word32 eax_221 = Mem118[0x081807A0:word32];
				Mem222[fp - 0x5C + 0x00:word32] = eax_221;
				Strnew_size(eax_221, dwArg00);
				Mem224[fp - 0x10 + 0x00:word32] = eax_221;
			}
			word32 eax_124 = Mem118[fp - 0x20 + 0x00:word32];
			Mem131[fp - 0x24 + 0x00:word32] = (eax_124 - 0x02 >>u 0x1F) + (eax_124 - 0x02) >> 0x01;
			while (Mem131[fp - 0x24 + 0x00:word32] != 0x00 && ((word32) ((word16) ((word32) Mem131[(fp - 0x18) + 0x00:word32][Mem131[(fp - 0x24) + 0x00:word32] * 0x02])) & 0x0400) != 0x00)
				Mem219[fp - 0x24 + 0x00:word32] = Mem131[fp - 0x24 + 0x00:word32] - 0x01;
			word32 eax_145 = Mem131[Mem131[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem147[fp - 0x54 + 0x00:word32] = Mem131[fp - 0x24 + 0x00:word32];
			Mem148[fp - 88 + 0x00:word32] = eax_145;
			Mem150[fp - 0x5C + 0x00:word32] = Mem148[fp - 0x10 + 0x00:word32];
			Strcat_charp_n(dwArg00, dwArg04, dwArg08);
			Mem151[fp - 88 + 0x00:word32] = 0x080CAC3E;
			Mem153[fp - 0x5C + 0x00:word32] = Mem151[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem156[fp - 0x5C + 0x00:word32] = Mem153[Mem153[fp - 0x14 + 0x00:word32] + 0x00:word32];
			word32 eax_157 = wtf_strwidth(dwArg00);
			Mem161[fp - 0x5C + 0x00:word32] = Mem156[Mem156[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem171[fp - 0x24 + 0x00:word32] = eax_157 + (wtf_strwidth(dwArg00) + (0x01 - Mem161[0x081807A0:word32]));
			while (Mem171[Mem171[fp - 0x14 + 0x00:word32] + 0x04:word32] > Mem171[(fp - 0x24) + 0x00:word32] && ((word32) ((word16) ((word32) Mem171[(fp - 0x18) + 0x00:word32][Mem171[(fp - 0x24) + 0x00:word32] * 0x02])) & 0x0400) != 0x00)
				Mem205[fp - 0x24 + 0x00:word32] = Mem171[fp - 0x24 + 0x00:word32] + 0x01;
			Mem187[fp - 88 + 0x00:word32] = Mem171[Mem171[fp - 0x14 + 0x00:word32] + 0x00:word32] + Mem171[(fp - 0x24) + 0x00:word32];
			Mem189[fp - 0x5C + 0x00:word32] = Mem187[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			eax_106 = Mem189[fp - 0x10 + 0x00:word32];
			return eax_106;
		}
	}
	if (Mem99[fp - 0x10 + 0x00:word32] == 0x00)
		eax_106 = Mem99[fp - 0x14 + 0x00:word32];
	else
	{
		Mem110[fp - 88 + 0x00:word32] = Mem99[fp - 0x14 + 0x00:word32];
		Mem112[fp - 0x5C + 0x00:word32] = Mem110[fp - 0x10 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		eax_106 = Mem112[fp - 0x10 + 0x00:word32];
	}
	return eax_106;
}

// 0807495D: Register word32 make_lastline_message(Register word32 ebp, Stack word32 dwArg04)
word32 make_lastline_message(word32 ebp, word32 dwArg04)
{
	word32 eax_319;
	if (Mem0[0x0817C2CC:word32] != 0x00)
	{
		word32 eax_291 = retrieveCurrentMapArea(dwArg04);
		if (eax_291 != 0x00)
			Mem332[fp - 0x14 + 0x00:word32] = make_lastline_link(fp - 0x04, dwArg04, Mem0[eax_291 + 0x08:word32], Mem0[eax_291 + 0x00:word32]);
		else
		{
			word32 eax_338 = retrieveCurrentAnchor(dwArg04);
			word32 dwLoc24_340 = 0x00;
			if (eax_338 != 0x00 && (Mem0[eax_338 + 0x0C:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[eax_338 + 0x0C:word32] + 0x00:byte]) != 0x00))
				dwLoc24_340 = Mem0[eax_338 + 0x0C:word32];
			else
			{
				word32 eax_381 = retrieveCurrentImg(dwArg04);
				if (eax_381 != 0x00 && (Mem0[eax_381 + 0x0C:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[eax_381 + 0x0C:word32] + 0x00:byte]) != 0x00))
					dwLoc24_340 = Mem0[eax_381 + 0x0C:word32];
			}
			if (dwLoc24_340 != 0x00 || eax_338 != 0x00)
			{
				word32 eax_354;
				if (eax_338 != 0x00)
					eax_354 = Mem0[eax_338 + 0x00:word32];
				else
					eax_354 = 0x00;
				Mem364[fp - 0x14 + 0x00:word32] = make_lastline_link(fp - 0x04, dwArg04, dwLoc24_340, eax_354);
			}
		}
		if (Mem0[fp - 0x14 + 0x00:word32] != 0x00)
		{
			Mem312[fp - 0x5C + 0x00:word32] = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem314[fp - 0x18 + 0x00:word32] = wtf_strwidth(dwArg00);
			if (Mem314[0x081807A0:word32] - 0x03 <= Mem314[(fp - 0x18) + 0x00:word32])
			{
				eax_319 = Mem314[fp - 0x14 + 0x00:word32];
				return eax_319;
			}
		}
	}
	word32 eax_274 = Mem0[0x080D5384:word32];
	word16 ax_276 = (word16) eax_274;
	if (eax_274 != 0x00)
	{
		eax_274 = Mem0[0x08180684:word32];
		ax_276 = (word16) eax_274;
		if (eax_274 != 0x00)
		{
			word32 eax_286 = Mem0[0x08180684:word32];
			Mem287[fp - 0x5C + 0x00:word32] = eax_286;
			Strnew_charp(eax_286, dwArg00);
			Mem288[fp - 0x10 + 0x00:word32] = eax_286;
l08074AB7:
			if (Mem0[0x0817C2D0:word32] != 0x00 && (Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] != 0x00 && Mem0[Mem0[fp + 0x04:word32] + 0x14:word32] != 0x00))
			{
				real64 rLoc2_247;
				Mem237[fp - 44 + 0x00:word32] = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x20:word32];
				Mem241[fp - 0x30 + 0x00:word32] = Mem237[Mem237[Mem237[fp + 0x04:word32] + 0x14:word32] + 0x20:word32];
				real64 rLoc1_244 = (real64) Mem241[fp - 44 + 0x00:int32] * Mem241[0x080CAD58:real64];
				if (Mem241[fp - 0x30 + 0x00:word32] != 0x00)
					rLoc2_247 = (real64) Mem241[fp - 0x30 + 0x00:int32];
				else
					rLoc2_247 = 1.0;
				real64 rLoc1_250 = rLoc1_244 / rLoc2_247 + Mem241[0x080CAD60:real64];
				Mem251[fp - 0x3E + 0x00:word16] = __fstcw();
				Mem255[fp - 0x40 + 0x00:word16] = DPB(ax_276, 0x0C, 8);
				__fldcw(Mem255[fp - 0x40 + 0x00:word16]);
				Mem256[fp - 0x34 + 0x00:int32] = (int32) rLoc1_250;
				__fldcw(Mem256[fp - 0x3E + 0x00:word16]);
				Mem258[fp - 0x50 + 0x00:word32] = Mem256[fp - 0x34 + 0x00:word32];
				Mem260[fp - 0x54 + 0x00:word32] = Mem258[fp - 0x30 + 0x00:word32];
				Mem262[fp - 88 + 0x00:word32] = Mem260[fp - 44 + 0x00:word32];
				Mem263[fp - 0x5C + 0x00:word32] = 0x080CAC41;
				byte bpl_264;
				Mem266[fp - 88 + 0x00:word32] = Sprintf(dwArg00, out bpl_264);
				Mem268[fp - 0x5C + 0x00:word32] = Mem266[fp - 0x10 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			else
			{
				Mem219[fp - 88 + 0x00:word32] = 0x080CAC4E;
				Mem221[fp - 0x5C + 0x00:word32] = Mem219[fp - 0x10 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			Mem78[fp - 88 + 0x00:word32] = 0x080CAC56;
			Mem80[fp - 0x5C + 0x00:word32] = Mem78[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem85[fp - 88 + 0x00:word32] = Mem80[Mem80[fp + 0x04:word32] + 0x04:word32];
			Mem87[fp - 0x5C + 0x00:word32] = Mem85[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (Mem87[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem105[fp - 0x38 + 0x00:word32] = Mem87[0x081807A0:word32] - 0x03 - Mem87[(fp - 0x18) + 0x00:word32];
				Mem108[fp - 0x5C + 0x00:word32] = Mem105[Mem105[fp - 0x10 + 0x00:word32] + 0x00:word32];
				if (wtf_strwidth(dwArg00) > Mem108[(fp - 0x38) + 0x00:word32])
				{
					Mem133[fp - 0x3C + 0x00:word32] = Mem108[Mem108[fp - 0x10 + 0x00:word32] + 0x00:word32];
					while ((byte) (word32) Mem133[Mem133[fp - 0x3C + 0x00:word32] + 0x00:byte] != 0x00)
					{
						word32 eax_171;
						if ((byte) (word32) Mem133[0x080DC0AF:byte] != 0x00)
							eax_171 = (word32) (byte) (word32) Mem133[(word32) (byte) (word32) Mem133[Mem133[fp - 0x3C + 0x00:word32] + 0x00:byte] + 0x081799E0:byte];
						else
							eax_171 = (word32) ((byte) (word32) Mem133[(word32) (byte) (word32) Mem133[Mem133[fp - 0x3C + 0x00:word32] + 0x00:byte] + 0x081799E0:byte] != 0x00);
						Mem176[fp - 0x38 + 0x00:word32] = Mem133[fp - 0x38 + 0x00:word32] - eax_171;
						if (Mem176[fp - 0x38 + 0x00:word32] < 0x00)
							break;
						Mem187[fp - 0x3C + 0x00:word32] = Mem176[fp - 0x3C + 0x00:word32] + (word32) ((byte) ((word32) Mem176[(word32) ((byte) ((word32) Mem176[Mem176[(fp - 0x3C) + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte]));
					}
					Mem158[fp - 0x38 + 0x00:word32] = Mem133[fp - 0x3C + 0x00:word32] - Mem133[Mem133[(fp - 0x10) + 0x00:word32] + 0x00:word32];
					Mem160[fp - 88 + 0x00:word32] = Mem158[fp - 0x38 + 0x00:word32];
					Mem162[fp - 0x5C + 0x00:word32] = Mem160[fp - 0x10 + 0x00:word32];
					Strtruncate(dwArg00, dwArg04);
				}
				Mem124[fp - 88 + 0x00:word32] = 0x080CAC59;
				Mem126[fp - 0x5C + 0x00:word32] = Mem124[fp - 0x10 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem128[fp - 88 + 0x00:word32] = Mem126[fp - 0x14 + 0x00:word32];
				Mem130[fp - 0x5C + 0x00:word32] = Mem128[fp - 0x10 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			else
			{
				Mem213[fp - 88 + 0x00:word32] = 0x080CAC5C;
				Mem215[fp - 0x5C + 0x00:word32] = Mem213[fp - 0x10 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			eax_319 = Mem87[fp - 0x10 + 0x00:word32];
			return eax_319;
		}
	}
	Strnew(eax_274);
	Mem278[fp - 0x10 + 0x00:word32] = eax_274;
	goto l08074AB7;
}

// 08074C9B: Register word32 displayBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, FpuStack real64 rArg0, FpuStack out ptr32 rArg0Out)
word32 displayBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, real64 rArg0, ptr32 & rArg0Out)
{
	word32 ebp_127 = fp - 0x04;
	word32 esp_12 = fp - 0x3C;
	if (dwArg04 != 0x00)
	{
		if (Mem0[dwArg04 + 0x0C:word32] == 0x00 && readBufferCache(dwArg04) == 0x00)
			dwArg08 = 0x01;
		if ((word16) (word32) Mem0[dwArg04 + 0x30:word16] == 0x00)
		{
			word32 eax_551;
			word32 edx_545 = Mem0[0x081807A0:word32];
			if (Mem0[0x0817C2D8:word32] != 0x00)
				eax_551 = 0x06;
			else
				eax_551 = 0x01;
			word32 ecx_553 = edx_545 - eax_551;
			word32 eax_554 = ecx_553;
			if (ecx_553 < 0x00)
				eax_554 = 0x00;
			Mem569[dwArg04 + 0x30:word16] = (word16) eax_554;
		}
		if ((word16) (word32) Mem0[dwArg04 + 0x32:word16] == 0x00)
			Mem544[dwArg04 + 0x32:word16] = (word16) Mem0[0x08180780:word32];
		word32 eax_532;
		word32 edx_83 = (int32) (word16) (word32) Mem0[dwArg04 + 0x30:word16];
		word32 ecx_85 = Mem0[0x081807A0:word32];
		if (Mem0[0x0817C2D8:word32] != 0x00)
			eax_532 = 0x06;
		else
			eax_532 = 0x01;
		word32 ebx_93 = ecx_85 - eax_532;
		word32 eax_102 = ebx_93;
		if (ebx_93 < 0x00)
			eax_102 = 0x00;
		if (edx_83 != eax_102 && (is_html_type(Mem0[dwArg04 + 0x34:word32]) != 0x00 || Mem0[0x0817C330:word32] != 0x00) || (byte) ((word32) Mem0[dwArg04 + 0xF7:byte]) != 0x00)
		{
			Mem507[dwArg04 + 0xF7:byte] = 0x01;
			reshapeBuffer(fp - 0x04, gs, dwArg04);
		}
		if (Mem0[0x0817C2D8:word32] != 0x00)
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x14:word32] != 0x00 && Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x14:word32] + 0x20:word32] > 0x00)
			{
				word32 eax_459 = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x14:word32] + 0x20:word32];
				Mem460[fp - 0x20 + 0x00:word32] = eax_459;
				Mem464[fp - 0x3C + 0x00:real64] = (real64) Mem460[fp - 0x20 + 0x00:int32] + Mem460[0x080CAD68:real64];
				word32 esi_467;
				word32 ebx_468;
				byte SCZO_469;
				byte Z_470;
				word32 eax_471;
				byte SZO_472;
				byte C_473;
				word16 ax_474;
				word32 edx_475;
				word16 dx_476;
				word32 ecx_477;
				byte S_478;
				byte al_479;
				byte ah_480;
				word16 cx_481;
				byte SO_482;
				word16 bx_483;
				!log();
				rArg0 = rArg0 / Mem464[0x080CAD70:real64];
				Mem487[ebp_127 - 0x1E + 0x00:word16] = __fstcw();
				Mem491[ebp_127 - 0x20 + 0x00:word16] = DPB(ax_474, 0x0C, 8);
				__fldcw(Mem491[ebp_127 - 0x20 + 0x00:word16]);
				Mem492[ebp_127 - 0x1C + 0x00:int32] = (int32) rArg0;
				__fldcw(Mem492[ebp_127 - 0x1E + 0x00:word16]);
				Mem499[Mem492[ebp_127 + 0x08:word32] + 0x54:word16] = (word16) (Mem492[ebp_127 - 0x1C + 0x00:word32] + 0x02);
			}
			if ((word16) (word32) Mem0[Mem0[ebp_127 + 0x08:word32] + 0x54:word16] <= 0x04)
				Mem451[Mem0[ebp_127 + 0x08:word32] + 0x54:word16] = 0x05;
			if ((int32) (word16) (word32) Mem0[Mem0[ebp_127 + 0x08:word32] + 0x54:word16] > Mem0[0x081807A0:word32])
				Mem449[Mem0[ebp_127 + 0x08:word32] + 0x54:word16] = (word16) Mem0[0x081807A0:word32];
		}
		else
			Mem501[Mem0[fp + 0x04:word32] + 0x54:word16] = 0x00;
		Mem142[Mem0[ebp_127 + 0x08:word32] + 88:word16] = (word16) Mem0[0x081807A0:word32] - (word16) ((word32) Mem0[Mem0[ebp_127 + 0x08:word32] + 0x54:word16]);
		if (Mem142[0x08180720:word32] > 0x01 || Mem142[0x08180680:word32] != 0x00)
		{
			if (Mem142[ebp_127 + 0x0C:word32] == 0x01 || Mem142[ebp_127 + 0x0C:word32] == 0x04)
				calcTabPos();
			Mem386[ebp_127 - 0x10 + 0x00:word32] = (int32) (word16) (word32) Mem142[Mem142[0x08180730:word32] + 0x14:word16] + 0x02;
			if (Mem386[0x08180780:word32] - 0x01 < Mem386[(ebp_127 - 0x10) + 0x00:word32])
				Mem394[ebp_127 - 0x10 + 0x00:word32] = Mem386[0x08180780:word32] - 0x01;
		}
		if ((int32) (word16) (word32) Mem142[Mem142[ebp_127 + 0x08:word32] + 0x56:word16] != Mem142[(ebp_127 - 0x10) + 0x00:word32] || (int32) ((word16) ((word32) Mem142[Mem142[ebp_127 + 0x08:word32] + 0x5A:word16])) != (Mem142[0x08180780:word32] - 0x01) - Mem142[(ebp_127 - 0x10) + 0x00:word32])
		{
			Mem347[Mem142[ebp_127 + 0x08:word32] + 0x56:word16] = (word16) Mem142[ebp_127 - 0x10 + 0x00:word32];
			word32 eax_348 = Mem347[0x08180780:word32];
			Mem362[Mem347[ebp_127 + 0x08:word32] + 0x5A:word16] = (word16) (DPB(eax_348, (word16) eax_348 - (word16) Mem347[(ebp_127 - 0x10) + 0x00:word32], 0) - 0x01);
			Mem364[esp_12 + 0x00:word32] = Mem362[ebp_127 + 0x08:word32];
			arrangeCursor(ebp_127, gs, dwArg00);
			Mem365[ebp_127 + 0x0C:word32] = 0x04;
		}
		if (Mem142[ebp_127 + 0x0C:word32] == 0x01 || (Mem142[ebp_127 + 0x0C:word32] == 0x03 || (Mem142[ebp_127 + 0x0C:word32] == 0x04 || (Mem142[Mem142[ebp_127 + 0x08:word32] + 0x0C:word32] != Mem142[135776680:word32] || Mem142[Mem142[ebp_127 + 0x08:word32] + 0x44:word32] != Mem142[0x080D55DC:word32]))))
		{
			if (Mem142[135774940:word32] != 0x00 && (Mem142[ebp_127 + 0x0C:word32] == 0x04 || (Mem142[Mem142[ebp_127 + 0x08:word32] + 0x0C:word32] != Mem142[135776680:word32] || Mem142[Mem142[ebp_127 + 0x08:word32] + 0x44:word32] != Mem142[0x080D55DC:word32])))
			{
				if (Mem142[135776740:word32] != 0x00)
					clear();
				clearImage();
				Mem309[esp_12 + 0x04:word32] = 0x01;
				Mem311[esp_12 + 0x00:word32] = Mem309[ebp_127 + 0x08:word32];
				loadImage(ebp_127, gs);
				Mem316[135776736:word32] = Mem311[135776736:word32] + 0x01;
				Mem317[135776740:word32] = 0x00;
			}
			Mem292[esp_12 + 0x04:word32] = Mem142[0x08180780:word32] - 0x01;
			Mem294[esp_12 + 0x00:word32] = Mem292[ebp_127 + 0x08:word32];
			redrawNLine(ebp_127, gs, dwArg00);
			Mem297[135776680:word32] = Mem294[Mem294[ebp_127 + 0x08:word32] + 0x0C:word32];
			Mem300[0x080D55DC:word32] = Mem297[Mem297[ebp_127 + 0x08:word32] + 0x44:word32];
		}
		if (Mem142[Mem142[ebp_127 + 0x08:word32] + 0x0C:word32] == 0x00)
			Mem277[Mem142[ebp_127 + 0x08:word32] + 0x0C:word32] = Mem142[Mem142[ebp_127 + 0x08:word32] + 0x08:word32];
		if ((byte) (word32) Mem142[Mem142[ebp_127 + 0x08:word32] + 0xF7:byte] != 0x00)
		{
			Mem178[esp_12 + 0x04:word32] = 0x01;
			Mem180[esp_12 + 0x00:word32] = Mem178[ebp_127 + 0x08:word32];
			real64 rArg0_182;
			eax = displayBuffer(ebp_127, gs, dwArg00, dwArg04, rArg0, out rArg0_182);
		}
		else
		{
			Mem188[esp_12 + 0x00:word32] = Mem142[ebp_127 + 0x08:word32];
			drawAnchorCursor(ebp_127, dwArg00);
			Mem190[esp_12 + 0x00:word32] = Mem188[ebp_127 + 0x08:word32];
			Mem192[ebp_127 - 0x0C + 0x00:word32] = make_lastline_message(ebp_127, dwArg00);
			if (Mem192[Mem192[ebp_127 + 0x08:word32] + 0x08:word32] == 0x00)
			{
				Mem271[esp_12 + 0x04:word32] = 0x080CAC5E;
				Mem273[esp_12 + 0x00:word32] = Mem271[ebp_127 - 0x0C + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem192[135776732:word32] != 0x00)
			{
				word32 eax_265 = Mem192[135776732:word32];
				Mem266[esp_12 + 0x04:word32] = 0x00;
				Mem267[esp_12 + 0x00:word32] = eax_265;
				disp_message(gs, dwArg00, dwArg04);
				Mem269[135776732:word32] = 0x00;
				refresh(ebp_127);
			}
			standout();
			word32 edx_219 = (int32) (word16) (word32) Mem192[Mem192[ebp_127 + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem192[Mem192[ebp_127 + 0x08:word32] + 0x54:word16]));
			word32 eax_222 = Mem192[Mem192[ebp_127 - 0x0C + 0x00:word32] + 0x00:word32];
			Mem223[esp_12 + 0x08:word32] = (int32) (word16) (word32) Mem192[Mem192[ebp_127 + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem192[Mem192[ebp_127 + 0x08:word32] + 0x56:word16]));
			Mem224[esp_12 + 0x04:word32] = edx_219;
			Mem225[esp_12 + 0x00:word32] = eax_222;
			message(dwArg00, dwArg04, dwArg08);
			standend();
			word32 esi_226 = Mem225[0x080D5378:word32];
			word32 ebx_227 = Mem225[135091052:word32];
			word32 eax_229 = Mem225[Mem225[ebp_127 + 0x08:word32] + 0x04:word32];
			Mem230[esp_12 + 0x00:word32] = eax_229;
			Strnew_charp(eax_229, dwArg00);
			Mem231[esp_12 + 0x08:word32] = esi_226;
			Mem232[esp_12 + 0x04:word32] = ebx_227;
			Mem233[esp_12 + 0x00:word32] = eax_229;
			word32 ebx_234;
			Mem237[esp_12 + 0x00:word32] = Mem233[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_234) + 0x00:word32];
			term_title(dwArg00);
			refresh(ebp_127);
			eax = Mem237[135774940:word32];
			if (eax != 0x00)
			{
				eax = Mem237[0x080D530C:word32];
				if (eax != 0x00)
				{
					eax = Mem237[Mem237[ebp_127 + 0x08:word32] + 0x68:word32];
					if (eax != 0x00)
						eax = drawImage();
				}
			}
		}
	}
	return eax;
}

// 08075138: void drawAnchorCursor0(Register word32 ebp, Stack word32 dwArg04)
void drawAnchorCursor0(word32 ebp, word32 dwArg04)
{
	while (Mem0[Mem0[fp + 0x08:word32] + 0x04:word32] > Mem0[(fp - 0x14) + 0x00:word32])
	{
		word32 eax_53 = Mem0[fp - 0x14 + 0x00:word32];
		Mem61[fp - 0x1C + 0x00:word32] = Mem0[Mem0[fp + 0x08:word32] + 0x00:word32] + ((eax_53 << 0x06) - (eax_53 << 0x02));
		if (Mem61[Mem61[fp - 0x1C + 0x00:word32] + 0x14:word32] >= Mem61[fp + 0x14:word32])
		{
			if (Mem61[Mem61[fp - 0x1C + 0x00:word32] + 0x14:word32] < Mem61[fp + 0x18:word32])
			{
				while (Mem61[fp - 0x18 + 0x00:word32] != 0x00)
				{
					if (Mem61[Mem61[fp - 0x18 + 0x00:word32] + 0x1C:word32] == Mem61[Mem61[(fp - 0x1C) + 0x00:word32] + 0x14:word32])
					{
						if (Mem61[fp + 0x0C:word32] < 0x00 || Mem61[Mem61[(fp - 0x1C) + 0x00:word32] + 44:word32] != Mem61[fp + 0x0C:word32])
						{
							if (Mem61[fp + 0x10:word32] >= 0x00 && (Mem61[Mem61[(fp - 0x1C) + 0x00:word32] + 44:word32] == Mem61[fp + 0x10:word32] && Mem61[fp + 0x1C:word32] != 0x00))
							{
								word32 eax_110 = Mem61[Mem61[fp - 0x1C + 0x00:word32] + 0x18:word32];
								word32 ecx_120 = Mem61[Mem61[fp - 0x18 + 0x00:word32] + 0x1C:word32] - Mem61[fp + 0x14:word32] + (int32) ((word16) ((word32) Mem61[Mem61[fp + 0x04:word32] + 0x56:word16]));
								Mem121[fp - 44 + 0x00:word32] = Mem61[Mem61[fp - 0x1C + 0x00:word32] + 0x24:word32];
								Mem122[fp - 0x30 + 0x00:word32] = eax_110;
								Mem123[fp - 0x34 + 0x00:word32] = ecx_120;
								Mem125[fp - 0x38 + 0x00:word32] = Mem123[fp - 0x18 + 0x00:word32];
								Mem127[fp - 0x3C + 0x00:word32] = Mem125[fp + 0x04:word32];
								redrawLineRegion(fp - 0x04, dwArg00, dwArg04, dwArg0C, dwArg10);
							}
						}
						else
						{
							Mem137[fp - 0x10 + 0x00:word32] = Mem61[Mem61[fp - 0x1C + 0x00:word32] + 0x18:word32];
							while (Mem137[Mem137[fp - 0x1C + 0x00:word32] + 0x24:word32] > Mem137[(fp - 0x10) + 0x00:word32])
							{
								word16 ax_177 = (word16) (word32) Mem137[Mem137[fp - 0x18 + 0x00:word32] + 0x04:word32][Mem137[fp - 0x10 + 0x00:word32] * 0x02];
								if (((word32) ax_177 & 0x70) != 0x00)
								{
									if (Mem137[fp + 0x1C:word32] != 0x00)
										Mem137[Mem137[fp - 0x18 + 0x00:word32] + 0x04:word32][Mem137[fp - 0x10 + 0x00:word32] * 0x02] = DPB(ax_177, (byte) (word32) Mem137[Mem137[fp - 0x18 + 0x00:word32] + 0x04:word32][Mem137[fp - 0x10 + 0x00:word32] * 0x02] | 0x80, 0);
									else
										Mem137[Mem137[fp - 0x18 + 0x00:word32] + 0x04:word32][Mem137[fp - 0x10 + 0x00:word32] * 0x02] = DPB(ax_177, (byte) (word32) Mem137[Mem137[fp - 0x18 + 0x00:word32] + 0x04:word32][Mem137[fp - 0x10 + 0x00:word32] * 0x02] & 0x7F, 0);
								}
								Mem192[fp - 0x10 + 0x00:word32] = Mem137[fp - 0x10 + 0x00:word32] + 0x01;
							}
							if (Mem137[fp + 0x1C:word32] != 0x00)
							{
								word32 eax_153 = Mem137[Mem137[fp - 0x1C + 0x00:word32] + 0x18:word32];
								word32 ecx_163 = Mem137[Mem137[fp - 0x18 + 0x00:word32] + 0x1C:word32] - Mem137[fp + 0x14:word32] + (int32) ((word16) ((word32) Mem137[Mem137[fp + 0x04:word32] + 0x56:word16]));
								Mem164[fp - 44 + 0x00:word32] = Mem137[Mem137[fp - 0x1C + 0x00:word32] + 0x24:word32];
								Mem165[fp - 0x30 + 0x00:word32] = eax_153;
								Mem166[fp - 0x34 + 0x00:word32] = ecx_163;
								Mem168[fp - 0x38 + 0x00:word32] = Mem166[fp - 0x18 + 0x00:word32];
								Mem170[fp - 0x3C + 0x00:word32] = Mem168[fp + 0x04:word32];
								redrawLineRegion(fp - 0x04, dwArg00, dwArg04, dwArg0C, dwArg10);
							}
						}
						goto l080752FC;
					}
					Mem232[fp - 0x18 + 0x00:word32] = Mem61[Mem61[fp - 0x18 + 0x00:word32] + 0x0C:word32];
				}
			}
			return;
		}
l080752FC:
		Mem79[fp - 0x14 + 0x00:word32] = Mem61[fp - 0x14 + 0x00:word32] + 0x01;
	}
}

// 0807531B: void drawAnchorCursor(Register word32 ebp, Stack word32 dwArg04)
void drawAnchorCursor(word32 ebp, word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00 && (Mem0[dwArg04 + 0x7C:word32] != 0x00 && (Mem0[dwArg04 + 0x60:word32] != 0x00 || Mem0[dwArg04 + 0x6C:word32] != 0x00)))
	{
		word32 eax_50 = retrieveCurrentAnchor(dwArg04);
		word32 dwLoc10_165 = eax_50;
		if (eax_50 == 0x00)
			dwLoc10_165 = retrieveCurrentMap(dwArg04);
		if (Mem0[dwArg04 + 0x60:word32] != 0x00)
		{
			drawAnchorCursor0(fp - 0x04, dwArg04);
			word32 eax_146 = Mem0[Mem0[fp + 0x04:word32] + 0x60:word32];
			Mem147[fp - 0x34 + 0x00:word32] = 0x00;
			Mem149[fp - 0x38 + 0x00:word32] = Mem147[fp - 0x20 + 0x00:word32];
			Mem151[fp - 0x3C + 0x00:word32] = Mem149[fp - 0x1C + 0x00:word32];
			Mem152[fp - 0x40 + 0x00:word32] = ~0x00;
			Mem154[fp - 0x44 + 0x00:word32] = Mem152[fp - 0x14 + 0x00:word32];
			Mem155[fp - 0x48 + 0x00:word32] = eax_146;
			Mem157[fp - 0x4C + 0x00:word32] = Mem155[fp + 0x04:word32];
			drawAnchorCursor0(fp - 0x04, dwArg00);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x6C:word32] != 0x00)
		{
			word32 eax_104 = Mem0[Mem0[fp + 0x04:word32] + 0x6C:word32];
			Mem105[fp - 0x34 + 0x00:word32] = 0x01;
			Mem107[fp - 0x38 + 0x00:word32] = Mem105[fp - 0x20 + 0x00:word32];
			Mem109[fp - 0x3C + 0x00:word32] = Mem107[fp - 0x1C + 0x00:word32];
			Mem111[fp - 0x40 + 0x00:word32] = Mem109[fp - 0x18 + 0x00:word32];
			Mem113[fp - 0x44 + 0x00:word32] = Mem111[fp - 0x14 + 0x00:word32];
			Mem114[fp - 0x48 + 0x00:word32] = eax_104;
			Mem116[fp - 0x4C + 0x00:word32] = Mem114[fp + 0x04:word32];
			drawAnchorCursor0(fp - 0x04, dwArg00);
			word32 eax_119 = Mem116[Mem116[fp + 0x04:word32] + 0x6C:word32];
			Mem120[fp - 0x34 + 0x00:word32] = 0x00;
			Mem122[fp - 0x38 + 0x00:word32] = Mem120[fp - 0x20 + 0x00:word32];
			Mem124[fp - 0x3C + 0x00:word32] = Mem122[fp - 0x1C + 0x00:word32];
			Mem125[fp - 0x40 + 0x00:word32] = ~0x00;
			Mem127[fp - 0x44 + 0x00:word32] = Mem125[fp - 0x14 + 0x00:word32];
			Mem128[fp - 0x48 + 0x00:word32] = eax_119;
			Mem130[fp - 0x4C + 0x00:word32] = Mem128[fp + 0x04:word32];
			drawAnchorCursor0(fp - 0x04, dwArg00);
		}
		Mem102[Mem0[Mem0[fp + 0x04:word32] + 0x7C:word32] + 0x0C:word32] = Mem0[fp - 0x14 + 0x00:word32];
	}
}

// 080754C6: void redrawNLine(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void redrawNLine(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[0x080D52D8:word32] != 0x00)
	{
		setfcolor(Mem0[0x080D52DC:word32]);
		setbcolor(Mem0[0x080D52EC:word32]);
	}
	if (Mem0[0x08180720:word32] > 0x01 || Mem0[0x08180680:word32] != 0x00)
	{
		move(0x00, 0x00);
		if (Mem0[0x08180680:word32] != 0x00)
			addstr(Mem0[0x08180680:word32]);
		clrtoeolx();
		word32 dwLoc18_208 = Mem0[0x081804E8:word32];
		while (dwLoc18_208 != 0x00)
		{
			move((int32) (word16) (word32) Mem0[dwLoc18_208 + 0x14:word16], (int32) (word16) (word32) Mem0[dwLoc18_208 + 0x10:word16]);
			if (dwLoc18_208 == Mem0[0x08180718:word32])
				bold();
			addch(0x5B);
			word32 edx_278 = (int32) (word16) (word32) Mem0[dwLoc18_208 + 0x12:word16] - (int32) ((word16) ((word32) Mem0[dwLoc18_208 + 0x10:word16])) - 0x01 - wtf_strwidth(Mem0[Mem0[dwLoc18_208 + 0x08:word32] + 0x04:word32]);
			word32 dwLoc1C_280 = edx_278;
			if (edx_278 < 0x00)
				dwLoc1C_280 = 0x00;
			if (dwLoc1C_280 > 0x01)
				addnstr_sup(0x080CAC3C, (dwLoc1C_280 >>u 0x1F) + dwLoc1C_280 >> 0x01);
			if (dwLoc18_208 == Mem0[0x08180718:word32])
				effect_active_start();
			addnstr(Mem0[Mem0[dwLoc18_208 + 0x08:word32] + 0x04:word32], (int32) (word16) (word32) Mem0[dwLoc18_208 + 0x12:word16] - (int32) ((word16) ((word32) Mem0[dwLoc18_208 + 0x10:word16])) - dwLoc1C_280);
			if (dwLoc18_208 == Mem0[0x08180718:word32])
				effect_active_end();
			if (dwLoc1C_280 > 0x00)
			{
				word32 eax_336 = dwLoc1C_280 + 0x01;
				addnstr_sup(0x080CAC3C, (eax_336 >>u 0x1F) + eax_336 >> 0x01);
			}
			move((int32) (word16) (word32) Mem0[dwLoc18_208 + 0x14:word16], (int32) (word16) (word32) Mem0[dwLoc18_208 + 0x12:word16]);
			addch(0x5D);
			if (dwLoc18_208 == Mem0[0x08180718:word32])
				boldend();
			dwLoc18_208 = Mem0[dwLoc18_208 + 0x00:word32];
		}
		move((int32) (word16) (word32) Mem0[Mem0[0x08180730:word32] + 0x14:word16] + 0x01, 0x00);
		word32 dwLoc14_235 = 0x00;
		while (dwLoc14_235 < Mem0[0x081807A0:word32])
		{
			addch(0x7E);
			dwLoc14_235 = dwLoc14_235 + 0x01;
		}
	}
	while ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x5A:word16] > Mem0[(fp - 0x14) + 0x00:word32])
	{
		if ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x5A:word16] - Mem0[fp + 0x08:word32] <= Mem0[(fp - 0x14) + 0x00:word32] || -Mem0[fp + 0x08:word32] > Mem0[(fp - 0x14) + 0x00:word32])
		{
			Mem186[fp - 0x24 + 0x00:word32] = (int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x56:word16] + Mem0[(fp - 0x14) + 0x00:word32];
			Mem188[fp - 0x28 + 0x00:word32] = Mem186[fp - 0x10 + 0x00:word32];
			Mem190[fp - 44 + 0x00:word32] = Mem188[fp + 0x04:word32];
			Mem195[fp - 0x10 + 0x00:word32] = redrawLine(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, rArg0, out rArg0);
		}
		if (Mem0[fp - 0x10 + 0x00:word32] == 0x00)
			break;
		Mem174[fp - 0x14 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] + 0x01;
		Mem178[fp - 0x10 + 0x00:word32] = Mem174[Mem174[fp - 0x10 + 0x00:word32] + 0x0C:word32];
	}
	if (Mem0[fp + 0x08:word32] > 0x00)
	{
		word32 eax_156 = (int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x56:word16] + Mem0[(fp - 0x14) + 0x00:word32];
		Mem158[fp - 0x28 + 0x00:word32] = 0x00;
		Mem159[fp - 44 + 0x00:word32] = eax_156;
		move(dwArg00, dwArg04);
		clrtobotx();
	}
	if (Mem0[135774940:word32] != 0x00 && (Mem0[0x080D530C:word32] != 0x00 && Mem0[Mem0[fp + 0x04:word32] + 0x68:word32] != 0x00))
	{
		word32 eax_100 = (int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem0[Mem0[fp + 0x04:word32] + 0x56:word16]));
		Mem101[fp - 0x28 + 0x00:word32] = (int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem0[Mem0[fp + 0x04:word32] + 0x54:word16]));
		Mem102[fp - 44 + 0x00:word32] = eax_100;
		move(dwArg00, dwArg04);
		Mem104[fp - 0x14 + 0x00:word32] = 0x00;
		Mem107[fp - 0x10 + 0x00:word32] = Mem104[Mem104[fp + 0x04:word32] + 0x0C:word32];
		while ((int32) (word16) (word32) Mem107[Mem107[fp + 0x04:word32] + 0x5A:word16] > Mem107[(fp - 0x14) + 0x00:word32] && Mem107[(fp - 0x10) + 0x00:word32] != 0x00)
		{
			if ((int32) (word16) (word32) Mem107[Mem107[fp + 0x04:word32] + 0x5A:word16] - Mem107[fp + 0x08:word32] <= Mem107[(fp - 0x14) + 0x00:word32] || -Mem107[fp + 0x08:word32] > Mem107[(fp - 0x14) + 0x00:word32])
			{
				Mem143[fp - 0x24 + 0x00:word32] = (int32) (word16) (word32) Mem107[Mem107[fp + 0x04:word32] + 0x56:word16] + Mem107[(fp - 0x14) + 0x00:word32];
				Mem145[fp - 0x28 + 0x00:word32] = Mem143[fp - 0x10 + 0x00:word32];
				Mem147[fp - 44 + 0x00:word32] = Mem145[fp + 0x04:word32];
				redrawLineImage(fp - 0x04, dwArg00, dwArg04);
			}
			Mem131[fp - 0x14 + 0x00:word32] = Mem107[fp - 0x14 + 0x00:word32] + 0x01;
			Mem135[fp - 0x10 + 0x00:word32] = Mem131[Mem131[fp - 0x10 + 0x00:word32] + 0x0C:word32];
		}
		Mem118[fp - 44 + 0x00:word32] = Mem107[fp + 0x04:word32];
		getAllImage(fp - 0x04, dwArg00);
	}
}

// 08075864: Register word32 redrawLine(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, FpuStack real64 rArg0, FpuStack out ptr32 rArg0Out)
word32 redrawLine(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, real64 rArg0, ptr32 & rArg0Out)
{
	word32 eax_128;
	word32 ebp_104 = fp - 0x04;
	word32 esp_10 = fp - 0xAC;
	if (dwArg08 == 0x00)
	{
		if (Mem0[dwArg04 + 0x5C:word32] == 0x00)
		{
			eax_128 = 0x00;
			goto l08075F17;
		}
		Mem720[fp - 0x84 + 0x00:word32] = getNextPage(fp - 0x04, gs, dwArg04);
		if (Mem720[fp - 0x84 + 0x00:word32] == 0x00)
		{
			eax_128 = 0x00;
			goto l08075F17;
		}
	}
	Mem70[fp - 0xA8 + 0x00:word32] = 0x00;
	Mem72[fp - 0xAC + 0x00:word32] = Mem70[fp + 0x0C:word32];
	move(dwArg00, dwArg04);
	if (Mem72[0x0817C2D8:word32] != 0x00)
	{
		word16 ax_528 = (word16) (word32) Mem72[Mem72[fp - 0x80 + 0x00:word32] + 0x54:word16];
		if (ax_528 == 0x00)
		{
			if (Mem72[Mem72[Mem72[fp - 0x80 + 0x00:word32] + 0x14:word32] + 0x20:word32] > 0x00)
			{
				word32 eax_659 = Mem72[Mem72[Mem72[fp - 0x80 + 0x00:word32] + 0x14:word32] + 0x20:word32];
				Mem660[fp - 0x88 + 0x00:word32] = eax_659;
				Mem664[fp - 0xAC + 0x00:real64] = (real64) Mem660[fp - 0x88 + 0x00:int32] + Mem660[0x080CAD68:real64];
				word32 ebx_667;
				byte SCZO_668;
				word32 eax_669;
				byte SZO_671;
				byte C_672;
				byte Z_673;
				word32 edx_674;
				word16 ax_675;
				byte ah_676;
				word16 dx_677;
				word32 ecx_678;
				word16 cx_679;
				byte S_680;
				byte SO_681;
				byte dh_682;
				byte al_683;
				byte bpl_684;
				!log();
				real64 rArg0_686 = rArg0 / Mem664[0x080CAD70:real64];
				Mem687[ebp_104 - 0x86 + 0x00:word16] = __fstcw();
				Mem691[ebp_104 - 0x88 + 0x00:word16] = DPB(ax_675, 0x0C, 8);
				__fldcw(Mem691[ebp_104 - 0x88 + 0x00:word16]);
				Mem692[ebp_104 - 0x84 + 0x00:int32] = (int32) rArg0_686;
				__fldcw(Mem692[ebp_104 - 0x86 + 0x00:word16]);
				Mem699[Mem692[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16] = (word16) (Mem692[ebp_104 - 0x84 + 0x00:word32] + 0x02);
			}
			if ((word16) (word32) Mem72[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16] <= 0x04)
				Mem656[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16] = 0x05;
			if ((int32) (word16) (word32) Mem72[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16] > Mem72[0x081807A0:word32])
				Mem654[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16] = (word16) Mem72[0x081807A0:word32];
			word16 cx_642 = (word16) Mem72[0x081807A0:word32] - (word16) ((word32) Mem72[Mem72[(ebp_104 - 0x7C) + 0x00:word32] + 0x54:word16]);
			Mem649[Mem72[ebp_104 - 0x7C + 0x00:word32] + 88:word16] = cx_642;
			dx = cx_642;
		}
		if (Mem72[Mem72[ebp_104 - 0x80 + 0x00:word32] + 0x20:word32] != 0x00 && Mem72[Mem72[(ebp_104 - 0x80) + 0x00:word32] + 44:word32] == 0x00)
		{
			word32 eax_590 = (int32) (word16) (word32) Mem72[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16];
			Mem593[esp_10 + 0x0C:word32] = Mem72[Mem72[ebp_104 - 0x80 + 0x00:word32] + 0x20:word32];
			Mem594[esp_10 + 0x08:word32] = eax_590 - 0x01;
			Mem595[esp_10 + 0x04:word32] = 0x080CAC67;
			Mem597[esp_10 + 0x00:word32] = ebp_104 - 0x1C;
			sprintf(Mem597[esp_10 + 0x00:(ptr char)], Mem597[esp_10 + 0x04:(ptr char)], Mem597[esp_10 + -0x04:<unknown>]);
		}
		else
		{
			word32 eax_571 = (int32) (word16) (word32) Mem72[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16];
			Mem574[esp_10 + 0x0C:word32] = 0x080CAC72;
			Mem575[esp_10 + 0x08:word32] = eax_571 - 0x01;
			Mem576[esp_10 + 0x04:word32] = 0x080CAC6D;
			Mem578[esp_10 + 0x00:word32] = ebp_104 - 0x1C;
			sprintf(Mem578[esp_10 + 0x00:(ptr char)], Mem578[esp_10 + 0x04:(ptr char)], Mem578[esp_10 + -0x04:<unknown>]);
		}
		Mem564[esp_10 + 0x00:word32] = ebp_104 - 0x1C;
		addstr(dwArg00);
	}
	Mem110[esp_10 + 0x04:word32] = (int32) (word16) (word32) Mem72[Mem72[ebp_104 - 0x7C + 0x00:word32] + 0x54:word16];
	Mem112[esp_10 + 0x00:word32] = Mem110[ebp_104 + 0x10:word32];
	move(dwArg00, dwArg04);
	if (Mem112[Mem112[ebp_104 - 0x80 + 0x00:word32] + 0x18:word32] < 0x00)
	{
		word32 ebx_510 = Mem112[Mem112[ebp_104 - 0x80 + 0x00:word32] + 0x14:word32];
		word32 ecx_512 = Mem112[Mem112[ebp_104 - 0x80 + 0x00:word32] + 0x14:word32];
		word32 edx_514 = Mem112[Mem112[ebp_104 - 0x80 + 0x00:word32] + 0x04:word32];
		word32 eax_516 = Mem112[Mem112[ebp_104 - 0x80 + 0x00:word32] + 0x00:word32];
		Mem517[esp_10 + 0x14:word32] = 0x00;
		Mem518[esp_10 + 0x10:word32] = 0x00;
		Mem519[esp_10 + 0x0C:word32] = ebx_510;
		Mem520[esp_10 + 0x08:word32] = ecx_512;
		Mem521[esp_10 + 0x04:word32] = edx_514;
		Mem522[esp_10 + 0x00:word32] = eax_516;
		Mem525[Mem522[ebp_104 - 0x80 + 0x00:word32] + 0x18:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
	}
	if (Mem112[Mem112[ebp_104 - 0x80 + 0x00:word32] + 0x14:word32] != 0x00 && Mem112[Mem112[(ebp_104 - 0x80) + 0x00:word32] + 0x18:word32] - 0x01 >= Mem112[(ebp_104 - 0x34) + 0x00:word32])
	{
		Mem138[esp_10 + 0x04:word32] = Mem112[ebp_104 - 0x34 + 0x00:word32];
		Mem140[esp_10 + 0x00:word32] = Mem138[ebp_104 - 0x80 + 0x00:word32];
		Mem142[ebp_104 - 0x24 + 0x00:word32] = columnPos(dwArg00, dwArg04);
		Mem147[ebp_104 - 0x38 + 0x00:word32] = Mem142[Mem142[ebp_104 - 0x80 + 0x00:word32] + 0x00:word32] + Mem142[(ebp_104 - 0x24) + 0x00:word32];
		Mem153[ebp_104 - 0x3C + 0x00:word32] = Mem147[Mem147[ebp_104 - 0x80 + 0x00:word32] + 0x04:word32] + Mem147[(ebp_104 - 0x24) + 0x00:word32] * 0x02;
		if (Mem153[0x080D52D8:word32] != 0x00 && Mem153[Mem153[(ebp_104 - 0x80) + 0x00:word32] + 0x08:word32] != 0x00)
			Mem508[ebp_104 - 0x40 + 0x00:word32] = Mem153[Mem153[ebp_104 - 0x80 + 0x00:word32] + 0x08:word32] + Mem153[(ebp_104 - 0x24) + 0x00:word32];
		else
			Mem498[ebp_104 - 0x40 + 0x00:word32] = 0x00;
		word32 ecx_162 = Mem153[Mem153[ebp_104 - 0x80 + 0x00:word32] + 0x14:word32];
		word32 edx_164 = Mem153[Mem153[ebp_104 - 0x80 + 0x00:word32] + 0x04:word32];
		word32 eax_166 = Mem153[Mem153[ebp_104 - 0x80 + 0x00:word32] + 0x00:word32];
		Mem167[esp_10 + 0x14:word32] = 0x00;
		Mem168[esp_10 + 0x10:word32] = 0x00;
		Mem170[esp_10 + 0x0C:word32] = Mem168[ebp_104 - 0x24 + 0x00:word32];
		Mem171[esp_10 + 0x08:word32] = ecx_162;
		Mem172[esp_10 + 0x04:word32] = edx_164;
		Mem173[esp_10 + 0x00:word32] = eax_166;
		Mem178[ebp_104 - 0x28 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		Mem179[ebp_104 - 0x20 + 0x00:word32] = 0x00;
		while (Mem179[ebp_104 - 0x28 + 0x00:word32] - Mem179[(ebp_104 - 0x34) + 0x00:word32] < (int32) ((word16) ((word32) Mem179[Mem179[(ebp_104 - 0x7C) + 0x00:word32] + 88:word16])) && Mem179[(ebp_104 - 0x24) + 0x00:word32] + Mem179[(ebp_104 - 0x20) + 0x00:word32] < Mem179[Mem179[(ebp_104 - 0x80) + 0x00:word32] + 0x14:word32])
		{
			if (Mem179[0x0817C2B0:word32] != 0x00 && (Mem179[(ebp_104 - 0x24) + 0x00:word32] + Mem179[(ebp_104 - 0x20) + 0x00:word32] >= Mem179[(ebp_104 - 0x4C) + 0x00:word32] && ((word32) ((word16) ((word32) Mem179[(ebp_104 - 0x3C) + 0x00:word32][Mem179[(ebp_104 - 0x20) + 0x00:word32] * 0x02])) & 0x4000) == 0x00))
			{
				word32 edx_419 = Mem179[Mem179[ebp_104 - 0x80 + 0x00:word32] + 0x1C:word32];
				word32 eax_421 = Mem179[Mem179[ebp_104 - 0x7C + 0x00:word32] + 0x60:word32];
				Mem422[esp_10 + 0x08:word32] = Mem179[ebp_104 - 0x24 + 0x00:word32] + Mem179[(ebp_104 - 0x20) + 0x00:word32];
				Mem423[esp_10 + 0x04:word32] = edx_419;
				Mem424[esp_10 + 0x00:word32] = eax_421;
				Mem426[ebp_104 - 0x44 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
				if (Mem426[ebp_104 - 0x44 + 0x00:word32] != 0x00)
				{
					Mem430[esp_10 + 0x00:word32] = Mem426[ebp_104 - 0x7C + 0x00:word32];
					word32 eax_431 = baseURL(dwArg00);
					word32 edx_433 = Mem430[Mem430[ebp_104 - 0x44 + 0x00:word32] + 0x00:word32];
					Mem434[esp_10 + 0x08:word32] = eax_431;
					Mem436[esp_10 + 0x04:word32] = ebp_104 - 116;
					Mem437[esp_10 + 0x00:word32] = edx_433;
					parseURL2(ebp_104, dwArg00, dwArg04, dwArg08);
					Mem439[esp_10 + 0x00:word32] = ebp_104 - 116;
					byte bpl_440;
					word32 edx_442 = Mem439[parsedURL2Str(dwArg00, out bpl_440) + 0x00:word32];
					word32 eax_443 = Mem439[0x08180668:word32];
					Mem444[esp_10 + 0x04:word32] = edx_442;
					Mem445[esp_10 + 0x00:word32] = eax_443;
					if (getHashHist(dwArg00, dwArg04) != 0x00)
					{
						Mem462[ebp_104 - 0x48 + 0x00:word32] = Mem445[Mem445[ebp_104 - 0x44 + 0x00:word32] + 0x18:word32];
						while (Mem462[Mem462[ebp_104 - 0x44 + 0x00:word32] + 0x24:word32] > Mem462[(ebp_104 - 0x48) + 0x00:word32])
						{
							dx = DPB(dx, SLICE((word32) Mem462[ebp_104 - 0x3C + 0x00:word32][(Mem462[ebp_104 - 0x48 + 0x00:word32] - Mem462[(ebp_104 - 0x24) + 0x00:word32]) * 0x02], byte, 8) | 0x40, 8);
							Mem462[ebp_104 - 0x3C + 0x00:word32][(Mem462[ebp_104 - 0x48 + 0x00:word32] - Mem462[(ebp_104 - 0x24) + 0x00:word32]) * 0x02] = dx;
							Mem492[ebp_104 - 0x48 + 0x00:word32] = Mem490[ebp_104 - 0x48 + 0x00:word32] + 0x01;
						}
					}
					Mem459[ebp_104 - 0x4C + 0x00:word32] = Mem445[Mem445[ebp_104 - 0x44 + 0x00:word32] + 0x24:word32];
				}
			}
			Mem301[esp_10 + 0x00:word32] = Mem179[ebp_104 - 0x38 + 0x00:word32] + Mem179[(ebp_104 - 0x20) + 0x00:word32];
			Mem303[ebp_104 - 0x30 + 0x00:word32] = wtf_len(dwArg00);
			word32 ebx_308 = Mem303[ebp_104 - 0x24 + 0x00:word32] + Mem303[(ebp_104 - 0x20) + 0x00:word32] + Mem303[(ebp_104 - 0x30) + 0x00:word32];
			word32 ecx_311 = Mem303[Mem303[ebp_104 - 0x80 + 0x00:word32] + 0x14:word32];
			word32 edx_313 = Mem303[Mem303[ebp_104 - 0x80 + 0x00:word32] + 0x04:word32];
			word32 eax_315 = Mem303[Mem303[ebp_104 - 0x80 + 0x00:word32] + 0x00:word32];
			Mem316[esp_10 + 0x14:word32] = 0x00;
			Mem317[esp_10 + 0x10:word32] = 0x00;
			Mem318[esp_10 + 0x0C:word32] = ebx_308;
			Mem319[esp_10 + 0x08:word32] = ecx_311;
			Mem320[esp_10 + 0x04:word32] = edx_313;
			Mem321[esp_10 + 0x00:word32] = eax_315;
			Mem323[ebp_104 - 44 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
			if (Mem323[ebp_104 - 44 + 0x00:word32] - Mem323[(ebp_104 - 0x34) + 0x00:word32] > (int32) ((word16) ((word32) Mem323[Mem323[(ebp_104 - 0x7C) + 0x00:word32] + 88:word16])))
				break;
			if (Mem323[ebp_104 - 0x40 + 0x00:word32] != 0x00)
			{
				Mem399[esp_10 + 0x00:word32] = (word32) (byte) (word32) Mem323[Mem323[ebp_104 - 0x20 + 0x00:word32] + Mem323[(ebp_104 - 0x40) + 0x00:word32]:byte];
				do_color(dwArg00);
			}
			if (Mem323[ebp_104 - 0x28 + 0x00:word32] < Mem323[(ebp_104 - 0x34) + 0x00:word32])
			{
				Mem350[ebp_104 - 0x28 + 0x00:word32] = Mem323[ebp_104 - 0x34 + 0x00:word32];
				while (Mem350[ebp_104 - 0x28 + 0x00:word32] < Mem350[(ebp_104 - 44) + 0x00:word32])
				{
					Mem354[esp_10 + 0x04:word32] = 0x00;
					Mem355[esp_10 + 0x00:word32] = 0x20;
					addChar(dwArg00, dwArg04);
					Mem357[ebp_104 - 0x28 + 0x00:word32] = Mem355[ebp_104 - 0x28 + 0x00:word32] + 0x01;
				}
			}
			else
			{
				if ((byte) (word32) Mem323[Mem323[ebp_104 - 0x20 + 0x00:word32] + Mem323[(ebp_104 - 0x38) + 0x00:word32]:byte] == 0x09)
				{
					while (Mem323[ebp_104 - 0x28 + 0x00:word32] < Mem323[(ebp_104 - 44) + 0x00:word32])
					{
						Mem375[esp_10 + 0x04:word32] = 0x00;
						Mem376[esp_10 + 0x00:word32] = 0x20;
						addChar(dwArg00, dwArg04);
						Mem378[ebp_104 - 0x28 + 0x00:word32] = Mem376[ebp_104 - 0x28 + 0x00:word32] + 0x01;
					}
				}
				else
				{
					word32 edx_386 = (word32) (word16) (word32) Mem323[ebp_104 - 0x3C + 0x00:word32][Mem323[ebp_104 - 0x20 + 0x00:word32] * 0x02];
					word32 eax_388 = Mem323[ebp_104 - 0x20 + 0x00:word32] + Mem323[(ebp_104 - 0x38) + 0x00:word32];
					Mem390[esp_10 + 0x08:word32] = Mem323[ebp_104 - 0x30 + 0x00:word32];
					Mem391[esp_10 + 0x04:word32] = edx_386;
					Mem392[esp_10 + 0x00:word32] = eax_388;
					addMChar(ebp_104, dwArg00, dwArg04, dwArg08);
				}
				Mem371[ebp_104 - 0x28 + 0x00:word32] = Mem323[ebp_104 - 44 + 0x00:word32];
			}
			Mem347[ebp_104 - 0x20 + 0x00:word32] = Mem323[ebp_104 - 0x20 + 0x00:word32] + Mem323[(ebp_104 - 0x30) + 0x00:word32];
		}
		if (Mem179[135776688:word32] != 0x00)
		{
			Mem280[135776688:word32] = 0x00;
			standend();
		}
		if (Mem179[135776684:word32] != 0x00)
		{
			Mem279[135776684:word32] = 0x00;
			underlineend();
		}
		if (Mem179[135776692:word32] != 0x00)
		{
			Mem278[135776692:word32] = 0x00;
			boldend();
		}
		if (Mem179[135776700:word32] != 0x00)
		{
			Mem277[135776700:word32] = 0x00;
			boldend();
		}
		if (Mem179[135776696:word32] != 0x00)
		{
			Mem276[135776696:word32] = 0x00;
			effect_anchor_end();
		}
		if (Mem179[0x0817C9C0:word32] != 0x00)
		{
			Mem275[0x0817C9C0:word32] = 0x00;
			effect_image_end();
		}
		if (Mem179[135776708:word32] != 0x00)
		{
			Mem274[135776708:word32] = 0x00;
			effect_form_end();
		}
		if (Mem179[135776716:word32] != 0x00)
		{
			Mem273[135776716:word32] = 0x00;
			effect_visited_end();
		}
		if (Mem179[135776712:word32] != 0x00)
		{
			Mem272[135776712:word32] = 0x00;
			effect_active_end();
		}
		if (Mem179[135776720:word32] != 0x00)
		{
			Mem271[135776720:word32] = 0x00;
			effect_mark_end();
		}
		if (Mem179[135776724:word32] != 0x00)
		{
			Mem270[135776724:word32] = 0x00;
			graphend();
		}
		if ((byte) (word32) Mem179[135776728:byte] != 0x00)
		{
			Mem269[esp_10 + 0x00:word32] = 0x00;
			do_color(dwArg00);
		}
		if (Mem179[ebp_104 - 0x28 + 0x00:word32] - Mem179[(ebp_104 - 0x34) + 0x00:word32] < (int32) ((word16) ((word32) Mem179[Mem179[(ebp_104 - 0x7C) + 0x00:word32] + 88:word16])))
			clrtoeolx();
		eax_128 = Mem179[ebp_104 - 0x80 + 0x00:word32];
	}
	else
	{
		clrtoeolx();
		eax_128 = Mem112[ebp_104 - 0x80 + 0x00:word32];
	}
l08075F17:
	if ((Mem0[ebp_104 - 0x0C + 0x00:word32] ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_128;
}

// 08075F31: void redrawLineImage(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void redrawLineImage(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 eax_14 = Mem0[dwArg04 + 0x44:word32];
	if (dwArg08 != 0x00)
	{
		if (Mem0[dwArg08 + 0x18:word32] < 0x00)
			Mem584[dwArg08 + 0x18:word32] = calcPosition(Mem0[dwArg08 + 0x00:word32], Mem0[dwArg08 + 0x04:word32], Mem0[dwArg08 + 0x14:word32], Mem0[dwArg08 + 0x14:word32], 0x00, 0x00);
		if (Mem0[dwArg08 + 0x14:word32] != 0x00 && Mem0[dwArg08 + 0x18:word32] - 0x01 >= eax_14)
		{
			calcPosition(Mem0[dwArg08 + 0x00:word32], Mem0[dwArg08 + 0x04:word32], Mem0[dwArg08 + 0x14:word32], columnPos(dwArg08, eax_14), 0x00, 0x00);
			while (Mem0[fp - 0x18 + 0x00:word32] - Mem0[(fp - 0x1C) + 0x00:word32] < (int32) ((word16) ((word32) Mem0[Mem0[fp + 0x04:word32] + 88:word16])) && Mem0[(fp - 0x14) + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32] < Mem0[Mem0[fp + 0x08:word32] + 0x14:word32])
			{
				if (Mem0[fp - 0x18 + 0x00:word32] - Mem0[(fp - 0x1C) + 0x00:word32] < 0x00)
				{
					word32 eax_181 = Mem0[fp - 0x14 + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32];
					word32 ecx_184 = Mem0[Mem0[fp + 0x08:word32] + 0x14:word32];
					word32 edx_186 = Mem0[Mem0[fp + 0x08:word32] + 0x04:word32];
					word32 eax_188 = Mem0[Mem0[fp + 0x08:word32] + 0x00:word32];
					Mem189[fp - 0x68 + 0x00:word32] = 0x00;
					Mem190[fp - 0x6C + 0x00:word32] = 0x00;
					Mem191[fp - 0x70 + 0x00:word32] = eax_181 + 0x01;
					Mem192[fp - 116 + 0x00:word32] = ecx_184;
					Mem193[fp - 0x78 + 0x00:word32] = edx_186;
					Mem194[fp - 0x7C + 0x00:word32] = eax_188;
					Mem200[fp - 0x18 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
				}
				else
				{
					word32 edx_205 = Mem0[Mem0[fp + 0x08:word32] + 0x1C:word32];
					word32 eax_207 = Mem0[Mem0[fp + 0x04:word32] + 0x68:word32];
					Mem208[fp - 116 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32];
					Mem209[fp - 0x78 + 0x00:word32] = edx_205;
					Mem210[fp - 0x7C + 0x00:word32] = eax_207;
					Mem212[fp - 0x20 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
					if (Mem212[fp - 0x20 + 0x00:word32] != 0x00 && (Mem212[Mem212[(fp - 0x20) + 0x00:word32] + 0x38:word32] != 0x00 && Mem212[Mem212[Mem212[(fp - 0x20) + 0x00:word32] + 0x38:word32] + 0x1C:word32] < Mem212[135776736:word32]))
					{
						Mem259[fp - 0x3C + 0x00:word32] = Mem212[Mem212[fp - 0x20 + 0x00:word32] + 0x38:word32];
						word32 ebx_263 = (int32) (byte) (word32) Mem259[Mem259[fp + 0x04:word32] + 0xF5:byte];
						Mem265[fp - 0x7C + 0x00:word32] = Mem259[fp + 0x04:word32];
						word32 eax_266 = baseURL(dwArg00);
						Mem267[fp - 116 + 0x00:word32] = ebx_263;
						Mem268[fp - 0x78 + 0x00:word32] = eax_266;
						Mem270[fp - 0x7C + 0x00:word32] = Mem268[fp - 0x3C + 0x00:word32];
						word32 ebx_271;
						byte bpl_272;
						Mem275[Mem270[fp - 0x3C + 0x00:word32] + 0x20:word32] = getImage(fp - 0x04, dwArg00, out ebx_271, out bpl_272);
						Mem278[fp - 0x40 + 0x00:word32] = Mem275[Mem275[fp - 0x3C + 0x00:word32] + 0x20:word32];
						if (Mem278[fp - 0x40 + 0x00:word32] != 0x00)
						{
							if ((word16) (word32) Mem278[Mem278[fp - 0x3C + 0x00:word32] + 0x08:word16] < 0x00 && (word16) ((word32) Mem278[Mem278[(fp - 0x40) + 0x00:word32] + 0x1C:word16]) > 0x00 || (word16) ((word32) Mem278[Mem278[(fp - 0x3C) + 0x00:word32] + 0x0A:word16]) < 0x00 && (word16) ((word32) Mem278[Mem278[(fp - 0x40) + 0x00:word32] + 0x1E:word16]) > 0x00)
							{
								Mem544[Mem278[fp - 0x3C + 0x00:word32] + 0x08:word16] = (word16) (word32) Mem278[Mem278[fp - 0x40 + 0x00:word32] + 0x1C:word16];
								Mem549[Mem544[fp - 0x3C + 0x00:word32] + 0x0A:word16] = (word16) (word32) Mem544[Mem544[fp - 0x40 + 0x00:word32] + 0x1E:word16];
								Mem551[Mem549[fp + 0x04:word32] + 0xF7:byte] = 0x01;
							}
							word16 ax_297 = (word16) (word32) Mem278[Mem278[fp + 0x04:word32] + 0x54:word16];
							Mem300[fp - 0x50 + 0x00:word32] = Mem278[fp - 0x18 + 0x00:word32] - Mem278[(fp - 0x1C) + 0x00:word32] + (int32) ax_297;
							real64 rLoc1_303 = (real64) Mem300[fp - 0x50 + 0x00:int32] * Mem300[0x080D53A0:real64];
							Mem304[fp - 0x52 + 0x00:word16] = __fstcw();
							Mem308[fp - 0x54 + 0x00:word16] = DPB(ax_297, 0x0C, 8);
							__fldcw(Mem308[fp - 0x54 + 0x00:word16]);
							Mem309[fp - 0x24 + 0x00:int32] = (int32) rLoc1_303;
							__fldcw(Mem309[fp - 0x52 + 0x00:word16]);
							real64 rLoc1_312 = (real64) Mem309[fp + 0x0C:int32] * Mem309[135091112:real64];
							__fldcw(Mem309[fp - 0x54 + 0x00:word16]);
							Mem313[fp - 0x28 + 0x00:int32] = (int32) rLoc1_312;
							__fldcw(Mem313[fp - 0x52 + 0x00:word16]);
							word32 ebx_315 = Mem313[Mem313[fp - 0x20 + 0x00:word32] + 0x18:word32];
							word32 ecx_317 = Mem313[Mem313[fp + 0x08:word32] + 0x14:word32];
							word32 edx_319 = Mem313[Mem313[fp + 0x08:word32] + 0x04:word32];
							word32 eax_321 = Mem313[Mem313[fp + 0x08:word32] + 0x00:word32];
							Mem322[fp - 0x68 + 0x00:word32] = 0x00;
							Mem323[fp - 0x6C + 0x00:word32] = 0x00;
							Mem324[fp - 0x70 + 0x00:word32] = ebx_315;
							Mem325[fp - 116 + 0x00:word32] = ecx_317;
							Mem326[fp - 0x78 + 0x00:word32] = edx_319;
							Mem327[fp - 0x7C + 0x00:word32] = eax_321;
							Mem333[fp - 0x50 + 0x00:word32] = Mem327[fp - 0x18 + 0x00:word32] - calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
							real64 rLoc1_336 = (real64) Mem333[fp - 0x50 + 0x00:int32] * Mem333[0x080D53A0:real64];
							Mem337[fp - 0x52 + 0x00:word16] = __fstcw();
							Mem341[fp - 0x54 + 0x00:word16] = DPB(ax_297, 0x0C, 8);
							__fldcw(Mem341[fp - 0x54 + 0x00:word16]);
							Mem342[fp - 44 + 0x00:int32] = (int32) rLoc1_336;
							__fldcw(Mem342[fp - 0x52 + 0x00:word16]);
							Mem352[fp - 0x50 + 0x00:word32] = Mem342[Mem342[fp + 0x08:word32] + 0x1C:word32] - (int32) ((word16) ((word32) Mem342[Mem342[(fp - 0x3C) + 0x00:word32] + 0x10:word16]));
							real64 rLoc1_355 = (real64) Mem352[fp - 0x50 + 0x00:int32] * Mem352[135091112:real64];
							__fldcw(Mem352[fp - 0x54 + 0x00:word16]);
							Mem356[fp - 0x30 + 0x00:int32] = (int32) rLoc1_355;
							__fldcw(Mem356[fp - 0x52 + 0x00:word16]);
							if (Mem356[fp - 44 + 0x00:word32] == 0x00 && (int32) ((word16) ((word32) Mem356[Mem356[(fp - 0x3C) + 0x00:word32] + 0x0C:word16])) + Mem356[(fp - 0x24) + 0x00:word32] >= 0x00)
								Mem534[fp - 0x24 + 0x00:word32] = Mem356[fp - 0x24 + 0x00:word32] + (int32) ((word16) ((word32) Mem356[Mem356[(fp - 0x3C) + 0x00:word32] + 0x0C:word16]));
							else
								Mem519[fp - 44 + 0x00:word32] = Mem356[fp - 44 + 0x00:word32] - (int32) ((word16) ((word32) Mem356[Mem356[(fp - 0x3C) + 0x00:word32] + 0x0C:word16]));
							if (Mem356[fp - 0x30 + 0x00:word32] == 0x00 && (int32) ((word16) ((word32) Mem356[Mem356[(fp - 0x3C) + 0x00:word32] + 0x0E:word16])) + Mem356[(fp - 0x28) + 0x00:word32] >= 0x00)
								Mem509[fp - 0x28 + 0x00:word32] = Mem356[fp - 0x28 + 0x00:word32] + (int32) ((word16) ((word32) Mem356[Mem356[(fp - 0x3C) + 0x00:word32] + 0x0E:word16]));
							else
								Mem494[fp - 0x30 + 0x00:word32] = Mem356[fp - 0x30 + 0x00:word32] - (int32) ((word16) ((word32) Mem356[Mem356[(fp - 0x3C) + 0x00:word32] + 0x0E:word16]));
							if ((word16) (word32) Mem356[Mem356[fp - 0x3C + 0x00:word32] + 0x08:word16] > 0x00)
								Mem479[fp - 0x34 + 0x00:word32] = (int32) (word16) (word32) Mem356[Mem356[fp - 0x3C + 0x00:word32] + 0x08:word16] - Mem356[(fp - 44) + 0x00:word32];
							else
							{
								real64 rLoc1_484 = Mem356[0x080D53A0:real64] * Mem356[0x080CAD78:real64] - (real64) Mem356[(fp - 44) + 0x00:int32];
								__fldcw(Mem356[fp - 0x54 + 0x00:word16]);
								Mem485[fp - 0x34 + 0x00:int32] = (int32) rLoc1_484;
								__fldcw(Mem485[fp - 0x52 + 0x00:word16]);
							}
							if ((word16) (word32) Mem356[Mem356[fp - 0x3C + 0x00:word32] + 0x0A:word16] > 0x00)
								Mem468[fp - 0x38 + 0x00:word32] = (int32) (word16) (word32) Mem356[Mem356[fp - 0x3C + 0x00:word32] + 0x0A:word16] - Mem356[(fp - 0x30) + 0x00:word32];
							else
							{
								real64 rLoc1_471 = Mem356[135091112:real64] - (real64) Mem356[(fp - 0x30) + 0x00:int32];
								__fldcw(Mem356[fp - 0x54 + 0x00:word16]);
								Mem472[fp - 0x38 + 0x00:int32] = (int32) rLoc1_471;
								__fldcw(Mem472[fp - 0x52 + 0x00:word16]);
							}
							Mem390[fp - 0x50 + 0x00:word32] = (int32) (word16) (word32) Mem356[Mem356[fp + 0x04:word32] + 0x54:word16] + (int32) ((word16) ((word32) Mem356[Mem356[fp + 0x04:word32] + 88:word16]));
							real64 rLoc1_395 = (real64) Mem390[fp - 0x50 + 0x00:int32] * Mem390[0x080D53A0:real64] - (real64) Mem390[(fp - 0x24) + 0x00:int32];
							__fldcw(Mem390[fp - 0x54 + 0x00:word16]);
							Mem396[fp - 0x50 + 0x00:int32] = (int32) rLoc1_395;
							__fldcw(Mem396[fp - 0x52 + 0x00:word16]);
							if (Mem396[fp - 0x50 + 0x00:word32] < Mem396[(fp - 0x34) + 0x00:word32])
							{
								Mem455[fp - 0x50 + 0x00:word32] = (int32) (word16) (word32) Mem396[Mem396[fp + 0x04:word32] + 0x54:word16] + (int32) ((word16) ((word32) Mem396[Mem396[fp + 0x04:word32] + 88:word16]));
								real64 rLoc1_460 = (real64) Mem455[fp - 0x50 + 0x00:int32] * Mem455[0x080D53A0:real64] - (real64) Mem455[(fp - 0x24) + 0x00:int32];
								__fldcw(Mem455[fp - 0x54 + 0x00:word16]);
								Mem461[fp - 0x34 + 0x00:int32] = (int32) rLoc1_460;
								__fldcw(Mem461[fp - 0x52 + 0x00:word16]);
							}
							Mem404[fp - 0x50 + 0x00:word32] = Mem396[0x08180780:word32] - 0x01;
							real64 rLoc1_409 = (real64) Mem404[fp - 0x50 + 0x00:int32] * Mem404[135091112:real64] - (real64) Mem404[(fp - 0x28) + 0x00:int32];
							__fldcw(Mem404[fp - 0x54 + 0x00:word16]);
							Mem410[fp - 0x50 + 0x00:int32] = (int32) rLoc1_409;
							__fldcw(Mem410[fp - 0x52 + 0x00:word16]);
							if (Mem410[fp - 0x50 + 0x00:word32] < Mem410[(fp - 0x38) + 0x00:word32])
							{
								Mem439[fp - 0x50 + 0x00:word32] = Mem410[0x08180780:word32] - 0x01;
								real64 rLoc1_444 = (real64) Mem439[fp - 0x50 + 0x00:int32] * Mem439[135091112:real64] - (real64) Mem439[(fp - 0x28) + 0x00:int32];
								__fldcw(Mem439[fp - 0x54 + 0x00:word16]);
								Mem445[fp - 0x38 + 0x00:int32] = (int32) rLoc1_444;
								__fldcw(Mem445[fp - 0x52 + 0x00:word16]);
							}
							Mem418[fp - 100 + 0x00:word32] = Mem410[fp - 0x38 + 0x00:word32];
							Mem420[fp - 0x68 + 0x00:word32] = Mem418[fp - 0x34 + 0x00:word32];
							Mem422[fp - 0x6C + 0x00:word32] = Mem420[fp - 0x30 + 0x00:word32];
							Mem424[fp - 0x70 + 0x00:word32] = Mem422[fp - 44 + 0x00:word32];
							Mem426[fp - 116 + 0x00:word32] = Mem424[fp - 0x28 + 0x00:word32];
							Mem428[fp - 0x78 + 0x00:word32] = Mem426[fp - 0x24 + 0x00:word32];
							Mem430[fp - 0x7C + 0x00:word32] = Mem428[fp - 0x40 + 0x00:word32];
							addImage(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
							Mem434[Mem430[fp - 0x3C + 0x00:word32] + 0x1C:word32] = Mem430[135776736:word32];
							Mem435[135776740:word32] = 0x01;
						}
					}
					word32 eax_230 = Mem212[fp - 0x14 + 0x00:word32] + Mem212[(fp - 0x10) + 0x00:word32];
					word32 ecx_233 = Mem212[Mem212[fp + 0x08:word32] + 0x14:word32];
					word32 edx_235 = Mem212[Mem212[fp + 0x08:word32] + 0x04:word32];
					word32 eax_237 = Mem212[Mem212[fp + 0x08:word32] + 0x00:word32];
					Mem238[fp - 0x68 + 0x00:word32] = 0x00;
					Mem239[fp - 0x6C + 0x00:word32] = 0x00;
					Mem240[fp - 0x70 + 0x00:word32] = eax_230 + 0x01;
					Mem241[fp - 116 + 0x00:word32] = ecx_233;
					Mem242[fp - 0x78 + 0x00:word32] = edx_235;
					Mem243[fp - 0x7C + 0x00:word32] = eax_237;
					Mem245[fp - 0x18 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
				}
				Mem177[fp - 0x10 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32] + 0x01;
			}
		}
	}
}

// 0807648A: void redrawLineRegion(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg10, Stack word32 dwArg14)
void redrawLineRegion(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg10, word32 dwArg14)
{
	word32 eax_15 = Mem0[dwArg04 + 0x44:word32];
	if (dwArg08 != 0x00)
	{
		word32 eax_81 = columnPos(dwArg08, eax_15);
		if (Mem0[0x080D52D8:word32] == 0x00 || Mem0[dwArg08 + 0x08:word32] == 0x00)
			;
		calcPosition(Mem0[dwArg08 + 0x00:word32], Mem0[dwArg08 + 0x04:word32], Mem0[dwArg08 + 0x14:word32], eax_81, 0x00, 0x00);
		while (Mem0[fp - 0x18 + 0x00:word32] - Mem0[(fp - 0x24) + 0x00:word32] < (int32) ((word16) ((word32) Mem0[Mem0[fp + 0x04:word32] + 88:word16])) && Mem0[(fp - 0x14) + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32] < Mem0[Mem0[fp + 0x08:word32] + 0x14:word32])
		{
			if (Mem0[0x0817C2B0:word32] != 0x00 && (Mem0[(fp - 0x14) + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32] >= Mem0[(fp - 0x44) + 0x00:word32] && ((word32) ((word16) ((word32) Mem0[(fp - 44) + 0x00:word32][Mem0[(fp - 0x10) + 0x00:word32] * 0x02])) & 0x4000) == 0x00))
			{
				word32 edx_394 = Mem0[Mem0[fp + 0x08:word32] + 0x1C:word32];
				word32 eax_396 = Mem0[Mem0[fp + 0x04:word32] + 0x60:word32];
				Mem397[fp - 0x84 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32];
				Mem398[fp - 0x88 + 0x00:word32] = edx_394;
				Mem399[fp - 0x8C + 0x00:word32] = eax_396;
				Mem401[fp - 0x3C + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
				if (Mem401[fp - 0x3C + 0x00:word32] != 0x00)
				{
					Mem405[fp - 0x8C + 0x00:word32] = Mem401[fp + 0x04:word32];
					word32 eax_406 = baseURL(dwArg00);
					word32 edx_408 = Mem405[Mem405[fp - 0x3C + 0x00:word32] + 0x00:word32];
					Mem409[fp - 0x84 + 0x00:word32] = eax_406;
					Mem411[fp - 0x88 + 0x00:word32] = fp - 0x6C;
					Mem412[fp - 0x8C + 0x00:word32] = edx_408;
					parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
					Mem414[fp - 0x8C + 0x00:word32] = fp - 0x6C;
					byte bpl_415;
					word32 edx_417 = Mem414[parsedURL2Str(dwArg00, out bpl_415) + 0x00:word32];
					word32 eax_418 = Mem414[0x08180668:word32];
					Mem419[fp - 0x88 + 0x00:word32] = edx_417;
					Mem420[fp - 0x8C + 0x00:word32] = eax_418;
					if (getHashHist(dwArg00, dwArg04) != 0x00)
					{
						Mem437[fp - 0x40 + 0x00:word32] = Mem420[Mem420[fp - 0x3C + 0x00:word32] + 0x18:word32];
						while (Mem437[Mem437[fp - 0x3C + 0x00:word32] + 0x24:word32] > Mem437[(fp - 0x40) + 0x00:word32])
						{
							dx = DPB(dx, SLICE((word32) Mem437[fp - 44 + 0x00:word32][(Mem437[fp - 0x40 + 0x00:word32] - Mem437[(fp - 0x14) + 0x00:word32]) * 0x02], byte, 8) | 0x40, 8);
							Mem437[fp - 44 + 0x00:word32][(Mem437[fp - 0x40 + 0x00:word32] - Mem437[(fp - 0x14) + 0x00:word32]) * 0x02] = dx;
							Mem467[fp - 0x40 + 0x00:word32] = Mem465[fp - 0x40 + 0x00:word32] + 0x01;
						}
					}
					Mem434[fp - 0x44 + 0x00:word32] = Mem420[Mem420[fp - 0x3C + 0x00:word32] + 0x24:word32];
				}
			}
			Mem248[fp - 0x8C + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32] + Mem0[(fp - 0x10) + 0x00:word32];
			Mem250[fp - 0x20 + 0x00:word32] = wtf_len(dwArg00);
			word32 ebx_255 = Mem250[fp - 0x14 + 0x00:word32] + Mem250[(fp - 0x10) + 0x00:word32] + Mem250[(fp - 0x20) + 0x00:word32];
			word32 ecx_258 = Mem250[Mem250[fp + 0x08:word32] + 0x14:word32];
			word32 edx_260 = Mem250[Mem250[fp + 0x08:word32] + 0x04:word32];
			word32 eax_262 = Mem250[Mem250[fp + 0x08:word32] + 0x00:word32];
			Mem263[fp - 0x78 + 0x00:word32] = 0x00;
			Mem264[fp - 0x7C + 0x00:word32] = 0x00;
			Mem265[fp - 0x80 + 0x00:word32] = ebx_255;
			Mem266[fp - 0x84 + 0x00:word32] = ecx_258;
			Mem267[fp - 0x88 + 0x00:word32] = edx_260;
			Mem268[fp - 0x8C + 0x00:word32] = eax_262;
			Mem271[fp - 0x1C + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
			if (Mem271[fp - 0x1C + 0x00:word32] - Mem271[(fp - 0x24) + 0x00:word32] > (int32) ((word16) ((word32) Mem271[Mem271[fp + 0x04:word32] + 88:word16])))
				break;
			if (Mem271[fp - 0x30 + 0x00:word32] != 0x00)
			{
				Mem374[fp - 0x8C + 0x00:word32] = (word32) (byte) (word32) Mem271[Mem271[fp - 0x10 + 0x00:word32] + Mem271[(fp - 0x30) + 0x00:word32]:byte];
				do_color(dwArg00);
			}
			if (Mem271[fp - 0x10 + 0x00:word32] >= Mem271[(fp - 0x34) + 0x00:word32] && Mem271[(fp - 0x10) + 0x00:word32] < Mem271[(fp - 0x38) + 0x00:word32])
			{
				if (Mem271[fp - 0x18 + 0x00:word32] < Mem271[(fp - 0x24) + 0x00:word32])
				{
					Mem316[fp - 0x88 + 0x00:word32] = (int32) (word16) (word32) Mem271[Mem271[fp + 0x04:word32] + 0x54:word16];
					Mem318[fp - 0x8C + 0x00:word32] = Mem316[fp + 0x0C:word32];
					move(dwArg00, dwArg04);
					Mem320[fp - 0x18 + 0x00:word32] = Mem318[fp - 0x24 + 0x00:word32];
					while (Mem320[fp - 0x18 + 0x00:word32] < Mem320[(fp - 0x1C) + 0x00:word32])
					{
						Mem324[fp - 0x88 + 0x00:word32] = 0x00;
						Mem325[fp - 0x8C + 0x00:word32] = 0x20;
						addChar(dwArg00, dwArg04);
						Mem327[fp - 0x18 + 0x00:word32] = Mem325[fp - 0x18 + 0x00:word32] + 0x01;
					}
					goto l080767ED;
				}
				Mem338[fp - 0x88 + 0x00:word32] = Mem271[fp - 0x18 + 0x00:word32] - Mem271[(fp - 0x24) + 0x00:word32] + (int32) ((word16) ((word32) Mem271[Mem271[fp + 0x04:word32] + 0x54:word16]));
				Mem340[fp - 0x8C + 0x00:word32] = Mem338[fp + 0x0C:word32];
				move(dwArg00, dwArg04);
				if ((byte) (word32) Mem340[Mem340[fp - 0x10 + 0x00:word32] + Mem340[(fp - 0x28) + 0x00:word32]:byte] == 0x09)
				{
					while (Mem340[fp - 0x18 + 0x00:word32] < Mem340[(fp - 0x1C) + 0x00:word32])
					{
						Mem350[fp - 0x88 + 0x00:word32] = 0x00;
						Mem351[fp - 0x8C + 0x00:word32] = 0x20;
						addChar(dwArg00, dwArg04);
						Mem353[fp - 0x18 + 0x00:word32] = Mem351[fp - 0x18 + 0x00:word32] + 0x01;
					}
				}
				else
				{
					word32 edx_361 = (word32) (word16) (word32) Mem340[fp - 44 + 0x00:word32][Mem340[fp - 0x10 + 0x00:word32] * 0x02];
					word32 eax_363 = Mem340[fp - 0x10 + 0x00:word32] + Mem340[(fp - 0x28) + 0x00:word32];
					Mem365[fp - 0x84 + 0x00:word32] = Mem340[fp - 0x20 + 0x00:word32];
					Mem366[fp - 0x88 + 0x00:word32] = edx_361;
					Mem367[fp - 0x8C + 0x00:word32] = eax_363;
					addMChar(fp - 0x04, dwArg00, dwArg04, dwArg08);
				}
			}
			Mem305[fp - 0x18 + 0x00:word32] = Mem271[fp - 0x1C + 0x00:word32];
l080767ED:
			Mem295[fp - 0x10 + 0x00:word32] = Mem271[fp - 0x10 + 0x00:word32] + Mem271[(fp - 0x20) + 0x00:word32];
		}
		if (Mem0[135776688:word32] != 0x00)
		{
			Mem227[135776688:word32] = 0x00;
			standend();
		}
		if (Mem0[135776684:word32] != 0x00)
		{
			Mem226[135776684:word32] = 0x00;
			underlineend();
		}
		if (Mem0[135776692:word32] != 0x00)
		{
			Mem225[135776692:word32] = 0x00;
			boldend();
		}
		if (Mem0[135776700:word32] != 0x00)
		{
			Mem224[135776700:word32] = 0x00;
			boldend();
		}
		if (Mem0[135776696:word32] != 0x00)
		{
			Mem223[135776696:word32] = 0x00;
			effect_anchor_end();
		}
		if (Mem0[0x0817C9C0:word32] != 0x00)
		{
			Mem222[0x0817C9C0:word32] = 0x00;
			effect_image_end();
		}
		if (Mem0[135776708:word32] != 0x00)
		{
			Mem221[135776708:word32] = 0x00;
			effect_form_end();
		}
		if (Mem0[135776716:word32] != 0x00)
		{
			Mem220[135776716:word32] = 0x00;
			effect_visited_end();
		}
		if (Mem0[135776712:word32] != 0x00)
		{
			Mem219[135776712:word32] = 0x00;
			effect_active_end();
		}
		if (Mem0[135776720:word32] != 0x00)
		{
			Mem218[135776720:word32] = 0x00;
			effect_mark_end();
		}
		if (Mem0[135776724:word32] != 0x00)
		{
			Mem217[135776724:word32] = 0x00;
			graphend();
		}
		if ((byte) (word32) Mem0[135776728:byte] != 0x00)
		{
			Mem215[fp - 0x8C + 0x00:word32] = 0x00;
			do_color(dwArg00);
		}
	}
}

// 08076954: void do_effects(Stack word32 dwArg04)
void do_effects(word32 dwArg04)
{
	word16 ax_9 = (word16) dwArg04;
	if (Mem0[135776684:word32] != 0x00)
	{
		underlineend();
		Mem174[135776684:word32] = 0x00;
	}
	if (Mem0[135776688:word32] != 0x00)
	{
		standend();
		Mem173[135776688:word32] = 0x00;
	}
	if (Mem0[135776692:word32] != 0x00)
	{
		boldend();
		Mem172[135776692:word32] = 0x00;
	}
	if (Mem0[135776700:word32] != 0x00)
	{
		boldend();
		Mem171[135776700:word32] = 0x00;
	}
	if (Mem0[135776696:word32] != 0x00)
	{
		effect_anchor_end();
		Mem170[135776696:word32] = 0x00;
	}
	if (Mem0[0x0817C9C0:word32] != 0x00)
	{
		effect_image_end();
		Mem169[0x0817C9C0:word32] = 0x00;
	}
	if (Mem0[135776708:word32] != 0x00)
	{
		effect_form_end();
		Mem168[135776708:word32] = 0x00;
	}
	if (Mem0[135776716:word32] != 0x00)
	{
		effect_visited_end();
		Mem167[135776716:word32] = 0x00;
	}
	if (Mem0[135776712:word32] != 0x00)
	{
		effect_active_end();
		Mem166[135776712:word32] = 0x00;
	}
	if (Mem0[135776720:word32] != 0x00)
	{
		effect_mark_end();
		Mem165[135776720:word32] = 0x00;
	}
	if (Mem0[135776724:word32] != 0x00)
	{
		graphend();
		Mem164[135776724:word32] = 0x00;
	}
	if (((word32) ax_9 & 0x02) != 0x00 && Mem0[135776684:word32] == 0x00)
	{
		underline();
		Mem163[135776684:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x04) != 0x00 && Mem0[135776688:word32] == 0x00)
	{
		standout();
		Mem158[135776688:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x08) != 0x00 && Mem0[135776692:word32] == 0x00)
	{
		bold();
		Mem153[135776692:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x08) != 0x00 && Mem0[135776700:word32] == 0x00)
	{
		bold();
		Mem148[135776700:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x10) != 0x00 && Mem0[135776696:word32] == 0x00)
	{
		effect_anchor_start();
		Mem143[135776696:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x20) != 0x00 && Mem0[0x0817C9C0:word32] == 0x00)
	{
		effect_image_start();
		Mem138[0x0817C9C0:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x40) != 0x00 && Mem0[135776708:word32] == 0x00)
	{
		effect_form_start();
		Mem133[135776708:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x4000) != 0x00 && Mem0[135776716:word32] == 0x00)
	{
		effect_visited_start();
		Mem128[135776716:word32] = 0x01;
	}
	if (((word32) ax_9 & 0x80) != 0x00 && Mem0[135776712:word32] == 0x00)
	{
		effect_active_start();
		Mem123[135776712:word32] = 0x01;
	}
	if ((byte) ((word32) ax_9 & 0x01) != 0x00 && Mem0[135776720:word32] == 0x00)
	{
		effect_mark_start();
		Mem118[135776720:word32] = 0x01;
	}
}

// 08076BCD: void do_color(Stack word32 dwArg04)
void do_color(word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	if (((word32) al_9 & 0x08) != 0x00)
		setfcolor((word32) al_9 & 0x07);
	else if (((word32) (byte) (word32) Mem0[135776728:byte] & 0x08) != 0x00)
		setfcolor(Mem0[0x080D52DC:word32]);
	if ((byte) (word32) al_9 < 0x00)
		setbcolor((word32) ((byte) (word32) al_9 >>u 0x04) & 0x07);
	else if ((byte) (word32) Mem0[135776728:byte] < 0x00)
		setbcolor(Mem0[0x080D52EC:word32]);
	Mem29[135776728:byte] = (byte) (word32) al_9;
}

// 08076C55: void addChar(Stack word32 dwArg04, Stack word32 dwArg08)
void addChar(word32 dwArg04, word32 dwArg08)
{
	addMChar(fp - 0x04, fp - 0x10, (word32) (word16) dwArg08, 0x01);
}

// 08076C85: void addMChar(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void addMChar(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word16 ax_9 = (word16) dwArg08;
	word16 ax_14 = DPB(ax_9, SLICE((word32) ax_9, byte, 8) & 0xC0, 8);
	byte al_20 = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if (((word32) ax_9 & 0x0400) == 0x00)
	{
		do_effects((word32) ax_14);
		if ((word16) (word32) ax_9 < 0x00)
		{
			Mem64[fp - 0x0D + 0x00:byte] = (byte) ((wtf_get_code() & 0x7F) - 0x20);
			if (graph_ok() != 0x00 && Mem64[(fp - 0x0D) + 0x00:byte] <= 0x1F)
			{
				if (Mem64[135776724:word32] == 0x00)
				{
					graphstart();
					Mem111[135776724:word32] = 0x01;
				}
				if (Mem64[fp - 0x18 + 0x00:word32] == 0x02 && (byte) ((word32) Mem64[0x080DC0AF:byte]) != 0x00)
				{
					Mem110[fp - 0x4C + 0x00:word32] = 0x080D7720[(int32) Mem64[fp - 0x0D + 0x00:byte] * 0x04];
					addstr(dwArg00);
				}
				else
				{
					Mem101[fp - 0x4C + 0x00:word32] = (int32) (byte) (word32) Mem64[0x080D76A0[(int32) Mem64[fp - 0x0D + 0x00:byte] * 0x04] + 0x00:byte];
					addch(dwArg00);
				}
			}
			else
			{
				word32 eax_70 = Mem64[0x080D5370:word32];
				Mem72[fp - 0x48 + 0x00:word32] = fp - 0x18;
				Mem73[fp - 0x4C + 0x00:word32] = eax_70;
				Mem76[fp - 0x14 + 0x00:word32] = get_symbol(dwArg00, dwArg04);
				Mem82[fp - 0x4C + 0x00:word32] = Mem76[fp - 0x14 + 0x00:word32][(int32) Mem76[fp - 0x0D + 0x00:byte] * 0x04];
				addstr(dwArg00);
			}
		}
		else
		{
			if (((word32) ax_9 & 0x0100) != 0x00)
			{
				word32 eax_119 = (int32) al_20;
				if (eax_119 == 0x0A)
				{
					addch(0x20);
					return;
				}
				if (eax_119 <= 0x0A)
				{
					if (eax_119 == 0x09)
					{
						addch((int32) al_20);
						return;
					}
				}
				else
				{
					if (eax_119 == 0x0D)
						return;
					if (eax_119 == 0x7F)
					{
						addstr(0x080CAC73);
						return;
					}
				}
				addch(0x5E);
				addch((int32) (byte) ((word32) al_20 + 0x40));
				return;
			}
			if (((word32) ax_9 & 0x1000) != 0x00)
			{
				Mem160[fp - 0x44 + 0x00:word32] = (word32) (byte) (wtf_get_code() | ~0x7F);
				Mem161[fp - 0x48 + 0x00:word32] = 0x080CAC76;
				Mem163[fp - 0x4C + 0x00:word32] = fp - 0x1D;
				sprintf(Mem163[fp - 0x4C + 0x00:(ptr char)], Mem163[fp - 0x48 + 0x00:(ptr char)], Mem163[fp - 0x50 + 0x00:<unknown>]);
				Mem166[fp - 0x4C + 0x00:word32] = fp - 0x1D;
				addstr(dwArg00);
			}
			else
				addmch(dwArg04, dwArg0C);
		}
	}
}

// 08076E82: void record_err_message(Stack word32 dwArg04)
void record_err_message(word32 dwArg04)
{
	if ((byte) (word32) Mem0[135774799:byte] != 0x00)
	{
		word32 eax_33 = Mem0[135776744:word32];
		if (eax_33 == 0x00)
		{
			newGeneralList(eax_33);
			Mem58[135776744:word32] = eax_33;
		}
		if ((int32) (word16) (word32) Mem0[Mem0[135776744:word32] + 0x08:word16] >= Mem0[0x08180780:word32])
			popValue(Mem0[135776744:word32]);
		pushValue(Mem0[135776744:word32], allocStr(dwArg04, ~0x00));
	}
}

// 08076EEF: Register word32 message_list_panel(Register selector gs)
word32 message_list_panel(selector gs)
{
	word32 eax_10 = Mem0[0x081807A0:word32] *s Mem0[0x08180780:word32];
	Strnew_size(eax_10, eax_10);
	Strcat_charp(eax_10, 0x080CAC80);
	if (Mem0[135776744:word32] != 0x00)
	{
		word32 dwLoc14_40 = Mem0[Mem0[135776744:word32] + 0x04:word32];
		while (dwLoc14_40 != 0x00)
		{
			html_quote(Mem0[dwLoc14_40 + 0x00:word32]);
			Strcat_m_charp(eax_10);
			dwLoc14_40 = Mem0[dwLoc14_40 + 0x08:word32];
		}
	}
	else
		Strcat_charp(eax_10, 0x080CAD14);
	Strcat_charp(eax_10, 0x080CAD3D);
	return loadHTMLString(fp - 0x04, gs, eax_10);
}

// 08076FAF: void message(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void message(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if ((byte) (word32) Mem0[135774799:byte] != 0x00)
	{
		move(Mem0[0x08180780:word32] - 0x01, 0x00);
		addnstr(dwArg04, Mem0[0x081807A0:word32] - 0x01);
		clrtoeolx();
		move(dwArg0C, dwArg08);
	}
}

// 0807700B: Register word32 disp_err_message(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 bplOut)
word32 disp_err_message(selector gs, word32 dwArg04, word32 dwArg08, ptr32 & bplOut)
{
	record_err_message(dwArg04);
	word32 eax_17 = disp_message(gs, dwArg04, dwArg08);
	byte bpl_21;
	*bplOut = (byte) Mem0[fp - 0x04 + 0x00:word32];
	return eax_17;
}

// 08077030: Register word32 disp_message_nsec(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 disp_message_nsec(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_111 = (word32) Mem0[0x0817C250:byte];
	if ((byte) eax_111 == 0x00)
	{
		if ((byte) (word32) Mem0[135774799:byte] == 0x00)
		{
			word32 esi_45 = Mem0[0x080D5378:word32];
			word32 ebx_46 = Mem0[135091052:word32];
			Strnew_charp(dwArg04, dwArg04);
			word32 ebx_53;
			word32 ecx_55 = Mem0[wc_Str_conv_strict(dwArg04, ebx_46, esi_45, out ebx_53) + 0x00:word32];
			word32 eax_57 = Mem0[0x0817C1E4:word32];
			Mem58[fp - 0x14 + 0x00:word32] = ecx_55;
			Mem59[fp - 0x18 + 0x00:word32] = 0x080CAD54;
			Mem60[fp - 0x1C + 0x00:word32] = eax_57;
			eax_111 = fprintf(Mem60[fp - 0x1C + 0x00:(ptr FILE)], Mem60[fp - 0x18 + 0x00:(ptr char)], Mem60[fp - 0x14 + 0x00:(ptr char)]);
		}
		else
		{
			if (Mem0[0x08180718:word32] != 0x00 && Mem0[Mem0[0x08180718:word32] + 0x08:word32] != 0x00)
				message(dwArg04, (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16])), (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x56:word16])));
			else
				message(dwArg04, Mem0[0x08180780:word32] - 0x01, 0x00);
			refresh(fp - 0x04);
			if (Mem0[fp + 0x14:word32] != 0x00 && Mem0[0x080D5384:word32] != 0x00)
				mouse_active();
			Mem83[fp - 0x18 + 0x00:word32] = Mem0[fp + 0x10:word32];
			Mem85[fp - 0x1C + 0x00:word32] = Mem83[fp + 0x0C:word32];
			sleep_till_anykey(gs, dwArg00, dwArg04);
			if (Mem85[fp + 0x14:word32] != 0x00 && Mem85[0x080D5384:word32] != 0x00)
				mouse_inactive();
			eax_111 = Mem85[0x08180718:word32];
			if (eax_111 != 0x00)
			{
				eax_111 = Mem85[Mem85[0x08180718:word32] + 0x08:word32];
				if (eax_111 != 0x00 && Mem85[fp + 0x08:word32] != 0x00)
				{
					word32 eax_107 = Mem85[Mem85[0x08180718:word32] + 0x08:word32];
					Mem108[fp - 0x18 + 0x00:word32] = 0x00;
					Mem109[fp - 0x1C + 0x00:word32] = eax_107;
					real64 rArg0_110;
					eax_111 = displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_110);
				}
			}
		}
	}
	return eax_111;
}

// 0807719C: Register word32 disp_message(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 disp_message(selector gs, word32 dwArg04, word32 dwArg08)
{
	return disp_message_nsec(fp - 0x04, gs, dwArg04);
}

// 080771CE: void disp_message_nomouse(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void disp_message_nomouse(selector gs, word32 dwArg04, word32 dwArg08)
{
	disp_message_nsec(fp - 0x04, gs, dwArg04);
}

// 08077200: void set_delayed_message(Stack word32 dwArg04)
void set_delayed_message(word32 dwArg04)
{
	Mem13[135776732:word32] = allocStr(dwArg04, ~0x00);
}

// 08077220: void cursorUp0(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void cursorUp0(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if ((word16) (word32) Mem0[dwArg04 + 0x4A:word16] > 0x00)
		cursorUpDown(fp - 0x04, gs, dwArg04, ~0x00);
	else
	{
		Mem51[Mem0[fp + 0x04:word32] + 0x0C:word32] = lineSkip(gs, dwArg04, Mem0[dwArg04 + 0x0C:word32], -dwArg08, 0x00);
		if (Mem51[Mem51[Mem51[fp + 0x04:word32] + 0x10:word32] + 0x10:word32] != 0x00)
			Mem66[Mem51[fp + 0x04:word32] + 0x10:word32] = Mem51[Mem51[Mem51[fp + 0x04:word32] + 0x10:word32] + 0x10:word32];
		Mem60[fp - 0x1C + 0x00:word32] = Mem51[fp + 0x04:word32];
		arrangeLine(dwArg00);
	}
}

// 0807729E: void cursorUp(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void cursorUp(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		while (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x10:word32] != 0x00 && Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 44:word32] != 0x00)
		{
			Mem96[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem98[fp - 44 + 0x00:word32] = Mem96[fp + 0x04:word32];
			cursorUp0(fp - 0x04, gs, dwArg00, dwArg04);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] == Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
		{
			Mem48[fp - 0x28 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x1C:word32];
			Mem50[fp - 44 + 0x00:word32] = Mem48[fp + 0x04:word32];
			gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
			Mem54[fp - 44 + 0x00:word32] = Mem50[fp + 0x04:word32];
			arrangeLine(dwArg00);
		}
		else
		{
			Mem56[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem58[fp - 44 + 0x00:word32] = Mem56[fp + 0x04:word32];
			cursorUp0(fp - 0x04, gs, dwArg00, dwArg04);
			while (Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 0x10:word32] != 0x00 && (Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 44:word32] != 0x00 && Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 0x30:word32] >= Mem58[Mem58[fp + 0x04:word32] + 0x44:word32] + Mem58[Mem58[fp + 0x04:word32] + 0x50:word32]))
			{
				Mem86[fp - 0x28 + 0x00:word32] = Mem58[fp + 0x08:word32];
				Mem88[fp - 44 + 0x00:word32] = Mem86[fp + 0x04:word32];
				cursorUp0(fp - 0x04, gs, dwArg00, dwArg04);
			}
		}
	}
}

// 0807737B: void cursorDown0(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void cursorDown0(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if ((int32) (word16) (word32) Mem0[dwArg04 + 0x4A:word16] < (int32) ((word16) ((word32) Mem0[dwArg04 + 0x5A:word16])) - 0x01)
		cursorUpDown(fp - 0x04, gs, dwArg04, 0x01);
	else
	{
		Mem52[Mem0[fp + 0x04:word32] + 0x0C:word32] = lineSkip(gs, dwArg04, Mem0[dwArg04 + 0x0C:word32], dwArg08, 0x00);
		if (Mem52[Mem52[Mem52[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] != 0x00)
			Mem67[Mem52[fp + 0x04:word32] + 0x10:word32] = Mem52[Mem52[Mem52[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32];
		Mem61[fp - 0x1C + 0x00:word32] = Mem52[fp + 0x04:word32];
		arrangeLine(dwArg00);
	}
}

// 08077402: void cursorDown(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void cursorDown(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		while (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] != 0x00 && Mem0[Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] + 44:word32] != 0x00)
		{
			Mem102[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem104[fp - 44 + 0x00:word32] = Mem102[fp + 0x04:word32];
			cursorDown0(fp - 0x04, gs, dwArg00, dwArg04);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] == Mem0[Mem0[fp + 0x04:word32] + 0x14:word32])
		{
			Mem48[fp - 0x28 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x1C:word32];
			Mem50[fp - 44 + 0x00:word32] = Mem48[fp + 0x04:word32];
			gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
			Mem54[fp - 44 + 0x00:word32] = Mem50[fp + 0x04:word32];
			arrangeLine(dwArg00);
		}
		else
		{
			Mem56[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem58[fp - 44 + 0x00:word32] = Mem56[fp + 0x04:word32];
			cursorDown0(fp - 0x04, gs, dwArg00, dwArg04);
			while (Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] != 0x00 && (Mem58[Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] + 44:word32] != 0x00 && Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 0x30:word32] + Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x10:word32] + 0x18:word32] < Mem58[Mem58[fp + 0x04:word32] + 0x44:word32] + Mem58[Mem58[fp + 0x04:word32] + 0x50:word32]))
			{
				Mem91[fp - 0x28 + 0x00:word32] = Mem58[fp + 0x08:word32];
				Mem93[fp - 44 + 0x00:word32] = Mem91[fp + 0x04:word32];
				cursorDown0(fp - 0x04, gs, dwArg00, dwArg04);
			}
		}
	}
}

// 080774F1: void cursorUpDown(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void cursorUpDown(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x10:word32];
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		Mem39[Mem0[fp + 0x04:word32] + 0x10:word32] = currentLineSkip(fp - 0x04, gs, dwArg04, eax_10, dwArg08);
		if (Mem39[Mem39[fp + 0x04:word32] + 0x10:word32] != Mem39[(fp - 0x10) + 0x00:word32])
		{
			Mem45[fp - 44 + 0x00:word32] = Mem39[fp + 0x04:word32];
			arrangeLine(dwArg00);
		}
	}
}

// 0807754F: void cursorRight(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void cursorRight(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc14_10 = 0x01;
	word32 eax_14 = Mem0[dwArg04 + 0x10:word32];
	if (Mem0[dwArg04 + 0x08:word32] != 0x00 && (Mem0[dwArg04 + 0x4C:word32] != Mem0[eax_14 + 0x14:word32] || Mem0[eax_14 + 0x0C:word32] != 0x00 && Mem0[Mem0[eax_14 + 0x0C:word32] + 44:word32] != 0x00))
	{
		word32 eax_59 = Mem0[dwArg04 + 0x4C:word32];
		word32 eax_62 = Mem0[eax_14 + 0x04:word32];
		while (eax_59 + dwLoc14_10 < Mem0[eax_14 + 0x14:word32] && ((word32) ((word16) ((word32) eax_62[(eax_59 + dwLoc14_10) * 0x02])) & 0x0400) != 0x00)
			dwLoc14_10 = dwLoc14_10 + 0x01;
		if (eax_59 + dwLoc14_10 < Mem0[eax_14 + 0x14:word32])
			Mem250[dwArg04 + 0x4C:word32] = eax_59 + dwLoc14_10;
		else if (Mem0[eax_14 + 0x14:word32] == 0x00)
			Mem257[dwArg04 + 0x4C:word32] = 0x00;
		else
		{
			if (Mem0[eax_14 + 0x0C:word32] != 0x00 && Mem0[Mem0[eax_14 + 0x0C:word32] + 44:word32] != 0x00)
			{
				cursorDown0(fp - 0x04, gs, dwArg04, 0x01);
				Mem305[Mem0[fp + 0x04:word32] + 0x4C:word32] = 0x00;
				Mem307[fp - 0x4C + 0x00:word32] = Mem305[fp + 0x04:word32];
				arrangeCursor(fp - 0x04, gs, dwArg00);
				return;
			}
			Mem270[dwArg04 + 0x4C:word32] = Mem0[eax_14 + 0x14:word32] - 0x01;
			while (Mem270[dwArg04 + 0x4C:word32] != 0x00 && ((word32) ((word16) ((word32) eax_62[Mem270[dwArg04 + 0x4C:word32] * 0x02])) & 0x0400) != 0x00)
				Mem293[dwArg04 + 0x4C:word32] = Mem270[dwArg04 + 0x4C:word32] - 0x01;
		}
		word32 eax_106 = calcPosition(Mem0[eax_14 + 0x00:word32], Mem0[eax_14 + 0x04:word32], Mem0[eax_14 + 0x14:word32], Mem0[dwArg04 + 0x4C:word32], 0x00, 0x00);
		Mem117[dwArg04 + 0x50:word32] = Mem0[eax_14 + 0x30:word32] + eax_106 - Mem0[dwArg04 + 0x44:word32];
		word32 dwLoc14_118 = 0x01;
		while (Mem117[dwArg04 + 0x4C:word32] + dwLoc14_118 < Mem117[eax_14 + 0x14:word32] && ((word32) ((word16) ((word32) eax_62[(Mem117[dwArg04 + 0x4C:word32] + dwLoc14_118) * 0x02])) & 0x0400) != 0x00)
			dwLoc14_118 = dwLoc14_118 + 0x01;
		word32 eax_154 = calcPosition(Mem117[eax_14 + 0x00:word32], Mem117[eax_14 + 0x04:word32], Mem117[eax_14 + 0x14:word32], Mem117[dwArg04 + 0x4C:word32] + dwLoc14_118, 0x00, 0x00) - Mem117[dwArg04 + 0x44:word32];
		if ((int32) (word16) (word32) Mem117[dwArg04 + 88:word16] <= eax_154 - 0x01 && dwArg08 != 0x00)
		{
			word32 ebx_204 = eax_154 - 0x01 - (int32) ((word16) ((word32) Mem117[dwArg04 + 88:word16]));
			columnSkip(dwArg04, eax_154 - 0x01 - (int32) ((word16) ((word32) Mem117[dwArg04 + 88:word16])) + dwArg08 - (int32) (SEQ(ebx_204 >> 0x1F, ebx_204) % dwArg08));
			Mem229[dwArg04 + 0x50:word32] = Mem117[eax_14 + 0x30:word32] + eax_106 - Mem117[dwArg04 + 0x44:word32];
		}
		Mem184[dwArg04 + 0x48:word16] = (word16) Mem117[dwArg04 + 0x50:word32] - (word16) Mem117[eax_14 + 0x30:word32];
	}
}

// 08077833: void cursorLeft(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void cursorLeft(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc14_10 = 0x01;
	word32 eax_14 = Mem0[dwArg04 + 0x10:word32];
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		word32 eax_50 = Mem0[dwArg04 + 0x4C:word32];
		word32 eax_53 = Mem0[eax_14 + 0x04:word32];
		while (eax_50 - dwLoc14_10 > 0x00 && ((word32) ((word16) ((word32) eax_53[(eax_50 - dwLoc14_10) * 0x02])) & 0x0400) != 0x00)
			dwLoc14_10 = dwLoc14_10 + 0x01;
		if (eax_50 >= dwLoc14_10)
			Mem184[dwArg04 + 0x4C:word32] = eax_50 - dwLoc14_10;
		else
		{
			if (Mem0[eax_14 + 0x10:word32] != 0x00 && Mem0[eax_14 + 44:word32] != 0x00)
			{
				cursorUp0(fp - 0x04, gs, dwArg04, ~0x00);
				Mem209[Mem0[fp + 0x04:word32] + 0x4C:word32] = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32] - 0x01;
				Mem211[fp - 0x4C + 0x00:word32] = Mem209[fp + 0x04:word32];
				arrangeCursor(fp - 0x04, gs, dwArg00);
				return;
			}
			Mem194[dwArg04 + 0x4C:word32] = 0x00;
		}
		word32 eax_94 = calcPosition(Mem0[eax_14 + 0x00:word32], Mem0[eax_14 + 0x04:word32], Mem0[eax_14 + 0x14:word32], Mem0[dwArg04 + 0x4C:word32], 0x00, 0x00);
		Mem104[dwArg04 + 0x50:word32] = Mem0[eax_14 + 0x30:word32] + eax_94 - Mem0[dwArg04 + 0x44:word32];
		if (Mem104[dwArg04 + 0x50:word32] - Mem104[eax_14 + 0x30:word32] < 0x00 && dwArg08 != 0x00)
		{
			word32 ebx_153 = Mem104[dwArg04 + 0x50:word32] - Mem104[eax_14 + 0x30:word32];
			columnSkip(dwArg04, Mem104[dwArg04 + 0x50:word32] - dwArg08 - Mem104[eax_14 + 0x30:word32] - (int32) (SEQ(ebx_153 >> 0x1F, ebx_153) % dwArg08));
			Mem178[dwArg04 + 0x50:word32] = Mem104[eax_14 + 0x30:word32] + eax_94 - Mem104[dwArg04 + 0x44:word32];
		}
		Mem136[dwArg04 + 0x48:word16] = (word16) Mem104[dwArg04 + 0x50:word32] - (word16) Mem104[eax_14 + 0x30:word32];
	}
}

// 08077A04: void cursorHome(Stack word32 dwArg04)
void cursorHome(word32 dwArg04)
{
	Mem8[dwArg04 + 0x50:word32] = 0x00;
	Mem10[dwArg04 + 0x4A:word16] = 0x00;
	Mem15[dwArg04 + 0x48:word16] = (word16) (word32) Mem10[dwArg04 + 0x4A:word16];
}

// 08077A2A: void arrangeCursor(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void arrangeCursor(word32 ebp, selector gs, word32 dwArg04)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x10:word32] != 0x00)
	{
		if (Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32] - Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x1C:word32] >= (int32) ((word16) ((word32) Mem0[dwArg04 + 0x5A:word16])) || Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32] < Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x1C:word32])
			Mem382[Mem0[fp + 0x04:word32] + 0x0C:word32] = lineSkip(gs, dwArg04, Mem0[dwArg04 + 0x10:word32], 0x00, 0x00);
		while (Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] < 0x00 && (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x10:word32] != 0x00 && Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 44:word32] != 0x00))
		{
			Mem364[fp - 0x18 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] + Mem0[Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x10:word32] + 0x14:word32];
			Mem365[fp - 0x38 + 0x00:word32] = 0x01;
			Mem367[fp - 0x3C + 0x00:word32] = Mem365[fp + 0x04:word32];
			cursorUp0(fp - 0x04, gs, dwArg00, dwArg04);
			Mem370[Mem367[fp + 0x04:word32] + 0x4C:word32] = Mem367[fp - 0x18 + 0x00:word32];
		}
		while (Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] >= Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32] && (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] != 0x00 && Mem0[Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x0C:word32] + 44:word32] != 0x00))
		{
			Mem336[fp - 0x18 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] - Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32];
			Mem337[fp - 0x38 + 0x00:word32] = 0x01;
			Mem339[fp - 0x3C + 0x00:word32] = Mem337[fp + 0x04:word32];
			cursorDown0(fp - 0x04, gs, dwArg00, dwArg04);
			Mem343[Mem339[fp + 0x04:word32] + 0x4C:word32] = Mem339[fp - 0x18 + 0x00:word32];
		}
		if (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32] != 0x00 && Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] >= 0x00)
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] >= Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32])
				Mem313[Mem0[fp + 0x04:word32] + 0x4C:word32] = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32] - 0x01;
		}
		else
			Mem295[Mem0[fp + 0x04:word32] + 0x4C:word32] = 0x00;
		while (Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] > 0x00 && ((word32) ((word16) ((word32) Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x04:word32][Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] * 0x02])) & 0x0400) != 0x00)
			Mem290[Mem0[fp + 0x04:word32] + 0x4C:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32] - 0x01;
		word32 ebx_104 = Mem0[Mem0[fp + 0x04:word32] + 0x4C:word32];
		word32 ecx_107 = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x14:word32];
		word32 edx_110 = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x04:word32];
		word32 eax_113 = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x10:word32] + 0x00:word32];
		Mem114[fp - 0x28 + 0x00:word32] = 0x00;
		Mem115[fp - 44 + 0x00:word32] = 0x00;
		Mem116[fp - 0x30 + 0x00:word32] = ebx_104;
		Mem117[fp - 0x34 + 0x00:word32] = ecx_107;
		Mem118[fp - 0x38 + 0x00:word32] = edx_110;
		Mem119[fp - 0x3C + 0x00:word32] = eax_113;
		Mem126[fp - 0x10 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		while (Mem126[Mem126[fp + 0x04:word32] + 0x4C:word32] + Mem126[(fp - 0x1C) + 0x00:word32] < Mem126[Mem126[Mem126[fp + 0x04:word32] + 0x10:word32] + 0x14:word32] && ((word32) ((word16) ((word32) Mem126[Mem126[Mem126[fp + 0x04:word32] + 0x10:word32] + 0x04:word32][(Mem126[Mem126[fp + 0x04:word32] + 0x4C:word32] + Mem126[(fp - 0x1C) + 0x00:word32]) * 0x02])) & 0x0400) != 0x00)
			Mem270[fp - 0x1C + 0x00:word32] = Mem126[fp - 0x1C + 0x00:word32] + 0x01;
		word32 ebx_146 = Mem126[Mem126[fp + 0x04:word32] + 0x4C:word32] + Mem126[(fp - 0x1C) + 0x00:word32];
		word32 ecx_150 = Mem126[Mem126[Mem126[fp + 0x04:word32] + 0x10:word32] + 0x14:word32];
		word32 edx_153 = Mem126[Mem126[Mem126[fp + 0x04:word32] + 0x10:word32] + 0x04:word32];
		word32 eax_156 = Mem126[Mem126[Mem126[fp + 0x04:word32] + 0x10:word32] + 0x00:word32];
		Mem157[fp - 0x28 + 0x00:word32] = 0x00;
		Mem158[fp - 44 + 0x00:word32] = 0x00;
		Mem159[fp - 0x30 + 0x00:word32] = ebx_146;
		Mem160[fp - 0x34 + 0x00:word32] = ecx_150;
		Mem161[fp - 0x38 + 0x00:word32] = edx_153;
		Mem162[fp - 0x3C + 0x00:word32] = eax_156;
		Mem164[fp - 0x14 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		if (Mem164[Mem164[fp + 0x04:word32] + 0x44:word32] > Mem164[(fp - 0x10) + 0x00:word32] || (int32) ((word16) ((word32) Mem164[Mem164[fp + 0x04:word32] + 88:word16])) + Mem164[Mem164[fp + 0x04:word32] + 0x44:word32] < Mem164[(fp - 0x14) + 0x00:word32])
		{
			Mem234[Mem164[fp + 0x04:word32] + 0x44:word32] = 0x00;
			if ((int32) (word16) (word32) Mem234[Mem234[fp + 0x04:word32] + 88:word16] < Mem234[(fp - 0x14) + 0x00:word32])
			{
				Mem242[fp - 0x38 + 0x00:word32] = Mem234[fp - 0x10 + 0x00:word32];
				Mem244[fp - 0x3C + 0x00:word32] = Mem242[fp + 0x04:word32];
				columnSkip(dwArg00, dwArg04);
			}
		}
		Mem187[Mem164[fp + 0x04:word32] + 0x4A:word16] = (word16) Mem164[Mem164[Mem164[fp + 0x04:word32] + 0x10:word32] + 0x1C:word32] - (word16) Mem164[Mem164[Mem164[fp + 0x04:word32] + 0x0C:word32] + 0x1C:word32];
		word32 esi_190 = Mem187[Mem187[Mem187[fp + 0x04:word32] + 0x10:word32] + 0x30:word32];
		word32 ebx_192 = Mem187[Mem187[fp + 0x04:word32] + 0x4C:word32];
		word32 ecx_195 = Mem187[Mem187[Mem187[fp + 0x04:word32] + 0x10:word32] + 0x14:word32];
		word32 edx_198 = Mem187[Mem187[Mem187[fp + 0x04:word32] + 0x10:word32] + 0x04:word32];
		word32 eax_201 = Mem187[Mem187[Mem187[fp + 0x04:word32] + 0x10:word32] + 0x00:word32];
		Mem202[fp - 0x28 + 0x00:word32] = 0x00;
		Mem203[fp - 44 + 0x00:word32] = 0x00;
		Mem204[fp - 0x30 + 0x00:word32] = ebx_192;
		Mem205[fp - 0x34 + 0x00:word32] = ecx_195;
		Mem206[fp - 0x38 + 0x00:word32] = edx_198;
		Mem207[fp - 0x3C + 0x00:word32] = eax_201;
		Mem214[Mem207[fp + 0x04:word32] + 0x50:word32] = esi_190 + calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14) - Mem207[Mem207[fp + 0x04:word32] + 0x44:word32];
		Mem231[Mem214[fp + 0x04:word32] + 0x48:word16] = (word16) Mem214[Mem214[fp + 0x04:word32] + 0x50:word32] - (word16) Mem214[Mem214[Mem214[fp + 0x04:word32] + 0x10:word32] + 0x30:word32];
	}
}

// 08077DD8: void arrangeLine(Stack word32 dwArg04)
void arrangeLine(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		Mem55[dwArg04 + 0x4A:word16] = (word16) Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32] - (word16) Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x1C:word32];
		word32 eax_70 = columnPos(Mem55[dwArg04 + 0x10:word32], Mem55[dwArg04 + 0x44:word32] + Mem55[dwArg04 + 0x50:word32] - Mem55[Mem55[dwArg04 + 0x10:word32] + 0x30:word32]);
		word32 eax_91 = calcPosition(Mem55[Mem55[dwArg04 + 0x10:word32] + 0x00:word32], Mem55[Mem55[dwArg04 + 0x10:word32] + 0x04:word32], Mem55[Mem55[dwArg04 + 0x10:word32] + 0x14:word32], eax_70, 0x00, 0x00) - Mem55[dwArg04 + 0x44:word32];
		if (eax_91 >= 0x00)
		{
			Mem99[dwArg04 + 0x48:word16] = (word16) eax_91;
			Mem102[dwArg04 + 0x4C:word32] = eax_70;
		}
		else if (Mem55[Mem55[dwArg04 + 0x10:word32] + 0x14:word32] > eax_70)
		{
			Mem109[dwArg04 + 0x48:word16] = 0x00;
			Mem113[dwArg04 + 0x4C:word32] = eax_70 + 0x01;
		}
		else
		{
			Mem115[dwArg04 + 0x48:word16] = 0x00;
			Mem117[dwArg04 + 0x4C:word32] = 0x00;
		}
	}
}

// 08077EE9: void cursorXY(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg0C)
void cursorXY(word32 ebp, selector gs, word32 dwArg04, word32 dwArg0C)
{
	cursorUpDown(fp - 0x04, gs, dwArg04, dwArg0C - (int32) ((word16) ((word32) Mem0[dwArg04 + 0x4A:word16])));
	if ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16] > Mem0[fp + 0x08:word32])
	{
		while ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16] > Mem0[fp + 0x08:word32])
		{
			word32 eax_52 = (word32) Mem0[Mem0[fp + 0x04:word32] + 88:word16];
			Mem62[fp - 0x28 + 0x00:word32] = (int32) ((word16) (DPB(eax_52, (word16) eax_52 >>u 0x0F, 0) + eax_52) >> 0x01);
			Mem64[fp - 44 + 0x00:word32] = Mem62[fp + 0x04:word32];
			cursorLeft(fp - 0x04, gs, dwArg00, dwArg04);
		}
	}
	else if ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16] < Mem0[fp + 0x08:word32])
	{
		while ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16] < Mem0[fp + 0x08:word32])
		{
			Mem108[fp - 0x10 + 0x00:word32] = (int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16];
			word32 eax_110 = (word32) Mem108[Mem108[fp + 0x04:word32] + 88:word16];
			Mem120[fp - 0x28 + 0x00:word32] = (int32) ((word16) (DPB(eax_110, (word16) eax_110 >>u 0x0F, 0) + eax_110) >> 0x01);
			Mem122[fp - 44 + 0x00:word32] = Mem120[fp + 0x04:word32];
			cursorRight(fp - 0x04, gs, dwArg00, dwArg04);
			if ((int32) (word16) (word32) Mem122[Mem122[fp + 0x04:word32] + 0x48:word16] == Mem122[(fp - 0x10) + 0x00:word32])
				break;
		}
		if ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x48:word16] > Mem0[fp + 0x08:word32])
		{
			word32 eax_91 = (word32) Mem0[Mem0[fp + 0x04:word32] + 88:word16];
			Mem101[fp - 0x28 + 0x00:word32] = (int32) ((word16) (DPB(eax_91, (word16) eax_91 >>u 0x0F, 0) + eax_91) >> 0x01);
			Mem103[fp - 44 + 0x00:word32] = Mem101[fp + 0x04:word32];
			cursorLeft(fp - 0x04, gs, dwArg00, dwArg04);
		}
	}
}

// 08077FDF: void restorePosition(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void restorePosition(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_17;
	if (Mem0[dwArg08 + 0x0C:word32] != 0x00)
		eax_17 = Mem0[Mem0[dwArg08 + 0x0C:word32] + 0x1C:word32] - 0x01;
	else
		eax_17 = 0x00;
	word32 eax_36;
	Mem30[Mem0[fp + 0x04:word32] + 0x0C:word32] = lineSkip(gs, dwArg04, Mem0[dwArg04 + 0x08:word32], eax_17, 0x00);
	if (Mem30[Mem30[fp + 0x08:word32] + 0x10:word32] != 0x00)
		eax_36 = Mem30[Mem30[Mem30[fp + 0x08:word32] + 0x10:word32] + 0x1C:word32];
	else
		eax_36 = 0x01;
	Mem37[fp - 0x18 + 0x00:word32] = eax_36;
	Mem39[fp - 0x1C + 0x00:word32] = Mem37[fp + 0x04:word32];
	gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
	Mem44[Mem39[fp + 0x04:word32] + 0x4C:word32] = Mem39[Mem39[fp + 0x08:word32] + 0x4C:word32];
	if (Mem44[Mem44[fp + 0x04:word32] + 0x10:word32] != 0x00 && Mem44[Mem44[fp + 0x08:word32] + 0x10:word32] != 0x00)
		Mem86[Mem44[fp + 0x04:word32] + 0x4C:word32] = Mem44[Mem44[fp + 0x04:word32] + 0x4C:word32] + (Mem44[Mem44[Mem44[fp + 0x08:word32] + 0x10:word32] + 44:word32] - Mem44[Mem44[Mem44[fp + 0x04:word32] + 0x10:word32] + 44:word32]);
	Mem58[Mem44[fp + 0x04:word32] + 0x44:word32] = Mem44[Mem44[fp + 0x08:word32] + 0x44:word32];
	Mem60[fp - 0x1C + 0x00:word32] = Mem58[fp + 0x04:word32];
	arrangeCursor(fp - 0x04, gs, dwArg00);
}

// 080780B8: void columnSkip(Stack word32 dwArg04, Stack word32 dwArg08)
void columnSkip(word32 dwArg04, word32 dwArg08)
{
	word32 eax_15 = Mem0[dwArg04 + 0x44:word32] + dwArg08;
	word32 eax_20 = (int32) (word16) (word32) Mem0[dwArg04 + 0x5A:word16];
	word32 dwLoc14_120 = 0x00;
	word32 dwLoc10_122 = 0x00;
	word32 dwLoc20_126 = Mem0[dwArg04 + 0x0C:word32];
	while (dwLoc10_122 < eax_20 + 0x01 && dwLoc20_126 != 0x00)
	{
		if (Mem0[dwLoc20_126 + 0x18:word32] < 0x00)
			Mem148[dwLoc20_126 + 0x18:word32] = calcPosition(Mem0[dwLoc20_126 + 0x00:word32], Mem0[dwLoc20_126 + 0x04:word32], Mem0[dwLoc20_126 + 0x14:word32], Mem0[dwLoc20_126 + 0x14:word32], 0x00, 0x00);
		if (Mem0[dwLoc20_126 + 0x18:word32] - 0x01 > dwLoc14_120)
			dwLoc14_120 = Mem0[dwLoc20_126 + 0x18:word32] - 0x01;
		dwLoc10_122 = dwLoc10_122 + 0x01;
		dwLoc20_126 = Mem0[dwLoc20_126 + 0x0C:word32];
	}
	word32 v12_69 = dwLoc14_120 + (0x01 - (int32) ((word16) ((word32) Mem0[dwArg04 + 88:word16])));
	word32 dwLoc14_70 = v12_69;
	if (eax_15 < v12_69)
		dwLoc14_70 = eax_15;
	if (dwLoc14_70 < 0x00)
		dwLoc14_70 = 0x00;
	if (Mem0[dwArg04 + 0x44:word32] != dwLoc14_70)
		Mem94[dwArg04 + 0x44:word32] = dwLoc14_70;
}

// 080781C9: Register word32 columnPos(Stack word32 dwArg04, Stack word32 dwArg08)
word32 columnPos(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_106 = 0x01;
	while (Mem0[dwArg04 + 0x14:word32] > dwLoc10_106 && calcPosition(Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04 + 0x04:word32], Mem0[dwArg04 + 0x14:word32], dwLoc10_106, 0x00, 0x00) <= dwArg08)
		dwLoc10_106 = dwLoc10_106 + 0x01;
	word32 dwLoc10_48 = dwLoc10_106 - 0x01;
	while (dwLoc10_48 > 0x00 && ((word32) ((word16) ((word32) Mem0[dwArg04 + 0x04:word32][dwLoc10_48 * 0x02])) & 0x0400) != 0x00)
		dwLoc10_48 = dwLoc10_48 - 0x01;
	return dwLoc10_48;
}

// 0807825D: Register word32 lineSkip(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 lineSkip(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Mem25[fp - 0x14 + 0x00:word32] = currentLineSkip(fp - 0x04, gs, dwArg04, dwArg08, dwArg0C);
	if (Mem25[0x0817C2C4:word32] == 0x00)
	{
		Mem60[fp - 0x10 + 0x00:word32] = (int32) (word16) (word32) Mem25[Mem25[fp + 0x04:word32] + 0x5A:word16] - 0x01 + (Mem25[Mem25[(fp - 0x14) + 0x00:word32] + 0x1C:word32] - Mem25[Mem25[Mem25[fp + 0x04:word32] + 0x14:word32] + 0x1C:word32]);
		while (Mem60[fp - 0x10 + 0x00:word32] > 0x00 && Mem60[Mem60[(fp - 0x14) + 0x00:word32] + 0x10:word32] != 0x00)
		{
			Mem72[fp - 0x10 + 0x00:word32] = Mem60[fp - 0x10 + 0x00:word32] - 0x01;
			Mem76[fp - 0x14 + 0x00:word32] = Mem72[Mem72[fp - 0x14 + 0x00:word32] + 0x10:word32];
		}
	}
	return Mem25[fp - 0x14 + 0x00:word32];
}

// 080782DE: Register word32 currentLineSkip(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 currentLineSkip(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg04 + 0x5C:word32] != 0x00 && ((int32) ((word16) ((word32) Mem0[dwArg04 + 0x40:word16])) & 0x40) == 0x00)
	{
		if (Mem0[Mem0[dwArg04 + 0x14:word32] + 0x1C:word32] < (Mem0[dwArg08 + 0x1C:word32] + dwArg0C) + (int32) ((word16) ((word32) Mem0[dwArg04 + 0x5A:word16])))
			getNextPage(fp - 0x04, gs, dwArg04);
		while (Mem0[fp + 0x10:word32] != 0x00 || Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x14:word32] + 0x1C:word32] < Mem0[(fp - 0x14) + 0x00:word32])
		{
			Mem138[fp - 0x28 + 0x00:word32] = 0x01;
			Mem140[fp - 44 + 0x00:word32] = Mem138[fp + 0x04:word32];
			if (getNextPage(fp - 0x04, gs, dwArg00) == 0x00)
				break;
		}
		if (Mem0[fp + 0x10:word32] != 0x00)
			Mem135[fp - 0x18 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
	}
	word32 eax_41;
	if (Mem0[fp + 0x0C:word32] == 0x00)
		eax_41 = Mem0[fp - 0x18 + 0x00:word32];
	else
	{
		if (Mem0[fp + 0x0C:word32] > 0x00)
		{
			Mem57[fp - 0x10 + 0x00:word32] = 0x00;
			while (Mem57[fp - 0x10 + 0x00:word32] < Mem57[fp + 0x0C:word32] && Mem57[Mem57[(fp - 0x18) + 0x00:word32] + 0x0C:word32] != 0x00)
			{
				Mem70[fp - 0x10 + 0x00:word32] = Mem57[fp - 0x10 + 0x00:word32] + 0x01;
				Mem74[fp - 0x18 + 0x00:word32] = Mem70[Mem70[fp - 0x18 + 0x00:word32] + 0x0C:word32];
			}
		}
		else
		{
			Mem75[fp - 0x10 + 0x00:word32] = 0x00;
			while (-Mem75[fp + 0x0C:word32] > Mem75[(fp - 0x10) + 0x00:word32] && Mem75[Mem75[(fp - 0x18) + 0x00:word32] + 0x10:word32] != 0x00)
			{
				Mem88[fp - 0x10 + 0x00:word32] = Mem75[fp - 0x10 + 0x00:word32] + 0x01;
				Mem92[fp - 0x18 + 0x00:word32] = Mem88[Mem88[fp - 0x18 + 0x00:word32] + 0x10:word32];
			}
		}
		eax_41 = Mem0[fp - 0x18 + 0x00:word32];
	}
	return eax_41;
}

// 080783F7: Register word32 gethtmlcmd(Register selector gs, Stack word32 dwArg04)
word32 gethtmlcmd(selector gs, word32 dwArg04)
{
	word32 eax_116;
	word32 eax_12 = Mem0[gs:0x14:word32];
	word32 eax_18 = Mem0[dwArg04 + 0x00:word32];
	Mem24[dwArg04 + 0x00:word32] = Mem0[dwArg04 + 0x00:word32] + 0x01;
	if (((word32) (byte) (word32) Mem24[(word32) (byte) (word32) Mem24[Mem24[dwArg04 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x0C) == 0x00 && ((byte) ((word32) Mem24[Mem24[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x5F && (byte) ((word32) Mem24[Mem24[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x2F))
		eax_116 = 0x00;
	else
	{
		byte al_245;
		if (((word32) (byte) (word32) Mem24[(word32) (byte) (word32) Mem24[Mem24[dwArg04 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			al_245 = (byte) ((word32) Mem24[Mem24[dwArg04 + 0x00:word32] + 0x00:byte] | 0x20);
		else
			al_245 = (byte) (word32) Mem24[Mem24[dwArg04 + 0x00:word32] + 0x00:byte];
		Mem80[dwArg04 + 0x00:word32] = Mem24[dwArg04 + 0x00:word32] + 0x01;
		word32 dwLoc94_191 = fp - 0x8F;
		if ((byte) (word32) al_245 == 0x2F)
		{
			while ((byte) (word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem80[(word32) ((byte) ((word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem240[dwArg04 + 0x00:word32] = Mem80[dwArg04 + 0x00:word32] + 0x01;
		}
		while ((((word32) (byte) (word32) Mem80[(word32) (byte) (word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x0C) != 0x00 || (byte) ((word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte]) == 0x5F) && dwLoc94_191 - (fp - 0x90) <= 0x7F)
		{
			byte al_185;
			if (((word32) (byte) (word32) Mem80[(word32) (byte) (word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
				al_185 = (byte) ((word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte] | 0x20);
			else
				al_185 = (byte) (word32) Mem80[Mem80[dwArg04 + 0x00:word32] + 0x00:byte];
			Mem189[dwLoc94_191 + 0x00:byte] = al_185;
			Mem197[dwArg04 + 0x00:word32] = Mem189[dwArg04 + 0x00:word32] + 0x01;
			dwLoc94_191 = dwLoc94_191 + 0x01;
		}
		if (dwLoc94_191 - (fp - 0x90) == 0x80)
		{
			Mem115[dwArg04 + 0x00:word32] = eax_18 + 0x01;
			eax_116 = 0x00;
		}
		else
		{
			Mem123[dwLoc94_191 + 0x00:byte] = 0x00;
			word32 eax_128 = getHash_si(0x080DA7F0, fp - 0x90, 0x00);
			while ((byte) (word32) Mem123[Mem123[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem123[Mem123[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x3E)
				Mem163[dwArg04 + 0x00:word32] = Mem123[dwArg04 + 0x00:word32] + 0x01;
			if ((byte) (word32) Mem123[Mem123[dwArg04 + 0x00:word32] + 0x00:byte] == 0x3E)
				Mem152[dwArg04 + 0x00:word32] = Mem123[dwArg04 + 0x00:word32] + 0x01;
			eax_116 = eax_128;
		}
	}
	if ((eax_12 ^ Mem24[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_116;
}

// 080786B3: Register word32 parse_ansi_color(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 parse_ansi_color(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_103;
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word16 wLoc10_118 = (word16) (word32) Mem0[dwArg08 + 0x00:word16];
	byte bLoc0D_119 = (byte) (word32) Mem0[dwArg0C + 0x00:byte];
	if ((byte) (word32) Mem0[eax_10 + 0x00:byte] == 0x1B && (byte) ((word32) Mem0[eax_10 + 0x01:byte]) == 0x5B)
	{
		word32 dwLoc14_117 = eax_10 + 0x02;
		word32 dwLoc18_73 = eax_10 + 0x02 + 0x01;
		while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc18_73 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00 || (byte) ((word32) Mem0[dwLoc18_73 + 0x00:byte]) == 0x3B)
			dwLoc18_73 = dwLoc18_73 + 0x01;
		if ((byte) (word32) Mem0[dwLoc18_73 + 0x00:byte] != 0x6D)
			eax_103 = 0x00;
		else
		{
			Mem109[dwArg04 + 0x00:word32] = dwLoc18_73 + 0x00;
			while ((byte) (word32) Mem109[dwLoc14_117 + 0x00:byte] != 0x6D)
			{
				if (((word32) (byte) (word32) Mem109[(word32) (byte) (word32) Mem109[dwLoc14_117 + 0x00:byte] + 0x080DB700:byte] & 0x08) == 0x00)
				{
					wLoc10_118 = 0x00;
					bLoc0D_119 = 0x00;
					goto l080788AB;
				}
				word32 dwLoc14_166 = dwLoc14_117 + 0x01 + 0x01;
				while (((word32) (byte) (word32) Mem109[(word32) (byte) (word32) Mem109[dwLoc14_166 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
					dwLoc14_166 = dwLoc14_166 + 0x01;
				word32 eax_192 = atoi(allocStr(dwLoc14_117, dwLoc14_166 - dwLoc14_117));
				if (eax_192 != 0x05)
				{
					if (eax_192 <= 0x05)
					{
						if (eax_192 == 0x01)
							goto l08078815;
						if (eax_192 != 0x04)
						{
							if (eax_192 != 0x00)
								goto l0807883F;
							wLoc10_118 = 0x00;
							bLoc0D_119 = 0x00;
						}
						else
							wLoc10_118 = 0x02;
						goto l0807888A;
					}
					if (eax_192 != 0x27)
					{
						if (eax_192 <= 0x27)
						{
							if (eax_192 != 0x07)
								goto l0807883F;
							wLoc10_118 = 0x04;
						}
						else if (eax_192 != 0x31)
						{
							if (eax_192 != 100)
							{
l0807883F:
								if (eax_192 > 0x1D && eax_192 <= 0x25)
									bLoc0D_119 = (byte) (eax_192 - 0x1E | (word32) bLoc0D_119 & ~0x0F | 0x08);
								else if (eax_192 > 0x27 && eax_192 <= 0x2F)
									bLoc0D_119 = (byte) (eax_192 - 0x28 << 0x04 | (word32) bLoc0D_119 & 0x0F | ~0x7F);
							}
							else
								bLoc0D_119 = 0x00;
						}
						else
							bLoc0D_119 = bLoc0D_119 & 0x0F;
					}
					else
						bLoc0D_119 = bLoc0D_119 & 0xF0;
				}
				else
				{
l08078815:
					wLoc10_118 = 0x08;
				}
l0807888A:
				if ((byte) (word32) Mem109[dwLoc14_166 + 0x00:byte] == 0x6D)
					goto l080788AB;
				dwLoc14_117 = dwLoc14_166 + 0x00;
			}
			wLoc10_118 = 0x00;
			bLoc0D_119 = 0x00;
l080788AB:
			Mem142[dwArg08 + 0x00:word16] = (word16) (word32) wLoc10_118;
			Mem146[dwArg0C + 0x00:byte] = (byte) (word32) bLoc0D_119;
			eax_103 = 0x01;
		}
	}
	else
		eax_103 = 0x00;
	return eax_103;
}

// 080788C5: Register word32 checkType(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 checkType(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_14 = Mem0[dwArg04 + 0x00:word32];
	word16 wLoc12_10 = 0x00;
	word32 dwLoc1C_1067 = eax_14;
	word32 eax_20 = Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x04:word32];
	word32 dwLoc24_1022 = 0x00;
	word32 dwLoc28_103 = 0x00;
	word32 dwLoc2C_102 = 0x00;
	word32 dwLoc30_1025 = 0x00;
	word32 dwLoc34_1054 = 0x00;
	word32 dwLoc3C_100 = 0x00;
	if (Mem0[dwArg04 + 0x04:word32] > Mem0[0x0817CA10:word32])
	{
		word32 eax_1254 = Mem0[dwArg04 + 0x04:word32];
		if (eax_1254 < 0x0100)
			eax_1254 = 0x0100;
		Mem1262[0x0817CA10:word32] = eax_1254;
		word32 esp_1271;
		word32 ebp_1272;
		word32 ebx_1273;
		byte SCZO_1274;
		word32 eax_1275;
		word32 edx_1276;
		byte SZO_1277;
		byte SO_1278;
		byte C_1279;
		byte Z_1280;
		byte al_1281;
		word32 ecx_1282;
		word16 ax_1283;
		byte CZ_1284;
		byte dl_1285;
		word16 dx_1286;
		byte ah_1287;
		!GC_realloc();
		Mem1288[135776788:word32] = eax_1275;
	}
	word32 dwLoc18_105 = Mem0[135776788:word32];
	if (Mem0[0x080D52BC:word32] != 0x00)
	{
		word32 esp_1005;
		word32 ebp_1006;
		word32 ebx_1007;
		byte SCZO_1008;
		word32 eax_1009;
		word32 edx_1010;
		byte SZO_1011;
		byte SO_1012;
		byte C_1013;
		byte Z_1014;
		byte al_1015;
		word32 ecx_1016;
		word16 ax_1017;
		byte CZ_1018;
		byte dl_1019;
		word16 dx_1020;
		byte ah_1021;
		!memchr();
		dwLoc24_1022 = eax_1009;
		if (dwArg0C != 0x00)
		{
			word32 esp_1171;
			word32 ebp_1172;
			word32 ebx_1173;
			byte SCZO_1174;
			word32 eax_1175;
			word32 edx_1176;
			byte SZO_1177;
			byte SO_1178;
			byte C_1179;
			byte Z_1180;
			byte al_1181;
			word32 ecx_1182;
			word16 ax_1183;
			byte CZ_1184;
			byte dl_1185;
			word16 dx_1186;
			byte ah_1187;
			!memchr();
			dwLoc30_1025 = eax_1175;
			if (eax_1175 != 0x00)
			{
				if (Mem0[dwArg04 + 0x04:word32] > Mem0[0x0817CA18:word32])
				{
					word32 eax_1217 = Mem0[dwArg04 + 0x04:word32];
					if (eax_1217 < 0x0100)
						eax_1217 = 0x0100;
					Mem1225[0x0817CA18:word32] = eax_1217;
					word32 esp_1231;
					word32 ebp_1232;
					word32 ebx_1233;
					byte SCZO_1234;
					word32 eax_1235;
					word32 edx_1236;
					byte SZO_1237;
					byte SO_1238;
					byte C_1239;
					byte Z_1240;
					byte al_1241;
					word32 ecx_1242;
					word16 ax_1243;
					byte CZ_1244;
					byte dl_1245;
					word16 dx_1246;
					byte ah_1247;
					!GC_realloc();
					Mem1248[135776796:word32] = eax_1235;
				}
				dwLoc2C_102 = Mem0[135776796:word32];
			}
		}
		if (eax_1009 != 0x00 || dwLoc30_1025 != 0x00)
		{
			word32 eax_1057;
			word32 eax_1050 = Mem0[dwArg04 + 0x04:word32];
			Strnew_size(eax_1050, eax_1050);
			dwArg04 = eax_1050;
			dwLoc34_1054 = 0x01;
			if (eax_1009 != 0x00)
				eax_1057 = eax_1009 - 0x02;
			else
				eax_1057 = eax_20;
			word32 dwLoc48_1061 = eax_1057;
			if (dwLoc30_1025 != 0x00 && dwLoc30_1025 - 0x02 <u eax_1057)
				dwLoc48_1061 = dwLoc30_1025 - 0x02;
			while (dwLoc1C_1067 <u dwLoc48_1061 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc1C_1067 + 0x00:byte])) + 0x080DB700:byte])) & 0x11) != 0x00)
			{
				word16 ax_1118;
				if ((byte) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_1067 + 0x00:byte] + 0x080DB700:byte] & 0x01) != 0x00)
					ax_1118 = 0x0100;
				else
					ax_1118 = 0x00;
				Mem1121[dwLoc18_105 + 0x00:word16] = ax_1118;
				dwLoc18_105 = dwLoc18_105 + 0x02;
				if (dwLoc2C_102 != 0x00)
				{
					Mem1132[dwLoc2C_102 + 0x00:byte] = 0x00;
					dwLoc2C_102 = dwLoc2C_102 + 0x01;
				}
				dwLoc1C_1067 = dwLoc1C_1067 + 0x01;
			}
			Strcat_charp_n(eax_1050, eax_14, dwLoc1C_1067 - eax_14);
		}
	}
	if (dwLoc34_1054 == 0x00)
	{
		while (dwLoc1C_1067 <u eax_20 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc1C_1067 + 0x00:byte])) + 0x080DB700:byte])) & 0x11) != 0x00)
		{
			word16 ax_980;
			if ((byte) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_1067 + 0x00:byte] + 0x080DB700:byte] & 0x01) != 0x00)
				ax_980 = 0x0100;
			else
				ax_980 = 0x00;
			Mem983[dwLoc18_105 + 0x00:word16] = ax_980;
			dwLoc18_105 = dwLoc18_105 + 0x02;
			dwLoc1C_1067 = dwLoc1C_1067 + 0x01;
		}
	}
	while (dwLoc1C_1067 <u eax_20 && dwLoc18_105 - Mem0[135776788:word32] >> 0x01 < Mem0[0x0817CA10:word32])
	{
		if (dwLoc24_1022 == 0x00)
		{
l08078F88:
			if (dwLoc30_1025 != 0x00)
			{
				if (dwLoc1C_1067 == dwLoc30_1025)
				{
					word32 eax_391 = parse_ansi_color(fp - 0x1C, fp - 0x14, fp - 0x0D);
					if (dwLoc1C_1067 <u eax_20)
					{
						word32 esp_434;
						word32 ebp_435;
						word32 ebx_436;
						byte SCZO_437;
						word32 eax_438;
						word32 edx_439;
						byte SZO_440;
						byte SO_441;
						byte C_442;
						byte Z_443;
						byte al_444;
						word32 ecx_445;
						word16 ax_446;
						byte CZ_447;
						byte dl_448;
						word16 dx_449;
						byte ah_450;
						!memchr();
						dwLoc30_1025 = eax_438;
					}
					if (eax_391 != 0x00)
					{
						if (0x00 != 0x00)
							dwLoc28_103 = 0x01;
						continue;
					}
				}
				else if (dwLoc1C_1067 >u dwLoc30_1025)
				{
					word32 esp_466;
					word32 ebp_467;
					word32 ebx_468;
					byte SCZO_469;
					word32 eax_470;
					word32 edx_471;
					byte SZO_472;
					byte SO_473;
					byte C_474;
					byte Z_475;
					byte al_476;
					word32 ecx_477;
					word16 ax_478;
					byte CZ_479;
					byte dl_480;
					word16 dx_481;
					byte ah_482;
					!memchr();
					dwLoc30_1025 = eax_470;
				}
			}
			word16 ax_243;
			word32 eax_222 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_1067 + 0x00:byte] + 0x08179AE0:byte];
			dwLoc3C_100 = eax_222;
			word16 ax_235 = (word16) ((word32) wLoc12_10 | (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc1C_1067 + 0x00:byte])) + 0x08179BE0:byte])) << 0x08);
			ax_243 = ax_235;
			if (dwLoc2C_102 != 0x00)
			{
				Mem373[dwLoc2C_102 + 0x00:byte] = 0x00;
				dwLoc2C_102 = dwLoc2C_102 + 0x01;
				ax_243 = 0x00;
			}
			Mem247[dwLoc18_105 + 0x00:word16] = (word16) (word32) ax_235;
			dwLoc18_105 = dwLoc18_105 + 0x02;
			if (eax_222 > 0x01)
			{
				word16 ax_277 = DPB(ax_243, SLICE((word32) ax_235, byte, 8) & ~0x06 | 0x04, 8);
				word32 dwLoc38_281 = 0x01;
				while (dwLoc38_281 < eax_222)
				{
					Mem310[dwLoc18_105 + 0x00:word16] = (word16) (word32) ax_277;
					dwLoc18_105 = dwLoc18_105 + 0x02;
					if (dwLoc2C_102 != 0x00)
					{
						Mem325[dwLoc2C_102 + 0x00:byte] = 0x00;
						dwLoc2C_102 = dwLoc2C_102 + 0x01;
					}
					dwLoc38_281 = dwLoc38_281 + 0x01;
				}
				if (dwLoc34_1054 != 0x00)
					Strcat_charp_n(dwArg04, dwLoc1C_1067, eax_222);
				dwLoc1C_1067 = dwLoc1C_1067 + eax_222;
			}
			else
			{
				if (dwLoc34_1054 != 0x00)
				{
					if (Mem247[dwArg04 + 0x04:word32] + 0x01 >= Mem247[dwArg04 + 0x08:word32])
						Strgrow(dwArg04);
					word32 eax_351 = Mem247[dwArg04 + 0x04:word32];
					Mem358[Mem247[dwArg04 + 0x00:word32] + eax_351:byte] = (byte) (word32) Mem247[dwLoc1C_1067 + 0x00:byte];
					Mem361[dwArg04 + 0x04:word32] = eax_351 + 0x01;
					Mem367[Mem361[dwArg04 + 0x00:word32] + Mem361[dwArg04 + 0x04:word32]:byte] = 0x00;
				}
				dwLoc1C_1067 = dwLoc1C_1067 + 0x01;
			}
			wLoc12_10 = 0x00;
			continue;
		}
		if (dwLoc24_1022 - 0x02 != dwLoc1C_1067 || strncmp(dwLoc1C_1067, 0x080CAD80, 0x04) != 0x00)
		{
			if (dwLoc24_1022 - 0x01 == dwLoc1C_1067)
			{
				byte al_858 = (byte) (word32) Mem0[dwLoc1C_1067 + 0x00:byte];
				if (al_858 == 0x5F)
				{
					word32 eax_862 = dwLoc1C_1067 + 0x02;
					dwLoc1C_1067 = eax_862;
					wLoc12_10 = 0x02;
					if (eax_862 <u eax_20)
					{
						word32 esp_879;
						word32 ebp_880;
						word32 ebx_881;
						byte SCZO_882;
						word32 eax_883;
						word32 edx_884;
						byte SZO_885;
						byte SO_886;
						byte C_887;
						byte Z_888;
						byte al_889;
						word32 ecx_890;
						word16 ax_891;
						byte CZ_892;
						byte dl_893;
						word16 dx_894;
						byte ah_895;
						!memchr();
						dwLoc24_1022 = eax_883;
					}
					continue;
				}
			}
			if (dwLoc1C_1067 == dwLoc24_1022)
			{
				if ((byte) (word32) Mem0[dwLoc1C_1067 + 0x01:byte] == 0x5F)
				{
					if (Mem0[dwArg04 + 0x04:word32] != 0x00)
					{
						dwLoc1C_1067 = dwLoc1C_1067 + 0x02;
						word32 dwLoc38_567 = 0x01;
						while (dwLoc38_567 <= dwLoc3C_100)
						{
							Mem585[-(dwLoc38_567 * 0x02) + dwLoc18_105:word16] = (word16) ((word32) Mem0[-(dwLoc38_567 * 0x02) + dwLoc18_105:word16] | 0x02);
							dwLoc38_567 = dwLoc38_567 + 0x01;
						}
					}
					else
						dwLoc1C_1067 = dwLoc1C_1067 + 0x01;
				}
				else if (strncmp(dwLoc1C_1067 + 0x01, 0x080CAD85, 0x03) == 0x00)
				{
					if (Mem0[dwArg04 + 0x04:word32] != 0x00)
					{
						word32 eax_612;
						if (dwLoc3C_100 == 0x01)
							eax_612 = 0x03;
						else
							eax_612 = 0x04;
						dwLoc1C_1067 = dwLoc1C_1067 + eax_612;
						word32 dwLoc38_618 = 0x01;
						while (dwLoc38_618 <= dwLoc3C_100)
						{
							Mem636[-(dwLoc38_618 * 0x02) + dwLoc18_105:word16] = (word16) ((word32) Mem0[-(dwLoc38_618 * 0x02) + dwLoc18_105:word16] | 0x02);
							dwLoc38_618 = dwLoc38_618 + 0x01;
						}
					}
					else
						dwLoc1C_1067 = dwLoc1C_1067 + 0x02;
				}
				else if ((byte) (word32) Mem0[dwLoc1C_1067 + 0x01:byte] == 0x08)
				{
					if (Mem0[dwArg04 + 0x04:word32] != 0x00)
					{
						word32 eax_670 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_1067 + 0x02:byte] + 0x08179AE0:byte];
						if (dwLoc3C_100 == eax_670 && strncmp(dwLoc1C_1067 + -dwLoc3C_100, dwLoc1C_1067 + 0x02, dwLoc3C_100) == 0x00)
						{
							word32 dwLoc38_709 = 0x01;
							while (dwLoc38_709 <= dwLoc3C_100)
							{
								Mem733[-(dwLoc38_709 * 0x02) + dwLoc18_105:word16] = (word16) ((word32) Mem0[-(dwLoc38_709 * 0x02) + dwLoc18_105:word16] | 0x08);
								dwLoc38_709 = dwLoc38_709 + 0x01;
							}
							dwLoc1C_1067 = dwLoc1C_1067 + (eax_670 + 0x02);
						}
						else
						{
							Strshrink(dwArg04, dwLoc3C_100);
							dwLoc18_105 = dwLoc18_105 + -(dwLoc3C_100 * 0x02);
							dwLoc1C_1067 = dwLoc1C_1067 + 0x02;
						}
					}
					else
						dwLoc1C_1067 = dwLoc1C_1067 + 0x02;
				}
				else if (Mem0[dwArg04 + 0x04:word32] != 0x00)
				{
					word32 eax_753 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_1067 + 0x01:byte] + 0x08179AE0:byte];
					if (dwLoc3C_100 == eax_753 && strncmp(dwLoc1C_1067 + -dwLoc3C_100, dwLoc1C_1067 + 0x01, dwLoc3C_100) == 0x00)
					{
						word32 dwLoc38_792 = 0x01;
						while (dwLoc38_792 <= dwLoc3C_100)
						{
							Mem816[-(dwLoc38_792 * 0x02) + dwLoc18_105:word16] = (word16) ((word32) Mem0[-(dwLoc38_792 * 0x02) + dwLoc18_105:word16] | 0x08);
							dwLoc38_792 = dwLoc38_792 + 0x01;
						}
						dwLoc1C_1067 = dwLoc1C_1067 + (eax_753 + 0x01);
					}
					else
					{
						Strshrink(dwArg04, dwLoc3C_100);
						dwLoc18_105 = dwLoc18_105 + -(dwLoc3C_100 * 0x02);
						dwLoc1C_1067 = dwLoc1C_1067 + 0x01;
					}
				}
				else
					dwLoc1C_1067 = dwLoc1C_1067 + 0x01;
				if (dwLoc1C_1067 <u eax_20)
				{
					word32 esp_540;
					word32 ebp_541;
					word32 ebx_542;
					byte SCZO_543;
					word32 eax_544;
					word32 edx_545;
					byte SZO_546;
					byte SO_547;
					byte C_548;
					byte Z_549;
					byte al_550;
					word32 ecx_551;
					word16 ax_552;
					byte CZ_553;
					byte dl_554;
					word16 dx_555;
					byte ah_556;
					!memchr();
					dwLoc24_1022 = eax_544;
				}
				continue;
			}
			if (dwLoc1C_1067 >u dwLoc24_1022)
			{
				word32 esp_838;
				word32 ebp_839;
				word32 ebx_840;
				byte SCZO_841;
				word32 eax_842;
				word32 edx_843;
				byte SZO_844;
				byte SO_845;
				byte C_846;
				byte Z_847;
				byte al_848;
				word32 ecx_849;
				word16 ax_850;
				byte CZ_851;
				byte dl_852;
				word16 dx_853;
				byte ah_854;
				!memchr();
				dwLoc24_1022 = eax_842;
			}
			goto l08078F88;
		}
		word32 eax_906 = dwLoc1C_1067 + 0x04;
		dwLoc1C_1067 = eax_906;
		wLoc12_10 = 0x02;
		if (eax_906 <u eax_20)
		{
			word32 esp_923;
			word32 ebp_924;
			word32 ebx_925;
			byte SCZO_926;
			word32 eax_927;
			word32 edx_928;
			byte SZO_929;
			byte SO_930;
			byte C_931;
			byte Z_932;
			byte al_933;
			word32 ecx_934;
			word16 ax_935;
			byte CZ_936;
			byte dl_937;
			word16 dx_938;
			byte ah_939;
			!memchr();
			dwLoc24_1022 = eax_927;
		}
	}
	Mem135[dwArg08 + 0x00:word32] = Mem0[135776788:word32];
	if (dwArg0C != 0x00)
	{
		word32 eax_153;
		if (dwLoc28_103 != 0x00)
			eax_153 = Mem135[135776796:word32];
		else
			eax_153 = 0x00;
		Mem158[dwArg0C + 0x00:word32] = eax_153;
	}
	return dwArg04;
}

// 080791C2: Register word32 nextColumn(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 nextColumn(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_105;
	if (((word32) (word16) (word32) Mem0[dwArg0C + 0x00:word16] & 0x0100) != 0x00)
	{
		if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x09)
		{
			word32 eax_38 = Mem0[0x080D52B4:word32] + dwArg04;
			eax_105 = Mem0[0x080D52B4:word32] *s (int32) (SEQ(eax_38 >> 0x1F, eax_38) / Mem0[0x080D52B4:word32]);
		}
		else if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x0A)
			eax_105 = dwArg04 + 0x01;
		else if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] != 0x0D)
			eax_105 = dwArg04 + 0x02;
		else
			eax_105 = dwArg04;
	}
	else if (((word32) (word16) (word32) Mem0[dwArg0C + 0x00:word16] & 0x1000) != 0x00)
		eax_105 = dwArg04 + 0x04;
	else
	{
		word32 eax_104;
		if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
			eax_104 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08 + 0x00:byte] + 0x081799E0:byte];
		else
			eax_104 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08 + 0x00:byte] + 0x081799E0:byte] != 0x00);
		eax_105 = eax_104 + dwArg04;
	}
	return eax_105;
}

// 08079289: Register word32 calcPosition(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18)
word32 calcPosition(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18)
{
	word32 eax_111;
	if (dwArg04 != 0x00 && dwArg0C != 0x00)
	{
		if (dwArg04 == Mem0[135776772:word32] && (dwArg18 == 0x00 && dwArg10 <= dwArg0C))
			eax_111 = Mem0[135776776:word32][dwArg10 * 0x04];
		else
		{
			if (dwArg0C + 0x01 > Mem0[0x0817CA0C:word32])
			{
				word32 eax_221 = dwArg0C + 0x01;
				if (dwArg0C < ~0xFE)
					eax_221 = 0x0100;
				Mem228[0x0817CA0C:word32] = eax_221;
				word32 esp_233;
				word32 ebp_234;
				byte SCZO_235;
				byte Z_236;
				word32 eax_237;
				byte SZO_238;
				word32 edx_239;
				byte SO_240;
				word16 ax_241;
				byte C_242;
				byte al_243;
				word32 ecx_244;
				!GC_malloc();
				Mem245[135776776:word32] = eax_237;
			}
			Mem67[135776772:word32] = dwArg04;
			word32 dwLoc10_131 = 0x00;
			word32 dwLoc14_129 = dwArg14;
			if (((word32) (word16) (word32) Mem67[dwArg08 + 0x00:word16] & 0x0400) != 0x00)
			{
				while (dwLoc10_131 < dwArg0C && ((word32) ((word16) ((word32) dwArg08[dwLoc10_131 * 0x02])) & 0x0400) != 0x00)
				{
					Mem67[135776776:word32][dwLoc10_131 * 0x04] = dwArg14;
					dwLoc10_131 = dwLoc10_131 + 0x01;
				}
				if (dwLoc10_131 > 0x00 && (((word32) ((word16) ((word32) dwArg08[(dwLoc10_131 - 0x01) * 0x02])) & 0x0800) != 0x00 && (byte) ((word32) Mem67[0x080DC0AF:byte]) != 0x00))
					dwLoc14_129 = dwArg14 + 0x01;
			}
			while (true)
			{
				Mem67[135776776:word32][dwLoc10_131 * 0x04] = dwLoc14_129;
				if (dwLoc10_131 == dwArg0C)
					break;
				dwLoc14_129 = nextColumn(dwLoc14_129, dwLoc10_131 + dwArg04, dwLoc10_131 * 0x02 + dwArg08);
				dwLoc10_131 = dwLoc10_131 + 0x01;
				while (dwLoc10_131 < dwArg0C && ((word32) ((word16) ((word32) dwArg08[dwLoc10_131 * 0x02])) & 0x0400) != 0x00)
				{
					Mem98[135776776:word32][dwLoc10_131 * 0x04] = Mem98[135776776:word32][(dwLoc10_131 - 0x01) * 0x04];
					dwLoc10_131 = dwLoc10_131 + 0x01;
				}
			}
			if (dwArg10 < dwLoc10_131)
				eax_111 = Mem98[135776776:word32][dwArg10 * 0x04];
			else
				eax_111 = dwLoc14_129;
		}
	}
	else
		eax_111 = dwArg14;
	return eax_111;
}

// 08079452: Register word32 columnLen(Stack word32 dwArg04, Stack word32 dwArg08)
word32 columnLen(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_26 = 0x00;
	word32 dwLoc0C_22 = 0x00;
	while (true)
	{
		word32 eax_42;
		if (Mem0[dwArg04 + 0x14:word32] <= dwLoc08_26)
			break;
		word32 eax_64 = nextColumn(dwLoc0C_22, Mem0[dwArg04 + 0x00:word32] + dwLoc08_26, Mem0[dwArg04 + 0x04:word32] + dwLoc08_26 * 0x02);
		dwLoc0C_22 = eax_64;
		if (eax_64 > dwArg08)
		{
			eax_42 = dwLoc08_26;
			return eax_42;
		}
		dwLoc08_26 = dwLoc08_26 + 0x01;
		while (Mem0[dwArg04 + 0x14:word32] > dwLoc08_26 && ((word32) ((word16) ((word32) Mem0[dwArg04 + 0x04:word32][dwLoc08_26 * 0x02])) & 0x0400) != 0x00)
			dwLoc08_26 = dwLoc08_26 + 0x01;
	}
	eax_42 = Mem0[dwArg04 + 0x14:word32];
	return eax_42;
}

// 080794E8: Register word32 lastFileName(Stack word32 dwArg04)
word32 lastFileName(word32 dwArg04)
{
	word32 dwLoc14_10 = dwArg04;
	word32 dwLoc10_12 = dwArg04 + 0x01;
	while ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] == 0x2F)
			dwLoc14_10 = dwLoc10_12 + 0x00;
		dwLoc10_12 = dwLoc10_12 + 0x01;
	}
	return allocStr(dwLoc14_10, ~0x00);
}

// 08079532: Register word32 mybasename(Stack word32 dwArg04)
word32 mybasename(word32 dwArg04)
{
	word32 dwLoc10_10 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc10_10 + 0x00:byte] != 0x00)
		dwLoc10_10 = dwLoc10_10 + 0x01;
	while (dwArg04 <=u dwLoc10_10 && (byte) ((word32) Mem0[dwLoc10_10 + 0x00:byte]) != 0x2F)
		dwLoc10_10 = dwLoc10_10 - 0x01;
	word32 dwLoc10_31;
	if ((byte) (word32) Mem0[dwLoc10_10 + 0x00:byte] == 0x2F)
		dwLoc10_31 = dwLoc10_10 + 0x01;
	else
		dwLoc10_31 = dwArg04;
	return allocStr(dwLoc10_31, ~0x00);
}

// 08079591: Register word32 mydirname(Stack word32 dwArg04)
word32 mydirname(word32 dwArg04)
{
	word32 dwLoc10_104 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc10_104 + 0x00:byte] != 0x00)
		dwLoc10_104 = dwLoc10_104 + 0x01;
	if (dwArg04 != dwLoc10_104)
		dwLoc10_104 = dwLoc10_104 - 0x01;
	while (dwArg04 != dwLoc10_104 && (byte) ((word32) Mem0[dwLoc10_104 + 0x00:byte]) == 0x2F)
		dwLoc10_104 = dwLoc10_104 - 0x01;
	while (dwArg04 != dwLoc10_104 && (byte) ((word32) Mem0[dwLoc10_104 + 0x00:byte]) != 0x2F)
		dwLoc10_104 = dwLoc10_104 - 0x01;
	word32 eax_46;
	if ((byte) (word32) Mem0[dwLoc10_104 + 0x00:byte] != 0x2F)
		eax_46 = 135048585;
	else
	{
		while (dwArg04 != dwLoc10_104 && (byte) ((word32) Mem0[dwLoc10_104 + 0x00:byte]) == 0x2F)
			dwLoc10_104 = dwLoc10_104 - 0x01;
		eax_46 = allocStr(dwArg04, strlen(dwArg04) - strlen(dwLoc10_104) + 0x01);
	}
	return eax_46;
}

// 08079647: Register word32 next_status(Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 next_status(word32 dwArg04, word32 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 eax_14 = Mem0[dwArg08 + 0x00:word32];
	if (eax_14 >u 0x0F)
	{
		word32 ebp_40;
		*ebpOut = ebp;
		word32 esp_41;
		*espOut = fp;
		return 0x00;
	}
	else
	{
		word32 eax_27 = 0x080CAD8C[eax_14 * 0x04];
		word32 esp_30;
		word32 ebp_31;
		byte SCZO_32;
		word32 eax_33;
		byte al_34;
		byte CZ_35;
		bcuiposr0 None_36;
		eax_27();
		return eax_33;
	}
}

// 0807999A: Register word32 read_token(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg14)
word32 read_token(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg14)
{
	word32 ebp_5 = fp - 0x04;
	word32 esp_59 = fp - 44;
	if (dwArg14 == 0x00)
		Strclear(dwArg04);
	word32 eax_40;
	if ((byte) (word32) Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:byte] == 0x00)
		eax_40 = 0x00;
	else
	{
		while ((byte) (word32) Mem0[Mem0[ebp_5 - 0x0C + 0x00:word32] + 0x00:byte] != 0x00)
		{
			Mem73[ebp_5 - 0x10 + 0x00:word32] = Mem0[Mem0[ebp_5 + 0x10:word32] + 0x00:word32];
			word32 eax_77 = (int32) (byte) (word32) Mem73[Mem73[ebp_5 - 0x0C + 0x00:word32] + 0x00:byte];
			word32 edx_78 = Mem73[ebp_5 + 0x10:word32];
			Mem79[esp_59 + 0x04:word32] = edx_78;
			Mem80[esp_59 + 0x00:word32] = eax_77;
			next_status(dwArg00, dwArg04, out esp_59, out ebp_5);
			word32 eax_87 = Mem80[Mem80[ebp_5 + 0x10:word32] + 0x00:word32];
			if (eax_87 <=u 0x0F)
			{
				word32 eax_91 = 0x080CADCC[eax_87 * 0x04];
				word32 esp_93;
				word32 ebp_94;
				byte SCZO_95;
				byte Z_96;
				word32 eax_97;
				byte al_98;
				byte SZO_99;
				byte C_100;
				word32 edx_101;
				byte CZ_102;
				bcuiposr0 None_103;
				eax_91();
				return eax_97;
			}
			Mem105[ebp_5 - 0x0C + 0x00:word32] = Mem80[ebp_5 - 0x0C + 0x00:word32] + 0x01;
		}
		Mem68[Mem0[ebp_5 + 0x0C:word32] + 0x00:word32] = Mem0[ebp_5 - 0x0C + 0x00:word32];
		eax_40 = 0x01;
	}
	return eax_40;
}

// 08079E3B: Register word32 correct_irrtag(Register word32 eax, Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 correct_irrtag(word32 eax, word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	Strnew(eax);
	if (dwArg04 != 0x00 && dwArg04 <=u 0x0F)
	{
		word32 eax_39 = 0x080CAE0C[dwArg04 * 0x04];
		word32 esp_40;
		word32 ebp_41;
		byte SCZO_42;
		word32 eax_43;
		byte SZO_44;
		byte C_45;
		byte Z_46;
		byte CZ_47;
		bcuiposr0 None_48;
		eax_39();
		return eax_43;
	}
	else
	{
		word32 ebp_30;
		*ebpOut = ebp;
		word32 esp_31;
		*espOut = fp;
		return eax;
	}
}

// 08079EF2: void add_auth_pass_entry(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void add_auth_pass_entry(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if ((Mem0[dwArg04 + 0x08:word32] != 0x00 || dwArg08 != 0x00) && ((Mem0[dwArg04 + 0x04:word32] != 0x00 || (Mem0[dwArg04 + 0x10:word32] != 0x00 || dwArg08 != 0x00)) && Mem0[dwArg04 + 0x14:word32] != 0x00))
	{
		word32 eax_48 = Mem0[dwArg04 + 0x18:word32];
		if (eax_48 != 0x00)
		{
			word32 esp_53;
			word32 ebp_54;
			byte SCZO_55;
			word32 eax_56;
			byte SZO_57;
			byte C_58;
			byte Z_59;
			word32 edx_60;
			!GC_malloc();
			memcpy(eax_56, dwArg04, 0x20);
			if (dwArg0C != 0x00)
			{
				Mem73[eax_56 + 0x1C:word32] = Mem0[135776748:word32];
				Mem75[135776748:word32] = eax_56;
			}
			else if (Mem0[135776748:word32] == 0x00)
				Mem81[135776748:word32] = eax_56;
			else if (Mem0[Mem0[135776748:word32] + 0x1C:word32] == 0x00)
				Mem89[Mem0[135776748:word32] + 0x1C:word32] = eax_56;
			else
			{
				word32 dwLoc14_103 = Mem0[135776748:word32];
				while (Mem0[dwLoc14_103 + 0x1C:word32] != 0x00)
					dwLoc14_103 = Mem0[dwLoc14_103 + 0x1C:word32];
				Mem100[dwLoc14_103 + 0x1C:word32] = eax_56;
			}
		}
	}
}

// 08079FDF: Register word32 find_auth_pass_entry(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 find_auth_pass_entry(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 dwLoc10_10 = Mem0[135776748:word32];
	while (true)
	{
		word32 eax_32;
		if (dwLoc10_10 == 0x00)
			break;
		if (Mem0[dwLoc10_10 + 0x04:word32] == dwArg14 && (Mem0[dwLoc10_10 + 0x00:word32] != 0x01 && (Mem0[dwLoc10_10 + 0x08:word32] == 0x00 || strcasecmp(Mem0[Mem0[dwLoc10_10 + 0x08:word32] + 0x00:word32], dwArg04) == 0x00)) && ((Mem0[dwLoc10_10 + 0x0C:word32] == 0x00 || Mem0[dwLoc10_10 + 0x0C:word32] == dwArg08) && ((Mem0[dwLoc10_10 + 0x14:word32] == 0x00 || (dwArg10 == 0x00 || strcmp(Mem0[Mem0[dwLoc10_10 + 0x14:word32] + 0x00:word32], dwArg10) == 0x00)) && (Mem0[dwLoc10_10 + 0x10:word32] == 0x00 || (dwArg0C == 0x00 || strcmp(Mem0[Mem0[dwLoc10_10 + 0x10:word32] + 0x00:word32], dwArg0C) == 0x00)))))
		{
			eax_32 = dwLoc10_10;
			return eax_32;
		}
		dwLoc10_10 = Mem0[dwLoc10_10 + 0x1C:word32];
	}
	eax_32 = 0x00;
	return eax_32;
}

// 0807A0BE: Register word32 find_auth_user_passwd(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 find_auth_user_passwd(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 eax_28;
	if (Mem0[dwArg04 + 0x04:word32] != 0x00 && Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		word32 eax_74 = Mem0[dwArg04 + 0x04:word32];
		Strnew_charp(eax_74, eax_74);
		Mem77[dwArg0C + 0x00:word32] = eax_74;
		word32 eax_79 = Mem77[dwArg04 + 0x08:word32];
		Strnew_charp(eax_79, eax_79);
		Mem82[dwArg10 + 0x00:word32] = eax_79;
		eax_28 = 0x01;
	}
	else
	{
		word32 eax_52 = find_auth_pass_entry(Mem0[dwArg04 + 0x0C:word32], Mem0[dwArg04 + 0x10:word32], dwArg08, Mem0[dwArg04 + 0x04:word32], dwArg14);
		if (eax_52 != 0x00)
		{
			Mem60[dwArg0C + 0x00:word32] = Mem0[eax_52 + 0x14:word32];
			Mem65[dwArg10 + 0x00:word32] = Mem60[eax_52 + 0x18:word32];
			eax_28 = 0x01;
		}
		else
			eax_28 = 0x00;
	}
	return eax_28;
}

// 0807A167: void add_auth_user_passwd(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void add_auth_user_passwd(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	memset(fp - 44, 0x00, 0x20);
	word32 eax_19 = Mem0[dwArg04 + 0x0C:word32];
	Strnew_charp(eax_19, eax_19);
	Strnew_charp(dwArg08, dwArg08);
	add_auth_pass_entry(fp - 44, 0x00, 0x01);
}

// 0807A1DF: void invalidate_auth_user_passwd(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg14)
void invalidate_auth_user_passwd(word32 dwArg04, word32 dwArg08, word32 dwArg14)
{
	word32 eax_23 = find_auth_pass_entry(Mem0[dwArg04 + 0x0C:word32], Mem0[dwArg04 + 0x10:word32], dwArg08, 0x00, dwArg14);
	if (eax_23 != 0x00)
		Mem32[eax_23 + 0x00:word32] = 0x01;
}

// 0807A227: Register word32 next_token(Stack word32 dwArg04)
word32 next_token(word32 dwArg04)
{
	word32 eax_21;
	word32 dwLoc10_65 = 0x00;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		word32 dwLoc18_116 = Mem0[dwArg04 + 0x00:word32] + 0x01;
		while ((byte) (word32) Mem0[dwLoc18_116 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc18_116 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
			dwLoc18_116 = dwLoc18_116 + 0x01;
		if ((byte) (word32) Mem0[dwLoc18_116 + 0x00:byte] != 0x00)
		{
			Mem69[dwLoc18_116 + 0x00:byte] = 0x00;
			word32 dwLoc18_102 = dwLoc18_116 + 0x00;
			while ((byte) (word32) Mem69[dwLoc18_102 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem69[(word32) ((byte) ((word32) Mem69[dwLoc18_102 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				dwLoc18_102 = dwLoc18_102 + 0x01;
			if ((byte) (word32) Mem69[dwLoc18_102 + 0x00:byte] != 0x00)
			{
				Strnew_charp(dwLoc18_102, dwLoc18_102);
				dwLoc10_65 = dwLoc18_102;
			}
		}
		eax_21 = dwLoc10_65;
	}
	else
		eax_21 = 0x00;
	return eax_21;
}

// 0807A2E1: void parsePasswd(Stack word32 dwArg04, Stack word32 dwArg08)
void parsePasswd(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_100 = 0x00;
	word32 esp_12;
	word32 ebp_13;
	byte SCZO_14;
	word32 eax_15;
	byte Z_16;
	byte SZO_17;
	byte C_18;
	byte al_19;
	!bzero();
	while (true)
	{
		if (dwLoc10_100 == 0x00 || Mem0[dwLoc10_100 + 0x04:word32] == 0x00)
		{
			Strfgets(dwArg04, dwArg04);
			dwLoc10_100 = dwArg04;
		}
		if (Mem0[dwLoc10_100 + 0x04:word32] == 0x00)
			break;
		Strchop(dwLoc10_100);
		Strremovefirstspaces(dwLoc10_100);
		word32 eax_70 = Mem0[dwLoc10_100 + 0x00:word32];
		if ((byte) (word32) Mem0[eax_70 + 0x00:byte] != 0x23)
		{
			byte al_103 = (byte) (word32) Mem0[eax_70 + 0x00:byte];
			if (al_103 == 0x00)
				goto l0807A37E;
			word32 eax_109 = next_token(dwLoc10_100);
			if (strcmp(eax_70, 0x080CAE4C) != 0x00 && (strcmp(eax_70, 135048788) != 0x00 && (dwArg08 == 0x00 || strcmp(eax_70, 0x080CAE59) != 0x00)))
			{
				if (dwArg08 == 0x00 && (strcmp(eax_70, 135048801) == 0x00 && eax_109 != 0x00))
				{
					dwLoc10_100 = next_token(eax_109);
					atoi(Mem0[eax_109 + 0x00:word32]);
				}
				else if (dwArg08 == 0x00 && strcmp(eax_70, 0x080CAE66) == 0x00)
					dwLoc10_100 = eax_109;
				else if (dwArg08 == 0x00 && strcmp(eax_70, 0x080CAE6C) == 0x00)
					dwLoc10_100 = next_token(eax_109);
				else if (dwArg08 == 0x00 && strcmp(eax_70, 0x080CAE71) == 0x00)
					dwLoc10_100 = 0x00;
				else
				{
					if (strcmp(eax_70, 0x080CAE77) == 0x00)
					{
						dwLoc10_100 = next_token(eax_109);
						continue;
					}
					if (strcmp(eax_70, 0x080CAE7D) != 0x00 && strcmp(eax_70, 0x080CAE86) != 0x00)
					{
						if (dwArg08 != 0x00 && strcmp(eax_70, 0x080CAE8D) == 0x00)
						{
							do
								Strfgets(dwArg04, dwArg04);
							while (Mem0[dwArg04 + 0x04:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x0A);
							dwLoc10_100 = 0x00;
						}
						else
						{
							if (dwArg08 == 0x00 || strcmp(eax_70, 135048853) != 0x00)
							{
								dwLoc10_100 = 0x00;
								continue;
							}
							dwLoc10_100 = next_token(eax_109);
						}
					}
					else
						dwLoc10_100 = next_token(eax_109);
				}
			}
			else
			{
				add_auth_pass_entry(fp - 0x38, dwArg08, 0x00);
				word32 esp_126;
				word32 ebp_127;
				byte SCZO_128;
				word32 eax_129;
				byte Z_130;
				byte SZO_131;
				byte C_132;
				byte al_133;
				!bzero();
				if (strcmp(eax_70, 0x080CAE59) != 0x00)
					dwLoc10_100 = next_token(eax_109);
				else
					dwLoc10_100 = eax_109;
			}
		}
		else
		{
l0807A37E:
			dwLoc10_100 = 0x00;
		}
	}
	add_auth_pass_entry(fp - 0x38, dwArg08, 0x00);
}

// 0807A631: Register word32 openSecretFile(Register word32 ebp, Stack word32 dwArg04)
word32 openSecretFile(word32 ebp, word32 dwArg04)
{
	word32 eax_22;
	if (dwArg04 == 0x00)
		eax_22 = 0x00;
	else
	{
		word32 eax_44 = expandPath(dwArg04);
		if (stat(eax_44, fp - 0x68) < 0x00)
			eax_22 = 0x00;
		else if (Mem0[135774956:word32] == 0x00 && (dwLoc58 & 0x3F) != 0x00)
		{
			word32 eax_75 = (word32) Mem0[135774799:byte];
			byte al_76 = (byte) eax_75;
			if (al_76 != 0x00)
			{
				byte bpl_100;
				word32 eax_102 = Mem0[Sprintf(0x080CAEA0, out bpl_100) + 0x00:word32];
				Mem103[fp - 116 + 0x00:word32] = 0x00;
				Mem104[fp - 0x78 + 0x00:word32] = 0x00;
				Mem105[fp - 0x7C + 0x00:word32] = eax_102;
				message(dwArg00, dwArg04, dwArg08);
				refresh(fp - 0x04);
			}
			else
			{
				word32 eax_109 = Mem0[0x0817C1E4:word32];
				byte bpl_114;
				word32 eax_116 = Mem0[Sprintf(0x080CAEA0, out bpl_114) + 0x00:word32];
				Mem117[fp - 0x78 + 0x00:word32] = eax_109;
				Mem118[fp - 0x7C + 0x00:word32] = eax_116;
				fputs(Mem118[fp - 0x7C + 0x00:(ptr char)], Mem118[fp - 0x78 + 0x00:(ptr FILE)]);
				Mem121[fp - 0x78 + 0x00:word32] = Mem118[0x0817C1E4:word32];
				Mem122[fp - 0x7C + 0x00:word32] = 0x0A;
				fputc(Mem122[fp - 0x7C + 0x00:int8], Mem122[fp - 0x78 + 0x00:(ptr FILE)]);
			}
			Mem82[fp - 0x7C + 0x00:word32] = 0x02;
			word32 esp_83;
			word32 ebp_84;
			word32 ebx_85;
			byte SCZO_86;
			byte Z_87;
			word32 eax_88;
			word32 edx_89;
			byte SZO_90;
			byte C_91;
			byte S_92;
			byte al_93;
			byte bpl_94;
			!sleep();
			eax_22 = 0x00;
		}
		else
			eax_22 = fopen(eax_44, 0x080CAED8);
	}
	return eax_22;
}

// 0807A73A: void loadPasswd(Register word32 ebp)
void loadPasswd(word32 ebp)
{
	Mem8[135776748:word32] = 0x00;
	Mem12[fp - 0x10 + 0x00:word32] = openSecretFile(fp - 0x04, Mem8[135090988:word32]);
	if (Mem12[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem32[fp - 0x28 + 0x00:word32] = 0x00;
		Mem34[fp - 44 + 0x00:word32] = Mem32[fp - 0x10 + 0x00:word32];
		parsePasswd(dwArg00, dwArg04);
		Mem36[fp - 44 + 0x00:word32] = Mem34[fp - 0x10 + 0x00:word32];
		fclose(Mem36[fp - 44 + 0x00:(ptr FILE)]);
	}
	Mem15[fp - 44 + 0x00:word32] = 0x080CAEDA;
	Mem18[fp - 0x10 + 0x00:word32] = openSecretFile(fp - 0x04, dwArg00);
	if (Mem18[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem25[fp - 0x28 + 0x00:word32] = 0x01;
		Mem27[fp - 44 + 0x00:word32] = Mem25[fp - 0x10 + 0x00:word32];
		parsePasswd(dwArg00, dwArg04);
		Mem30[fp - 44 + 0x00:word32] = Mem27[fp - 0x10 + 0x00:word32];
		fclose(Mem30[fp - 44 + 0x00:(ptr FILE)]);
	}
}

// 0807A7B3: Register word32 last_modified(Stack word32 dwArg04)
word32 last_modified(word32 dwArg04)
{
	word32 eax_24;
	if (Mem0[dwArg04 + 0xD8:word32] != 0x00)
	{
		word32 dwLoc10_31 = Mem0[Mem0[dwArg04 + 0xD8:word32] + 0x00:word32];
		while (dwLoc10_31 != 0x00)
		{
			if (strncasecmp(Mem0[dwLoc10_31 + 0x00:word32], 0x080CAEE3, 0x0F) == 0x00)
			{
				eax_24 = Mem0[dwLoc10_31 + 0x00:word32] + 0x0F;
				return eax_24;
			}
			dwLoc10_31 = Mem0[dwLoc10_31 + 0x04:word32];
		}
		eax_24 = 0x080CAEF3;
	}
	else if (Mem0[dwArg04 + 0x84:word32] == 0x04)
	{
		if (stat(Mem0[dwArg04 + 0x98:word32], fp - 0x68) < 0x00)
			eax_24 = 0x080CAEF3;
		else
		{
			word32 esp_82;
			word32 ebp_83;
			byte SCZO_84;
			byte SZO_86;
			byte C_87;
			byte Z_88;
			word32 edx_89;
			byte S_90;
			!ctime();
		}
	}
	else
		eax_24 = 0x080CAEF3;
	return eax_24;
}

// 0807A85F: Register word32 romanNum2(Register word32 eax, Stack word32 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 romanNum2(word32 eax, word32 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	Strnew(eax);
	if (dwArg08 >u 0x09)
	{
		word32 ebp_35;
		*ebpOut = ebp;
		word32 esp_36;
		*espOut = fp;
		return eax;
	}
	else
	{
		word32 eax_25 = 0x080CAEFC[dwArg08 * 0x04];
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		word32 eax_30;
		byte CZ_31;
		bcuiposr0 None_32;
		eax_25();
		return eax_30;
	}
}

// 0807AAFB: void romanNumeral(Register word32 eax, Register word32 ebp, Stack word32 dwArg04)
void romanNumeral(word32 eax, word32 ebp, word32 dwArg04)
{
	Strnew(eax);
	if (dwArg04 > 0x00)
	{
		if (dwArg04 > 3999)
			Strcat_charp(eax, 0x080CAF24);
		else
		{
			word32 ecx_51 = 4294967 - (dwArg04 >> 0x1F);
			word32 esp_56;
			word32 ebp_57;
			word32 eax_58 = romanNum2(ecx_51, ecx_51, out esp_56, out ebp_57);
			Mem59[esp_56 + 0x04:word32] = eax_58;
			Mem61[esp_56 + 0x00:word32] = Mem59[ebp_57 - 0x0C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			word32 ebx_63 = Mem61[ebp_57 + 0x08:word32];
			word32 ecx_82 = 42949672 - (ebx_63 - (4294967 - (ebx_63 >> 0x1F)) *s 1000 >> 0x1F);
			Mem85[esp_56 + 0x04:word32] = ecx_82;
			Mem86[esp_56 + 0x00:word32] = 0x02;
			word32 esp_87;
			word32 ebp_88;
			word32 eax_89 = romanNum2(ecx_82, dwArg04, out esp_87, out ebp_88);
			Mem90[esp_87 + 0x04:word32] = eax_89;
			Mem92[esp_87 + 0x00:word32] = Mem90[ebp_88 - 0x0C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			word32 ebx_93 = Mem92[ebp_88 + 0x08:word32];
			word32 ecx_112 = 0x19999999 - (ebx_93 - (42949672 - (ebx_93 >> 0x1F)) *s 100 >> 0x1F);
			Mem115[esp_87 + 0x04:word32] = ecx_112;
			Mem116[esp_87 + 0x00:word32] = 0x01;
			word32 esp_117;
			word32 ebp_118;
			word32 eax_119 = romanNum2(ecx_112, dwArg04, out esp_117, out ebp_118);
			Mem120[esp_117 + 0x04:word32] = eax_119;
			Mem122[esp_117 + 0x00:word32] = Mem120[ebp_118 - 0x0C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			word32 ecx_123 = Mem122[ebp_118 + 0x08:word32];
			word32 eax_134 = (0x19999999 - (ecx_123 >> 0x1F)) * 0x05 * 0x02;
			Mem138[esp_117 + 0x04:word32] = ecx_123 - eax_134;
			Mem139[esp_117 + 0x00:word32] = 0x00;
			word32 esp_140;
			word32 ebp_141;
			word32 eax_142 = romanNum2(eax_134, dwArg04, out esp_140, out ebp_141);
			Mem143[esp_140 + 0x04:word32] = eax_142;
			Mem145[esp_140 + 0x00:word32] = Mem143[ebp_141 - 0x0C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
	}
}

// 0807AC6D: void romanAlphabet(Register selector gs, Stack word32 dwArg04)
void romanAlphabet(selector gs, word32 dwArg04)
{
	word32 eax_15 = Mem0[gs:0x14:word32];
	Strnew(0x00);
	if (dwArg04 > 0x00)
	{
		word32 dwLoc28_137 = 0x00;
		while (dwArg04 != 0x00)
		{
			word32 ecx_119 = dwArg04 - 0x01;
			Mem135[fp - 0x1E + dwLoc28_137:byte] = (byte) (ecx_119 - (0x09D89D89 - (ecx_119 >> 0x1F)) *s 0x1A + 0x61);
			dwLoc28_137 = dwLoc28_137 + 0x01;
			dwArg04 = 0x09D89D89 - (dwArg04 - 0x01 >> 0x1F);
		}
		word32 dwLoc28_113 = dwLoc28_137 - 0x01;
		while (dwLoc28_113 >= 0x00)
		{
			if (Mem0[0x04:word32] + 0x01 >= Mem0[0x08:word32])
				Strgrow(0x00);
			word32 eax_96 = Mem0[0x04:word32];
			Mem102[Mem0[0x00:word32] + eax_96:byte] = (byte) (word32) Mem0[fp - 0x1E + dwLoc28_113:byte];
			Mem105[0x04:word32] = eax_96 + 0x01;
			Mem111[Mem105[0x00:word32] + Mem105[0x04:word32]:byte] = 0x00;
			dwLoc28_113 = dwLoc28_113 - 0x01;
		}
	}
	if ((eax_15 ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
}

// 0807AD75: void reset_signals()
void reset_signals()
{
	mySignal(0x01, 0x00);
	mySignal(0x02, 0x00);
	mySignal(0x03, 0x00);
	mySignal(0x0F, 0x00);
	mySignal(0x04, 0x00);
	mySignal(0x06, 0x00);
	mySignal(0x08, 0x00);
	mySignal(0x07, 0x00);
	mySignal(0x11, 0x01);
	mySignal(0x0D, 0x01);
}

// 0807AE45: void close_all_fds_except(Stack word32 dwArg04, Stack word32 dwArg08)
void close_all_fds_except(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x01)
	{
		if (dwArg04 == 0x02)
		{
l0807AEA4:
			word32 eax_44 = open(135048999, 0x01);
			word32 esp_49;
			word32 ebp_50;
			byte SCZO_51;
			word32 eax_52;
			byte Z_53;
			byte SZO_54;
			byte C_55;
			!dup2();
			goto l0807AEC8;
		}
		if (dwArg04 != 0x00)
		{
l0807AEC8:
			word32 dwArg04_20 = 0x03;
			while (dwArg04_20 <= 0x0F)
			{
				if (dwArg04_20 != dwArg08)
					close(dwArg04_20);
				dwArg04_20 = dwArg04_20 + 0x01;
			}
			return;
		}
		word32 eax_77 = open(135048999, 0x00);
		word32 esp_80;
		word32 ebp_81;
		byte SCZO_82;
		word32 eax_83;
		byte Z_84;
		byte SZO_85;
		byte C_86;
		!dup2();
	}
	word32 eax_58 = open(135048999, 0x01);
	word32 esp_61;
	word32 ebp_62;
	byte SCZO_63;
	word32 eax_64;
	byte Z_65;
	byte SZO_66;
	byte C_67;
	!dup2();
	goto l0807AEA4;
}

// 0807AEF0: void setup_child(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void setup_child(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	reset_signals();
	word32 eax_10 = mySignal(0x02, 0x01);
	if (dwArg04 == 0x00)
	{
		word32 esp_28;
		word32 ebp_29;
		byte SCZO_30;
		byte Z_31;
		word32 eax_32;
		!setpgrp();
	}
	close_tty();
	close_all_fds_except(dwArg08, dwArg0C);
	Mem22[0x0817C250:byte] = 0x01;
	Mem23[135774799:byte] = 0x00;
	Mem24[0x080D52C5:byte] = 0x00;
}

// 0807AF48: Register word32 open_pipe_rw(Stack word32 dwArg04, Stack word32 dwArg08)
word32 open_pipe_rw(word32 dwArg04, word32 dwArg08)
{
	word32 eax_25;
	if (dwArg04 != 0x00)
	{
		word32 esp_234;
		word32 ebp_235;
		byte SCZO_236;
		byte Z_237;
		word32 eax_238;
		byte SZO_239;
		byte C_240;
		byte S_241;
		word32 edx_242;
		!pipe();
		if ((fp - 0x18 & fp - 0x18) < 0x00)
			goto l0807B0CA;
	}
	if (dwArg08 != 0x00)
	{
		word32 esp_220;
		word32 ebp_221;
		byte SCZO_222;
		byte Z_223;
		word32 eax_224;
		byte SZO_225;
		byte C_226;
		byte S_227;
		word32 edx_228;
		!pipe();
		if ((fp - 0x20 & fp - 0x20) < 0x00)
			goto l0807B0AB;
	}
	word32 eax_72 = flush_tty();
	word32 esp_74;
	word32 ebp_75;
	byte SCZO_76;
	byte Z_77;
	word32 eax_78;
	byte SZO_79;
	byte C_80;
	byte S_81;
	word32 edx_82;
	!fork();
	if (eax_78 >= 0x00)
	{
		if (eax_78 == 0x00)
		{
			if (dwArg04 != 0x00)
			{
				close(dwLoc18);
				word32 esp_135;
				word32 ebp_136;
				byte SCZO_137;
				byte Z_138;
				word32 eax_139;
				byte SZO_140;
				byte C_141;
				byte S_142;
				word32 edx_143;
				!dup2();
			}
			if (dwArg08 != 0x00)
			{
				close(dwLoc1C);
				word32 esp_120;
				word32 ebp_121;
				byte SCZO_122;
				byte Z_123;
				word32 eax_124;
				byte SZO_125;
				byte C_126;
				byte S_127;
				word32 edx_128;
				!dup2();
			}
		}
		else
		{
			if (dwArg04 != 0x00)
			{
				close(dwLoc14);
				word32 edx_188 = Mem0[dwArg04 + 0x00:word32];
				if (edx_188 == Mem0[135774740:word32])
				{
					word32 esp_195;
					word32 ebp_196;
					byte SCZO_197;
					byte Z_198;
					word32 eax_199;
					byte SZO_200;
					byte C_201;
					byte S_202;
					word32 edx_203;
					!dup2();
				}
				else
					Mem209[dwArg04 + 0x00:word32] = fdopen(dwLoc18, 0x080CAED8);
			}
			if (dwArg08 != 0x00)
			{
				close(dwLoc20);
				word32 edx_162 = Mem0[dwArg08 + 0x00:word32];
				if (edx_162 == Mem0[0x0817C220:word32])
				{
					word32 esp_169;
					word32 ebp_170;
					byte SCZO_171;
					byte Z_172;
					word32 eax_173;
					byte SZO_174;
					byte C_175;
					byte S_176;
					word32 edx_177;
					!dup2();
				}
				else
					Mem183[dwArg08 + 0x00:word32] = fdopen(dwLoc1C, 135049009);
			}
		}
		eax_25 = eax_78;
		return eax_25;
	}
	if (dwArg08 != 0x00)
	{
		close(dwLoc20);
		close(dwLoc1C);
	}
l0807B0AB:
	if (dwArg04 != 0x00)
	{
		close(dwLoc18);
		close(dwLoc14);
	}
l0807B0CA:
	eax_25 = ~0x00;
	return eax_25;
}

// 0807B0D1: void myExec(Stack word32 dwArg04)
void myExec(word32 dwArg04)
{
	mySignal(0x02, 0x00);
	word32 esp_18;
	word32 ebp_19;
	byte SCZO_20;
	word32 eax_21;
	!execl();
	exit(0x7F);
}

// 0807B122: void mySystem(Stack word32 dwArg04, Stack word32 dwArg08)
void mySystem(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 != 0x00)
	{
		word32 eax_21 = flush_tty();
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte Z_30;
		word32 eax_31;
		byte SZO_32;
		byte C_33;
		!fork();
		if (eax_31 == 0x00)
		{
			setup_child(0x00, 0x00, ~0x00);
			myExec(dwArg04);
		}
	}
	else
	{
		word32 esp_45;
		word32 ebp_46;
		byte SCZO_47;
		byte Z_48;
		word32 eax_49;
		byte SZO_50;
		byte C_51;
		!system();
	}
}

// 0807B172: Register word32 myExtCommand(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 myExtCommand(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc10_139 = 0x00;
	word32 dwLoc18_144 = 0x00;
	word32 dwLoc14_12 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] == 0x25 && ((byte) ((word32) Mem0[dwLoc14_12 + 0x01:byte]) == 115 && dwLoc18_144 == 0x00))
		{
			if (dwLoc10_139 == 0x00)
			{
				word32 edx_157;
				dwLoc10_139 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_12 - dwArg04, out edx_157);
			}
			Strcat_charp(dwLoc10_139, dwArg08);
			dwLoc18_144 = 0x01;
			dwLoc14_12 = dwLoc14_12 + 0x01;
		}
		else if (dwLoc10_139 != 0x00)
		{
			if (Mem0[dwLoc10_139 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_139 + 0x08:word32])
				Strgrow(dwLoc10_139);
			word32 eax_108 = Mem0[dwLoc10_139 + 0x04:word32];
			Mem115[Mem0[dwLoc10_139 + 0x00:word32] + eax_108:byte] = (byte) (word32) Mem0[dwLoc14_12 + 0x00:byte];
			Mem118[dwLoc10_139 + 0x04:word32] = eax_108 + 0x01;
			Mem124[Mem118[dwLoc10_139 + 0x00:word32] + Mem118[dwLoc10_139 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_12 = dwLoc14_12 + 0x01;
	}
	if (dwLoc18_144 == 0x00)
	{
		if (dwArg0C != 0x00)
		{
			Strnew_m_charp(dwArg04, 135049030);
			dwLoc10_139 = dwArg04;
		}
		else
		{
			Strnew_m_charp(dwArg04, dwArg04);
			dwLoc10_139 = dwArg04;
		}
	}
	return dwLoc10_139;
}

// 0807B2BD: Register word32 myEditor(Register word32 ebp, Stack word32 dwArg04)
word32 myEditor(word32 ebp, word32 dwArg04)
{
	word32 ebp_43 = fp - 0x04;
	word32 esp_65 = fp - 44;
	while (true)
	{
		byte al_28 = (byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte];
		if (al_28 == 0x00)
			break;
		if ((byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x25 && ((byte) ((word32) Mem0[Mem0[(fp - 0x14) + 0x00:word32] + 0x01:byte]) == 115 && Mem0[(fp - 0x18) + 0x00:word32] == 0x00))
		{
			if (Mem0[fp - 0x10 + 0x00:word32] == 0x00)
			{
				Mem225[fp - 0x28 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] - Mem0[fp + 0x04:word32];
				word32 eax_226 = Mem225[fp + 0x04:word32];
				Mem227[fp - 44 + 0x00:word32] = eax_226;
				word32 edx_228;
				Mem230[fp - 0x10 + 0x00:word32] = Strnew_charp_n(eax_226, dwArg00, dwArg04, out edx_228);
			}
			Mem212[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem214[fp - 44 + 0x00:word32] = Mem212[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem215[fp - 0x18 + 0x00:word32] = 0x01;
			Mem217[fp - 0x14 + 0x00:word32] = Mem215[fp - 0x14 + 0x00:word32] + 0x01;
		}
		else if ((byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x25 && ((byte) ((word32) Mem0[Mem0[(fp - 0x14) + 0x00:word32] + 0x01:byte]) == 100 && (Mem0[(fp - 0x1C) + 0x00:word32] == 0x00 && Mem0[fp + 0x0C:word32] > 0x00)))
		{
			if (Mem0[fp - 0x10 + 0x00:word32] == 0x00)
			{
				Mem193[fp - 0x28 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] - Mem0[fp + 0x04:word32];
				word32 eax_194 = Mem193[fp + 0x04:word32];
				Mem195[fp - 44 + 0x00:word32] = eax_194;
				word32 edx_196;
				Mem198[fp - 0x10 + 0x00:word32] = Strnew_charp_n(eax_194, dwArg00, dwArg04, out edx_196);
			}
			Mem176[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x0C:word32];
			Mem177[fp - 44 + 0x00:word32] = 0x080CAF4A;
			byte bpl_178;
			Mem180[fp - 0x28 + 0x00:word32] = Sprintf(dwArg00, out bpl_178);
			Mem182[fp - 44 + 0x00:word32] = Mem180[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			Mem183[fp - 0x1C + 0x00:word32] = 0x01;
			Mem185[fp - 0x14 + 0x00:word32] = Mem183[fp - 0x14 + 0x00:word32] + 0x01;
		}
		else if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
			{
				Mem160[fp - 44 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_142 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
			Mem149[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_142:byte] = (byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte];
			Mem152[Mem149[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_142 + 0x01;
			Mem158[Mem152[Mem152[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem152[Mem152[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		}
		Mem120[fp - 0x14 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] + 0x01;
	}
	if (Mem0[fp - 0x18 + 0x00:word32] == 0x00)
	{
		if (Mem0[fp - 0x10 + 0x00:word32] == 0x00)
		{
			word32 eax_102 = Mem0[fp + 0x04:word32];
			Mem103[fp - 44 + 0x00:word32] = eax_102;
			Strnew_charp(eax_102, dwArg00);
			Mem104[fp - 0x10 + 0x00:word32] = eax_102;
		}
		if (Mem0[fp - 0x1C + 0x00:word32] == 0x00 && Mem0[fp + 0x0C:word32] > 0x01)
		{
			Mem75[fp - 0x28 + 0x00:word32] = 0x080CAF4D;
			word32 eax_76 = Mem75[fp + 0x04:word32];
			Mem77[fp - 44 + 0x00:word32] = eax_76;
			byte SCZO_80;
			word32 eax_81;
			byte al_82;
			byte SZO_83;
			byte C_84;
			byte Z_85;
			word32 edx_86;
			word32 ecx_87;
			byte SO_88;
			byte dl_89;
			byte bpl_90;
			!strcasestr();
			if (eax_81 != 0x00)
			{
				Mem95[esp_65 + 0x04:word32] = Mem77[ebp_43 + 0x10:word32];
				Mem96[esp_65 + 0x00:word32] = 0x080CAF50;
				byte bpl_97;
				Mem99[esp_65 + 0x04:word32] = Sprintf(dwArg00, out bpl_97);
				Mem101[esp_65 + 0x00:word32] = Mem99[ebp_43 - 0x0C + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
		}
		Mem66[esp_65 + 0x0C:word32] = 0x00;
		Mem68[esp_65 + 0x08:word32] = Mem66[ebp_43 + 0x0C:word32];
		Mem69[esp_65 + 0x04:word32] = 0x080CAF48;
		Mem71[esp_65 + 0x00:word32] = Mem69[ebp_43 - 0x0C + 0x00:word32];
		Strcat_m_charp(dwArg00);
	}
	return Mem0[ebp_43 - 0x0C + 0x00:word32];
}

// 0807B4A9: Register word32 expandName(Stack word32 dwArg04)
word32 expandName(word32 dwArg04)
{
	word32 eax_148;
	if (dwArg04 == 0x00)
	{
		eax_148 = 0x00;
		return eax_148;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x2F)
	{
		eax_148 = expandPath(dwArg04);
		return eax_148;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x01:byte] == 0x7E)
	{
		byte al_81 = (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x02:byte] + 0x080DB700:byte];
		if (((word32) al_81 & 0x04) != 0x00 && Mem0[135774844:word32] != 0x00)
		{
			word32 dwLoc10_106;
			word32 dwLoc14_102;
			word32 eax_97 = strchr(dwArg04 + 0x02, '/');
			if (eax_97 != 0x00)
			{
				word32 ecx_169 = eax_97 - (dwArg04 + 0x02);
				word32 eax_175 = allocStr(dwArg04 + 0x02, ecx_169);
				word32 esp_177;
				word32 ebp_178;
				byte SCZO_179;
				byte Z_180;
				word32 eax_181;
				byte al_182;
				byte SZO_183;
				byte C_184;
				word32 edx_185;
				word32 ecx_186;
				!getpwnam();
				dwLoc14_102 = eax_181;
				dwLoc10_106 = eax_97;
			}
			else
			{
				word32 esp_192;
				word32 ebp_193;
				byte SCZO_194;
				byte Z_195;
				word32 eax_196;
				byte al_197;
				byte SZO_198;
				byte C_199;
				word32 edx_200;
				word32 ecx_201;
				!getpwnam();
				dwLoc14_102 = eax_196;
				dwLoc10_106 = 0x080CAF55;
			}
			if (dwLoc14_102 != 0x00)
			{
				word32 eax_117 = Mem0[dwLoc14_102 + 0x14:word32];
				Strnew_m_charp(eax_117, eax_117);
				if ((byte) (word32) Mem0[Mem0[135774844:word32] + 0x00:byte] == 0x00 && (byte) ((word32) Mem0[dwLoc10_106 + 0x00:byte]) == 0x2F)
					dwLoc10_106 = dwLoc10_106 + 0x01;
				if (strcmp(Mem0[eax_117 + 0x00:word32], 0x080CAF56) == 0x00 && (byte) ((word32) Mem0[dwLoc10_106 + 0x00:byte]) == 0x2F)
					dwLoc10_106 = dwLoc10_106 + 0x01;
				Strcat_charp(eax_117, dwLoc10_106);
				eax_148 = Mem0[eax_117 + 0x00:word32];
				return eax_148;
			}
		}
	}
	eax_148 = dwArg04;
	return eax_148;
}

// 0807B61E: Register word32 file_to_url(Stack word32 dwArg04)
word32 file_to_url(word32 dwArg04)
{
	word32 eax_11 = expandPath(dwArg04);
	word32 eax_15 = (word32) Mem0[eax_11 + 0x00:byte];
	word32 dwArg04_12 = eax_11;
	if ((byte) eax_15 != 0x2F)
	{
		word32 eax_49 = Mem0[0x08180544:word32];
		Strnew_charp(eax_49, eax_49);
		if (Mem0[eax_49 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem0[Mem0[eax_49 + 0x00:word32] + (Mem0[eax_49 + 0x04:word32] - 0x01):byte]) != 0x2F)
		{
			if (Mem0[eax_49 + 0x04:word32] + 0x01 >= Mem0[eax_49 + 0x08:word32])
				Strgrow(eax_49);
			word32 eax_82 = Mem0[eax_49 + 0x04:word32];
			Mem85[Mem0[eax_49 + 0x00:word32] + eax_82:byte] = 0x2F;
			Mem88[eax_49 + 0x04:word32] = eax_82 + 0x01;
			Mem94[Mem88[eax_49 + 0x00:word32] + Mem88[eax_49 + 0x04:word32]:byte] = 0x00;
		}
		Strcat_charp(eax_49, eax_11);
		eax_15 = Mem0[eax_49 + 0x00:word32];
		dwArg04_12 = eax_15;
	}
	Strnew_charp(eax_15, 0x080CAF58);
	Strcat_charp(eax_15, file_quote(cleanupName(dwArg04_12)));
	return Mem0[eax_15 + 0x00:word32];
}

// 0807B70F: Register word32 url_unquote_conv(Stack word32 dwArg04, Stack word32 dwArg08)
word32 url_unquote_conv(word32 dwArg04, word32 dwArg08)
{
	Strnew_charp(dwArg04, dwArg04);
	word32 eax_18 = Str_url_unquote(dwArg04, 0x00, 0x01);
	if (dwArg08 == 0x00 || dwArg08 == 0x0100)
		dwArg08 = Mem0[0x080D5378:word32];
	Mem28[0x080DC0A0:byte] = 0x02;
	Mem38[fp - 0x14 + 0x00:word32] = convertLine(fp - 0x04, eax_18, fp + 0x08, dwArg08);
	Mem41[0x080DC0A0:byte] = (byte) (word32) Mem38[fp - 0x0D + 0x00:byte];
	return Mem41[Mem41[fp - 0x14 + 0x00:word32] + 0x00:word32];
}

// 0807B7A1: Register word32 tmpfname(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 bplOut)
word32 tmpfname(word32 ebp, word32 dwArg04, word32 dwArg08, ptr32 & bplOut)
{
	135776752[dwArg04 * 0x04] = 135776752[dwArg04 * 0x04] + 0x01;
	byte bpl_35;
	Mem37[fp - 0x10 + 0x00:word32] = Sprintf(0x080CAF7B, out bpl_35);
	word32 eax_39 = Mem37[Mem37[fp - 0x10 + 0x00:word32] + 0x00:word32];
	Mem40[fp - 0x38 + 0x00:word32] = ~0x00;
	Mem41[fp - 0x3C + 0x00:word32] = eax_39;
	word32 eax_43 = allocStr(dwArg00, dwArg04);
	word32 edx_44 = Mem41[0x0818071C:word32];
	Mem45[fp - 0x38 + 0x00:word32] = eax_43;
	Mem46[fp - 0x3C + 0x00:word32] = edx_44;
	pushValue(dwArg00, dwArg04);
	byte bpl_56;
	*bplOut = (byte) Mem46[fp - 0x04 + 0x00:word32];
	return Mem46[fp - 0x10 + 0x00:word32];
}

// 0807B839: Register word32 get_day(Register word32 eax, Stack word32 dwArg04)
word32 get_day(word32 eax, word32 dwArg04)
{
	word32 eax_34;
	Strnew(eax);
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x00)
		eax_34 = ~0x00;
	else
	{
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 edx_108 = Mem0[eax + 0x04:word32];
			word32 eax_112 = Mem0[dwArg04 + 0x00:word32];
			Mem115[Mem0[eax + 0x00:word32] + edx_108:byte] = (byte) (word32) Mem0[eax_112 + 0x00:byte];
			Mem118[eax + 0x04:word32] = edx_108 + 0x01;
			Mem121[dwArg04 + 0x00:word32] = eax_112 + 0x01;
			Mem127[Mem121[eax + 0x00:word32] + Mem121[eax + 0x04:word32]:byte] = 0x00;
		}
		word32 eax_70 = atoi(Mem0[eax + 0x00:word32]);
		if (eax_70 > 0x00 && eax_70 <= 0x1F)
			eax_34 = eax_70;
		else
		{
			Mem78[dwArg04 + 0x00:word32] = eax_16;
			eax_34 = ~0x00;
		}
	}
	return eax_34;
}

// 0807B923: Register word32 get_month(Register word32 eax, Stack word32 dwArg04)
word32 get_month(word32 eax, word32 dwArg04)
{
	word32 eax_36;
	Strnew(eax);
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x00)
		eax_36 = ~0x00;
	else
	{
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 edx_218 = Mem0[eax + 0x04:word32];
			word32 eax_222 = Mem0[dwArg04 + 0x00:word32];
			Mem225[Mem0[eax + 0x00:word32] + edx_218:byte] = (byte) (word32) Mem0[eax_222 + 0x00:byte];
			Mem228[eax + 0x04:word32] = edx_218 + 0x01;
			Mem231[dwArg04 + 0x00:word32] = eax_222 + 0x01;
			Mem237[Mem231[eax + 0x00:word32] + Mem231[eax + 0x04:word32]:byte] = 0x00;
		}
		word32 dwLoc14_104;
		if (Mem0[eax + 0x04:word32] > 0x00)
			dwLoc14_104 = atoi(Mem0[eax + 0x00:word32]);
		else
		{
			while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x04) != 0x00)
			{
				if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
					Strgrow(eax);
				word32 edx_173 = Mem0[eax + 0x04:word32];
				word32 eax_177 = Mem0[dwArg04 + 0x00:word32];
				Mem180[Mem0[eax + 0x00:word32] + edx_173:byte] = (byte) (word32) Mem0[eax_177 + 0x00:byte];
				Mem183[eax + 0x04:word32] = edx_173 + 0x01;
				Mem186[dwArg04 + 0x00:word32] = eax_177 + 0x01;
				Mem192[Mem186[eax + 0x00:word32] + Mem186[eax + 0x04:word32]:byte] = 0x00;
			}
			dwLoc14_104 = 0x01;
			while (dwLoc14_104 <= 0x0C && strncmp(Mem0[eax + 0x00:word32], 0x080D5600[(dwLoc14_104 - 0x01) * 0x04], 0x03) != 0x00)
				dwLoc14_104 = dwLoc14_104 + 0x01;
		}
		if (dwLoc14_104 > 0x00 && dwLoc14_104 <= 0x0C)
			eax_36 = dwLoc14_104;
		else
		{
			Mem93[dwArg04 + 0x00:word32] = eax_16;
			eax_36 = ~0x00;
		}
	}
	return eax_36;
}

// 0807BAE5: Register word32 get_year(Register word32 eax, Stack word32 dwArg04)
word32 get_year(word32 eax, word32 dwArg04)
{
	word32 eax_100;
	Strnew(eax);
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x00)
		eax_100 = ~0x00;
	else
	{
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 edx_125 = Mem0[eax + 0x04:word32];
			word32 eax_129 = Mem0[dwArg04 + 0x00:word32];
			Mem132[Mem0[eax + 0x00:word32] + edx_125:byte] = (byte) (word32) Mem0[eax_129 + 0x00:byte];
			Mem135[eax + 0x04:word32] = edx_125 + 0x01;
			Mem138[dwArg04 + 0x00:word32] = eax_129 + 0x01;
			Mem144[Mem138[eax + 0x00:word32] + Mem138[eax + 0x04:word32]:byte] = 0x00;
		}
		if (Mem0[eax + 0x04:word32] != 0x02 && Mem0[eax + 0x04:word32] != 0x04)
		{
			Mem99[dwArg04 + 0x00:word32] = eax_16;
			eax_100 = ~0x00;
		}
		else
		{
			word32 eax_74 = atoi(Mem0[eax + 0x00:word32]);
			word32 dwLoc14_75 = eax_74;
			if (Mem0[eax + 0x04:word32] == 0x02)
			{
				if (eax_74 > 0x45)
					dwLoc14_75 = eax_74 + 1900;
				else
					dwLoc14_75 = eax_74 + 2000;
			}
			eax_100 = dwLoc14_75;
		}
	}
	return eax_100;
}

// 0807BBFA: Register word32 get_time(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 get_time(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_116;
	Strnew(eax);
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x00)
		eax_116 = ~0x00;
	else
	{
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 edx_306 = Mem0[eax + 0x04:word32];
			word32 eax_310 = Mem0[dwArg04 + 0x00:word32];
			Mem313[Mem0[eax + 0x00:word32] + edx_306:byte] = (byte) (word32) Mem0[eax_310 + 0x00:byte];
			Mem316[eax + 0x04:word32] = edx_306 + 0x01;
			Mem319[dwArg04 + 0x00:word32] = eax_310 + 0x01;
			Mem325[Mem319[eax + 0x00:word32] + Mem319[eax + 0x04:word32]:byte] = 0x00;
		}
		if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x3A)
		{
			Mem74[dwArg04 + 0x00:word32] = eax_16;
			eax_116 = ~0x00;
		}
		else
		{
			Mem83[dwArg08 + 0x00:word32] = atoi(Mem0[eax + 0x00:word32]);
			Mem88[dwArg04 + 0x00:word32] = Mem83[dwArg04 + 0x00:word32] + 0x01;
			Strclear(eax);
			while ((byte) (word32) Mem88[Mem88[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem88[(word32) ((byte) ((word32) Mem88[Mem88[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
			{
				if (Mem88[eax + 0x04:word32] + 0x01 >= Mem88[eax + 0x08:word32])
					Strgrow(eax);
				word32 edx_261 = Mem88[eax + 0x04:word32];
				word32 eax_265 = Mem88[dwArg04 + 0x00:word32];
				Mem268[Mem88[eax + 0x00:word32] + edx_261:byte] = (byte) (word32) Mem88[eax_265 + 0x00:byte];
				Mem271[eax + 0x04:word32] = edx_261 + 0x01;
				Mem274[dwArg04 + 0x00:word32] = eax_265 + 0x01;
				Mem280[Mem274[eax + 0x00:word32] + Mem274[eax + 0x04:word32]:byte] = 0x00;
			}
			if ((byte) (word32) Mem88[Mem88[dwArg04 + 0x00:word32] + 0x00:byte] != 0x3A)
			{
				Mem115[dwArg04 + 0x00:word32] = eax_16;
				eax_116 = ~0x00;
			}
			else
			{
				Mem124[dwArg0C + 0x00:word32] = atoi(Mem88[eax + 0x00:word32]);
				Mem129[dwArg04 + 0x00:word32] = Mem124[dwArg04 + 0x00:word32] + 0x01;
				Strclear(eax);
				while ((byte) (word32) Mem129[Mem129[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem129[(word32) ((byte) ((word32) Mem129[Mem129[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
				{
					if (Mem129[eax + 0x04:word32] + 0x01 >= Mem129[eax + 0x08:word32])
						Strgrow(eax);
					word32 edx_216 = Mem129[eax + 0x04:word32];
					word32 eax_220 = Mem129[dwArg04 + 0x00:word32];
					Mem223[Mem129[eax + 0x00:word32] + edx_216:byte] = (byte) (word32) Mem129[eax_220 + 0x00:byte];
					Mem226[eax + 0x04:word32] = edx_216 + 0x01;
					Mem229[dwArg04 + 0x00:word32] = eax_220 + 0x01;
					Mem235[Mem229[eax + 0x00:word32] + Mem229[eax + 0x04:word32]:byte] = 0x00;
				}
				Mem154[dwArg10 + 0x00:word32] = atoi(Mem129[eax + 0x00:word32]);
				if (Mem154[dwArg08 + 0x00:word32] >= 0x00 && (Mem154[dwArg08 + 0x00:word32] <= 0x17 && (Mem154[dwArg0C + 0x00:word32] >= 0x00 && (Mem154[dwArg0C + 0x00:word32] <= 0x3B && (Mem154[dwArg10 + 0x00:word32] >= 0x00 && Mem154[dwArg10 + 0x00:word32] <= 0x3B)))))
					eax_116 = 0x00;
				else
				{
					Mem166[dwArg04 + 0x00:word32] = eax_16;
					eax_116 = ~0x00;
				}
			}
		}
	}
	return eax_116;
}

// 0807BEB5: void get_zone(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void get_zone(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Strnew(eax);
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x2B || (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) == 0x2D)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 edx_210 = Mem0[eax + 0x04:word32];
			word32 eax_214 = Mem0[dwArg04 + 0x00:word32];
			Mem217[Mem0[eax + 0x00:word32] + edx_210:byte] = (byte) (word32) Mem0[eax_214 + 0x00:byte];
			Mem220[eax + 0x04:word32] = edx_210 + 0x01;
			Mem223[dwArg04 + 0x00:word32] = eax_214 + 0x01;
			Mem229[Mem223[eax + 0x00:word32] + Mem223[eax + 0x04:word32]:byte] = 0x00;
		}
		while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 edx_175 = Mem0[eax + 0x04:word32];
			word32 eax_179 = Mem0[dwArg04 + 0x00:word32];
			Mem182[Mem0[eax + 0x00:word32] + edx_175:byte] = (byte) (word32) Mem0[eax_179 + 0x00:byte];
			Mem185[eax + 0x04:word32] = edx_175 + 0x01;
			Mem188[dwArg04 + 0x00:word32] = eax_179 + 0x01;
			Mem194[Mem188[eax + 0x00:word32] + Mem188[eax + 0x04:word32]:byte] = 0x00;
		}
		if (Mem0[eax + 0x04:word32] == 0x04 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[eax_16 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00 || Mem0[eax + 0x04:word32] == 0x05 && ((byte) ((word32) Mem0[eax_16 + 0x00:byte]) == 0x2B || (byte) ((word32) Mem0[eax_16 + 0x00:byte]) == 0x2D))
		{
			word32 eax_85 = atoi(Mem0[eax + 0x00:word32]);
			Mem97[dwArg08 + 0x00:word32] = 42949672 - (eax_85 >> 0x1F);
			Mem115[dwArg0C + 0x00:word32] = eax_85 - (42949672 - (eax_85 >> 0x1F)) *s 100;
		}
		else
			Mem129[dwArg04 + 0x00:word32] = eax_16;
	}
}

// 0807C094: Register word32 mymktime(Stack word32 dwArg04)
word32 mymktime(word32 dwArg04)
{
	word32 eax_177;
	if (dwArg04 == 0x00 || (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) == 0x00)
	{
		eax_177 = ~0x00;
		return eax_177;
	}
	word32 dwLoc10_197 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x04) != 0x00)
		dwLoc10_197 = dwLoc10_197 + 0x01;
	while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x0C) == 0x00)
		dwLoc10_197 = dwLoc10_197 + 0x01;
	word32 dwLoc1C_107;
	word32 dwLoc14_110;
	word32 dwLoc18_106;
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
	{
		word32 eax_190 = get_day(fp - 0x10, fp - 0x10);
		dwLoc14_110 = eax_190;
		if (eax_190 == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x0C) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		word32 eax_210 = get_month(fp - 0x10, fp - 0x10);
		dwLoc18_106 = eax_210;
		if (eax_210 == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		word32 eax_230 = get_year(fp - 0x10, fp - 0x10);
		dwLoc1C_107 = eax_230;
		if (eax_230 == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		if ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00)
		{
			if (get_time(fp - 0x10, fp - 0x10, fp - 0x20, fp - 0x24, fp - 0x28) == ~0x00)
			{
				eax_177 = ~0x00;
				return eax_177;
			}
			while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00 && ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte]) != 0x2B && (byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte]) != 0x2D)))
				dwLoc10_197 = dwLoc10_197 + 0x01;
			get_zone(fp - 0x10, fp - 0x10, fp - 44, fp - 0x30);
		}
	}
	else
	{
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x0C) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		word32 eax_370 = get_month(fp - 0x10, fp - 0x10);
		dwLoc18_106 = eax_370;
		if (eax_370 == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		word32 eax_390 = get_day(fp - 0x10, fp - 0x10);
		dwLoc14_110 = eax_390;
		if (eax_390 == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		if (get_time(fp - 0x10, fp - 0x10, fp - 0x20, fp - 0x24, fp - 0x28) == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
		while ((byte) (word32) Mem0[dwLoc10_197 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_197 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			dwLoc10_197 = dwLoc10_197 + 0x01;
		word32 eax_435 = get_year(fp - 0x10, fp - 0x10);
		dwLoc1C_107 = eax_435;
		if (eax_435 == ~0x00)
		{
			eax_177 = ~0x00;
			return eax_177;
		}
	}
	word32 v11_115 = dwLoc18_106 - 0x03;
	word32 dwLoc18_116 = v11_115;
	if (v11_115 < 0x00)
	{
		dwLoc18_116 = v11_115 + 0x0C;
		dwLoc1C_107 = dwLoc1C_107 - 0x01;
	}
	word32 eax_123 = dwLoc1C_107 *s 0x05B5;
	word32 eax_124 = eax_123 - 2875248;
	if (eax_123 < 2875248)
		eax_124 = eax_123 - 2875245;
	eax_177 = (dwLoc14_110 + (eax_124 >> 0x02) + ((0x33333333 - (dwLoc18_116 *s 0x99 + 0x02 >> 0x1F)) - 0x02A0)) *s 0x00015180;
	return eax_177;
}

// 0807C4D9: Register word32 FQDN(Stack word32 dwArg04)
word32 FQDN(word32 dwArg04)
{
	word32 eax_130;
	if (dwArg04 == 0x00)
	{
		eax_130 = 0x00;
		return eax_130;
	}
	if (strcasecmp(dwArg04, 0x080CAFBB) == 0x00)
	{
		eax_130 = dwArg04;
		return eax_130;
	}
	word32 dwLoc10_219 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc10_219 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[dwLoc10_219 + 0x00:byte]) != 0x2E)
		dwLoc10_219 = dwLoc10_219 + 0x01;
	byte al_73 = (byte) (word32) Mem0[dwLoc10_219 + 0x00:byte];
	if (al_73 == 0x2E)
	{
		eax_130 = dwArg04;
		return eax_130;
	}
	word32 dwLoc14_144 = Mem0[0x0817C264:word32] * 0x0C + 0x080D8040;
	while (true)
	{
		memset(fp - 0x44, 0x00, 0x20);
		word32 esp_107;
		word32 ebp_108;
		byte SCZO_109;
		byte Z_110;
		word32 eax_111;
		byte SZO_112;
		byte C_113;
		byte al_114;
		word32 ecx_115;
		word32 edx_116;
		!getaddrinfo();
		if (eax_111 != 0x00)
		{
			if (Mem0[dwLoc14_144 + 0x00:word32] == 0x00)
				goto l0807C624;
		}
		else
		{
			word32 dwLoc1C_153 = dwLoc20;
			while (dwLoc1C_153 != 0x00)
			{
				if (Mem0[dwLoc1C_153 + 0x18:word32] != 0x00)
				{
					word32 esp_185;
					word32 ebp_186;
					byte SCZO_187;
					byte Z_188;
					word32 eax_189;
					byte SZO_190;
					byte C_191;
					byte al_192;
					word32 ecx_193;
					word32 edx_194;
					!strdup();
					word32 esp_198;
					word32 ebp_199;
					byte SCZO_200;
					byte Z_201;
					word32 eax_202;
					byte SZO_203;
					byte C_204;
					byte al_205;
					word32 ecx_206;
					word32 edx_207;
					!freeaddrinfo();
					eax_130 = eax_189;
					return eax_130;
				}
				dwLoc1C_153 = Mem0[dwLoc1C_153 + 0x1C:word32];
			}
			word32 esp_162;
			word32 ebp_163;
			byte SCZO_164;
			byte Z_165;
			word32 eax_166;
			byte SZO_167;
			byte C_168;
			byte al_169;
			word32 ecx_170;
			word32 edx_171;
			!freeaddrinfo();
			if (Mem0[dwLoc14_144 + 0x00:word32] == 0x00)
			{
l0807C624:
				eax_130 = 0x00;
				return eax_130;
			}
		}
		dwLoc14_144 = dwLoc14_144 + 0x04;
	}
}

// 0807C62B: Register word32 mySignal(Stack word32 dwArg04, Stack word32 dwArg08)
word32 mySignal(word32 dwArg04, word32 dwArg08)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	word32 eax_14;
	byte Z_15;
	word32 edx_16;
	!sigemptyset();
	word32 esp_30;
	word32 ebp_31;
	byte SCZO_32;
	word32 eax_33;
	byte Z_34;
	word32 edx_35;
	!sigaction();
	return dwLoc0124;
}

// 0807C68C: void set_mark(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void set_mark(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	while (dwArg08 < dwArg0C && Mem0[dwArg04 + 0x28:word32] > dwArg08)
	{
		Mem0[dwArg04 + 0x04:word32][dwArg08 * 0x02] = (word16) ((word32) Mem0[dwArg04 + 0x04:word32][dwArg08 * 0x02] | 0x01);
		dwArg08 = dwArg08 + 0x01;
	}
}

// 0807C6CE: void init_migemo()
void init_migemo()
{
	Mem9[135776808:word32] = Mem0[0x0817C33C:word32];
	Mem11[135775040:word32] = Mem9[135776808:word32];
	if (Mem11[0x0817CA20:word32] != 0x00)
		fclose(Mem11[0x0817CA20:word32]);
	if (Mem11[0x0817CA24:word32] != 0x00)
		fclose(Mem11[0x0817CA24:word32]);
	Mem23[0x0817CA24:word32] = 0x00;
	Mem25[0x0817CA20:word32] = Mem23[0x0817CA24:word32];
	if (Mem25[0x0817CA2C:word32] != 0x00)
	{
		word32 esp_46;
		word32 ebp_47;
		byte SCZO_48;
		word32 eax_49;
		byte SZO_50;
		byte C_51;
		byte Z_52;
		!kill();
	}
	Mem39[0x0817CA2C:word32] = 0x00;
}

// 0807C752: Register word32 open_migemo(Stack word32 dwArg04)
word32 open_migemo(word32 dwArg04)
{
	word32 eax_22;
	Mem11[0x0817CA2C:word32] = open_pipe_rw(0x0817CA20, 0x0817CA24);
	if (Mem11[0x0817CA2C:word32] >= 0x00)
	{
		if (Mem11[0x0817CA2C:word32] == 0x00)
		{
			setup_child(0x00, 0x02, ~0x00);
			myExec(dwArg04);
		}
		eax_22 = 0x01;
	}
	else
	{
		Mem41[0x0817CA2C:word32] = 0x00;
		Mem42[135776808:word32] = 0x00;
		Mem44[135775040:word32] = Mem42[135776808:word32];
		eax_22 = 0x00;
	}
	return eax_22;
}

// 0807C7D7: Register word32 migemostr(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 migemostr(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_103;
	if (Mem0[0x0817CA20:word32] != 0x00 && Mem0[0x0817CA24:word32] != 0x00 || open_migemo(Mem0[0x080D5350:word32]) != 0x00)
	{
		word32 esi_39 = Mem0[0x080D5378:word32];
		word32 ebx_40 = Mem0[135091052:word32];
		Strnew_charp(dwArg04, dwArg04);
		word32 ebx_47;
		word32 ecx_49 = Mem0[wc_Str_conv_strict(dwArg04, ebx_40, esi_39, out ebx_47) + 0x00:word32];
		word32 eax_51 = Mem0[0x0817CA24:word32];
		Mem52[fp - 0x24 + 0x00:word32] = ecx_49;
		Mem53[fp - 0x28 + 0x00:word32] = 0x080CAFC5;
		Mem54[fp - 44 + 0x00:word32] = eax_51;
		fprintf(Mem54[fp - 44 + 0x00:(ptr FILE)], Mem54[fp - 0x28 + 0x00:(ptr char)], Mem54[fp - 0x24 + 0x00:(ptr char)]);
		do
		{
			Mem59[fp - 44 + 0x00:word32] = Mem54[0x0817CA24:word32];
			if (fflush(Mem59[fp - 44 + 0x00:(ptr FILE)]) == 0x00)
			{
				word32 esi_78 = Mem59[135091052:word32];
				word32 ebx_79 = Mem59[0x080D5378:word32];
				word32 eax_80 = Mem59[0x0817CA20:word32];
				Mem81[fp - 44 + 0x00:word32] = eax_80;
				Strfgets(eax_80, dwArg00);
				Mem83[fp - 0x24 + 0x00:word32] = esi_78;
				Mem84[fp - 0x28 + 0x00:word32] = ebx_79;
				Mem85[fp - 44 + 0x00:word32] = eax_80;
				word32 ebx_87;
				Mem89[fp - 0x10 + 0x00:word32] = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_87);
				Mem91[fp - 44 + 0x00:word32] = Mem89[fp - 0x10 + 0x00:word32];
				Strchop(dwArg00);
				if (Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x04:word32] == 0x00)
					break;
				word32 eax_99 = Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem100[fp - 0x28 + 0x00:word32] = Mem91[0x080D5378:word32];
				Mem101[fp - 44 + 0x00:word32] = eax_99;
				eax_103 = conv_search_string(gs, dwArg00, dwArg04);
				return eax_103;
			}
		} while (Mem59[__errno_location() + 0x00:word32] == 0x04);
		init_migemo();
		Mem70[135776808:word32] = 0x00;
		Mem72[135775040:word32] = Mem70[135776808:word32];
		eax_103 = Mem72[fp + 0x04:word32];
	}
	else
		eax_103 = dwArg04;
	return eax_103;
}

// 0807C8F4: Register word32 conv_search_string(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 conv_search_string(selector gs, word32 dwArg04, word32 dwArg08)
{
	if ((byte) (word32) Mem0[0x080D5382:byte] != 0x00 && ((byte) ((word32) Mem0[0x080DC0A4:byte]) == 0x00 && Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xD0:word32] != dwArg08))
		Mem47[fp + 0x04:word32] = wtf_conv_fit(fp - 0x04, gs, dwArg04, Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0xD0:word32]);
	return Mem0[fp + 0x04:word32];
}

// 0807C948: void forwardSearch(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
void forwardSearch(word32 ebp, selector gs, word32 dwArg08)
{
	if (Mem0[135775040:word32] > 0x00)
	{
		word32 ebx_340 = Mem0[135091000:word32];
		word32 eax_343 = migemostr(fp - 0x04, gs, dwArg08);
		Mem344[fp - 0x38 + 0x00:word32] = ebx_340;
		Mem345[fp - 0x3C + 0x00:word32] = eax_343;
		Mem347[fp - 0x10 + 0x00:word32] = regexCompile(dwArg00, dwArg04);
		if (Mem347[fp - 0x10 + 0x00:word32] != 0x00)
		{
			Mem352[fp - 0x38 + 0x00:word32] = Mem347[135091000:word32];
			Mem354[fp - 0x3C + 0x00:word32] = Mem352[fp + 0x08:word32];
			Mem356[fp - 0x10 + 0x00:word32] = regexCompile(dwArg00, dwArg04);
			if (Mem356[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem359[fp - 0x34 + 0x00:word32] = 0x00;
				Mem360[fp - 0x38 + 0x00:word32] = 0x00;
				Mem362[fp - 0x3C + 0x00:word32] = Mem360[fp - 0x10 + 0x00:word32];
				message(dwArg00, dwArg04, dwArg08);
				return;
			}
		}
	}
	else
	{
		Mem369[fp - 0x10 + 0x00:word32] = regexCompile(dwArg08, Mem0[135091000:word32]);
		if (Mem369[fp - 0x10 + 0x00:word32] != 0x00)
		{
			Mem372[fp - 0x34 + 0x00:word32] = 0x00;
			Mem373[fp - 0x38 + 0x00:word32] = 0x00;
			Mem375[fp - 0x3C + 0x00:word32] = Mem373[fp - 0x10 + 0x00:word32];
			message(dwArg00, dwArg04, dwArg08);
			return;
		}
	}
	Mem35[fp - 0x1C + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x10:word32];
	if (Mem35[fp - 0x1C + 0x00:word32] == 0x00)
		return;
	Mem44[fp - 0x28 + 0x00:word32] = Mem35[Mem35[fp + 0x04:word32] + 0x4C:word32];
	if (Mem44[Mem44[fp - 0x1C + 0x00:word32] + 44:word32] != 0x00)
	{
		Mem325[fp - 0x28 + 0x00:word32] = Mem44[fp - 0x28 + 0x00:word32] + Mem44[Mem44[(fp - 0x1C) + 0x00:word32] + 44:word32];
		while (Mem325[Mem325[fp - 0x1C + 0x00:word32] + 44:word32] != 0x00 && Mem325[Mem325[(fp - 0x1C) + 0x00:word32] + 0x10:word32] != 0x00)
			Mem339[fp - 0x1C + 0x00:word32] = Mem325[Mem325[fp - 0x1C + 0x00:word32] + 0x10:word32];
	}
	Mem55[fp - 0x20 + 0x00:word32] = Mem44[fp - 0x1C + 0x00:word32];
	while (Mem55[Mem55[fp - 0x1C + 0x00:word32] + 0x28:word32] > Mem55[(fp - 0x28) + 0x00:word32] && ((word32) ((word16) ((word32) Mem55[Mem55[(fp - 0x1C) + 0x00:word32] + 0x04:word32][Mem55[(fp - 0x28) + 0x00:word32] * 0x02])) & 0x0400) != 0x00)
		Mem320[fp - 0x28 + 0x00:word32] = Mem55[fp - 0x28 + 0x00:word32] + 0x01;
	if (Mem55[Mem55[fp - 0x1C + 0x00:word32] + 0x28:word32] > Mem55[(fp - 0x28) + 0x00:word32])
	{
		word32 eax_226 = Mem55[Mem55[fp - 0x1C + 0x00:word32] + 0x28:word32] - Mem55[(fp - 0x28) + 0x00:word32];
		word32 edx_231 = Mem55[Mem55[fp - 0x1C + 0x00:word32] + 0x00:word32] + Mem55[(fp - 0x28) + 0x00:word32];
		Mem232[fp - 0x34 + 0x00:word32] = 0x00;
		Mem233[fp - 0x38 + 0x00:word32] = eax_226;
		Mem234[fp - 0x3C + 0x00:word32] = edx_231;
		if (regexMatch(dwArg00, dwArg04, dwArg08) == 0x01)
		{
			Mem239[fp - 0x38 + 0x00:word32] = fp - 0x18;
			Mem241[fp - 0x3C + 0x00:word32] = fp - 0x14;
			matchedPosition(dwArg00, dwArg04);
			Mem250[fp - 0x28 + 0x00:word32] = Mem241[fp - 0x14 + 0x00:word32] - Mem241[Mem241[(fp - 0x1C) + 0x00:word32] + 0x00:word32];
			while (Mem250[Mem250[fp - 0x1C + 0x00:word32] + 0x14:word32] <= Mem250[(fp - 0x28) + 0x00:word32] && (Mem250[Mem250[(fp - 0x1C) + 0x00:word32] + 0x0C:word32] != 0x00 && Mem250[Mem250[Mem250[(fp - 0x1C) + 0x00:word32] + 0x0C:word32] + 44:word32] != 0x00))
			{
				Mem302[fp - 0x28 + 0x00:word32] = Mem250[fp - 0x28 + 0x00:word32] - Mem250[Mem250[(fp - 0x1C) + 0x00:word32] + 0x14:word32];
				Mem306[fp - 0x1C + 0x00:word32] = Mem302[Mem302[fp - 0x1C + 0x00:word32] + 0x0C:word32];
			}
			Mem261[Mem250[fp + 0x04:word32] + 0x4C:word32] = Mem250[fp - 0x28 + 0x00:word32];
			if (Mem261[Mem261[fp + 0x04:word32] + 0x10:word32] != Mem261[(fp - 0x1C) + 0x00:word32])
			{
				Mem285[fp - 0x38 + 0x00:word32] = Mem261[Mem261[fp - 0x1C + 0x00:word32] + 0x1C:word32];
				Mem287[fp - 0x3C + 0x00:word32] = Mem285[fp + 0x04:word32];
				gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
			}
			Mem267[fp - 0x3C + 0x00:word32] = Mem261[fp + 0x04:word32];
			arrangeCursor(fp - 0x04, gs, dwArg00);
			Mem277[fp - 0x34 + 0x00:word32] = Mem267[fp - 0x18 + 0x00:word32] + Mem267[(fp - 0x28) + 0x00:word32] - Mem267[(fp - 0x14) + 0x00:word32];
			Mem279[fp - 0x38 + 0x00:word32] = Mem277[fp - 0x28 + 0x00:word32];
			Mem281[fp - 0x3C + 0x00:word32] = Mem279[fp - 0x1C + 0x00:word32];
			set_mark(dwArg00, dwArg04, dwArg08);
			return;
		}
	}
	Mem78[fp - 0x1C + 0x00:word32] = Mem55[Mem55[fp - 0x1C + 0x00:word32] + 0x0C:word32];
	while (true)
	{
		if (Mem78[fp - 0x1C + 0x00:word32] == 0x00)
		{
			if (Mem78[Mem78[fp + 0x04:word32] + 0x5C:word32] != 0x00)
			{
				Mem199[fp - 0x38 + 0x00:word32] = 0x01;
				Mem201[fp - 0x3C + 0x00:word32] = Mem199[fp + 0x04:word32];
				Mem203[fp - 0x1C + 0x00:word32] = getNextPage(fp - 0x04, gs, dwArg00);
				if (Mem203[fp - 0x1C + 0x00:word32] == 0x00)
				{
					if (Mem203[135774996:word32] == 0x00 || Mem203[(fp - 0x24) + 0x00:word32] != 0x00)
						return;
					Mem214[fp - 0x1C + 0x00:word32] = Mem203[Mem203[fp + 0x04:word32] + 0x08:word32];
					Mem215[fp - 0x24 + 0x00:word32] = 0x01;
				}
			}
			else
			{
				if (Mem78[135774996:word32] == 0x00)
					return;
				Mem222[fp - 0x1C + 0x00:word32] = Mem78[Mem78[fp + 0x04:word32] + 0x08:word32];
				Mem223[fp - 0x24 + 0x00:word32] = 0x01;
			}
		}
		if (Mem78[Mem78[fp - 0x1C + 0x00:word32] + 44:word32] == 0x00)
		{
			word32 edx_104 = Mem78[Mem78[fp - 0x1C + 0x00:word32] + 0x28:word32];
			word32 eax_106 = Mem78[Mem78[fp - 0x1C + 0x00:word32] + 0x00:word32];
			Mem107[fp - 0x34 + 0x00:word32] = 0x01;
			Mem108[fp - 0x38 + 0x00:word32] = edx_104;
			Mem109[fp - 0x3C + 0x00:word32] = eax_106;
			if (regexMatch(dwArg00, dwArg04, dwArg08) == 0x01)
			{
				Mem117[fp - 0x38 + 0x00:word32] = fp - 0x18;
				Mem119[fp - 0x3C + 0x00:word32] = fp - 0x14;
				matchedPosition(dwArg00, dwArg04);
				Mem128[fp - 0x28 + 0x00:word32] = Mem119[fp - 0x14 + 0x00:word32] - Mem119[Mem119[(fp - 0x1C) + 0x00:word32] + 0x00:word32];
				while (Mem128[Mem128[fp - 0x1C + 0x00:word32] + 0x14:word32] <= Mem128[(fp - 0x28) + 0x00:word32] && (Mem128[Mem128[(fp - 0x1C) + 0x00:word32] + 0x0C:word32] != 0x00 && Mem128[Mem128[Mem128[(fp - 0x1C) + 0x00:word32] + 0x0C:word32] + 44:word32] != 0x00))
				{
					Mem184[fp - 0x28 + 0x00:word32] = Mem128[fp - 0x28 + 0x00:word32] - Mem128[Mem128[(fp - 0x1C) + 0x00:word32] + 0x14:word32];
					Mem188[fp - 0x1C + 0x00:word32] = Mem184[Mem184[fp - 0x1C + 0x00:word32] + 0x0C:word32];
				}
				Mem139[Mem128[fp + 0x04:word32] + 0x4C:word32] = Mem128[fp - 0x28 + 0x00:word32];
				Mem142[Mem139[fp + 0x04:word32] + 0x10:word32] = Mem139[fp - 0x1C + 0x00:word32];
				Mem145[fp - 0x38 + 0x00:word32] = Mem142[Mem142[fp - 0x1C + 0x00:word32] + 0x1C:word32];
				Mem147[fp - 0x3C + 0x00:word32] = Mem145[fp + 0x04:word32];
				gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
				Mem150[fp - 0x3C + 0x00:word32] = Mem147[fp + 0x04:word32];
				arrangeCursor(fp - 0x04, gs, dwArg00);
				Mem160[fp - 0x34 + 0x00:word32] = Mem150[fp - 0x18 + 0x00:word32] + Mem150[(fp - 0x28) + 0x00:word32] - Mem150[(fp - 0x14) + 0x00:word32];
				Mem162[fp - 0x38 + 0x00:word32] = Mem160[fp - 0x28 + 0x00:word32];
				Mem164[fp - 0x3C + 0x00:word32] = Mem162[fp - 0x1C + 0x00:word32];
				set_mark(dwArg00, dwArg04, dwArg08);
				return;
			}
			if (Mem109[fp - 0x24 + 0x00:word32] != 0x00 && Mem109[(fp - 0x1C) + 0x00:word32] == Mem109[(fp - 0x20) + 0x00:word32])
				return;
		}
		Mem102[fp - 0x1C + 0x00:word32] = Mem78[Mem78[fp - 0x1C + 0x00:word32] + 0x0C:word32];
	}
}

// 0807CD41: void backwardSearch(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
void backwardSearch(word32 ebp, selector gs, word32 dwArg08)
{
	if (Mem0[135775040:word32] > 0x00)
	{
		word32 ebx_503 = Mem0[135091000:word32];
		word32 eax_506 = migemostr(fp - 0x04, gs, dwArg08);
		Mem507[fp - 0x48 + 0x00:word32] = ebx_503;
		Mem508[fp - 0x4C + 0x00:word32] = eax_506;
		Mem510[fp - 0x10 + 0x00:word32] = regexCompile(dwArg00, dwArg04);
		if (Mem510[fp - 0x10 + 0x00:word32] != 0x00)
		{
			Mem515[fp - 0x48 + 0x00:word32] = Mem510[135091000:word32];
			Mem517[fp - 0x4C + 0x00:word32] = Mem515[fp + 0x08:word32];
			Mem519[fp - 0x10 + 0x00:word32] = regexCompile(dwArg00, dwArg04);
			if (Mem519[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem522[fp - 0x44 + 0x00:word32] = 0x00;
				Mem523[fp - 0x48 + 0x00:word32] = 0x00;
				Mem525[fp - 0x4C + 0x00:word32] = Mem523[fp - 0x10 + 0x00:word32];
				message(dwArg00, dwArg04, dwArg08);
				return;
			}
		}
	}
	else
	{
		Mem532[fp - 0x10 + 0x00:word32] = regexCompile(dwArg08, Mem0[135091000:word32]);
		if (Mem532[fp - 0x10 + 0x00:word32] != 0x00)
		{
			Mem535[fp - 0x44 + 0x00:word32] = 0x00;
			Mem536[fp - 0x48 + 0x00:word32] = 0x00;
			Mem538[fp - 0x4C + 0x00:word32] = Mem536[fp - 0x10 + 0x00:word32];
			message(dwArg00, dwArg04, dwArg08);
			return;
		}
	}
	Mem38[fp - 0x28 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x10:word32];
	if (Mem38[fp - 0x28 + 0x00:word32] == 0x00)
		return;
	Mem50[fp - 0x34 + 0x00:word32] = Mem38[Mem38[fp + 0x04:word32] + 0x4C:word32];
	if (Mem50[Mem50[fp - 0x28 + 0x00:word32] + 44:word32] != 0x00)
	{
		Mem488[fp - 0x34 + 0x00:word32] = Mem50[fp - 0x34 + 0x00:word32] + Mem50[Mem50[(fp - 0x28) + 0x00:word32] + 44:word32];
		while (Mem488[Mem488[fp - 0x28 + 0x00:word32] + 44:word32] != 0x00 && Mem488[Mem488[(fp - 0x28) + 0x00:word32] + 0x10:word32] != 0x00)
			Mem502[fp - 0x28 + 0x00:word32] = Mem488[Mem488[fp - 0x28 + 0x00:word32] + 0x10:word32];
	}
	Mem59[fp - 44 + 0x00:word32] = Mem50[fp - 0x28 + 0x00:word32];
	if (Mem59[fp - 0x34 + 0x00:word32] > 0x00)
	{
		Mem278[fp - 0x34 + 0x00:word32] = Mem59[fp - 0x34 + 0x00:word32] - 0x01;
		while (Mem278[fp - 0x34 + 0x00:word32] > 0x00 && ((word32) ((word16) ((word32) Mem278[Mem278[(fp - 0x28) + 0x00:word32] + 0x04:word32][Mem278[(fp - 0x34) + 0x00:word32] * 0x02])) & 0x0400) != 0x00)
			Mem483[fp - 0x34 + 0x00:word32] = Mem278[fp - 0x34 + 0x00:word32] - 0x01;
		Mem295[fp - 0x10 + 0x00:word32] = Mem278[Mem278[fp - 0x28 + 0x00:word32] + 0x00:word32] + Mem278[(fp - 0x34) + 0x00:word32];
		Mem296[fp - 0x18 + 0x00:word32] = 0x00;
		Mem297[fp - 0x1C + 0x00:word32] = 0x00;
		Mem300[fp - 0x14 + 0x00:word32] = Mem297[Mem297[fp - 0x28 + 0x00:word32] + 0x00:word32];
		do
		{
			word32 ebx_320 = Mem300[Mem300[fp - 0x28 + 0x00:word32] + 0x00:word32] + Mem300[Mem300[(fp - 0x28) + 0x00:word32] + 0x28:word32] - Mem300[(fp - 0x14) + 0x00:word32];
			Mem323[fp - 0x44 + 0x00:word32] = (word32) (Mem300[Mem300[fp - 0x28 + 0x00:word32] + 0x00:word32] == Mem300[(fp - 0x14) + 0x00:word32]);
			Mem324[fp - 0x48 + 0x00:word32] = ebx_320;
			Mem326[fp - 0x4C + 0x00:word32] = Mem324[fp - 0x14 + 0x00:word32];
			if (regexMatch(dwArg00, dwArg04, dwArg08) != 0x01)
				break;
			Mem405[fp - 0x48 + 0x00:word32] = fp - 0x24;
			Mem407[fp - 0x4C + 0x00:word32] = fp - 0x20;
			matchedPosition(dwArg00, dwArg04);
			if (Mem407[fp - 0x20 + 0x00:word32] <=u Mem407[(fp - 0x10) + 0x00:word32])
			{
				Mem467[fp - 0x18 + 0x00:word32] = Mem407[fp - 0x20 + 0x00:word32];
				Mem469[fp - 0x1C + 0x00:word32] = Mem467[fp - 0x24 + 0x00:word32];
			}
			if (Mem407[fp - 0x14 + 0x00:word32] - Mem407[Mem407[(fp - 0x28) + 0x00:word32] + 0x00:word32] >= Mem407[Mem407[(fp - 0x28) + 0x00:word32] + 0x28:word32])
				break;
			Mem420[fp - 0x14 + 0x00:word32] = Mem407[fp - 0x14 + 0x00:word32] + 0x01;
			while (Mem420[fp - 0x14 + 0x00:word32] - Mem420[Mem420[(fp - 0x28) + 0x00:word32] + 0x00:word32] < Mem420[Mem420[(fp - 0x28) + 0x00:word32] + 0x28:word32] && ((word32) ((word16) ((word32) Mem420[Mem420[(fp - 0x28) + 0x00:word32] + 0x04:word32][(Mem420[(fp - 0x14) + 0x00:word32] - Mem420[Mem420[(fp - 0x28) + 0x00:word32] + 0x00:word32]) * 0x02])) & 0x0400) != 0x00)
				Mem464[fp - 0x14 + 0x00:word32] = Mem420[fp - 0x14 + 0x00:word32] + 0x01;
		} while (Mem420[fp - 0x14 + 0x00:word32] <=u Mem420[(fp - 0x10) + 0x00:word32]);
		if (Mem326[fp - 0x18 + 0x00:word32] != 0x00)
		{
			Mem348[fp - 0x34 + 0x00:word32] = Mem326[fp - 0x18 + 0x00:word32] - Mem326[Mem326[(fp - 0x28) + 0x00:word32] + 0x00:word32];
			while (Mem348[Mem348[fp - 0x28 + 0x00:word32] + 0x14:word32] <= Mem348[(fp - 0x34) + 0x00:word32] && (Mem348[Mem348[(fp - 0x28) + 0x00:word32] + 0x0C:word32] != 0x00 && Mem348[Mem348[Mem348[(fp - 0x28) + 0x00:word32] + 0x0C:word32] + 44:word32] != 0x00))
			{
				Mem399[fp - 0x34 + 0x00:word32] = Mem348[fp - 0x34 + 0x00:word32] - Mem348[Mem348[(fp - 0x28) + 0x00:word32] + 0x14:word32];
				Mem403[fp - 0x28 + 0x00:word32] = Mem399[Mem399[fp - 0x28 + 0x00:word32] + 0x0C:word32];
			}
			Mem359[Mem348[fp + 0x04:word32] + 0x4C:word32] = Mem348[fp - 0x34 + 0x00:word32];
			if (Mem359[Mem359[fp + 0x04:word32] + 0x10:word32] != Mem359[(fp - 0x28) + 0x00:word32])
			{
				Mem382[fp - 0x48 + 0x00:word32] = Mem359[Mem359[fp - 0x28 + 0x00:word32] + 0x1C:word32];
				Mem384[fp - 0x4C + 0x00:word32] = Mem382[fp + 0x04:word32];
				gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
			}
			Mem365[fp - 0x4C + 0x00:word32] = Mem359[fp + 0x04:word32];
			arrangeCursor(fp - 0x04, gs, dwArg00);
			Mem374[fp - 0x44 + 0x00:word32] = Mem365[fp - 0x34 + 0x00:word32] + Mem365[(fp - 0x1C) + 0x00:word32] - Mem365[(fp - 0x18) + 0x00:word32];
			Mem376[fp - 0x48 + 0x00:word32] = Mem374[fp - 0x34 + 0x00:word32];
			Mem378[fp - 0x4C + 0x00:word32] = Mem376[fp - 0x28 + 0x00:word32];
			set_mark(dwArg00, dwArg04, dwArg08);
			return;
		}
	}
	Mem75[fp - 0x28 + 0x00:word32] = Mem59[Mem59[fp - 0x28 + 0x00:word32] + 0x10:word32];
	while (true)
	{
		if (Mem75[fp - 0x28 + 0x00:word32] == 0x00)
		{
			if (Mem75[135774996:word32] == 0x00)
				return;
			Mem275[fp - 0x28 + 0x00:word32] = Mem75[Mem75[fp + 0x04:word32] + 0x14:word32];
			Mem276[fp - 0x30 + 0x00:word32] = 0x01;
		}
		Mem101[fp - 0x18 + 0x00:word32] = 0x00;
		Mem102[fp - 0x1C + 0x00:word32] = 0x00;
		Mem105[fp - 0x14 + 0x00:word32] = Mem102[Mem102[fp - 0x28 + 0x00:word32] + 0x00:word32];
		while (true)
		{
			word32 ebx_124 = Mem105[Mem105[fp - 0x28 + 0x00:word32] + 0x00:word32] + Mem105[Mem105[(fp - 0x28) + 0x00:word32] + 0x28:word32] - Mem105[(fp - 0x14) + 0x00:word32];
			Mem127[fp - 0x44 + 0x00:word32] = (word32) (Mem105[Mem105[fp - 0x28 + 0x00:word32] + 0x00:word32] == Mem105[(fp - 0x14) + 0x00:word32]);
			Mem128[fp - 0x48 + 0x00:word32] = ebx_124;
			Mem130[fp - 0x4C + 0x00:word32] = Mem128[fp - 0x14 + 0x00:word32];
			if (regexMatch(dwArg00, dwArg04, dwArg08) != 0x01)
				break;
			Mem217[fp - 0x48 + 0x00:word32] = fp - 0x24;
			Mem219[fp - 0x4C + 0x00:word32] = fp - 0x20;
			matchedPosition(dwArg00, dwArg04);
			Mem221[fp - 0x18 + 0x00:word32] = Mem219[fp - 0x20 + 0x00:word32];
			Mem223[fp - 0x1C + 0x00:word32] = Mem221[fp - 0x24 + 0x00:word32];
			if (Mem223[fp - 0x14 + 0x00:word32] - Mem223[Mem223[(fp - 0x28) + 0x00:word32] + 0x00:word32] >= Mem223[Mem223[(fp - 0x28) + 0x00:word32] + 0x28:word32])
				break;
			Mem233[fp - 0x14 + 0x00:word32] = Mem223[fp - 0x14 + 0x00:word32] + 0x01;
			while (Mem233[fp - 0x14 + 0x00:word32] - Mem233[Mem233[(fp - 0x28) + 0x00:word32] + 0x00:word32] < Mem233[Mem233[(fp - 0x28) + 0x00:word32] + 0x28:word32] && ((word32) ((word16) ((word32) Mem233[Mem233[(fp - 0x28) + 0x00:word32] + 0x04:word32][(Mem233[(fp - 0x14) + 0x00:word32] - Mem233[Mem233[(fp - 0x28) + 0x00:word32] + 0x00:word32]) * 0x02])) & 0x0400) != 0x00)
				Mem267[fp - 0x14 + 0x00:word32] = Mem233[fp - 0x14 + 0x00:word32] + 0x01;
		}
		if (Mem130[fp - 0x18 + 0x00:word32] != 0x00)
		{
			Mem149[fp - 0x34 + 0x00:word32] = Mem130[fp - 0x18 + 0x00:word32] - Mem130[Mem130[(fp - 0x28) + 0x00:word32] + 0x00:word32];
			while (Mem149[Mem149[fp - 0x28 + 0x00:word32] + 0x14:word32] <= Mem149[(fp - 0x34) + 0x00:word32] && (Mem149[Mem149[(fp - 0x28) + 0x00:word32] + 0x0C:word32] != 0x00 && Mem149[Mem149[Mem149[(fp - 0x28) + 0x00:word32] + 0x0C:word32] + 44:word32] != 0x00))
			{
				Mem201[fp - 0x34 + 0x00:word32] = Mem149[fp - 0x34 + 0x00:word32] - Mem149[Mem149[(fp - 0x28) + 0x00:word32] + 0x14:word32];
				Mem205[fp - 0x28 + 0x00:word32] = Mem201[Mem201[fp - 0x28 + 0x00:word32] + 0x0C:word32];
			}
			Mem160[Mem149[fp + 0x04:word32] + 0x4C:word32] = Mem149[fp - 0x34 + 0x00:word32];
			Mem163[fp - 0x48 + 0x00:word32] = Mem160[Mem160[fp - 0x28 + 0x00:word32] + 0x1C:word32];
			Mem165[fp - 0x4C + 0x00:word32] = Mem163[fp + 0x04:word32];
			gotoLine(fp - 0x04, gs, dwArg00, dwArg04);
			Mem168[fp - 0x4C + 0x00:word32] = Mem165[fp + 0x04:word32];
			arrangeCursor(fp - 0x04, gs, dwArg00);
			Mem177[fp - 0x44 + 0x00:word32] = Mem168[fp - 0x34 + 0x00:word32] + Mem168[(fp - 0x1C) + 0x00:word32] - Mem168[(fp - 0x18) + 0x00:word32];
			Mem179[fp - 0x48 + 0x00:word32] = Mem177[fp - 0x34 + 0x00:word32];
			Mem181[fp - 0x4C + 0x00:word32] = Mem179[fp - 0x28 + 0x00:word32];
			set_mark(dwArg00, dwArg04, dwArg08);
			return;
		}
		if (Mem130[fp - 0x30 + 0x00:word32] != 0x00 && Mem130[(fp - 0x28) + 0x00:word32] == Mem130[(fp - 44) + 0x00:word32])
			break;
		Mem212[fp - 0x28 + 0x00:word32] = Mem130[Mem130[fp - 0x28 + 0x00:word32] + 0x10:word32];
	}
}

// 0807D230: Register word32 inputLineHistSearch(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 inputLineHistSearch(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Mem10[0x0817D2B0:word32] = 0x00;
	Mem11[135778996:word32] = 0x01;
	Mem14[135779000:word32] = dwArg10;
	word32 ebp_158 = fp - 0x04;
	word32 esp_159 = fp - 0x5C;
	if (dwArg10 != 0x00)
	{
		Mem662[0x0817D2C0:word32] = 0x01;
		Mem663[135779004:word32] = 0x00;
	}
	else
		Mem664[0x0817D2C0:word32] = 0x00;
	if ((dwArg0C & 0x0100) != 0x00)
		Mem640[135778968:word32] = 0x0C;
	else if ((dwArg0C & 0x20) != 0x00)
		Mem646[135778968:word32] = 0x04;
	else if ((dwArg0C & 0x40) != 0x00)
	{
		Mem652[135778968:word32] = 0x00;
		Mem653[0x0817D2B0:word32] = 0x01;
		Mem654[135778996:word32] = 0x00;
	}
	else if ((dwArg0C & 0x80) != 0x00)
		Mem660[135778968:word32] = 0x02;
	else
		Mem661[135778968:word32] = 0x01;
	word32 eax_33 = Mem14[0x081807A0:word32] - 0x02 - wtf_strwidth(dwArg04);
	word32 dwLoc28_34 = eax_33;
	if (eax_33 < 0x00)
		dwLoc28_34 = 0x00;
	Mem61[0x0817D288:word32] = 0x00;
	word32 ecx_56 = 0x55555556 - (dwLoc28_34 * 0x02 >> 0x1F);
	if (dwArg08 != 0x00)
	{
		Strnew_charp(dwArg08, dwArg08);
		Mem627[0x0817CA40:word32] = dwArg08;
		Mem632[0x0817D280:word32] = setStrType(Mem627[0x0817CA40:word32], 0x0817CA60);
		Mem634[135778948:word32] = Mem632[0x0817D280:word32];
	}
	else
	{
		Strnew(ecx_56);
		Mem635[0x0817CA40:word32] = ecx_56;
		Mem636[0x0817D280:word32] = 0x00;
		Mem638[135778948:word32] = Mem636[0x0817D280:word32];
	}
	Mem65[0x0817D28C:word32] = 0x01;
	Mem66[0x0817D290:word32] = 0x00;
	Mem67[0x0817D294:word32] = 0x00;
	Mem68[135778972:word32] = 0x00;
	Mem69[135778980:word32] = ~0x00;
	Mem70[135778988:word32] = 0x00;
	wc_char_conv_init(wc_guess_8bit_charset(Mem70[0x080D5370:word32]), Mem70[135091052:word32]);
	do
	{
		word32 ecx_90 = Mem70[0x0817D280:word32];
		word32 edx_91 = Mem70[135778948:word32];
		word32 eax_93 = Mem70[Mem70[0x0817CA40:word32] + 0x00:word32];
		Mem94[esp_159 + 0x14:word32] = 0x01;
		Mem95[esp_159 + 0x10:word32] = 0x00;
		Mem96[esp_159 + 0x0C:word32] = ecx_90;
		Mem97[esp_159 + 0x08:word32] = edx_91;
		Mem98[esp_159 + 0x04:word32] = 0x0817CA60;
		Mem99[esp_159 + 0x00:word32] = eax_93;
		Mem103[ebp_158 - 0x14 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		if (Mem103[ebp_158 - 0x14 + 0x00:word32] - Mem103[(ebp_158 - 0x20) + 0x00:word32] > Mem103[0x0817D288:word32])
		{
			word32 ecx_560 = Mem103[135778948:word32];
			word32 edx_561 = Mem103[135778948:word32];
			word32 eax_563 = Mem103[Mem103[0x0817CA40:word32] + 0x00:word32];
			Mem564[esp_159 + 0x14:word32] = 0x00;
			Mem565[esp_159 + 0x10:word32] = 0x00;
			Mem566[esp_159 + 0x0C:word32] = ecx_560;
			Mem567[esp_159 + 0x08:word32] = edx_561;
			Mem568[esp_159 + 0x04:word32] = 0x0817CA60;
			Mem569[esp_159 + 0x00:word32] = eax_563;
			Mem571[ebp_158 - 0x18 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
			if (Mem571[ebp_158 - 0x18 + 0x00:word32] - Mem571[(ebp_158 - 0x24) + 0x00:word32] > Mem571[(ebp_158 - 0x14) + 0x00:word32] - Mem571[(ebp_158 - 0x20) + 0x00:word32])
				Mem589[0x0817D288:word32] = Mem571[ebp_158 - 0x14 + 0x00:word32] - Mem571[(ebp_158 - 0x20) + 0x00:word32];
			else if (Mem571[ebp_158 - 0x18 + 0x00:word32] - Mem571[(ebp_158 - 0x24) + 0x00:word32] > 0x00)
				Mem603[0x0817D288:word32] = Mem571[ebp_158 - 0x18 + 0x00:word32] - Mem571[(ebp_158 - 0x24) + 0x00:word32];
		}
		else if (Mem103[ebp_158 - 0x14 + 0x00:word32] - Mem103[(ebp_158 - 0x1C) + 0x00:word32] < Mem103[0x0817D288:word32])
		{
			if (Mem103[ebp_158 - 0x14 + 0x00:word32] - Mem103[(ebp_158 - 0x1C) + 0x00:word32] > 0x00)
				Mem623[0x0817D288:word32] = Mem103[ebp_158 - 0x14 + 0x00:word32] - Mem103[(ebp_158 - 0x1C) + 0x00:word32];
			else
				Mem624[0x0817D288:word32] = 0x00;
		}
		word32 eax_114 = Mem103[0x08180780:word32];
		Mem117[esp_159 + 0x04:word32] = 0x00;
		Mem118[esp_159 + 0x00:word32] = eax_114 - 0x01;
		move(dwArg00, dwArg04);
		Mem120[esp_159 + 0x00:word32] = Mem118[ebp_158 + 0x08:word32];
		addstr(dwArg00);
		if (Mem120[0x0817D2B0:word32] != 0x00)
		{
			word32 ecx_538 = Mem120[0x0817D288:word32];
			word32 edx_539 = Mem120[135778948:word32];
			word32 eax_541 = Mem120[Mem120[0x0817CA40:word32] + 0x00:word32];
			Mem542[esp_159 + 0x10:word32] = Mem120[0x081807A0:word32] - Mem120[(ebp_158 - 0x10) + 0x00:word32];
			Mem543[esp_159 + 0x0C:word32] = ecx_538;
			Mem544[esp_159 + 0x08:word32] = edx_539;
			Mem545[esp_159 + 0x04:word32] = 0x0817CA60;
			Mem546[esp_159 + 0x00:word32] = eax_541;
			addPasswd(ebp_158, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
		}
		else
		{
			word32 ecx_551 = Mem120[0x0817D288:word32];
			word32 edx_552 = Mem120[135778948:word32];
			word32 eax_554 = Mem120[Mem120[0x0817CA40:word32] + 0x00:word32];
			Mem555[esp_159 + 0x10:word32] = Mem120[0x081807A0:word32] - Mem120[(ebp_158 - 0x10) + 0x00:word32];
			Mem556[esp_159 + 0x0C:word32] = ecx_551;
			Mem557[esp_159 + 0x08:word32] = edx_552;
			Mem558[esp_159 + 0x04:word32] = 0x0817CA60;
			Mem559[esp_159 + 0x00:word32] = eax_554;
			addStr(ebp_158, dwArg00, dwArg04, dwArg08, dwArg0C);
		}
		clrtoeolx();
		word32 eax_132 = Mem120[0x08180780:word32];
		Mem135[esp_159 + 0x04:word32] = Mem120[ebp_158 - 0x10 + 0x00:word32] + Mem120[(ebp_158 - 0x14) + 0x00:word32] - Mem120[0x0817D288:word32];
		Mem136[esp_159 + 0x00:word32] = eax_132 - 0x01;
		move(dwArg00, dwArg04);
		refresh(ebp_158);
		while (true)
		{
			byte al_141 = do_getch(gs);
			Mem142[ebp_158 - 0x09 + 0x00:byte] = al_141;
			Mem143[135778976:word32] = 0x01;
			Mem144[135778984:word32] = 0x01;
			if (Mem144[0x0817D294:word32] == 0x00 && ((Mem144[135778968:word32] & 0x04) != 0x00 && (Mem144[(ebp_158 - 0x09) + 0x00:byte] == 0x09 || Mem144[(ebp_158 - 0x09) + 0x00:byte] == 0x20) || (Mem144[135778968:word32] & 0x02) != 0x00 && Mem144[(ebp_158 - 0x09) + 0x00:byte] == 0x09))
				break;
			if (Mem144[0x0817D294:word32] == 0x00 && (Mem144[135778948:word32] == Mem144[0x0817D280:word32] && ((Mem144[135778968:word32] & 0x04) != 0x00 || (Mem144[135778968:word32] & 0x02) != 0x00)) && Mem144[(ebp_158 - 0x09) + 0x00:byte] == 0x04)
			{
				if (Mem144[135774904:word32] == 0x00)
				{
					_dcompl(gs);
					Mem496[135778988:word32] = 0x01;
				}
				goto l0807D862;
			}
			if (Mem144[0x0817D294:word32] == 0x00 && Mem144[(ebp_158 - 0x09) + 0x00:byte] == 0x7F)
			{
				_bs();
				Mem476[135778972:word32] = 0x00;
				Mem477[135778980:word32] = ~0x00;
				goto l0807D862;
			}
			if (Mem144[0x0817D294:word32] == 0x00 && Mem144[(ebp_158 - 0x09) + 0x00:byte] <=u 0x1F)
			{
				if (Mem144[ebp_158 + 0x18:word32] != 0x00)
				{
					word32 edx_449 = Mem144[0x0817CA40:word32];
					word32 eax_450 = (word32) Mem144[ebp_158 - 0x09 + 0x00:byte];
					Mem451[esp_159 + 0x08:word32] = 0x0817CA60;
					Mem452[esp_159 + 0x04:word32] = edx_449;
					Mem453[esp_159 + 0x00:word32] = eax_450;
					word32 eax_454 = Mem453[ebp_158 + 0x18:word32];
					word32 ebx_458;
					byte SCZO_459;
					word32 eax_460;
					byte Z_461;
					byte SZO_462;
					byte C_463;
					byte S_464;
					word32 ecx_465;
					word32 edx_466;
					byte SO_467;
					byte al_468;
					byte CZ_469;
					eax_454();
					Mem471[ebp_158 - 0x09 + 0x00:byte] = al_468;
					if (Mem471[ebp_158 - 0x09 + 0x00:byte] <=u 0x1F)
						goto l0807D750;
				}
				else
				{
l0807D750:
					word32 edx_431 = 0x080D5640[(word32) Mem144[ebp_158 - 0x09 + 0x00:byte] * 0x04];
					word32 eax_432 = (word32) Mem144[ebp_158 - 0x09 + 0x00:byte];
					Mem433[esp_159 + 0x00:word32] = eax_432;
					word32 ebx_436;
					byte SCZO_437;
					word32 eax_438;
					byte Z_439;
					byte SZO_440;
					byte C_441;
					byte S_442;
					word32 ecx_443;
					word32 edx_444;
					byte SO_445;
					byte al_446;
					byte CZ_447;
					edx_431();
				}
				if (Mem144[ebp_158 + 0x18:word32] != 0x00 && (Mem144[(ebp_158 - 0x09) + 0x00:byte] != ~0x00 && Mem144[(ebp_158 - 0x09) + 0x00:byte] != 0x0A))
				{
					word32 eax_408 = Mem144[0x0817CA40:word32];
					Mem409[esp_159 + 0x08:word32] = 0x0817CA60;
					Mem410[esp_159 + 0x04:word32] = eax_408;
					Mem411[esp_159 + 0x00:word32] = ~0x00;
					word32 eax_412 = Mem411[ebp_158 + 0x18:word32];
					word32 ebx_415;
					byte SCZO_416;
					word32 eax_417;
					byte Z_418;
					byte SZO_419;
					byte C_420;
					byte S_421;
					word32 ecx_422;
					word32 edx_423;
					byte SO_424;
					byte al_425;
					byte CZ_426;
					eax_412();
				}
				if (Mem144[135778976:word32] != 0x00)
					Mem403[135778972:word32] = 0x00;
				if (Mem144[135778984:word32] != 0x00)
					Mem402[135778980:word32] = ~0x00;
				goto l0807D862;
			}
			byte al_318 = (byte) (word32) Mem144[ebp_158 - 0x09 + 0x00:byte];
			Mem320[esp_159 + 0x00:word32] = (int32) al_318;
			Mem322[ebp_158 - 44 + 0x00:word32] = wc_char_conv(dwArg00);
			if (Mem322[ebp_158 - 44 + 0x00:word32] != 0x00)
			{
				Mem326[0x0817D294:word32] = 0x00;
				Mem327[135778972:word32] = 0x00;
				Mem328[135778980:word32] = ~0x00;
				word32 edx_330 = Mem328[Mem328[ebp_158 - 44 + 0x00:word32] + 0x04:word32];
				if (edx_330 + Mem328[135778948:word32] > 0x0400 || Mem328[Mem328[(ebp_158 - 44) + 0x00:word32] + 0x04:word32] == 0x00)
					continue;
				Mem341[esp_159 + 0x00:word32] = Mem328[ebp_158 - 44 + 0x00:word32];
				ins_char(dwArg00);
				if (Mem341[ebp_158 + 0x18:word32] != 0x00)
				{
					word32 eax_344 = Mem341[0x0817CA40:word32];
					Mem345[esp_159 + 0x08:word32] = 0x0817CA60;
					Mem346[esp_159 + 0x04:word32] = eax_344;
					Mem347[esp_159 + 0x00:word32] = ~0x00;
					word32 eax_348 = Mem347[ebp_158 + 0x18:word32];
					word32 ebx_351;
					byte SCZO_352;
					word32 eax_353;
					byte Z_354;
					byte SZO_355;
					byte C_356;
					byte S_357;
					word32 ecx_358;
					word32 edx_359;
					byte SO_360;
					byte al_361;
					byte CZ_362;
					eax_348();
				}
				goto l0807D862;
			}
			Mem325[0x0817D294:word32] = 0x01;
		}
		if (Mem144[135774904:word32] != 0x00 && Mem144[135778972:word32] != 0x00)
		{
			_dcompl(gs);
			Mem521[135778988:word32] = 0x01;
		}
		else
		{
			_compl();
			Mem516[135778980:word32] = ~0x00;
		}
l0807D862:
	} while ((Mem144[135778948:word32] == 0x00 || (Mem144[ebp_158 + 0x10:word32] & 0x0200) == 0x00) && Mem144[0x0817D28C:word32] != 0x00);
	if (Mem144[0x08180718:word32] != 0x00 && Mem144[135778988:word32] != 0x00)
	{
		word32 eax_286 = Mem144[Mem144[0x08180718:word32] + 0x08:word32];
		Mem287[esp_159 + 0x04:word32] = 0x01;
		Mem288[esp_159 + 0x00:word32] = eax_286;
		real64 rArg0_289;
		displayBuffer(ebp_158, gs, dwArg00, dwArg04, rArg0, out rArg0_289);
	}
	word32 eax_177;
	if (Mem144[0x0817D290:word32] != 0x00)
	{
		eax_177 = 0x00;
		return eax_177;
	}
	word32 eax_189 = Mem144[0x08180780:word32];
	Mem192[esp_159 + 0x04:word32] = 0x00;
	Mem193[esp_159 + 0x00:word32] = eax_189 - 0x01;
	move(dwArg00, dwArg04);
	refresh(ebp_158);
	Mem197[ebp_158 - 0x28 + 0x00:word32] = Mem193[Mem193[0x0817CA40:word32] + 0x00:word32];
	if ((Mem197[ebp_158 + 0x10:word32] & 0xA0) != 0x00)
	{
		while ((byte) (word32) Mem197[Mem197[ebp_158 - 0x28 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem197[(word32) ((byte) ((word32) Mem197[Mem197[(ebp_158 - 0x28) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			Mem279[ebp_158 - 0x28 + 0x00:word32] = Mem197[ebp_158 - 0x28 + 0x00:word32] + 0x01;
	}
	if (Mem197[0x0817D2C0:word32] != 0x00 && ((Mem197[ebp_158 + 0x10:word32] & 0x0100) == 0x00 && (byte) ((word32) Mem197[Mem197[(ebp_158 - 0x28) + 0x00:word32] + 0x00:byte]) != 0x00))
	{
		Mem239[esp_159 + 0x00:word32] = Mem197[ebp_158 + 0x14:word32];
		Mem241[ebp_158 - 0x30 + 0x00:word32] = lastHist(dwArg00);
		if (Mem241[ebp_158 - 0x30 + 0x00:word32] == 0x00)
		{
l0807D96A:
			Mem248[esp_159 + 0x04:word32] = Mem241[ebp_158 - 0x28 + 0x00:word32];
			Mem250[esp_159 + 0x00:word32] = Mem248[ebp_158 + 0x14:word32];
			pushHist(dwArg00, dwArg04);
			goto l0807D97C;
		}
		Mem253[esp_159 + 0x04:word32] = Mem241[ebp_158 - 0x28 + 0x00:word32];
		Mem255[esp_159 + 0x00:word32] = Mem253[ebp_158 - 0x30 + 0x00:word32];
		if (strcmp(Mem255[esp_159 + 0x00:(ptr char)], Mem255[esp_159 + 0x04:(ptr char)]) != 0x00)
			goto l0807D96A;
	}
l0807D97C:
	if ((Mem197[ebp_158 + 0x10:word32] & 0x20) != 0x00)
	{
		Mem217[esp_159 + 0x00:word32] = Mem197[ebp_158 - 0x28 + 0x00:word32];
		eax_177 = expandPath(dwArg00);
	}
	else
	{
		Mem221[esp_159 + 0x04:word32] = ~0x00;
		Mem223[esp_159 + 0x00:word32] = Mem221[ebp_158 - 0x28 + 0x00:word32];
		eax_177 = allocStr(dwArg00, dwArg04);
	}
	return eax_177;
}

// 0807D9AC: void addPasswd(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void addPasswd(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	if (dwArg10 != 0x00)
	{
		addChar(0x7B, 0x00);
		Mem56[fp - 0x10 + 0x00:word32] = Mem0[fp + 0x10:word32] + 0x01;
	}
	while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[(fp - 0x14) + 0x00:word32])
	{
		Mem45[fp - 0x38 + 0x00:word32] = 0x00;
		Mem46[fp - 0x3C + 0x00:word32] = 0x2A;
		addChar(dwArg00, dwArg04);
		Mem49[fp - 0x10 + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32] + 0x01;
	}
}

// 0807DA4D: void addStr(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void addStr(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	if (dwArg10 != 0x00)
	{
		word32 dwLoc10_132 = 0x00;
		while (dwLoc10_132 < dwArg0C && calcPosition(dwArg04, dwArg08, dwArg0C, dwLoc10_132, 0x00, 0x00) <= dwArg10)
			dwLoc10_132 = dwLoc10_132 + 0x01;
		if (dwLoc10_132 >= dwArg0C)
			return;
		while (((word32) (word16) (word32) dwArg08[dwLoc10_132 * 0x02] & 0x0400) != 0x00)
			dwLoc10_132 = dwLoc10_132 + 0x01;
		addChar(0x7B, 0x00);
		Mem171[fp - 0x14 + 0x00:word32] = Mem0[fp + 0x10:word32] + 0x01;
		Mem172[fp - 0x28 + 0x00:word32] = 0x00;
		Mem173[fp - 44 + 0x00:word32] = 0x00;
		Mem175[fp - 0x30 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32];
		Mem177[fp - 0x34 + 0x00:word32] = Mem175[fp + 0x0C:word32];
		Mem179[fp - 0x38 + 0x00:word32] = Mem177[fp + 0x08:word32];
		Mem181[fp - 0x3C + 0x00:word32] = Mem179[fp + 0x04:word32];
		Mem183[fp - 0x18 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		while (Mem183[fp - 0x14 + 0x00:word32] < Mem183[(fp - 0x18) + 0x00:word32])
		{
			Mem187[fp - 0x38 + 0x00:word32] = 0x00;
			Mem188[fp - 0x3C + 0x00:word32] = 0x20;
			addChar(dwArg00, dwArg04);
			Mem190[fp - 0x14 + 0x00:word32] = Mem188[fp - 0x14 + 0x00:word32] + 0x01;
		}
	}
	while (Mem0[fp - 0x10 + 0x00:word32] < Mem0[fp + 0x0C:word32])
	{
		Mem66[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32] + Mem0[(fp - 0x10) + 0x00:word32];
		Mem69[fp - 0x1C + 0x00:word32] = wtf_len(dwArg00);
		word32 eax_72 = Mem69[fp - 0x10 + 0x00:word32] + Mem69[(fp - 0x1C) + 0x00:word32];
		Mem73[fp - 0x28 + 0x00:word32] = 0x00;
		Mem74[fp - 44 + 0x00:word32] = 0x00;
		Mem75[fp - 0x30 + 0x00:word32] = eax_72;
		Mem77[fp - 0x34 + 0x00:word32] = Mem75[fp + 0x0C:word32];
		Mem79[fp - 0x38 + 0x00:word32] = Mem77[fp + 0x08:word32];
		Mem81[fp - 0x3C + 0x00:word32] = Mem79[fp + 0x04:word32];
		Mem87[fp - 0x18 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		if (Mem87[fp - 0x18 + 0x00:word32] - Mem87[fp + 0x10:word32] > Mem87[fp + 0x14:word32])
			return;
		if ((byte) (word32) Mem87[Mem87[fp - 0x10 + 0x00:word32] + Mem87[fp + 0x04:word32]:byte] == 0x09)
		{
			while (Mem87[fp - 0x14 + 0x00:word32] < Mem87[(fp - 0x18) + 0x00:word32])
			{
				Mem112[fp - 0x38 + 0x00:word32] = 0x00;
				Mem113[fp - 0x3C + 0x00:word32] = 0x20;
				addChar(dwArg00, dwArg04);
				Mem115[fp - 0x14 + 0x00:word32] = Mem113[fp - 0x14 + 0x00:word32] + 0x01;
			}
		}
		else
		{
			word32 edx_123 = (word32) (word16) (word32) Mem87[fp + 0x08:word32][Mem87[fp - 0x10 + 0x00:word32] * 0x02];
			word32 eax_125 = Mem87[fp - 0x10 + 0x00:word32] + Mem87[fp + 0x04:word32];
			Mem127[fp - 0x34 + 0x00:word32] = Mem87[fp - 0x1C + 0x00:word32];
			Mem128[fp - 0x38 + 0x00:word32] = edx_123;
			Mem129[fp - 0x3C + 0x00:word32] = eax_125;
			addMChar(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem131[fp - 0x14 + 0x00:word32] = Mem129[fp - 0x18 + 0x00:word32];
		}
		Mem107[fp - 0x10 + 0x00:word32] = Mem87[fp - 0x10 + 0x00:word32] + Mem87[(fp - 0x1C) + 0x00:word32];
	}
}

// 0807DC34: void ins_char(Stack word32 dwArg04)
void ins_char(word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 dwLoc14_11 = eax_10;
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	if (Mem0[dwArg04 + 0x04:word32] + Mem0[135778948:word32] <= 0x03FF)
	{
		while (dwLoc14_11 <u eax_14)
		{
			word16 ax_75 = (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] + 0x08179BE0:byte] << 0x08);
			word32 eax_65 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] + 0x08179AE0:byte];
			word16 wLoc0E_149 = ax_75;
			if (Mem0[0x0817D2B0:word32] != 0x00)
			{
				if (((word32) ax_75 & 0x0100) != 0x00)
					wLoc0E_149 = 0x00;
				if (((word32) wLoc0E_149 & 0x1000) != 0x00)
					wLoc0E_149 = 0x0200;
			}
			insC();
			Mem91[Mem0[Mem0[0x0817CA40:word32] + 0x00:word32] + Mem0[0x0817D280:word32]:byte] = (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte];
			word32 eax_94 = Mem91[0x0817D280:word32];
			Mem97[eax_94 + 0x0817CA60 + eax_94:word16] = (word16) (word32) wLoc0E_149;
			Mem100[0x0817D280:word32] = Mem97[0x0817D280:word32] + 0x01;
			dwLoc14_11 = dwLoc14_11 + 0x01;
			word32 dwLoc1C_102 = eax_65 - 0x01;
			if (eax_65 != 0x01)
			{
				word16 ax_109 = DPB(ax_75, SLICE((word32) wLoc0E_149, byte, 8) & ~0x06 | 0x04, 8);
				while (true)
				{
					dwLoc1C_102 = dwLoc1C_102 - 0x01;
					if (dwLoc1C_102 != 0x00 == 0x00)
						break;
					insC();
					Mem133[Mem100[Mem100[0x0817CA40:word32] + 0x00:word32] + Mem100[0x0817D280:word32]:byte] = (byte) (word32) Mem100[dwLoc14_11 + 0x00:byte];
					word32 eax_136 = Mem133[0x0817D280:word32];
					Mem139[eax_136 + 0x0817CA60 + eax_136:word16] = (word16) (word32) ax_109;
					Mem143[0x0817D280:word32] = Mem139[0x0817D280:word32] + 0x01;
					dwLoc14_11 = dwLoc14_11 + 0x01;
				}
			}
		}
	}
}

// 0807DD7C: void _esc(Register word32 ebp, Register selector gs)
void _esc(word32 ebp, selector gs)
{
	Mem10[fp - 0x0D + 0x00:byte] = do_getch(gs);
	word32 eax_11 = (int32) Mem10[fp - 0x0D + 0x00:byte];
	if (eax_11 == 0x20)
	{
l0807DE3A:
		if (Mem10[135774904:word32] != 0x00)
		{
			_rdcompl(gs);
			Mem29[135778976:word32] = 0x00;
			Mem30[135778988:word32] = 0x01;
		}
		else
			_rcompl();
		return;
	}
	if (eax_11 <= 0x20)
	{
		if (eax_11 == 0x08)
		{
			if (Mem10[135774904:word32] != 0x00)
				_bsw();
			return;
		}
		if (eax_11 != 0x09)
		{
			if (eax_11 != 0x04)
				goto l0807DEB2;
			if (Mem10[135774904:word32] == 0x00)
				_rdcompl(gs);
			Mem57[135778988:word32] = 0x01;
			return;
		}
		goto l0807DE3A;
	}
	if (eax_11 != 0x5B)
	{
		if (eax_11 > 0x5B)
		{
			if (eax_11 == 0x62)
			{
				if (Mem10[135774904:word32] != 0x00)
					_mvLw();
				return;
			}
			if (eax_11 == 0x66)
			{
				if (Mem10[135774904:word32] != 0x00)
					_mvRw();
				return;
			}
l0807DEB2:
			Mem34[fp - 44 + 0x00:word32] = 0x1B;
			if (wc_char_conv(dwArg00) == 0x00)
			{
				Mem41[fp - 44 + 0x00:word32] = (int32) Mem34[fp - 0x0D + 0x00:byte];
				if (wc_char_conv(dwArg00) == 0x00)
					Mem46[0x0817D294:word32] = 0x01;
			}
			return;
		}
		if (eax_11 != 0x4F)
			goto l0807DEB2;
	}
	Mem66[fp - 0x0D + 0x00:byte] = do_getch(gs);
	word32 eax_67 = (int32) Mem66[fp - 0x0D + 0x00:byte];
	if (eax_67 != 66)
	{
		if (eax_67 <= 66)
		{
			if (eax_67 != 0x41)
				return;
			_prev(fp - 0x04);
		}
		else
		{
			if (eax_67 != 0x43)
			{
				if (eax_67 == 0x44)
					_mvL();
				return;
			}
			_mvR();
		}
	}
	else
		_next(fp - 0x04);
}

// 0807DEE7: void insC()
void insC()
{
	Strinsert_char(Mem0[0x0817CA40:word32], Mem0[0x0817D280:word32], 0x20);
	Mem16[135778948:word32] = Mem0[Mem0[0x0817CA40:word32] + 0x04:word32];
	word32 dwLoc10_18 = Mem16[135778948:word32];
	while (dwLoc10_18 > Mem16[0x0817D280:word32])
	{
		word32 edx_31 = dwLoc10_18 - 0x01;
		Mem34[dwLoc10_18 + 0x0817CA60 + dwLoc10_18:word16] = (word16) (word32) Mem16[edx_31 + 0x0817CA60 + edx_31:word16];
		dwLoc10_18 = dwLoc10_18 - 0x01;
	}
}

// 0807DF4C: void delC()
void delC()
{
	word32 eax_8 = Mem0[0x0817D280:word32];
	word32 dwLoc14_10 = 0x01;
	if (Mem0[135778948:word32] != Mem0[0x0817D280:word32])
	{
		while (eax_8 + dwLoc14_10 < Mem0[135778948:word32])
		{
			word32 eax_89 = eax_8 + dwLoc14_10;
			if (((word32) (word16) (word32) Mem0[eax_89 + 0x0817CA60 + eax_89:word16] & 0x0400) == 0x00)
				break;
			dwLoc14_10 = dwLoc14_10 + 0x01;
		}
		word32 dwLoc10_59 = Mem0[0x0817D280:word32];
		while (dwLoc10_59 < Mem0[135778948:word32])
		{
			word32 edx_80 = dwLoc10_59 + dwLoc14_10;
			Mem83[dwLoc10_59 + 0x0817CA60 + dwLoc10_59:word16] = (word16) (word32) Mem0[edx_80 + 0x0817CA60 + edx_80:word16];
			dwLoc10_59 = dwLoc10_59 + 0x01;
		}
		Strdelete(Mem0[0x0817CA40:word32], Mem0[0x0817D280:word32], dwLoc14_10);
		Mem76[135778948:word32] = Mem0[135778948:word32] - dwLoc14_10;
	}
}

// 0807E00B: void _mvL()
void _mvL()
{
	if (Mem0[0x0817D280:word32] > 0x00)
		Mem38[0x0817D280:word32] = Mem0[0x0817D280:word32] - 0x01;
	while (Mem0[0x0817D280:word32] > 0x00)
	{
		word32 eax_23 = Mem0[0x0817D280:word32];
		if (((word32) (word16) (word32) Mem0[eax_23 + 0x0817CA60 + eax_23:word16] & 0x0400) == 0x00)
			return;
		Mem34[0x0817D280:word32] = Mem0[0x0817D280:word32] - 0x01;
	}
}

// 0807E05A: void _mvLw()
void _mvLw()
{
	word32 dwLoc10_17 = 0x01;
	while (Mem0[0x0817D280:word32] > 0x00 && (dwLoc10_17 != 0x00 || terminated((word32) ((byte) ((word32) Mem0[Mem0[Mem0[0x0817CA40:word32] + 0x00:word32] + (Mem0[0x0817D280:word32] - 0x01):byte]))) == 0x00))
	{
		Mem47[0x0817D280:word32] = Mem0[0x0817D280:word32] - 0x01;
		dwLoc10_17 = 0x00;
		if (Mem47[0x0817D280:word32] > 0x00)
		{
			word32 eax_58 = Mem47[0x0817D280:word32];
			if (((word32) (word16) (word32) Mem47[eax_58 + 0x0817CA60 + eax_58:word16] & 0x0400) != 0x00)
				Mem69[0x0817D280:word32] = Mem47[0x0817D280:word32] - 0x01;
		}
		if (Mem47[135778996:word32] == 0x00)
			return;
	}
}

// 0807E0ED: void _mvRw()
void _mvRw()
{
	word32 dwLoc10_17 = 0x01;
	while (Mem0[0x0817D280:word32] < Mem0[135778948:word32] && (dwLoc10_17 != 0x00 || terminated((word32) ((byte) ((word32) Mem0[Mem0[Mem0[0x0817CA40:word32] + 0x00:word32] + (Mem0[0x0817D280:word32] - 0x01):byte]))) == 0x00))
	{
		Mem50[0x0817D280:word32] = Mem0[0x0817D280:word32] + 0x01;
		dwLoc10_17 = 0x00;
		if (Mem50[0x0817D280:word32] < Mem50[135778948:word32])
		{
			word32 eax_62 = Mem50[0x0817D280:word32];
			if (((word32) (word16) (word32) Mem50[eax_62 + 0x0817CA60 + eax_62:word16] & 0x0400) != 0x00)
				Mem73[0x0817D280:word32] = Mem50[0x0817D280:word32] + 0x01;
		}
		if (Mem50[135778996:word32] == 0x00)
			return;
	}
}

// 0807E190: void _mvR()
void _mvR()
{
	if (Mem0[0x0817D280:word32] < Mem0[135778948:word32])
		Mem41[0x0817D280:word32] = Mem0[0x0817D280:word32] + 0x01;
	while (Mem0[0x0817D280:word32] < Mem0[135778948:word32])
	{
		word32 eax_26 = Mem0[0x0817D280:word32];
		if (((word32) (word16) (word32) Mem0[eax_26 + 0x0817CA60 + eax_26:word16] & 0x0400) == 0x00)
			return;
		Mem37[0x0817D280:word32] = Mem0[0x0817D280:word32] + 0x01;
	}
}

// 0807E1EB: void _bs()
void _bs()
{
	if (Mem0[0x0817D280:word32] > 0x00)
	{
		_mvL();
		delC();
	}
}

// 0807E206: void _bsw()
void _bsw()
{
	word32 dwLoc10_18 = 0x00;
	while (Mem0[0x0817D280:word32] > 0x00 && dwLoc10_18 == 0x00)
	{
		word32 eax_40;
		_mvL();
		if (Mem0[135778996:word32] != 0x00 && terminated((word32) ((byte) ((word32) Mem0[Mem0[Mem0[0x0817CA40:word32] + 0x00:word32] + (Mem0[0x0817D280:word32] - 0x01):byte]))) != 0x00)
			eax_40 = 0x01;
		else
			eax_40 = 0x00;
		delC();
		dwLoc10_18 = eax_40;
	}
}

// 0807E26C: void _enter()
void _enter()
{
	Mem5[0x0817D28C:word32] = 0x00;
}

// 0807E27B: void insertself(Stack word32 dwArg04)
void insertself(word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	if (Mem0[135778948:word32] <= 0x03FF)
	{
		word16 ax_39;
		insC();
		Mem32[Mem0[Mem0[0x0817CA40:word32] + 0x00:word32] + Mem0[0x0817D280:word32]:byte] = (byte) (word32) al_9;
		word32 edx_33 = Mem32[0x0817D280:word32];
		if (Mem32[0x0817D2B0:word32] != 0x00)
			ax_39 = 0x00;
		else
			ax_39 = 0x0100;
		Mem40[edx_33 + 0x0817CA60 + edx_33:word16] = ax_39;
		Mem44[0x0817D280:word32] = Mem40[0x0817D280:word32] + 0x01;
	}
}

// 0807E2E1: void _quo()
void _quo()
{
	Mem5[0x0817D294:word32] = 0x01;
}

// 0807E2F0: void _mvB()
void _mvB()
{
	Mem5[0x0817D280:word32] = 0x00;
}

// 0807E2FF: void _mvE()
void _mvE()
{
	Mem7[0x0817D280:word32] = Mem0[135778948:word32];
}

// 0807E30E: void killn()
void killn()
{
	Mem10[135778948:word32] = Mem0[0x0817D280:word32];
	Strtruncate(Mem10[0x0817CA40:word32], Mem10[135778948:word32]);
}

// 0807E337: void killb()
void killb()
{
	while (Mem0[0x0817D280:word32] > 0x00)
		_bs();
}

// 0807E34F: void _inbrk()
void _inbrk()
{
	Mem5[0x0817D28C:word32] = 0x00;
	Mem6[0x0817D290:word32] = 0x01;
}

// 0807E368: void _compl()
void _compl()
{
	next_compl(fp - 0x04, 0x01);
}

// 0807E37C: void _rcompl()
void _rcompl()
{
	next_compl(fp - 0x04, ~0x00);
}

// 0807E390: void _tcompl()
void _tcompl()
{
	if ((byte) (Mem0[135778968:word32] & 0x01) != 0x00)
		Mem19[135778968:word32] = 0x02;
	else if ((Mem0[135778968:word32] & 0x02) != 0x00)
		Mem25[135778968:word32] = 0x01;
}

// 0807E3C3: void next_compl(Register word32 ebp, Stack word32 dwArg04)
void next_compl(word32 ebp, word32 dwArg04)
{
	if (Mem0[135778968:word32] != 0x00 && (byte) (Mem0[135778968:word32] & 0x01) == 0x00)
	{
		Mem36[135778976:word32] = 0x00;
		if (Mem36[135778972:word32] == 0x00)
		{
			word32 dwLoc14_103;
			if ((Mem36[135778968:word32] & 0x04) != 0x00)
				dwLoc14_103 = 0x00;
			else
			{
				word32 dwLoc14_148 = Mem36[0x0817D280:word32] - 0x01 + 0x01;
				while (dwLoc14_148 >= ~0x00 && ((byte) ((word32) Mem36[Mem36[Mem36[0x0817CA40:word32] + 0x00:word32] + dwLoc14_148:byte]) != 0x20 && (byte) ((word32) Mem36[Mem36[Mem36[0x0817CA40:word32] + 0x00:word32] + dwLoc14_148:byte]) != 0x09 || dwLoc14_148 > 0x00 && (byte) ((word32) Mem36[Mem36[Mem36[0x0817CA40:word32] + 0x00:word32] + (dwLoc14_148 - 0x01):byte]) == 0x5C))
					dwLoc14_148 = dwLoc14_148 - 0x01;
				dwLoc14_103 = dwLoc14_148 + 0x00;
			}
			word32 eax_106 = Mem36[0x0817D280:word32];
			word32 eax_108 = Mem36[0x0817CA40:word32];
			Strsubstr(eax_108, eax_108, 0x00, dwLoc14_103);
			Mem113[0x0817D268:word32] = eax_108;
			word32 eax_118 = Mem113[0x0817CA40:word32];
			Strsubstr(eax_118, eax_118, dwLoc14_103, eax_106 - dwLoc14_103);
			word32 eax_129 = Mem113[0x0817CA40:word32];
			Strsubstr(eax_129, eax_129, eax_106, Mem113[Mem113[0x0817CA40:word32] + 0x04:word32] - eax_106);
			Mem134[0x0817D26C:word32] = eax_129;
			Mem142[fp - 0x20 + 0x00:word32] = doComplete(fp - 0x04, eax_118, fp - 0x10, dwArg04);
		}
		else
			Mem212[fp - 0x20 + 0x00:word32] = doComplete(fp - 0x04, Mem36[0x0817CA40:word32], fp - 0x10, dwArg04);
		if (Mem36[fp + 0x04:word32] != 0x00)
		{
			if (Mem36[fp - 0x10 + 0x00:word32] != 0x00 && Mem36[(fp - 0x10) + 0x00:word32] != 0x03)
				bell();
			if (Mem36[fp - 0x10 + 0x00:word32] != 0x02)
			{
				word32 ecx_63 = Mem36[Mem36[0x0817D26C:word32] + 0x00:word32];
				word32 edx_65 = Mem36[Mem36[fp - 0x20 + 0x00:word32] + 0x00:word32];
				word32 eax_67 = Mem36[Mem36[0x0817D268:word32] + 0x00:word32];
				Mem68[fp - 0x30 + 0x00:word32] = 0x00;
				Mem69[fp - 0x34 + 0x00:word32] = ecx_63;
				Mem70[fp - 0x38 + 0x00:word32] = edx_65;
				Mem71[fp - 0x3C + 0x00:word32] = eax_67;
				Strnew_m_charp(eax_67, dwArg00);
				Mem73[0x0817CA40:word32] = eax_67;
				word32 eax_74 = Mem73[0x0817CA40:word32];
				Mem75[fp - 0x38 + 0x00:word32] = 0x0817CA60;
				Mem76[fp - 0x3C + 0x00:word32] = eax_74;
				Mem79[135778948:word32] = setStrType(dwArg00, dwArg04);
				Mem85[0x0817D280:word32] = Mem79[Mem79[0x0817D268:word32] + 0x04:word32] + Mem79[Mem79[(fp - 0x20) + 0x00:word32] + 0x04:word32];
				if (Mem85[0x0817D280:word32] > Mem85[135778948:word32])
					Mem91[0x0817D280:word32] = Mem85[135778948:word32];
			}
		}
	}
}

// 0807E5D4: void _dcompl(Register selector gs)
void _dcompl(selector gs)
{
	next_dcompl(fp - 0x04, gs);
}

// 0807E5E8: void _rdcompl(Register selector gs)
void _rdcompl(selector gs)
{
	next_dcompl(fp - 0x04, gs);
}

// 0807E5FC: void next_dcompl(Register word32 ebp, Register selector gs)
void next_dcompl(word32 ebp, selector gs)
{
	if (Mem0[135778968:word32] != 0x00 && (byte) (Mem0[135778968:word32] & 0x01) == 0x00)
	{
		Mem45[135778984:word32] = 0x00;
		if (Mem45[0x08180718:word32] != 0x00)
		{
			real64 rArg0_499;
			displayBuffer(fp - 0x04, gs, Mem45[Mem45[0x08180718:word32] + 0x08:word32], 0x01, rArg0, out rArg0_499);
		}
		if (Mem45[0x08180780:word32] > 0x03)
		{
			Mem480[fp - 0x28 + 0x00:word32] = 0x01;
			Mem484[fp - 44 + 0x00:word32] = Mem480[0x08180780:word32] - 0x03;
		}
		else
		{
			if (Mem45[0x08180780:word32] == 0x01)
				return;
			Mem488[fp - 0x28 + 0x00:word32] = 0x00;
			Mem492[fp - 44 + 0x00:word32] = Mem488[0x08180780:word32] - 0x01;
		}
		if (Mem45[135778980:word32] >= 0x00)
		{
			if (Mem45[fp + 0x04:word32] == 0x01)
			{
				Mem267[135778980:word32] = Mem45[135779012:word32] *s Mem45[(fp - 44) + 0x00:word32] + Mem45[135778980:word32];
				if (Mem267[135778980:word32] >= Mem267[0x0817D278:word32])
					Mem273[135778980:word32] = 0x00;
			}
			else if (Mem45[fp + 0x04:word32] == ~0x00)
			{
				Mem283[135778980:word32] = Mem45[135778980:word32] - Mem45[135779012:word32] *s Mem45[(fp - 44) + 0x00:word32];
				if (Mem283[135778980:word32] < 0x00)
					Mem288[135778980:word32] = 0x00;
			}
			word32 eax_250 = Mem45[0x0817D278:word32] - Mem45[135778980:word32] + Mem45[135779012:word32];
			Mem253[fp - 0x90 + 0x00:word32] = Mem45[135779012:word32];
			Mem261[0x0817D2C8:word32] = (int32) (SEQ(eax_250 - 0x01 >> 0x1F, eax_250 - 0x01) / Mem253[(fp - 0x90) + 0x00:word32]);
		}
		else
		{
			Mem289[135778972:word32] = 0x00;
			Mem290[fp - 0xAC + 0x00:word32] = 0x00;
			next_compl(fp - 0x04, dwArg00);
			if (Mem290[0x0817D278:word32] == 0x00)
				return;
			Mem295[135778980:word32] = 0x00;
			word32 esi_296 = Mem295[0x080D5378:word32];
			word32 ebx_297 = Mem295[135091052:word32];
			Mem299[fp - 0xAC + 0x00:word32] = Mem295[0x0817D270:word32];
			word32 eax_300 = Strdup(dwArg00);
			Mem301[fp - 0xA4 + 0x00:word32] = esi_296;
			Mem302[fp - 0xA8 + 0x00:word32] = ebx_297;
			Mem303[fp - 0xAC + 0x00:word32] = eax_300;
			word32 ebx_304;
			Mem306[0x0817D2CC:word32] = wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_304);
			if (Mem306[Mem306[0x0817D2CC:word32] + 0x04:word32] > 0x00 && (Mem306[Mem306[0x0817D2CC:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem306[Mem306[Mem306[0x0817D2CC:word32] + 0x00:word32] + (Mem306[Mem306[0x0817D2CC:word32] + 0x04:word32] - 0x01):byte]) != 0x2F))
			{
				if (Mem306[Mem306[0x0817D2CC:word32] + 0x04:word32] + 0x01 >= Mem306[Mem306[0x0817D2CC:word32] + 0x08:word32])
				{
					Mem468[fp - 0xAC + 0x00:word32] = Mem306[0x0817D2CC:word32];
					Strgrow(dwArg00);
				}
				word32 eax_453 = Mem306[0x0817D2CC:word32];
				word32 edx_454 = Mem306[eax_453 + 0x04:word32];
				Mem457[Mem306[Mem306[0x0817D2CC:word32] + 0x00:word32] + edx_454:byte] = 0x2F;
				Mem460[eax_453 + 0x04:word32] = edx_454 + 0x01;
				Mem466[Mem460[Mem460[0x0817D2CC:word32] + 0x00:word32] + Mem460[Mem460[0x0817D2CC:word32] + 0x04:word32]:byte] = 0x00;
			}
			if ((Mem306[135778968:word32] & 0x08) != 0x00 && (byte) ((word32) Mem306[Mem306[Mem306[0x0817D2CC:word32] + 0x00:word32] + 0x00:byte]) == 0x66)
			{
				Mem390[fp - 0x24 + 0x00:word32] = Mem306[Mem306[0x0817D2CC:word32] + 0x00:word32];
				Mem391[fp - 0xA4 + 0x00:word32] = 0x11;
				Mem392[fp - 0xA8 + 0x00:word32] = 0x080CAFCC;
				Mem394[fp - 0xAC + 0x00:word32] = Mem392[fp - 0x24 + 0x00:word32];
				if (strncmp(Mem394[fp - 0xAC + 0x00:(ptr char)], Mem394[fp - 0xA8 + 0x00:(ptr char)], Mem394[fp - 0xA4 + 0x00:int32]) == 0x00)
					Mem408[fp - 0x24 + 0x00:word32] = Mem394[fp - 0x24 + 0x00:word32] + 0x10;
				else
				{
					Mem410[fp - 0xA4 + 0x00:word32] = 0x08;
					Mem411[fp - 0xA8 + 0x00:word32] = 0x080CAFDE;
					Mem413[fp - 0xAC + 0x00:word32] = Mem411[fp - 0x24 + 0x00:word32];
					if (strncmp(Mem413[fp - 0xAC + 0x00:(ptr char)], Mem413[fp - 0xA8 + 0x00:(ptr char)], Mem413[fp - 0xA4 + 0x00:int32]) == 0x00)
						Mem419[fp - 0x24 + 0x00:word32] = Mem413[fp - 0x24 + 0x00:word32] + 0x07;
					else
					{
						Mem421[fp - 0xA4 + 0x00:word32] = 0x06;
						Mem422[fp - 0xA8 + 0x00:word32] = 135049191;
						Mem424[fp - 0xAC + 0x00:word32] = Mem422[fp - 0x24 + 0x00:word32];
						if (strncmp(Mem424[fp - 0xAC + 0x00:(ptr char)], Mem424[fp - 0xA8 + 0x00:(ptr char)], Mem424[fp - 0xA4 + 0x00:int32]) == 0x00 && (byte) ((word32) Mem424[Mem424[(fp - 0x24) + 0x00:word32] + 0x06:byte]) != 0x2F)
							Mem436[fp - 0x24 + 0x00:word32] = Mem424[fp - 0x24 + 0x00:word32] + 0x05;
					}
				}
				word32 eax_404 = Mem394[fp - 0x24 + 0x00:word32];
				Mem405[fp - 0xAC + 0x00:word32] = eax_404;
				Strnew_charp(eax_404, dwArg00);
				Mem406[0x0817D2CC:word32] = eax_404;
			}
			Mem329[0x0817D2D0:word32] = 0x00;
			Mem330[fp - 0x10 + 0x00:word32] = 0x00;
			while (Mem330[fp - 0x10 + 0x00:word32] < Mem330[0x0817D278:word32])
			{
				Mem369[fp - 0xAC + 0x00:word32] = Mem330[0x0817D274:word32][Mem330[fp - 0x10 + 0x00:word32] * 0x04];
				Mem372[fp - 0x18 + 0x00:word32] = strlen(Mem369[fp - 0xAC + 0x00:(ptr char)]) + 0x03;
				if (Mem372[0x0817D2D0:word32] < Mem372[(fp - 0x18) + 0x00:word32])
					Mem381[0x0817D2D0:word32] = Mem372[fp - 0x18 + 0x00:word32];
				Mem378[fp - 0x10 + 0x00:word32] = Mem372[fp - 0x10 + 0x00:word32] + 0x01;
			}
			word32 eax_335 = Mem330[0x081807A0:word32];
			Mem337[fp - 0x90 + 0x00:word32] = Mem330[0x0817D2D0:word32];
			Mem344[135779012:word32] = (int32) (SEQ(eax_335 >> 0x1F, eax_335) / Mem337[(fp - 0x90) + 0x00:word32]);
			if (Mem344[135779012:word32] == 0x00)
				Mem363[135779012:word32] = 0x01;
			word32 eax_351 = Mem344[0x0817D278:word32] + Mem344[135779012:word32];
			Mem354[fp - 0x90 + 0x00:word32] = Mem344[135779012:word32];
			Mem362[0x0817D2C8:word32] = (int32) (SEQ(eax_351 - 0x01 >> 0x1F, eax_351 - 0x01) / Mem354[(fp - 0x90) + 0x00:word32]);
		}
		if (Mem45[fp - 0x28 + 0x00:word32] != 0x00)
		{
			if (Mem45[0x0817D2C8:word32] > Mem45[(fp - 44) + 0x00:word32])
			{
				Mem214[0x0817D2C8:word32] = Mem45[fp - 44 + 0x00:word32];
				Mem215[fp - 0x1C + 0x00:word32] = 0x00;
			}
			else
				Mem223[fp - 0x1C + 0x00:word32] = Mem45[fp - 44 + 0x00:word32] - Mem45[0x0817D2C8:word32] + 0x01;
		}
		else if (Mem45[0x0817D2C8:word32] >= Mem45[(fp - 44) + 0x00:word32])
		{
			Mem228[0x0817D2C8:word32] = Mem45[fp - 44 + 0x00:word32];
			Mem229[fp - 0x1C + 0x00:word32] = 0x00;
		}
		else
			Mem237[fp - 0x1C + 0x00:word32] = Mem45[fp - 44 + 0x00:word32] - Mem45[0x0817D2C8:word32] - 0x01;
		if (Mem45[fp - 0x1C + 0x00:word32] != 0x00)
		{
			word32 eax_205 = Mem45[fp - 0x1C + 0x00:word32];
			Mem208[fp - 0xA8 + 0x00:word32] = 0x00;
			Mem209[fp - 0xAC + 0x00:word32] = eax_205 - 0x01;
			move(dwArg00, dwArg04);
			clrtoeolx();
		}
		if (Mem45[fp - 0x28 + 0x00:word32] != 0x00)
		{
			Mem198[fp - 0xA8 + 0x00:word32] = 0x00;
			Mem200[fp - 0xAC + 0x00:word32] = Mem198[fp - 0x1C + 0x00:word32];
			move(dwArg00, dwArg04);
			clrtoeolx();
			bold();
			Mem201[fp - 0xAC + 0x00:word32] = 0x080CAFEE;
			addstr(dwArg00);
			boldend();
			Mem203[fp - 0x1C + 0x00:word32] = Mem201[fp - 0x1C + 0x00:word32] + 0x01;
		}
		Mem91[fp - 0x10 + 0x00:word32] = 0x00;
		while (Mem91[fp - 0x10 + 0x00:word32] < Mem91[0x0817D2C8:word32])
		{
			Mem116[fp - 0x14 + 0x00:word32] = 0x00;
			while (Mem116[fp - 0x14 + 0x00:word32] < Mem116[135779012:word32])
			{
				Mem138[fp - 0x18 + 0x00:word32] = Mem116[0x0817D2C8:word32] *s Mem116[(fp - 0x14) + 0x00:word32] + Mem116[135778980:word32] + Mem116[(fp - 0x10) + 0x00:word32];
				if (Mem138[fp - 0x18 + 0x00:word32] >= Mem138[0x0817D278:word32])
					break;
				Mem145[fp - 0xA8 + 0x00:word32] = Mem138[0x0817D2D0:word32] *s Mem138[(fp - 0x14) + 0x00:word32];
				Mem147[fp - 0xAC + 0x00:word32] = Mem145[fp - 0x1C + 0x00:word32];
				move(dwArg00, dwArg04);
				clrtoeolx();
				Mem149[fp - 0xAC + 0x00:word32] = Mem147[0x0817D2CC:word32];
				Mem151[fp - 0x20 + 0x00:word32] = Strdup(dwArg00);
				Mem158[fp - 0xA8 + 0x00:word32] = Mem151[0x0817D274:word32][Mem151[fp - 0x18 + 0x00:word32] * 0x04];
				Mem160[fp - 0xAC + 0x00:word32] = Mem158[fp - 0x20 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				word32 esi_161 = Mem160[135091052:word32];
				word32 ebx_162 = Mem160[0x080D5378:word32];
				word32 eax_168 = Mem160[0x0817D274:word32][Mem160[fp - 0x18 + 0x00:word32] * 0x04];
				Mem169[fp - 0xAC + 0x00:word32] = eax_168;
				Strnew_charp(eax_168, dwArg00);
				Mem170[fp - 0xA4 + 0x00:word32] = esi_161;
				Mem171[fp - 0xA8 + 0x00:word32] = ebx_162;
				Mem172[fp - 0xAC + 0x00:word32] = eax_168;
				word32 ebx_174;
				Mem177[fp - 0xAC + 0x00:word32] = Mem172[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_174) + 0x00:word32];
				addstr(dwArg00);
				Mem180[fp - 0xAC + 0x00:word32] = Mem177[Mem177[fp - 0x20 + 0x00:word32] + 0x00:word32];
				word32 eax_181 = expandPath(dwArg00);
				Mem183[fp - 0xA8 + 0x00:word32] = fp - 0x84;
				Mem184[fp - 0xAC + 0x00:word32] = eax_181;
				if (stat(dwArg00, dwArg04) != ~0x00 && (Mem184[(fp - 116) + 0x00:word32] & 0xF000) == 0x4000)
				{
					Mem197[fp - 0xAC + 0x00:word32] = 0x080CB00A;
					addstr(dwArg00);
				}
				Mem191[fp - 0x14 + 0x00:word32] = Mem184[fp - 0x14 + 0x00:word32] + 0x01;
			}
			Mem128[fp - 0x1C + 0x00:word32] = Mem116[fp - 0x1C + 0x00:word32] + 0x01;
			Mem130[fp - 0x10 + 0x00:word32] = Mem128[fp - 0x10 + 0x00:word32] + 0x01;
		}
		if (Mem91[fp - 0x28 + 0x00:word32] != 0x00 && Mem91[0x08180780:word32] - 0x02 == Mem91[(fp - 0x1C) + 0x00:word32])
		{
			Mem105[fp - 0xA8 + 0x00:word32] = 0x00;
			Mem107[fp - 0xAC + 0x00:word32] = Mem105[fp - 0x1C + 0x00:word32];
			move(dwArg00, dwArg04);
			clrtoeolx();
			bold();
			if (Mem107[135774904:word32] != 0x00)
			{
				Mem114[fp - 0xAC + 0x00:word32] = 0x080CB00C;
				addstr(dwArg00);
			}
			else
			{
				Mem115[fp - 0xAC + 0x00:word32] = 0x080CB030;
				addstr(dwArg00);
			}
			boldend();
		}
	}
}

// 0807EBE9: Register word32 escape_spaces(Stack word32 dwArg04)
word32 escape_spaces(word32 dwArg04)
{
	word32 eax_23;
	word32 dwLoc10_123 = 0x00;
	if (dwArg04 == 0x00)
		eax_23 = dwArg04;
	else
	{
		word32 dwLoc14_42 = Mem0[dwArg04 + 0x00:word32];
		while ((byte) (word32) Mem0[dwLoc14_42 + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc14_42 + 0x00:byte] == 0x20 || (byte) ((word32) Mem0[dwLoc14_42 + 0x00:byte]) == 0x09)
			{
				if (dwLoc10_123 == 0x00)
				{
					word32 eax_157 = Mem0[dwArg04 + 0x00:word32];
					word32 edx_160;
					dwLoc10_123 = Strnew_charp_n(eax_157, eax_157, dwLoc14_42 - Mem0[dwArg04 + 0x00:word32], out edx_160);
				}
				if (Mem0[dwLoc10_123 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_123 + 0x08:word32])
					Strgrow(dwLoc10_123);
				word32 eax_136 = Mem0[dwLoc10_123 + 0x04:word32];
				Mem139[Mem0[dwLoc10_123 + 0x00:word32] + eax_136:byte] = 0x5C;
				Mem142[dwLoc10_123 + 0x04:word32] = eax_136 + 0x01;
				Mem148[Mem142[dwLoc10_123 + 0x00:word32] + Mem142[dwLoc10_123 + 0x04:word32]:byte] = 0x00;
			}
			if (dwLoc10_123 != 0x00)
			{
				if (Mem0[dwLoc10_123 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_123 + 0x08:word32])
					Strgrow(dwLoc10_123);
				word32 eax_99 = Mem0[dwLoc10_123 + 0x04:word32];
				Mem106[Mem0[dwLoc10_123 + 0x00:word32] + eax_99:byte] = (byte) (word32) Mem0[dwLoc14_42 + 0x00:byte];
				Mem109[dwLoc10_123 + 0x04:word32] = eax_99 + 0x01;
				Mem115[Mem109[dwLoc10_123 + 0x00:word32] + Mem109[dwLoc10_123 + 0x04:word32]:byte] = 0x00;
			}
			dwLoc14_42 = dwLoc14_42 + 0x01;
		}
		if (dwLoc10_123 != 0x00)
			eax_23 = dwLoc10_123;
		else
			eax_23 = dwArg04;
	}
	return eax_23;
}

// 0807ED0B: Register word32 unescape_spaces(Stack word32 dwArg04)
word32 unescape_spaces(word32 dwArg04)
{
	word32 eax_23;
	word32 dwLoc10_137 = 0x00;
	if (dwArg04 == 0x00)
		eax_23 = dwArg04;
	else
	{
		word32 dwLoc14_42 = Mem0[dwArg04 + 0x00:word32];
		while ((byte) (word32) Mem0[dwLoc14_42 + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc14_42 + 0x00:byte] == 0x5C && ((byte) ((word32) Mem0[dwLoc14_42 + 0x01:byte]) == 0x20 || (byte) ((word32) Mem0[dwLoc14_42 + 0x01:byte]) == 0x09))
			{
				if (dwLoc10_137 == 0x00)
				{
					word32 eax_132 = Mem0[dwArg04 + 0x00:word32];
					word32 edx_135;
					dwLoc10_137 = Strnew_charp_n(eax_132, eax_132, dwLoc14_42 - Mem0[dwArg04 + 0x00:word32], out edx_135);
				}
			}
			else if (dwLoc10_137 != 0x00)
			{
				if (Mem0[dwLoc10_137 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_137 + 0x08:word32])
					Strgrow(dwLoc10_137);
				word32 eax_97 = Mem0[dwLoc10_137 + 0x04:word32];
				Mem104[Mem0[dwLoc10_137 + 0x00:word32] + eax_97:byte] = (byte) (word32) Mem0[dwLoc14_42 + 0x00:byte];
				Mem107[dwLoc10_137 + 0x04:word32] = eax_97 + 0x01;
				Mem113[Mem107[dwLoc10_137 + 0x00:word32] + Mem107[dwLoc10_137 + 0x04:word32]:byte] = 0x00;
			}
			dwLoc14_42 = dwLoc14_42 + 0x01;
		}
		if (dwLoc10_137 != 0x00)
			eax_23 = dwLoc10_137;
		else
			eax_23 = dwArg04;
	}
	return eax_23;
}

// 0807EDF7: Register word32 doComplete(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 doComplete(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_26;
	word32 ebp_387 = fp - 0x04;
	word32 esp_386 = fp - 0x9C;
	if (Mem0[135778972:word32] == 0x00)
	{
		Mem230[0x0817D278:word32] = 0x00;
		word32 ebx_237;
		Mem239[fp + 0x04:word32] = wc_Str_conv_strict(dwArg04, Mem230[135091052:word32], Mem230[0x080D5378:word32], out ebx_237);
		if ((Mem239[135778968:word32] & 0x02) != 0x00)
		{
			Mem677[fp - 0x9C + 0x00:word32] = Mem239[fp + 0x04:word32];
			Mem679[fp + 0x04:word32] = unescape_spaces(dwArg00);
		}
		Mem246[fp - 0x9C + 0x00:word32] = Mem239[fp + 0x04:word32];
		Mem248[0x0817D260:word32] = Strdup(dwArg00);
		while ((Mem248[Mem248[0x0817D260:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem248[Mem248[Mem248[0x0817D260:word32] + 0x00:word32] + (Mem248[Mem248[0x0817D260:word32] + 0x04:word32] - 0x01):byte]) != 0x2F) && Mem248[Mem248[0x0817D260:word32] + 0x04:word32] > 0x00)
		{
			word32 eax_663 = Mem248[0x0817D260:word32];
			Mem664[fp - 0x98 + 0x00:word32] = 0x01;
			Mem665[fp - 0x9C + 0x00:word32] = eax_663;
			Strshrink(dwArg00, dwArg04);
		}
		Mem263[fp - 0x9C + 0x00:word32] = Mem248[0x0817D260:word32];
		Mem265[0x0817D270:word32] = Strdup(dwArg00);
		if ((Mem265[135778968:word32] & 0x08) != 0x00)
		{
			word32 eax_592 = Mem265[Mem265[0x0817D260:word32] + 0x00:word32];
			Mem593[fp - 0x94 + 0x00:word32] = 0x11;
			Mem594[fp - 0x98 + 0x00:word32] = 0x080CAFCC;
			Mem595[fp - 0x9C + 0x00:word32] = eax_592;
			if (strncmp(Mem595[fp - 0x9C + 0x00:(ptr char)], Mem595[fp - 0x98 + 0x00:(ptr char)], Mem595[fp - 0x94 + 0x00:int32]) == 0x00)
			{
				word32 eax_600 = Mem595[0x0817D260:word32];
				Mem601[fp - 0x94 + 0x00:word32] = 0x10;
				Mem602[fp - 0x98 + 0x00:word32] = 0x00;
				Mem603[fp - 0x9C + 0x00:word32] = eax_600;
				Strdelete(dwArg00, dwArg04, dwArg08);
			}
			else
			{
				word32 eax_605 = Mem595[Mem595[0x0817D260:word32] + 0x00:word32];
				Mem606[fp - 0x94 + 0x00:word32] = 0x08;
				Mem607[fp - 0x98 + 0x00:word32] = 0x080CAFDE;
				Mem608[fp - 0x9C + 0x00:word32] = eax_605;
				if (strncmp(Mem608[fp - 0x9C + 0x00:(ptr char)], Mem608[fp - 0x98 + 0x00:(ptr char)], Mem608[fp - 0x94 + 0x00:int32]) == 0x00)
				{
					word32 eax_613 = Mem608[0x0817D260:word32];
					Mem614[fp - 0x94 + 0x00:word32] = 0x07;
					Mem615[fp - 0x98 + 0x00:word32] = 0x00;
					Mem616[fp - 0x9C + 0x00:word32] = eax_613;
					Strdelete(dwArg00, dwArg04, dwArg08);
				}
				else
				{
					word32 eax_618 = Mem608[Mem608[0x0817D260:word32] + 0x00:word32];
					Mem619[fp - 0x94 + 0x00:word32] = 0x06;
					Mem620[fp - 0x98 + 0x00:word32] = 135049191;
					Mem621[fp - 0x9C + 0x00:word32] = eax_618;
					if (strncmp(Mem621[fp - 0x9C + 0x00:(ptr char)], Mem621[fp - 0x98 + 0x00:(ptr char)], Mem621[fp - 0x94 + 0x00:int32]) != 0x00 || (byte) ((word32) Mem621[Mem621[Mem621[0x0817D260:word32] + 0x00:word32] + 0x06:byte]) == 0x2F)
					{
						Mem629[fp - 0x9C + 0x00:word32] = Mem621[fp + 0x04:word32];
						Mem631[0x0817D260:word32] = Strdup(dwArg00);
						Mem633[Mem631[fp + 0x08:word32] + 0x00:word32] = 0x02;
						word32 edx_635 = Mem633[135091052:word32];
						word32 eax_636 = Mem633[0x0817D260:word32];
						Mem637[fp - 0x94 + 0x00:word32] = Mem633[0x080D5378:word32];
						Mem638[fp - 0x98 + 0x00:word32] = edx_635;
						Mem639[fp - 0x9C + 0x00:word32] = eax_636;
						word32 ebx_640;
						eax_26 = wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_640);
						return eax_26;
					}
					word32 eax_651 = Mem621[0x0817D260:word32];
					Mem652[fp - 0x94 + 0x00:word32] = 0x05;
					Mem653[fp - 0x98 + 0x00:word32] = 0x00;
					Mem654[fp - 0x9C + 0x00:word32] = eax_651;
					Strdelete(dwArg00, dwArg04, dwArg08);
				}
			}
		}
		if (Mem265[Mem265[0x0817D260:word32] + 0x04:word32] == 0x00)
		{
			if (Mem265[Mem265[0x0817D260:word32] + 0x04:word32] + 0x01 >= Mem265[Mem265[0x0817D260:word32] + 0x08:word32])
			{
				Mem590[fp - 0x9C + 0x00:word32] = Mem265[0x0817D260:word32];
				Strgrow(dwArg00);
			}
			word32 eax_575 = Mem265[0x0817D260:word32];
			word32 edx_576 = Mem265[eax_575 + 0x04:word32];
			Mem579[Mem265[Mem265[0x0817D260:word32] + 0x00:word32] + edx_576:byte] = 0x2E;
			Mem582[eax_575 + 0x04:word32] = edx_576 + 0x01;
			Mem588[Mem582[Mem582[0x0817D260:word32] + 0x00:word32] + Mem582[Mem582[0x0817D260:word32] + 0x04:word32]:byte] = 0x00;
		}
		if (Mem265[Mem265[0x0817D260:word32] + 0x04:word32] > 0x00 && ((byte) ((word32) Mem265[Mem265[Mem265[0x0817D260:word32] + 0x00:word32] + (Mem265[Mem265[0x0817D260:word32] + 0x04:word32] - 0x01):byte]) == 0x2F && Mem265[Mem265[0x0817D260:word32] + 0x04:word32] > 0x01))
		{
			word32 eax_563 = Mem265[0x0817D260:word32];
			Mem564[fp - 0x98 + 0x00:word32] = 0x01;
			Mem565[fp - 0x9C + 0x00:word32] = eax_563;
			Strshrink(dwArg00, dwArg04);
		}
		Mem291[fp - 0x9C + 0x00:word32] = Mem265[Mem265[0x0817D260:word32] + 0x00:word32];
		word32 eax_292 = expandPath(dwArg00);
		Mem293[fp - 0x9C + 0x00:word32] = eax_292;
		word32 ebx_298;
		byte SCZO_299;
		word32 eax_300;
		byte SZO_301;
		byte C_302;
		byte Z_303;
		word32 edx_304;
		byte al_305;
		byte SO_306;
		word32 ecx_307;
		byte cl_308;
		word32 ebp_297;
		word32 esp_296;
		!opendir();
		Mem309[ebp_297 - 0x1C + 0x00:word32] = eax_300;
		if (Mem309[ebp_297 - 0x1C + 0x00:word32] == 0x00)
		{
			Mem313[esp_296 + 0x00:word32] = Mem309[ebp_297 + 0x08:word32];
			Mem315[0x0817D260:word32] = Strdup(dwArg00);
			Mem317[Mem315[ebp_297 + 0x0C:word32] + 0x00:word32] = 0x02;
			if ((Mem317[135778968:word32] & 0x02) != 0x00)
			{
				Mem327[esp_296 + 0x00:word32] = Mem317[0x0817D260:word32];
				Mem329[0x0817D260:word32] = escape_spaces(dwArg00);
			}
			eax_26 = Mem317[0x0817D260:word32];
			return eax_26;
		}
		Mem332[esp_296 + 0x00:word32] = Mem309[Mem309[ebp_297 + 0x08:word32] + 0x00:word32];
		Mem334[ebp_297 - 0x14 + 0x00:word32] = lastFileName(dwArg00);
		Mem336[esp_296 + 0x00:word32] = Mem334[ebp_297 - 0x14 + 0x00:word32];
		word32 eax_337 = strlen(Mem336[esp_296 + 0x00:(ptr char)]);
		Mem338[ebp_297 - 0x0C + 0x00:word32] = eax_337;
		Strnew(eax_337);
		Mem339[135778916:word32] = eax_337;
		while (true)
		{
			word32 eax_342 = Mem339[ebp_297 - 0x1C + 0x00:word32];
			Mem343[esp_296 + 0x00:word32] = eax_342;
			word32 ebx_346;
			byte SCZO_347;
			word32 eax_348;
			byte SZO_349;
			byte C_350;
			byte Z_351;
			word32 edx_352;
			byte al_353;
			byte SO_354;
			word32 ecx_355;
			byte cl_356;
			!readdir();
			Mem357[ebp_297 - 0x20 + 0x00:word32] = eax_348;
			if (Mem357[ebp_297 - 0x20 + 0x00:word32] == 0x00)
				break;
			if (Mem357[ebp_297 - 0x0C + 0x00:word32] == 0x00)
			{
				word32 eax_529 = Mem357[ebp_297 - 0x20 + 0x00:word32];
				Mem531[esp_296 + 0x04:word32] = 0x080CB055;
				Mem532[esp_296 + 0x00:word32] = eax_529 + 11;
				if (strcmp(Mem532[esp_296 + 0x00:(ptr char)], Mem532[esp_296 + 0x04:(ptr char)]) == 0x00)
				{
l0807F18F:
					continue;
				}
				word32 eax_541 = Mem532[ebp_297 - 0x20 + 0x00:word32];
				Mem543[esp_296 + 0x04:word32] = 0x080CB057;
				Mem544[esp_296 + 0x00:word32] = eax_541 + 11;
				if (strcmp(Mem544[esp_296 + 0x00:(ptr char)], Mem544[esp_296 + 0x04:(ptr char)]) == 0x00)
					goto l0807F18F;
			}
			word32 edx_430 = Mem357[ebp_297 - 0x20 + 0x00:word32];
			Mem432[esp_296 + 0x08:word32] = Mem357[ebp_297 - 0x0C + 0x00:word32];
			Mem434[esp_296 + 0x04:word32] = Mem432[ebp_297 - 0x14 + 0x00:word32];
			Mem435[esp_296 + 0x00:word32] = edx_430 + 11;
			if (strncmp(Mem435[esp_296 + 0x00:(ptr char)], Mem435[esp_296 + 0x04:(ptr char)], Mem435[esp_296 + 0x08:int32]) == 0x00)
			{
				Mem443[0x0817D278:word32] = Mem435[0x0817D278:word32] + 0x01;
				word32 eax_446 = Mem443[0x0817D274:word32];
				Mem447[esp_296 + 0x04:word32] = Mem443[0x0817D278:word32] * 0x04;
				Mem448[esp_296 + 0x00:word32] = eax_446;
				word32 esp_449;
				word32 ebp_450;
				word32 ebx_451;
				byte SCZO_452;
				word32 eax_453;
				byte SZO_454;
				byte C_455;
				byte Z_456;
				word32 edx_457;
				byte al_458;
				byte SO_459;
				word32 ecx_460;
				byte cl_461;
				!GC_realloc();
				Mem462[0x0817D274:word32] = eax_453;
				Mem470[esp_449 + 0x00:word32] = Mem462[ebp_450 - 0x20 + 0x00:word32] + 11;
				Mem474[esp_449 + 0x00:word32] = strlen(Mem470[esp_449 + 0x00:(ptr char)]) + 0x01;
				word32 ebx_477;
				byte SCZO_478;
				word32 eax_479;
				byte SZO_480;
				byte C_481;
				byte Z_482;
				word32 edx_483;
				byte al_484;
				byte SO_485;
				word32 ecx_486;
				byte cl_487;
				!GC_malloc_atomic();
				Mem488[ebx_477 + 0x00:word32] = eax_479;
				word32 eax_497 = Mem488[0x0817D274:word32][(Mem488[0x0817D278:word32] - 0x01) * 0x04];
				Mem498[esp_296 + 0x04:word32] = Mem488[ebp_297 - 0x20 + 0x00:word32] + 11;
				Mem499[esp_296 + 0x00:word32] = eax_497;
				strcpy(Mem499[esp_296 + 0x00:(ptr char)], Mem499[esp_296 + 0x04:(ptr char)]);
				if (Mem499[0x0817D278:word32] == 0x01)
				{
					word32 eax_504 = Mem499[ebp_297 - 0x20 + 0x00:word32];
					Mem507[esp_296 + 0x00:word32] = eax_504 + 11;
					Strnew_charp(eax_504 + 11, dwArg00);
					Mem508[135778916:word32] = eax_504 + 11;
				}
				else
				{
					Mem509[ebp_297 - 0x10 + 0x00:word32] = 0x00;
					while ((byte) (word32) Mem509[Mem509[Mem509[135778916:word32] + 0x00:word32] + Mem509[(ebp_297 - 0x10) + 0x00:word32]:byte] == (byte) ((word32) Mem509[(Mem509[(ebp_297 - 0x20) + 0x00:word32] + 11) + Mem509[(ebp_297 - 0x10) + 0x00:word32]:byte]))
						Mem527[ebp_297 - 0x10 + 0x00:word32] = Mem509[ebp_297 - 0x10 + 0x00:word32] + 0x01;
					word32 eax_522 = Mem509[135778916:word32];
					Mem524[esp_296 + 0x04:word32] = Mem509[ebp_297 - 0x10 + 0x00:word32];
					Mem525[esp_296 + 0x00:word32] = eax_522;
					Strtruncate(dwArg00, dwArg04);
				}
			}
		}
		word32 eax_360 = Mem357[ebp_297 - 0x1C + 0x00:word32];
		Mem361[esp_296 + 0x00:word32] = eax_360;
		word32 esp_362;
		word32 ebp_363;
		word32 ebx_364;
		byte SCZO_365;
		word32 eax_366;
		byte SZO_367;
		byte C_368;
		byte Z_369;
		word32 edx_370;
		byte al_371;
		byte SO_372;
		word32 ecx_373;
		byte cl_374;
		!closedir();
		if (Mem361[0x0817D278:word32] == 0x00)
		{
			Mem410[esp_362 + 0x00:word32] = Mem361[ebp_363 + 0x08:word32];
			Mem412[0x0817D260:word32] = Strdup(dwArg00);
			Mem414[Mem412[ebp_363 + 0x0C:word32] + 0x00:word32] = 0x02;
			if ((Mem414[135778968:word32] & 0x02) != 0x00)
			{
				Mem424[esp_362 + 0x00:word32] = Mem414[0x0817D260:word32];
				Mem426[0x0817D260:word32] = escape_spaces(dwArg00);
			}
			eax_26 = Mem414[0x0817D260:word32];
			return eax_26;
		}
		word32 eax_379 = Mem361[0x0817D278:word32];
		word32 eax_381 = Mem361[0x0817D274:word32];
		Mem382[esp_362 + 0x0C:word32] = 134948483;
		Mem383[esp_362 + 0x08:word32] = 0x04;
		Mem384[esp_362 + 0x04:word32] = eax_379;
		Mem385[esp_362 + 0x00:word32] = eax_381;
		word32 ebx_388;
		byte SCZO_389;
		word32 eax_390;
		byte SZO_391;
		byte C_392;
		byte Z_393;
		word32 edx_394;
		byte al_395;
		byte SO_396;
		word32 ecx_397;
		byte cl_398;
		!qsort();
		Mem399[0x0817D27C:word32] = 0x00;
		if (Mem399[0x0817D278:word32] > 0x01)
		{
			Mem403[135778972:word32] = 0x01;
			Mem405[Mem403[ebp_387 + 0x0C:word32] + 0x00:word32] = 0x01;
		}
		else
			Mem408[Mem399[ebp_387 + 0x0C:word32] + 0x00:word32] = 0x00;
	}
	else
	{
		word32 eax_685 = Mem0[0x0817D274:word32][Mem0[0x0817D27C:word32] * 0x04];
		Strnew_charp(eax_685, eax_685);
		Mem687[135778916:word32] = eax_685;
		word32 edx_693 = Mem687[0x0817D27C:word32] + dwArg0C + Mem687[0x0817D278:word32];
		Mem704[0x0817D27C:word32] = (int32) (SEQ(edx_693 >> 0x1F, edx_693) % Mem687[0x0817D278:word32]);
		Mem706[dwArg08 + 0x00:word32] = 0x03;
	}
	Mem51[esp_386 + 0x00:word32] = Mem0[0x0817D270:word32];
	Mem54[0x0817D260:word32] = Strdup(dwArg00);
	if (Mem54[Mem54[0x0817D260:word32] + 0x04:word32] != 0x00 && (Mem54[Mem54[0x0817D260:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem54[Mem54[Mem54[0x0817D260:word32] + 0x00:word32] + (Mem54[Mem54[0x0817D260:word32] + 0x04:word32] - 0x01):byte]) != 0x2F))
	{
		if (Mem54[Mem54[0x0817D260:word32] + 0x04:word32] + 0x01 >= Mem54[Mem54[0x0817D260:word32] + 0x08:word32])
		{
			Mem219[esp_386 + 0x00:word32] = Mem54[0x0817D260:word32];
			Strgrow(dwArg00);
		}
		word32 eax_204 = Mem54[0x0817D260:word32];
		word32 edx_205 = Mem54[eax_204 + 0x04:word32];
		Mem208[Mem54[Mem54[0x0817D260:word32] + 0x00:word32] + edx_205:byte] = 0x2F;
		Mem211[eax_204 + 0x04:word32] = edx_205 + 0x01;
		Mem217[Mem211[Mem211[0x0817D260:word32] + 0x00:word32] + Mem211[Mem211[0x0817D260:word32] + 0x04:word32]:byte] = 0x00;
	}
	word32 eax_67 = Mem54[0x0817D260:word32];
	Mem68[esp_386 + 0x04:word32] = Mem54[135778916:word32];
	Mem69[esp_386 + 0x00:word32] = eax_67;
	Strcat(dwArg00, dwArg04);
	if (Mem69[Mem69[ebp_387 + 0x0C:word32] + 0x00:word32] != 0x01)
	{
		Mem103[ebp_387 - 0x18 + 0x00:word32] = Mem69[Mem69[0x0817D260:word32] + 0x00:word32];
		if ((Mem103[135778968:word32] & 0x08) != 0x00)
		{
			Mem150[esp_386 + 0x08:word32] = 0x11;
			Mem151[esp_386 + 0x04:word32] = 0x080CAFCC;
			Mem153[esp_386 + 0x00:word32] = Mem151[ebp_387 - 0x18 + 0x00:word32];
			if (strncmp(Mem153[esp_386 + 0x00:(ptr char)], Mem153[esp_386 + 0x04:(ptr char)], Mem153[esp_386 + 0x08:int32]) == 0x00)
				Mem159[ebp_387 - 0x18 + 0x00:word32] = Mem153[ebp_387 - 0x18 + 0x00:word32] + 0x10;
			else
			{
				Mem161[esp_386 + 0x08:word32] = 0x08;
				Mem162[esp_386 + 0x04:word32] = 0x080CAFDE;
				Mem164[esp_386 + 0x00:word32] = Mem162[ebp_387 - 0x18 + 0x00:word32];
				if (strncmp(Mem164[esp_386 + 0x00:(ptr char)], Mem164[esp_386 + 0x04:(ptr char)], Mem164[esp_386 + 0x08:int32]) == 0x00)
					Mem170[ebp_387 - 0x18 + 0x00:word32] = Mem164[ebp_387 - 0x18 + 0x00:word32] + 0x07;
				else
				{
					Mem172[esp_386 + 0x08:word32] = 0x06;
					Mem173[esp_386 + 0x04:word32] = 135049191;
					Mem175[esp_386 + 0x00:word32] = Mem173[ebp_387 - 0x18 + 0x00:word32];
					if (strncmp(Mem175[esp_386 + 0x00:(ptr char)], Mem175[esp_386 + 0x04:(ptr char)], Mem175[esp_386 + 0x08:int32]) == 0x00 && (byte) ((word32) Mem175[Mem175[(ebp_387 - 0x18) + 0x00:word32] + 0x06:byte]) != 0x2F)
						Mem187[ebp_387 - 0x18 + 0x00:word32] = Mem175[ebp_387 - 0x18 + 0x00:word32] + 0x05;
				}
			}
		}
		Mem113[esp_386 + 0x00:word32] = Mem103[ebp_387 - 0x18 + 0x00:word32];
		word32 eax_114 = expandPath(dwArg00);
		Mem116[esp_386 + 0x04:word32] = ebp_387 - 0x78;
		Mem117[esp_386 + 0x00:word32] = eax_114;
		if (stat(dwArg00, dwArg04) != ~0x00 && (Mem117[(ebp_387 - 0x68) + 0x00:word32] & 0xF000) == 0x4000)
		{
			if (Mem117[Mem117[0x0817D260:word32] + 0x04:word32] + 0x01 >= Mem117[Mem117[0x0817D260:word32] + 0x08:word32])
			{
				Mem149[esp_386 + 0x00:word32] = Mem117[0x0817D260:word32];
				Strgrow(dwArg00);
			}
			word32 eax_134 = Mem117[0x0817D260:word32];
			word32 edx_135 = Mem117[eax_134 + 0x04:word32];
			Mem138[Mem117[Mem117[0x0817D260:word32] + 0x00:word32] + edx_135:byte] = 0x2F;
			Mem141[eax_134 + 0x04:word32] = edx_135 + 0x01;
			Mem147[Mem141[Mem141[0x0817D260:word32] + 0x00:word32] + Mem141[Mem141[0x0817D260:word32] + 0x04:word32]:byte] = 0x00;
		}
	}
	if ((Mem69[135778968:word32] & 0x02) != 0x00)
	{
		Mem98[esp_386 + 0x00:word32] = Mem69[0x0817D260:word32];
		Mem100[0x0817D260:word32] = escape_spaces(dwArg00);
	}
	word32 edx_87 = Mem69[0x080D5378:word32];
	word32 eax_88 = Mem69[0x0817D260:word32];
	Mem89[esp_386 + 0x08:word32] = Mem69[135091052:word32];
	Mem90[esp_386 + 0x04:word32] = edx_87;
	Mem91[esp_386 + 0x00:word32] = eax_88;
	word32 ebx_93;
	eax_26 = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_93);
	return eax_26;
}

// 0807F5AE: void _prev(Register word32 ebp)
void _prev(word32 ebp)
{
	word32 eax_8 = Mem0[135779000:word32];
	if (Mem0[0x0817D2C0:word32] != 0x00)
	{
		word32 dwLoc14_29;
		if (Mem0[135779004:word32] != 0x00)
		{
			word32 eax_67 = prevHist(eax_8);
			dwLoc14_29 = eax_67;
			if (eax_67 == 0x00)
				return;
		}
		else
		{
			word32 eax_73 = lastHist(eax_8);
			dwLoc14_29 = eax_73;
			if (eax_73 == 0x00)
				return;
			Mem78[135779004:word32] = Mem0[0x0817CA40:word32];
		}
		if (Mem0[135774932:word32] != 0x00 && (Mem0[135778968:word32] & 0x08) != 0x00)
			Mem64[fp - 0x14 + 0x00:word32] = url_unquote_conv(dwLoc14_29, 0x00);
		word32 eax_42 = Mem0[fp - 0x14 + 0x00:word32];
		Mem43[fp - 44 + 0x00:word32] = eax_42;
		Strnew_charp(eax_42, dwArg00);
		Mem45[0x0817CA40:word32] = eax_42;
		word32 eax_46 = Mem45[0x0817CA40:word32];
		Mem47[fp - 0x28 + 0x00:word32] = 0x0817CA60;
		Mem48[fp - 44 + 0x00:word32] = eax_46;
		Mem51[0x0817D280:word32] = setStrType(dwArg00, dwArg04);
		Mem53[135778948:word32] = Mem51[0x0817D280:word32];
		Mem54[0x0817D288:word32] = 0x00;
	}
}

// 0807F67A: void _next(Register word32 ebp)
void _next(word32 ebp)
{
	word32 eax_8 = Mem0[135779000:word32];
	if (Mem0[0x0817D2C0:word32] != 0x00 && Mem0[135779004:word32] != 0x00)
	{
		word32 eax_31 = nextHist(eax_8);
		if (eax_31 != 0x00)
		{
			if (Mem0[135774932:word32] != 0x00 && (Mem0[135778968:word32] & 0x08) != 0x00)
				Mem72[fp - 0x14 + 0x00:word32] = url_unquote_conv(eax_31, 0x00);
			word32 eax_60 = Mem0[fp - 0x14 + 0x00:word32];
			Mem61[fp - 44 + 0x00:word32] = eax_60;
			Strnew_charp(eax_60, dwArg00);
			Mem62[0x0817CA40:word32] = eax_60;
		}
		else
		{
			Mem74[0x0817CA40:word32] = Mem0[135779004:word32];
			Mem75[135779004:word32] = 0x00;
		}
		word32 eax_40 = Mem0[0x0817CA40:word32];
		Mem41[fp - 0x28 + 0x00:word32] = 0x0817CA60;
		Mem42[fp - 44 + 0x00:word32] = eax_40;
		Mem46[0x0817D280:word32] = setStrType(dwArg00, dwArg04);
		Mem48[135778948:word32] = Mem46[0x0817D280:word32];
		Mem49[0x0817D288:word32] = 0x00;
	}
}

// 0807F73D: Register word32 setStrType(Stack word32 dwArg04, Stack word32 dwArg08)
word32 setStrType(word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 dwLoc0C_11 = eax_10;
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc14_109 = 0x00;
	while (dwLoc0C_11 <u eax_14)
	{
		word32 eax_58 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc0C_11 + 0x00:byte] + 0x08179AE0:byte];
		if (dwLoc14_109 + eax_58 > 0x0400)
			return dwLoc14_109;
		word16 ax_73 = (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc0C_11 + 0x00:byte] + 0x08179BE0:byte] << 0x08);
		word16 wLoc06_133 = ax_73;
		if (Mem0[0x0817D2B0:word32] != 0x00)
		{
			if (((word32) ax_73 & 0x0100) != 0x00)
				wLoc06_133 = 0x00;
			if (((word32) wLoc06_133 & 0x1000) != 0x00)
				wLoc06_133 = 0x0200;
		}
		dwArg08[dwLoc14_109 * 0x02] = (word16) (word32) wLoc06_133;
		dwLoc14_109 = dwLoc14_109 + 0x01;
		dwLoc0C_11 = dwLoc0C_11 + eax_58;
		word32 dwLoc18_106 = eax_58 - 0x01;
		if (eax_58 != 0x01)
		{
			word16 ax_102 = DPB(ax_73, SLICE((word32) wLoc06_133, byte, 8) & ~0x06 | 0x04, 8);
			while (true)
			{
				dwLoc18_106 = dwLoc18_106 - 0x01;
				if (dwLoc18_106 != 0x00 == 0x00)
					break;
				dwArg08[dwLoc14_109 * 0x02] = (word16) (word32) ax_102;
				dwLoc14_109 = dwLoc14_109 + 0x01;
			}
		}
	}
	return dwLoc14_109;
}

// 0807F846: Register word32 terminated(Stack word32 dwArg04)
word32 terminated(word32 dwArg04)
{
	byte al_10 = (byte) dwArg04;
	word32 dwLoc08_18 = fp - 0x1C;
	while (true)
	{
		word32 eax_33;
		if (Mem0[dwLoc08_18 + 0x00:word32] <= 0x00)
			break;
		if ((word32) al_10 == Mem0[dwLoc08_18 + 0x00:word32])
		{
			eax_33 = 0x01;
			return eax_33;
		}
		dwLoc08_18 = dwLoc08_18 + 0x04;
	}
	eax_33 = 0x00;
	return eax_33;
}

// 0807F8A5: void _editor(Register word32 ebp, Register selector gs)
void _editor(word32 ebp, selector gs)
{
	if (Mem0[0x0817D2B0:word32] == 0x00)
	{
		word32 eax_37 = Strdup(Mem0[0x0817CA40:word32]);
		if (Mem0[eax_37 + 0x04:word32] + 0x01 >= Mem0[eax_37 + 0x08:word32])
			Strgrow(eax_37);
		word32 edx_49 = Mem0[eax_37 + 0x04:word32];
		Mem52[Mem0[eax_37 + 0x00:word32] + edx_49:byte] = 0x0A;
		Mem55[eax_37 + 0x04:word32] = edx_49 + 0x01;
		Mem61[Mem55[eax_37 + 0x00:word32] + Mem55[eax_37 + 0x04:word32]:byte] = 0x00;
		word32 eax_65 = input_textarea(fp - 0x04, gs);
		Strnew(eax_65);
		Mem66[0x0817CA40:word32] = eax_65;
		Mem69[fp - 0x10 + 0x00:word32] = Mem66[Mem66[fp - 0x50 + 0x00:word32] + 0x00:word32];
		while ((byte) (word32) Mem69[Mem69[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem69[Mem69[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x0D && (byte) ((word32) Mem69[Mem69[(fp - 0x10) + 0x00:word32] + 0x00:byte]) != 0x0A)
			{
				if (Mem69[Mem69[0x0817CA40:word32] + 0x04:word32] + 0x01 >= Mem69[Mem69[0x0817CA40:word32] + 0x08:word32])
				{
					Mem151[fp - 0x6C + 0x00:word32] = Mem69[0x0817CA40:word32];
					Strgrow(dwArg00);
				}
				word32 eax_133 = Mem69[0x0817CA40:word32];
				word32 edx_134 = Mem69[eax_133 + 0x04:word32];
				Mem140[Mem69[Mem69[0x0817CA40:word32] + 0x00:word32] + edx_134:byte] = (byte) (word32) Mem69[Mem69[fp - 0x10 + 0x00:word32] + 0x00:byte];
				Mem143[eax_133 + 0x04:word32] = edx_134 + 0x01;
				Mem149[Mem143[Mem143[0x0817CA40:word32] + 0x00:word32] + Mem143[Mem143[0x0817CA40:word32] + 0x04:word32]:byte] = 0x00;
			}
			Mem117[fp - 0x10 + 0x00:word32] = Mem69[fp - 0x10 + 0x00:word32] + 0x01;
		}
		word32 eax_83 = Mem69[0x0817CA40:word32];
		Mem84[fp - 0x68 + 0x00:word32] = 0x0817CA60;
		Mem85[fp - 0x6C + 0x00:word32] = eax_83;
		Mem89[0x0817D280:word32] = setStrType(dwArg00, dwArg04);
		Mem91[135778948:word32] = Mem89[0x0817D280:word32];
		if (Mem91[0x08180718:word32] != 0x00)
		{
			word32 eax_98 = Mem91[Mem91[0x08180718:word32] + 0x08:word32];
			Mem99[fp - 0x68 + 0x00:word32] = 0x01;
			Mem100[fp - 0x6C + 0x00:word32] = eax_98;
			real64 rArg0_101;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_101);
		}
	}
}

// 0807FA0C: void LUfactor(Stack word32 dwArg04, Stack word32 dwArg08)
void LUfactor(word32 dwArg04, word32 dwArg08)
{
	word32 eax_11 = Mem0[dwArg04 + 0x04:word32];
	new_vector(eax_11, eax_11);
	word32 dwLoc14_16 = 0x00;
	while (dwLoc14_16 < eax_11)
	{
		dwArg08[dwLoc14_16 * 0x04] = dwLoc14_16;
		dwLoc14_16 = dwLoc14_16 + 0x01;
	}
	word32 dwLoc14_23 = 0x00;
	while (dwLoc14_23 < eax_11)
	{
		real64 rLoc34_385 = 0.0;
		word32 dwLoc18_386 = 0x00;
		while (dwLoc18_386 < eax_11)
		{
			real64 rLoc1_421 = fabs(Mem0[dwArg04 + 0x00:word32][(Mem0[dwArg04 + 0x04:word32] *s dwLoc14_23 + dwLoc18_386) * 0x08]);
			if (rLoc1_421 >u rLoc34_385 != 0x00)
				rLoc34_385 = rLoc1_421;
			dwLoc18_386 = dwLoc18_386 + 0x01;
		}
		Mem0[eax_11 + 0x00:word32][dwLoc14_23 * 0x08] = rLoc34_385;
		dwLoc14_23 = dwLoc14_23 + 0x01;
	}
	word32 dwLoc1C_124 = 0x00;
	while (dwLoc1C_124 < eax_11 - 0x01)
	{
		real64 rLoc34_342 = 0.0;
		word32 dwLoc20_343 = ~0x00;
		word32 dwLoc14_103 = dwLoc1C_124;
		while (dwLoc14_103 < eax_11)
		{
			if (fabs(Mem0[eax_11 + 0x00:word32][dwLoc14_103 * 0x08]) >=u fabs(Mem0[dwArg04 + 0x00:word32][(Mem0[dwArg04 + 0x04:word32] *s dwLoc14_103 + dwLoc1C_124) * 0x08]) * Mem0[0x080D56C0:real64] != 0x00)
			{
				real64 rLoc1_369 = fabs(Mem0[dwArg04 + 0x00:word32][(Mem0[dwArg04 + 0x04:word32] *s dwLoc14_103 + dwLoc1C_124) * 0x08]) / Mem0[eax_11 + 0x00:word32][dwLoc14_103 * 0x08];
				if (rLoc1_369 >u rLoc34_342 != 0x00)
				{
					rLoc34_342 = rLoc1_369;
					dwLoc20_343 = dwLoc14_103;
				}
			}
			dwLoc14_103 = dwLoc14_103 + 0x01;
		}
		if (dwLoc20_343 == ~0x00)
			Mem136[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] + 0x01 << 0x03) *s dwLoc1C_124:real64] = 0.0;
		else
		{
			if (dwLoc20_343 != dwLoc1C_124)
			{
				word32 eax_242 = dwArg08[dwLoc20_343 * 0x04];
				dwArg08[dwLoc20_343 * 0x04] = dwArg08[dwLoc1C_124 * 0x04];
				dwArg08[dwLoc1C_124 * 0x04] = eax_242;
				word32 dwLoc18_258 = 0x00;
				while (dwLoc18_258 < eax_11)
				{
					real64 rLoc1_275 = Mem257[dwArg04 + 0x00:word32][(Mem257[dwArg04 + 0x04:word32] *s dwLoc20_343 + dwLoc18_258) * 0x08];
					Mem257[dwArg04 + 0x00:word32][(Mem257[dwArg04 + 0x04:word32] *s dwLoc20_343 + dwLoc18_258) * 0x08] = Mem257[dwArg04 + 0x00:word32][(Mem257[dwArg04 + 0x04:word32] *s dwLoc1C_124 + dwLoc18_258) * 0x08];
					Mem294[dwArg04 + 0x00:word32][(Mem294[dwArg04 + 0x04:word32] *s dwLoc1C_124 + dwLoc18_258) * 0x08] = rLoc1_275;
					dwLoc18_258 = dwLoc18_258 + 0x01;
				}
			}
			word32 dwLoc14_150 = dwLoc1C_124 + 0x01;
			while (dwLoc14_150 < eax_11)
			{
				word32 eax_168 = Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] *s dwLoc14_150 + dwLoc1C_124 << 0x03);
				Mem188[eax_168 + 0x00:real64] = Mem0[dwArg04 + 0x00:word32][(Mem0[dwArg04 + 0x04:word32] *s dwLoc14_150 + dwLoc1C_124) * 0x08] / Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] + 0x01 << 0x03) *s dwLoc1C_124:real64];
				real64 rLoc1_189 = Mem188[eax_168 + 0x00:real64];
				word32 dwLoc18_194 = dwLoc1C_124 + 0x01;
				while (dwLoc18_194 < eax_11)
				{
					Mem188[dwArg04 + 0x00:word32][(Mem188[dwArg04 + 0x04:word32] *s dwLoc14_150 + dwLoc18_194) * 0x08] = Mem188[dwArg04 + 0x00:word32][(Mem188[dwArg04 + 0x04:word32] *s dwLoc14_150 + dwLoc18_194) * 0x08] - Mem188[dwArg04 + 0x00:word32][(Mem188[dwArg04 + 0x04:word32] *s dwLoc1C_124 + dwLoc18_194) * 0x08] * rLoc1_189;
					dwLoc18_194 = dwLoc18_194 + 0x01;
				}
				dwLoc14_150 = dwLoc14_150 + 0x01;
			}
		}
		dwLoc1C_124 = dwLoc1C_124 + 0x01;
	}
}

// 0807FD68: Register word32 LUsolve(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 LUsolve(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_11 = Mem0[dwArg04 + 0x04:word32];
	word32 dwLoc10_13 = 0x00;
	while (dwLoc10_13 < eax_11)
	{
		Mem0[dwArg10 + 0x00:word32][dwLoc10_13 * 0x08] = Mem0[dwArg0C + 0x00:word32][dwArg08[dwLoc10_13 * 0x04] * 0x08];
		dwLoc10_13 = dwLoc10_13 + 0x01;
	}
	word32 eax_47;
	if (Lsolve(dwArg04, dwArg10, dwArg10, (word32) 1.0, 0x00) != ~0x00 && Usolve(dwArg04, dwArg10, dwArg10, (word32) 0.0, 0x00) != ~0x00)
		eax_47 = 0x00;
	else
		eax_47 = ~0x00;
	return eax_47;
}

// 0807FE0A: void LUinverse(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void LUinverse(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_10 = Mem0[dwArg04 + 0x04:word32];
	if (dwArg0C == 0x00)
	{
		new_matrix(eax_10, eax_10);
		dwArg0C = eax_10;
	}
	new_vector(eax_10, eax_10);
	new_vector(eax_10, eax_10);
	word32 dwLoc10_22 = 0x00;
	while (dwLoc10_22 < eax_10)
	{
		word32 dwLoc14_123 = 0x00;
		while (dwLoc14_123 < eax_10)
		{
			Mem0[eax_10 + 0x00:word32][dwLoc14_123 * 0x08] = 0.0;
			dwLoc14_123 = dwLoc14_123 + 0x01;
		}
		Mem0[eax_10 + 0x00:word32][dwLoc10_22 * 0x08] = 1.0;
		if (LUsolve(dwArg04, dwArg08, eax_10, eax_10) == ~0x00)
			return;
		word32 dwLoc14_113 = 0x00;
		while (dwLoc14_113 < eax_10)
		{
			Mem72[dwArg0C + 0x00:word32][(Mem72[dwArg0C + 0x04:word32] *s dwLoc14_113 + dwLoc10_22) * 0x08] = Mem72[eax_10 + 0x00:word32][dwLoc14_113 * 0x08];
			dwLoc14_113 = dwLoc14_113 + 0x01;
		}
		dwLoc10_22 = dwLoc10_22 + 0x01;
	}
}

// 0807FF0A: Register word32 Usolve(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 Usolve(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	ptr32 fp;
	word32 ebp;
	word32 dwArg10;
	word32 dwArg14;
	word32 dwArg04;
	<type-error> Mem0;
	byte P;
	byte CZP;
	byte SZO;
	byte Z;
	byte C;
	word32 edx;
	real64 rLoc2;
	real64 rLoc1;
	real64 rLoc1C;
	word32 dwLoc0C;
	real64 rLoc3;
	word32 ecx;
	byte al;
	word32 dwArg08;
	real64 rLoc2C;
	word32 dwArg0C;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebp;
	ebp_5 = fp - 0x04;
	esp_6 = fp - 44;
	eax_8 = dwArg10;
	dwLoc2C_9 = eax_8;
	eax_11 = dwArg14;
	dwLoc28_12 = eax_11;
	eax_14 = dwArg04;
	eax_16 = Mem0[eax_14 + 0x04:word32];
	dwLoc14_17 = eax_16;
	eax_18 = dwLoc14_17;
	eax_19 = eax_18 - 0x01;
	SCZO_20 = cond(eax_19);
	dwLoc08_21 = eax_19;
	while (true)
	{
		P_30 = ϕ(P, P_228);
		CZP_31 = ϕ(CZP, CZP_225);
		SZO_32 = ϕ(SZO, SZO_229);
		Z_33 = ϕ(Z, Z_227);
		C_34 = ϕ(C, C_230);
		edx_35 = ϕ(edx, edx_235);
		rLoc2_36 = ϕ(rLoc2, rLoc2_223);
		rLoc1_37 = ϕ(rLoc1, rLoc1_237);
		dwLoc08_38 = ϕ(dwLoc08_21, dwLoc08_240);
		eax_39 = ϕ(eax_19, eax_236);
		SCZO_40 = cond(dwLoc08_38 - 0x00);
		S_41 = SCZO_40;
		if (dwLoc08_38 < 0x00)
			break;
		eax_214 = dwArg08;
		eax_215 = Mem0[eax_214 + 0x00:word32];
		edx_216 = dwLoc08_38;
		edx_217 = edx_216 << 0x03;
		eax_218 = eax_215 + edx_217;
		SCZO_219 = cond(eax_218);
		rLoc1_220 = Mem0[eax_218 + 0x00:real64];
		rLoc2_221 = 0.0;
		v10_222 = rLoc2_221;
		rLoc2_223 = rLoc1_220;
		rLoc1_224 = v10_222;
		CZP_225 = cond(rLoc2_223 - rLoc1_224);
		SCZO_226 = CZP_225;
		Z_227 = CZP_225;
		P_228 = CZP_225;
		SZO_229 = CZP_225;
		C_230 = CZP_225;
		rLoc1_231 = rLoc1_224;
		if (Test(NE,Z_227) || Test(PE,P_228))
			break;
		eax_232 = dwArg0C;
		eax_233 = Mem0[eax_232 + 0x00:word32];
		edx_234 = dwLoc08_38;
		edx_235 = edx_234 << 0x03;
		eax_236 = eax_233 + edx_235;
		rLoc1_237 = 0.0;
		Mem238[eax_236 + 0x00:real64] = rLoc1_237;
		v14_239 = dwLoc08_38 - 0x01;
		dwLoc08_240 = v14_239;
		SCZO_241 = cond(v14_239);
	}
	P_42 = ϕ(P_30, P_228);
	CZP_43 = ϕ(CZP_31, CZP_225);
	SZO_44 = ϕ(SZO_32, SZO_229);
	Z_45 = ϕ(Z_33, Z_227);
	C_46 = ϕ(C_34, C_230);
	edx_47 = ϕ(edx_35, edx_217);
	rLoc2_48 = ϕ(rLoc2_36, rLoc2_223);
	rLoc1_49 = ϕ(rLoc1_37, rLoc1_231);
	SCZO_50 = ϕ(SCZO_40, SCZO_226);
	eax_51 = dwLoc08_38;
	dwLoc10_52 = eax_51;
	while (true)
	{
		rLoc1C_58 = ϕ(rLoc1C, rLoc1C_106);
		dwLoc0C_59 = ϕ(dwLoc0C, dwLoc0C_107);
		P_60 = ϕ(P_42, P_123);
		rLoc3_61 = ϕ(rLoc3, rLoc3_127);
		CZP_62 = ϕ(CZP_43, CZP_128);
		SZO_63 = ϕ(SZO_44, SZO_129);
		Z_64 = ϕ(Z_45, Z_130);
		C_65 = ϕ(C_46, C_131);
		edx_66 = ϕ(edx_47, edx_132);
		ecx_67 = ϕ(ecx, ecx_133);
		rLoc2_68 = ϕ(rLoc2_48, rLoc2_134);
		rLoc1_69 = ϕ(rLoc1_49, rLoc1_135);
		dwLoc08_70 = ϕ(dwLoc08_38, dwLoc08_139);
		eax_71 = ϕ(eax_51, eax_136);
		al_72 = ϕ(al, al_137);
		SCZO_73 = cond(dwLoc08_70 - 0x00);
		S_74 = SCZO_73;
		if (dwLoc08_70 < 0x00)
			break;
		eax_95 = dwArg08;
		eax_96 = Mem0[eax_95 + 0x00:word32];
		edx_97 = dwLoc08_70;
		edx_98 = edx_97 << 0x03;
		eax_99 = eax_96 + edx_98;
		rLoc1_100 = Mem0[eax_99 + 0x00:real64];
		rLoc1C_101 = rLoc1_100;
		eax_102 = dwLoc08_70;
		eax_103 = eax_102 + 0x01;
		SCZO_104 = cond(eax_103);
		dwLoc0C_105 = eax_103;
		while (true)
		{
			rLoc1C_106 = ϕ(rLoc1C_101, rLoc1C_210);
			dwLoc0C_107 = ϕ(dwLoc0C_105, dwLoc0C_212);
			edx_108 = ϕ(edx_98, edx_204);
			rLoc2_109 = ϕ(rLoc2_68, rLoc2_208);
			rLoc1_110 = ϕ(rLoc1_100, rLoc1_209);
			eax_111 = dwLoc0C_107;
			SCZO_112 = cond(eax_111 - dwLoc10_52);
			SZO_113 = SCZO_112;
			if (eax_111 > dwLoc10_52)
				break;
			eax_192 = dwArg04;
			edx_193 = Mem0[eax_192 + 0x00:word32];
			eax_194 = dwArg04;
			eax_195 = Mem0[eax_194 + 0x04:word32];
			eax_196 = eax_195 *s dwLoc08_70;
			eax_197 = eax_196 + dwLoc0C_107;
			eax_198 = eax_197 << 0x03;
			eax_199 = edx_193 + eax_198;
			rLoc1_200 = Mem0[eax_199 + 0x00:real64];
			eax_201 = dwArg0C;
			eax_202 = Mem0[eax_201 + 0x00:word32];
			edx_203 = dwLoc0C_107;
			edx_204 = edx_203 << 0x03;
			eax_205 = eax_202 + edx_204;
			rLoc2_206 = Mem0[eax_205 + 0x00:real64];
			rLoc1_207 = rLoc1_200 * rLoc2_206;
			rLoc2_208 = rLoc1C_106;
			rLoc1_209 = rLoc2_208 - rLoc1_207;
			rLoc1C_210 = rLoc1_209;
			v20_211 = dwLoc0C_107 + 0x01;
			dwLoc0C_212 = v20_211;
			SCZO_213 = cond(v20_211);
		}
		rLoc1_115 = rLoc2C;
		rLoc2_116 = 0.0;
		v16_117 = rLoc2_116;
		rLoc2_118 = rLoc1_115;
		rLoc1_119 = v16_117;
		CZP_120 = cond(rLoc2_118 - rLoc1_119);
		SCZO_121 = CZP_120;
		Z_122 = CZP_120;
		P_123 = CZP_120;
		SZO_124 = CZP_120;
		C_125 = CZP_120;
		rLoc1_126 = rLoc1_119;
		if (rLoc2_118 == rLoc1_119 && Test(PO,P_123))
		{
			eax_151 = dwArg04;
			edx_152 = Mem0[eax_151 + 0x00:word32];
			eax_153 = dwArg04;
			eax_154 = Mem0[eax_153 + 0x04:word32];
			eax_155 = eax_154 + 0x01;
			eax_156 = eax_155 << 0x03;
			eax_157 = eax_156 *s dwLoc08_70;
			eax_158 = edx_152 + eax_157;
			rLoc1_159 = Mem0[eax_158 + 0x00:real64];
			rLoc1_160 = fabs(rLoc1_159);
			rLoc2_161 = rLoc1C_106;
			rLoc2_162 = fabs(rLoc2_161);
			rLoc3_163 = Mem0[0x080D56C0:real64];
			rLoc2_164 = rLoc2_162 * rLoc3_163;
			CZP_165 = cond(rLoc2_164 - rLoc1_160);
			C_166 = CZP_165;
			rLoc1_167 = rLoc1_160;
			al_168 = Test(UGE,C_166);
			SZO_169 = cond(al_168 & al_168);
			Z_170 = SZO_169;
			C_171 = false;
			if (Test(NE,Z_170))
			{
				eax_172 = ~0x00;
				al_173 = (byte) eax_172;
				goto l08080073;
			}
			eax_174 = dwArg0C;
			eax_175 = Mem0[eax_174 + 0x00:word32];
			edx_176 = dwLoc08_70;
			edx_177 = edx_176 << 0x03;
			edx_178 = eax_175 + edx_177;
			eax_179 = dwArg04;
			ecx_180 = Mem0[eax_179 + 0x00:word32];
			eax_181 = dwArg04;
			eax_182 = Mem0[eax_181 + 0x04:word32];
			eax_183 = eax_182 + 0x01;
			eax_184 = eax_183 << 0x03;
			eax_185 = eax_184 *s dwLoc08_70;
			SCZO_186 = cond(eax_185);
			eax_187 = ecx_180 + eax_185;
			rLoc1_188 = Mem0[eax_187 + 0x00:real64];
			rLoc2_189 = rLoc1C_106;
			rLoc1_190 = rLoc2_189 / rLoc1_188;
			Mem191[edx_178 + 0x00:real64] = rLoc1_190;
		}
		else
		{
			eax_142 = dwArg0C;
			eax_143 = Mem0[eax_142 + 0x00:word32];
			edx_144 = dwLoc08_70;
			edx_145 = edx_144 << 0x03;
			eax_146 = eax_143 + edx_145;
			SCZO_147 = cond(eax_146);
			rLoc1_148 = rLoc1C_106;
			rLoc1_149 = rLoc1_148 / rLoc2C;
			Mem150[eax_146 + 0x00:real64] = rLoc1_149;
		}
		rLoc3_127 = ϕ(rLoc3_163, rLoc3_61);
		CZP_128 = ϕ(CZP_165, CZP_120);
		SZO_129 = ϕ(SZO_169, SZO_124);
		Z_130 = ϕ(Z_170, Z_122);
		C_131 = ϕ(C_171, C_125);
		edx_132 = ϕ(edx_178, edx_145);
		ecx_133 = ϕ(ecx_180, ecx_67);
		rLoc2_134 = ϕ(rLoc2_189, rLoc2_118);
		rLoc1_135 = ϕ(rLoc1_190, rLoc1_149);
		eax_136 = ϕ(eax_187, eax_146);
		al_137 = ϕ(al_168, al_72);
		v22_138 = dwLoc08_70 - 0x01;
		dwLoc08_139 = v22_138;
		SCZO_140 = cond(v22_138);
	}
	eax_92 = 0x00;
	al_93 = (byte) eax_92;
l08080073:
	rLoc1C_75 = ϕ(rLoc1C_58, rLoc1C_106);
	dwLoc0C_76 = ϕ(dwLoc0C_59, dwLoc0C_107);
	P_77 = ϕ(P_60, P_123);
	rLoc3_78 = ϕ(rLoc3_61, rLoc3_163);
	CZP_79 = ϕ(CZP_62, CZP_165);
	SZO_80 = ϕ(SZO_63, SZO_169);
	Z_81 = ϕ(Z_64, Z_170);
	C_82 = ϕ(C_65, C_171);
	edx_83 = ϕ(edx_66, edx_152);
	rLoc2_84 = ϕ(rLoc2_68, rLoc2_164);
	rLoc1_85 = ϕ(rLoc1_69, rLoc1_167);
	SCZO_86 = ϕ(SCZO_73, SCZO_121);
	eax_87 = ϕ(eax_92, eax_172);
	al_88 = ϕ(al_93, al_173);
	esp_89 = fp - 0x04;
	ebp_90 = dwLoc04_4;
	esp_91 = fp;
	return eax_87;
}

// 08080075: Register word32 Lsolve(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 Lsolve(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	ptr32 fp;
	word32 ebp;
	word32 dwArg10;
	word32 dwArg14;
	word32 dwArg04;
	<type-error> Mem0;
	byte P;
	byte CZP;
	byte SZO;
	byte Z;
	byte C;
	word32 edx;
	real64 rLoc2;
	real64 rLoc1;
	real64 rLoc1C;
	word32 dwLoc0C;
	real64 rLoc3;
	word32 ecx;
	byte al;
	word32 dwArg08;
	real64 rLoc2C;
	word32 dwArg0C;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebp;
	ebp_5 = fp - 0x04;
	esp_6 = fp - 44;
	SCZO_7 = cond(fp - 44);
	eax_9 = dwArg10;
	dwLoc2C_10 = eax_9;
	eax_12 = dwArg14;
	dwLoc28_13 = eax_12;
	eax_15 = dwArg04;
	eax_17 = Mem0[eax_15 + 0x04:word32];
	dwLoc14_18 = eax_17;
	dwLoc08_19 = 0x00;
	while (true)
	{
		P_28 = ϕ(P, P_226);
		CZP_29 = ϕ(CZP, CZP_223);
		SZO_30 = ϕ(SZO, SZO_227);
		Z_31 = ϕ(Z, Z_225);
		C_32 = ϕ(C, C_228);
		edx_33 = ϕ(edx, edx_233);
		rLoc2_34 = ϕ(rLoc2, rLoc2_221);
		rLoc1_35 = ϕ(rLoc1, rLoc1_235);
		dwLoc08_36 = ϕ(dwLoc08_19, dwLoc08_238);
		eax_37 = dwLoc08_36;
		SCZO_38 = cond(eax_37 - dwLoc14_18);
		SO_39 = SCZO_38;
		if (eax_37 >= dwLoc14_18)
			break;
		eax_212 = dwArg08;
		eax_213 = Mem0[eax_212 + 0x00:word32];
		edx_214 = dwLoc08_36;
		edx_215 = edx_214 << 0x03;
		eax_216 = eax_213 + edx_215;
		SCZO_217 = cond(eax_216);
		rLoc1_218 = Mem0[eax_216 + 0x00:real64];
		rLoc2_219 = 0.0;
		v10_220 = rLoc2_219;
		rLoc2_221 = rLoc1_218;
		rLoc1_222 = v10_220;
		CZP_223 = cond(rLoc2_221 - rLoc1_222);
		SCZO_224 = CZP_223;
		Z_225 = CZP_223;
		P_226 = CZP_223;
		SZO_227 = CZP_223;
		C_228 = CZP_223;
		rLoc1_229 = rLoc1_222;
		if (Test(NE,Z_225) || Test(PE,P_226))
			break;
		eax_230 = dwArg0C;
		eax_231 = Mem0[eax_230 + 0x00:word32];
		edx_232 = dwLoc08_36;
		edx_233 = edx_232 << 0x03;
		eax_234 = eax_231 + edx_233;
		rLoc1_235 = 0.0;
		Mem236[eax_234 + 0x00:real64] = rLoc1_235;
		v14_237 = dwLoc08_36 + 0x01;
		dwLoc08_238 = v14_237;
		SCZO_239 = cond(v14_237);
	}
	P_40 = ϕ(P_28, P_226);
	CZP_41 = ϕ(CZP_29, CZP_223);
	SZO_42 = ϕ(SZO_30, SZO_227);
	Z_43 = ϕ(Z_31, Z_225);
	C_44 = ϕ(C_32, C_228);
	edx_45 = ϕ(edx_33, edx_215);
	rLoc2_46 = ϕ(rLoc2_34, rLoc2_221);
	rLoc1_47 = ϕ(rLoc1_35, rLoc1_229);
	SCZO_48 = ϕ(SCZO_38, SCZO_224);
	eax_49 = dwLoc08_36;
	dwLoc10_50 = eax_49;
	while (true)
	{
		rLoc1C_56 = ϕ(rLoc1C, rLoc1C_104);
		dwLoc0C_57 = ϕ(dwLoc0C, dwLoc0C_105);
		P_58 = ϕ(P_40, P_121);
		rLoc3_59 = ϕ(rLoc3, rLoc3_125);
		CZP_60 = ϕ(CZP_41, CZP_126);
		SZO_61 = ϕ(SZO_42, SZO_127);
		Z_62 = ϕ(Z_43, Z_128);
		C_63 = ϕ(C_44, C_129);
		edx_64 = ϕ(edx_45, edx_130);
		ecx_65 = ϕ(ecx, ecx_131);
		rLoc2_66 = ϕ(rLoc2_46, rLoc2_132);
		rLoc1_67 = ϕ(rLoc1_47, rLoc1_133);
		dwLoc08_68 = ϕ(dwLoc08_36, dwLoc08_137);
		al_69 = ϕ(al, al_135);
		eax_70 = dwLoc08_68;
		SCZO_71 = cond(eax_70 - dwLoc14_18);
		SO_72 = SCZO_71;
		if (eax_70 >= dwLoc14_18)
			break;
		eax_94 = dwArg08;
		eax_95 = Mem0[eax_94 + 0x00:word32];
		edx_96 = dwLoc08_68;
		edx_97 = edx_96 << 0x03;
		eax_98 = eax_95 + edx_97;
		SCZO_99 = cond(eax_98);
		rLoc1_100 = Mem0[eax_98 + 0x00:real64];
		rLoc1C_101 = rLoc1_100;
		eax_102 = dwLoc10_50;
		dwLoc0C_103 = eax_102;
		while (true)
		{
			rLoc1C_104 = ϕ(rLoc1C_101, rLoc1C_208);
			dwLoc0C_105 = ϕ(dwLoc0C_103, dwLoc0C_210);
			edx_106 = ϕ(edx_97, edx_202);
			rLoc2_107 = ϕ(rLoc2_66, rLoc2_206);
			rLoc1_108 = ϕ(rLoc1_100, rLoc1_207);
			eax_109 = dwLoc0C_105;
			SCZO_110 = cond(eax_109 - dwLoc08_68);
			SO_111 = SCZO_110;
			if (eax_109 >= dwLoc08_68)
				break;
			eax_190 = dwArg04;
			edx_191 = Mem0[eax_190 + 0x00:word32];
			eax_192 = dwArg04;
			eax_193 = Mem0[eax_192 + 0x04:word32];
			eax_194 = eax_193 *s dwLoc08_68;
			eax_195 = eax_194 + dwLoc0C_105;
			eax_196 = eax_195 << 0x03;
			eax_197 = edx_191 + eax_196;
			rLoc1_198 = Mem0[eax_197 + 0x00:real64];
			eax_199 = dwArg0C;
			eax_200 = Mem0[eax_199 + 0x00:word32];
			edx_201 = dwLoc0C_105;
			edx_202 = edx_201 << 0x03;
			eax_203 = eax_200 + edx_202;
			rLoc2_204 = Mem0[eax_203 + 0x00:real64];
			rLoc1_205 = rLoc1_198 * rLoc2_204;
			rLoc2_206 = rLoc1C_104;
			rLoc1_207 = rLoc2_206 - rLoc1_205;
			rLoc1C_208 = rLoc1_207;
			v20_209 = dwLoc0C_105 + 0x01;
			dwLoc0C_210 = v20_209;
			SCZO_211 = cond(v20_209);
		}
		rLoc1_113 = rLoc2C;
		rLoc2_114 = 0.0;
		v15_115 = rLoc2_114;
		rLoc2_116 = rLoc1_113;
		rLoc1_117 = v15_115;
		CZP_118 = cond(rLoc2_116 - rLoc1_117);
		SCZO_119 = CZP_118;
		Z_120 = CZP_118;
		P_121 = CZP_118;
		SZO_122 = CZP_118;
		C_123 = CZP_118;
		rLoc1_124 = rLoc1_117;
		if (rLoc2_116 == rLoc1_117 && Test(PO,P_121))
		{
			eax_149 = dwArg04;
			edx_150 = Mem0[eax_149 + 0x00:word32];
			eax_151 = dwArg04;
			eax_152 = Mem0[eax_151 + 0x04:word32];
			eax_153 = eax_152 + 0x01;
			eax_154 = eax_153 << 0x03;
			eax_155 = eax_154 *s dwLoc08_68;
			eax_156 = edx_150 + eax_155;
			rLoc1_157 = Mem0[eax_156 + 0x00:real64];
			rLoc1_158 = fabs(rLoc1_157);
			rLoc2_159 = rLoc1C_104;
			rLoc2_160 = fabs(rLoc2_159);
			rLoc3_161 = Mem0[0x080D56C0:real64];
			rLoc2_162 = rLoc2_160 * rLoc3_161;
			CZP_163 = cond(rLoc2_162 - rLoc1_158);
			C_164 = CZP_163;
			rLoc1_165 = rLoc1_158;
			al_166 = Test(UGE,C_164);
			SZO_167 = cond(al_166 & al_166);
			Z_168 = SZO_167;
			C_169 = false;
			if (Test(NE,Z_168))
			{
				eax_170 = ~0x00;
				al_171 = (byte) eax_170;
				goto l080801DD;
			}
			eax_172 = dwArg0C;
			eax_173 = Mem0[eax_172 + 0x00:word32];
			edx_174 = dwLoc08_68;
			edx_175 = edx_174 << 0x03;
			edx_176 = eax_173 + edx_175;
			eax_177 = dwArg04;
			ecx_178 = Mem0[eax_177 + 0x00:word32];
			eax_179 = dwArg04;
			eax_180 = Mem0[eax_179 + 0x04:word32];
			eax_181 = eax_180 + 0x01;
			eax_182 = eax_181 << 0x03;
			eax_183 = eax_182 *s dwLoc08_68;
			SCZO_184 = cond(eax_183);
			eax_185 = ecx_178 + eax_183;
			rLoc1_186 = Mem0[eax_185 + 0x00:real64];
			rLoc2_187 = rLoc1C_104;
			rLoc1_188 = rLoc2_187 / rLoc1_186;
			Mem189[edx_176 + 0x00:real64] = rLoc1_188;
		}
		else
		{
			eax_140 = dwArg0C;
			eax_141 = Mem0[eax_140 + 0x00:word32];
			edx_142 = dwLoc08_68;
			edx_143 = edx_142 << 0x03;
			eax_144 = eax_141 + edx_143;
			SCZO_145 = cond(eax_144);
			rLoc1_146 = rLoc1C_104;
			rLoc1_147 = rLoc1_146 / rLoc2C;
			Mem148[eax_144 + 0x00:real64] = rLoc1_147;
		}
		rLoc3_125 = ϕ(rLoc3_161, rLoc3_59);
		CZP_126 = ϕ(CZP_163, CZP_118);
		SZO_127 = ϕ(SZO_167, SZO_122);
		Z_128 = ϕ(Z_168, Z_120);
		C_129 = ϕ(C_169, C_123);
		edx_130 = ϕ(edx_176, edx_143);
		ecx_131 = ϕ(ecx_178, ecx_65);
		rLoc2_132 = ϕ(rLoc2_187, rLoc2_116);
		rLoc1_133 = ϕ(rLoc1_188, rLoc1_147);
		eax_134 = ϕ(eax_185, eax_144);
		al_135 = ϕ(al_166, al_69);
		v22_136 = dwLoc08_68 + 0x01;
		dwLoc08_137 = v22_136;
		SCZO_138 = cond(v22_136);
	}
	eax_91 = 0x00;
	al_92 = (byte) eax_91;
l080801DD:
	SO_73 = ϕ(SO_72, SO_111);
	rLoc1C_74 = ϕ(rLoc1C_56, rLoc1C_104);
	dwLoc0C_75 = ϕ(dwLoc0C_57, dwLoc0C_105);
	P_76 = ϕ(P_58, P_121);
	rLoc3_77 = ϕ(rLoc3_59, rLoc3_161);
	CZP_78 = ϕ(CZP_60, CZP_163);
	SZO_79 = ϕ(SZO_61, SZO_167);
	Z_80 = ϕ(Z_62, Z_168);
	C_81 = ϕ(C_63, C_169);
	edx_82 = ϕ(edx_64, edx_150);
	rLoc2_83 = ϕ(rLoc2_66, rLoc2_162);
	rLoc1_84 = ϕ(rLoc1_67, rLoc1_165);
	SCZO_85 = ϕ(SCZO_71, SCZO_119);
	eax_86 = ϕ(eax_91, eax_170);
	al_87 = ϕ(al_92, al_171);
	esp_88 = fp - 0x04;
	ebp_89 = dwLoc04_4;
	esp_90 = fp;
	return eax_86;
}

// 080801DF: void new_matrix(Register word32 eax, Stack word32 dwArg04)
void new_matrix(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	Mem18[eax_12 + 0x04:word32] = dwArg04;
	word32 esp_24;
	word32 ebp_25;
	byte SCZO_26;
	word32 eax_27;
	word32 edx_28;
	!GC_malloc_atomic();
	Mem31[eax_12 + 0x00:word32] = eax_27;
}

// 0808021B: void new_vector(Register word32 eax, Stack word32 dwArg04)
void new_vector(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	Mem18[eax_12 + 0x04:word32] = dwArg04;
	word32 esp_23;
	word32 ebp_24;
	byte SCZO_25;
	word32 eax_26;
	word32 edx_27;
	!GC_malloc_atomic();
	Mem30[eax_12 + 0x00:word32] = eax_26;
}

// 08080253: FpuStack real64 weight(Stack word32 dwArg04, FpuStack real64 rArg0, FpuStack out ptr32 rArg0Out)
real64 weight(word32 dwArg04, real64 rArg0, ptr32 & rArg0Out)
{
	real64 rLoc1_20;
	if (dwArg04 < Mem0[0x081807A0:word32])
		rLoc1_20 = (real64) dwArg04;
	else
	{
		word32 esp_40;
		word32 ebp_41;
		byte SCZO_42;
		word32 eax_43;
		byte SO_44;
		!log();
		rLoc1_20 = 1.0;
	}
	return rLoc1_20;
}

// 08080297: FpuStack real64 weight2(Stack int32 dwArg04)
real64 weight2(int32 dwArg04)
{
	return (real64) dwArg04 / (real64) Mem0[0x081807A0:word32] * Mem0[0x080CB5C0:real64] + 1.0;
}

// 080802BB: Register word32 bsearch_2short(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
word32 bsearch_2short(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	word32 dwLoc08_104 = dwArg1C;
	word32 dwLoc0C_108 = 0x00;
	word32 eax_25 = (int32) (word16) dwArg04 *s dwArg14 + (int32) ((word16) dwArg0C);
	while (dwLoc08_104 > 0x00)
	{
		word32 eax_59 = (dwLoc08_104 >>u 0x1F) + dwLoc08_104;
		word32 eax_71 = (int32) (word16) (word32) dwArg18[(dwLoc0C_108 + (eax_59 >> 0x01)) * 0x02];
		word32 eax_89 = (int32) (word16) (word32) dwArg08[eax_71 * 0x02] *s dwArg14 + (int32) ((word16) ((word32) dwArg10[eax_71 * 0x02]));
		if (eax_89 == eax_25)
		{
			dwLoc0C_108 = dwLoc0C_108 + (eax_59 >> 0x01);
			return dwLoc0C_108;
		}
		if (eax_89 < eax_25)
		{
			dwLoc08_104 = dwLoc08_104 + ~(eax_59 >> 0x01);
			dwLoc0C_108 = dwLoc0C_108 + ((eax_59 >> 0x01) + 0x01);
		}
		else
			dwLoc08_104 = eax_59 >> 0x01;
	}
	return dwLoc0C_108;
}

// 08080377: Register word32 bsearch_double(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 bsearch_double(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	ptr32 fp;
	word32 ebp;
	word32 dwArg04;
	word32 dwArg08;
	word32 dwArg14;
	word32 dwLoc10;
	word32 edx;
	word32 dwLoc14;
	real64 rLoc1C;
	byte P;
	real64 rLoc2;
	byte CZP;
	byte CZ;
	real64 rLoc1;
	byte Z;
	byte C;
	word16 ax;
	byte al;
	word32 dwArg10;
	<type-error> Mem0;
	word32 dwArg0C;
	real64 rLoc2C;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebp;
	ebp_5 = fp - 0x04;
	esp_6 = fp - 44;
	SCZO_7 = cond(fp - 44);
	eax_9 = dwArg04;
	dwLoc2C_10 = eax_9;
	eax_12 = dwArg08;
	dwLoc28_13 = eax_12;
	eax_15 = dwArg14;
	dwLoc08_16 = eax_15;
	dwLoc0C_17 = 0x00;
	while (true)
	{
		dwLoc10_31 = ϕ(dwLoc10, dwLoc10_74, dwLoc10_74);
		edx_32 = ϕ(edx, edx_76, edx_76);
		dwLoc14_33 = ϕ(dwLoc14, dwLoc14_85, dwLoc14_85);
		rLoc1C_34 = ϕ(rLoc1C, rLoc1C_92, rLoc1C_92);
		P_35 = ϕ(P, P_103, P_103);
		rLoc2_36 = ϕ(rLoc2, rLoc2_110, rLoc2_110);
		CZP_37 = ϕ(CZP, CZP_112, CZP_112);
		CZ_38 = ϕ(CZ, CZ_113, CZ_113);
		rLoc1_39 = ϕ(rLoc1, rLoc1_114, rLoc1_114);
		Z_40 = ϕ(Z, Z_117, Z_117);
		C_41 = ϕ(C, C_118, C_118);
		dwLoc08_42 = ϕ(dwLoc08_16, dwLoc08_122, dwLoc08_129);
		dwLoc0C_43 = ϕ(dwLoc0C_17, dwLoc0C_126, dwLoc0C_43);
		eax_44 = ϕ(eax_15, eax_124, eax_128);
		ax_45 = ϕ(ax, ax_83, ax_83);
		al_46 = ϕ(al, al_115, al_115);
		SCZO_47 = cond(dwLoc08_42 - 0x00);
		SZO_48 = SCZO_47;
		if (dwLoc08_42 <= 0x00)
			break;
		eax_69 = dwLoc08_42;
		edx_70 = eax_69;
		edx_71 = edx_70 >>u 0x1F;
		eax_72 = edx_71 + eax_69;
		eax_73 = eax_72 >> 0x01;
		dwLoc10_74 = eax_73;
		eax_75 = dwLoc10_74;
		edx_76 = dwLoc0C_43;
		eax_77 = edx_76 + eax_75;
		eax_78 = eax_77 + eax_77;
		eax_80 = eax_78 + dwArg10;
		eax_82 = (word32) Mem0[eax_80 + 0x00:word16];
		ax_83 = (word16) eax_82;
		eax_84 = (int32) ax_83;
		dwLoc14_85 = eax_84;
		eax_86 = dwLoc14_85;
		eax_87 = eax_86 << 0x03;
		eax_89 = eax_87 + dwArg0C;
		SCZO_90 = cond(eax_89);
		rLoc1_91 = Mem0[eax_89 + 0x00:real64];
		rLoc1C_92 = rLoc1_91;
		rLoc1_93 = rLoc1C_92;
		rLoc2_95 = rLoc2C;
		v11_96 = rLoc2_95;
		rLoc2_97 = rLoc1_93;
		rLoc1_98 = v11_96;
		CZP_99 = cond(rLoc2_97 - rLoc1_98);
		SCZO_100 = CZP_99;
		SZO_101 = CZP_99;
		Z_102 = CZP_99;
		P_103 = CZP_99;
		CZ_104 = CZP_99;
		C_105 = CZP_99;
		rLoc1_106 = rLoc1_98;
		if (rLoc2_97 == rLoc1_98 && Test(PO,P_103))
		{
			eax_130 = dwLoc10_74;
			v15_131 = dwLoc0C_43 + eax_130;
			dwLoc0C_132 = v15_131;
			SCZO_133 = cond(v15_131);
			break;
		}
		rLoc1_107 = rLoc1C_92;
		rLoc2_108 = rLoc2C;
		v16_109 = rLoc2_108;
		rLoc2_110 = rLoc1_107;
		rLoc1_111 = v16_109;
		CZP_112 = cond(rLoc2_110 - rLoc1_111);
		CZ_113 = CZP_112;
		rLoc1_114 = rLoc1_111;
		al_115 = Test(UGT,CZ_113);
		SZO_116 = cond(al_115 & al_115);
		Z_117 = SZO_116;
		C_118 = false;
		if (Test(NE,Z_117))
		{
			eax_119 = dwLoc10_74;
			eax_120 = ~eax_119;
			v20_121 = dwLoc08_42 + eax_120;
			dwLoc08_122 = v20_121;
			eax_123 = dwLoc10_74;
			eax_124 = eax_123 + 0x01;
			v21_125 = dwLoc0C_43 + eax_124;
			dwLoc0C_126 = v21_125;
			SCZO_127 = cond(v21_125);
		}
		else
		{
			eax_128 = dwLoc10_74;
			dwLoc08_129 = eax_128;
		}
	}
	dwLoc10_49 = ϕ(dwLoc10_31, dwLoc10_74);
	edx_50 = ϕ(edx_32, edx_76);
	dwLoc14_51 = ϕ(dwLoc14_33, dwLoc14_85);
	rLoc1C_52 = ϕ(rLoc1C_34, rLoc1C_92);
	P_53 = ϕ(P_35, P_103);
	rLoc2_54 = ϕ(rLoc2_36, rLoc2_97);
	CZP_55 = ϕ(CZP_37, CZP_99);
	CZ_56 = ϕ(CZ_38, CZ_104);
	rLoc1_57 = ϕ(rLoc1_39, rLoc1_106);
	SZO_58 = ϕ(SZO_48, SZO_101);
	Z_59 = ϕ(Z_40, Z_102);
	C_60 = ϕ(C_41, C_105);
	dwLoc0C_61 = ϕ(dwLoc0C_43, dwLoc0C_132);
	SCZO_62 = ϕ(SCZO_47, SCZO_133);
	eax_63 = dwLoc0C_61;
	ax_64 = (word16) eax_63;
	al_65 = (byte) eax_63;
	esp_66 = fp - 0x04;
	ebp_67 = dwLoc04_4;
	esp_68 = fp;
	return eax_63;
}

// 0808041A: Register word32 ceil_at_intervals(Stack word32 dwArg04, Stack word32 dwArg08)
word32 ceil_at_intervals(word32 dwArg04, word32 dwArg08)
{
	word32 edx_14 = (int32) (SEQ(dwArg04 >> 0x1F, dwArg04) % dwArg08);
	if (edx_14 > 0x00)
		dwArg04 = dwArg04 + (dwArg08 - edx_14);
	else if (edx_14 < 0x00)
		dwArg04 = dwArg04 - edx_14;
	return dwArg04;
}

// 08080456: Register word32 floor_at_intervals(Stack word32 dwArg04, Stack word32 dwArg08)
word32 floor_at_intervals(word32 dwArg04, word32 dwArg08)
{
	word32 edx_14 = (int32) (SEQ(dwArg04 >> 0x1F, dwArg04) % dwArg08);
	if (edx_14 > 0x00)
		dwArg04 = dwArg04 - edx_14;
	else if (edx_14 < 0x00)
		dwArg04 = dwArg04 + (dwArg08 - edx_14);
	return dwArg04;
}

// 08080492: Register word32 table_colspan(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 table_colspan(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc08_11 = dwArg0C + 0x01;
	while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc08_11 && (byte) ((word32) ((word16) ((word32) (Mem0[dwArg04 + 0x48:word32])[dwArg08 * 0x04][dwLoc08_11 * 0x02])) & 0x01) != 0x00)
		dwLoc08_11 = dwLoc08_11 + 0x01;
	return dwLoc08_11 - dwArg0C;
}

// 080804E4: Register word32 table_rowspan(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 table_rowspan(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_27;
	if (Mem0[dwArg04 + 0x48:word32][dwArg08 * 0x04] == 0x00)
		eax_27 = 0x00;
	else
	{
		word32 dwLoc08_41 = dwArg08 + 0x01;
		while (Mem0[dwArg04 + 0x08:word32] >= dwLoc08_41 && (Mem0[dwArg04 + 0x48:word32][dwLoc08_41 * 0x04] != 0x00 && ((word32) ((word16) ((word32) (Mem0[dwArg04 + 0x48:word32])[dwLoc08_41 * 0x04][dwArg0C * 0x02])) & 0x02) != 0x00))
			dwLoc08_41 = dwLoc08_41 + 0x01;
		eax_27 = dwLoc08_41 - dwArg08;
	}
	return eax_27;
}

// 08080565: Register word32 minimum_cellspacing(Stack word32 dwArg04)
word32 minimum_cellspacing(word32 dwArg04)
{
	word32 eax_15;
	if (dwArg04 != 0x00)
	{
		if (dwArg04 >= 0x00 && dwArg04 <= 0x03)
			eax_15 = Mem0[0x0817D2D4:word32];
		else
			eax_15 = 0x00;
	}
	else
		eax_15 = 0x01;
	return eax_15;
}

// 0808058D: Register word32 table_border_width(Stack word32 dwArg04)
word32 table_border_width(word32 dwArg04)
{
	word32 eax_19;
	word32 eax_9 = Mem0[dwArg04 + 0x14:word32];
	if (eax_9 <= 0x02)
	{
		if (eax_9 >= 0x01)
		{
			eax_19 = Mem0[dwArg04 + 0x0C:word32] *s Mem0[dwArg04 + 0x28:word32] + (Mem0[dwArg04 + 44:word32] + Mem0[0x0817D2D4:word32]) * 0x02;
			return eax_19;
		}
		if (eax_9 != 0x00)
		{
l080805E2:
			eax_19 = 0x00;
			return eax_19;
		}
	}
	else if (eax_9 != 0x03)
		goto l080805E2;
	eax_19 = Mem0[dwArg04 + 0x28:word32] *s Mem0[dwArg04 + 0x0C:word32];
	return eax_19;
}

// 080805E9: void newTable(Register word32 eax)
void newTable(word32 eax)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SZO_14;
	!GC_malloc();
	Mem17[eax_12 + 0x10:word32] = 0x32;
	word32 esp_19;
	word32 ebp_20;
	byte SCZO_21;
	word32 eax_22;
	word32 edx_23;
	byte SZO_24;
	!GC_malloc();
	Mem27[eax_12 + 0x44:word32] = eax_22;
	word32 esp_29;
	word32 ebp_30;
	byte SCZO_31;
	word32 eax_32;
	word32 edx_33;
	byte SZO_34;
	!GC_malloc();
	Mem37[eax_12 + 0x48:word32] = eax_32;
	word32 esp_39;
	word32 ebp_40;
	byte SCZO_41;
	word32 eax_42;
	word32 edx_43;
	byte SZO_44;
	!GC_malloc_atomic();
	Mem47[eax_12 + 676:word32] = eax_42;
	word32 esp_49;
	word32 ebp_50;
	byte SCZO_51;
	word32 eax_52;
	word32 edx_53;
	byte SZO_54;
	!GC_malloc();
	Mem57[eax_12 + 0x50:word32] = eax_52;
	word32 esp_59;
	word32 ebp_60;
	byte SCZO_61;
	word32 eax_62;
	word32 edx_63;
	byte SZO_64;
	!GC_malloc();
	Mem67[eax_12 + 0x54:word32] = eax_62;
	word32 dwLoc14_161 = 0x00;
	while (dwLoc14_161 <= 0x31)
	{
		Mem67[eax_12 + 0x44:word32][dwLoc14_161 * 0x04] = 0x00;
		Mem135[eax_12 + 0x48:word32][dwLoc14_161 * 0x04] = 0x00;
		Mem141[eax_12 + 676:word32][dwLoc14_161 * 0x02] = 0x00;
		Mem147[eax_12 + 0x50:word32][dwLoc14_161 * 0x04] = 0x00;
		Mem153[eax_12 + 0x54:word32][dwLoc14_161 * 0x04] = 0x00;
		dwLoc14_161 = dwLoc14_161 + 0x01;
	}
	word32 dwLoc18_128 = 0x00;
	while (dwLoc18_128 <= 0x31)
	{
		(eax_12 + 0x08)[(dwLoc18_128 + 0x28) * 0x02] = 0x00;
		(eax_12 + 0x0C)[(dwLoc18_128 + 88) * 0x02] = 0x00;
		eax_12[(dwLoc18_128 + 0x90) * 0x02] = 0x00;
		dwLoc18_128 = dwLoc18_128 + 0x01;
	}
	Mem81[eax_12 + 0x01FC:word16] = ~0x00;
	Mem83[eax_12 + 0x01FE:word16] = ~0x00;
	Mem85[eax_12 + 0x02AC:word16] = 0x00;
	Mem87[eax_12 + 686:word16] = 0x00;
	Mem89[eax_12 + 0x02A8:word32] = 0x00;
	Mem91[eax_12 + 0x02C0:word32] = 0x00;
	Mem93[eax_12 + 0x02C4:word32] = 0x00;
	Strnew_size(eax_12, 0x08);
	Mem97[eax_12 + 696:word32] = eax_12;
	Strcopy_charp_n(Mem97[eax_12 + 696:word32], 0x080CB060, 0x00);
	Mem104[eax_12 + 0x4C:word16] = 0x00;
	Strnew(eax_12);
	Mem106[eax_12 + 0x3C:word32] = eax_12;
	Mem108[eax_12 + 688:word32] = 0x00;
	Mem110[eax_12 + 0x40:word32] = 0x00;
}

// 080807E9: void check_row(Stack word32 dwArg04, Stack word32 dwArg08)
void check_row(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x10:word32] <= dwArg08)
	{
		word32 eax_171 = Mem0[dwArg04 + 0x10:word32];
		word32 eax_172 = eax_171 * 0x02;
		if (dwArg08 + 0x01 >= eax_171 * 0x02)
			eax_172 = dwArg08 + 0x01;
		word32 esp_183;
		word32 ebp_184;
		word32 ebx_185;
		byte SCZO_186;
		word32 eax_187;
		byte SZO_188;
		word32 edx_189;
		byte SO_190;
		byte C_191;
		byte Z_192;
		word32 ecx_193;
		word16 dx_194;
		!GC_malloc();
		word32 esp_200;
		word32 ebp_201;
		word32 ebx_202;
		byte SCZO_203;
		word32 eax_204;
		byte SZO_205;
		word32 edx_206;
		byte SO_207;
		byte C_208;
		byte Z_209;
		word32 ecx_210;
		word16 dx_211;
		!GC_malloc();
		word32 esp_217;
		word32 ebp_218;
		word32 ebx_219;
		byte SCZO_220;
		word32 eax_221;
		byte SZO_222;
		word32 edx_223;
		byte SO_224;
		byte C_225;
		byte Z_226;
		word32 ecx_227;
		word16 dx_228;
		!GC_malloc_atomic();
		word32 esp_234;
		word32 ebp_235;
		word32 ebx_236;
		byte SCZO_237;
		word32 eax_238;
		byte SZO_239;
		word32 edx_240;
		byte SO_241;
		byte C_242;
		byte Z_243;
		word32 ecx_244;
		word16 dx_245;
		!GC_malloc();
		word32 esp_251;
		word32 ebp_252;
		word32 ebx_253;
		byte SCZO_254;
		word32 eax_255;
		byte SZO_256;
		word32 edx_257;
		byte SO_258;
		byte C_259;
		byte Z_260;
		word32 ecx_261;
		word16 dx_262;
		!GC_malloc();
		word32 dwLoc10_264 = 0x00;
		while (Mem0[dwArg04 + 0x10:word32] > dwLoc10_264)
		{
			eax_187[dwLoc10_264 * 0x04] = Mem0[dwArg04 + 0x44:word32][dwLoc10_264 * 0x04];
			eax_204[dwLoc10_264 * 0x04] = Mem327[dwArg04 + 0x48:word32][dwLoc10_264 * 0x04];
			eax_221[dwLoc10_264 * 0x02] = (word16) (word32) Mem337[dwArg04 + 676:word32][dwLoc10_264 * 0x02];
			eax_238[dwLoc10_264 * 0x04] = Mem348[dwArg04 + 0x50:word32][dwLoc10_264 * 0x04];
			eax_255[dwLoc10_264 * 0x04] = Mem358[dwArg04 + 0x54:word32][dwLoc10_264 * 0x04];
			dwLoc10_264 = dwLoc10_264 + 0x01;
		}
		while (dwLoc10_264 < eax_172)
		{
			eax_187[dwLoc10_264 * 0x04] = 0x00;
			eax_204[dwLoc10_264 * 0x04] = 0x00;
			eax_221[dwLoc10_264 * 0x02] = 0x00;
			eax_238[dwLoc10_264 * 0x04] = 0x00;
			eax_255[dwLoc10_264 * 0x04] = 0x00;
			dwLoc10_264 = dwLoc10_264 + 0x01;
		}
		Mem279[dwArg04 + 0x44:word32] = eax_187;
		Mem282[dwArg04 + 0x48:word32] = eax_204;
		Mem285[dwArg04 + 676:word32] = eax_221;
		Mem288[dwArg04 + 0x50:word32] = eax_238;
		Mem291[dwArg04 + 0x54:word32] = eax_255;
		Mem294[dwArg04 + 0x10:word32] = eax_172;
	}
	if (Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04] == 0x00)
	{
		word32 esp_75;
		word32 ebp_76;
		word32 ebx_77;
		byte SCZO_78;
		word32 eax_79;
		byte SZO_80;
		word32 edx_81;
		byte SO_82;
		byte C_83;
		byte Z_84;
		word32 ecx_85;
		word16 dx_86;
		!GC_malloc();
		Mem87[ebx_77 + 0x00:word32] = eax_79;
		word32 esp_95;
		word32 ebp_96;
		word32 ebx_97;
		byte SCZO_98;
		word32 eax_99;
		byte SZO_100;
		word32 edx_101;
		byte SO_102;
		byte C_103;
		byte Z_104;
		word32 ecx_105;
		word16 dx_106;
		!GC_malloc_atomic();
		Mem107[ebx_97 + 0x00:word32] = eax_99;
		word32 esp_115;
		word32 ebp_116;
		word32 ebx_117;
		byte SCZO_118;
		word32 eax_119;
		byte SZO_120;
		word32 edx_121;
		byte SO_122;
		byte C_123;
		byte Z_124;
		word32 ecx_125;
		word16 dx_126;
		!GC_malloc();
		Mem127[ebx_117 + 0x00:word32] = eax_119;
		word32 dwLoc10_128 = 0x00;
		while (dwLoc10_128 <= 0x31)
		{
			Mem127[dwArg04 + 0x44:word32][dwArg08 * 0x04][dwLoc10_128 * 0x04] = 0x00;
			Mem143[dwArg04 + 0x48:word32][dwArg08 * 0x04][dwLoc10_128 * 0x02] = 0x00;
			Mem153[dwArg04 + 0x50:word32][dwArg08 * 0x04][dwLoc10_128 * 0x04] = 0x00;
			dwLoc10_128 = dwLoc10_128 + 0x01;
		}
	}
}

// 08080A82: void pushdata(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void pushdata(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	check_row(dwArg04, dwArg08);
	if (Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04][dwArg0C * 0x04] == 0x00)
	{
		word32 eax_69 = Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04];
		newGeneralList(eax_69);
		eax_69[dwArg0C * 0x04] = eax_69;
	}
	word32 eax_38;
	if (dwArg10 != 0x00)
		eax_38 = dwArg10;
	else
		eax_38 = 0x080CB060;
	pushValue(Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04][dwArg0C * 0x04], allocStr(eax_38, ~0x00));
}

// 08080B25: void suspend_or_pushdata(Stack word32 dwArg04, Stack word32 dwArg08)
void suspend_or_pushdata(word32 dwArg04, word32 dwArg08)
{
	if ((Mem0[dwArg04 + 0x38:word32] & 0x04) != 0x00)
		pushdata(dwArg04, Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04 + 0x04:word32], dwArg08);
	else
	{
		word32 eax_42 = Mem0[dwArg04 + 688:word32];
		if (eax_42 == 0x00)
		{
			newGeneralList(eax_42);
			Mem67[dwArg04 + 688:word32] = eax_42;
		}
		word32 eax_51;
		if (dwArg08 != 0x00)
			eax_51 = dwArg08;
		else
			eax_51 = 0x080CB060;
		pushValue(Mem0[dwArg04 + 688:word32], allocStr(eax_51, ~0x00));
	}
}

// 08080BB3: Register word32 visible_length(Register word32 ebp, Stack word32 dwArg04)
word32 visible_length(word32 ebp, word32 dwArg04)
{
	Strnew(0x00);
	word32 ebp_100 = fp - 0x04;
	word32 esp_30 = fp - 0x4C;
	while ((byte) (word32) Mem0[Mem0[ebp_100 + 0x08:word32] + 0x00:byte] != 0x00)
	{
		Mem91[ebp_100 - 0x1C + 0x00:word32] = Mem0[ebp_100 - 0x18 + 0x00:word32];
		word32 eax_95 = (int32) (byte) (word32) Mem91[Mem91[ebp_100 + 0x08:word32] + 0x00:byte];
		Mem97[esp_30 + 0x04:word32] = ebp_100 - 0x18;
		Mem98[esp_30 + 0x00:word32] = eax_95;
		if (next_status(dwArg00, dwArg04, out esp_30, out ebp_100) != 0x00)
		{
			word32 eax_299;
			if ((byte) (word32) Mem98[0x080DC0AF:byte] != 0x00)
				eax_299 = (word32) (byte) (word32) Mem98[(word32) (byte) (word32) Mem98[Mem98[ebp_100 + 0x08:word32] + 0x00:byte] + 0x081799E0:byte];
			else
				eax_299 = (word32) ((byte) (word32) Mem98[(word32) (byte) (word32) Mem98[Mem98[ebp_100 + 0x08:word32] + 0x00:byte] + 0x081799E0:byte] != 0x00);
			Mem302[ebp_100 - 0x0C + 0x00:word32] = Mem98[ebp_100 - 0x0C + 0x00:word32] + eax_299;
			Mem311[ebp_100 - 0x10 + 0x00:word32] = (word32) (byte) (word32) Mem302[(word32) (byte) (word32) Mem302[Mem302[ebp_100 + 0x08:word32] + 0x00:byte] + 0x08179AE0:byte];
		}
		else
			Mem334[ebp_100 - 0x10 + 0x00:word32] = 0x01;
		if (Mem98[ebp_100 - 0x18 + 0x00:word32] == 0x01)
		{
			Mem125[esp_30 + 0x00:word32] = Mem98[ebp_100 - 0x20 + 0x00:word32];
			Strclear(dwArg00);
			Mem127[esp_30 + 0x08:word32] = Mem125[ebp_100 - 0x10 + 0x00:word32];
			Mem129[esp_30 + 0x04:word32] = Mem127[ebp_100 + 0x08:word32];
			Mem131[esp_30 + 0x00:word32] = Mem129[ebp_100 - 0x20 + 0x00:word32];
			Strcat_charp_n(dwArg00, dwArg04, dwArg08);
		}
		else if (Mem98[ebp_100 - 0x18 + 0x00:word32] != 0x02 && (Mem98[(ebp_100 - 0x18) + 0x00:word32] != 0x04 && (Mem98[(ebp_100 - 0x18) + 0x00:word32] != 0x03 && (Mem98[(ebp_100 - 0x18) + 0x00:word32] != 0x05 && Mem98[(ebp_100 - 0x18) + 0x00:word32] != 0x0F))))
		{
			if (Mem98[ebp_100 - 0x18 + 0x00:word32] == 0x06)
			{
				if (Mem98[ebp_100 - 0x1C + 0x00:word32] == 0x00)
				{
					Mem162[esp_30 + 0x00:word32] = Mem98[ebp_100 - 0x20 + 0x00:word32];
					Strclear(dwArg00);
					Mem164[ebp_100 - 0x0C + 0x00:word32] = Mem162[ebp_100 - 0x0C + 0x00:word32] - 0x01;
					Mem166[ebp_100 - 44 + 0x00:word32] = 0x00;
				}
				else
				{
					Mem168[esp_30 + 0x08:word32] = Mem98[ebp_100 - 0x10 + 0x00:word32];
					Mem170[esp_30 + 0x04:word32] = Mem168[ebp_100 + 0x08:word32];
					Mem172[esp_30 + 0x00:word32] = Mem170[ebp_100 - 0x20 + 0x00:word32];
					Strcat_charp_n(dwArg00, dwArg04, dwArg08);
					Mem174[ebp_100 - 44 + 0x00:word32] = Mem172[ebp_100 - 44 + 0x00:word32] + 0x01;
				}
			}
			else if (Mem98[ebp_100 - 0x18 + 0x00:word32] == 0x00 && Mem98[(ebp_100 - 0x1C) + 0x00:word32] == 0x06)
			{
				Mem240[esp_30 + 0x08:word32] = Mem98[ebp_100 - 0x10 + 0x00:word32];
				Mem242[esp_30 + 0x04:word32] = Mem240[ebp_100 + 0x08:word32];
				Mem244[esp_30 + 0x00:word32] = Mem242[ebp_100 - 0x20 + 0x00:word32];
				Strcat_charp_n(dwArg00, dwArg04, dwArg08);
				Mem247[ebp_100 - 0x28 + 0x00:word32] = Mem244[Mem244[ebp_100 - 0x20 + 0x00:word32] + 0x00:word32];
				Mem249[esp_30 + 0x00:word32] = ebp_100 - 0x28;
				word32 ebx_250;
				Mem252[ebp_100 - 0x24 + 0x00:word32] = getescapecmd(dwArg00, out ebx_250);
				if ((byte) (word32) Mem252[Mem252[ebp_100 - 0x28 + 0x00:word32] + 0x00:byte] == 0x00 && ((byte) ((word32) Mem252[Mem252[(ebp_100 - 0x24) + 0x00:word32] + 0x00:byte]) == 0x0D || (byte) ((word32) Mem252[Mem252[(ebp_100 - 0x24) + 0x00:word32] + 0x00:byte]) == 0x0A))
				{
					if (Mem252[ebp_100 - 0x0C + 0x00:word32] > Mem252[(ebp_100 - 0x14) + 0x00:word32])
						Mem285[ebp_100 - 0x14 + 0x00:word32] = Mem252[ebp_100 - 0x0C + 0x00:word32];
					Mem283[ebp_100 - 0x0C + 0x00:word32] = 0x00;
				}
				else
				{
					Mem262[esp_30 + 0x00:word32] = Mem252[ebp_100 - 0x24 + 0x00:word32];
					word32 eax_263 = wtf_strwidth(dwArg00);
					Mem266[esp_30 + 0x00:word32] = Mem262[ebp_100 - 0x28 + 0x00:word32];
					Mem270[ebp_100 - 0x0C + 0x00:word32] = Mem266[ebp_100 - 0x0C + 0x00:word32] + (eax_263 + wtf_strwidth(dwArg00));
				}
			}
			else if (Mem98[ebp_100 - 0x18 + 0x00:word32] != 0x00 || Mem98[(ebp_100 - 0x1C) + 0x00:word32] != 0x02 && (Mem98[(ebp_100 - 0x1C) + 0x00:word32] != 0x01 && (Mem98[(ebp_100 - 0x1C) + 0x00:word32] != 0x05 && Mem98[(ebp_100 - 0x1C) + 0x00:word32] != 0x0F)))
			{
				if ((byte) (word32) Mem98[Mem98[ebp_100 + 0x08:word32] + 0x00:byte] == 0x09)
				{
					Mem191[ebp_100 - 0x0C + 0x00:word32] = Mem98[ebp_100 - 0x0C + 0x00:word32] - 0x01;
					do
					{
						Mem194[ebp_100 - 0x0C + 0x00:word32] = Mem191[ebp_100 - 0x0C + 0x00:word32] + 0x01;
						word32 eax_196 = Mem194[0x0817D2DC:word32] + Mem194[(ebp_100 - 0x0C) + 0x00:word32];
					} while ((int32) (SEQ(eax_196 >> 0x1F, eax_196) % Mem194[0x080D52B4:word32]) != 0x00);
				}
				else if ((byte) (word32) Mem98[Mem98[ebp_100 + 0x08:word32] + 0x00:byte] == 0x0D || (byte) ((word32) Mem98[Mem98[ebp_100 + 0x08:word32] + 0x00:byte]) == 0x0A)
				{
					Mem216[ebp_100 - 0x0C + 0x00:word32] = Mem98[ebp_100 - 0x0C + 0x00:word32] - 0x01;
					if (Mem216[ebp_100 - 0x0C + 0x00:word32] > Mem216[(ebp_100 - 0x14) + 0x00:word32])
						Mem223[ebp_100 - 0x14 + 0x00:word32] = Mem216[ebp_100 - 0x0C + 0x00:word32];
					Mem221[ebp_100 - 0x0C + 0x00:word32] = 0x00;
				}
			}
		}
		else
		{
			Mem139[esp_30 + 0x08:word32] = Mem98[ebp_100 - 0x10 + 0x00:word32];
			Mem141[esp_30 + 0x04:word32] = Mem139[ebp_100 + 0x08:word32];
			Mem143[esp_30 + 0x00:word32] = Mem141[ebp_100 - 0x20 + 0x00:word32];
			Strcat_charp_n(dwArg00, dwArg04, dwArg08);
		}
		Mem122[ebp_100 + 0x08:word32] = Mem98[ebp_100 + 0x08:word32] + Mem98[(ebp_100 - 0x10) + 0x00:word32];
	}
	if (Mem0[ebp_100 - 0x18 + 0x00:word32] == 0x06)
	{
		Mem62[ebp_100 - 0x28 + 0x00:word32] = Mem0[Mem0[ebp_100 - 0x20 + 0x00:word32] + 0x00:word32];
		Mem64[esp_30 + 0x00:word32] = ebp_100 - 0x28;
		word32 ebx_66;
		Mem68[ebp_100 - 0x24 + 0x00:word32] = getescapecmd(dwArg00, out ebx_66);
		if ((byte) (word32) Mem68[Mem68[ebp_100 - 0x24 + 0x00:word32] + 0x00:byte] != 0x0D && (byte) ((word32) Mem68[Mem68[(ebp_100 - 0x24) + 0x00:word32] + 0x00:byte]) != 0x0A)
		{
			Mem80[esp_30 + 0x00:word32] = Mem68[ebp_100 - 0x24 + 0x00:word32];
			word32 eax_81 = wtf_strwidth(dwArg00);
			Mem84[esp_30 + 0x00:word32] = Mem80[ebp_100 - 0x28 + 0x00:word32];
			Mem88[ebp_100 - 0x0C + 0x00:word32] = Mem84[ebp_100 - 0x0C + 0x00:word32] + (eax_81 + wtf_strwidth(dwArg00));
		}
	}
	word32 eax_43 = Mem0[ebp_100 - 0x0C + 0x00:word32];
	if (Mem0[ebp_100 - 0x14 + 0x00:word32] >= eax_43)
		eax_43 = Mem0[ebp_100 - 0x14 + 0x00:word32];
	return eax_43;
}

// 08080EB9: Register word32 visible_length_plain(Stack word32 dwArg04)
word32 visible_length_plain(word32 dwArg04)
{
	word32 dwLoc08_100 = 0x00;
	word32 dwLoc0C_14 = 0x00;
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x09)
		{
			do
			{
				word32 v11_48 = dwLoc08_100 + 0x01;
				word32 eax_51 = Mem0[0x0817D2DC:word32] + v11_48;
				dwLoc08_100 = v11_48;
			} while ((int32) (SEQ(eax_51 >> 0x1F, eax_51) % Mem0[0x080D52B4:word32]) != 0x00);
			dwArg04 = dwArg04 + 0x01;
		}
		else if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x0D && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x0A)
		{
			word32 eax_117;
			if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
				eax_117 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte];
			else
				eax_117 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte] != 0x00);
			dwLoc08_100 = dwLoc08_100 + eax_117;
			dwArg04 = dwArg04 + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg04 + 0x00:byte])) + 0x08179AE0:byte]));
		}
		else
		{
			if (dwLoc08_100 > dwLoc0C_14)
				dwLoc0C_14 = dwLoc08_100;
			dwLoc08_100 = 0x00;
			dwArg04 = dwArg04 + 0x01;
		}
	}
	word32 eax_28 = dwLoc08_100;
	if (dwLoc0C_14 >= dwLoc08_100)
		eax_28 = dwLoc0C_14;
	return eax_28;
}

// 08080F9E: Register word32 maximum_visible_length(Stack word32 dwArg04, Stack word32 dwArg08)
word32 maximum_visible_length(word32 dwArg04, word32 dwArg08)
{
	Mem10[0x0817D2DC:word32] = dwArg08;
	return visible_length(fp - 0x04, dwArg04);
}

// 08080FB9: Register word32 maximum_visible_length_plain(Stack word32 dwArg04, Stack word32 dwArg08)
word32 maximum_visible_length_plain(word32 dwArg04, word32 dwArg08)
{
	Mem10[0x0817D2DC:word32] = dwArg08;
	return visible_length_plain(dwArg04);
}

// 08080FD4: void align(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void align(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_13 = Mem0[eax_10 + 0x04:word32];
	if (eax_13 == 0x00)
	{
		word32 dwLoc10_38 = 0x00;
		while (dwLoc10_38 < dwArg08)
		{
			if (Mem0[eax_10 + 0x04:word32] + 0x01 >= Mem0[eax_10 + 0x08:word32])
				Strgrow(eax_10);
			word32 eax_71 = Mem0[eax_10 + 0x04:word32];
			Mem74[Mem0[eax_10 + 0x00:word32] + eax_71:byte] = 0x20;
			Mem77[eax_10 + 0x04:word32] = eax_71 + 0x01;
			Mem83[Mem77[eax_10 + 0x00:word32] + Mem77[eax_10 + 0x04:word32]:byte] = 0x00;
			dwLoc10_38 = dwLoc10_38 + 0x01;
		}
		Mem54[dwArg04 + 0x04:word16] = (word16) dwArg08;
	}
	else
	{
		Strnew(eax_13);
		word32 ecx_96 = dwArg08 - (int32) ((word16) ((word32) Mem0[dwArg04 + 0x04:word16]));
		if (dwArg0C != 0x01)
		{
			if (dwArg0C != 0x02)
			{
				if (dwArg0C != 0x00)
					return;
				word32 eax_136 = (ecx_96 >>u 0x1F) + ecx_96;
				word32 ecx_142 = ecx_96 - (eax_136 >> 0x01);
				word32 dwLoc10_146 = 0x00;
				while (dwLoc10_146 < eax_136 >> 0x01)
				{
					if (Mem0[eax_13 + 0x04:word32] + 0x01 >= Mem0[eax_13 + 0x08:word32])
						Strgrow(eax_13);
					word32 eax_206 = Mem0[eax_13 + 0x04:word32];
					Mem209[Mem0[eax_13 + 0x00:word32] + eax_206:byte] = 0x20;
					Mem212[eax_13 + 0x04:word32] = eax_206 + 0x01;
					Mem218[Mem212[eax_13 + 0x00:word32] + Mem212[eax_13 + 0x04:word32]:byte] = 0x00;
					dwLoc10_146 = dwLoc10_146 + 0x01;
				}
				Strcat(eax_13, eax_10);
				word32 dwLoc10_158 = 0x00;
				while (dwLoc10_158 < ecx_142)
				{
					if (Mem0[eax_13 + 0x04:word32] + 0x01 >= Mem0[eax_13 + 0x08:word32])
						Strgrow(eax_13);
					word32 eax_177 = Mem0[eax_13 + 0x04:word32];
					Mem180[Mem0[eax_13 + 0x00:word32] + eax_177:byte] = 0x20;
					Mem183[eax_13 + 0x04:word32] = eax_177 + 0x01;
					Mem189[Mem183[eax_13 + 0x00:word32] + Mem183[eax_13 + 0x04:word32]:byte] = 0x00;
					dwLoc10_158 = dwLoc10_158 + 0x01;
				}
			}
			else
			{
				word32 dwLoc10_226 = 0x00;
				while (dwLoc10_226 < ecx_96)
				{
					if (Mem0[eax_13 + 0x04:word32] + 0x01 >= Mem0[eax_13 + 0x08:word32])
						Strgrow(eax_13);
					word32 eax_249 = Mem0[eax_13 + 0x04:word32];
					Mem252[Mem0[eax_13 + 0x00:word32] + eax_249:byte] = 0x20;
					Mem255[eax_13 + 0x04:word32] = eax_249 + 0x01;
					Mem261[Mem255[eax_13 + 0x00:word32] + Mem255[eax_13 + 0x04:word32]:byte] = 0x00;
					dwLoc10_226 = dwLoc10_226 + 0x01;
				}
				Strcat(eax_13, eax_10);
			}
		}
		else
		{
			Strcat(eax_13, eax_10);
			word32 dwLoc10_271 = 0x00;
			while (dwLoc10_271 < ecx_96)
			{
				if (Mem0[eax_13 + 0x04:word32] + 0x01 >= Mem0[eax_13 + 0x08:word32])
					Strgrow(eax_13);
				word32 eax_290 = Mem0[eax_13 + 0x04:word32];
				Mem293[Mem0[eax_13 + 0x00:word32] + eax_290:byte] = 0x20;
				Mem296[eax_13 + 0x04:word32] = eax_290 + 0x01;
				Mem302[Mem296[eax_13 + 0x00:word32] + Mem296[eax_13 + 0x04:word32]:byte] = 0x00;
				dwLoc10_271 = dwLoc10_271 + 0x01;
			}
		}
		Mem115[dwArg04 + 0x00:word32] = eax_13;
		if ((int32) (word16) (word32) Mem115[dwArg04 + 0x04:word16] < dwArg08)
			Mem127[dwArg04 + 0x04:word16] = (word16) dwArg08;
	}
}

// 08081299: void print_item(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void print_item(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 dwLoc14_143;
	word32 eax_141 = Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04];
	if (eax_141 != 0x00)
	{
		eax_141 = popValue(Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04][dwArg0C * 0x04]);
		dwLoc14_143 = eax_141;
	}
	else
		dwLoc14_143 = 0x00;
	if (dwLoc14_143 != 0x00)
	{
		check_row(dwArg04, dwArg08);
		word32 dwLoc10_114 = 0x00;
		if (((word32) (word16) (word32) Mem0[dwArg04 + 0x48:word32][dwArg08 * 0x04][dwArg0C * 0x02] & 0x30) == 0x00)
			dwLoc10_114 = 0x01;
		else if (((word32) (word16) (word32) Mem0[dwArg04 + 0x48:word32][dwArg08 * 0x04][dwArg0C * 0x02] & 0x30) == 0x20)
			dwLoc10_114 = 0x02;
		else if (((word32) (word16) (word32) Mem0[dwArg04 + 0x48:word32][dwArg08 * 0x04][dwArg0C * 0x02] & 0x30) == 0x10)
			dwLoc10_114 = 0x00;
		align(dwLoc14_143, dwArg10, dwLoc10_114);
		Strcat(dwArg14, Mem0[dwLoc14_143 + 0x00:word32]);
	}
	else
	{
		newTextLine(eax_141, 0x00, 0x00);
		align(eax_141, dwArg10, 0x00);
		Strcat(dwArg14, Mem0[eax_141 + 0x00:word32]);
	}
}

// 08081401: void print_sep(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg14)
void print_sep(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg14)
{
	if (dwArg08 >= 0x00)
		check_row(dwArg04, dwArg08);
	check_row(dwArg04, dwArg08 + 0x01);
	if (dwArg0C != 0x00 && dwArg0C != 0x02 || Mem0[dwArg04 + 0x14:word32] != 0x02)
		;
	word32 dwLoc10_22 = 0x01;
	if (dwArg0C == 0x00)
		dwLoc10_22 = 0x03;
	else if (dwArg0C == 0x02)
		dwLoc10_22 = 0x09;
	else if (((word32) (word16) (word32) Mem0[Mem0[dwArg04 + 0x48:word32][(dwArg08 + 0x01) * 0x04] + 0x00:word16] & 0x02) != 0x00)
		dwLoc10_22 = 0x05;
	if (Mem0[dwArg04 + 0x14:word32] != 0x03)
	{
		word32 eax_534;
		word32 edx_524 = Mem0[0x0817D2D4:word32];
		if (Mem0[dwArg04 + 0x14:word32] == 0x02)
			eax_534 = (int32) (byte) (dwLoc10_22 + 0x10);
		else
			eax_534 = (int32) (byte) dwLoc10_22;
		push_symbol(fp - 0x04, eax_534, edx_524);
	}
	Mem50[fp - 0x18 + 0x00:word32] = 0x00;
	while (Mem50[fp - 0x18 + 0x00:word32] <= Mem50[fp + 0x10:word32])
	{
		Mem147[fp - 0x10 + 0x00:word32] = 0x0A;
		if (Mem147[fp + 0x0C:word32] != 0x02 && ((word32) ((word16) ((word32) (Mem147[Mem147[fp + 0x04:word32] + 0x48:word32])[(Mem147[fp + 0x08:word32] + 0x01) * 0x04][Mem147[(fp - 0x18) + 0x00:word32] * 0x02])) & 0x02) != 0x00)
		{
			if ((byte) ((word32) (word16) (word32) Mem147[Mem147[fp + 0x04:word32] + 0x48:word32][(Mem147[fp + 0x08:word32] + 0x01) * 0x04][Mem147[fp - 0x18 + 0x00:word32] * 0x02] & 0x01) == 0x00)
			{
				Mem410[fp - 0x1C + 0x00:word32] = Mem147[fp + 0x08:word32];
				while (Mem410[fp - 0x1C + 0x00:word32] >= 0x00 && (Mem410[Mem410[fp + 0x04:word32] + 0x48:word32][Mem410[(fp - 0x1C) + 0x00:word32] * 0x04] != 0x00 && ((word32) ((word16) ((word32) (Mem410[Mem410[fp + 0x04:word32] + 0x48:word32])[Mem410[(fp - 0x1C) + 0x00:word32] * 0x04][Mem410[(fp - 0x18) + 0x00:word32] * 0x02])) & 0x02) != 0x00))
					Mem522[fp - 0x1C + 0x00:word32] = Mem410[fp - 0x1C + 0x00:word32] - 0x01;
				Mem432[fp - 0x24 + 0x00:word32] = (int32) (word16) (word32) (Mem410[fp + 0x04:word32] + 0x08)[(Mem410[fp - 0x18 + 0x00:word32] + 0x28) * 0x02] + Mem410[Mem410[fp + 0x04:word32] + 44:word32] * 0x02;
				Mem436[fp - 0x20 + 0x00:word32] = Mem432[fp - 0x18 + 0x00:word32] + 0x01;
				while (Mem436[Mem436[fp + 0x04:word32] + 0x0C:word32] >= Mem436[(fp - 0x20) + 0x00:word32] && (byte) ((word32) ((word16) ((word32) (Mem436[Mem436[fp + 0x04:word32] + 0x48:word32])[Mem436[fp + 0x08:word32] * 0x04][Mem436[(fp - 0x20) + 0x00:word32] * 0x02])) & 0x01) != 0x00)
				{
					Mem492[fp - 0x24 + 0x00:word32] = Mem436[fp - 0x24 + 0x00:word32] + ((int32) ((word16) ((word32) (Mem436[fp + 0x04:word32] + 0x08)[(Mem436[(fp - 0x20) + 0x00:word32] + 0x28) * 0x02])) + Mem436[Mem436[fp + 0x04:word32] + 0x28:word32]);
					Mem494[fp - 0x20 + 0x00:word32] = Mem492[fp - 0x20 + 0x00:word32] + 0x01;
				}
				Mem454[fp - 0x4C + 0x00:word32] = Mem436[fp + 0x14:word32];
				Mem456[fp - 0x50 + 0x00:word32] = Mem454[fp - 0x24 + 0x00:word32];
				Mem458[fp - 0x54 + 0x00:word32] = Mem456[fp - 0x18 + 0x00:word32];
				Mem460[fp - 88 + 0x00:word32] = Mem458[fp - 0x1C + 0x00:word32];
				Mem462[fp - 0x5C + 0x00:word32] = Mem460[fp + 0x04:word32];
				print_item(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
			}
		}
		else
		{
			Mem328[fp - 0x28 + 0x00:word32] = (int32) (word16) (word32) (Mem147[fp + 0x04:word32] + 0x08)[(Mem147[fp - 0x18 + 0x00:word32] + 0x28) * 0x02] + Mem147[Mem147[fp + 0x04:word32] + 44:word32] * 0x02;
			if (Mem328[0x0817D2D4:word32] == 0x02)
			{
				word32 eax_362 = Mem328[fp - 0x28 + 0x00:word32];
				Mem365[fp - 0x30 + 0x00:word32] = Mem328[0x0817D2D4:word32];
				Mem373[fp - 0x28 + 0x00:word32] = (int32) (SEQ(eax_362 + 0x01 >> 0x1F, eax_362 + 0x01) / Mem365[(fp - 0x30) + 0x00:word32]);
			}
			word32 eax_341;
			word32 edx_333 = Mem328[0x0817D2D4:word32];
			if (Mem328[fp - 0x14 + 0x00:word32] == 0x02)
				eax_341 = (int32) (byte) (Mem328[fp - 0x10 + 0x00:word32] + 0x10);
			else
				eax_341 = (int32) (byte) Mem328[fp - 0x10 + 0x00:word32];
			Mem343[fp - 0x50 + 0x00:word32] = Mem328[fp - 0x28 + 0x00:word32];
			Mem344[fp - 0x54 + 0x00:word32] = edx_333;
			Mem345[fp - 88 + 0x00:word32] = eax_341;
			Mem347[fp - 0x5C + 0x00:word32] = Mem345[fp + 0x14:word32];
			push_symbol(fp - 0x04, dwArg04, dwArg08);
		}
		if (Mem147[fp - 0x18 + 0x00:word32] < Mem147[fp + 0x10:word32])
		{
			Mem173[fp - 0x10 + 0x00:word32] = 0x00;
			if (Mem173[fp + 0x0C:word32] == 0x00)
				Mem291[fp - 0x10 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32] | 0x02;
			else if ((byte) ((word32) (word16) (word32) Mem173[Mem173[fp + 0x04:word32] + 0x48:word32][Mem173[fp + 0x08:word32] * 0x04][(Mem173[fp - 0x18 + 0x00:word32] + 0x01) * 0x02] & 0x01) != 0x00)
				Mem313[fp - 0x10 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32] | 0x02;
			if (Mem173[fp + 0x0C:word32] == 0x02)
				Mem221[fp - 0x10 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32] | 0x08;
			else
			{
				if ((byte) ((word32) (word16) (word32) Mem173[Mem173[fp + 0x04:word32] + 0x48:word32][(Mem173[fp + 0x08:word32] + 0x01) * 0x04][(Mem173[fp - 0x18 + 0x00:word32] + 0x01) * 0x02] & 0x01) != 0x00)
					Mem287[fp - 0x10 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32] | 0x08;
				if (((word32) (word16) (word32) Mem173[Mem173[fp + 0x04:word32] + 0x48:word32][(Mem173[fp + 0x08:word32] + 0x01) * 0x04][(Mem173[fp - 0x18 + 0x00:word32] + 0x01) * 0x02] & 0x02) != 0x00)
					Mem283[fp - 0x10 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32] | 0x04;
				if (((word32) (word16) (word32) Mem173[Mem173[fp + 0x04:word32] + 0x48:word32][(Mem173[fp + 0x08:word32] + 0x01) * 0x04][Mem173[fp - 0x18 + 0x00:word32] * 0x02] & 0x02) != 0x00)
					Mem279[fp - 0x10 + 0x00:word32] = Mem173[fp - 0x10 + 0x00:word32] | 0x01;
			}
			if (Mem173[fp - 0x10 + 0x00:word32] != 0x0F)
			{
				word32 eax_200;
				word32 edx_192 = Mem173[0x0817D2D4:word32];
				if (Mem173[fp - 0x14 + 0x00:word32] == 0x02)
					eax_200 = (int32) (byte) (Mem173[fp - 0x10 + 0x00:word32] + 0x10);
				else
					eax_200 = (int32) (byte) Mem173[fp - 0x10 + 0x00:word32];
				Mem201[fp - 0x50 + 0x00:word32] = 0x01;
				Mem202[fp - 0x54 + 0x00:word32] = edx_192;
				Mem203[fp - 88 + 0x00:word32] = eax_200;
				Mem205[fp - 0x5C + 0x00:word32] = Mem203[fp + 0x14:word32];
				push_symbol(fp - 0x04, dwArg04, dwArg08);
			}
		}
		Mem171[fp - 0x18 + 0x00:word32] = Mem147[fp - 0x18 + 0x00:word32] + 0x01;
	}
	Mem65[fp - 0x10 + 0x00:word32] = 0x04;
	if (Mem65[fp + 0x0C:word32] == 0x00)
		Mem144[fp - 0x10 + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32] | 0x02;
	if (Mem65[fp + 0x0C:word32] == 0x02)
		Mem140[fp - 0x10 + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32] | 0x08;
	if (((word32) (word16) (word32) Mem65[Mem65[fp + 0x04:word32] + 0x48:word32][(Mem65[fp + 0x08:word32] + 0x01) * 0x04][Mem65[fp + 0x10:word32] * 0x02] & 0x02) != 0x00)
		Mem136[fp - 0x10 + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32] | 0x01;
	if (Mem65[Mem65[fp + 0x04:word32] + 0x14:word32] != 0x03)
	{
		word32 eax_115;
		word32 edx_105 = Mem65[0x0817D2D4:word32];
		if (Mem65[Mem65[fp + 0x04:word32] + 0x14:word32] == 0x02)
			eax_115 = (int32) (byte) (Mem65[fp - 0x10 + 0x00:word32] + 0x10);
		else
			eax_115 = (int32) (byte) Mem65[fp - 0x10 + 0x00:word32];
		Mem116[fp - 0x50 + 0x00:word32] = 0x01;
		Mem117[fp - 0x54 + 0x00:word32] = edx_105;
		Mem118[fp - 88 + 0x00:word32] = eax_115;
		Mem120[fp - 0x5C + 0x00:word32] = Mem118[fp + 0x14:word32];
		push_symbol(fp - 0x04, dwArg04, dwArg08);
	}
}

// 08081881: Register word32 get_spec_cell_width(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 get_spec_cell_width(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc14_16 = (int32) (word16) (word32) (dwArg04 + 0x08)[(dwArg0C + 0x28) * 0x02];
	word32 dwLoc10_20 = dwArg0C + 0x01 + 0x28;
	while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc10_20)
	{
		check_row(dwArg04, dwArg08);
		if ((byte) ((word32) (word16) (word32) Mem0[dwArg04 + 0x48:word32][dwArg08 * 0x04][dwLoc10_20 * 0x02] & 0x01) == 0x00)
			return dwLoc14_16;
		dwLoc14_16 = dwLoc14_16 + ((int32) ((word16) ((word32) (dwArg04 + 0x08)[(dwLoc10_20 + 0x00) * 0x02])) + Mem0[dwArg04 + 0x28:word32]);
		dwLoc10_20 = dwLoc10_20 + 0x01;
	}
	return dwLoc14_16;
}

// 0808190E: void do_refill(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void do_refill(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	if (Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04] != 0x00 && (Mem0[dwArg04 + 0x44:word32])[dwArg08 * 0x04][dwArg0C * 0x04] != 0x00)
	{
		word32 eax_90 = Mem0[dwArg04 + 0x44:word32][dwArg08 * 0x04];
		newGeneralList(eax_90);
		eax_90[dwArg0C * 0x04] = eax_90;
		init_henv(fp - 0x84, fp - 788, fp - 0x01C4, 0x14, Mem95[dwArg04 + 0x44:word32][dwArg08 * 0x04][dwArg0C * 0x04], get_spec_cell_width(dwArg04, dwArg08, dwArg0C), 0x00);
		if (dwLoc74 > dwArg10)
			dwLoc74 = dwArg10;
		if (Mem95[dwArg04 + 0x14:word32] != 0x00 && Mem95[dwArg04 + 0x30:word32] > 0x00)
			do_blankline(gs, fp - 0x84, fp - 788, 0x00, dwLoc74);
		Mem148[fp - 0x24 + 0x00:word32] = Mem95[Mem95[fp - 0x20 + 0x00:word32] + 0x00:word32];
		while (Mem148[fp - 0x24 + 0x00:word32] != 0x00)
		{
			word32 eax_338 = Mem148[Mem148[fp - 0x24 + 0x00:word32] + 0x00:word32];
			Mem339[fp - 0x0334 + 0x00:word32] = 0x0A;
			Mem340[fp - 0x0338 + 0x00:word32] = 0x080CB061;
			Mem341[fp - 0x033C + 0x00:word32] = eax_338;
			if (strncasecmp(Mem341[fp - 0x033C + 0x00:(ptr char)], Mem341[fp - 0x0338 + 0x00:(ptr char)], Mem341[fp - 0x0334 + 0x00:int32]) == 0x00 && ((byte) ((word32) Mem341[Mem341[Mem341[(fp - 0x24) + 0x00:word32] + 0x00:word32] + 0x0A:byte]) == 0x3E || ((word32) ((byte) ((word32) Mem341[(word32) ((byte) ((word32) Mem341[Mem341[Mem341[(fp - 0x24) + 0x00:word32] + 0x00:word32] + 0x0A:byte])) + 0x080DB700:byte])) & 0x02) != 0x00))
			{
				Mem381[fp - 0x30 + 0x00:word32] = ~0x00;
				Mem384[fp - 0x34 + 0x00:word32] = Mem381[Mem381[fp - 0x24 + 0x00:word32] + 0x00:word32];
				Mem385[fp - 0x0338 + 0x00:word32] = 0x01;
				Mem387[fp - 0x033C + 0x00:word32] = fp - 0x34;
				Mem389[fp - 0x38 + 0x00:word32] = parse_tag(fp - 0x04, gs, dwArg00, dwArg04);
				if (Mem389[fp - 0x38 + 0x00:word32] != 0x00)
				{
					Mem549[fp - 0x0334 + 0x00:word32] = fp - 0x30;
					Mem550[fp - 0x0338 + 0x00:word32] = 0x40;
					Mem552[fp - 0x033C + 0x00:word32] = Mem550[fp - 0x38 + 0x00:word32];
					parsedtag_get_value(dwArg00, dwArg04, dwArg08);
				}
				if (Mem389[fp - 0x30 + 0x00:word32] >= 0x00 && (int32) ((word16) ((word32) Mem389[Mem389[fp + 0x04:word32] + 0x02AC:word16])) > Mem389[(fp - 0x30) + 0x00:word32])
				{
					Mem409[fp - 0x44 + 0x00:word32] = Mem389[Mem389[fp + 0x04:word32] + 0x02A8:word32][Mem389[fp - 0x30 + 0x00:word32] * 0x10];
					Mem421[fp - 0x48 + 0x00:word32] = (int32) (word16) (word32) Mem409[Mem409[Mem409[fp + 0x04:word32] + 0x02A8:word32] + (Mem409[(fp - 0x30) + 0x00:word32] << 0x04) + 0x0A:word16] + Mem409[Mem409[(fp - 0x44) + 0x00:word32] + 0x18:word32];
					Mem421[Mem421[fp + 0x04:word32] + 0x02A8:word32][Mem421[fp - 0x30 + 0x00:word32] * 0x10] = 0x00;
					Mem430[fp - 0x0338 + 0x00:word32] = Mem428[fp - 0x84 + 0x00:word32];
					Mem432[fp - 0x033C + 0x00:word32] = fp - 0x84;
					save_fonteffect(dwArg04);
					Mem434[fp - 0x032C + 0x00:word32] = Mem432[fp - 116 + 0x00:word32];
					Mem435[fp - 0x0330 + 0x00:word32] = 0x02;
					Mem436[fp - 0x0334 + 0x00:word32] = 0x00;
					Mem438[fp - 0x0338 + 0x00:word32] = fp - 788;
					Mem440[fp - 0x033C + 0x00:word32] = fp - 0x84;
					flushline(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg10);
					if (Mem440[Mem440[fp - 0x44 + 0x00:word32] + 0x34:word32] > 0x00 && (Mem440[(fp - 776) + 0x00:word32] & 0x2000) == 0x00)
					{
						Mem541[fp - 0x032C + 0x00:word32] = Mem440[fp - 116 + 0x00:word32];
						Mem542[fp - 0x0330 + 0x00:word32] = 0x00;
						Mem543[fp - 0x0334 + 0x00:word32] = 0x00;
						Mem545[fp - 0x0338 + 0x00:word32] = fp - 788;
						Mem547[fp - 0x033C + 0x00:word32] = fp - 0x84;
						do_blankline(gs, dwArg00, dwArg04, dwArg08, dwArg10);
					}
					if ((Mem440[Mem440[fp - 0x84 + 0x00:word32] + 0x0C:word32] & 0x70) == 0x20)
						Mem527[fp - 0x3C + 0x00:word32] = 0x00;
					else if ((Mem440[Mem440[fp - 0x84 + 0x00:word32] + 0x0C:word32] & 0x70) == 0x40)
						Mem533[fp - 0x3C + 0x00:word32] = 0x02;
					else
						Mem534[fp - 0x3C + 0x00:word32] = 0x01;
					if (Mem440[fp - 0x3C + 0x00:word32] != 0x01)
					{
						Mem511[fp - 0x40 + 0x00:word32] = Mem440[Mem440[Mem440[Mem440[fp + 0x04:word32] + 0x02A8:word32] + (Mem440[(fp - 0x30) + 0x00:word32] << 0x04) + 0x0C:word32] + 0x00:word32];
						while (Mem511[fp - 0x40 + 0x00:word32] != 0x00)
						{
							word32 edx_517 = Mem511[fp - 116 + 0x00:word32];
							word32 eax_519 = Mem511[Mem511[fp - 0x40 + 0x00:word32] + 0x00:word32];
							Mem521[fp - 0x0334 + 0x00:word32] = Mem511[fp - 0x3C + 0x00:word32];
							Mem522[fp - 0x0338 + 0x00:word32] = edx_517;
							Mem523[fp - 0x033C + 0x00:word32] = eax_519;
							align(dwArg00, dwArg04, dwArg08);
							Mem526[fp - 0x40 + 0x00:word32] = Mem523[Mem523[fp - 0x40 + 0x00:word32] + 0x04:word32];
						}
					}
					word32 eax_465 = Mem440[fp - 0x80 + 0x00:word32];
					Mem466[fp - 0x0338 + 0x00:word32] = Mem440[Mem440[Mem440[fp + 0x04:word32] + 0x02A8:word32] + (Mem440[(fp - 0x30) + 0x00:word32] << 0x04) + 0x0C:word32];
					Mem467[fp - 0x033C + 0x00:word32] = eax_465;
					appendGeneralList(dwArg00, dwArg04);
					if (Mem467[fp - 0x70 + 0x00:word32] < Mem467[(fp - 0x48) + 0x00:word32])
						Mem502[fp - 0x70 + 0x00:word32] = Mem467[fp - 0x48 + 0x00:word32];
					Mem473[fp - 0x0338 + 0x00:word32] = Mem467[fp - 0x84 + 0x00:word32];
					Mem475[fp - 0x033C + 0x00:word32] = fp - 0x84;
					restore_fonteffect(dwArg04);
					word32 eax_476 = Mem475[fp - 776 + 0x00:word32];
					Mem480[fp - 776 + 0x00:word32] = DPB(eax_476, SLICE(eax_476, byte, 8) & 223, 8);
					Mem481[fp - 88 + 0x00:word32] = 0x00;
					if (Mem481[Mem481[fp - 0x44 + 0x00:word32] + 0x34:word32] > 0x00)
					{
						Mem487[fp - 0x032C + 0x00:word32] = Mem481[fp - 116 + 0x00:word32];
						Mem488[fp - 0x0330 + 0x00:word32] = 0x00;
						Mem489[fp - 0x0334 + 0x00:word32] = 0x00;
						Mem491[fp - 0x0338 + 0x00:word32] = fp - 788;
						Mem493[fp - 0x033C + 0x00:word32] = fp - 0x84;
						do_blankline(gs, dwArg00, dwArg04, dwArg08, dwArg10);
						word32 eax_494 = Mem493[fp - 776 + 0x00:word32];
						Mem500[fp - 776 + 0x00:word32] = DPB(eax_494, SLICE(eax_494, byte, 8) | 0x20, 8);
					}
				}
			}
			else
			{
				word32 eax_366 = Mem341[Mem341[fp - 0x24 + 0x00:word32] + 0x00:word32];
				Mem367[fp - 0x0334 + 0x00:word32] = 0x01;
				Mem369[fp - 0x0338 + 0x00:word32] = fp - 0x84;
				Mem370[fp - 0x033C + 0x00:word32] = eax_366;
				HTMLlineproc0(fp - 0x04, gs, dwArg04);
			}
			Mem359[fp - 0x24 + 0x00:word32] = Mem341[Mem341[fp - 0x24 + 0x00:word32] + 0x04:word32];
		}
		if (Mem148[fp - 0x02D8 + 0x00:word32] != 0x00)
		{
			Mem332[fp - 0x02D8 + 0x00:word32] = 0x07;
			Mem333[fp - 0x0334 + 0x00:word32] = 0x01;
			Mem335[fp - 0x0338 + 0x00:word32] = fp - 0x84;
			Mem336[fp - 0x033C + 0x00:word32] = 0x080CB06C;
			HTMLlineproc0(fp - 0x04, gs, dwArg04);
		}
		Mem171[fp - 0x0338 + 0x00:word32] = fp - 788;
		Mem173[fp - 0x033C + 0x00:word32] = fp - 0x84;
		completeHTMLstream(fp - 0x04, gs, dwArg00, dwArg04);
		Mem177[fp - 0x032C + 0x00:word32] = Mem173[fp - 116 + 0x00:word32];
		Mem178[fp - 0x0330 + 0x00:word32] = 0x02;
		Mem179[fp - 0x0334 + 0x00:word32] = 0x00;
		Mem181[fp - 0x0338 + 0x00:word32] = fp - 788;
		Mem183[fp - 0x033C + 0x00:word32] = fp - 0x84;
		flushline(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg10);
		if (Mem183[Mem183[fp + 0x04:word32] + 0x14:word32] == 0x00)
		{
			Mem276[fp - 0x0334 + 0x00:word32] = Mem183[fp + 0x0C:word32];
			Mem278[fp - 0x0338 + 0x00:word32] = Mem276[fp + 0x08:word32];
			Mem280[fp - 0x033C + 0x00:word32] = Mem278[fp + 0x04:word32];
			Mem282[fp - 0x4C + 0x00:word32] = table_rowspan(dwArg00, dwArg04, dwArg08);
			if (Mem282[fp + 0x08:word32] + Mem282[(fp - 0x4C) + 0x00:word32] <= Mem282[Mem282[fp + 0x04:word32] + 0x08:word32])
			{
				if (Mem282[Mem282[fp + 0x04:word32] + 0x30:word32] > 0x00 && (Mem282[(fp - 776) + 0x00:word32] & 0x2000) == 0x00)
				{
					Mem300[fp - 0x032C + 0x00:word32] = Mem282[fp - 116 + 0x00:word32];
					Mem301[fp - 0x0330 + 0x00:word32] = 0x00;
					Mem302[fp - 0x0334 + 0x00:word32] = 0x00;
					Mem304[fp - 0x0338 + 0x00:word32] = fp - 788;
					Mem306[fp - 0x033C + 0x00:word32] = fp - 0x84;
					do_blankline(gs, dwArg00, dwArg04, dwArg08, dwArg10);
				}
			}
			else if (Mem282[Mem282[fp + 0x04:word32] + 0x34:word32] > 0x00)
			{
				Mem312[fp - 0x033C + 0x00:word32] = fp - 0x84;
				purgeline(dwArg00);
			}
		}
		else if (Mem183[Mem183[fp + 0x04:word32] + 0x30:word32] > 0x00)
		{
			if ((Mem183[fp - 776 + 0x00:word32] & 0x2000) == 0x00)
			{
				Mem323[fp - 0x032C + 0x00:word32] = Mem183[fp - 116 + 0x00:word32];
				Mem324[fp - 0x0330 + 0x00:word32] = 0x00;
				Mem325[fp - 0x0334 + 0x00:word32] = 0x00;
				Mem327[fp - 0x0338 + 0x00:word32] = fp - 788;
				Mem329[fp - 0x033C + 0x00:word32] = fp - 0x84;
				do_blankline(gs, dwArg00, dwArg04, dwArg08, dwArg10);
			}
		}
		else
		{
			Mem331[fp - 0x033C + 0x00:word32] = fp - 0x84;
			purgeline(dwArg00);
		}
		Mem193[fp - 0x0334 + 0x00:word32] = Mem183[fp + 0x0C:word32];
		Mem195[fp - 0x0338 + 0x00:word32] = Mem193[fp + 0x08:word32];
		Mem197[fp - 0x033C + 0x00:word32] = Mem195[fp + 0x04:word32];
		Mem199[fp - 0x28 + 0x00:word32] = table_colspan(dwArg00, dwArg04, dwArg08);
		if (Mem199[fp - 0x28 + 0x00:word32] > 0x01)
		{
			Mem205[fp - 0x50 + 0x00:word32] = Mem199[fp + 0x04:word32] + 388;
			word32 eax_211 = Mem205[fp - 0x50 + 0x00:word32];
			word32 ecx_213 = Mem205[fp - 0x50 + 0x00:word32];
			word32 edx_216 = (int32) (word16) Mem205[fp + 0x0C:word32];
			word32 eax_217 = Mem205[fp - 0x50 + 0x00:word32];
			word32 eax_221 = (int32) (word16) Mem205[fp - 0x28 + 0x00:word32];
			Mem222[fp - 0x0324 + 0x00:word32] = (int32) (word16) (word32) Mem205[Mem205[fp - 0x50 + 0x00:word32] + 0x78:word16] + 0x01;
			Mem223[fp - 808 + 0x00:word32] = eax_211 + 0x50;
			Mem224[fp - 0x032C + 0x00:word32] = 0x32;
			Mem225[fp - 0x0330 + 0x00:word32] = ecx_213;
			Mem226[fp - 0x0334 + 0x00:word32] = edx_216;
			Mem227[fp - 0x0338 + 0x00:word32] = eax_217 + 0x28;
			Mem228[fp - 0x033C + 0x00:word32] = eax_221;
			Mem232[fp - 0x54 + 0x00:word32] = bsearch_2short(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
			Mem239[fp - 44 + 0x00:word32] = (int32) (word16) (word32) Mem232[fp - 0x50 + 0x00:word32][(Mem232[fp - 0x54 + 0x00:word32] + 0x28) * 0x02];
			if ((int32) (word16) (word32) (Mem239[fp - 0x50 + 0x00:word32] + 0x0E)[(Mem239[fp - 44 + 0x00:word32] + 0x60) * 0x02] < Mem239[(fp - 0x70) + 0x00:word32])
				(Mem239[fp - 0x50 + 0x00:word32] + 0x0E)[(Mem239[fp - 44 + 0x00:word32] + 0x60) * 0x02] = (word16) Mem239[fp - 0x70 + 0x00:word32];
		}
		else if ((int32) (word16) (word32) (Mem199[fp + 0x04:word32] + 0x0C)[(Mem199[fp + 0x0C:word32] + 88) * 0x02] < Mem199[(fp - 0x70) + 0x00:word32])
			(Mem199[fp + 0x04:word32] + 0x0C)[(Mem199[fp + 0x0C:word32] + 88) * 0x02] = (word16) Mem199[fp - 0x70 + 0x00:word32];
	}
}

// 08081FAE: Register word32 table_rule_width(Stack word32 dwArg04)
word32 table_rule_width(word32 dwArg04)
{
	word32 eax_13;
	if (Mem0[dwArg04 + 0x14:word32] == 0x00)
		eax_13 = 0x01;
	else
		eax_13 = Mem0[0x0817D2D4:word32];
	return eax_13;
}

// 08081FC9: void check_cell_width(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20)
void check_cell_width(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg20)
{
	word16 ax_13 = (word16) dwArg14;
	word32 dwLoc14_15 = 0x00;
	while ((int32) ax_13 >= dwLoc14_15)
	{
		word32 eax_69 = (int32) (word16) (word32) dwArg18[dwLoc14_15 * 0x02];
		if ((word16) (word32) dwArg08[eax_69 * 0x02] > 0x00)
		{
			word32 eax_107 = (int32) (word16) (word32) dwArg0C[eax_69 * 0x02];
			word32 eax_116 = (int32) (word16) (word32) dwArg10[eax_69 * 0x02] + eax_107;
			word32 dwLoc20_119 = 0x00;
			word32 dwLoc0C_121 = eax_107;
			while (dwLoc0C_121 < eax_116)
			{
				dwLoc20_119 = dwLoc20_119 + (int32) ((word16) ((word32) dwArg04[dwLoc0C_121 * 0x02]));
				dwLoc0C_121 = dwLoc0C_121 + 0x01;
			}
			word32 eax_146 = (int32) (word16) (word32) dwArg08[eax_69 * 0x02] + (0x01 - (int32) ((word16) ((word32) dwArg10[eax_69 * 0x02]))) *s dwArg1C;
			if (eax_146 > dwLoc20_119)
			{
				word32 edx_172 = eax_146 - dwLoc20_119;
				word32 ecx_154 = eax_146 - dwLoc20_119;
				word32 edx_184 = (int32) (SEQ(edx_172 >> 0x1F, edx_172) % (int32) ((word16) ((word32) dwArg10[eax_69 * 0x02])));
				word32 eax_168 = (int32) (SEQ(ecx_154 >> 0x1F, ecx_154) / (int32) ((word16) ((word32) dwArg10[eax_69 * 0x02])));
				word32 dwLoc2C_187 = edx_184;
				word32 dwLoc0C_189 = eax_107;
				while (dwLoc0C_189 < eax_116)
				{
					dwArg04[dwLoc0C_189 * 0x02] = (word16) ((word32) dwArg04[dwLoc0C_189 * 0x02] + eax_168);
					dwLoc0C_189 = dwLoc0C_189 + 0x01;
				}
				if (dwArg20 == 0x01 && edx_184 > 0x00)
					dwLoc2C_187 = (int32) (word16) (word32) dwArg10[eax_69 * 0x02];
				word32 dwLoc0C_205 = 0x01;
				while (dwLoc0C_205 <= dwLoc2C_187)
				{
					word32 eax_220 = (eax_116 - dwLoc0C_205) * 0x02 + dwArg04;
					Mem224[eax_220 + 0x00:word16] = (word16) ((word32) Mem0[eax_220 + 0x00:word16] + 0x01);
					dwLoc0C_205 = dwLoc0C_205 + 0x01;
				}
			}
		}
		dwLoc14_15 = dwLoc14_15 + 0x01;
	}
}

// 0808216A: void check_minimum_width(Stack word32 dwArg04, Stack word32 dwArg08)
void check_minimum_width(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc14_21 = 0x00;
	while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc14_21)
	{
		if ((word16) (word32) dwArg08[dwLoc14_21 * 0x02] < (word16) ((word32) (dwArg04 + 0x0C)[(dwLoc14_21 + 88) * 0x02]))
			dwArg08[dwLoc14_21 * 0x02] = (word16) (word32) (dwArg04 + 0x0C)[(dwLoc14_21 + 88) * 0x02];
		dwLoc14_21 = dwLoc14_21 + 0x01;
	}
	check_cell_width(dwArg08, dwArg04 + 0x0252, dwArg04 + 388, dwArg04 + 0x01AC, (int32) (word16) (word32) Mem0[dwArg04 + 0x01FC:word16], dwArg04 + 0x01D4, Mem0[dwArg04 + 0x28:word32], 0x00);
}

// 08082228: void check_maximum_width(Stack word32 dwArg04)
void check_maximum_width(word32 dwArg04)
{
	Mem13[dwArg04 + 0x0228:word16] = 0x00;
	word32 dwLoc10_14 = 0x00;
	while ((int32) (word16) (word32) Mem13[dwArg04 + 0x01FC:word16] >= dwLoc10_14)
	{
		word32 eax_47 = (int32) (word16) (word32) (dwArg04 + 388)[dwLoc10_14 * 0x02];
		word32 eax_55 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(dwLoc10_14 + 0x10) * 0x02] + eax_47;
		word32 dwLoc1C_122 = 0x00;
		word32 dwLoc0C_124 = eax_47 + 0x28;
		while (dwLoc0C_124 < eax_55)
		{
			dwLoc1C_122 = dwLoc1C_122 + (int32) ((word16) ((word32) (dwArg04 + 0x08)[(dwLoc0C_124 + 0x00) * 0x02]));
			dwLoc0C_124 = dwLoc0C_124 + 0x01;
		}
		if ((int32) (word16) (word32) (dwArg04 + 0x018A)[(dwLoc10_14 + 0x50) * 0x02] + Mem13[dwArg04 + 0x28:word32] *s (0x01 - (int32) ((word16) ((word32) (dwArg04 + 0x018C)[(dwLoc10_14 + 0x10) * 0x02]))) > dwLoc1C_122)
		{
			(dwArg04 + 400)[((int32) (word16) (word32) Mem13[dwArg04 + 0x0228:word16] + 0x38) * 0x02] = (word16) dwLoc10_14;
			Mem114[dwArg04 + 0x0228:word16] = (word16) ((word32) Mem108[dwArg04 + 0x0228:word16] + 0x01);
		}
		dwLoc10_14 = dwLoc10_14 + 0x01;
	}
}

// 0808232A: FpuStack real64 set_integered_width(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, FpuStack real64 rArg0)
real64 set_integered_width(word32 dwArg04, word32 dwArg08, word32 dwArg0C, real64 rArg0)
{
	real64 rLoc7C_1029 = 0.0;
	word32 esp_30;
	word32 ebp_31;
	word32 ebx_32;
	byte SCZO_33;
	word32 eax_34;
	byte SO_35;
	byte ah_36;
	word16 ax_37;
	word32 edx_38;
	word16 dx_39;
	byte SZO_40;
	byte CZP_41;
	byte al_42;
	byte CZ_43;
	byte C_44;
	byte Z_45;
	word32 ecx_46;
	word16 bx_47;
	byte dl_48;
	!GC_malloc_atomic();
	word32 esp_56;
	word32 ebp_57;
	word32 ebx_58;
	byte SCZO_59;
	word32 eax_60;
	byte SO_61;
	byte ah_62;
	word16 ax_63;
	word32 edx_64;
	word16 dx_65;
	byte SZO_66;
	byte CZP_67;
	byte al_68;
	byte CZ_69;
	byte C_70;
	byte Z_71;
	word32 ecx_72;
	word16 bx_73;
	byte dl_74;
	!GC_malloc_atomic();
	word32 eax_21 = table_rule_width(dwArg04);
	word32 dwLoc10_106 = 0x00;
	while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc10_106)
	{
		word32 esp_1135;
		word32 ebp_1136;
		word32 ebx_1137;
		byte SCZO_1138;
		word32 eax_1139;
		byte SO_1140;
		byte ah_1141;
		word16 ax_1142;
		word32 edx_1143;
		word16 dx_1144;
		byte SZO_1145;
		byte CZP_1146;
		byte al_1147;
		byte CZ_1148;
		byte C_1149;
		byte Z_1150;
		word32 ecx_1151;
		word16 bx_1152;
		byte dl_1153;
		!ceil();
		word16 wLoc92_1154 = __fstcw();
		__fldcw(DPB(ax_1142, 0x0C, 8));
		__fldcw(wLoc92_1154);
		Mem1166[ebx_1137 + 0x00:word16] = (word16) ceil_at_intervals((int32) rArg0, eax_21);
		rArg0 = (real64) (word16) (word32) dwArg0C[dwLoc10_106 * 0x02] - dwArg08[dwLoc10_106 * 0x08];
		eax_60[dwLoc10_106 * 0x08] = rArg0;
		dwLoc10_106 = dwLoc10_106 + 0x01;
	}
	real64 rLoc74_1073 = 0.0;
	word32 dwLoc18_1098 = 0x00;
	while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc18_1098)
	{
		real64 rLoc1_1069 = eax_60[dwLoc18_1098 * 0x08];
		rLoc7C_1029 = rLoc1_1069;
		rLoc74_1073 = rLoc74_1073 + rLoc1_1069;
		word32 eax_1084 = bsearch_double((word32) rLoc1_1069, SLICE(rLoc1_1069, word32, 32), eax_60, eax_34, dwLoc18_1098);
		if (dwLoc18_1098 > eax_1084)
		{
			word32 dwLoc40_1101 = dwLoc18_1098;
			while (dwLoc40_1101 > eax_1084)
			{
				eax_34[dwLoc40_1101 * 0x02] = (word16) (word32) eax_34[(dwLoc40_1101 - 0x01) * 0x02];
				dwLoc40_1101 = dwLoc40_1101 - 0x01;
			}
		}
		eax_34[eax_1084 * 0x02] = (word16) dwLoc18_1098;
		dwLoc18_1098 = dwLoc18_1098 + 0x01;
	}
	word32 esp_145;
	word32 ebp_146;
	word32 ebx_147;
	byte SCZO_148;
	word32 eax_149;
	byte SO_150;
	byte ah_151;
	word16 ax_152;
	word32 edx_153;
	word16 dx_154;
	byte SZO_155;
	byte CZP_156;
	byte al_157;
	byte CZ_158;
	byte C_159;
	byte Z_160;
	word32 ecx_161;
	word16 bx_162;
	byte dl_163;
	!GC_malloc_atomic();
	word32 esp_172;
	word32 ebp_173;
	word32 ebx_174;
	byte SCZO_175;
	word32 eax_176;
	byte SO_177;
	byte ah_178;
	word16 ax_179;
	word32 edx_180;
	word16 dx_181;
	byte SZO_182;
	byte CZP_183;
	byte al_184;
	byte CZ_185;
	byte C_186;
	byte Z_187;
	word32 ecx_188;
	word16 bx_189;
	byte dl_190;
	!bzero();
	word32 dwLoc28_191 = 0x00;
	while (dwLoc28_191 <= 0x01)
	{
		word32 dwLoc10_298 = 0x00;
		while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc10_298)
		{
			if (Mem0[0x080CB5C8:real64] >u rLoc74_1073 != 0x00)
				return rArg0;
			word32 dwLoc1C_1040 = 0x00;
			while (dwLoc10_298 + dwLoc1C_1040 <= Mem0[dwArg04 + 0x0C:word32])
			{
				word32 eax_1025 = (int32) (word16) (word32) eax_34[(dwLoc10_298 + dwLoc1C_1040) * 0x02];
				if (dwLoc1C_1040 == 0x00)
					rLoc7C_1029 = eax_60[eax_1025 * 0x08];
				else if (fabs(eax_60[eax_1025 * 0x08] - rLoc7C_1029) >u Mem0[0x080CB5D0:real64] != 0x00)
					break;
				dwLoc1C_1040 = dwLoc1C_1040 + 0x01;
			}
			word32 dwLoc18_387 = 0x00;
			while (dwLoc18_387 < dwLoc1C_1040)
			{
				word32 eax_926 = (int32) (word16) (word32) eax_34[(dwLoc10_298 + dwLoc18_387) * 0x02];
				if ((byte) (word32) Mem0[eax_926 + eax_149:byte] <= 0x01 && (int32) ((word16) ((word32) dwArg0C[eax_926 * 0x02])) - eax_21 < (int32) ((word16) ((word32) (dwArg04 + 0x0C)[(eax_926 + 88) * 0x02])))
					Mem1017[eax_926 + eax_149:byte] = 0x02;
				if ((byte) (word32) Mem0[eax_926 + eax_149:byte] <= 0x00 && ((int32) ((word16) ((word32) dwArg0C[eax_926 * 0x02])) - eax_21 < (int32) ((word16) ((word32) (dwArg04 + 0x08)[(eax_926 + 0x28) * 0x02])) && (real64) eax_21 - eax_60[eax_926 * 0x08] >u Mem0[0x080CB5C8:real64] != 0x00))
					Mem997[eax_926 + eax_149:byte] = 0x01;
				dwLoc18_387 = dwLoc18_387 + 0x01;
			}
			word32 esp_406;
			word32 ebp_407;
			word32 ebx_408;
			byte SCZO_409;
			word32 eax_410;
			byte SO_411;
			byte ah_412;
			word16 ax_413;
			word32 edx_414;
			word16 dx_415;
			byte SZO_416;
			byte CZP_417;
			byte al_418;
			byte CZ_419;
			byte C_420;
			byte Z_421;
			word32 ecx_422;
			word16 bx_423;
			byte dl_424;
			!GC_malloc_atomic();
			word32 dwLoc18_426 = 0x28;
			while ((int32) (word16) (word32) Mem0[dwArg04 + 0x01FC:word16] > dwLoc18_426)
			{
				word32 eax_594 = (int32) (word16) (word32) (dwArg04 + 388)[(dwLoc18_426 + 0x00) * 0x02];
				word32 eax_600 = (int32) (word16) (word32) (dwArg04 + 388)[eax_594 * 0x02];
				word32 eax_608 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_594 + 0x10) * 0x02] + eax_600;
				word32 dwLoc60_611 = 0x00;
				word32 dwLoc54_612 = 0x00;
				while (dwLoc54_612 < dwLoc1C_1040)
				{
					word32 eax_895 = (int32) (word16) (word32) eax_34[(dwLoc10_298 + dwLoc54_612) * 0x02];
					if (eax_895 >= eax_600 && eax_895 < eax_608)
					{
						Mem915[dwLoc60_611 + eax_410:byte] = (byte) eax_895;
						dwLoc60_611 = dwLoc60_611 + 0x01;
					}
					dwLoc54_612 = dwLoc54_612 + 0x01;
				}
				if (dwLoc60_611 != 0x00)
				{
					word32 dwLoc5C_654 = Mem0[dwArg04 + 0x28:word32] *s ((int32) ((word16) ((word32) (dwArg04 + 0x018C)[(eax_594 + 0x10) * 0x02])) - 0x01);
					word32 dwLoc54_656 = eax_600;
					while (dwLoc54_656 < eax_608)
					{
						dwLoc5C_654 = dwLoc5C_654 + (int32) ((word16) ((word32) dwArg0C[dwLoc54_656 * 0x02]));
						dwLoc54_656 = dwLoc54_656 + 0x01;
					}
					word32 dwLoc58_663 = 0x00;
					word32 dwLoc54_664 = 0x00;
					while (dwLoc54_664 < dwLoc60_611)
					{
						if ((byte) (word32) Mem0[(int32) (byte) (word32) Mem0[dwLoc54_664 + eax_410:byte] + eax_149:byte] <= 0x01)
							dwLoc58_663 = dwLoc58_663 + eax_21;
						dwLoc54_664 = dwLoc54_664 + 0x01;
					}
					if (dwLoc5C_654 - dwLoc58_663 < (int32) ((word16) ((word32) (dwArg04 + 0x0192)[(eax_594 + 0x60) * 0x02])))
					{
						word32 dwLoc54_828 = 0x00;
						while (dwLoc54_828 < dwLoc60_611)
						{
							if ((byte) (word32) Mem0[(int32) (byte) (word32) Mem0[dwLoc54_828 + eax_410:byte] + eax_149:byte] <= 0x01)
								Mem857[(int32) (byte) (word32) Mem0[dwLoc54_828 + eax_410:byte] + eax_149:byte] = 0x02;
							dwLoc54_828 = dwLoc54_828 + 0x01;
						}
					}
					word32 dwLoc58_689 = 0x00;
					word32 dwLoc54_690 = 0x00;
					while (dwLoc54_690 < dwLoc60_611)
					{
						if ((byte) (word32) Mem0[(int32) (byte) (word32) Mem0[dwLoc54_690 + eax_410:byte] + eax_149:byte] <= 0x00 && (real64) eax_21 - eax_60[(int32) ((byte) ((word32) Mem0[dwLoc54_690 + eax_410:byte])) * 0x08] >u Mem0[0x080CB5C8:real64] != 0x00)
							dwLoc58_689 = dwLoc58_689 + eax_21;
						dwLoc54_690 = dwLoc54_690 + 0x01;
					}
					if (dwLoc5C_654 - dwLoc58_689 < (int32) ((word16) ((word32) (dwArg04 + 0x018A)[(eax_594 + 0x50) * 0x02])))
					{
						word32 dwLoc54_716 = 0x00;
						while (dwLoc54_716 < dwLoc60_611)
						{
							if ((byte) (word32) Mem0[(int32) (byte) (word32) Mem0[dwLoc54_716 + eax_410:byte] + eax_149:byte] <= 0x00 && (real64) eax_21 - eax_60[(int32) ((byte) ((word32) Mem0[dwLoc54_716 + eax_410:byte])) * 0x08] >u Mem0[0x080CB5C8:real64] != 0x00)
								Mem779[(int32) (byte) (word32) Mem0[dwLoc54_716 + eax_410:byte] + eax_149:byte] = 0x01;
							dwLoc54_716 = dwLoc54_716 + 0x01;
						}
					}
				}
				dwLoc18_426 = dwLoc18_426 + 0x01;
			}
			word32 dwLoc44_453 = 0x00;
			word32 dwLoc18_454 = 0x00;
			while (dwLoc18_454 < dwLoc1C_1040)
			{
				if ((int32) (byte) (word32) Mem0[(int32) (word16) (word32) eax_34[(dwLoc10_298 + dwLoc18_454) * 0x02] + eax_149:byte] <= dwLoc28_191)
					dwLoc44_453 = dwLoc44_453 + 0x01;
				dwLoc18_454 = dwLoc18_454 + 0x01;
			}
			real64 rLoc1_470 = rLoc74_1073 - (real64) (dwLoc44_453 *s eax_21);
			if (0.0 >u rLoc1_470 != 0x00 && fabs(rLoc1_470) >=u fabs(rLoc74_1073) != 0x00)
				return rArg0;
			word32 dwLoc18_488 = 0x00;
			while (dwLoc18_488 < dwLoc1C_1040)
			{
				word32 eax_515 = (int32) (word16) (word32) eax_34[(dwLoc10_298 + dwLoc18_488) * 0x02];
				if ((int32) (byte) (word32) Mem0[eax_515 + eax_149:byte] <= dwLoc28_191)
				{
					dwArg0C[eax_515 * 0x02] = (word16) (word32) dwArg0C[eax_515 * 0x02] - (word16) eax_21;
					Mem554[eax_515 + eax_149:byte] = 0x03;
				}
				dwLoc18_488 = dwLoc18_488 + 0x01;
			}
			rLoc74_1073 = rLoc1_470;
			dwLoc10_298 = dwLoc10_298 + dwLoc1C_1040;
		}
		dwLoc28_191 = dwLoc28_191 + 0x01;
	}
	return rArg0;
}

// 08082A0A: FpuStack real64 correlation_coefficient(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18)
real64 correlation_coefficient(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18)
{
	ptr32 fp;
	word32 ebp;
	word32 dwArg04;
	word32 dwArg08;
	real64 rLoc24;
	word32 dwArg0C;
	word32 dwArg10;
	real64 rLoc2C;
	word32 dwArg14;
	word32 dwArg18;
	<type-error> Mem0;
	real64 rLoc34;
	real64 rLoc14;
	real64 rLoc4C;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebp;
	ebp_5 = fp - 0x04;
	esp_6 = fp - 0x4C;
	eax_8 = dwArg04;
	dwLoc24_9 = eax_8;
	eax_11 = dwArg08;
	dwLoc20_12 = eax_11;
	rLoc24_14 = DPB(rLoc24, dwLoc20_12, 32);
	eax_16 = dwArg0C;
	dwLoc2C_17 = eax_16;
	eax_19 = dwArg10;
	dwLoc28_20 = eax_19;
	rLoc2C_22 = DPB(rLoc2C, dwLoc28_20, 32);
	eax_24 = dwArg14;
	dwLoc34_25 = eax_24;
	eax_27 = dwArg18;
	dwLoc30_28 = eax_27;
	rLoc1_29 = rLoc24_14;
	rLoc1_30 = rLoc1_29 * rLoc2C_22;
	rLoc1C_31 = rLoc1_30;
	rLoc1_33 = Mem0[0x080D56C0:real64];
	rLoc2_34 = rLoc1C_31;
	v8_35 = rLoc2_34;
	rLoc2_36 = rLoc1_33;
	rLoc1_37 = v8_35;
	CZP_38 = cond(rLoc2_36 - rLoc1_37);
	CZ_39 = CZP_38;
	rLoc1_40 = rLoc1_37;
	al_41 = rLoc2_36 >u rLoc1_37;
	SZO_42 = cond(al_41 & al_41);
	Z_43 = SZO_42;
	C_44 = false;
	if ((al_41 & al_41) != 0x00)
	{
		rLoc1_120 = Mem0[0x080D56C0:real64];
		rLoc1C_121 = rLoc1_120;
	}
	rLoc1C_45 = ϕ(rLoc1C_31, rLoc1C_121);
	rLoc1_46 = rLoc1C_45;
	rLoc1_47 = sqrt(rLoc1_46);
	CZP_48 = cond(rLoc1_47 - rLoc1_47);
	SCZO_49 = CZP_48;
	SZO_50 = CZP_48;
	Z_51 = CZP_48;
	P_52 = CZP_48;
	CZ_53 = CZP_48;
	C_54 = CZP_48;
	if (Test(PO,P_52))
	{
		if (rLoc1_47 == rLoc1_47)
			goto l08082A78;
		rLoc1_118 = rLoc1_47;
	}
	else
		rLoc1_119 = rLoc1_47;
	rLoc1_103 = rLoc1C_45;
	rLoc4C_104 = rLoc1_103;
	!sqrt();
l08082A78:
	rLoc4C_55 = ϕ(rLoc4C, rLoc4C_104);
	P_56 = ϕ(P_52, P_116);
	eax_57 = ϕ(eax_27, eax_109);
	SCZO_58 = ϕ(SCZO_49, SCZO_108);
	rLoc1_59 = ϕ(rLoc1_47, rLoc1_103);
	ebp_60 = ϕ(ebp_5, ebp_107);
	esp_61 = ϕ(esp_6, esp_106);
	rLoc2_63 = rLoc34;
	rLoc1_64 = rLoc2_63 / rLoc1_59;
	rLoc14_65 = rLoc1_64;
	rLoc1_66 = rLoc14_65;
	rLoc2_67 = 1.0;
	v16_68 = rLoc2_67;
	rLoc2_69 = rLoc1_66;
	rLoc1_70 = v16_68;
	CZP_71 = cond(rLoc2_69 - rLoc1_70);
	CZ_72 = CZP_71;
	rLoc1_73 = rLoc1_70;
	al_74 = Test(UGT,CZ_72);
	SZO_75 = cond(al_74 & al_74);
	Z_76 = SZO_75;
	C_77 = false;
	if (Test(NE,Z_76))
		rLoc1_89 = 1.0;
	else
	{
		rLoc1_90 = rLoc14_65;
		rLoc2_91 = 1.0;
		rLoc2_92 = -rLoc2_91;
		CZP_93 = cond(rLoc2_92 - rLoc1_90);
		CZ_94 = CZP_93;
		rLoc1_95 = rLoc1_90;
		al_96 = Test(UGT,CZ_94);
		SZO_97 = cond(al_96 & al_96);
		Z_98 = SZO_97;
		C_99 = false;
		if (Test(NE,Z_98))
		{
			rLoc1_100 = 1.0;
			rLoc1_101 = -rLoc1_100;
		}
		else
			rLoc1_102 = rLoc14_65;
	}
	rLoc2_78 = ϕ(rLoc2_69, rLoc2_92, rLoc2_92);
	CZP_79 = ϕ(CZP_71, CZP_93, CZP_93);
	CZ_80 = ϕ(CZ_72, CZ_94, CZ_94);
	al_81 = ϕ(al_74, al_96, al_96);
	SZO_82 = ϕ(SZO_75, SZO_97, SZO_97);
	Z_83 = ϕ(Z_76, Z_98, Z_98);
	C_84 = ϕ(C_77, C_99, C_99);
	rLoc1_85 = ϕ(rLoc1_89, rLoc1_101, rLoc1_102);
	esp_86 = fp - 0x04;
	ebp_87 = dwLoc04_4;
	esp_88 = fp;
	return rLoc1_85;
}

// 08082AB3: FpuStack real64 correlation_coefficient2(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, FpuStack real64 rArg0)
real64 correlation_coefficient2(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, real64 rArg0)
{
	real64 rLoc24_14 = DPB(rLoc24, dwArg08, 32);
	real64 rLoc2C_22 = DPB(rLoc2C, dwArg10, 32);
	real64 rLoc34_30 = DPB(rLoc34, dwArg18, 32);
	byte al_48 = Mem0[0x080D56C0:real64] >u ((rLoc2C_22 + rLoc24_14) + rLoc34_30 * Mem0[0x080CB5D8:real64]) * rLoc24_14;
	real64 rArg0_106;
	word32 esp_58;
	word32 ebp_59;
	byte SCZO_60;
	word32 eax_61;
	byte CZP_62;
	byte al_63;
	byte CZ_64;
	byte SZO_65;
	byte C_66;
	byte Z_67;
	!sqrt();
	real64 rArg0_69 = (rLoc24_14 - rLoc34_30) / rArg0;
	if (rArg0_69 >u 1.0 != 0x00)
		rArg0_106 = 1.0;
	else if (-1.0 >u rArg0_69 != 0x00)
		rArg0_106 = -1.0;
	else
		rArg0_106 = rArg0_69;
	return rArg0_106;
}

// 08082B62: FpuStack real64 recalc_width(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack int32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20, Stack word32 dwArg24, Stack word32 dwArg28, Stack word32 dwArg2C, Stack word32 dwArg30, FpuStack real64 rArg0, FpuStack real64 rArg1, FpuStack out ptr32 rArg0Out)
real64 recalc_width(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, int32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg20, word32 dwArg24, word32 dwArg28, word32 dwArg2C, word32 dwArg30, real64 rArg0, real64 rArg1, ptr32 & rArg0Out)
{
	real64 rLoc74_47 = DPB(rLoc74, dwArg2C, 32);
	real64 rLoc6C_39 = DPB(rLoc6C, dwArg24, 32);
	real64 rLoc64_31 = DPB(rLoc64, dwArg1C, 32);
	real64 rLoc5C_23 = DPB(rLoc5C, dwArg10, 32);
	word32 dwLoc8C_58 = (word32) rLoc74_47;
	word32 dwLoc88_59 = SLICE(rLoc74_47, word32, 32);
	word32 dwLoc94_62 = (word32) rLoc6C_39;
	word32 dwLoc90_63 = SLICE(rLoc6C_39, word32, 32);
	word32 dwLoc9C_66 = (word32) rLoc64_31;
	word32 dwLoc98_67 = SLICE(rLoc64_31, word32, 32);
	real64 rLoc54_15 = DPB(rLoc54, dwArg08, 32);
	real64 rLoc1_51 = rLoc5C_23 - (real64) dwArg14;
	real64 rLoc1_54 = rLoc74_47 / rLoc64_31;
	real64 rLoc1_68 = correlation_coefficient(dwLoc9C_66, dwLoc98_67, dwLoc94_62, dwLoc90_63, dwLoc8C_58, dwLoc88_59);
	if (0.0 >u rLoc54_15 != 0x00)
		rLoc54_15 = 0.0;
	real64 rLoc1_116;
	if (Mem0[0x080CB5E0:real64] >u fabs(rLoc1_68) != 0x00)
	{
		rLoc1_116 = rLoc54_15;
		return rLoc1_116;
	}
	real64 rLoc34_160;
	real64 rLoc1_129 = rLoc1_54 * rLoc54_15;
	real64 rLoc34_132 = rLoc1_51;
	if (rLoc1_129 >u 0.0 != 0x00)
	{
		word32 esp_185;
		word32 ebp_186;
		byte SCZO_187;
		word32 eax_188;
		byte CZP_189;
		byte al_190;
		byte CZ_191;
		byte SZO_192;
		byte C_193;
		byte Z_194;
		!sqrt();
		real64 rArg0_196 = rArg0 * Mem0[0x080CB5E8:real64];
		rLoc1_116 = Mem0[0x080CB5F0:real64];
		real64 rLoc3C_197 = rArg0_196;
		if (rLoc1_116 >u rLoc5C_23 != 0x00 && (dwArg14 > 0x00 && dwArg30 != 0x00))
		{
			real64 rArg1_266 = correlation_coefficient2((word32) rLoc64_31, SLICE(rLoc64_31, word32, 32), (word32) rLoc6C_39, SLICE(rLoc6C_39, word32, 32), (word32) rLoc74_47, SLICE(rLoc74_47, word32, 32), rArg1);
			if (rLoc1_68 >u Mem0[0x080CB5F8:real64] != 0x00 || rArg1_266 >u Mem0[0x080CB5F8:real64] != 0x00)
				return rLoc1_116;
		}
		if (rArg0_196 >u Mem0[0x080CB600:real64] != 0x00)
			rLoc3C_197 = Mem0[0x080CB600:real64];
		if (0.0 >u rLoc1_51 != 0x00)
			rLoc34_132 = 0.0;
		rLoc34_160 = rLoc34_132 + rLoc3C_197;
	}
	else
	{
		word32 esp_302;
		word32 ebp_303;
		byte SCZO_304;
		word32 eax_305;
		byte CZP_306;
		byte al_307;
		byte CZ_308;
		byte SZO_309;
		byte C_310;
		byte Z_311;
		!sqrt();
		real64 rArg0_316 = rArg0 * Mem0[0x080CB5E8:real64] * fabs(rLoc1_68);
		real64 rLoc4C_317 = rArg0_316;
		rLoc1_116 = rLoc1_54;
		if (rLoc1_54 >u Mem0[0x080CB608:real64] != 0x00)
			return rLoc1_116;
		if (rArg0_316 >u Mem0[0x080CB610:real64] != 0x00)
			rLoc4C_317 = Mem0[0x080CB610:real64];
		if (rLoc1_51 >u 0.0 != 0x00)
			rLoc34_132 = 0.0;
		rLoc34_160 = rLoc34_132 - rLoc4C_317;
	}
	rLoc1_116 = rLoc1_129;
	return rLoc1_116;
}

// 08082D94: Register word32 check_compressible_cell(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20, Stack word32 dwArg24, Stack word32 dwArg28, Stack word32 dwArg2C, Stack word32 dwArg30, Stack word32 dwArg34, FpuStack real64 rArg0, FpuStack out ptr32 rArg0Out)
word32 check_compressible_cell(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg20, word32 dwArg24, word32 dwArg28, word32 dwArg2C, word32 dwArg30, word32 dwArg34, real64 rArg0, ptr32 & rArg0Out)
{
	word32 eax_102;
	word32 eax_28 = table_rule_width(dwArg04);
	real64 rLoc7C_20 = DPB(rLoc7C, dwArg30, 32);
	if (Mem0[0x080CB618:real64] >u rLoc7C_20 != 0x00)
		eax_102 = dwArg34;
	else
	{
		word32 dwLoc28_157;
		word32 dwLoc24_156;
		real64 rLoc4C_155;
		if (dwArg24 >= 0x00)
		{
			rLoc4C_155 = dwArg0C[dwArg24 * 0x08] - (real64) ((word16) ((word32) (dwArg04 + 0x08)[(dwArg24 + 0x28) * 0x02]));
			dwLoc24_156 = dwArg24;
			dwLoc28_157 = dwArg24 + 0x01;
		}
		else if (dwArg28 >= 0x00)
		{
			word32 eax_923 = (int32) (word16) (word32) (dwArg04 + 388)[dwArg28 * 0x02];
			rLoc4C_155 = dwArg10[dwArg28 * 0x08] - (real64) ((word16) ((word32) dwArg14[dwArg28 * 0x02]));
			dwLoc24_156 = eax_923;
			dwLoc28_157 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(dwArg28 + 0x10) * 0x02] + eax_923;
		}
		else
		{
			rLoc4C_155 = rLoc74;
			dwLoc24_156 = 0x00;
			dwLoc28_157 = Mem0[dwArg04 + 0x0C:word32] + 0x01;
		}
		real64 rLoc64_165 = rLoc4C_155;
		real64 rLoc5C_168 = -1.0;
		word32 dwLoc1C_169 = 0x28;
		while ((int32) (word16) (word32) Mem0[dwArg04 + 0x01FC:word16] >= dwLoc1C_169)
		{
			word32 dwLoc3C_647 = 0x00;
			if (0.0 >=u rLoc64_165 != 0x00)
				goto l080831E8;
			word32 eax_662 = (int32) (word16) (word32) (dwArg04 + 388)[(dwLoc1C_169 + 0x00) * 0x02];
			if (eax_662 != dwArg28)
			{
				word32 eax_714 = (int32) (word16) (word32) (dwArg04 + 388)[eax_662 * 0x02];
				word32 eax_722 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_662 + 0x10) * 0x02] + eax_714;
				real64 rLoc6C_726 = 0.0;
				word32 dwLoc20_728 = eax_714;
				while (dwLoc20_728 < eax_722)
				{
					word32 dwLoc14_848 = dwLoc24_156;
					while (dwLoc14_848 < dwLoc28_157)
					{
						rLoc6C_726 = Mem0[dwArg08 + 0x00:word32][(Mem0[dwArg08 + 0x04:word32] *s dwLoc14_848 + dwLoc20_728) * 0x08] + rLoc6C_726;
						dwLoc14_848 = dwLoc14_848 + 0x01;
					}
					dwLoc20_728 = dwLoc20_728 + 0x01;
				}
				if (eax_714 >= dwLoc24_156 && eax_722 <= dwLoc28_157)
					dwLoc3C_647 = 0x01;
				if (rLoc6C_726 >u 0.0 != 0x00)
				{
					real64 rLoc1_760 = dwArg20[eax_662 * 0x08];
					real64 rLoc2_773 = dwArg10[eax_662 * 0x08];
					rLoc64_165 = recalc_width((word32) rLoc64_165, SLICE(rLoc64_165, word32, 32), (word32) rLoc2_773, SLICE(rLoc2_773, word32, 32), (int32) (word16) (word32) dwArg14[eax_662 * 0x02], (word32) rLoc7C_20, SLICE(rLoc7C_20, word32, 32), (word32) rLoc1_760, SLICE(rLoc1_760, word32, 32), (word32) rLoc6C_726, SLICE(rLoc6C_726, word32, 32), dwLoc3C_647, rArg0, rArg1, out rArg0);
				}
				else
				{
					real64 rLoc1_804 = dwArg20[eax_662 * 0x08];
					real64 rLoc2_815 = dwArg10[eax_662 * 0x08];
					rLoc5C_168 = recalc_width((word32) rLoc5C_168, SLICE(rLoc5C_168, word32, 32), (word32) rLoc2_815, SLICE(rLoc2_815, word32, 32), (int32) (word16) (word32) dwArg14[eax_662 * 0x02], (word32) rLoc7C_20, SLICE(rLoc7C_20, word32, 32), (word32) rLoc1_804, SLICE(rLoc1_804, word32, 32), (word32) rLoc6C_726, SLICE(rLoc6C_726, word32, 32), dwLoc3C_647, rArg0, rArg1, out rArg0);
				}
			}
			dwLoc1C_169 = dwLoc1C_169 + 0x01;
		}
		word32 dwLoc20_408 = 0x00;
		while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc20_408)
		{
			word32 dwLoc40_448 = 0x00;
			if (0.0 >=u rLoc64_165 != 0x00)
				break;
			if (dwLoc20_408 != dwArg24)
			{
				real64 rLoc6C_501 = 0.0;
				word32 dwLoc14_503 = dwLoc24_156;
				while (dwLoc14_503 < dwLoc28_157)
				{
					rLoc6C_501 = Mem0[dwArg08 + 0x00:word32][(Mem0[dwArg08 + 0x04:word32] *s dwLoc14_503 + dwLoc20_408) * 0x08] + rLoc6C_501;
					dwLoc14_503 = dwLoc14_503 + 0x01;
				}
				if (dwLoc20_408 >= dwLoc24_156 && dwLoc20_408 < dwLoc28_157)
					dwLoc40_448 = 0x01;
				if (rLoc6C_501 >u 0.0 != 0x00)
				{
					real64 rLoc1_540 = Mem0[Mem0[dwArg08 + 0x00:word32] + (Mem0[dwArg08 + 0x04:word32] + 0x01 << 0x03) *s dwLoc20_408:real64];
					real64 rLoc2_552 = dwArg0C[dwLoc20_408 * 0x08];
					rLoc64_165 = recalc_width((word32) rLoc64_165, SLICE(rLoc64_165, word32, 32), (word32) rLoc2_552, SLICE(rLoc2_552, word32, 32), (int32) (word16) (word32) (dwArg04 + 0x08)[(dwLoc20_408 + 0x28) * 0x02], (word32) rLoc7C_20, SLICE(rLoc7C_20, word32, 32), (word32) rLoc1_540, SLICE(rLoc1_540, word32, 32), (word32) rLoc6C_501, SLICE(rLoc6C_501, word32, 32), dwLoc40_448, rArg0, rArg1, out rArg0);
				}
				else
				{
					real64 rLoc1_589 = Mem0[Mem0[dwArg08 + 0x00:word32] + (Mem0[dwArg08 + 0x04:word32] + 0x01 << 0x03) *s dwLoc20_408:real64];
					real64 rLoc2_600 = dwArg0C[dwLoc20_408 * 0x08];
					rLoc5C_168 = recalc_width((word32) rLoc5C_168, SLICE(rLoc5C_168, word32, 32), (word32) rLoc2_600, SLICE(rLoc2_600, word32, 32), (int32) (word16) (word32) (dwArg04 + 0x08)[(dwLoc20_408 + 0x28) * 0x02], (word32) rLoc7C_20, SLICE(rLoc7C_20, word32, 32), (word32) rLoc1_589, SLICE(rLoc1_589, word32, 32), (word32) rLoc6C_501, SLICE(rLoc6C_501, word32, 32), dwLoc40_448, rArg0, rArg1, out rArg0);
				}
			}
			dwLoc20_408 = dwLoc20_408 + 0x01;
		}
l080831E8:
		if (rLoc5C_168 >u 0.0 != 0x00 && rLoc64_165 >u rLoc5C_168 != 0x00)
			rLoc64_165 = rLoc5C_168;
		word32 ecx_268 = dwLoc28_157 - dwLoc24_156;
		if (Mem0[dwArg04 + 0x0C:word32] + 0x01 == ecx_268 && rLoc64_165 >=u 0.0 != 0x00 || Mem0[dwArg04 + 0x0C:word32] + 0x01 != ecx_268 && rLoc64_165 >u (real64) eax_28 * Mem0[0x080CB5C8:real64] != 0x00)
		{
			word32 esp_314;
			word32 ebp_315;
			byte SCZO_316;
			word32 eax_317;
			byte CZP_318;
			byte al_319;
			byte CZ_320;
			byte SZO_321;
			byte C_322;
			byte Z_323;
			byte S_324;
			word32 edx_325;
			word16 ax_326;
			byte SO_327;
			word32 ecx_328;
			byte ah_329;
			!floor();
			word16 wLoc7E_330 = __fstcw();
			__fldcw(DPB(ax_326, 0x0C, 8));
			__fldcw(wLoc7E_330);
			correct_table_matrix(dwArg04, dwLoc24_156, dwLoc28_157 - dwLoc24_156, ceil_at_intervals((int32) rArg0, eax_28), (word32) 1.0, 0x00);
			dwArg34 = dwArg34 + 0x01;
		}
		eax_102 = dwArg34;
	}
	return eax_102;
}

// 080832E2: Register word32 check_table_width(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, FpuStack real64 rArg0, FpuStack out ptr32 rArg0Out)
word32 check_table_width(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, real64 rArg0, ptr32 & rArg0Out)
{
	word32 eax_37 = Mem0[dwArg04 + 0x0C:word32];
	word32 eax_27 = Mem0[gs:0x14:word32];
	__shld(0x00, DPB(eax_37 + 0x01, SLICE(eax_37 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	__shld(0x00, DPB(eax_37 + 0x01, SLICE(eax_37 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	word32 eax_100 = Mem0[dwArg04 + 0x0C:word32];
	__shld(0x00, DPB(eax_100 + 0x01, SLICE(eax_100 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	__shld(0x00, DPB(eax_100 + 0x01, SLICE(eax_100 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	word32 esp_93 = fp - 0x017C - (((eax_37 + 0x01) * 0x02 + 0x1E >>u 0x04) << 0x04);
	word32 eax_167 = (int32) (word16) (word32) Mem0[dwArg04 + 0x01FC:word16];
	__shld(0x00, DPB(eax_167 + 0x01, SLICE(eax_167 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	__shld(0x00, DPB(eax_167 + 0x01, SLICE(eax_167 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	word32 esp_158 = esp_93 - (((eax_100 + 0x01) * 0x02 + 0x1E >>u 0x04) << 0x04);
	word32 eax_234 = (int32) (word16) (word32) Mem0[dwArg04 + 0x01FC:word16];
	__shld(0x00, DPB(eax_234 + 0x01, SLICE(eax_234 + 0x01, byte, 8) & ~0x00, 8), 0x06);
	__shld(0x00, DPB(eax_234 + 0x01, SLICE(eax_234 + 0x01, byte, 8) & ~0x00, 8), 0x06);
	word32 esp_225 = esp_158 - (((eax_167 + 0x01) * 0x02 + 0x1E >>u 0x04) << 0x04);
	word32 esp_292 = esp_225 - (((eax_234 + 0x01 << 0x03) + 0x1E >>u 0x04) << 0x04);
	word32 eax_96 = esp_93 + 0x43 >>u 0x04;
	word32 eax_161 = esp_158 + 0x43 >>u 0x04;
	word32 eax_228 = esp_225 + 0x43 >>u 0x04;
	word32 eax_295 = esp_292 + 0x43 >>u 0x04;
	real64 rLoc74_1353 = 0.0;
	real64 rLoc84_1366 = 0.0;
	word32 dwLoc24_1377 = 0x00;
	while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc24_1377)
	{
		rLoc74_1353 = dwArg08[dwLoc24_1377 * 0x08] + rLoc74_1353;
		rLoc84_1366 = Mem0[Mem0[dwArg0C + 0x00:word32] + (Mem0[dwArg0C + 0x04:word32] + 0x01 << 0x03) *s dwLoc24_1377:real64] + rLoc84_1366;
		word32 dwLoc30_1367 = 0x00;
		while (dwLoc30_1367 < dwLoc24_1377)
		{
			real64 rLoc1_1387 = Mem0[dwArg0C + 0x00:word32][(Mem0[dwArg0C + 0x04:word32] *s dwLoc24_1377 + dwLoc30_1367) * 0x08];
			rLoc84_1366 = rLoc1_1387 + rLoc1_1387 + rLoc84_1366;
			dwLoc30_1367 = dwLoc30_1367 + 0x01;
		}
		dwLoc24_1377 = dwLoc24_1377 + 0x01;
	}
	word16 ax_319 = (word16) (word32) Mem0[dwArg04 + 0x01FC:word16];
	word32 eax_322 = (int32) ax_319 + 0x01 << 0x03;
	Mem324[esp_292 + 0x00:word32] = eax_322;
	word32 ebp_326;
	word32 edi_327;
	word32 esi_328;
	word32 ebx_329;
	byte SCZO_330;
	word32 eax_331;
	byte SZO_333;
	byte C_334;
	word32 ecx_335;
	word32 edx_336;
	byte bh_337;
	word16 ax_338;
	byte SO_339;
	byte Z_340;
	word16 cx_341;
	byte S_342;
	byte ah_343;
	word16 dx_344;
	byte CZP_345;
	byte al_346;
	byte CZ_347;
	selector gs_1054;
	word32 esp_1047;
	!GC_malloc_atomic();
	word32 dwLoc2C_1267 = 0x28;
	while ((int32) (word16) (word32) Mem324[dwArg04 + 0x01FC:word16] >= dwLoc2C_1267)
	{
		word32 eax_1192 = (int32) (word16) (word32) (dwArg04 + 388)[(dwLoc2C_1267 + 0x00) * 0x02];
		word32 eax_1198 = (int32) (word16) (word32) (dwArg04 + 388)[eax_1192 * 0x02];
		word32 eax_1206 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_1192 + 0x10) * 0x02] + eax_1198;
		(eax_1192 * 0x08)[eax_295 * 0x10] = 0.0;
		word32 dwLoc24_1214 = eax_1198;
		while (dwLoc24_1214 < eax_1206)
		{
			(eax_1192 * 0x08)[eax_295 * 0x10] = (eax_1192 * 0x08)[eax_295 * 0x10] + dwArg08[dwLoc24_1214 * 0x08];
			dwLoc24_1214 = dwLoc24_1214 + 0x01;
		}
		(eax_1192 * 0x02)[eax_228 * 0x10] = (word16) ((word32) (dwArg04 + 0x018A)[(eax_1192 + 0x50) * 0x02] + Mem1212[dwArg04 + 0x28:word32] *s (0x01 - (int32) ((word16) ((word32) (dwArg04 + 0x018C)[(eax_1192 + 0x10) * 0x02]))));
		eax_331[eax_1192 * 0x08] = 0.0;
		word32 dwLoc24_1255 = eax_1198;
		while (dwLoc24_1255 < eax_1206)
		{
			eax_331[eax_1192 * 0x08] = eax_331[eax_1192 * 0x08] + Mem1253[Mem1253[dwArg0C + 0x00:word32] + (Mem1253[dwArg0C + 0x04:word32] + 0x01 << 0x03) *s dwLoc24_1255:real64];
			word32 dwLoc30_1289 = eax_1198;
			while (dwLoc30_1289 <= eax_1206)
			{
				if (dwLoc30_1289 < dwLoc24_1255)
				{
					real64 rLoc2_1329 = Mem1287[dwArg0C + 0x00:word32][(Mem1287[dwArg0C + 0x04:word32] *s dwLoc24_1255 + dwLoc30_1289) * 0x08];
					eax_331[eax_1192 * 0x08] = eax_331[eax_1192 * 0x08] + (rLoc2_1329 + rLoc2_1329);
				}
				dwLoc30_1289 = dwLoc30_1289 + 0x01;
			}
			dwLoc24_1255 = dwLoc24_1255 + 0x01;
		}
		dwLoc2C_1267 = dwLoc2C_1267 + 0x01;
	}
	word32 eax_1130;
	Mem376[esp_1047 + 0x30:word32] = 0x00;
	Mem378[esp_1047 + 0x28:real64] = rLoc84_1366;
	Mem379[esp_1047 + 0x24:word32] = ~0x00;
	Mem380[esp_1047 + 0x20:word32] = ~0x00;
	Mem382[esp_1047 + 0x1C:word32] = eax_331;
	Mem384[esp_1047 + 0x14:real64] = rLoc74_1353;
	Mem385[esp_1047 + 0x10:word32] = eax_228 << 0x04;
	Mem386[esp_1047 + 0x0C:word32] = eax_295 << 0x04;
	Mem388[esp_1047 + 0x08:word32] = dwArg08;
	Mem390[esp_1047 + 0x04:word32] = dwArg0C;
	Mem392[esp_1047 + 0x00:word32] = dwArg04;
	real64 rArg0_1119;
	word32 eax_405 = check_compressible_cell(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20, dwArg24, dwArg28, dwArg2C, dwArg30, rArg0, out rArg0_1119);
	word32 dwLoc3C_1007 = eax_405;
	if (dwArg10 <= 0x09 && eax_405 > 0x00)
		eax_1130 = eax_405;
	else
	{
		word32 dwLoc2C_1173 = (int32) (word16) (word32) Mem392[dwArg04 + 0x01FC:word16] + 0x28;
		while (dwLoc2C_1173 >= ~0x27)
		{
			word32 eax_1139 = (int32) (word16) (word32) (dwArg04 + 388)[(dwLoc2C_1173 + 0x00) * 0x02];
			real64 rLoc1_1145 = eax_331[eax_1139 * 0x08];
			Mem1149[esp_1047 + 0x30:word32] = dwLoc3C_1007;
			Mem1150[esp_1047 + 0x28:real64] = rLoc1_1145;
			Mem1152[esp_1047 + 0x24:word32] = eax_1139;
			Mem1153[esp_1047 + 0x20:word32] = ~0x00;
			Mem1155[esp_1047 + 0x1C:word32] = eax_331;
			Mem1157[esp_1047 + 0x14:real64] = rLoc74_1353;
			Mem1158[esp_1047 + 0x10:word32] = eax_228 << 0x04;
			Mem1159[esp_1047 + 0x0C:word32] = eax_295 << 0x04;
			Mem1161[esp_1047 + 0x08:word32] = dwArg08;
			Mem1163[esp_1047 + 0x04:word32] = dwArg0C;
			Mem1165[esp_1047 + 0x00:word32] = dwArg04;
			word32 eax_1167 = check_compressible_cell(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20, dwArg24, dwArg28, dwArg2C, dwArg30, rArg0_1119, out rArg0_1119);
			dwLoc3C_1007 = eax_1167;
			if (dwArg10 <= 0x09 && eax_1167 > 0x00)
			{
				eax_1130 = eax_1167;
				goto l08083EDA;
			}
			dwLoc2C_1173 = dwLoc2C_1173 - 0x01;
		}
		word32 dwLoc24_1126 = 0x00;
		while (Mem392[dwArg04 + 0x0C:word32] >= dwLoc24_1126)
		{
			real64 rLoc1_1098 = Mem392[Mem392[dwArg0C + 0x00:word32] + (Mem392[dwArg0C + 0x04:word32] + 0x01 << 0x03) *s dwLoc24_1126:real64];
			Mem1102[esp_1047 + 0x30:word32] = dwLoc3C_1007;
			Mem1103[esp_1047 + 0x28:real64] = rLoc1_1098;
			Mem1104[esp_1047 + 0x24:word32] = ~0x00;
			Mem1106[esp_1047 + 0x20:word32] = dwLoc24_1126;
			Mem1108[esp_1047 + 0x1C:word32] = eax_331;
			Mem1110[esp_1047 + 0x14:real64] = rLoc74_1353;
			Mem1111[esp_1047 + 0x10:word32] = eax_228 << 0x04;
			Mem1112[esp_1047 + 0x0C:word32] = eax_295 << 0x04;
			Mem1114[esp_1047 + 0x08:word32] = dwArg08;
			Mem1116[esp_1047 + 0x04:word32] = dwArg0C;
			Mem1118[esp_1047 + 0x00:word32] = dwArg04;
			word32 eax_1120 = check_compressible_cell(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20, dwArg24, dwArg28, dwArg2C, dwArg30, rArg0_1119, out rArg0_1119);
			dwLoc3C_1007 = eax_1120;
			if (dwArg10 <= 0x09 && eax_1120 > 0x00)
			{
				eax_1130 = eax_1120;
				goto l08083EDA;
			}
			dwLoc24_1126 = dwLoc24_1126 + 0x01;
		}
		word32 dwLoc24_1087 = 0x00;
		while (Mem392[dwArg04 + 0x0C:word32] >= dwLoc24_1087)
		{
			word32 eax_1041 = (dwLoc24_1087 << 0x03) + dwArg08;
			Mem1046[esp_1047 + 0x00:real64] = Mem392[eax_1041 + 0x00:real64] + Mem392[0x080CB5C8:real64];
			word32 ebp_1048;
			word32 edi_1049;
			word32 esi_1050;
			word32 ebx_1051;
			byte SCZO_1052;
			word32 eax_1053;
			byte SZO_1055;
			byte C_1056;
			word32 ecx_1057;
			word32 edx_1058;
			byte bh_1059;
			word16 ax_1060;
			byte SO_1061;
			byte Z_1062;
			word16 cx_1063;
			byte S_1064;
			byte ah_1065;
			word16 dx_1066;
			byte CZP_1067;
			byte al_1068;
			byte CZ_1069;
			!floor();
			word16 wLocBA_1070 = __fstcw();
			__fldcw(DPB(ax_1060, 0x0C, 8));
			__fldcw(wLocBA_1070);
			(ebx_1051 * 0x02)[eax_96 * 0x10] = (word16) (int32) rArg0_1119;
			(esi_1050 * 0x02)[eax_161 * 0x10] = (word16) (word32) (ebx_1051 * 0x02)[eax_96 * 0x10];
			dwLoc24_1087 = dwLoc24_1087 + 0x01;
		}
		Mem530[esp_1047 + 0x04:word32] = eax_161 << 0x04;
		Mem532[esp_1047 + 0x00:word32] = dwArg04;
		check_minimum_width(dwArg00, dwArg04);
		word32 dwLoc24_533 = 0x00;
		while (Mem532[dwArg04 + 0x0C:word32] >= dwLoc24_533)
		{
			word32 edx_868 = Mem532[dwArg0C + 0x00:word32];
			word32 eax_875 = edx_868 + (Mem532[dwArg0C + 0x04:word32] + 0x01 << 0x03) *s dwLoc24_533;
			Mem877[esp_1047 + 0x00:real64] = Mem532[eax_875 + 0x00:real64];
			word32 ebp_879;
			word32 edi_880;
			word32 esi_881;
			word32 ebx_882;
			byte SCZO_883;
			word32 eax_884;
			byte SZO_886;
			byte C_887;
			word32 ecx_888;
			word32 edx_889;
			byte bh_890;
			word16 ax_891;
			byte SO_892;
			byte Z_893;
			word16 cx_894;
			byte S_895;
			byte ah_896;
			word16 dx_897;
			byte CZP_898;
			byte al_899;
			byte CZ_900;
			!sqrt();
			if (Mem877[0x080CB620:real64] >u rArg0_1119 == 0x00 && ((word16) ((word32) (dwLoc24_533 * 0x02)[eax_96 * 0x10]) < (word16) ((word32) (dwArg04 + 0x0C)[(dwLoc24_533 + 88) * 0x02]) && (word16) ((word32) (dwLoc24_533 * 0x02)[eax_161 * 0x10]) == (word16) ((word32) (dwArg04 + 0x0C)[(dwLoc24_533 + 88) * 0x02])))
			{
				real64 rArg0_1033;
				if (rArg0_1119 >u Mem877[0x080CB5C8:real64] != 0x00)
					rArg0_1033 = Mem877[0x080CB5C8:real64];
				else
					rArg0_1033 = rArg0_1119 * Mem877[0x080CB5F0:real64];
				real64 rLoc7C_1012 = 0.0;
				word32 dwLoc30_1018 = 0x00;
				while (Mem877[dwArg04 + 0x0C:word32] >= dwLoc30_1018)
				{
					if (dwLoc30_1018 != dwLoc24_533)
						rLoc7C_1012 = Mem877[dwArg0C + 0x00:word32][(Mem877[dwArg0C + 0x04:word32] *s dwLoc24_533 + dwLoc30_1018) * 0x08] + rLoc7C_1012;
					dwLoc30_1018 = dwLoc30_1018 + 0x01;
				}
				rArg0_1119 = rLoc7C_1012;
				if (0.0 >=u rLoc7C_1012 != 0x00)
				{
					word32 eax_997 = (int32) (word16) (word32) (dwArg04 + 0x0C)[(dwLoc24_533 + 88) * 0x02];
					Mem999[esp_1047 + 0x10:real64] = rArg0_1033;
					Mem1000[esp_1047 + 0x0C:word32] = eax_997;
					Mem1001[esp_1047 + 0x08:word32] = 0x01;
					Mem1003[esp_1047 + 0x04:word32] = dwLoc24_533;
					Mem1005[esp_1047 + 0x00:word32] = dwArg04;
					correct_table_matrix(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
					rArg0_1119 = rArg0_1033;
					dwLoc3C_1007 = dwLoc3C_1007 + 0x01;
				}
			}
			dwLoc24_533 = dwLoc24_533 + 0x01;
		}
		word32 dwLoc2C_569 = 0x28;
		while ((int32) (word16) (word32) Mem532[dwArg04 + 0x01FC:word16] >= dwLoc2C_569)
		{
			word32 edx_626 = dwLoc2C_569 + 0x00;
			word16 ax_628 = (word16) (word32) (dwArg04 + 388)[edx_626 * 0x02];
			word32 eax_629 = (int32) ax_628;
			word32 eax_633 = (eax_629 << 0x03) + eax_331;
			Mem636[esp_1047 + 0x00:real64] = Mem532[eax_633 + 0x00:real64];
			word32 dwLoc48_623 = 0x00;
			word32 ebp_638;
			word32 edi_639;
			word32 esi_640;
			word32 ebx_641;
			byte SCZO_642;
			word32 eax_643;
			byte SZO_645;
			byte C_646;
			word32 ecx_647;
			word32 edx_648;
			byte bh_649;
			word16 ax_650;
			byte SO_651;
			byte Z_652;
			word16 cx_653;
			byte S_654;
			byte ah_655;
			word16 dx_656;
			byte CZP_657;
			byte al_658;
			byte CZ_659;
			!sqrt();
			if (Mem636[0x080CB620:real64] >u rArg0_1119 == 0x00)
			{
				word32 eax_699 = (int32) (word16) (word32) (dwArg04 + 388)[eax_629 * 0x02];
				word32 eax_707 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_629 + 0x10) * 0x02] + eax_699;
				word32 dwLoc24_711 = eax_699;
				while (dwLoc24_711 < eax_707)
				{
					dwLoc48_623 = dwLoc48_623 + (int32) ((word16) ((word32) (dwLoc24_711 * 0x02)[eax_161 * 0x10]));
					dwLoc24_711 = dwLoc24_711 + 0x01;
				}
				real64 rLoc1_741 = (eax_629 * 0x08)[eax_295 * 0x10];
				word32 eax_736 = (int32) (word16) (word32) (dwArg04 + 0x0192)[(eax_629 + 0x60) * 0x02] + Mem636[dwArg04 + 0x28:word32] *s (0x01 - (int32) ((word16) ((word32) (dwArg04 + 0x018C)[(eax_629 + 0x10) * 0x02])));
				rArg0_1119 = rLoc1_741;
				if ((real64) eax_736 >u rLoc1_741 != 0x00 && eax_736 == dwLoc48_623)
				{
					real64 rArg0_768;
					if (rArg0_1119 >u Mem636[0x080CB5C8:real64] != 0x00)
						rArg0_768 = Mem636[0x080CB5C8:real64];
					else
						rArg0_768 = rArg0_1119 * Mem636[0x080CB5F0:real64];
					real64 rLoc7C_771 = 0.0;
					word32 dwLoc24_773 = eax_699;
					while (dwLoc24_773 < eax_707)
					{
						word32 dwLoc30_811 = 0x00;
						while (Mem636[dwArg04 + 0x0C:word32] >= dwLoc30_811)
						{
							if (dwLoc30_811 < eax_699 || dwLoc30_811 >= eax_707)
								rLoc7C_771 = Mem636[dwArg0C + 0x00:word32][(Mem636[dwArg0C + 0x04:word32] *s dwLoc24_773 + dwLoc30_811) * 0x08] + rLoc7C_771;
							dwLoc30_811 = dwLoc30_811 + 0x01;
						}
						dwLoc24_773 = dwLoc24_773 + 0x01;
					}
					rArg0_1119 = rLoc7C_771;
					if (0.0 >=u rLoc7C_771 != 0x00)
					{
						word32 eax_798 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_629 + 0x10) * 0x02];
						Mem800[esp_1047 + 0x10:real64] = rArg0_768;
						Mem802[esp_1047 + 0x0C:word32] = eax_736;
						Mem803[esp_1047 + 0x08:word32] = eax_798;
						Mem805[esp_1047 + 0x04:word32] = eax_699;
						Mem807[esp_1047 + 0x00:word32] = dwArg04;
						correct_table_matrix(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
						rArg0_1119 = rArg0_768;
						dwLoc3C_1007 = dwLoc3C_1007 + 0x01;
					}
				}
			}
			dwLoc2C_569 = dwLoc2C_569 + 0x01;
		}
		if (dwArg10 > 0x09)
			eax_1130 = 0x00;
		else
			eax_1130 = dwLoc3C_1007;
	}
l08083EDA:
	if ((eax_27 ^ Mem392[gs_1054:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_1130;
}

// 08083EF8: void check_table_height(Stack word32 dwArg04)
void check_table_height(word32 dwArg04)
{
	word32 dwLoc2C_136 = 0x00;
	word16 wLoc46_153 = 0x00;
	word16 wLoc48_158 = ~0x00;
	word32 dwLoc24_184 = 0x00;
	while (Mem0[dwArg04 + 0x08:word32] >= dwLoc24_184)
	{
		if (Mem0[dwArg04 + 0x48:word32][dwLoc24_184 * 0x04] != 0x00)
		{
			word32 dwLoc20_186 = 0x00;
			while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc20_186)
			{
				if (((word32) (word16) (word32) Mem0[dwArg04 + 0x48:word32][dwLoc24_184 * 0x04][dwLoc20_186 * 0x02] & 0x03) == 0x00)
				{
					word32 dwLoc30_292;
					if (Mem0[dwArg04 + 0x44:word32][dwLoc24_184 * 0x04][dwLoc20_186 * 0x04] == 0x00)
						dwLoc30_292 = 0x00;
					else
						dwLoc30_292 = (int32) (word16) (word32) Mem0[Mem0[dwArg04 + 0x44:word32][dwLoc24_184 * 0x04][dwLoc20_186 * 0x04] + 0x08:word16];
					word32 eax_301 = table_rowspan(dwArg04, dwLoc24_184, dwLoc20_186);
					if (eax_301 > 0x01)
					{
						word32 eax_307 = (int32) (word16) (word32) wLoc48_158;
						word32 ecx_319 = (int32) (word16) dwLoc24_184;
						word32 dwLoc38_309 = eax_307 + 0x01;
						word32 eax_333 = bsearch_2short((int32) (word16) eax_301, dwLoc50, ecx_319, dwLoc54, Mem0[dwArg04 + 0x08:word32] + 0x01, dwLoc4C, eax_307 + 0x01);
						if ((int32) (word16) (word32) wLoc48_158 >= eax_333)
						{
							word32 eax_696 = (int32) (word16) (word32) dwLoc4C[eax_333 * 0x02];
							if ((int32) (word16) (word32) dwLoc54[eax_696 * 0x02] == dwLoc24_184 && (int32) ((word16) ((word32) dwLoc50[eax_696 * 0x02])) == eax_301)
								dwLoc38_309 = eax_696;
						}
						if (dwLoc38_309 <= 999)
						{
							if ((int32) (word16) (word32) wLoc46_153 <= dwLoc38_309)
							{
								if ((word16) (word32) wLoc46_153 == 0x00)
								{
									word32 eax_476 = dwLoc38_309 + 0x01;
									word16 ax_477 = (word16) eax_476;
									if (eax_476 < 0x14)
										ax_477 = 0x14;
									wLoc46_153 = ax_477;
									word32 esp_492;
									word32 ebp_493;
									word32 edi_494;
									word32 esi_495;
									word32 ebx_496;
									byte SCZO_497;
									word32 eax_498;
									byte SO_499;
									byte SZO_500;
									byte C_501;
									byte Z_502;
									byte S_503;
									word32 edx_504;
									word16 ax_505;
									word32 ecx_506;
									word16 dx_507;
									!GC_malloc_atomic();
									dwLoc54 = eax_498;
									word32 esp_515;
									word32 ebp_516;
									word32 edi_517;
									word32 esi_518;
									word32 ebx_519;
									byte SCZO_520;
									word32 eax_521;
									byte SO_522;
									byte SZO_523;
									byte C_524;
									byte Z_525;
									byte S_526;
									word32 edx_527;
									word16 ax_528;
									word32 ecx_529;
									word16 dx_530;
									!GC_malloc_atomic();
									dwLoc50 = eax_521;
									word32 esp_538;
									word32 ebp_539;
									word32 edi_540;
									word32 esi_541;
									word32 ebx_542;
									byte SCZO_543;
									word32 eax_544;
									byte SO_545;
									byte SZO_546;
									byte C_547;
									byte Z_548;
									byte S_549;
									word32 edx_550;
									word16 ax_551;
									word32 ecx_552;
									word16 dx_553;
									!GC_malloc_atomic();
									dwLoc4C = eax_544;
									word32 esp_561;
									word32 ebp_562;
									word32 edi_563;
									word32 esi_564;
									word32 ebx_565;
									byte SCZO_566;
									word32 eax_567;
									byte SO_568;
									byte SZO_569;
									byte C_570;
									byte Z_571;
									byte S_572;
									word32 edx_573;
									word16 ax_574;
									word32 ecx_575;
									word16 dx_576;
									!GC_malloc_atomic();
									dwLoc44 = eax_567;
								}
								else
								{
									word32 eax_585 = (int32) (word16) (word32) wLoc46_153;
									word32 edx_581 = dwLoc38_309 + 0x01;
									word16 ax_587 = (word16) (eax_585 + 0x14);
									if (edx_581 >= eax_585 + 0x14)
										ax_587 = (word16) edx_581;
									wLoc46_153 = ax_587;
									word32 esp_599;
									word32 ebp_600;
									word32 edi_601;
									word32 esi_602;
									word32 ebx_603;
									byte SCZO_604;
									word32 eax_605;
									byte SO_606;
									byte SZO_607;
									byte C_608;
									byte Z_609;
									byte S_610;
									word32 edx_611;
									word16 ax_612;
									word32 ecx_613;
									word16 dx_614;
									!GC_realloc();
									dwLoc54 = eax_605;
									word32 esp_623;
									word32 ebp_624;
									word32 edi_625;
									word32 esi_626;
									word32 ebx_627;
									byte SCZO_628;
									word32 eax_629;
									byte SO_630;
									byte SZO_631;
									byte C_632;
									byte Z_633;
									byte S_634;
									word32 edx_635;
									word16 ax_636;
									word32 ecx_637;
									word16 dx_638;
									!GC_realloc();
									dwLoc50 = eax_629;
									word32 esp_647;
									word32 ebp_648;
									word32 edi_649;
									word32 esi_650;
									word32 ebx_651;
									byte SCZO_652;
									word32 eax_653;
									byte SO_654;
									byte SZO_655;
									byte C_656;
									byte Z_657;
									byte S_658;
									word32 edx_659;
									word16 ax_660;
									word32 ecx_661;
									word16 dx_662;
									!GC_realloc();
									dwLoc4C = eax_653;
									word32 esp_671;
									word32 ebp_672;
									word32 edi_673;
									word32 esi_674;
									word32 ebx_675;
									byte SCZO_676;
									word32 eax_677;
									byte SO_678;
									byte SZO_679;
									byte C_680;
									byte Z_681;
									byte S_682;
									word32 edx_683;
									word16 ax_684;
									word32 ecx_685;
									word16 dx_686;
									!GC_realloc();
									dwLoc44 = eax_677;
								}
							}
							if ((int32) (word16) (word32) wLoc48_158 < dwLoc38_309)
							{
								word16 ax_401 = (word16) ((word32) wLoc48_158 + 0x01);
								dwLoc54[(int32) (word16) (word32) ax_401 * 0x02] = (word16) dwLoc24_184;
								dwLoc50[(int32) (word16) (word32) ax_401 * 0x02] = (word16) eax_301;
								dwLoc44[(int32) (word16) (word32) ax_401 * 0x02] = 0x00;
								wLoc48_158 = ax_401;
								if ((int32) (word16) (word32) ax_401 > eax_333)
								{
									word32 dwLoc40_447 = (int32) (word16) (word32) ax_401;
									while (dwLoc40_447 > eax_333)
									{
										dwLoc4C[dwLoc40_447 * 0x02] = (word16) (word32) dwLoc4C[(dwLoc40_447 - 0x01) * 0x02];
										dwLoc40_447 = dwLoc40_447 - 0x01;
									}
								}
								dwLoc4C[eax_333 * 0x02] = (word16) (word32) ax_401;
							}
							if ((int32) (word16) (word32) dwLoc44[dwLoc38_309 * 0x02] < dwLoc30_292)
								dwLoc44[dwLoc38_309 * 0x02] = (word16) dwLoc30_292;
						}
					}
					else if ((int32) (word16) (word32) Mem0[dwArg04 + 676:word32][dwLoc24_184 * 0x02] < dwLoc30_292)
						Mem0[dwArg04 + 676:word32][dwLoc24_184 * 0x02] = (word16) dwLoc30_292;
				}
				dwLoc20_186 = dwLoc20_186 + 0x01;
			}
		}
		dwLoc24_184 = dwLoc24_184 + 0x01;
	}
	word32 eax_90 = Mem0[dwArg04 + 0x14:word32];
	if (eax_90 != 0x00)
	{
		if (eax_90 >= 0x00 && eax_90 <= 0x03)
			dwLoc2C_136 = 0x01;
	}
	else
		dwLoc2C_136 = 0x00;
	check_cell_width(Mem0[dwArg04 + 676:word32], dwLoc44, dwLoc54, dwLoc50, (int32) (word16) (word32) wLoc48_158, dwLoc4C, dwLoc2C_136, 0x01);
}

// 08084329: Register word32 get_table_width(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 get_table_width(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_33 = Mem0[dwArg04 + 0x0C:word32];
	word32 eax_27 = Mem0[gs:0x14:word32];
	__shld(0x00, DPB(eax_33 + 0x01, SLICE(eax_33 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	__shld(0x00, DPB(eax_33 + 0x01, SLICE(eax_33 + 0x01, byte, 8) & ~0x00, 8), 0x04);
	word32 esp_89 = fp - 188 - (((eax_33 + 0x01) * 0x02 + 0x1E >>u 0x04) << 0x04);
	Mem100[esp_89 + 0x00:word32] = dwArg04;
	word32 eax_92 = esp_89 + 0x2F >>u 0x04;
	word32 eax_102 = table_rule_width(dwArg00);
	word32 dwLoc24_104 = 0x00;
	while (Mem100[dwArg04 + 0x0C:word32] >= dwLoc24_104)
	{
		word32 eax_441 = (word32) dwArg08[dwLoc24_104 * 0x02];
		word16 dx_445 = 0x00;
		if ((word16) eax_441 >= 0x00)
			dx_445 = (word16) eax_441;
		(dwLoc24_104 * 0x02)[eax_92 * 0x10] = dx_445;
		dwLoc24_104 = dwLoc24_104 + 0x01;
	}
	if ((dwArg10 & 0x02) != 0x00)
	{
		word32 eax_223 = (int32) (word16) (word32) Mem100[dwArg04 + 0x01FC:word16];
		__shld(0x00, DPB(eax_223 + 0x01, SLICE(eax_223 + 0x01, byte, 8) & ~0x00, 8), 0x04);
		__shld(0x00, DPB(eax_223 + 0x01, SLICE(eax_223 + 0x01, byte, 8) & ~0x00, 8), 0x04);
		word32 esp_281 = esp_89 - (((eax_223 + 0x01) * 0x02 + 0x1E >>u 0x04) << 0x04);
		word32 eax_284 = esp_281 + 0x2F >>u 0x04;
		word32 dwLoc24_288 = 0x00;
		while (Mem100[dwArg04 + 0x0C:word32] >= dwLoc24_288)
		{
			if ((word16) (word32) (dwLoc24_288 * 0x02)[eax_92 * 0x10] < (word16) ((word32) dwArg04[(dwLoc24_288 + 0x90) * 0x02]))
				(dwLoc24_288 * 0x02)[eax_92 * 0x10] = (word16) (word32) dwArg04[(dwLoc24_288 + 0x90) * 0x02];
			dwLoc24_288 = dwLoc24_288 + 0x01;
		}
		word32 dwLoc24_299 = 0x00;
		while ((int32) (word16) (word32) Mem100[dwArg04 + 0x01FC:word16] >= dwLoc24_299)
		{
			(dwLoc24_299 * 0x02)[eax_284 * 0x10] = (word16) (word32) dwArg0C[dwLoc24_299 * 0x02];
			if ((word16) (word32) (dwLoc24_299 * 0x02)[eax_284 * 0x10] < (word16) ((word32) (dwArg04 + 0x018A)[(dwLoc24_299 + 0x78) * 0x02]))
				(dwLoc24_299 * 0x02)[eax_284 * 0x10] = (word16) (word32) (dwArg04 + 0x018A)[(dwLoc24_299 + 0x78) * 0x02];
			dwLoc24_299 = dwLoc24_299 + 0x01;
		}
		word32 edx_312 = Mem100[dwArg04 + 0x28:word32];
		word32 edi_318 = (int32) (word16) (word32) Mem100[dwArg04 + 0x01FC:word16];
		Mem326[esp_281 + 0x1C:word32] = 0x00;
		Mem327[esp_281 + 0x18:word32] = edx_312;
		Mem328[esp_281 + 0x14:word32] = dwArg04 + 0x01D4;
		Mem329[esp_281 + 0x10:word32] = edi_318;
		Mem331[esp_281 + 0x0C:word32] = dwArg04 + 0x01AC;
		Mem332[esp_281 + 0x08:word32] = dwArg04 + 388;
		Mem333[esp_281 + 0x04:word32] = eax_284 << 0x04;
		Mem334[esp_281 + 0x00:word32] = eax_92 << 0x04;
		check_cell_width(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
	}
	else
	{
		word32 ebx_402 = Mem100[dwArg04 + 0x28:word32];
		word32 ecx_408 = (int32) (word16) (word32) Mem100[dwArg04 + 0x01FC:word16];
		Mem413[esp_89 + 0x1C:word32] = 0x00;
		Mem414[esp_89 + 0x18:word32] = ebx_402;
		Mem415[esp_89 + 0x14:word32] = dwArg04 + 0x01D4;
		Mem416[esp_89 + 0x10:word32] = ecx_408;
		Mem417[esp_89 + 0x0C:word32] = dwArg04 + 0x01AC;
		Mem418[esp_89 + 0x08:word32] = dwArg04 + 388;
		Mem420[esp_89 + 0x04:word32] = dwArg0C;
		Mem421[esp_89 + 0x00:word32] = eax_92 << 0x04;
		check_cell_width(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
	}
	if ((byte) (dwArg10 & 0x01) != 0x00)
	{
		Mem215[esp_89 + 0x04:word32] = eax_92 << 0x04;
		Mem217[esp_89 + 0x00:word32] = dwArg04;
		check_minimum_width(dwArg00, dwArg04);
	}
	word32 dwLoc28_165 = 0x00;
	word32 dwLoc24_166 = 0x00;
	while (Mem100[dwArg04 + 0x0C:word32] >= dwLoc24_166)
	{
		word32 eax_204 = (int32) (word16) (word32) (dwLoc24_166 * 0x02)[eax_92 * 0x10];
		Mem206[esp_89 + 0x04:word32] = eax_102;
		Mem207[esp_89 + 0x00:word32] = eax_204;
		dwLoc28_165 = dwLoc28_165 + ceil_at_intervals(dwArg00, dwArg04);
		dwLoc24_166 = dwLoc24_166 + 0x01;
	}
	Mem176[esp_89 + 0x00:word32] = dwArg04;
	word32 v24_178 = dwLoc28_165 + table_border_width(dwArg00);
	if ((eax_27 ^ Mem176[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return v24_178;
}

// 08084705: void renderCoTable(Register word32 ebp, Register selector gs)
void renderCoTable(word32 ebp, selector gs)
{
	while ((int32) (word16) (word32) Mem0[Mem0[fp + 0x04:word32] + 0x02AC:word16] > Mem0[(fp - 0x14) + 0x00:word32])
	{
		Mem35[fp - 0x10 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x02A8:word32][Mem0[fp - 0x14 + 0x00:word32] * 0x10];
		Mem44[fp - 0x18 + 0x00:word32] = (int32) (word16) (word32) Mem35[Mem35[Mem35[fp + 0x04:word32] + 0x02A8:word32] + (Mem35[(fp - 0x14) + 0x00:word32] << 0x04) + 0x04:word16];
		Mem53[fp - 0x1C + 0x00:word32] = (int32) (word16) (word32) Mem44[Mem44[Mem44[fp + 0x04:word32] + 0x02A8:word32] + (Mem44[(fp - 0x14) + 0x00:word32] << 0x04) + 0x06:word16];
		Mem63[fp - 0x20 + 0x00:word32] = (int32) (word16) (word32) Mem53[Mem53[Mem53[fp + 0x04:word32] + 0x02A8:word32] + (Mem53[(fp - 0x14) + 0x00:word32] << 0x04) + 0x0A:word16];
		Mem65[fp - 772 + 0x00:word32] = Mem63[fp - 0x18 + 0x00:word32];
		Mem67[fp - 776 + 0x00:word32] = Mem65[fp - 0x1C + 0x00:word32];
		Mem69[fp - 0x030C + 0x00:word32] = Mem67[fp + 0x04:word32];
		word32 eax_73 = get_spec_cell_width(dwArg00, dwArg04, dwArg08);
		word32 edx_80 = Mem69[Mem69[Mem69[fp + 0x04:word32] + 0x02A8:word32] + (Mem69[(fp - 0x14) + 0x00:word32] << 0x04) + 0x0C:word32];
		Mem82[fp - 0x02F4 + 0x00:word32] = Mem69[fp - 0x20 + 0x00:word32];
		Mem83[fp - 0x02F8 + 0x00:word32] = eax_73;
		Mem84[fp - 0x02FC + 0x00:word32] = edx_80;
		Mem85[fp - 0x0300 + 0x00:word32] = 0x14;
		Mem87[fp - 772 + 0x00:word32] = fp - 404;
		Mem89[fp - 776 + 0x00:word32] = fp - 0x02E4;
		Mem91[fp - 0x030C + 0x00:word32] = fp - 0x54;
		init_henv(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
		Mem97[fp - 776 + 0x00:word32] = Mem91[fp - 0x1C + 0x00:word32];
		Mem99[fp - 0x030C + 0x00:word32] = Mem97[fp + 0x04:word32];
		check_row(dwArg00, dwArg04);
		if (Mem99[fp - 0x44 + 0x00:word32] > Mem99[fp + 0x08:word32])
			Mem155[fp - 0x44 + 0x00:word32] = Mem99[fp + 0x08:word32];
		if (Mem99[Mem99[fp - 0x10 + 0x00:word32] + 0x18:word32] == 0x00)
			Mem126[fp - 0x24 + 0x00:word32] = Mem99[fp - 0x44 + 0x00:word32] - Mem99[(fp - 0x20) + 0x00:word32];
		else if (Mem99[Mem99[fp - 0x10 + 0x00:word32] + 0x18:word32] > 0x00)
			Mem133[fp - 0x24 + 0x00:word32] = Mem99[Mem99[fp - 0x10 + 0x00:word32] + 0x18:word32];
		else
		{
			Mem150[Mem99[fp - 0x10 + 0x00:word32] + 0x18:word32] = 42949672 - (-Mem99[Mem99[(fp - 0x10) + 0x00:word32] + 0x18:word32] *s Mem99[(fp - 0x44) + 0x00:word32] >> 0x1F);
			Mem153[fp - 0x24 + 0x00:word32] = Mem150[Mem150[fp - 0x10 + 0x00:word32] + 0x18:word32];
		}
		Mem114[fp - 772 + 0x00:word32] = fp - 0x54;
		Mem116[fp - 776 + 0x00:word32] = Mem114[fp - 0x24 + 0x00:word32];
		Mem118[fp - 0x030C + 0x00:word32] = Mem116[fp - 0x10 + 0x00:word32];
		renderTable(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
		Mem121[fp - 0x14 + 0x00:word32] = Mem118[fp - 0x14 + 0x00:word32] + 0x01;
	}
}

// 0808488F: void make_caption(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void make_caption(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (Mem0[Mem0[dwArg04 + 0x3C:word32] + 0x04:word32] > 0x00)
	{
		word32 dwLoc10_115;
		if (Mem0[dwArg04 + 0x18:word32] > 0x00)
			dwLoc10_115 = Mem0[dwArg04 + 0x18:word32];
		else
			dwLoc10_115 = Mem0[dwArg08 + 0x10:word32];
		word32 eax_50 = (word32) Mem0[Mem0[dwArg08 + 0x18:word32] + (Mem0[dwArg08 + 0x20:word32] << 0x04) + 0x0C:byte];
		newGeneralList(eax_50);
		init_henv(fp - 0x40, fp - 0x02D0, fp - 0x0180, 0x14, eax_50, dwLoc10_115, (int32) (byte) eax_50);
		HTMLlineproc0(fp - 0x04, gs, fp - 0x40);
		word32 eax_71 = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x3C:word32] + 0x00:word32];
		Mem72[fp - 0x02F4 + 0x00:word32] = 0x00;
		Mem74[fp - 0x02F8 + 0x00:word32] = fp - 0x40;
		Mem75[fp - 0x02FC + 0x00:word32] = eax_71;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
		Mem76[fp - 0x02F4 + 0x00:word32] = 0x01;
		Mem78[fp - 0x02F8 + 0x00:word32] = fp - 0x40;
		Mem79[fp - 0x02FC + 0x00:word32] = 0x080CB077;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
		if (Mem79[Mem79[fp + 0x04:word32] + 0x18:word32] < Mem79[(fp - 44) + 0x00:word32])
			Mem112[Mem79[fp + 0x04:word32] + 0x18:word32] = Mem79[fp - 44 + 0x00:word32];
		Mem87[fp - 0x10 + 0x00:word32] = Mem79[Mem79[fp + 0x08:word32] + 0x10:word32];
		Mem91[Mem87[fp + 0x08:word32] + 0x10:word32] = Mem87[Mem87[fp + 0x04:word32] + 0x18:word32];
		Mem92[fp - 0x02F4 + 0x00:word32] = 0x01;
		Mem94[fp - 0x02F8 + 0x00:word32] = Mem92[fp + 0x08:word32];
		Mem95[fp - 0x02FC + 0x00:word32] = 0x080CB06E;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
		word32 eax_98 = Mem95[Mem95[Mem95[fp + 0x04:word32] + 0x3C:word32] + 0x00:word32];
		Mem99[fp - 0x02F4 + 0x00:word32] = 0x00;
		Mem101[fp - 0x02F8 + 0x00:word32] = Mem99[fp + 0x08:word32];
		Mem102[fp - 0x02FC + 0x00:word32] = eax_98;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
		Mem103[fp - 0x02F4 + 0x00:word32] = 0x01;
		Mem105[fp - 0x02F8 + 0x00:word32] = Mem103[fp + 0x08:word32];
		Mem106[fp - 0x02FC + 0x00:word32] = 0x080CB077;
		HTMLlineproc0(fp - 0x04, gs, dwArg04);
		Mem109[Mem106[fp + 0x08:word32] + 0x10:word32] = Mem106[fp - 0x10 + 0x00:word32];
	}
}

// 08084A06: void renderTable(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void renderTable(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem16[dwArg04 + 0x1C:word32] = 0x00;
	word32 ebp_134 = fp - 0x04;
	word32 esp_10 = fp - 220;
	if (Mem16[dwArg04 + 0x0C:word32] < 0x00)
	{
		make_caption(fp - 0x04, gs, dwArg04, dwArg0C);
		return;
	}
	if (Mem16[dwArg04 + 0x02C8:word32] > dwArg08)
		dwArg08 = Mem16[dwArg04 + 0x02C8:word32];
	word32 eax_88 = table_rule_width(dwArg04);
	word32 v10_93 = dwArg08 - table_border_width(dwArg04);
	word32 dwArg08_104 = v10_93;
	if (eax_88 > 0x01)
		dwArg08_104 = floor_at_intervals(v10_93, eax_88);
	if (dwArg08_104 < eax_88)
		dwArg08_104 = eax_88;
	check_maximum_width(dwArg04);
	if (Mem16[dwArg04 + 0x0C:word32] == 0x00)
	{
		if ((int32) (word16) (word32) Mem16[dwArg04 + 88:word16] > dwArg08_104)
			Mem1363[dwArg04 + 88:word16] = (word16) dwArg08_104;
		if (Mem16[dwArg04 + 0x18:word32] > 0x00)
			Mem1348[dwArg04 + 88:word16] = (word16) dwArg08_104;
		else if ((word16) (word32) Mem16[dwArg04 + 288:word16] > 0x00)
			Mem1358[dwArg04 + 88:word16] = (word16) (word32) Mem16[dwArg04 + 288:word16];
		if ((word16) (word32) Mem16[dwArg04 + 88:word16] < (word16) ((word32) Mem16[dwArg04 + 188:word16]))
			Mem1343[dwArg04 + 88:word16] = (word16) (word32) Mem16[dwArg04 + 188:word16];
	}
	else
	{
		set_table_matrix(gs, dwArg04, dwArg08_104);
		word32 eax_1370 = Mem16[dwArg04 + 0x0C:word32];
		new_matrix(eax_1370 + 0x01, eax_1370 + 0x01);
		word32 dwLoc28_1368 = 0x00;
		word32 esp_1381;
		word32 ebp_1382;
		word32 ebx_1383;
		byte SCZO_1384;
		word32 eax_1385;
		byte SZO_1386;
		byte C_1387;
		byte S_1388;
		byte SO_1389;
		byte Z_1390;
		word16 ax_1391;
		word32 edx_1392;
		word16 dx_1393;
		word32 ecx_1394;
		byte CZ_1395;
		byte al_1396;
		selector gs_1397;
		byte bpl_1398;
		!GC_malloc();
		word32 eax_1401 = Mem16[dwArg04 + 0x0C:word32];
		new_vector(eax_1401 + 0x01, eax_1401 + 0x01);
		word32 eax_1407 = Mem16[dwArg04 + 0x0C:word32];
		new_matrix(eax_1407 + 0x01, eax_1407 + 0x01);
		do
		{
			word32 ebx_1433;
			byte SCZO_1434;
			word32 eax_1435;
			byte SZO_1436;
			byte C_1437;
			byte S_1438;
			byte SO_1439;
			byte Z_1440;
			word16 ax_1441;
			word32 edx_1442;
			word16 dx_1443;
			word32 ecx_1444;
			byte CZ_1445;
			byte al_1446;
			byte bpl_1448;
			!bcopy();
			LUfactor(eax_1370 + 0x01, eax_1385);
			LUsolve(eax_1370 + 0x01, eax_1385, Mem16[dwArg04 + 0x02C4:word32], eax_1401 + 0x01);
			LUinverse(eax_1370 + 0x01, eax_1385, eax_1407 + 0x01);
			word32 v17_1469 = dwLoc28_1368 + 0x01;
			dwLoc28_1368 = v17_1469;
			real64 rArg0_1536 = rArg0;
		} while (check_table_width(ebp_134, gs, dwArg04, Mem16[eax_1401 + 0x01:word32], eax_1407 + 0x01, v17_1469, rArg0_1536, out rArg0) != 0x00);
		set_integered_width(dwArg04, Mem16[eax_1401 + 0x01:word32], fp - 188, rArg0);
		check_minimum_width(dwArg04, fp - 188);
		Mem1503[dwArg04 + 0x02C0:word32] = 0x00;
		Mem1505[dwArg04 + 0x02C4:word32] = 0x00;
		word32 dwLoc10_1506 = 0x00;
		while (Mem1505[dwArg04 + 0x0C:word32] >= dwLoc10_1506)
		{
			(dwArg04 + 0x08)[(dwLoc10_1506 + 0x28) * 0x02] = (word16) (word32) (fp - 188)[dwLoc10_1506 * 0x02];
			dwLoc10_1506 = dwLoc10_1506 + 0x01;
		}
	}
	check_minimum_width(dwArg04, dwArg04 + 88);
	word32 dwLoc10_1315 = 0x00;
	while (Mem16[dwArg04 + 0x0C:word32] >= dwLoc10_1315)
	{
		(dwArg04 + 0x08)[(dwLoc10_1315 + 0x28) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) (dwArg04 + 0x08)[(dwLoc10_1315 + 0x28) * 0x02], eax_88);
		dwLoc10_1315 = dwLoc10_1315 + 0x01;
	}
	renderCoTable(ebp_134, gs);
	Mem160[ebp_134 - 0x0C + 0x00:word32] = 0x00;
	while (Mem160[Mem160[ebp_134 + 0x08:word32] + 0x0C:word32] >= Mem160[(ebp_134 - 0x0C) + 0x00:word32])
	{
		Mem1251[ebp_134 - 0x10 + 0x00:word32] = 0x00;
		while (Mem1251[Mem1251[ebp_134 + 0x08:word32] + 0x08:word32] >= Mem1251[(ebp_134 - 0x10) + 0x00:word32])
		{
			Mem1265[esp_10 + 0x04:word32] = Mem1251[ebp_134 - 0x10 + 0x00:word32];
			Mem1267[esp_10 + 0x00:word32] = Mem1265[ebp_134 + 0x08:word32];
			check_row(dwArg00, dwArg04);
			if (((word32) (word16) (word32) Mem1267[Mem1267[ebp_134 + 0x08:word32] + 0x48:word32][Mem1267[ebp_134 - 0x10 + 0x00:word32] * 0x04][Mem1267[ebp_134 - 0x0C + 0x00:word32] * 0x02] & 0x02) == 0x00)
			{
				Mem1290[esp_10 + 0x0C:word32] = Mem1267[Mem1267[ebp_134 + 0x10:word32] + 0x10:word32];
				Mem1292[esp_10 + 0x08:word32] = Mem1290[ebp_134 - 0x0C + 0x00:word32];
				Mem1294[esp_10 + 0x04:word32] = Mem1292[ebp_134 - 0x10 + 0x00:word32];
				Mem1296[esp_10 + 0x00:word32] = Mem1294[ebp_134 + 0x08:word32];
				do_refill(ebp_134, gs, dwArg00, dwArg04, dwArg08_104, dwArg0C);
			}
			Mem1286[ebp_134 - 0x10 + 0x00:word32] = Mem1267[ebp_134 - 0x10 + 0x00:word32] + 0x01;
		}
		Mem1262[ebp_134 - 0x0C + 0x00:word32] = Mem1251[ebp_134 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem173[esp_10 + 0x04:word32] = Mem160[ebp_134 + 0x08:word32] + 88;
	Mem175[esp_10 + 0x00:word32] = Mem173[ebp_134 + 0x08:word32];
	check_minimum_width(dwArg00, dwArg04);
	Mem178[Mem175[ebp_134 + 0x08:word32] + 0x18:word32] = 0x00;
	Mem179[ebp_134 - 0x0C + 0x00:word32] = 0x00;
	while (Mem179[Mem179[ebp_134 + 0x08:word32] + 0x0C:word32] >= Mem179[(ebp_134 - 0x0C) + 0x00:word32])
	{
		word32 ebx_1220 = Mem179[ebp_134 - 0x0C + 0x00:word32];
		word32 eax_1227 = (int32) (word16) (word32) (Mem179[ebp_134 + 0x08:word32] + 0x08)[(Mem179[ebp_134 - 0x0C + 0x00:word32] + 0x28) * 0x02];
		Mem1229[esp_10 + 0x04:word32] = Mem179[ebp_134 - 0x3C + 0x00:word32];
		Mem1230[esp_10 + 0x00:word32] = eax_1227;
		(Mem1230[ebp_134 + 0x08:word32] + 0x08)[(ebx_1220 + 0x28) * 0x02] = (word16) ceil_at_intervals(dwArg00, dwArg04);
		Mem1247[Mem1236[ebp_134 + 0x08:word32] + 0x18:word32] = Mem1236[Mem1236[ebp_134 + 0x08:word32] + 0x18:word32] + (int32) ((word16) ((word32) (Mem1236[ebp_134 + 0x08:word32] + 0x08)[(Mem1236[(ebp_134 - 0x0C) + 0x00:word32] + 0x28) * 0x02]));
		Mem1249[ebp_134 - 0x0C + 0x00:word32] = Mem1247[ebp_134 - 0x0C + 0x00:word32] + 0x01;
	}
	word32 ebx_190 = Mem179[Mem179[ebp_134 + 0x08:word32] + 0x18:word32];
	Mem192[esp_10 + 0x00:word32] = Mem179[ebp_134 + 0x08:word32];
	Mem196[Mem192[ebp_134 + 0x08:word32] + 0x18:word32] = ebx_190 + table_border_width(dwArg00);
	Mem198[esp_10 + 0x00:word32] = Mem196[ebp_134 + 0x08:word32];
	check_table_height(dwArg00);
	Mem199[ebp_134 - 0x0C + 0x00:word32] = 0x00;
	while (Mem199[Mem199[ebp_134 + 0x08:word32] + 0x0C:word32] >= Mem199[(ebp_134 - 0x0C) + 0x00:word32])
	{
		Mem996[ebp_134 - 0x10 + 0x00:word32] = 0x00;
		while (Mem996[Mem996[ebp_134 + 0x08:word32] + 0x08:word32] >= Mem996[(ebp_134 - 0x10) + 0x00:word32])
		{
			if (((word32) (word16) (word32) Mem996[Mem996[ebp_134 + 0x08:word32] + 0x48:word32][Mem996[ebp_134 - 0x10 + 0x00:word32] * 0x04][Mem996[ebp_134 - 0x0C + 0x00:word32] * 0x02] & 0x02) == 0x00 && (((word32) ((word16) ((word32) (Mem996[Mem996[ebp_134 + 0x08:word32] + 0x48:word32])[Mem996[(ebp_134 - 0x10) + 0x00:word32] * 0x04][Mem996[(ebp_134 - 0x0C) + 0x00:word32] * 0x02])) & 0x0100) == 0x00 && (Mem996[Mem996[ebp_134 + 0x08:word32] + 0x44:word32])[Mem996[(ebp_134 - 0x10) + 0x00:word32] * 0x04][Mem996[(ebp_134 - 0x0C) + 0x00:word32] * 0x04] != 0x00))
			{
				Mem1078[ebp_134 - 0x1C + 0x00:word32] = (int32) (word16) (word32) Mem996[Mem996[ebp_134 + 0x08:word32] + 676:word32][Mem996[ebp_134 - 0x10 + 0x00:word32] * 0x02];
				Mem1082[ebp_134 - 0x54 + 0x00:word32] = Mem1078[ebp_134 - 0x10 + 0x00:word32] + 0x01;
				while (Mem1082[Mem1082[ebp_134 + 0x08:word32] + 0x08:word32] >= Mem1082[(ebp_134 - 0x54) + 0x00:word32] && ((word32) ((word16) ((word32) (Mem1082[Mem1082[ebp_134 + 0x08:word32] + 0x48:word32])[Mem1082[(ebp_134 - 0x54) + 0x00:word32] * 0x04][Mem1082[(ebp_134 - 0x0C) + 0x00:word32] * 0x02])) & 0x02) != 0x00)
				{
					Mem1208[ebp_134 - 0x1C + 0x00:word32] = Mem1082[ebp_134 - 0x1C + 0x00:word32] + (int32) ((word16) ((word32) Mem1082[Mem1082[ebp_134 + 0x08:word32] + 676:word32][Mem1082[(ebp_134 - 0x54) + 0x00:word32] * 0x02]));
					if (Mem1208[Mem1208[ebp_134 + 0x08:word32] + 0x14:word32] <=u 0x03)
						Mem1218[ebp_134 - 0x1C + 0x00:word32] = Mem1208[ebp_134 - 0x1C + 0x00:word32] + 0x01;
					Mem1215[ebp_134 - 0x54 + 0x00:word32] = Mem1208[ebp_134 - 0x54 + 0x00:word32] + 0x01;
				}
				Mem1107[ebp_134 - 0x1C + 0x00:word32] = Mem1082[ebp_134 - 0x1C + 0x00:word32] - (int32) ((word16) ((word32) Mem1082[(Mem1082[Mem1082[ebp_134 + 0x08:word32] + 0x44:word32])[Mem1082[(ebp_134 - 0x10) + 0x00:word32] * 0x04][Mem1082[(ebp_134 - 0x0C) + 0x00:word32] * 0x04] + 0x08:word16]));
				word32 eax_1119 = (word32) (word16) (word32) Mem1107[Mem1107[ebp_134 + 0x08:word32] + 0x48:word32][Mem1107[ebp_134 - 0x10 + 0x00:word32] * 0x04][Mem1107[ebp_134 - 0x0C + 0x00:word32] * 0x02];
				word32 eax_1120 = eax_1119 & 0x0200;
				if ((eax_1119 & 0x0200) != 0x00)
				{
					word32 eax_1174 = Mem1107[ebp_134 - 0x1C + 0x00:word32];
					word32 eax_1177 = (eax_1174 >>u 0x1F) + eax_1174;
					Mem1182[ebp_134 - 0x1C + 0x00:word32] = eax_1177 >> 0x01;
					eax_1120 = eax_1177 >> 0x01;
				}
				if (Mem1107[ebp_134 - 0x1C + 0x00:word32] > 0x00)
				{
					newGeneralList(eax_1120);
					Mem1132[ebp_134 - 0x50 + 0x00:word32] = eax_1120;
					Mem1133[ebp_134 - 0x54 + 0x00:word32] = 0x00;
					while (true)
					{
						word32 eax_1135 = Mem1133[ebp_134 - 0x54 + 0x00:word32];
						if (eax_1135 >= Mem1133[(ebp_134 - 0x1C) + 0x00:word32])
							break;
						Mem1165[esp_10 + 0x04:word32] = 0x00;
						Mem1166[esp_10 + 0x00:word32] = 0x00;
						newTextLine(eax_1135, dwArg00, dwArg04);
						word32 edx_1167 = Mem1166[ebp_134 - 0x50 + 0x00:word32];
						Mem1168[esp_10 + 0x04:word32] = eax_1135;
						Mem1169[esp_10 + 0x00:word32] = edx_1167;
						pushValue(dwArg00, dwArg04);
						Mem1172[ebp_134 - 0x54 + 0x00:word32] = Mem1169[ebp_134 - 0x54 + 0x00:word32] + 0x01;
					}
					word32 ebx_1148 = Mem1133[Mem1133[ebp_134 + 0x08:word32] + 0x44:word32][Mem1133[ebp_134 - 0x10 + 0x00:word32] * 0x04] + (Mem1133[(ebp_134 - 0x0C) + 0x00:word32] << 0x02);
					word32 eax_1160 = Mem1133[ebp_134 - 0x50 + 0x00:word32];
					Mem1161[esp_10 + 0x04:word32] = Mem1133[Mem1133[ebp_134 + 0x08:word32] + 0x44:word32][Mem1133[ebp_134 - 0x10 + 0x00:word32] * 0x04][Mem1133[ebp_134 - 0x0C + 0x00:word32] * 0x04];
					Mem1162[esp_10 + 0x00:word32] = eax_1160;
					Mem1164[ebx_1148 + 0x00:word32] = appendGeneralList(dwArg00, dwArg04);
				}
			}
			Mem1039[ebp_134 - 0x10 + 0x00:word32] = Mem996[ebp_134 - 0x10 + 0x00:word32] + 0x01;
		}
		Mem1010[ebp_134 - 0x0C + 0x00:word32] = Mem996[ebp_134 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem214[ebp_134 - 0x38 + 0x00:word32] = Mem199[Mem199[ebp_134 + 0x08:word32] + 0x18:word32];
	Mem216[esp_10 + 0x04:word32] = Mem214[ebp_134 + 0x10:word32];
	Mem218[esp_10 + 0x00:word32] = Mem216[ebp_134 + 0x08:word32];
	make_caption(ebp_134, gs, dwArg00, dwArg04);
	Mem219[esp_10 + 0x08:word32] = 0x01;
	Mem221[esp_10 + 0x04:word32] = Mem219[ebp_134 + 0x10:word32];
	Mem222[esp_10 + 0x00:word32] = 0x080CB081;
	HTMLlineproc0(ebp_134, gs, dwArg04);
	if (Mem222[Mem222[ebp_134 + 0x08:word32] + 0x40:word32] != 0x00)
	{
		Mem983[esp_10 + 0x00:word32] = Mem222[Mem222[Mem222[ebp_134 + 0x08:word32] + 0x40:word32] + 0x00:word32];
		Mem985[esp_10 + 0x04:word32] = html_quote(dwArg00);
		Mem986[esp_10 + 0x00:word32] = 0x080CB091;
		byte bpl_987;
		Mem989[ebp_134 - 0x4C + 0x00:word32] = Sprintf(dwArg00, out bpl_987);
		word32 eax_991 = Mem989[Mem989[ebp_134 - 0x4C + 0x00:word32] + 0x00:word32];
		Mem992[esp_10 + 0x08:word32] = 0x01;
		Mem994[esp_10 + 0x04:word32] = Mem992[ebp_134 + 0x10:word32];
		Mem995[esp_10 + 0x00:word32] = eax_991;
		HTMLlineproc0(ebp_134, gs, dwArg04);
	}
	word32 eax_231 = Mem222[Mem222[ebp_134 + 0x08:word32] + 0x14:word32];
	word32 eax_232 = eax_231 - 0x01;
	if (eax_231 <=u 0x02)
	{
		Strnew(eax_231 - 0x01);
		Mem954[ebp_134 - 0x20 + 0x00:word32] = eax_231 - 0x01;
		word32 eax_956 = Mem954[Mem954[ebp_134 + 0x08:word32] + 0x0C:word32];
		Mem958[esp_10 + 0x10:word32] = Mem954[ebp_134 - 0x20 + 0x00:word32];
		Mem959[esp_10 + 0x0C:word32] = eax_956;
		Mem960[esp_10 + 0x08:word32] = 0x00;
		Mem961[esp_10 + 0x04:word32] = ~0x00;
		Mem963[esp_10 + 0x00:word32] = Mem961[ebp_134 + 0x08:word32];
		print_sep(ebp_134, dwArg00, dwArg04, dwArg08_104, dwArg10);
		word32 eax_965 = Mem963[Mem963[ebp_134 + 0x08:word32] + 0x18:word32];
		Mem967[esp_10 + 0x0C:word32] = Mem963[ebp_134 + 0x10:word32];
		Mem968[esp_10 + 0x08:word32] = eax_965;
		Mem970[esp_10 + 0x04:word32] = Mem968[ebp_134 - 0x38 + 0x00:word32];
		Mem972[esp_10 + 0x00:word32] = Mem970[ebp_134 - 0x20 + 0x00:word32];
		push_render_image(ebp_134, gs, dwArg04, dwArg08_104, dwArg0C);
		eax_232 = Mem972[ebp_134 + 0x08:word32];
		Mem979[eax_232 + 0x1C:word32] = Mem972[Mem972[ebp_134 + 0x08:word32] + 0x1C:word32] + 0x01;
	}
	Strnew(eax_232);
	Mem239[ebp_134 - 0x44 + 0x00:word32] = eax_232;
	word32 eax_241 = Mem239[Mem239[ebp_134 + 0x08:word32] + 0x14:word32];
	if (eax_241 <= 0x02)
	{
		if (eax_241 < 0x01)
		{
			if (eax_241 == 0x00)
			{
				Mem788[ebp_134 - 0x0C + 0x00:word32] = 0x00;
				while (Mem788[Mem788[ebp_134 + 0x08:word32] + 0x28:word32] > Mem788[(ebp_134 - 0x0C) + 0x00:word32])
				{
					if (Mem788[Mem788[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem788[Mem788[(ebp_134 - 0x44) + 0x00:word32] + 0x08:word32])
					{
						Mem823[esp_10 + 0x00:word32] = Mem788[ebp_134 - 0x44 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_806 = Mem788[Mem788[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32];
					Mem809[Mem788[Mem788[ebp_134 - 0x44 + 0x00:word32] + 0x00:word32] + eax_806:byte] = 0x20;
					Mem812[Mem809[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32] = eax_806 + 0x01;
					Mem818[Mem812[Mem812[ebp_134 - 0x44 + 0x00:word32] + 0x00:word32] + Mem812[Mem812[(ebp_134 - 0x44) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					Mem820[ebp_134 - 0x0C + 0x00:word32] = Mem818[ebp_134 - 0x0C + 0x00:word32] + 0x01;
				}
			}
			goto l0808546E;
		}
		word32 eax_834;
		Strnew(eax_241);
		Mem824[ebp_134 - 0x40 + 0x00:word32] = eax_241;
		Strnew(eax_241);
		Mem825[ebp_134 - 0x48 + 0x00:word32] = eax_241;
		word32 edx_826 = Mem825[0x0817D2D4:word32];
		if (Mem825[Mem825[ebp_134 + 0x08:word32] + 0x14:word32] == 0x02)
			eax_834 = 0x15;
		else
			eax_834 = 0x05;
		Mem835[esp_10 + 0x0C:word32] = 0x01;
		Mem836[esp_10 + 0x08:word32] = edx_826;
		Mem837[esp_10 + 0x04:word32] = eax_834;
		Mem839[esp_10 + 0x00:word32] = Mem837[ebp_134 - 0x40 + 0x00:word32];
		push_symbol(ebp_134, dwArg04, dwArg08_104);
		Mem840[ebp_134 - 0x0C + 0x00:word32] = 0x00;
		while (Mem840[Mem840[ebp_134 + 0x08:word32] + 44:word32] > Mem840[(ebp_134 - 0x0C) + 0x00:word32])
		{
			if (Mem840[Mem840[ebp_134 - 0x40 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem840[Mem840[(ebp_134 - 0x40) + 0x00:word32] + 0x08:word32])
			{
				Mem945[esp_10 + 0x00:word32] = Mem840[ebp_134 - 0x40 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_878 = Mem840[Mem840[ebp_134 - 0x40 + 0x00:word32] + 0x04:word32];
			Mem881[Mem840[Mem840[ebp_134 - 0x40 + 0x00:word32] + 0x00:word32] + eax_878:byte] = 0x20;
			Mem884[Mem881[ebp_134 - 0x40 + 0x00:word32] + 0x04:word32] = eax_878 + 0x01;
			Mem890[Mem884[Mem884[ebp_134 - 0x40 + 0x00:word32] + 0x00:word32] + Mem884[Mem884[(ebp_134 - 0x40) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem890[Mem890[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem890[Mem890[(ebp_134 - 0x44) + 0x00:word32] + 0x08:word32])
			{
				Mem943[esp_10 + 0x00:word32] = Mem890[ebp_134 - 0x44 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_901 = Mem890[Mem890[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32];
			Mem904[Mem890[Mem890[ebp_134 - 0x44 + 0x00:word32] + 0x00:word32] + eax_901:byte] = 0x20;
			Mem907[Mem904[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32] = eax_901 + 0x01;
			Mem913[Mem907[Mem907[ebp_134 - 0x44 + 0x00:word32] + 0x00:word32] + Mem907[Mem907[(ebp_134 - 0x44) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem913[Mem913[ebp_134 - 0x48 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem913[Mem913[(ebp_134 - 0x48) + 0x00:word32] + 0x08:word32])
			{
				Mem941[esp_10 + 0x00:word32] = Mem913[ebp_134 - 0x48 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_924 = Mem913[Mem913[ebp_134 - 0x48 + 0x00:word32] + 0x04:word32];
			Mem927[Mem913[Mem913[ebp_134 - 0x48 + 0x00:word32] + 0x00:word32] + eax_924:byte] = 0x20;
			Mem930[Mem927[ebp_134 - 0x48 + 0x00:word32] + 0x04:word32] = eax_924 + 0x01;
			Mem936[Mem930[Mem930[ebp_134 - 0x48 + 0x00:word32] + 0x00:word32] + Mem930[Mem930[(ebp_134 - 0x48) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem938[ebp_134 - 0x0C + 0x00:word32] = Mem936[ebp_134 - 0x0C + 0x00:word32] + 0x01;
		}
		word32 eax_856;
		word32 edx_848 = Mem840[0x0817D2D4:word32];
		if (Mem840[Mem840[ebp_134 + 0x08:word32] + 0x14:word32] == 0x02)
			eax_856 = 0x15;
		else
			eax_856 = 0x05;
		Mem857[esp_10 + 0x0C:word32] = 0x01;
		Mem858[esp_10 + 0x08:word32] = edx_848;
		Mem859[esp_10 + 0x04:word32] = eax_856;
		Mem861[esp_10 + 0x00:word32] = Mem859[ebp_134 - 0x48 + 0x00:word32];
		push_symbol(ebp_134, dwArg04, dwArg08_104);
	}
	else if (eax_241 != 0x03)
		goto l0808546E;
	word32 eax_741 = Mem239[0x0817D2D4:word32];
	Mem742[esp_10 + 0x0C:word32] = 0x01;
	Mem743[esp_10 + 0x08:word32] = eax_741;
	Mem744[esp_10 + 0x04:word32] = 0x05;
	Mem746[esp_10 + 0x00:word32] = Mem744[ebp_134 - 0x44 + 0x00:word32];
	push_symbol(ebp_134, dwArg04, dwArg08_104);
	Mem747[ebp_134 - 0x0C + 0x00:word32] = 0x00;
	while (Mem747[Mem747[ebp_134 + 0x08:word32] + 44:word32] > Mem747[(ebp_134 - 0x0C) + 0x00:word32])
	{
		if (Mem747[Mem747[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem747[Mem747[(ebp_134 - 0x44) + 0x00:word32] + 0x08:word32])
		{
			Mem782[esp_10 + 0x00:word32] = Mem747[ebp_134 - 0x44 + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_765 = Mem747[Mem747[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32];
		Mem768[Mem747[Mem747[ebp_134 - 0x44 + 0x00:word32] + 0x00:word32] + eax_765:byte] = 0x20;
		Mem771[Mem768[ebp_134 - 0x44 + 0x00:word32] + 0x04:word32] = eax_765 + 0x01;
		Mem777[Mem771[Mem771[ebp_134 - 0x44 + 0x00:word32] + 0x00:word32] + Mem771[Mem771[(ebp_134 - 0x44) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem779[ebp_134 - 0x0C + 0x00:word32] = Mem777[ebp_134 - 0x0C + 0x00:word32] + 0x01;
	}
l0808546E:
	Mem257[ebp_134 - 0x18 + 0x00:word32] = 0x00;
	while (Mem257[Mem257[ebp_134 + 0x08:word32] + 0x08:word32] >= Mem257[(ebp_134 - 0x18) + 0x00:word32])
	{
		Mem337[ebp_134 - 0x1C + 0x00:word32] = 0x00;
		while (true)
		{
			word32 eax_351 = (int32) (word16) (word32) Mem337[Mem337[ebp_134 + 0x08:word32] + 676:word32][Mem337[ebp_134 - 0x18 + 0x00:word32] * 0x02];
			if (eax_351 <= Mem337[(ebp_134 - 0x1C) + 0x00:word32])
				break;
			Strnew(eax_351);
			Mem407[ebp_134 - 0x20 + 0x00:word32] = eax_351;
			if (Mem407[Mem407[ebp_134 + 0x08:word32] + 0x14:word32] == 0x01 || Mem407[Mem407[ebp_134 + 0x08:word32] + 0x14:word32] == 0x02)
			{
				Mem725[esp_10 + 0x04:word32] = Mem407[ebp_134 - 0x40 + 0x00:word32];
				Mem727[esp_10 + 0x00:word32] = Mem725[ebp_134 - 0x20 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			if (Mem407[Mem407[ebp_134 + 0x08:word32] + 0x54:word32][Mem407[ebp_134 - 0x18 + 0x00:word32] * 0x04] != 0x00 && Mem407[(ebp_134 - 0x1C) + 0x00:word32] == 0x00)
			{
				Mem711[esp_10 + 0x00:word32] = Mem407[Mem407[Mem407[ebp_134 + 0x08:word32] + 0x54:word32][Mem407[ebp_134 - 0x18 + 0x00:word32] * 0x04] + 0x00:word32];
				Mem713[esp_10 + 0x04:word32] = html_quote(dwArg00);
				Mem714[esp_10 + 0x00:word32] = 0x080CB091;
				byte bpl_715;
				Mem717[ebp_134 - 0x4C + 0x00:word32] = Sprintf(dwArg00, out bpl_715);
				Mem719[esp_10 + 0x04:word32] = Mem717[ebp_134 - 0x4C + 0x00:word32];
				Mem721[esp_10 + 0x00:word32] = Mem719[ebp_134 - 0x20 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			Mem427[ebp_134 - 0x0C + 0x00:word32] = 0x00;
			while (Mem427[Mem427[ebp_134 + 0x08:word32] + 0x0C:word32] >= Mem427[(ebp_134 - 0x0C) + 0x00:word32])
			{
				Mem467[esp_10 + 0x04:word32] = Mem427[ebp_134 - 0x18 + 0x00:word32];
				Mem469[esp_10 + 0x00:word32] = Mem467[ebp_134 + 0x08:word32];
				check_row(dwArg00, dwArg04);
				if (Mem469[Mem469[ebp_134 + 0x08:word32] + 0x50:word32][Mem469[ebp_134 - 0x18 + 0x00:word32] * 0x04][Mem469[ebp_134 - 0x0C + 0x00:word32] * 0x04] != 0x00 && Mem469[(ebp_134 - 0x1C) + 0x00:word32] == 0x00)
				{
					Mem690[esp_10 + 0x00:word32] = Mem469[Mem469[Mem469[ebp_134 + 0x08:word32] + 0x50:word32][Mem469[ebp_134 - 0x18 + 0x00:word32] * 0x04][Mem469[ebp_134 - 0x0C + 0x00:word32] * 0x04] + 0x00:word32];
					Mem692[esp_10 + 0x04:word32] = html_quote(dwArg00);
					Mem693[esp_10 + 0x00:word32] = 0x080CB091;
					byte bpl_694;
					Mem696[ebp_134 - 0x4C + 0x00:word32] = Sprintf(dwArg00, out bpl_694);
					Mem698[esp_10 + 0x04:word32] = Mem696[ebp_134 - 0x4C + 0x00:word32];
					Mem700[esp_10 + 0x00:word32] = Mem698[ebp_134 - 0x20 + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
				if (((word32) (word16) (word32) Mem469[Mem469[ebp_134 + 0x08:word32] + 0x48:word32][Mem469[ebp_134 - 0x18 + 0x00:word32] * 0x04][Mem469[ebp_134 - 0x0C + 0x00:word32] * 0x02] & 0x01) == 0x00)
				{
					Mem548[ebp_134 - 0x14 + 0x00:word32] = (int32) (word16) (word32) (Mem469[ebp_134 + 0x08:word32] + 0x08)[(Mem469[ebp_134 - 0x0C + 0x00:word32] + 0x28) * 0x02];
					Mem552[ebp_134 - 0x10 + 0x00:word32] = Mem548[ebp_134 - 0x0C + 0x00:word32] + 0x01;
					while (Mem552[Mem552[ebp_134 + 0x08:word32] + 0x0C:word32] >= Mem552[(ebp_134 - 0x10) + 0x00:word32] && (byte) ((word32) ((word16) ((word32) (Mem552[Mem552[ebp_134 + 0x08:word32] + 0x48:word32])[Mem552[(ebp_134 - 0x18) + 0x00:word32] * 0x04][Mem552[(ebp_134 - 0x10) + 0x00:word32] * 0x02])) & 0x01) != 0x00)
					{
						Mem672[ebp_134 - 0x14 + 0x00:word32] = Mem552[ebp_134 - 0x14 + 0x00:word32] + ((int32) ((word16) ((word32) (Mem552[ebp_134 + 0x08:word32] + 0x08)[(Mem552[(ebp_134 - 0x10) + 0x00:word32] + 0x28) * 0x02])) + Mem552[Mem552[ebp_134 + 0x08:word32] + 0x28:word32]);
						Mem674[ebp_134 - 0x10 + 0x00:word32] = Mem672[ebp_134 - 0x10 + 0x00:word32] + 0x01;
					}
					if (((word32) (word16) (word32) Mem552[Mem552[ebp_134 + 0x08:word32] + 0x48:word32][Mem552[ebp_134 - 0x18 + 0x00:word32] * 0x04][Mem552[ebp_134 - 0x0C + 0x00:word32] * 0x02] & 0x02) != 0x00)
					{
						Mem583[ebp_134 - 0x10 + 0x00:word32] = Mem552[ebp_134 - 0x18 + 0x00:word32] - 0x01;
						while (Mem583[ebp_134 - 0x10 + 0x00:word32] >= 0x00 && (Mem583[Mem583[ebp_134 + 0x08:word32] + 0x48:word32][Mem583[(ebp_134 - 0x10) + 0x00:word32] * 0x04] != 0x00 && ((word32) ((word16) ((word32) (Mem583[Mem583[ebp_134 + 0x08:word32] + 0x48:word32])[Mem583[(ebp_134 - 0x10) + 0x00:word32] * 0x04][Mem583[(ebp_134 - 0x0C) + 0x00:word32] * 0x02])) & 0x02) != 0x00))
							Mem633[ebp_134 - 0x10 + 0x00:word32] = Mem583[ebp_134 - 0x10 + 0x00:word32] - 0x01;
						Mem598[esp_10 + 0x10:word32] = Mem583[ebp_134 - 0x20 + 0x00:word32];
						Mem600[esp_10 + 0x0C:word32] = Mem598[ebp_134 - 0x14 + 0x00:word32];
						Mem602[esp_10 + 0x08:word32] = Mem600[ebp_134 - 0x0C + 0x00:word32];
						Mem604[esp_10 + 0x04:word32] = Mem602[ebp_134 - 0x10 + 0x00:word32];
						Mem606[esp_10 + 0x00:word32] = Mem604[ebp_134 + 0x08:word32];
						print_item(dwArg00, dwArg04, dwArg08_104, dwArg0C, dwArg10);
					}
					else
					{
						Mem636[esp_10 + 0x10:word32] = Mem552[ebp_134 - 0x20 + 0x00:word32];
						Mem638[esp_10 + 0x0C:word32] = Mem636[ebp_134 - 0x14 + 0x00:word32];
						Mem640[esp_10 + 0x08:word32] = Mem638[ebp_134 - 0x0C + 0x00:word32];
						Mem642[esp_10 + 0x04:word32] = Mem640[ebp_134 - 0x18 + 0x00:word32];
						Mem644[esp_10 + 0x00:word32] = Mem642[ebp_134 + 0x08:word32];
						print_item(dwArg00, dwArg04, dwArg08_104, dwArg0C, dwArg10);
					}
				}
				if (Mem469[Mem469[ebp_134 + 0x08:word32] + 0x0C:word32] > Mem469[(ebp_134 - 0x0C) + 0x00:word32] && ((word32) ((word16) ((word32) (Mem469[Mem469[ebp_134 + 0x08:word32] + 0x48:word32])[Mem469[(ebp_134 - 0x18) + 0x00:word32] * 0x04][(Mem469[(ebp_134 - 0x0C) + 0x00:word32] + 0x01) * 0x02])) & 0x01) == 0x00)
				{
					Mem539[esp_10 + 0x04:word32] = Mem469[ebp_134 - 0x44 + 0x00:word32];
					Mem541[esp_10 + 0x00:word32] = Mem539[ebp_134 - 0x20 + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
				Mem519[ebp_134 - 0x0C + 0x00:word32] = Mem469[ebp_134 - 0x0C + 0x00:word32] + 0x01;
			}
			if (Mem427[Mem427[ebp_134 + 0x08:word32] + 0x14:word32] <=u 0x02)
			{
				Mem458[esp_10 + 0x04:word32] = Mem427[ebp_134 - 0x48 + 0x00:word32];
				Mem460[esp_10 + 0x00:word32] = Mem458[ebp_134 - 0x20 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
				Mem465[Mem460[ebp_134 + 0x08:word32] + 0x1C:word32] = Mem460[Mem460[ebp_134 + 0x08:word32] + 0x1C:word32] + 0x01;
			}
			word32 eax_446 = Mem427[Mem427[ebp_134 + 0x08:word32] + 0x18:word32];
			Mem448[esp_10 + 0x0C:word32] = Mem427[ebp_134 + 0x10:word32];
			Mem449[esp_10 + 0x08:word32] = eax_446;
			Mem451[esp_10 + 0x04:word32] = Mem449[ebp_134 - 0x38 + 0x00:word32];
			Mem453[esp_10 + 0x00:word32] = Mem451[ebp_134 - 0x20 + 0x00:word32];
			push_render_image(ebp_134, gs, dwArg04, dwArg08_104, dwArg0C);
			Mem455[ebp_134 - 0x1C + 0x00:word32] = Mem453[ebp_134 - 0x1C + 0x00:word32] + 0x01;
		}
		if (Mem337[Mem337[ebp_134 + 0x08:word32] + 0x08:word32] > Mem337[(ebp_134 - 0x18) + 0x00:word32])
		{
			word32 eax_381 = Mem337[Mem337[ebp_134 + 0x08:word32] + 0x14:word32];
			if (eax_381 != 0x00)
			{
				Strnew(eax_381);
				Mem387[ebp_134 - 0x20 + 0x00:word32] = eax_381;
				word32 eax_389 = Mem387[Mem387[ebp_134 + 0x08:word32] + 0x0C:word32];
				Mem391[esp_10 + 0x10:word32] = Mem387[ebp_134 - 0x20 + 0x00:word32];
				Mem392[esp_10 + 0x0C:word32] = eax_389;
				Mem393[esp_10 + 0x08:word32] = 0x01;
				Mem395[esp_10 + 0x04:word32] = Mem393[ebp_134 - 0x18 + 0x00:word32];
				Mem397[esp_10 + 0x00:word32] = Mem395[ebp_134 + 0x08:word32];
				print_sep(ebp_134, dwArg00, dwArg04, dwArg08_104, dwArg10);
				word32 eax_399 = Mem397[Mem397[ebp_134 + 0x08:word32] + 0x18:word32];
				Mem401[esp_10 + 0x0C:word32] = Mem397[ebp_134 + 0x10:word32];
				Mem402[esp_10 + 0x08:word32] = eax_399;
				Mem404[esp_10 + 0x04:word32] = Mem402[ebp_134 - 0x38 + 0x00:word32];
				Mem406[esp_10 + 0x00:word32] = Mem404[ebp_134 - 0x20 + 0x00:word32];
				push_render_image(ebp_134, gs, dwArg04, dwArg08_104, dwArg0C);
			}
		}
		Mem376[Mem337[ebp_134 + 0x08:word32] + 0x1C:word32] = Mem337[Mem337[ebp_134 + 0x08:word32] + 0x1C:word32] + (int32) ((word16) ((word32) Mem337[Mem337[ebp_134 + 0x08:word32] + 676:word32][Mem337[(ebp_134 - 0x18) + 0x00:word32] * 0x02]));
		Mem378[ebp_134 - 0x18 + 0x00:word32] = Mem376[ebp_134 - 0x18 + 0x00:word32] + 0x01;
	}
	word32 eax_273 = Mem257[Mem257[ebp_134 + 0x08:word32] + 0x14:word32];
	if (eax_273 <=u 0x02)
	{
		Strnew(eax_273 - 0x01);
		Mem310[ebp_134 - 0x20 + 0x00:word32] = eax_273 - 0x01;
		word32 edx_312 = Mem310[Mem310[ebp_134 + 0x08:word32] + 0x0C:word32];
		word32 eax_314 = Mem310[Mem310[ebp_134 + 0x08:word32] + 0x08:word32];
		Mem316[esp_10 + 0x10:word32] = Mem310[ebp_134 - 0x20 + 0x00:word32];
		Mem317[esp_10 + 0x0C:word32] = edx_312;
		Mem318[esp_10 + 0x08:word32] = 0x02;
		Mem319[esp_10 + 0x04:word32] = eax_314;
		Mem321[esp_10 + 0x00:word32] = Mem319[ebp_134 + 0x08:word32];
		print_sep(ebp_134, dwArg00, dwArg04, dwArg08_104, dwArg10);
		word32 eax_324 = Mem321[Mem321[ebp_134 + 0x08:word32] + 0x18:word32];
		Mem326[esp_10 + 0x0C:word32] = Mem321[ebp_134 + 0x10:word32];
		Mem327[esp_10 + 0x08:word32] = eax_324;
		Mem329[esp_10 + 0x04:word32] = Mem327[ebp_134 - 0x38 + 0x00:word32];
		Mem331[esp_10 + 0x00:word32] = Mem329[ebp_134 - 0x20 + 0x00:word32];
		push_render_image(ebp_134, gs, dwArg04, dwArg08_104, dwArg0C);
		Mem336[Mem331[ebp_134 + 0x08:word32] + 0x1C:word32] = Mem331[Mem331[ebp_134 + 0x08:word32] + 0x1C:word32] + 0x01;
	}
	word32 eax_282 = Mem257[Mem257[ebp_134 + 0x08:word32] + 0x1C:word32];
	if (eax_282 == 0x00)
	{
		Mem293[esp_10 + 0x00:word32] = 0x080CB09F;
		Strnew_charp(eax_282, dwArg00);
		Mem294[ebp_134 - 0x20 + 0x00:word32] = eax_282;
		Mem299[Mem294[ebp_134 + 0x08:word32] + 0x1C:word32] = Mem294[Mem294[ebp_134 + 0x08:word32] + 0x1C:word32] + 0x01;
		Mem301[Mem299[ebp_134 + 0x08:word32] + 0x18:word32] = 0x01;
		word32 eax_303 = Mem301[Mem301[ebp_134 + 0x08:word32] + 0x18:word32];
		Mem305[esp_10 + 0x0C:word32] = Mem301[ebp_134 + 0x10:word32];
		Mem306[esp_10 + 0x08:word32] = eax_303;
		Mem307[esp_10 + 0x04:word32] = 0x01;
		Mem309[esp_10 + 0x00:word32] = Mem307[ebp_134 - 0x20 + 0x00:word32];
		push_render_image(ebp_134, gs, dwArg04, dwArg08_104, dwArg0C);
	}
	Mem289[esp_10 + 0x08:word32] = 0x01;
	Mem291[esp_10 + 0x04:word32] = Mem289[ebp_134 + 0x10:word32];
	Mem292[esp_10 + 0x00:word32] = 0x080CB0A1;
	HTMLlineproc0(ebp_134, gs, dwArg04);
}

// 0808594A: void begin_table(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, FpuStack real64 rArg0, FpuStack real64 rArg1)
void begin_table(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, real64 rArg0, real64 rArg1)
{
	word32 eax_11 = minimum_cellspacing(dwArg04);
	word32 esp_20;
	word32 ebp_21;
	byte SCZO_22;
	word32 eax_23;
	byte ah_24;
	word16 ax_25;
	word32 edx_26;
	byte Z_27;
	byte SZO_28;
	byte C_29;
	byte S_30;
	byte SO_31;
	!floor();
	word16 wLoc2E_32 = __fstcw();
	word16 ax_35 = DPB(ax_25, 0x0C, 8);
	__fldcw(ax_35);
	__fldcw(wLoc2E_32);
	int32 dwLoc1C_38 = (int32) rArg0;
	word32 esp_43;
	word32 ebp_44;
	byte SCZO_45;
	word32 eax_46;
	byte ah_47;
	word16 ax_48;
	word32 edx_49;
	byte Z_50;
	byte SZO_51;
	byte C_52;
	byte S_53;
	byte SO_54;
	!floor();
	word16 wLoc2E_55 = __fstcw();
	__fldcw(DPB(ax_48, 0x0C, 8));
	__fldcw(wLoc2E_55);
	word32 eax_58 = DPB((word32) wLoc2E_55, 0x0C, 8);
	newTable(eax_58);
	Mem65[eax_58 + 0x04:word32] = ~0x00;
	Mem69[eax_58 + 0x00:word32] = Mem65[eax_58 + 0x04:word32];
	Mem71[eax_58 + 0x0C:word32] = ~0x00;
	Mem73[eax_58 + 0x08:word32] = ~0x00;
	Mem76[eax_58 + 0x14:word32] = dwArg04;
	Mem78[eax_58 + 0x38:word32] = 0x00;
	int32 dwLoc20_62 = (int32) rArg1;
	if (dwArg04 == 0x03)
		Mem235[eax_58 + 0x38:word32] = Mem78[eax_58 + 0x38:word32] | 0x02;
	word32 eax_86 = dwArg0C * 0x02 + dwArg08;
	if (dwArg04 != 0x00)
	{
		if (dwArg04 >= 0x00 && dwArg04 <= 0x03)
			Mem221[eax_58 + 44:word32] = dwArg0C - ((dwLoc1C_38 - 0x04 >>u 0x1F) + (dwLoc1C_38 - 0x04) >> 0x01);
	}
	else
		Mem227[eax_58 + 44:word32] = eax_86 - dwLoc1C_38;
	if (Mem78[eax_58 + 44:word32] >= dwLoc20_62)
	{
		word32 eax_187 = Mem78[eax_58 + 44:word32];
		Mem197[eax_58 + 44:word32] = (int32) (SEQ(eax_187 >> 0x1F, eax_187) / dwLoc20_62);
	}
	else if (Mem78[eax_58 + 44:word32] > 0x00)
		Mem203[eax_58 + 44:word32] = 0x01;
	else
		Mem205[eax_58 + 44:word32] = 0x00;
	if (dwArg04 != 0x00)
	{
		if (dwArg04 >= 0x00 && dwArg04 <= 0x03)
			Mem178[eax_58 + 0x28:word32] = Mem78[eax_58 + 44:word32] * 0x02 + eax_11;
	}
	else
		Mem185[eax_58 + 0x28:word32] = Mem78[eax_58 + 44:word32] + eax_11;
	if (dwArg04 == 0x00)
	{
		if (((eax_86 >>u 0x1F) + eax_86 >> 0x01) + dwArg10 <= 0x01)
			Mem156[eax_58 + 0x34:word32] = 0x00;
		else
			Mem158[eax_58 + 0x34:word32] = 0x01;
	}
	else if (dwArg10 < dwLoc20_62)
		Mem163[eax_58 + 0x34:word32] = 0x00;
	else
		Mem165[eax_58 + 0x34:word32] = 0x01;
	if (dwArg04 == 0x00)
	{
		if (eax_86 <= 0x04)
			Mem134[eax_58 + 0x30:word32] = 0x00;
		else
			Mem136[eax_58 + 0x30:word32] = 0x01;
	}
	else if ((dwLoc20_62 - 0x01) * 0x02 > dwArg0C)
		Mem143[eax_58 + 0x30:word32] = 0x00;
	else
		Mem145[eax_58 + 0x30:word32] = 0x01;
}

// 08085B72: void end_table(Register selector gs, Stack word32 dwArg04)
void end_table(selector gs, word32 dwArg04)
{
	word32 eax_17 = table_rule_width(dwArg04);
	if (eax_17 > 0x01)
	{
		if (Mem0[dwArg04 + 0x18:word32] > 0x00)
			Mem253[dwArg04 + 0x18:word32] = ceil_at_intervals(Mem0[dwArg04 + 0x18:word32], eax_17);
		word32 dwLoc14_227 = 0x00;
		while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc14_227)
		{
			(dwArg04 + 0x0C)[(dwLoc14_227 + 88) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) (dwArg04 + 0x0C)[(dwLoc14_227 + 88) * 0x02], eax_17);
			(dwArg04 + 0x08)[(dwLoc14_227 + 0x28) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) (dwArg04 + 0x08)[(dwLoc14_227 + 0x28) * 0x02], eax_17);
			if ((word16) (word32) dwArg04[(dwLoc14_227 + 0x90) * 0x02] > 0x00)
				dwArg04[(dwLoc14_227 + 0x90) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) dwArg04[(dwLoc14_227 + 0x90) * 0x02], eax_17);
			dwLoc14_227 = dwLoc14_227 + 0x01;
		}
		word32 dwLoc14_158 = 0x00;
		while ((int32) (word16) (word32) Mem0[dwArg04 + 0x01FC:word16] >= dwLoc14_158)
		{
			(dwArg04 + 0x0192)[(dwLoc14_158 + 0x60) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) (dwArg04 + 0x0192)[(dwLoc14_158 + 0x60) * 0x02], eax_17);
			(dwArg04 + 0x018A)[(dwLoc14_158 + 0x50) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) (dwArg04 + 0x018A)[(dwLoc14_158 + 0x50) * 0x02], eax_17);
			if ((word16) (word32) (dwArg04 + 0x018A)[(dwLoc14_158 + 0x78) * 0x02] > 0x00)
				(dwArg04 + 0x018A)[(dwLoc14_158 + 0x78) * 0x02] = (word16) ceil_at_intervals((int32) (word16) (word32) (dwArg04 + 0x018A)[(dwLoc14_158 + 0x78) * 0x02], eax_17);
			dwLoc14_158 = dwLoc14_158 + 0x01;
		}
	}
	Mem47[dwArg04 + 0x02C8:word32] = get_table_width(fp - 0x04, gs, dwArg04, dwArg04 + 288, dwArg04 + 0x027A, 0x01);
	if (Mem47[dwArg04 + 0x18:word32] > Mem47[dwArg04 + 0x02C8:word32])
		Mem65[dwArg04 + 0x02C8:word32] = Mem47[dwArg04 + 0x18:word32];
}

// 08085D9E: void check_minimum0(Stack word32 dwArg04, Stack word32 dwArg08)
void check_minimum0(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] >= 0x00 && (word16) ((word32) (dwArg04 + 0x08)[(Mem0[dwArg04 + 0x04:word32] + 0x28) * 0x02]) >= 0x00)
	{
		word32 dwLoc18_146;
		check_row(dwArg04, Mem0[dwArg04 + 0x00:word32]);
		word32 eax_59 = table_colspan(dwArg04, Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04 + 0x04:word32]);
		word32 v11_64 = dwArg08 + Mem0[dwArg04 + 0x24:word32];
		if (eax_59 == 0x01)
			dwLoc18_146 = v11_64;
		else
		{
			dwLoc18_146 = 0x00;
			if ((word16) (word32) Mem0[dwArg04 + 0x01FE:word16] >= 0x00 && (int32) ((word16) ((word32) (dwArg04 + 0x0192)[((int32) ((word16) ((word32) Mem0[dwArg04 + 0x01FE:word16])) + 0x60) * 0x02])) < v11_64)
				(dwArg04 + 0x0192)[((int32) (word16) (word32) Mem0[dwArg04 + 0x01FE:word16] + 0x60) * 0x02] = (word16) v11_64;
		}
		word32 dwLoc10_117 = Mem0[dwArg04 + 0x04:word32];
		while (Mem0[dwArg04 + 0x0C:word32] >= dwLoc10_117 && (Mem0[dwArg04 + 0x04:word32] == dwLoc10_117 || (byte) ((word32) ((word16) ((word32) (Mem0[dwArg04 + 0x48:word32])[Mem0[dwArg04 + 0x00:word32] * 0x04][dwLoc10_117 * 0x02])) & 0x01) != 0x00))
		{
			if ((int32) (word16) (word32) (dwArg04 + 0x0C)[(dwLoc10_117 + 88) * 0x02] < dwLoc18_146)
				(dwArg04 + 0x0C)[(dwLoc10_117 + 88) * 0x02] = (word16) dwLoc18_146;
			dwLoc10_117 = dwLoc10_117 + 0x01;
		}
	}
}

// 08085EE6: Register word32 setwidth0(Stack word32 dwArg04)
word32 setwidth0(word32 dwArg04)
{
	word32 eax_34;
	word32 eax_10 = Mem0[dwArg04 + 0x20:word32];
	word32 dwLoc14_11 = eax_10;
	if (Mem0[dwArg04 + 0x04:word32] < 0x00)
		eax_34 = ~0x00;
	else if ((word16) (word32) (dwArg04 + 0x08)[(Mem0[dwArg04 + 0x04:word32] + 0x28) * 0x02] < 0x00)
		eax_34 = ~0x00;
	else
	{
		check_row(dwArg04, Mem0[dwArg04 + 0x00:word32]);
		if ((byte) (word32) Mem0[dwArg04 + 0x02B6:byte] > 0x00)
			dwLoc14_11 = eax_10 - (int32) ((byte) ((word32) Mem0[dwArg04 + 0x02B6:byte]));
		if (table_colspan(dwArg04, Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04 + 0x04:word32]) == 0x01)
		{
			if ((int32) (word16) (word32) (dwArg04 + 0x08)[(Mem0[dwArg04 + 0x04:word32] + 0x28) * 0x02] < dwLoc14_11)
				(dwArg04 + 0x08)[(Mem0[dwArg04 + 0x04:word32] + 0x28) * 0x02] = (word16) dwLoc14_11;
		}
		else if ((word16) (word32) Mem0[dwArg04 + 0x01FE:word16] >= 0x00 && (int32) ((word16) ((word32) (dwArg04 + 0x018A)[((int32) ((word16) ((word32) Mem0[dwArg04 + 0x01FE:word16])) + 0x50) * 0x02])) < dwLoc14_11)
			(dwArg04 + 0x018A)[((int32) (word16) (word32) Mem0[dwArg04 + 0x01FE:word16] + 0x50) * 0x02] = (word16) dwLoc14_11;
		eax_34 = dwLoc14_11;
	}
	return eax_34;
}

// 08086002: void setwidth(Stack word32 dwArg04, Stack word32 dwArg08)
void setwidth(word32 dwArg04, word32 dwArg08)
{
	word32 eax_14 = setwidth0(dwArg04);
	if (eax_14 >= 0x00)
	{
		if (((word32) (word16) (word32) Mem0[dwArg04 + 0x48:word32][Mem0[dwArg04 + 0x00:word32] * 0x04][Mem0[dwArg04 + 0x04:word32] * 0x02] & 0x04) != 0x00)
			check_minimum0(dwArg04, eax_14);
		if ((Mem0[dwArg08 + 0x00:word32] & 0x0281) != 0x00 && (word16) ((word32) Mem0[dwArg08 + 0x06:word16]) >= 0x00)
			check_minimum0(dwArg04, eax_14 - (int32) ((word16) ((word32) Mem0[dwArg08 + 0x06:word16])));
	}
}

// 0808609F: void addcontentssize(Stack word32 dwArg04, Stack word32 dwArg08)
void addcontentssize(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] >= 0x00 && (word16) ((word32) (dwArg04 + 0x08)[(Mem0[dwArg04 + 0x04:word32] + 0x28) * 0x02]) >= 0x00)
	{
		check_row(dwArg04, Mem0[dwArg04 + 0x00:word32]);
		Mem47[dwArg04 + 0x20:word32] = Mem0[dwArg04 + 0x20:word32] + dwArg08;
	}
}

// 080860F2: void clearcontentssize(Stack word32 dwArg04, Stack word32 dwArg08)
void clearcontentssize(word32 dwArg04, word32 dwArg08)
{
	table_close_anchor0(dwArg04, dwArg08);
	Mem15[dwArg08 + 0x06:word16] = 0x00;
	Mem17[dwArg04 + 0x02B6:byte] = ~0x00;
	Strcopy_charp_n(Mem17[dwArg04 + 696:word32], 0x080CB09F, 0x01);
	Mem24[dwArg04 + 0x02B4:word16] = 0x00;
	Mem26[dwArg04 + 700:word16] = 0x00;
	Mem28[dwArg04 + 0x20:word32] = 0x00;
}

// 08086162: void begin_cell(Stack word32 dwArg04, Stack word32 dwArg08)
void begin_cell(word32 dwArg04, word32 dwArg08)
{
	clearcontentssize(dwArg04, dwArg08);
	Mem18[dwArg08 + 0x04:byte] = 0x00;
	Mem20[dwArg08 + 0x08:byte] = 0x00;
	Mem22[dwArg08 + 0x00:word32] = 0x00;
	Mem24[dwArg04 + 0x24:word32] = 0x00;
	Mem30[dwArg04 + 0x38:word32] = Mem24[dwArg04 + 0x38:word32] | 0x04;
	if (Mem30[dwArg04 + 688:word32] != 0x00)
	{
		check_row(dwArg04, Mem30[dwArg04 + 0x00:word32]);
		if (Mem30[dwArg04 + 0x44:word32][Mem30[dwArg04 + 0x00:word32] * 0x04][Mem30[dwArg04 + 0x04:word32] * 0x04] == 0x00)
		{
			word32 eax_101 = Mem30[dwArg04 + 0x04:word32];
			word32 ebx_104 = Mem30[dwArg04 + 0x44:word32][Mem30[dwArg04 + 0x00:word32] * 0x04] + (eax_101 << 0x02);
			newGeneralList(eax_101 << 0x02);
			Mem105[ebx_104 + 0x00:word32] = eax_101 << 0x02;
		}
		appendGeneralList(Mem30[dwArg04 + 0x44:word32][Mem30[dwArg04 + 0x00:word32] * 0x04][Mem30[dwArg04 + 0x04:word32] * 0x04], Mem30[dwArg04 + 688:word32]);
		Mem92[dwArg04 + 688:word32] = 0x00;
	}
}

// 08086268: void check_rowcol(Stack word32 dwArg04, Stack word32 dwArg08)
void check_rowcol(word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_13 = Mem0[dwArg04 + 0x04:word32];
	if ((Mem0[dwArg04 + 0x38:word32] & 0x01) == 0x00)
	{
		Mem150[dwArg04 + 0x38:word32] = Mem0[dwArg04 + 0x38:word32] | 0x01;
		Mem155[dwArg04 + 0x00:word32] = Mem150[dwArg04 + 0x00:word32] + 0x01;
		if (Mem155[dwArg04 + 0x00:word32] > Mem155[dwArg04 + 0x08:word32])
			Mem168[dwArg04 + 0x08:word32] = Mem155[dwArg04 + 0x00:word32];
		Mem164[dwArg04 + 0x04:word32] = ~0x00;
	}
	if (Mem0[dwArg04 + 0x00:word32] == ~0x00)
		Mem144[dwArg04 + 0x00:word32] = 0x00;
	if (Mem0[dwArg04 + 0x04:word32] == ~0x00)
		Mem142[dwArg04 + 0x04:word32] = 0x00;
	while (true)
	{
		check_row(dwArg04, Mem0[dwArg04 + 0x00:word32]);
		while (Mem0[dwArg04 + 0x04:word32] <= 0x31 && ((word32) ((word16) ((word32) (Mem0[dwArg04 + 0x48:word32])[Mem0[dwArg04 + 0x00:word32] * 0x04][Mem0[dwArg04 + 0x04:word32] * 0x02])) & 0x03) != 0x00)
			Mem140[dwArg04 + 0x04:word32] = Mem0[dwArg04 + 0x04:word32] + 0x01;
		if (Mem0[dwArg04 + 0x04:word32] <= 0x31)
			break;
		Mem112[dwArg04 + 0x04:word32] = 0x00;
		Mem117[dwArg04 + 0x00:word32] = Mem112[dwArg04 + 0x00:word32] + 0x01;
	}
	if (Mem0[dwArg04 + 0x00:word32] > Mem0[dwArg04 + 0x08:word32])
		Mem110[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x00:word32];
	if (Mem0[dwArg04 + 0x04:word32] > Mem0[dwArg04 + 0x0C:word32])
		Mem106[dwArg04 + 0x0C:word32] = Mem0[dwArg04 + 0x04:word32];
	if (Mem0[dwArg04 + 0x00:word32] != eax_10 || Mem0[dwArg04 + 0x04:word32] != eax_13)
		begin_cell(dwArg04, dwArg08);
	Mem88[dwArg04 + 0x38:word32] = Mem0[dwArg04 + 0x38:word32] | 0x04;
}

// 080863EA: Register word32 skip_space(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 skip_space(word32 ebp, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_334;
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x3C && (byte) ((word32) Mem0[dwArg08 + (strlen(dwArg08) - 0x01):byte]) == 0x3E)
	{
		if (dwArg10 != 0x00)
		{
			Mem347[fp - 0x48 + 0x00:word32] = visible_length(fp - 0x04, dwArg08);
			Mem349[fp - 0x4C + 0x00:word32] = Mem347[fp + 0x04:word32];
			check_minimum0(dwArg00, dwArg04);
		}
		eax_334 = 0x00;
	}
	else
	{
		while ((byte) (word32) Mem0[Mem0[fp + 0x08:word32] + 0x00:byte] != 0x00)
		{
			word32 eax_140;
			Mem119[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem121[fp - 44 + 0x00:word32] = Mem119[fp + 0x08:word32];
			Mem131[fp - 0x0E + 0x00:word16] = (word16) ((word32) (byte) (word32) Mem121[(word32) (byte) (word32) Mem121[Mem121[fp + 0x08:word32] + 0x00:byte] + 0x08179BE0:byte] << 0x08);
			if ((byte) (word32) Mem131[0x080DC0AF:byte] != 0x00)
				eax_140 = (word32) (byte) (word32) Mem131[(word32) (byte) (word32) Mem131[Mem131[fp + 0x08:word32] + 0x00:byte] + 0x081799E0:byte];
			else
				eax_140 = (word32) ((byte) (word32) Mem131[(word32) (byte) (word32) Mem131[Mem131[fp + 0x08:word32] + 0x00:byte] + 0x081799E0:byte] != 0x00);
			Mem142[fp - 0x34 + 0x00:word32] = eax_140;
			Mem150[fp - 0x3C + 0x00:word32] = (word32) (byte) (word32) Mem142[(word32) (byte) (word32) Mem142[Mem142[fp + 0x08:word32] + 0x00:byte] + 0x08179AE0:byte];
			Mem152[fp - 0x38 + 0x00:word32] = Mem150[fp - 0x3C + 0x00:word32];
			if (Mem152[fp - 0x24 + 0x00:word32] < Mem152[(fp - 0x20) + 0x00:word32])
				Mem297[fp - 0x24 + 0x00:word32] = Mem152[fp - 0x20 + 0x00:word32];
			if (Mem152[fp - 0x0E + 0x00:word16] == 0x00 && ((word32) ((byte) ((word32) Mem152[(word32) ((byte) ((word32) Mem152[Mem152[(fp - 44) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			{
				Mem292[fp - 0x20 + 0x00:word32] = 0x00;
				Mem294[fp - 0x18 + 0x00:word32] = Mem292[fp - 0x18 + 0x00:word32] + 0x01;
				goto l0808661E;
			}
			if ((byte) (word32) Mem152[Mem152[fp - 44 + 0x00:word32] + 0x00:byte] == 0x26)
			{
				Mem241[fp - 0x4C + 0x00:word32] = fp + 0x08;
				Mem243[fp - 0x30 + 0x00:word32] = getescapechar(dwArg00);
				if (Mem243[fp - 0x30 + 0x00:word32] >= 0x00)
				{
					Mem247[fp - 0x4C + 0x00:word32] = Mem243[fp - 0x30 + 0x00:word32];
					Mem249[fp - 44 + 0x00:word32] = conv_entity(dwArg00);
					Mem260[fp - 0x0E + 0x00:word16] = (word16) ((word32) (byte) (word32) Mem249[(word32) (byte) (word32) Mem249[Mem249[fp - 44 + 0x00:word32] + 0x00:byte] + 0x08179BE0:byte] << 0x08);
					Mem262[fp - 0x4C + 0x00:word32] = Mem260[fp - 44 + 0x00:word32];
					Mem264[fp - 0x34 + 0x00:word32] = wtf_strwidth(dwArg00);
					Mem272[fp - 0x38 + 0x00:word32] = Mem264[fp + 0x08:word32] - Mem264[(fp - 0x28) + 0x00:word32];
					Mem280[fp - 0x3C + 0x00:word32] = (word32) (byte) (word32) Mem272[(word32) (byte) (word32) Mem272[Mem272[fp - 44 + 0x00:word32] + 0x00:byte] + 0x08179AE0:byte];
				}
			}
			if (Mem152[Mem152[fp - 0x1C + 0x00:word32] + 0x04:word32] != 0x00)
			{
				word32 eax_231 = Mem152[Mem152[fp - 0x1C + 0x00:word32] + 0x00:word32];
				Mem232[fp - 0x48 + 0x00:word32] = Mem152[fp - 44 + 0x00:word32];
				Mem233[fp - 0x4C + 0x00:word32] = eax_231;
				if (is_boundary(fp - 0x04, dwArg00, dwArg04) == 0x00)
					goto l080865E2;
				Mem239[fp - 0x20 + 0x00:word32] = Mem233[fp - 0x34 + 0x00:word32];
			}
			else
			{
l080865E2:
				Mem227[fp - 0x20 + 0x00:word32] = Mem152[fp - 0x20 + 0x00:word32] + Mem152[(fp - 0x34) + 0x00:word32];
			}
			if (Mem152[fp - 0x18 + 0x00:word32] > 0x00)
			{
				if (Mem152[fp - 0x0E + 0x00:word16] == 0x0A00 && Mem152[(fp - 0x10) + 0x00:word16] == 0x0A00)
					Mem219[fp - 0x14 + 0x00:word32] = Mem152[fp - 0x14 + 0x00:word32] + Mem152[(fp - 0x18) + 0x00:word32];
				else
					Mem213[fp - 0x14 + 0x00:word32] = Mem152[fp - 0x14 + 0x00:word32] + (Mem152[(fp - 0x18) + 0x00:word32] - 0x01);
			}
			Mem203[fp - 0x18 + 0x00:word32] = 0x00;
			Mem206[fp - 0x10 + 0x00:word16] = (word16) (word32) Mem203[fp - 0x0E + 0x00:word16];
l0808661E:
			Mem168[fp - 0x44 + 0x00:word32] = Mem152[fp - 0x3C + 0x00:word32];
			Mem170[fp - 0x48 + 0x00:word32] = Mem168[fp - 44 + 0x00:word32];
			Mem172[fp - 0x4C + 0x00:word32] = Mem170[fp - 0x1C + 0x00:word32];
			Strcopy_charp_n(dwArg00, dwArg04, dwArg08);
			Mem176[fp + 0x08:word32] = Mem172[fp - 0x38 + 0x00:word32] + Mem172[(fp - 0x28) + 0x00:word32];
		}
		if (Mem0[fp - 0x18 + 0x00:word32] > 0x01)
		{
			Mem108[fp - 0x14 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] + (Mem0[(fp - 0x18) + 0x00:word32] - 0x01);
			Mem111[Mem108[fp + 0x0C:word32] + 0x02:byte] = 0x01;
		}
		else
			Mem117[Mem0[fp + 0x0C:word32] + 0x02:byte] = (byte) Mem0[fp - 0x18 + 0x00:word32];
		Mem76[Mem0[fp + 0x0C:word32] + 0x00:word16] = (word16) (word32) Mem0[fp - 0x10 + 0x00:word16];
		Mem79[Mem76[fp + 0x0C:word32] + 0x04:word32] = Mem76[fp - 0x1C + 0x00:word32];
		if (Mem79[fp + 0x10:word32] != 0x00)
		{
			if (Mem79[fp - 0x24 + 0x00:word32] < Mem79[(fp - 0x20) + 0x00:word32])
				Mem104[fp - 0x24 + 0x00:word32] = Mem79[fp - 0x20 + 0x00:word32];
			Mem96[Mem79[fp + 0x0C:word32] + 0x08:word16] = (word16) Mem79[fp - 0x20 + 0x00:word32];
			Mem98[fp - 0x48 + 0x00:word32] = Mem96[fp - 0x24 + 0x00:word32];
			Mem100[fp - 0x4C + 0x00:word32] = Mem98[fp + 0x04:word32];
			check_minimum0(dwArg00, dwArg04);
		}
		eax_334 = Mem79[fp - 0x14 + 0x00:word32];
	}
	return eax_334;
}

// 080866C5: void feed_table_inline_tag(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void feed_table_inline_tag(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	check_rowcol(dwArg04, dwArg0C);
	pushdata(dwArg04, Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04 + 0x04:word32], dwArg08);
	if (dwArg10 >= 0x00)
	{
		check_minimum0(dwArg04, dwArg10);
		addcontentssize(dwArg04, dwArg10);
		setwidth(dwArg04, dwArg0C);
	}
}

// 08086740: void feed_table_block_tag(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void feed_table_block_tag(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	if ((byte) (word32) Mem0[dwArg0C + 0x04:byte] > 0x00 || dwArg10 != ~0x00)
	{
		setwidth(dwArg04, dwArg0C);
		feed_table_inline_tag(dwArg04, dwArg08, dwArg0C, ~0x00);
		clearcontentssize(dwArg04, dwArg0C);
		if (dwArg10 == 0x01)
		{
			Mem93[dwArg0C + 0x04:byte] = (byte) ((word32) Mem0[dwArg0C + 0x04:byte] + 0x01);
			if ((byte) (word32) Mem93[dwArg0C + 0x04:byte] <= 0x0A)
				Mem105[dwArg04 + 0x24:word32] = Mem93[dwArg04 + 0x24:word32] + Mem93[0x080D52B8:word32];
		}
		else if (dwArg10 == ~0x00)
		{
			Mem115[dwArg0C + 0x04:byte] = (byte) ((word32) Mem0[dwArg0C + 0x04:byte] - 0x01);
			if ((byte) (word32) Mem115[dwArg0C + 0x04:byte] <= 0x09)
				Mem127[dwArg04 + 0x24:word32] = Mem115[dwArg04 + 0x24:word32] - Mem115[0x080D52B8:word32];
		}
		word32 eax_55 = Mem0[dwArg04 + 0x24:word32];
		word32 dwLoc10_56 = eax_55;
		if (dwArg14 == 0x13 && ((byte) ((word32) Mem0[dwArg0C + 0x04:byte]) > 0x00 && (byte) ((word32) Mem0[dwArg0C + 0x04:byte]) <= 0x0A))
			dwLoc10_56 = eax_55 - Mem0[0x080D52B8:word32];
		if (Mem0[dwArg04 + 0x24:word32] > 0x00)
		{
			check_minimum0(dwArg04, 0x00);
			addcontentssize(dwArg04, dwLoc10_56);
		}
	}
}

// 0808686B: void table_close_select(Register word32 ebp, Register selector gs)
void table_close_select(word32 ebp, selector gs)
{
	Mem9[fp - 0x10 + 0x00:word32] = process_n_select(fp - 0x04);
	word32 eax_11 = Mem9[Mem9[fp + 0x08:word32] + 0x00:word32];
	Mem19[Mem9[fp + 0x08:word32] + 0x00:word32] = DPB(eax_11, SLICE(eax_11, byte, 8) & ~0x10, 8);
	Mem21[Mem19[fp + 0x08:word32] + 0x0C:byte] = 0x00;
	Mem23[fp - 0x20 + 0x00:word32] = Mem21[fp + 0x0C:word32];
	Mem25[fp - 0x24 + 0x00:word32] = Mem23[fp + 0x08:word32];
	Mem27[fp - 0x28 + 0x00:word32] = Mem25[fp - 0x10 + 0x00:word32];
	word32 eax_28 = Mem27[fp + 0x04:word32];
	Mem29[fp - 44 + 0x00:word32] = eax_28;
	feed_table1(eax_28, fp - 0x04, gs, dwArg04);
}

// 080868B1: void table_close_textarea(Register word32 ebp, Register selector gs)
void table_close_textarea(word32 ebp, selector gs)
{
	Mem9[fp - 0x10 + 0x00:word32] = process_n_textarea(fp - 0x04);
	word32 eax_11 = Mem9[Mem9[fp + 0x08:word32] + 0x00:word32];
	Mem19[Mem9[fp + 0x08:word32] + 0x00:word32] = DPB(eax_11, SLICE(eax_11, byte, 8) & ~0x08, 8);
	Mem21[Mem19[fp + 0x08:word32] + 0x0C:byte] = 0x00;
	Mem23[fp - 0x20 + 0x00:word32] = Mem21[fp + 0x0C:word32];
	Mem25[fp - 0x24 + 0x00:word32] = Mem23[fp + 0x08:word32];
	Mem27[fp - 0x28 + 0x00:word32] = Mem25[fp - 0x10 + 0x00:word32];
	word32 eax_28 = Mem27[fp + 0x04:word32];
	Mem29[fp - 44 + 0x00:word32] = eax_28;
	feed_table1(eax_28, fp - 0x04, gs, dwArg04);
}

// 080868F7: void table_close_anchor0(Stack word32 dwArg04, Stack word32 dwArg08)
void table_close_anchor0(word32 dwArg04, word32 dwArg08)
{
	if ((Mem0[dwArg08 + 0x00:word32] & 0x01000000) != 0x00)
	{
		Mem33[dwArg08 + 0x00:word32] = Mem0[dwArg08 + 0x00:word32] & ~0x01000000;
		if (Mem33[dwArg04 + 0x20:word32] == (int32) ((word16) ((word32) Mem33[dwArg08 + 0x0A:word16])))
		{
			check_minimum0(dwArg04, 0x01);
			addcontentssize(dwArg04, 0x01);
			setwidth(dwArg04, dwArg08);
		}
		else if ((byte) (word32) Mem33[dwArg04 + 0x02B6:byte] > 0x00 && (Mem33[dwArg04 + 0x20:word32] - 0x01 == (int32) ((word16) ((word32) Mem33[dwArg08 + 0x0A:word16])) && (byte) ((word32) Mem33[dwArg04 + 0x02B6:byte]) > 0x00))
			Mem76[dwArg04 + 0x02B6:byte] = ~0x00;
	}
}

// 080869AD: Register word32 feed_table_tag(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg14, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 feed_table_tag(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg14, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 eax_104;
	word32 eax_25 = (word32) (byte) (word32) Mem0[dwArg14 + 0x00:byte];
	if ((Mem0[dwArg0C + 0x00:word32] & 0x08) != 0x00)
	{
		if ((word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] == eax_25)
		{
			Mem91[dwArg0C + 0x00:word32] = Mem0[dwArg0C + 0x00:word32] & ~0x08;
			Mem93[dwArg0C + 0x0C:byte] = 0x00;
			feed_table_block_tag(dwArg04, dwArg08, dwArg0C, 0x00, eax_25);
			eax_104 = 0x00;
		}
		else
			eax_104 = 0x04;
	}
	else if ((Mem0[dwArg0C + 0x00:word32] & 0x0800) != 0x00)
	{
		if (eax_25 <=u 0x5A)
		{
			word32 eax_127 = 0x080CB0A8[(eax_25 - 0x1F) * 0x04];
			word32 esp_129;
			word32 ebp_130;
			word32 edi_131;
			word32 esi_132;
			word32 ebx_133;
			byte SCZO_134;
			word32 eax_135;
			byte al_136;
			byte SZO_137;
			byte C_138;
			byte Z_139;
			word32 edx_140;
			byte CZ_141;
			byte SO_142;
			eax_127();
			return eax_135;
		}
		eax_104 = 0x01;
	}
	else if ((Mem0[dwArg0C + 0x00:word32] & 0x02) != 0x00)
	{
		if ((word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] == eax_25)
		{
			Mem164[dwArg0C + 0x00:word32] = Mem0[dwArg0C + 0x00:word32] & ~0x02;
			Mem166[dwArg0C + 0x0C:byte] = 0x00;
			eax_104 = 0x00;
		}
		else
			eax_104 = 0x04;
	}
	else if ((Mem0[dwArg0C + 0x00:word32] & 0x04) != 0x00)
	{
		if ((word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] == eax_25)
		{
			Mem190[dwArg0C + 0x00:word32] = Mem0[dwArg0C + 0x00:word32] & ~0x04;
			Mem192[dwArg0C + 0x0C:byte] = 0x00;
			eax_104 = 0x00;
		}
		else
			eax_104 = 0x04;
	}
	else if ((Mem0[dwArg0C + 0x00:word32] & 0x1000) != 0x00)
	{
		if (eax_25 <=u 0x5A)
		{
			word32 eax_208 = 0x080CB198[(eax_25 - 0x1F) * 0x04];
			word32 esp_210;
			word32 ebp_211;
			word32 edi_212;
			word32 esi_213;
			word32 ebx_214;
			byte SCZO_215;
			word32 eax_216;
			byte al_217;
			byte SZO_218;
			byte C_219;
			byte Z_220;
			word32 edx_221;
			byte CZ_222;
			byte SO_223;
			eax_208();
			return eax_216;
		}
		eax_104 = 0x01;
	}
	else if ((byte) (word32) Mem0[dwArg0C + 0x05:byte] != 0x00)
	{
		if (eax_25 <=u 0x5A)
		{
			word32 eax_237 = 0x080CB288[(eax_25 - 0x1F) * 0x04];
			word32 esp_239;
			word32 ebp_240;
			word32 edi_241;
			word32 esi_242;
			word32 ebx_243;
			byte SCZO_244;
			word32 eax_245;
			byte al_246;
			byte SZO_247;
			byte C_248;
			byte Z_249;
			word32 edx_250;
			byte CZ_251;
			byte SO_252;
			eax_237();
			return eax_245;
		}
		eax_104 = 0x01;
	}
	else if ((byte) (Mem0[dwArg0C + 0x00:word32] & 0x01) != 0x00 && (eax_25 >= 0x32 && (eax_25 <= 0x33 || eax_25 <=u ~0x80)))
		eax_104 = 0x00;
	else
	{
		if (eax_25 <=u 0x8C)
		{
			word32 eax_271 = 135050104[eax_25 * 0x04];
			word32 esp_273;
			word32 ebp_274;
			word32 edi_275;
			word32 esi_276;
			word32 ebx_277;
			byte SCZO_278;
			word32 eax_279;
			byte al_280;
			byte SZO_281;
			byte C_282;
			byte Z_283;
			word32 edx_284;
			byte CZ_285;
			byte SO_286;
			eax_271();
			return eax_279;
		}
		eax_104 = 0x01;
	}
	word32 ebp_76;
	*ebpOut = ebp;
	word32 esp_77;
	*espOut = fp;
	return eax_104;
}

// 0808822A: Register word32 feed_table(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg14)
word32 feed_table(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg14)
{
	word32 eax_104;
	word32 ebp_43 = fp - 0x04;
	word32 esp_44 = fp - 0x5C;
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] != 0x3C || ((byte) ((word32) Mem0[dwArg08 + 0x01:byte]) == 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg08 + 0x01:byte])) + 0x080DB700:byte])) & 0x04) == 0x00 && ((byte) ((word32) Mem0[dwArg08 + 0x01:byte]) != 0x2F && ((byte) ((word32) Mem0[dwArg08 + 0x01:byte]) != 33 && ((byte) ((word32) Mem0[dwArg08 + 0x01:byte]) != 0x3F && ((byte) ((word32) Mem0[dwArg08 + 0x01:byte]) != 0x00 && (byte) ((word32) Mem0[dwArg08 + 0x01:byte]) != 0x5F))))))
	{
		if ((Mem0[dwArg0C + 0x00:word32] & 0x00300000) != 0x00)
		{
			eax_104 = ~0x00;
			return eax_104;
		}
		goto l08088396;
	}
	Mem741[fp - 0x20 + 0x00:word32] = parse_tag(fp - 0x04, gs, fp - 0x14, dwArg14);
	if (Mem741[fp - 0x20 + 0x00:word32] == 0x00)
	{
		if ((Mem741[Mem741[fp + 0x0C:word32] + 0x00:word32] & 0x180E) == 0x00)
		{
			eax_104 = ~0x00;
			return eax_104;
		}
		goto l08088396;
	}
	Mem745[fp - 0x4C + 0x00:word32] = Mem741[fp - 0x20 + 0x00:word32];
	Mem747[fp - 0x50 + 0x00:word32] = Mem745[fp + 0x10:word32];
	Mem749[fp - 0x54 + 0x00:word32] = Mem747[fp + 0x0C:word32];
	Mem751[fp - 88 + 0x00:word32] = Mem749[fp + 0x08:word32];
	Mem753[fp - 0x5C + 0x00:word32] = Mem751[fp + 0x04:word32];
	word32 eax_757 = feed_table_tag(dwArg00, dwArg04, dwArg08, dwArg10, out esp_44, out ebp_43);
	if (eax_757 == 0x02)
	{
		eax_104 = 0x01;
		return eax_104;
	}
	if (eax_757 <= 0x02)
	{
		if (eax_757 == 0x00)
		{
			eax_104 = ~0x00;
			return eax_104;
		}
	}
	else
	{
		if (eax_757 == 0x03)
		{
			eax_104 = 0x00;
			return eax_104;
		}
		if (eax_757 == 0x04)
		{
l08088396:
			if ((byte) (word32) Mem0[Mem0[ebp_43 + 0x10:word32] + 0x05:byte] != 0x00)
			{
				word32 eax_52 = Mem0[Mem0[ebp_43 + 0x08:word32] + 0x3C:word32];
				Mem54[esp_44 + 0x04:word32] = Mem0[ebp_43 + 0x0C:word32];
				Mem55[esp_44 + 0x00:word32] = eax_52;
				Strcat_charp(dwArg00, dwArg04);
				eax_104 = ~0x00;
				return eax_104;
			}
			if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x02) != 0x00)
			{
				eax_104 = ~0x00;
				return eax_104;
			}
			if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x04) != 0x00)
			{
				eax_104 = ~0x00;
				return eax_104;
			}
			if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x0800) != 0x00)
			{
				Mem91[esp_44 + 0x00:word32] = Mem0[ebp_43 + 0x0C:word32];
				feed_textarea(ebp_43, dwArg00);
				eax_104 = ~0x00;
				return eax_104;
			}
			if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x1000) != 0x00)
			{
				word32 eax_101 = Mem0[ebp_43 + 0x0C:word32];
				Mem102[esp_44 + 0x00:word32] = eax_101;
				feed_select(eax_101, ebp_43, gs);
				eax_104 = ~0x00;
				return eax_104;
			}
			if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x08) == 0x00)
			{
				if ((byte) (word32) Mem0[Mem0[ebp_43 + 0x0C:word32] + 0x00:byte] != 0x3C)
				{
l08088468:
					Mem429[esp_44 + 0x04:word32] = 0x26;
					Mem431[esp_44 + 0x00:word32] = Mem429[ebp_43 + 0x0C:word32];
					word32 eax_432 = strchr(Mem431[esp_44 + 0x00:(ptr char)], Mem431[esp_44 + 0x04:char]);
					if (eax_432 != 0x00)
					{
						Strnew(eax_432);
						Mem438[ebp_43 - 0x14 + 0x00:word32] = eax_432;
						Mem440[ebp_43 - 0x10 + 0x00:word32] = Mem438[ebp_43 + 0x0C:word32];
						while ((byte) (word32) Mem440[Mem440[ebp_43 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
						{
							if ((byte) (word32) Mem440[Mem440[ebp_43 - 0x10 + 0x00:word32] + 0x00:byte] != 0x26)
							{
								if (Mem440[Mem440[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem440[Mem440[(ebp_43 - 0x14) + 0x00:word32] + 0x08:word32])
								{
									Mem686[esp_44 + 0x00:word32] = Mem440[ebp_43 - 0x14 + 0x00:word32];
									Strgrow(dwArg00);
								}
								word32 eax_665 = Mem440[Mem440[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32];
								Mem671[Mem440[Mem440[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + eax_665:byte] = (byte) (word32) Mem440[Mem440[ebp_43 - 0x10 + 0x00:word32] + 0x00:byte];
								Mem674[Mem671[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] = eax_665 + 0x01;
								Mem680[Mem674[Mem674[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + Mem674[Mem674[(ebp_43 - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
								Mem684[ebp_43 - 0x10 + 0x00:word32] = Mem680[ebp_43 - 0x10 + 0x00:word32] + 0x01;
								continue;
							}
							word32 eax_461 = Mem440[ebp_43 - 0x10 + 0x00:word32];
							Mem462[esp_44 + 0x08:word32] = 0x05;
							Mem463[esp_44 + 0x04:word32] = 0x080CB5AC;
							Mem464[esp_44 + 0x00:word32] = eax_461;
							if (strncasecmp(Mem464[esp_44 + 0x00:(ptr char)], Mem464[esp_44 + 0x04:(ptr char)], Mem464[esp_44 + 0x08:int32]) == 0x00)
							{
l08088501:
								if (Mem464[Mem464[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem464[Mem464[(ebp_43 - 0x14) + 0x00:word32] + 0x08:word32])
								{
									Mem503[esp_44 + 0x00:word32] = Mem464[ebp_43 - 0x14 + 0x00:word32];
									Strgrow(dwArg00);
								}
								word32 eax_482 = Mem464[Mem464[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32];
								Mem488[Mem464[Mem464[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + eax_482:byte] = (byte) (word32) Mem464[Mem464[ebp_43 - 0x10 + 0x00:word32] + 0x00:byte];
								Mem491[Mem488[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] = eax_482 + 0x01;
								Mem497[Mem491[Mem491[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + Mem491[Mem491[(ebp_43 - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
								Mem501[ebp_43 - 0x10 + 0x00:word32] = Mem497[ebp_43 - 0x10 + 0x00:word32] + 0x01;
								continue;
							}
							word32 eax_504 = Mem464[ebp_43 - 0x10 + 0x00:word32];
							Mem505[esp_44 + 0x08:word32] = 0x04;
							Mem506[esp_44 + 0x04:word32] = 0x080CB5B2;
							Mem507[esp_44 + 0x00:word32] = eax_504;
							if (strncasecmp(Mem507[esp_44 + 0x00:(ptr char)], Mem507[esp_44 + 0x04:(ptr char)], Mem507[esp_44 + 0x08:int32]) == 0x00)
								goto l08088501;
							word32 eax_512 = Mem507[ebp_43 - 0x10 + 0x00:word32];
							Mem513[esp_44 + 0x08:word32] = 0x04;
							Mem514[esp_44 + 0x04:word32] = 0x080CB5B7;
							Mem515[esp_44 + 0x00:word32] = eax_512;
							if (strncasecmp(Mem515[esp_44 + 0x00:(ptr char)], Mem515[esp_44 + 0x04:(ptr char)], Mem515[esp_44 + 0x08:int32]) == 0x00)
								goto l08088501;
							Mem521[ebp_43 - 0x20 + 0x00:word32] = Mem515[ebp_43 - 0x10 + 0x00:word32];
							Mem523[esp_44 + 0x00:word32] = ebp_43 - 0x10;
							Mem525[ebp_43 - 0x28 + 0x00:word32] = getescapechar(dwArg00);
							word32 eax_526 = Mem525[ebp_43 - 0x28 + 0x00:word32];
							if (eax_526 != 0x26)
							{
								if (eax_526 <= 0x26)
								{
									if (eax_526 == ~0x00)
										goto l080886C0;
									if (eax_526 == 0x0D)
									{
										if (Mem525[Mem525[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem525[Mem525[(ebp_43 - 0x14) + 0x00:word32] + 0x08:word32])
										{
											Mem641[esp_44 + 0x00:word32] = Mem525[ebp_43 - 0x14 + 0x00:word32];
											Strgrow(dwArg00);
										}
										word32 eax_627 = Mem525[Mem525[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32];
										Mem630[Mem525[Mem525[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + eax_627:byte] = 0x0A;
										Mem633[Mem630[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] = eax_627 + 0x01;
										Mem639[Mem633[Mem633[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + Mem633[Mem633[(ebp_43 - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
										continue;
									}
								}
								else
								{
									if (eax_526 == 0x3C)
									{
										Mem649[esp_44 + 0x04:word32] = 0x080CB5B7;
										Mem651[esp_44 + 0x00:word32] = Mem649[ebp_43 - 0x14 + 0x00:word32];
										Strcat_charp(dwArg00, dwArg04);
										continue;
									}
									if (eax_526 == 0x3E)
									{
										Mem646[esp_44 + 0x04:word32] = 0x080CB5B2;
										Mem648[esp_44 + 0x00:word32] = Mem646[ebp_43 - 0x14 + 0x00:word32];
										Strcat_charp(dwArg00, dwArg04);
										continue;
									}
								}
								Mem568[esp_44 + 0x00:word32] = Mem525[ebp_43 - 0x28 + 0x00:word32];
								Mem570[ebp_43 - 0x24 + 0x00:word32] = conv_entity(dwArg00);
								if (Mem570[ebp_43 - 0x24 + 0x00:word32] != 0x00)
								{
									Mem574[esp_44 + 0x00:word32] = Mem570[ebp_43 - 0x24 + 0x00:word32];
									if (strlen(Mem574[esp_44 + 0x00:(ptr char)]) == 0x01 && (word32) ((byte) ((word32) Mem574[Mem574[(ebp_43 - 0x24) + 0x00:word32] + 0x00:byte])) == Mem574[(ebp_43 - 0x28) + 0x00:word32])
									{
										if (Mem574[Mem574[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem574[Mem574[(ebp_43 - 0x14) + 0x00:word32] + 0x08:word32])
										{
											Mem612[esp_44 + 0x00:word32] = Mem574[ebp_43 - 0x14 + 0x00:word32];
											Strgrow(dwArg00);
										}
										word32 eax_594 = Mem574[Mem574[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32];
										Mem601[Mem574[Mem574[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + eax_594:byte] = (byte) (word32) Mem574[Mem574[ebp_43 - 0x24 + 0x00:word32] + 0x00:byte];
										Mem604[Mem601[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] = eax_594 + 0x01;
										Mem610[Mem604[Mem604[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + Mem604[Mem604[(ebp_43 - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
										continue;
									}
								}
l080886C0:
								if (Mem525[Mem525[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem525[Mem525[(ebp_43 - 0x14) + 0x00:word32] + 0x08:word32])
								{
									Mem566[esp_44 + 0x00:word32] = Mem525[ebp_43 - 0x14 + 0x00:word32];
									Strgrow(dwArg00);
								}
								word32 eax_545 = Mem525[Mem525[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32];
								Mem551[Mem525[Mem525[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + eax_545:byte] = (byte) (word32) Mem525[Mem525[ebp_43 - 0x20 + 0x00:word32] + 0x00:byte];
								Mem554[Mem551[ebp_43 - 0x14 + 0x00:word32] + 0x04:word32] = eax_545 + 0x01;
								Mem560[Mem554[Mem554[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32] + Mem554[Mem554[(ebp_43 - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
								Mem564[ebp_43 - 0x10 + 0x00:word32] = Mem560[ebp_43 - 0x20 + 0x00:word32] + 0x01;
								continue;
							}
							Mem652[esp_44 + 0x04:word32] = 0x080CB5AC;
							Mem654[esp_44 + 0x00:word32] = Mem652[ebp_43 - 0x14 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						Mem455[ebp_43 + 0x0C:word32] = Mem440[Mem440[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32];
					}
					goto l08088788;
				}
				Mem688[esp_44 + 0x00:word32] = Mem0[ebp_43 + 0x0C:word32];
				if ((byte) (word32) Mem688[strlen(Mem688[esp_44 + 0x00:(ptr char)]) - 0x01 + Mem688[ebp_43 + 0x0C:word32]:byte] != 0x3E)
					goto l08088468;
			}
l08088788:
			if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x020F) == 0x00)
			{
				if ((Mem0[Mem0[ebp_43 + 0x08:word32] + 0x38:word32] & 0x04) == 0x00 || (byte) ((word32) Mem0[Mem0[(ebp_43 - 0x18) + 0x00:word32] + 0x02:byte]) != 0x00)
				{
					while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[ebp_43 + 0x0C:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
						Mem231[ebp_43 + 0x0C:word32] = Mem0[ebp_43 + 0x0C:word32] + 0x01;
				}
				if ((byte) (word32) Mem0[Mem0[ebp_43 + 0x0C:word32] + 0x00:byte] == 0x00)
				{
					eax_104 = ~0x00;
					return eax_104;
				}
				Mem154[esp_44 + 0x04:word32] = Mem0[ebp_43 + 0x10:word32];
				Mem156[esp_44 + 0x00:word32] = Mem154[ebp_43 + 0x08:word32];
				check_rowcol(dwArg00, dwArg04);
				if ((Mem156[Mem156[ebp_43 + 0x10:word32] + 0x00:word32] & 0x80) != 0x00 && (word16) ((word32) Mem156[Mem156[ebp_43 + 0x10:word32] + 0x06:word16]) < 0x00)
					Mem217[Mem156[ebp_43 + 0x10:word32] + 0x06:word16] = (word16) Mem156[Mem156[ebp_43 + 0x08:word32] + 0x20:word32];
				Mem174[esp_44 + 0x0C:word32] = (word32) ((Mem156[Mem156[ebp_43 + 0x10:word32] + 0x00:word32] & 0x80) == 0x00);
				Mem176[esp_44 + 0x08:word32] = Mem174[ebp_43 - 0x18 + 0x00:word32];
				Mem178[esp_44 + 0x04:word32] = Mem176[ebp_43 + 0x0C:word32];
				Mem180[esp_44 + 0x00:word32] = Mem178[ebp_43 + 0x08:word32];
				Mem183[ebp_43 - 0x0C + 0x00:word32] = skip_space(ebp_43, dwArg04, dwArg08, dwArg0C);
				Mem185[esp_44 + 0x00:word32] = Mem183[ebp_43 + 0x0C:word32];
				Mem189[esp_44 + 0x04:word32] = visible_length(ebp_43, dwArg00) - Mem185[(ebp_43 - 0x0C) + 0x00:word32];
				Mem191[esp_44 + 0x00:word32] = Mem189[ebp_43 + 0x08:word32];
				addcontentssize(dwArg00, dwArg04);
				Mem193[esp_44 + 0x04:word32] = Mem191[ebp_43 + 0x10:word32];
				Mem195[esp_44 + 0x00:word32] = Mem193[ebp_43 + 0x08:word32];
				setwidth(dwArg00, dwArg04);
				word32 edx_197 = Mem195[Mem195[ebp_43 + 0x08:word32] + 0x04:word32];
				word32 eax_199 = Mem195[Mem195[ebp_43 + 0x08:word32] + 0x00:word32];
				Mem201[esp_44 + 0x0C:word32] = Mem195[ebp_43 + 0x0C:word32];
				Mem202[esp_44 + 0x08:word32] = edx_197;
				Mem203[esp_44 + 0x04:word32] = eax_199;
				Mem205[esp_44 + 0x00:word32] = Mem203[ebp_43 + 0x08:word32];
				pushdata(dwArg00, dwArg04, dwArg08, dwArg0C);
			}
			else if ((Mem0[Mem0[ebp_43 + 0x10:word32] + 0x00:word32] & 0x0200) != 0x00)
			{
				Mem246[esp_44 + 0x04:word32] = Mem0[ebp_43 + 0x10:word32];
				Mem248[esp_44 + 0x00:word32] = Mem246[ebp_43 + 0x08:word32];
				check_rowcol(dwArg00, dwArg04);
				if ((word16) (word32) Mem248[Mem248[ebp_43 + 0x10:word32] + 0x06:word16] < 0x00)
					Mem284[Mem248[ebp_43 + 0x10:word32] + 0x06:word16] = (word16) Mem248[Mem248[ebp_43 + 0x08:word32] + 0x20:word32];
				Mem258[esp_44 + 0x04:word32] = Mem248[Mem248[ebp_43 + 0x08:word32] + 0x20:word32];
				Mem260[esp_44 + 0x00:word32] = Mem258[ebp_43 + 0x0C:word32];
				Mem262[esp_44 + 0x04:word32] = maximum_visible_length(dwArg00, dwArg04);
				Mem264[esp_44 + 0x00:word32] = Mem262[ebp_43 + 0x08:word32];
				addcontentssize(dwArg00, dwArg04);
				Mem266[esp_44 + 0x04:word32] = Mem264[ebp_43 + 0x10:word32];
				Mem268[esp_44 + 0x00:word32] = Mem266[ebp_43 + 0x08:word32];
				setwidth(dwArg00, dwArg04);
				word32 edx_270 = Mem268[Mem268[ebp_43 + 0x08:word32] + 0x04:word32];
				word32 eax_272 = Mem268[Mem268[ebp_43 + 0x08:word32] + 0x00:word32];
				Mem274[esp_44 + 0x0C:word32] = Mem268[ebp_43 + 0x0C:word32];
				Mem275[esp_44 + 0x08:word32] = edx_270;
				Mem276[esp_44 + 0x04:word32] = eax_272;
				Mem278[esp_44 + 0x00:word32] = Mem276[ebp_43 + 0x08:word32];
				pushdata(dwArg00, dwArg04, dwArg08, dwArg0C);
			}
			else
			{
				Mem286[esp_44 + 0x04:word32] = Mem0[ebp_43 + 0x10:word32];
				Mem288[esp_44 + 0x00:word32] = Mem286[ebp_43 + 0x08:word32];
				check_rowcol(dwArg00, dwArg04);
				while ((byte) (word32) Mem288[Mem288[ebp_43 + 0x0C:word32] + 0x00:byte] != 0x00)
				{
					Mem298[ebp_43 - 44 + 0x00:word32] = 0x00;
					Mem299[esp_44 + 0x04:word32] = 0x0D;
					Mem301[esp_44 + 0x00:word32] = Mem299[ebp_43 + 0x0C:word32];
					Mem303[ebp_43 - 0x10 + 0x00:word32] = strchr(Mem301[esp_44 + 0x00:(ptr char)], Mem301[esp_44 + 0x04:char]);
					if (Mem303[ebp_43 - 0x10 + 0x00:word32] == 0x00)
					{
						Mem411[esp_44 + 0x04:word32] = 0x0A;
						Mem413[esp_44 + 0x00:word32] = Mem411[ebp_43 + 0x0C:word32];
						Mem415[ebp_43 - 0x10 + 0x00:word32] = strchr(Mem413[esp_44 + 0x00:(ptr char)], Mem413[esp_44 + 0x04:char]);
						if (Mem415[ebp_43 - 0x10 + 0x00:word32] != 0x00)
							goto l080889A6;
						Mem421[ebp_43 - 0x10 + 0x00:word32] = Mem415[ebp_43 + 0x0C:word32];
						Mem422[ebp_43 + 0x0C:word32] = 0x080CB060;
					}
					else
					{
l080889A6:
						if ((byte) (word32) Mem303[Mem303[ebp_43 - 0x10 + 0x00:word32] + 0x00:byte] == 0x0D && (byte) ((word32) Mem303[Mem303[(ebp_43 - 0x10) + 0x00:word32] + 0x01:byte]) == 0x0A)
							Mem410[ebp_43 - 0x10 + 0x00:word32] = Mem303[ebp_43 - 0x10 + 0x00:word32] + 0x01;
						if ((byte) (word32) Mem303[Mem303[ebp_43 - 0x10 + 0x00:word32] + 0x01:byte] != 0x00)
						{
							Mem379[ebp_43 - 0x10 + 0x00:word32] = Mem303[ebp_43 - 0x10 + 0x00:word32] + 0x01;
							Mem387[esp_44 + 0x04:word32] = Mem379[ebp_43 - 0x10 + 0x00:word32] - Mem379[ebp_43 + 0x0C:word32];
							word32 eax_388 = Mem387[ebp_43 + 0x0C:word32];
							Mem389[esp_44 + 0x00:word32] = eax_388;
							word32 edx_390;
							Mem392[ebp_43 - 0x14 + 0x00:word32] = Strnew_charp_n(eax_388, dwArg00, dwArg04, out edx_390);
							Mem394[ebp_43 + 0x0C:word32] = Mem392[ebp_43 - 0x10 + 0x00:word32];
							Mem397[ebp_43 - 0x10 + 0x00:word32] = Mem394[Mem394[ebp_43 - 0x14 + 0x00:word32] + 0x00:word32];
						}
						else
						{
							Mem399[ebp_43 - 0x10 + 0x00:word32] = Mem303[ebp_43 + 0x0C:word32];
							Mem400[ebp_43 + 0x0C:word32] = 0x080CB060;
						}
						Mem376[ebp_43 - 44 + 0x00:word32] = 0x01;
					}
					if ((Mem303[Mem303[ebp_43 + 0x10:word32] + 0x00:word32] & 0x08) != 0x00)
					{
						word32 eax_345 = Mem303[ebp_43 - 0x10 + 0x00:word32];
						Mem346[esp_44 + 0x04:word32] = Mem303[Mem303[ebp_43 + 0x08:word32] + 0x20:word32];
						Mem347[esp_44 + 0x00:word32] = eax_345;
						Mem349[ebp_43 - 0x0C + 0x00:word32] = maximum_visible_length_plain(dwArg00, dwArg04);
					}
					else
					{
						word32 eax_352 = Mem303[ebp_43 - 0x10 + 0x00:word32];
						Mem353[esp_44 + 0x04:word32] = Mem303[Mem303[ebp_43 + 0x08:word32] + 0x20:word32];
						Mem354[esp_44 + 0x00:word32] = eax_352;
						Mem356[ebp_43 - 0x0C + 0x00:word32] = maximum_visible_length(dwArg00, dwArg04);
					}
					Mem320[esp_44 + 0x04:word32] = Mem303[ebp_43 - 0x0C + 0x00:word32];
					Mem322[esp_44 + 0x00:word32] = Mem320[ebp_43 + 0x08:word32];
					addcontentssize(dwArg00, dwArg04);
					Mem324[esp_44 + 0x04:word32] = Mem322[ebp_43 + 0x10:word32];
					Mem326[esp_44 + 0x00:word32] = Mem324[ebp_43 + 0x08:word32];
					setwidth(dwArg00, dwArg04);
					if (Mem326[ebp_43 - 44 + 0x00:word32] != 0x00)
					{
						Mem340[esp_44 + 0x04:word32] = Mem326[ebp_43 + 0x10:word32];
						Mem342[esp_44 + 0x00:word32] = Mem340[ebp_43 + 0x08:word32];
						clearcontentssize(dwArg00, dwArg04);
					}
					word32 edx_331 = Mem326[Mem326[ebp_43 + 0x08:word32] + 0x04:word32];
					word32 eax_333 = Mem326[Mem326[ebp_43 + 0x08:word32] + 0x00:word32];
					Mem334[esp_44 + 0x0C:word32] = Mem326[ebp_43 - 0x10 + 0x00:word32];
					Mem335[esp_44 + 0x08:word32] = edx_331;
					Mem336[esp_44 + 0x04:word32] = eax_333;
					Mem338[esp_44 + 0x00:word32] = Mem336[ebp_43 + 0x08:word32];
					pushdata(dwArg00, dwArg04, dwArg08, dwArg0C);
				}
			}
			eax_104 = ~0x00;
			return eax_104;
		}
	}
	if ((byte) (word32) Mem753[Mem753[ebp_43 - 0x1C + 0x00:word32] + 0x10:byte] != 0x00)
	{
		Mem772[esp_44 + 0x00:word32] = Mem753[ebp_43 - 0x1C + 0x00:word32];
		Mem775[ebp_43 + 0x0C:word32] = Mem772[parsedtag2str(ebp_43, dwArg00) + 0x00:word32];
	}
	goto l08088396;
}

// 08088AE3: void feed_table1(Register word32 eax, Register word32 ebp, Register selector gs, Stack word32 dwArg08)
void feed_table1(word32 eax, word32 ebp, selector gs, word32 dwArg08)
{
	if (dwArg08 != 0x00)
	{
		Strnew(eax);
		while (true)
		{
			word32 eax_31 = Mem0[Mem0[fp + 0x0C:word32] + 0x00:word32];
			Mem35[fp - 44 + 0x00:word32] = 0x00;
			Mem36[fp - 0x30 + 0x00:word32] = eax_31 & 0x0A0F;
			Mem38[fp - 0x34 + 0x00:word32] = fp - 0x14;
			Mem40[fp - 0x38 + 0x00:word32] = fp - 0x18;
			Mem42[fp - 0x3C + 0x00:word32] = Mem40[fp - 0x10 + 0x00:word32];
			if (read_token(fp - 0x04, dwArg00, dwArg04, dwArg10) == 0x00)
				break;
			word32 eax_51 = Mem42[Mem42[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem52[fp - 44 + 0x00:word32] = 0x01;
			Mem54[fp - 0x30 + 0x00:word32] = Mem52[fp + 0x10:word32];
			Mem56[fp - 0x34 + 0x00:word32] = Mem54[fp + 0x0C:word32];
			Mem57[fp - 0x38 + 0x00:word32] = eax_51;
			Mem59[fp - 0x3C + 0x00:word32] = Mem57[fp + 0x04:word32];
			feed_table(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg10);
		}
	}
}

// 08088B6A: void pushTable(Stack word32 dwArg04, Stack word32 dwArg08)
void pushTable(word32 dwArg04, word32 dwArg08)
{
	word32 eax_13 = Mem0[dwArg04 + 0x04:word32];
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	if ((word16) (word32) Mem0[dwArg04 + 0x02AC:word16] >= (word16) ((word32) Mem0[dwArg04 + 686:word16]))
	{
		word16 dx_171 = (word16) ((word32) Mem0[dwArg04 + 686:word16] + 0x14);
		Mem173[dwArg04 + 686:word16] = dx_171;
		word32 esp_183;
		word32 ebp_184;
		word32 ebx_185;
		byte SCZO_186;
		word32 eax_187;
		word32 edx_188;
		word16 dx_189;
		word16 ax_190;
		byte SO_191;
		byte SZO_192;
		byte C_193;
		byte Z_194;
		byte al_195;
		!GC_malloc();
		if (Mem173[dwArg04 + 0x02A8:word32] != 0x00)
		{
			word32 esp_232;
			word32 ebp_233;
			word32 ebx_234;
			byte SCZO_235;
			word32 eax_236;
			word32 edx_237;
			word16 dx_238;
			word16 ax_239;
			byte SO_240;
			byte SZO_241;
			byte C_242;
			byte Z_243;
			byte al_244;
			!bcopy();
		}
		Mem218[dwArg04 + 0x02A8:word32] = eax_187;
	}
	Mem0[dwArg04 + 0x02A8:word32][(int32) (word16) (word32) Mem0[dwArg04 + 0x02AC:word16] * 0x10] = dwArg08;
	Mem61[Mem50[dwArg04 + 0x02A8:word32] + ((int32) ((word16) ((word32) Mem50[dwArg04 + 0x02AC:word16])) << 0x04) + 0x04:word16] = (word16) eax_13;
	Mem72[Mem61[dwArg04 + 0x02A8:word32] + ((int32) ((word16) ((word32) Mem61[dwArg04 + 0x02AC:word16])) << 0x04) + 0x06:word16] = (word16) eax_16;
	Mem84[Mem72[dwArg04 + 0x02A8:word32] + ((int32) ((word16) ((word32) Mem72[dwArg04 + 0x02AC:word16])) << 0x04) + 0x0A:word16] = (word16) Mem72[dwArg04 + 0x24:word32];
	word32 eax_90 = (int32) (word16) (word32) Mem84[dwArg04 + 0x02AC:word16];
	word32 ebx_93 = Mem84[dwArg04 + 0x02A8:word32] + (eax_90 << 0x04);
	newGeneralList(eax_90 << 0x04);
	Mem94[ebx_93 + 0x0C:word32] = eax_90 << 0x04;
	check_row(dwArg04, eax_16);
	if (eax_13 + 0x01 <= Mem94[dwArg04 + 0x0C:word32] && (byte) ((word32) ((word16) ((word32) (Mem94[dwArg04 + 0x48:word32])[eax_16 * 0x04][(eax_13 + 0x01) * 0x02])) & 0x01) != 0x00)
		Mem166[Mem94[dwArg04 + 0x02A8:word32] + ((int32) ((word16) ((word32) Mem94[dwArg04 + 0x02AC:word16])) << 0x04) + 0x08:word16] = (word16) (word32) Mem94[dwArg04 + 0x01FE:word16];
	else
		Mem135[Mem94[dwArg04 + 0x02A8:word32] + ((int32) ((word16) ((word32) Mem94[dwArg04 + 0x02AC:word16])) << 0x04) + 0x08:word16] = ~0x00;
	Mem115[dwArg04 + 0x02AC:word16] = (word16) ((word32) Mem94[dwArg04 + 0x02AC:word16] + 0x01);
}

// 08088D64: void correct_table_matrix(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack int32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18)
void correct_table_matrix(word32 dwArg04, word32 dwArg08, word32 dwArg0C, int32 dwArg10, word32 dwArg14, word32 dwArg18)
{
	real64 rLoc2C_15 = DPB(rLoc2C, dwArg18, 32);
	word32 eax_20 = dwArg08 + dwArg0C;
	real64 rLoc1_25 = 1.0 / (rLoc2C_15 * rLoc2C_15);
	word32 dwLoc08_28 = dwArg08;
	while (dwLoc08_28 < eax_20)
	{
		Mem0[Mem0[dwArg04 + 0x02C4:word32] + 0x00:word32][dwLoc08_28 * 0x08] = Mem0[Mem0[dwArg04 + 0x02C4:word32] + 0x00:word32][dwLoc08_28 * 0x08] + (real64) dwArg10 * rLoc1_25;
		word32 dwLoc0C_123 = dwLoc08_28;
		while (dwLoc0C_123 < eax_20)
		{
			Mem64[Mem64[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem64[Mem64[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_28 + dwLoc0C_123) * 0x08] = Mem64[Mem64[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem64[Mem64[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_28 + dwLoc0C_123) * 0x08] + rLoc1_25;
			Mem99[Mem99[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem99[Mem99[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc0C_123 + dwLoc08_28) * 0x08] = Mem99[Mem99[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem99[Mem99[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_28 + dwLoc0C_123) * 0x08];
			dwLoc0C_123 = dwLoc0C_123 + 0x01;
		}
		dwLoc08_28 = dwLoc08_28 + 0x01;
	}
}

// 08088E96: void correct_table_matrix2(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
void correct_table_matrix2(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	real64 rLoc34_20 = DPB(rLoc34, dwArg1C, 32);
	word32 eax_25 = dwArg08 + dwArg0C;
	word32 eax_30 = Mem0[dwArg04 + 0x0C:word32];
	real64 rLoc1_37 = 1.0 / (rLoc34_20 * rLoc34_20);
	word32 dwLoc08_39 = 0x00;
	while (dwLoc08_39 < eax_30 + 0x01)
	{
		word32 dwLoc0C_101 = dwLoc08_39;
		while (dwLoc0C_101 < eax_30 + 0x01)
		{
			real64 rLoc24_114;
			if (dwLoc08_39 >= dwArg08 && (dwLoc08_39 < eax_25 && (dwLoc0C_101 >= dwArg08 && dwLoc0C_101 < eax_25)))
				rLoc24_114 = (1.0 - rLoc2C) * (1.0 - rLoc2C);
			else if (dwLoc08_39 >= dwArg08 && dwLoc08_39 < eax_25 || dwLoc0C_101 >= dwArg08 && dwLoc0C_101 < eax_25)
				rLoc24_114 = -(1.0 - rLoc2C) * rLoc2C;
			else
				rLoc24_114 = rLoc2C * rLoc2C;
			Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_39 + dwLoc0C_101) * 0x08] = Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_39 + dwLoc0C_101) * 0x08] + rLoc1_37 * rLoc24_114;
			dwLoc0C_101 = dwLoc0C_101 + 0x01;
		}
		dwLoc08_39 = dwLoc08_39 + 0x01;
	}
}

// 08088FCE: void correct_table_matrix3(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
void correct_table_matrix3(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	real64 rLoc34_20 = DPB(rLoc34, dwArg1C, 32);
	word32 eax_24 = Mem0[dwArg04 + 0x0C:word32];
	real64 rLoc1_30 = 1.0 / (rLoc34_20 * rLoc34_20);
	word32 eax_42 = (word32) ((byte) (word32) Mem0[dwArg08 + dwArg0C:byte] == 0x00);
	word32 dwLoc08_44 = 0x00;
	while (dwLoc08_44 < eax_24 + 0x01)
	{
		if (eax_42 != 0x00 && (byte) ((word32) Mem0[dwLoc08_44 + dwArg0C:byte]) == 0x00 || eax_42 == 0x00 && (byte) ((word32) Mem0[dwLoc08_44 + dwArg0C:byte]) != 0x00)
		{
			word32 dwLoc0C_116 = dwLoc08_44;
			while (dwLoc0C_116 < eax_24 + 0x01)
			{
				if (eax_42 != 0x00 && (byte) ((word32) Mem0[dwLoc0C_116 + dwArg0C:byte]) == 0x00 || eax_42 == 0x00 && (byte) ((word32) Mem0[dwLoc0C_116 + dwArg0C:byte]) != 0x00)
				{
					real64 rLoc1C_125;
					if (dwLoc08_44 == dwArg08 && dwLoc0C_116 == dwArg08)
						rLoc1C_125 = (1.0 - rLoc2C) * (1.0 - rLoc2C);
					else if (dwLoc08_44 != dwArg08 && dwLoc0C_116 != dwArg08)
						rLoc1C_125 = rLoc2C * rLoc2C;
					else
						rLoc1C_125 = -(1.0 - rLoc2C) * rLoc2C;
					Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_44 + dwLoc0C_116) * 0x08] = Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_44 + dwLoc0C_116) * 0x08] + rLoc1_30 * rLoc1C_125;
				}
				dwLoc0C_116 = dwLoc0C_116 + 0x01;
			}
		}
		dwLoc08_44 = dwLoc08_44 + 0x01;
	}
}

// 08089156: void correct_table_matrix4(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20)
void correct_table_matrix4(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg20)
{
	real64 rLoc34_20 = DPB(rLoc34, dwArg20, 32);
	word32 eax_25 = dwArg08 + dwArg0C;
	word32 eax_30 = Mem0[dwArg04 + 0x0C:word32];
	real64 rLoc1_37 = 1.0 / (rLoc34_20 * rLoc34_20);
	word32 dwLoc08_39 = 0x00;
	while (dwLoc08_39 < eax_30 + 0x01)
	{
		if ((byte) (word32) Mem0[dwLoc08_39 + dwArg10:byte] == 0x00 || dwLoc08_39 >= dwArg08 && dwLoc08_39 < eax_25)
		{
			word32 dwLoc0C_100 = dwLoc08_39;
			while (dwLoc0C_100 < eax_30 + 0x01)
			{
				if ((byte) (word32) Mem0[dwLoc0C_100 + dwArg10:byte] == 0x00 || dwLoc0C_100 >= dwArg08 && dwLoc0C_100 < eax_25)
				{
					real64 rLoc1C_125;
					if (dwLoc08_39 >= dwArg08 && (dwLoc08_39 < eax_25 && (dwLoc0C_100 >= dwArg08 && dwLoc0C_100 < eax_25)))
						rLoc1C_125 = (1.0 - rLoc2C) * (1.0 - rLoc2C);
					else if (dwLoc08_39 >= dwArg08 && dwLoc08_39 < eax_25 || dwLoc0C_100 >= dwArg08 && dwLoc0C_100 < eax_25)
						rLoc1C_125 = -(1.0 - rLoc2C) * rLoc2C;
					else
						rLoc1C_125 = rLoc2C * rLoc2C;
					Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_39 + dwLoc0C_100) * 0x08] = Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem0[Mem0[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc08_39 + dwLoc0C_100) * 0x08] + rLoc1_37 * rLoc1C_125;
				}
				dwLoc0C_100 = dwLoc0C_100 + 0x01;
			}
		}
		dwLoc08_39 = dwLoc08_39 + 0x01;
	}
}

// 080892E4: void set_table_matrix0(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack int32 dwArg08)
void set_table_matrix0(word32 ebp, selector gs, word32 dwArg04, int32 dwArg08)
{
	word32 eax_27 = Mem0[dwArg04 + 0x0C:word32];
	word32 eax_21 = Mem0[gs:0x14:word32];
	__shld(0x00, DPB(eax_27 + 0x01, SLICE(eax_27 + 0x01, byte, 8) & ~0x00, 8), 0x06);
	__shld(0x00, DPB(eax_27 + 0x01, SLICE(eax_27 + 0x01, byte, 8) & ~0x00, 8), 0x06);
	__shld(0x00, DPB(eax_27 + 0x01, SLICE(eax_27 + 0x01, byte, 8) & ~0x00, 8), 0x03);
	__shld(0x00, DPB(eax_27 + 0x01, SLICE(eax_27 + 0x01, byte, 8) & ~0x00, 8), 0x03);
	word32 esp_81 = fp - 0xEC - (((eax_27 + 0x01 << 0x03) + 0x1E >>u 0x04) << 0x04);
	word32 esp_143 = esp_81 - ((eax_27 + 0x1F >>u 0x04) << 0x04);
	word32 eax_84 = esp_81 + 0x2F >>u 0x04;
	word32 eax_146 = esp_143 + 0x2F >>u 0x04;
	real64 rLoc5C_154 = 0.0;
	word32 dwLoc28_155 = 0x28;
	while (dwLoc28_155 < eax_27 + 0x01)
	{
		Mem809[esp_143 + 0x00:word32] = (int32) (word16) (word32) (dwArg04 + 0x08)[(dwLoc28_155 + 0x00) * 0x02];
		(dwLoc28_155 * 0x08)[eax_84 * 0x10] = weight(dwArg00, rArg0, out rArg0);
		rLoc5C_154 = (dwLoc28_155 * 0x08)[eax_84 * 0x10] + rLoc5C_154;
		dwLoc28_155 = dwLoc28_155 + 0x01;
	}
	byte al_175 = 0.0 >=u rLoc5C_154;
	if (al_175 != 0x00)
		rLoc5C_154 = 1.0;
	word16 ax_183 = (word16) (word32) Mem0[dwArg04 + 0x0228:word16];
	if (ax_183 == 0x00)
	{
		word32 dwLoc28_240 = 0x00;
		while (dwLoc28_240 < eax_27 + 0x01)
		{
			real64 rLoc1_275 = (dwLoc28_240 * 0x08)[eax_84 * 0x10] / rLoc5C_154;
			word16 wLoc82_280 = __fstcw();
			ax_183 = DPB(ax_183, 0x0C, 8);
			__fldcw(ax_183);
			__fldcw(wLoc82_280);
			Mem287[esp_143 + 0x00:word32] = (int32) ((real64) dwArg08 * rLoc1_275);
			Mem294[esp_143 + 0x14:real64] = weight2(dwArg00) * Mem287[0x080CB628:real64];
			Mem296[esp_143 + 0x0C:real64] = rLoc1_275;
			Mem297[esp_143 + 0x08:word32] = 0x01;
			Mem299[esp_143 + 0x04:word32] = dwLoc28_240;
			Mem301[esp_143 + 0x00:word32] = dwArg04;
			correct_table_matrix2(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
			dwLoc28_240 = dwLoc28_240 + 0x01;
		}
	}
	else
	{
		Mem311[esp_143 + 0x04:word32] = eax_27 + 0x01;
		Mem312[esp_143 + 0x00:word32] = eax_146 << 0x04;
		word32 esp_313;
		word32 ebp_314;
		word32 edi_315;
		word32 esi_316;
		word32 ebx_317;
		byte SCZO_318;
		word32 eax_319;
		byte SZO_321;
		byte C_322;
		word32 ecx_323;
		word32 edx_324;
		byte ch_325;
		byte bh_326;
		byte SO_327;
		byte CZP_328;
		byte al_329;
		byte Z_330;
		word16 ax_331;
		byte ah_332;
		byte cl_333;
		byte CZ_334;
		!bzero();
		word32 dwLoc30_335 = 0x38;
		while ((int32) (word16) (word32) Mem312[dwArg04 + 0x0228:word16] > dwLoc30_335)
		{
			word32 eax_653 = (int32) (word16) (word32) (dwArg04 + 400)[(dwLoc30_335 + 0x00) * 0x02];
			word32 eax_659 = (int32) (word16) (word32) (dwArg04 + 388)[eax_653 * 0x02];
			word32 eax_667 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_653 + 0x10) * 0x02] + eax_659;
			word32 eax_687 = (int32) (word16) (word32) (dwArg04 + 0x018A)[(eax_653 + 0x50) * 0x02] + Mem312[dwArg04 + 0x28:word32] *s (0x01 - (int32) ((word16) ((word32) (dwArg04 + 0x018C)[(eax_653 + 0x10) * 0x02])));
			real64 rLoc64_690 = 0.0;
			word32 dwLoc28_692 = eax_659 + 0x28;
			while (dwLoc28_692 < eax_667)
			{
				rLoc64_690 = (real64) (word16) (word32) (dwArg04 + 0x08)[(dwLoc28_692 + 0x00) * 0x02] + Mem312[0x080CB620:real64] + rLoc64_690;
				dwLoc28_692[eax_146 * 0x10] = (byte) ((word32) dwLoc28_692[eax_146 * 0x10] + 0x01);
				dwLoc28_692 = dwLoc28_692 + 0x01;
			}
			word32 dwLoc28_706 = eax_659 + 0x28;
			while (dwLoc28_706 < eax_667)
			{
				word16 ax_738 = (word16) (word32) (dwArg04 + 0x08)[(dwLoc28_706 + 0x00) * 0x02];
				real64 rLoc1_744 = (real64) eax_687 * ((real64) ax_738 + Mem312[0x080CB620:real64]) / rLoc64_690;
				word16 wLoc82_745 = __fstcw();
				__fldcw(DPB(ax_738, 0x0C, 8));
				__fldcw(wLoc82_745);
				Mem752[esp_313 + 0x00:word32] = (int32) rLoc1_744;
				real64 rLoc1_754 = weight(dwArg00, rArg0, out rArg0);
				if (rLoc1_754 >u (dwLoc28_706 * 0x08)[eax_84 * 0x10] != 0x00)
					(dwLoc28_706 * 0x08)[eax_84 * 0x10] = rLoc1_754;
				dwLoc28_706 = dwLoc28_706 + 0x01;
			}
			dwLoc30_335 = dwLoc30_335 + 0x01;
		}
		real64 rLoc5C_369 = 0.0;
		real64 rLoc64_371 = 0.0;
		word32 dwLoc28_372 = 0x00;
		while (dwLoc28_372 < eax_27 + 0x01)
		{
			rLoc5C_369 = (dwLoc28_372 * 0x08)[eax_84 * 0x10] + rLoc5C_369;
			if ((byte) (word32) dwLoc28_372[eax_146 * 0x10] == 0x00)
				rLoc64_371 = (dwLoc28_372 * 0x08)[eax_84 * 0x10] + rLoc64_371;
			dwLoc28_372 = dwLoc28_372 + 0x01;
		}
		if (0.0 >=u rLoc5C_369 != 0x00)
			rLoc5C_369 = 1.0;
		word32 dwLoc30_397 = 0x38;
		while (true)
		{
			word16 ax_416 = (word16) (word32) Mem312[dwArg04 + 0x0228:word16];
			if ((int32) ax_416 <= dwLoc30_397)
				break;
			word32 eax_545 = (int32) (word16) (word32) (dwArg04 + 400)[(dwLoc30_397 + 0x00) * 0x02];
			word16 ax_563 = (word16) (word32) (dwArg04 + 0x018C)[(eax_545 + 0x10) * 0x02];
			word32 eax_551 = (int32) (word16) (word32) (dwArg04 + 388)[eax_545 * 0x02];
			Mem574[esp_313 + 0x00:word32] = (int32) (word16) (word32) (dwArg04 + 0x018A)[(eax_545 + 0x50) * 0x02] + Mem312[dwArg04 + 0x28:word32] *s (0x01 - (int32) ax_563);
			real64 rLoc1_576 = weight(dwArg00, rArg0, out rArg0);
			word16 wLoc82_585 = __fstcw();
			__fldcw(DPB(ax_563, 0x0C, 8));
			__fldcw(wLoc82_585);
			real64 rLoc1_581 = rLoc1_576 / (rLoc64_371 + rLoc1_576);
			Mem592[esp_313 + 0x00:word32] = (int32) ((real64) dwArg08 * rLoc1_581);
			real64 rLoc1_593 = weight2(dwArg00);
			word32 eax_604 = (int32) (word16) (word32) (dwArg04 + 0x018C)[(eax_545 + 0x10) * 0x02];
			Mem606[esp_313 + 0x18:real64] = rLoc1_593 * Mem592[0x080CB628:real64];
			Mem608[esp_313 + 0x10:real64] = rLoc1_581;
			Mem609[esp_313 + 0x0C:word32] = eax_146 << 0x04;
			Mem610[esp_313 + 0x08:word32] = eax_604;
			Mem612[esp_313 + 0x04:word32] = eax_551;
			Mem614[esp_313 + 0x00:word32] = dwArg04;
			correct_table_matrix4(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
			dwLoc30_397 = dwLoc30_397 + 0x01;
		}
		word32 dwLoc28_420 = 0x00;
		while (dwLoc28_420 < eax_27 + 0x01)
		{
			real64 rLoc7C_461;
			real64 rLoc74_454;
			if ((byte) (word32) dwLoc28_420[eax_146 * 0x10] == 0x00)
			{
				real64 rLoc2_493;
				real64 rLoc1_480 = (dwLoc28_420 * 0x08)[eax_84 * 0x10];
				if (rLoc64_371 >u 1.0 != 0x00)
					rLoc2_493 = rLoc64_371;
				else
					rLoc2_493 = 1.0;
				word16 wLoc82_498 = __fstcw();
				ax_416 = DPB(ax_416, 0x0C, 8);
				__fldcw(ax_416);
				__fldcw(wLoc82_498);
				real64 rLoc1_494 = rLoc1_480 / rLoc2_493;
				Mem505[esp_313 + 0x00:word32] = (int32) ((real64) dwArg08 * rLoc1_494);
				rLoc74_454 = rLoc1_494;
				rLoc7C_461 = weight2(dwArg00) * Mem505[0x080CB628:real64];
			}
			else
			{
				real64 rLoc2_528;
				real64 rLoc1_514 = (dwLoc28_420 * 0x08)[eax_84 * 0x10];
				if (rLoc5C_369 - rLoc64_371 >u 1.0 != 0x00)
					rLoc2_528 = rLoc5C_369 - rLoc64_371;
				else
					rLoc2_528 = 1.0;
				Mem532[esp_313 + 0x00:word32] = dwArg08;
				rLoc74_454 = rLoc1_514 / rLoc2_528;
				rLoc7C_461 = weight2(dwArg00) * Mem532[0x080CB628:real64];
			}
			Mem467[esp_313 + 0x14:real64] = rLoc7C_461;
			Mem469[esp_313 + 0x0C:real64] = rLoc74_454;
			Mem470[esp_313 + 0x08:word32] = eax_146 << 0x04;
			Mem472[esp_313 + 0x04:word32] = dwLoc28_420;
			Mem474[esp_313 + 0x00:word32] = dwArg04;
			correct_table_matrix3(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
			dwLoc28_420 = dwLoc28_420 + 0x01;
		}
	}
	if ((eax_21 ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
}

// 080899B4: void check_relative_width(Stack word32 dwArg04, Stack int32 dwArg08)
void check_relative_width(word32 dwArg04, int32 dwArg08)
{
	ptr32 fp;
	word32 ebp;
	word32 dwArg04;
	<type-error> Mem0;
	real64 rLoc2;
	int16 wLoc62;
	word32 dwLoc28;
	word32 dwLoc2C;
	real64 rLoc4C;
	word32 dwLoc68;
	real64 rLoc44;
	word32 dwLoc24;
	word16 wLoc5E;
	word16 wLoc60;
	word32 dwLoc34;
	real64 rLoc54;
	word32 dwLoc30;
	int32 dwArg08;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebp;
	ebp_5 = fp - 0x04;
	esp_6 = fp - 0x7C;
	rLoc1_7 = 0.0;
	rLoc3C_8 = rLoc1_7;
	eax_10 = dwArg04;
	eax_12 = Mem0[eax_10 + 0x0C:word32];
	eax_13 = eax_12 + 0x01;
	dwLoc14_14 = eax_13;
	eax_15 = dwLoc14_14;
	eax_16 = eax_15 << 0x03;
	SCZO_17 = cond(eax_16);
	dwLoc7C_18 = eax_16;
	!GC_malloc();
	dwLoc18_37 = eax_22;
	eax_38 = dwArg04;
	eax_39 = eax_38 + 388;
	SCZO_40 = cond(eax_39);
	dwLoc1C_41 = eax_39;
	dwLoc20_42 = 0x00;
	dwLoc10_43 = 0x00;
	while (true)
	{
		rLoc1_44 = ϕ(rLoc1_7, rLoc1_681);
		dwLoc10_45 = ϕ(dwLoc10_43, dwLoc10_684);
		eax_46 = dwLoc10_45;
		SCZO_47 = cond(eax_46 - dwLoc14_14);
		SO_48 = SCZO_47;
		if (eax_46 >= dwLoc14_14)
			break;
		eax_678 = dwLoc10_45;
		eax_679 = eax_678 << 0x03;
		eax_680 = eax_679 + dwLoc18_37;
		rLoc1_681 = 0.0;
		Mem682[eax_680 + 0x00:real64] = rLoc1_681;
		v8_683 = dwLoc10_45 + 0x01;
		dwLoc10_684 = v8_683;
		SCZO_685 = cond(v8_683);
	}
	dwLoc10_49 = 0x00;
	while (true)
	{
		dwLoc20_52 = ϕ(dwLoc20_42, dwLoc20_625);
		S_53 = ϕ(S_28, S_623);
		C_54 = ϕ(C_27, C_626);
		SZO_55 = ϕ(SZO_26, SZO_627);
		rLoc2_56 = ϕ(rLoc2, rLoc2_628);
		rLoc1_57 = ϕ(rLoc1_44, rLoc1_629);
		ax_58 = ϕ(ax_25, ax_630);
		wLoc62_59 = ϕ(wLoc62, wLoc62_631);
		edx_60 = ϕ(edx_24, edx_632);
		dx_61 = ϕ(dx_30, dx_633);
		ecx_62 = ϕ(ecx_29, ecx_635);
		dwLoc10_63 = ϕ(dwLoc10_49, dwLoc10_637);
		eax_64 = dwLoc10_63;
		SCZO_65 = cond(eax_64 - dwLoc14_14);
		SO_66 = SCZO_65;
		if (eax_64 >= dwLoc14_14)
			break;
		edx_617 = dwLoc10_63;
		eax_618 = dwArg04;
		edx_619 = edx_617 + 0x90;
		eax_620 = (word32) eax_618[edx_619 * 0x02];
		ax_621 = (word16) eax_620;
		SZO_622 = cond(ax_621 & ax_621);
		S_623 = SZO_622;
		C_624 = false;
		if (Test(SG,S_623))
		{
			eax_639 = dwLoc10_63;
			eax_640 = eax_639 << 0x03;
			eax_641 = eax_640 + dwLoc18_37;
			ecx_642 = dwLoc10_63;
			edx_643 = dwArg04;
			ecx_644 = ecx_642 + 0x90;
			SCZO_645 = cond(ecx_644);
			edx_646 = (word32) edx_643[ecx_644 * 0x02];
			dx_647 = (word16) edx_646;
			wLoc62_648 = dx_647;
			rLoc1_649 = (real64) wLoc62_648;
			rLoc2_650 = Mem0[135050800:real64];
			rLoc1_651 = rLoc1_649 / rLoc2_650;
			Mem652[eax_641 + 0x00:real64] = rLoc1_651;
		}
		else
		{
			edx_653 = dwLoc10_63;
			eax_654 = dwArg04;
			edx_655 = edx_653 + 0x90;
			eax_656 = (word32) eax_654[edx_655 * 0x02];
			ax_657 = (word16) eax_656;
			SZO_658 = cond(ax_657 & ax_657);
			C_659 = false;
			if (Test(GT,SZO_658))
			{
				eax_660 = dwLoc10_63;
				eax_661 = eax_660 << 0x03;
				eax_662 = eax_661 + dwLoc18_37;
				ecx_663 = dwLoc10_63;
				edx_664 = dwArg04;
				ecx_665 = ecx_663 + 0x90;
				SCZO_666 = cond(ecx_665);
				edx_667 = (word32) edx_664[ecx_665 * 0x02];
				dx_668 = (word16) edx_667;
				wLoc62_669 = dx_668;
				rLoc1_670 = (real64) wLoc62_669;
				rLoc2_672 = (real64) dwArg08;
				rLoc1_673 = rLoc1_670 / rLoc2_672;
				Mem674[eax_662 + 0x00:real64] = rLoc1_673;
			}
			else
			{
				v37_675 = dwLoc20_52 + 0x01;
				dwLoc20_676 = v37_675;
				SCZO_677 = cond(v37_675);
			}
		}
		dwLoc20_625 = ϕ(dwLoc20_52, dwLoc20_52, dwLoc20_676);
		C_626 = ϕ(C_624, C_659, C_659);
		SZO_627 = ϕ(SZO_622, SZO_658, SZO_658);
		rLoc2_628 = ϕ(rLoc2_650, rLoc2_672, rLoc2_56);
		rLoc1_629 = ϕ(rLoc1_651, rLoc1_673, rLoc1_57);
		ax_630 = ϕ(ax_621, ax_657, ax_657);
		wLoc62_631 = ϕ(wLoc62_648, wLoc62_669, wLoc62_59);
		edx_632 = ϕ(edx_646, edx_667, edx_655);
		dx_633 = ϕ(dx_647, dx_668, dx_61);
		eax_634 = ϕ(eax_641, eax_662, eax_656);
		ecx_635 = ϕ(ecx_644, ecx_665, ecx_62);
		v17_636 = dwLoc10_63 + 0x01;
		dwLoc10_637 = v17_636;
		SCZO_638 = cond(v17_636);
	}
	dwLoc10_67 = 0x00;
	while (true)
	{
		dwLoc28_76 = ϕ(dwLoc28, dwLoc28_369);
		dwLoc2C_77 = ϕ(dwLoc2C, dwLoc2C_370);
		rLoc4C_78 = ϕ(rLoc4C, rLoc4C_371);
		dwLoc68_79 = ϕ(dwLoc68, dwLoc68_372);
		rLoc44_80 = ϕ(rLoc44, rLoc44_373);
		dwLoc24_81 = ϕ(dwLoc24, dwLoc24_374);
		P_82 = ϕ(P_35, P_375);
		CZP_83 = ϕ(CZP_32, CZP_376);
		CZ_84 = ϕ(CZ_34, CZ_377);
		al_85 = ϕ(al_33, al_378);
		Z_86 = ϕ(Z_31, Z_379);
		S_87 = ϕ(S_53, S_367);
		C_88 = ϕ(C_54, C_380);
		SZO_89 = ϕ(SZO_55, SZO_381);
		rLoc2_90 = ϕ(rLoc2_56, rLoc2_382);
		rLoc1_91 = ϕ(rLoc1_57, rLoc1_383);
		wLoc5E_92 = ϕ(wLoc5E, wLoc5E_384);
		ah_93 = ϕ(ah_36, ah_385);
		wLoc60_94 = ϕ(wLoc60, wLoc60_387);
		wLoc62_95 = ϕ(wLoc62_59, wLoc62_388);
		edx_96 = ϕ(edx_60, edx_389);
		dx_97 = ϕ(dx_61, dx_390);
		ecx_98 = ϕ(ecx_62, ecx_392);
		dwLoc10_99 = ϕ(dwLoc10_67, dwLoc10_394);
		eax_100 = dwLoc1C_41;
		eax_101 = (word32) Mem0[eax_100 + 0x78:word16];
		ax_102 = (word16) eax_101;
		eax_103 = (int32) ax_102;
		SCZO_104 = cond(eax_103 - dwLoc10_99);
		SO_105 = SCZO_104;
		if (eax_103 < dwLoc10_99)
			break;
		edx_361 = dwLoc10_99;
		eax_362 = dwLoc1C_41;
		edx_363 = edx_361 + 0x78;
		eax_364 = (word32) (eax_362 + 0x06)[edx_363 * 0x02];
		ax_365 = (word16) eax_364;
		SZO_366 = cond(ax_365 & ax_365);
		S_367 = SZO_366;
		C_368 = false;
		if ((ax_365 & ax_365) < 0x00)
		{
			edx_396 = dwLoc10_99;
			eax_397 = dwLoc1C_41;
			edx_398 = edx_396 + 0x78;
			SCZO_399 = cond(edx_398);
			eax_400 = (word32) (eax_397 + 0x06)[edx_398 * 0x02];
			ax_401 = (word16) eax_400;
			wLoc62_402 = ax_401;
			rLoc1_403 = (real64) wLoc62_402;
			rLoc2_404 = Mem0[135050800:real64];
			rLoc1_405 = rLoc1_403 / rLoc2_404;
			rLoc44_406 = rLoc1_405;
			dwLoc2C_407 = 0x00;
			edx_408 = dwLoc10_99;
			eax_409 = dwLoc1C_41;
			eax_410 = (word32) eax_409[edx_408 * 0x02];
			ax_411 = (word16) eax_410;
			eax_412 = (int32) ax_411;
			dwLoc28_413 = eax_412;
			rLoc1_414 = 0.0;
			rLoc4C_415 = rLoc1_414;
			dwLoc24_416 = 0x00;
			while (true)
			{
				dwLoc2C_417 = ϕ(dwLoc2C_407, dwLoc2C_595);
				rLoc4C_418 = ϕ(rLoc4C_415, rLoc4C_596);
				dwLoc24_419 = ϕ(dwLoc24_416, dwLoc24_602);
				CZP_420 = ϕ(CZP_83, CZP_588);
				CZ_421 = ϕ(CZ_84, CZ_589);
				al_422 = ϕ(al_85, al_591);
				Z_423 = ϕ(Z_86, Z_593);
				C_424 = ϕ(C_368, C_594);
				rLoc2_425 = ϕ(rLoc2_404, rLoc2_597);
				rLoc1_426 = ϕ(rLoc1_414, rLoc1_598);
				edx_427 = dwLoc10_99;
				eax_428 = dwLoc1C_41;
				edx_429 = edx_427 + 0x10;
				eax_430 = (word32) (eax_428 + 0x08)[edx_429 * 0x02];
				ax_431 = (word16) eax_430;
				eax_432 = (int32) ax_431;
				SCZO_433 = cond(eax_432 - dwLoc24_419);
				SZO_434 = SCZO_433;
				if (eax_432 <= dwLoc24_419)
					break;
				eax_578 = dwLoc28_413;
				edx_579 = dwLoc24_419;
				eax_580 = edx_579 + eax_578;
				eax_581 = eax_580 << 0x03;
				eax_582 = eax_581 + dwLoc18_37;
				rLoc1_583 = Mem0[eax_582 + 0x00:real64];
				rLoc2_584 = 0.0;
				v29_585 = rLoc2_584;
				rLoc2_586 = rLoc1_583;
				rLoc1_587 = v29_585;
				CZP_588 = cond(rLoc2_586 - rLoc1_587);
				CZ_589 = CZP_588;
				rLoc1_590 = rLoc1_587;
				al_591 = Test(UGT,CZ_589);
				SZO_592 = cond(al_591 & al_591);
				Z_593 = SZO_592;
				C_594 = false;
				if (Test(NE,Z_593))
				{
					eax_604 = dwLoc28_413;
					edx_605 = dwLoc24_419;
					eax_606 = edx_605 + eax_604;
					eax_607 = eax_606 << 0x03;
					eax_608 = eax_607 + dwLoc18_37;
					SCZO_609 = cond(eax_608);
					rLoc1_610 = Mem0[eax_608 + 0x00:real64];
					rLoc2_611 = rLoc4C_418;
					rLoc1_612 = rLoc1_610 + rLoc2_611;
					rLoc4C_613 = rLoc1_612;
				}
				else
				{
					v34_614 = dwLoc2C_417 + 0x01;
					dwLoc2C_615 = v34_614;
					SCZO_616 = cond(v34_614);
				}
				dwLoc2C_595 = ϕ(dwLoc2C_417, dwLoc2C_615);
				rLoc4C_596 = ϕ(rLoc4C_613, rLoc4C_418);
				rLoc2_597 = ϕ(rLoc2_611, rLoc2_586);
				rLoc1_598 = ϕ(rLoc1_612, rLoc1_590);
				edx_599 = ϕ(edx_605, edx_579);
				eax_600 = ϕ(eax_608, eax_582);
				v31_601 = dwLoc24_419 + 0x01;
				dwLoc24_602 = v31_601;
				SCZO_603 = cond(v31_601);
			}
			SCZO_435 = cond(dwLoc2C_417 - 0x00);
			Z_436 = SCZO_435;
			if (dwLoc2C_417 == 0x00)
			{
				rLoc1_437 = rLoc44_406;
				rLoc2_438 = rLoc4C_418;
				v24_439 = rLoc2_438;
				rLoc2_440 = rLoc1_437;
				rLoc1_441 = v24_439;
				CZP_442 = cond(rLoc2_440 - rLoc1_441);
				C_443 = CZP_442;
				SCZO_444 = CZP_442;
				SZO_445 = CZP_442;
				Z_446 = CZP_442;
				P_447 = CZP_442;
				CZ_448 = CZP_442;
				rLoc1_449 = rLoc1_441;
				if (Test(PE,P_447) || rLoc2_440 != rLoc1_441)
				{
					ecx_450 = dwLoc10_99;
					rLoc1_451 = rLoc4C_418;
					rLoc2_452 = Mem0[135050800:real64];
					rLoc1_453 = rLoc1_451 * rLoc2_452;
					wLoc5E_454 = __fstcw();
					eax_455 = (word32) wLoc5E_454;
					ah_456 = 0x0C;
					ax_457 = DPB(ax_431, ah_456, 8);
					wLoc60_458 = ax_457;
					__fldcw(wLoc60_458);
					wLoc62_459 = (int16) rLoc1_453;
					__fldcw(wLoc5E_454);
					edx_460 = (word32) wLoc62_459;
					dx_461 = (word16) edx_460;
					eax_462 = dwLoc1C_41;
					ecx_463 = ecx_450 + 0x78;
					SCZO_464 = cond(ecx_463);
					(eax_462 + 0x06)[ecx_463 * 0x02] = dx_461;
				}
			}
			else
			{
				rLoc1_466 = rLoc44_406;
				rLoc2_467 = rLoc4C_418;
				CZP_468 = cond(rLoc2_467 - rLoc1_466);
				C_469 = CZP_468;
				rLoc1_470 = rLoc1_466;
				al_471 = Test(UGE,C_469);
				SZO_472 = cond(al_471 & al_471);
				Z_473 = SZO_472;
				C_474 = false;
				if (Test(NE,Z_473))
				{
					edx_543 = dwLoc10_99;
					eax_544 = dwLoc1C_41;
					edx_545 = edx_543 + 0x10;
					eax_546 = (word32) (eax_544 + 0x08)[edx_545 * 0x02];
					ax_547 = (word16) eax_546;
					wLoc62_548 = ax_547;
					rLoc1_549 = (real64) wLoc62_548;
					rLoc1_550 = rLoc1_549 * rLoc4C_418;
					edx_551 = dwLoc10_99;
					eax_552 = dwLoc1C_41;
					edx_553 = edx_551 + 0x10;
					eax_554 = (word32) (eax_552 + 0x08)[edx_553 * 0x02];
					ax_555 = (word16) eax_554;
					eax_556 = (int32) ax_555;
					eax_557 = eax_556 - dwLoc2C_417;
					dwLoc68_558 = eax_557;
					rLoc2_559 = (real64) dwLoc68_558;
					rLoc1_560 = rLoc1_550 / rLoc2_559;
					rLoc44_561 = rLoc1_560;
					ecx_562 = dwLoc10_99;
					rLoc1_563 = rLoc44_561;
					rLoc2_564 = Mem0[135050800:real64];
					rLoc1_565 = rLoc1_563 * rLoc2_564;
					wLoc5E_566 = __fstcw();
					eax_567 = (word32) wLoc5E_566;
					ah_568 = 0x0C;
					ax_569 = DPB(ax_555, ah_568, 8);
					wLoc60_570 = ax_569;
					__fldcw(wLoc60_570);
					wLoc62_571 = (int16) rLoc1_565;
					__fldcw(wLoc5E_566);
					edx_572 = (word32) wLoc62_571;
					dx_573 = (word16) edx_572;
					eax_574 = dwLoc1C_41;
					ecx_575 = ecx_562 + 0x78;
					SCZO_576 = cond(ecx_575);
					(eax_574 + 0x06)[ecx_575 * 0x02] = dx_573;
				}
				dwLoc68_475 = ϕ(dwLoc68_79, dwLoc68_558);
				rLoc44_476 = ϕ(rLoc44_406, rLoc44_561);
				rLoc2_477 = ϕ(rLoc2_467, rLoc2_564);
				rLoc1_478 = ϕ(rLoc1_470, rLoc1_565);
				wLoc5E_479 = ϕ(wLoc5E_92, wLoc5E_566);
				ah_480 = ϕ(ah_93, ah_568);
				ax_481 = ϕ(ax_431, ax_569);
				wLoc60_482 = ϕ(wLoc60_94, wLoc60_570);
				wLoc62_483 = ϕ(wLoc62_402, wLoc62_571);
				edx_484 = ϕ(edx_429, edx_572);
				dx_485 = ϕ(dx_97, dx_573);
				eax_486 = ϕ(eax_432, eax_574);
				ecx_487 = ϕ(ecx_98, ecx_575);
				SCZO_488 = ϕ(SCZO_435, SCZO_576);
				dwLoc24_489 = 0x00;
				while (true)
				{
					dwLoc24_490 = ϕ(dwLoc24_489, dwLoc24_530);
					P_491 = ϕ(P_82, P_522);
					CZP_492 = ϕ(CZP_468, CZP_517);
					CZ_493 = ϕ(CZ_421, CZ_523);
					Z_494 = ϕ(Z_473, Z_521);
					C_495 = ϕ(C_474, C_518);
					rLoc2_496 = ϕ(rLoc2_477, rLoc2_525);
					rLoc1_497 = ϕ(rLoc1_478, rLoc1_526);
					edx_498 = dwLoc10_99;
					eax_499 = dwLoc1C_41;
					edx_500 = edx_498 + 0x10;
					eax_501 = (word32) (eax_499 + 0x08)[edx_500 * 0x02];
					ax_502 = (word16) eax_501;
					eax_503 = (int32) ax_502;
					SCZO_504 = cond(eax_503 - dwLoc24_490);
					SZO_505 = SCZO_504;
					if (Test(LE,SZO_505))
						break;
					eax_506 = dwLoc28_413;
					edx_507 = dwLoc24_490;
					eax_508 = edx_507 + eax_506;
					eax_509 = eax_508 << 0x03;
					eax_510 = eax_509 + dwLoc18_37;
					SCZO_511 = cond(eax_510);
					rLoc1_512 = Mem0[eax_510 + 0x00:real64];
					rLoc2_513 = 0.0;
					v32_514 = rLoc2_513;
					rLoc2_515 = rLoc1_512;
					rLoc1_516 = v32_514;
					CZP_517 = cond(rLoc2_515 - rLoc1_516);
					C_518 = CZP_517;
					SCZO_519 = CZP_517;
					SZO_520 = CZP_517;
					Z_521 = CZP_517;
					P_522 = CZP_517;
					CZ_523 = CZP_517;
					rLoc1_524 = rLoc1_516;
					if (Test(EQ,Z_521) && Test(PO,P_522))
					{
						eax_532 = dwLoc28_413;
						edx_533 = dwLoc24_490;
						eax_534 = edx_533 + eax_532;
						eax_535 = eax_534 << 0x03;
						eax_536 = eax_535 + dwLoc18_37;
						SCZO_537 = cond(eax_536);
						rLoc1_538 = rLoc44_476;
						rLoc1_539 = rLoc1_538 - rLoc4C_418;
						rLoc2_540 = (real64) dwLoc2C_417;
						rLoc1_541 = rLoc1_539 / rLoc2_540;
						Mem542[eax_536 + 0x00:real64] = rLoc1_541;
					}
					rLoc2_525 = ϕ(rLoc2_515, rLoc2_515, rLoc2_540);
					rLoc1_526 = ϕ(rLoc1_524, rLoc1_524, rLoc1_541);
					edx_527 = ϕ(edx_507, edx_507, edx_533);
					eax_528 = ϕ(eax_510, eax_510, eax_536);
					v35_529 = dwLoc24_490 + 0x01;
					dwLoc24_530 = v35_529;
					SCZO_531 = cond(v35_529);
				}
			}
		}
		dwLoc28_369 = ϕ(dwLoc28_76, dwLoc28_413, dwLoc28_413, dwLoc28_413);
		dwLoc2C_370 = ϕ(dwLoc2C_77, dwLoc2C_417, dwLoc2C_417, dwLoc2C_417);
		rLoc4C_371 = ϕ(rLoc4C_78, rLoc4C_418, rLoc4C_418, rLoc4C_418);
		dwLoc68_372 = ϕ(dwLoc68_79, dwLoc68_79, dwLoc68_79, dwLoc68_475);
		rLoc44_373 = ϕ(rLoc44_80, rLoc44_406, rLoc44_406, rLoc44_476);
		dwLoc24_374 = ϕ(dwLoc24_81, dwLoc24_419, dwLoc24_419, dwLoc24_490);
		P_375 = ϕ(P_82, P_447, P_447, P_491);
		CZP_376 = ϕ(CZP_83, CZP_442, CZP_442, CZP_492);
		CZ_377 = ϕ(CZ_84, CZ_448, CZ_448, CZ_493);
		al_378 = ϕ(al_85, al_422, al_422, al_471);
		Z_379 = ϕ(Z_86, Z_446, Z_446, Z_494);
		C_380 = ϕ(C_368, C_443, C_443, C_495);
		SZO_381 = ϕ(SZO_366, SZO_445, SZO_445, SZO_505);
		rLoc2_382 = ϕ(rLoc2_90, rLoc2_440, rLoc2_452, rLoc2_496);
		rLoc1_383 = ϕ(rLoc1_91, rLoc1_449, rLoc1_453, rLoc1_497);
		wLoc5E_384 = ϕ(wLoc5E_92, wLoc5E_92, wLoc5E_454, wLoc5E_479);
		ah_385 = ϕ(ah_93, ah_93, ah_456, ah_480);
		ax_386 = ϕ(ax_365, ax_431, ax_457, ax_502);
		wLoc60_387 = ϕ(wLoc60_94, wLoc60_94, wLoc60_458, wLoc60_482);
		wLoc62_388 = ϕ(wLoc62_95, wLoc62_402, wLoc62_459, wLoc62_483);
		edx_389 = ϕ(edx_363, edx_429, edx_460, edx_500);
		dx_390 = ϕ(dx_97, dx_97, dx_461, dx_485);
		eax_391 = ϕ(eax_364, eax_432, eax_462, eax_503);
		ecx_392 = ϕ(ecx_98, ecx_98, ecx_463, ecx_487);
		v23_393 = dwLoc10_99 + 0x01;
		dwLoc10_394 = v23_393;
		SCZO_395 = cond(v23_393);
	}
	dwLoc10_106 = 0x00;
	while (true)
	{
		rLoc3C_107 = ϕ(rLoc3C_8, rLoc3C_357);
		rLoc2_108 = ϕ(rLoc2_90, rLoc2_355);
		rLoc1_109 = ϕ(rLoc1_91, rLoc1_356);
		dwLoc10_110 = ϕ(dwLoc10_106, dwLoc10_359);
		eax_111 = dwLoc10_110;
		SCZO_112 = cond(eax_111 - dwLoc14_14);
		SO_113 = SCZO_112;
		if (eax_111 >= dwLoc14_14)
			break;
		eax_351 = dwLoc10_110;
		eax_352 = eax_351 << 0x03;
		eax_353 = eax_352 + dwLoc18_37;
		rLoc1_354 = Mem0[eax_353 + 0x00:real64];
		rLoc2_355 = rLoc3C_107;
		rLoc1_356 = rLoc1_354 + rLoc2_355;
		rLoc3C_357 = rLoc1_356;
		v36_358 = dwLoc10_110 + 0x01;
		dwLoc10_359 = v36_358;
		SCZO_360 = cond(v36_358);
	}
	SCZO_114 = cond(dwLoc20_52 - 0x00);
	Z_115 = SCZO_114;
	if (dwLoc20_52 == 0x00)
	{
		rLoc1_342 = rLoc3C_107;
		rLoc2_343 = Mem0[0x080CB5F8:real64];
		CZP_344 = cond(rLoc2_343 - rLoc1_342);
		CZ_345 = CZP_344;
		rLoc1_346 = rLoc1_342;
		al_347 = rLoc2_343 >u rLoc1_342;
		SZO_348 = cond(al_347 & al_347);
		Z_349 = SZO_348;
		C_350 = false;
		if ((al_347 & al_347) != 0x00)
		{
l08089D02:
			CZP_143 = ϕ(CZP_344, CZP_335);
			CZ_144 = ϕ(CZ_345, CZ_336);
			al_145 = ϕ(al_347, al_338);
			Z_146 = ϕ(Z_349, Z_340);
			C_147 = ϕ(C_350, C_341);
			SZO_148 = ϕ(SZO_348, SZO_339);
			rLoc2_149 = ϕ(rLoc2_343, rLoc2_333);
			rLoc1_150 = ϕ(rLoc1_346, rLoc1_337);
			dwLoc10_151 = 0x00;
			while (true)
			{
				rLoc1_152 = ϕ(rLoc1_150, rLoc1_325);
				edx_153 = ϕ(edx_96, edx_323);
				dwLoc10_154 = ϕ(dwLoc10_151, dwLoc10_328);
				eax_155 = dwLoc10_154;
				SCZO_156 = cond(eax_155 - dwLoc14_14);
				SO_157 = SCZO_156;
				if (eax_155 >= dwLoc14_14)
					break;
				eax_318 = dwLoc10_154;
				eax_319 = eax_318 << 0x03;
				eax_320 = eax_319 + dwLoc18_37;
				edx_321 = dwLoc10_154;
				edx_322 = edx_321 << 0x03;
				edx_323 = edx_322 + dwLoc18_37;
				rLoc1_324 = Mem0[edx_323 + 0x00:real64];
				rLoc1_325 = rLoc1_324 / rLoc3C_107;
				Mem326[eax_320 + 0x00:real64] = rLoc1_325;
				v27_327 = dwLoc10_154 + 0x01;
				dwLoc10_328 = v27_327;
				SCZO_329 = cond(v27_327);
			}
			dwLoc10_158 = 0x00;
			while (true)
			{
				S_159 = ϕ(S_87, S_283);
				C_160 = ϕ(C_147, C_284);
				SZO_161 = ϕ(SZO_148, SZO_282);
				rLoc2_162 = ϕ(rLoc2_149, rLoc2_285);
				rLoc1_163 = ϕ(rLoc1_152, rLoc1_286);
				wLoc5E_164 = ϕ(wLoc5E_92, wLoc5E_287);
				ah_165 = ϕ(ah_93, ah_288);
				ax_166 = ϕ(ax_102, ax_289);
				wLoc60_167 = ϕ(wLoc60_94, wLoc60_290);
				wLoc62_168 = ϕ(wLoc62_95, wLoc62_291);
				edx_169 = ϕ(edx_153, edx_292);
				dx_170 = ϕ(dx_97, dx_293);
				ecx_171 = ϕ(ecx_98, ecx_295);
				dwLoc10_172 = ϕ(dwLoc10_158, dwLoc10_297);
				eax_173 = dwLoc10_172;
				SCZO_174 = cond(eax_173 - dwLoc14_14);
				SO_175 = SCZO_174;
				if (eax_173 >= dwLoc14_14)
					break;
				edx_277 = dwLoc10_172;
				eax_278 = dwArg04;
				edx_279 = edx_277 + 0x90;
				eax_280 = (word32) eax_278[edx_279 * 0x02];
				ax_281 = (word16) eax_280;
				SZO_282 = cond(ax_281 & ax_281);
				S_283 = SZO_282;
				C_284 = false;
				if ((ax_281 & ax_281) < 0x00)
				{
					ecx_299 = dwLoc10_172;
					eax_300 = dwLoc10_172;
					eax_301 = eax_300 << 0x03;
					eax_302 = eax_301 + dwLoc18_37;
					rLoc1_303 = Mem0[eax_302 + 0x00:real64];
					rLoc2_304 = Mem0[135050800:real64];
					rLoc1_305 = rLoc1_303 * rLoc2_304;
					wLoc5E_306 = __fstcw();
					eax_307 = (word32) wLoc5E_306;
					ah_308 = 0x0C;
					ax_309 = DPB(ax_281, ah_308, 8);
					wLoc60_310 = ax_309;
					__fldcw(wLoc60_310);
					wLoc62_311 = (int16) rLoc1_305;
					__fldcw(wLoc5E_306);
					edx_312 = (word32) wLoc62_311;
					dx_313 = (word16) edx_312;
					eax_314 = dwArg04;
					ecx_315 = ecx_299 + 0x90;
					SCZO_316 = cond(ecx_315);
					eax_314[ecx_315 * 0x02] = dx_313;
				}
				rLoc2_285 = ϕ(rLoc2_162, rLoc2_304);
				rLoc1_286 = ϕ(rLoc1_163, rLoc1_305);
				wLoc5E_287 = ϕ(wLoc5E_164, wLoc5E_306);
				ah_288 = ϕ(ah_165, ah_308);
				ax_289 = ϕ(ax_281, ax_309);
				wLoc60_290 = ϕ(wLoc60_167, wLoc60_310);
				wLoc62_291 = ϕ(wLoc62_168, wLoc62_311);
				edx_292 = ϕ(edx_279, edx_312);
				dx_293 = ϕ(dx_170, dx_313);
				eax_294 = ϕ(eax_280, eax_314);
				ecx_295 = ϕ(ecx_171, ecx_315);
				v28_296 = dwLoc10_172 + 0x01;
				dwLoc10_297 = v28_296;
				SCZO_298 = cond(v28_296);
			}
			dwLoc10_176 = 0x00;
			while (true)
			{
				S_180 = ϕ(S_159, S_208);
				C_181 = ϕ(C_160, C_209);
				dwLoc34_182 = ϕ(dwLoc34, dwLoc34_210);
				SZO_183 = ϕ(SZO_161, SZO_211);
				rLoc54_184 = ϕ(rLoc54, rLoc54_212);
				dwLoc30_185 = ϕ(dwLoc30, dwLoc30_213);
				rLoc2_186 = ϕ(rLoc2_162, rLoc2_214);
				rLoc1_187 = ϕ(rLoc1_163, rLoc1_215);
				wLoc5E_188 = ϕ(wLoc5E_164, wLoc5E_216);
				ah_189 = ϕ(ah_165, ah_217);
				wLoc60_190 = ϕ(wLoc60_167, wLoc60_219);
				wLoc62_191 = ϕ(wLoc62_168, wLoc62_220);
				edx_192 = ϕ(edx_169, edx_221);
				dx_193 = ϕ(dx_170, dx_222);
				ecx_194 = ϕ(ecx_171, ecx_224);
				dwLoc10_195 = ϕ(dwLoc10_176, dwLoc10_226);
				eax_196 = dwLoc1C_41;
				eax_197 = (word32) Mem0[eax_196 + 0x78:word16];
				ax_198 = (word16) eax_197;
				eax_199 = (int32) ax_198;
				SCZO_200 = cond(eax_199 - dwLoc10_195);
				SO_201 = SCZO_200;
				if (eax_199 < dwLoc10_195)
					break;
				edx_202 = dwLoc10_195;
				eax_203 = dwLoc1C_41;
				edx_204 = edx_202 + 0x78;
				eax_205 = (word32) (eax_203 + 0x06)[edx_204 * 0x02];
				ax_206 = (word16) eax_205;
				SZO_207 = cond(ax_206 & ax_206);
				S_208 = SZO_207;
				C_209 = false;
				if ((ax_206 & ax_206) < 0x00)
				{
					edx_228 = dwLoc10_195;
					eax_229 = dwLoc1C_41;
					eax_230 = (word32) eax_229[edx_228 * 0x02];
					ax_231 = (word16) eax_230;
					eax_232 = (int32) ax_231;
					dwLoc34_233 = eax_232;
					rLoc1_234 = 0.0;
					rLoc54_235 = rLoc1_234;
					dwLoc30_236 = 0x00;
					while (true)
					{
						rLoc54_237 = ϕ(rLoc54_235, rLoc54_273);
						dwLoc30_238 = ϕ(dwLoc30_236, dwLoc30_275);
						rLoc2_239 = ϕ(rLoc2_186, rLoc2_271);
						rLoc1_240 = ϕ(rLoc1_234, rLoc1_272);
						edx_241 = dwLoc10_195;
						eax_242 = dwLoc1C_41;
						edx_243 = edx_241 + 0x10;
						eax_244 = (word32) (eax_242 + 0x08)[edx_243 * 0x02];
						ax_245 = (word16) eax_244;
						eax_246 = (int32) ax_245;
						SCZO_247 = cond(eax_246 - dwLoc30_238);
						SZO_248 = SCZO_247;
						if (eax_246 <= dwLoc30_238)
							break;
						eax_265 = dwLoc34_233;
						edx_266 = dwLoc30_238;
						eax_267 = edx_266 + eax_265;
						eax_268 = eax_267 << 0x03;
						eax_269 = eax_268 + dwLoc18_37;
						rLoc1_270 = Mem0[eax_269 + 0x00:real64];
						rLoc2_271 = rLoc54_237;
						rLoc1_272 = rLoc1_270 + rLoc2_271;
						rLoc54_273 = rLoc1_272;
						v33_274 = dwLoc30_238 + 0x01;
						dwLoc30_275 = v33_274;
						SCZO_276 = cond(v33_274);
					}
					ecx_249 = dwLoc10_195;
					rLoc1_250 = rLoc54_237;
					rLoc2_251 = Mem0[135050800:real64];
					rLoc1_252 = rLoc1_250 * rLoc2_251;
					wLoc5E_253 = __fstcw();
					eax_254 = (word32) wLoc5E_253;
					ah_255 = 0x0C;
					ax_256 = DPB(ax_245, ah_255, 8);
					wLoc60_257 = ax_256;
					__fldcw(wLoc60_257);
					wLoc62_258 = (int16) rLoc1_252;
					__fldcw(wLoc5E_253);
					edx_259 = (word32) wLoc62_258;
					dx_260 = (word16) edx_259;
					eax_261 = dwLoc1C_41;
					ecx_262 = ecx_249 + 0x78;
					SCZO_263 = cond(ecx_262);
					(eax_261 + 0x06)[ecx_262 * 0x02] = dx_260;
				}
				dwLoc34_210 = ϕ(dwLoc34_182, dwLoc34_233);
				SZO_211 = ϕ(SZO_207, SZO_248);
				rLoc54_212 = ϕ(rLoc54_184, rLoc54_237);
				dwLoc30_213 = ϕ(dwLoc30_185, dwLoc30_238);
				rLoc2_214 = ϕ(rLoc2_186, rLoc2_251);
				rLoc1_215 = ϕ(rLoc1_187, rLoc1_252);
				wLoc5E_216 = ϕ(wLoc5E_188, wLoc5E_253);
				ah_217 = ϕ(ah_189, ah_255);
				ax_218 = ϕ(ax_206, ax_256);
				wLoc60_219 = ϕ(wLoc60_190, wLoc60_257);
				wLoc62_220 = ϕ(wLoc62_191, wLoc62_258);
				edx_221 = ϕ(edx_204, edx_259);
				dx_222 = ϕ(dx_193, dx_260);
				eax_223 = ϕ(eax_205, eax_261);
				ecx_224 = ϕ(ecx_194, ecx_262);
				v30_225 = dwLoc10_195 + 0x01;
				dwLoc10_226 = v30_225;
				SCZO_227 = cond(v30_225);
			}
l08089E4F:
			CZP_116 = ϕ(CZP_335, CZP_143);
			CZ_117 = ϕ(CZ_336, CZ_144);
			al_118 = ϕ(al_338, al_145);
			Z_119 = ϕ(Z_340, Z_146);
			SO_120 = ϕ(SO_113, SO_201);
			S_121 = ϕ(S_87, S_180);
			C_122 = ϕ(C_341, C_181);
			dwLoc34_123 = ϕ(dwLoc34, dwLoc34_182);
			SZO_124 = ϕ(SZO_339, SZO_183);
			rLoc54_125 = ϕ(rLoc54, rLoc54_184);
			dwLoc30_126 = ϕ(dwLoc30, dwLoc30_185);
			rLoc2_127 = ϕ(rLoc2_333, rLoc2_186);
			rLoc1_128 = ϕ(rLoc1_337, rLoc1_187);
			wLoc5E_129 = ϕ(wLoc5E_92, wLoc5E_188);
			ah_130 = ϕ(ah_93, ah_189);
			ax_131 = ϕ(ax_102, ax_198);
			wLoc60_132 = ϕ(wLoc60_94, wLoc60_190);
			wLoc62_133 = ϕ(wLoc62_95, wLoc62_191);
			edx_134 = ϕ(edx_96, edx_192);
			dx_135 = ϕ(dx_97, dx_193);
			eax_136 = ϕ(eax_111, eax_199);
			ecx_137 = ϕ(ecx_98, ecx_194);
			dwLoc10_138 = ϕ(dwLoc10_110, dwLoc10_195);
			SCZO_139 = ϕ(SCZO_114, SCZO_200);
			esp_140 = fp - 0x04;
			ebp_141 = dwLoc04_4;
			esp_142 = fp;
			return;
		}
	}
	rLoc1_330 = rLoc3C_107;
	rLoc2_331 = Mem0[135050808:real64];
	v22_332 = rLoc2_331;
	rLoc2_333 = rLoc1_330;
	rLoc1_334 = v22_332;
	CZP_335 = cond(rLoc2_333 - rLoc1_334);
	CZ_336 = CZP_335;
	rLoc1_337 = rLoc1_334;
	al_338 = rLoc2_333 >u rLoc1_334;
	SZO_339 = cond(al_338 & al_338);
	Z_340 = SZO_339;
	C_341 = false;
	if ((al_338 & al_338) == 0x00)
		goto l08089E4F;
	goto l08089D02;
}

// 08089E51: void set_table_matrix(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void set_table_matrix(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x0C:word32];
	if (eax_10 > 0x01)
	{
		new_matrix(eax_10 + 0x01, eax_10 + 0x01);
		Mem56[dwArg04 + 0x02C0:word32] = eax_10 + 0x01;
		new_vector(eax_10 + 0x01, eax_10 + 0x01);
		Mem60[dwArg04 + 0x02C4:word32] = eax_10 + 0x01;
		word32 dwLoc14_480 = 0x00;
		while (dwLoc14_480 < eax_10 + 0x01)
		{
			word32 dwLoc18_464 = dwLoc14_480;
			while (dwLoc18_464 < eax_10 + 0x01)
			{
				Mem60[Mem60[dwArg04 + 0x02C0:word32] + 0x00:word32][(Mem60[Mem60[dwArg04 + 0x02C0:word32] + 0x04:word32] *s dwLoc14_480 + dwLoc18_464) * 0x08] = 0.0;
				dwLoc18_464 = dwLoc18_464 + 0x01;
			}
			Mem60[Mem60[dwArg04 + 0x02C4:word32] + 0x00:word32][dwLoc14_480 * 0x08] = 0.0;
			dwLoc14_480 = dwLoc14_480 + 0x01;
		}
		check_relative_width(dwArg04, dwArg08);
		word32 dwLoc14_378 = 0x00;
		while (dwLoc14_378 < eax_10 + 0x01)
		{
			if ((word16) (word32) dwArg04[(dwLoc14_378 + 0x90) * 0x02] > 0x00)
			{
				word32 edx_383 = (word32) (dwArg04 + 0x0C)[(dwLoc14_378 + 88) * 0x02];
				word16 ax_389 = (word16) (word32) dwArg04[(dwLoc14_378 + 0x90) * 0x02];
				if ((word16) edx_383 >= ax_389)
					ax_389 = (word16) edx_383;
				word32 eax_395 = (int32) ax_389;
				real64 rLoc1_401 = weight2(eax_395) * Mem60[0x080CB5C8:real64];
				correct_table_matrix(dwArg04, dwLoc14_378, 0x01, eax_395, (word32) rLoc1_401, SLICE(rLoc1_401, word32, 32));
			}
			else if ((word16) (word32) dwArg04[(dwLoc14_378 + 0x90) * 0x02] < 0x00)
			{
				word16 ax_430 = (word16) (word32) dwArg04[(dwLoc14_378 + 0x90) * 0x02];
				real64 rLoc1_434 = (real64) ax_430 / Mem60[135050800:real64];
				word16 wLoc40_438 = __fstcw();
				__fldcw(DPB(ax_430, 0x0C, 8));
				__fldcw(wLoc40_438);
				real64 rLoc1_448 = weight2((int32) ((real64) dwArg08 * rLoc1_434)) * Mem60[0x080CB5C8:real64];
				correct_table_matrix2(dwArg04, dwLoc14_378, 0x01, (word32) rLoc1_434, SLICE(rLoc1_434, word32, 32), (word32) rLoc1_448, SLICE(rLoc1_448, word32, 32));
			}
			dwLoc14_378 = dwLoc14_378 + 0x01;
		}
		word32 dwLoc18_130 = 0x00;
		while ((int32) (word16) (word32) Mem60[dwArg04 + 0x01FC:word16] >= dwLoc18_130)
		{
			if ((word16) (word32) (dwArg04 + 0x018A)[(dwLoc18_130 + 0x78) * 0x02] > 0x00)
			{
				word32 edx_239 = (word32) (dwArg04 + 0x0192)[(dwLoc18_130 + 0x60) * 0x02];
				word16 ax_245 = (word16) (word32) (dwArg04 + 0x018A)[(dwLoc18_130 + 0x78) * 0x02];
				if ((word16) edx_239 >= ax_245)
					ax_245 = (word16) edx_239;
				word32 eax_251 = (int32) ax_245;
				real64 rLoc1_257 = weight2(eax_251) * Mem60[0x080CB5C8:real64];
				correct_table_matrix(dwArg04, (int32) (word16) (word32) (dwArg04 + 388)[dwLoc18_130 * 0x02], (int32) (word16) (word32) (dwArg04 + 0x018C)[(dwLoc18_130 + 0x10) * 0x02], eax_251, (word32) rLoc1_257, SLICE(rLoc1_257, word32, 32));
			}
			else if ((word16) (word32) (dwArg04 + 0x018A)[(dwLoc18_130 + 0x78) * 0x02] < 0x00)
			{
				word16 ax_297 = (word16) (word32) (dwArg04 + 0x018A)[(dwLoc18_130 + 0x78) * 0x02];
				real64 rLoc1_301 = (real64) ax_297 / Mem60[135050800:real64];
				word16 wLoc40_305 = __fstcw();
				__fldcw(DPB(ax_297, 0x0C, 8));
				__fldcw(wLoc40_305);
				real64 rLoc1_315 = weight2((int32) ((real64) dwArg08 * rLoc1_301)) * Mem60[0x080CB5C8:real64];
				correct_table_matrix2(dwArg04, (int32) (word16) (word32) (dwArg04 + 388)[dwLoc18_130 * 0x02], (int32) (word16) (word32) (dwArg04 + 0x018C)[(dwLoc18_130 + 0x10) * 0x02], (word32) rLoc1_301, SLICE(rLoc1_301, word32, 32), (word32) rLoc1_315, SLICE(rLoc1_315, word32, 32));
			}
			dwLoc18_130 = dwLoc18_130 + 0x01;
		}
		real64 rLoc2C_174;
		set_table_matrix0(fp - 0x04, gs, dwArg04, dwArg08);
		if (Mem60[dwArg04 + 0x18:word32] > 0x00)
			rLoc2C_174 = weight2(dwArg08) * Mem60[0x080CB640:real64];
		else
		{
			real64 rLoc1_194 = weight2(dwArg08);
			rLoc2C_174 = rLoc1_194 + rLoc1_194;
		}
		correct_table_matrix(dwArg04, 0x00, eax_10 + 0x01, dwArg08, (word32) rLoc2C_174, SLICE(rLoc2C_174, word32, 32));
	}
}

// 0808A210: void writeLocalCookie(Register word32 ebp, Register selector gs)
void writeLocalCookie(word32 ebp, selector gs)
{
	if (Mem0[135775060:word32] == 0x00 && Mem0[135779044:word32] == 0x00)
	{
		byte bpl_32;
		Mem35[135779044:word32] = Mem0[tmpfname(fp - 0x04, 0x04, 0x00, out bpl_32) + 0x00:word32];
		Mem37[fp - 0x28 + 0x00:word32] = Mem35[135779044:word32];
		Mem38[fp - 44 + 0x00:word32] = 0x080CB648;
		set_environ(dwArg00, dwArg04);
		word32 eax_43 = Mem38[135779044:word32];
		Mem44[fp - 0x28 + 0x00:word32] = 0x080CB65A;
		Mem45[fp - 44 + 0x00:word32] = eax_43;
		Mem47[fp - 0x10 + 0x00:word32] = fopen(Mem45[fp - 44 + 0x00:(ptr char)], Mem45[fp - 0x28 + 0x00:(ptr char)]);
		if (Mem47[fp - 0x10 + 0x00:word32] != 0x00)
		{
			localCookie(gs);
			word32 eax_53 = Mem47[Mem47[0x0817D2E0:word32] + 0x04:word32];
			word32 eax_56 = Mem47[Mem47[0x0817D2E0:word32] + 0x00:word32];
			Mem58[fp - 0x20 + 0x00:word32] = Mem47[fp - 0x10 + 0x00:word32];
			Mem59[fp - 0x24 + 0x00:word32] = eax_53;
			Mem60[fp - 0x28 + 0x00:word32] = 0x01;
			Mem61[fp - 44 + 0x00:word32] = eax_56;
			fwrite(Mem61[fp - 44 + 0x00:(ptr void)], Mem61[fp - 0x28 + 0x00:size_t], Mem61[fp - 0x24 + 0x00:size_t], Mem61[fp - 0x20 + 0x00:(ptr FILE)]);
			Mem64[fp - 44 + 0x00:word32] = Mem61[fp - 0x10 + 0x00:word32];
			fclose(Mem64[fp - 44 + 0x00:(ptr FILE)]);
			word32 eax_66 = Mem64[135779044:word32];
			Mem67[fp - 0x28 + 0x00:word32] = 0x0180;
			Mem68[fp - 44 + 0x00:word32] = eax_66;
			chmod(Mem68[fp - 44 + 0x00:(ptr char)], Mem68[fp - 0x28 + 0x00:mode_t]);
		}
	}
}

// 0808A2DB: Register word32 localCookie(Register selector gs)
word32 localCookie(selector gs)
{
	word32 eax_107;
	word32 ebp_28 = fp - 0x04;
	if (Mem0[0x0817D2E0:word32] != 0x00)
		eax_107 = Mem0[0x0817D2E0:word32];
	else
	{
		word32 esp_50;
		word32 ebp_51;
		word32 ebx_52;
		byte SCZO_53;
		word32 eax_54;
		selector gs_55;
		byte SZO_56;
		byte C_57;
		byte Z_58;
		word32 edx_59;
		byte bpl_60;
		!gethostname();
		word32 esp_62;
		word32 ebp_63;
		word32 ebx_64;
		byte SCZO_65;
		word32 eax_66;
		selector gs_67;
		byte SZO_68;
		byte C_69;
		byte Z_70;
		word32 edx_71;
		byte bpl_72;
		!GC_malloc();
		time(0x00);
		word32 esp_78;
		word32 ebp_79;
		word32 ebx_80;
		byte SCZO_81;
		word32 eax_82;
		selector gs_83;
		byte SZO_84;
		byte C_85;
		byte Z_86;
		word32 edx_87;
		byte bpl_88;
		!srand48();
		word32 esp_89;
		word32 ebx_91;
		byte SCZO_92;
		word32 eax_93;
		byte SZO_95;
		byte C_96;
		byte Z_97;
		word32 edx_98;
		byte bpl_99;
		!lrand48();
		byte bpl_104;
		Mem106[0x0817D2E0:word32] = Sprintf(135050845, out bpl_104);
		eax_107 = Mem106[0x0817D2E0:word32];
	}
	if ((Mem0[ebp_28 - 0x0C + 0x00:word32] ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_107;
}

// 0808A37E: Register word32 loadLocalDir(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Register out ptr32 bplOut)
word32 loadLocalDir(word32 ebp, selector gs, word32 dwArg04, ptr32 & bplOut)
{
	word32 eax_222;
	Strnew(0x00);
	word32 esi_33;
	word32 ebx_34;
	byte SCZO_35;
	word32 eax_36;
	byte SZO_38;
	byte C_39;
	byte Z_40;
	word32 edx_41;
	byte al_42;
	byte SO_43;
	word32 ecx_44;
	byte S_45;
	byte bpl_46;
	selector gs_188;
	word32 ebp_183;
	word32 esp_182;
	!opendir();
	if (eax_36 == 0x00)
		eax_222 = 0x00;
	else
	{
		Strnew_charp(dwArg04, dwArg04);
		if (Mem0[dwArg04 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte]) != 0x2F)
		{
			if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_681 = Mem0[dwArg04 + 0x04:word32];
			Mem684[Mem0[dwArg04 + 0x00:word32] + eax_681:byte] = 0x2F;
			Mem687[dwArg04 + 0x04:word32] = eax_681 + 0x01;
			Mem693[Mem687[dwArg04 + 0x00:word32] + Mem687[dwArg04 + 0x04:word32]:byte] = 0x00;
		}
		word32 ebx_101;
		Mem104[esp_182 + 0x00:word32] = Mem0[wc_Str_conv(dwArg04, Mem0[0x080D5378:word32], Mem0[135091052:word32], out ebx_101) + 0x00:word32];
		Mem107[ebp_183 - 0x0424 + 0x00:word32] = html_quote(dwArg00);
		Mem110[esp_182 + 0x00:word32] = Mem107[Mem107[ebp_183 - 0x0448 + 0x00:word32] + 0x00:word32];
		Mem112[esp_182 + 0x00:word32] = file_quote(dwArg00);
		word32 eax_113 = html_quote(dwArg00);
		Mem114[esp_182 + 0x1C:word32] = 0x00;
		Mem115[esp_182 + 0x18:word32] = 0x080CB664;
		Mem117[esp_182 + 0x14:word32] = Mem115[ebp_183 - 0x0424 + 0x00:word32];
		Mem118[esp_182 + 0x10:word32] = 0x080CB66C;
		word32 edx_119 = Mem118[ebp_183 - 0x0424 + 0x00:word32];
		Mem120[esp_182 + 0x0C:word32] = edx_119;
		Mem121[esp_182 + 0x08:word32] = 0x080CB69B;
		Mem122[esp_182 + 0x04:word32] = eax_113;
		Mem123[esp_182 + 0x00:word32] = 0x080CB6B8;
		Strnew_m_charp(eax_113, dwArg00);
		Mem124[ebp_183 - 0x0410 + 0x00:word32] = eax_113;
		Mem128[esp_182 + 0x00:word32] = Mem124[ebp_183 - 0x0444 + 0x00:word32] << 0x02;
		word32 esi_131;
		word32 ebx_132;
		byte SCZO_133;
		word32 eax_134;
		selector gs_135;
		byte SZO_136;
		byte C_137;
		byte Z_138;
		word32 edx_139;
		byte al_140;
		byte SO_141;
		word32 ecx_142;
		byte S_143;
		byte bpl_144;
		word32 ebp_130;
		word32 esp_129;
		!GC_malloc();
		Mem145[ebp_130 - 0x041C + 0x00:word32] = eax_134;
		Mem146[ebp_130 - 0x0440 + 0x00:word32] = 0x00;
		while (true)
		{
			word32 eax_149 = Mem146[ebp_130 - 0x0414 + 0x00:word32];
			Mem150[esp_129 + 0x00:word32] = eax_149;
			word32 esi_153;
			word32 ebx_154;
			byte SCZO_155;
			word32 eax_156;
			selector gs_157;
			byte SZO_158;
			byte C_159;
			byte Z_160;
			word32 edx_161;
			byte al_162;
			byte SO_163;
			word32 ecx_164;
			byte S_165;
			byte bpl_166;
			!readdir();
			Mem167[ebp_130 - 0x0418 + 0x00:word32] = eax_156;
			if (Mem167[ebp_130 - 0x0418 + 0x00:word32] == 0x00)
				break;
			word32 ebx_600 = (Mem167[ebp_130 - 0x0440 + 0x00:word32] << 0x02) + Mem167[(ebp_130 - 0x041C) + 0x00:word32];
			word32 eax_601 = Mem167[ebp_130 - 0x0418 + 0x00:word32];
			Mem604[esp_129 + 0x04:word32] = ~0x00;
			Mem605[esp_129 + 0x00:word32] = eax_601 + 11;
			Mem607[ebx_600 + 0x00:word32] = allocStr(dwArg00, dwArg04);
			Mem609[ebp_130 - 0x0440 + 0x00:word32] = Mem607[ebp_130 - 0x0440 + 0x00:word32] + 0x01;
			if (Mem609[ebp_130 - 0x0440 + 0x00:word32] == Mem609[(ebp_130 - 0x0444) + 0x00:word32])
			{
				Mem644[ebp_130 - 0x0444 + 0x00:word32] = Mem609[ebp_130 - 0x0444 + 0x00:word32] << 0x01;
				Mem648[esp_129 + 0x04:word32] = Mem644[ebp_130 - 0x0444 + 0x00:word32] << 0x02;
				word32 eax_649 = Mem648[ebp_130 - 0x041C + 0x00:word32];
				Mem650[esp_129 + 0x00:word32] = eax_649;
				word32 esi_653;
				word32 ebx_654;
				byte SCZO_655;
				word32 eax_656;
				selector gs_657;
				byte SZO_658;
				byte C_659;
				byte Z_660;
				word32 edx_661;
				byte al_662;
				byte SO_663;
				word32 ecx_664;
				byte S_665;
				byte bpl_666;
				!GC_realloc();
				Mem667[ebp_130 - 0x041C + 0x00:word32] = eax_656;
			}
			if (Mem609[135775052:word32] != 0x00)
			{
				Mem631[esp_129 + 0x00:word32] = Mem609[ebp_130 - 0x0418 + 0x00:word32] + 11;
				Mem633[ebp_130 - 0x0430 + 0x00:word32] = strlen(Mem631[esp_129 + 0x00:(ptr char)]);
				if (Mem633[ebp_130 - 0x0430 + 0x00:word32] > Mem633[(ebp_130 - 0x043C) + 0x00:word32])
					Mem642[ebp_130 - 0x043C + 0x00:word32] = Mem633[ebp_130 - 0x0430 + 0x00:word32];
				Mem639[ebp_130 - 1080 + 0x00:word32] = Mem633[ebp_130 - 1080 + 0x00:word32] + 0x01;
			}
		}
		if (Mem167[135775052:word32] != 0x00)
		{
			word32 eax_567 = Mem167[0x081807A0:word32];
			Mem570[ebp_130 - 0x050C + 0x00:word32] = Mem167[ebp_130 - 0x043C + 0x00:word32] + 0x02;
			Mem577[ebp_130 - 0x0430 + 0x00:word32] = (int32) (SEQ(eax_567 >> 0x1F, eax_567) / Mem570[(ebp_130 - 0x050C) + 0x00:word32]);
			if (Mem577[ebp_130 - 0x0430 + 0x00:word32] == 0x00)
				Mem596[ebp_130 - 0x0430 + 0x00:word32] = 0x01;
			word32 eax_582 = Mem577[ebp_130 - 1080 + 0x00:word32] + Mem577[(ebp_130 - 0x0430) + 0x00:word32];
			Mem591[ebp_130 - 0x0434 + 0x00:word32] = (int32) (SEQ(eax_582 - 0x01 >> 0x1F, eax_582 - 0x01) / Mem577[(ebp_130 - 0x0430) + 0x00:word32]);
			Mem592[ebp_130 - 1080 + 0x00:word32] = 0x01;
			Mem593[esp_129 + 0x04:word32] = 0x080CB6DC;
			Mem595[esp_129 + 0x00:word32] = Mem593[ebp_130 - 0x0410 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		word32 eax_176 = Mem167[ebp_130 - 0x0440 + 0x00:word32];
		Mem177[esp_129 + 0x0C:word32] = 134948483;
		Mem178[esp_129 + 0x08:word32] = 0x04;
		Mem179[esp_129 + 0x04:word32] = eax_176;
		word32 eax_180 = Mem179[ebp_130 - 0x041C + 0x00:word32];
		Mem181[esp_129 + 0x00:word32] = eax_180;
		word32 esi_184;
		word32 ebx_185;
		byte SCZO_186;
		word32 eax_187;
		byte SZO_189;
		byte C_190;
		byte Z_191;
		word32 edx_192;
		byte al_193;
		byte SO_194;
		word32 ecx_195;
		byte S_196;
		byte bpl_197;
		!qsort();
		Mem198[ebp_183 - 0x042C + 0x00:word32] = 0x00;
		while (Mem198[ebp_183 - 0x042C + 0x00:word32] < Mem198[(ebp_183 - 0x0440) + 0x00:word32])
		{
			Mem232[ebp_183 - 0x0420 + 0x00:word32] = Mem198[ebp_183 - 0x041C + 0x00:word32][Mem198[ebp_183 - 0x042C + 0x00:word32] * 0x04];
			Mem233[esp_182 + 0x04:word32] = 135051011;
			Mem235[esp_182 + 0x00:word32] = Mem233[ebp_183 - 0x0420 + 0x00:word32];
			if (strcmp(Mem235[esp_182 + 0x00:(ptr char)], Mem235[esp_182 + 0x04:(ptr char)]) != 0x00)
			{
				Mem259[esp_182 + 0x04:word32] = Mem235[ebp_183 - 0x0448 + 0x00:word32];
				Mem261[esp_182 + 0x00:word32] = Mem259[ebp_183 - 0x0428 + 0x00:word32];
				Strcopy(dwArg00, dwArg04);
				if (Mem261[Mem261[ebp_183 - 0x0428 + 0x00:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem261[Mem261[Mem261[(ebp_183 - 0x0428) + 0x00:word32] + 0x00:word32] + (Mem261[Mem261[(ebp_183 - 0x0428) + 0x00:word32] + 0x04:word32] - 0x01):byte]) != 0x2F)
				{
					if (Mem261[Mem261[ebp_183 - 0x0428 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem261[Mem261[(ebp_183 - 0x0428) + 0x00:word32] + 0x08:word32])
					{
						Mem556[esp_182 + 0x00:word32] = Mem261[ebp_183 - 0x0428 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_542 = Mem261[Mem261[ebp_183 - 0x0428 + 0x00:word32] + 0x04:word32];
					Mem545[Mem261[Mem261[ebp_183 - 0x0428 + 0x00:word32] + 0x00:word32] + eax_542:byte] = 0x2F;
					Mem548[Mem545[ebp_183 - 0x0428 + 0x00:word32] + 0x04:word32] = eax_542 + 0x01;
					Mem554[Mem548[Mem548[ebp_183 - 0x0428 + 0x00:word32] + 0x00:word32] + Mem548[Mem548[(ebp_183 - 0x0428) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				Mem272[esp_182 + 0x04:word32] = Mem261[ebp_183 - 0x0420 + 0x00:word32];
				Mem274[esp_182 + 0x00:word32] = Mem272[ebp_183 - 0x0428 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				word32 eax_276 = Mem274[Mem274[ebp_183 - 0x0428 + 0x00:word32] + 0x00:word32];
				Mem278[esp_182 + 0x04:word32] = ebp_183 - 1272;
				Mem279[esp_182 + 0x00:word32] = eax_276;
				if (lstat(dwArg00, dwArg04) >= 0x00)
				{
					word32 eax_285 = Mem279[Mem279[ebp_183 - 0x0428 + 0x00:word32] + 0x00:word32];
					Mem287[esp_182 + 0x04:word32] = ebp_183 - 0x04A0;
					Mem288[esp_182 + 0x00:word32] = eax_285;
					if (stat(dwArg00, dwArg04) >= 0x00)
					{
						if (Mem288[135775052:word32] != 0x00)
						{
							if (Mem288[ebp_183 - 1080 + 0x00:word32] == 0x01)
							{
								Mem510[esp_182 + 0x04:word32] = 135051013;
								Mem512[esp_182 + 0x00:word32] = Mem510[ebp_183 - 0x0410 + 0x00:word32];
								Strcat_charp(dwArg00, dwArg04);
							}
						}
						else if ((Mem288[ebp_183 - 0x04E8 + 0x00:word32] & 0xF000) == 0xA000)
						{
							Mem517[esp_182 + 0x04:word32] = 0x080CB710;
							Mem519[esp_182 + 0x00:word32] = Mem517[ebp_183 - 0x0410 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						else if ((Mem288[ebp_183 - 0x0490 + 0x00:word32] & 0xF000) == 0x4000)
						{
							Mem524[esp_182 + 0x04:word32] = 135051032;
							Mem526[esp_182 + 0x00:word32] = Mem524[ebp_183 - 0x0410 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						else
						{
							Mem527[esp_182 + 0x04:word32] = 135051045;
							Mem529[esp_182 + 0x00:word32] = Mem527[ebp_183 - 0x0410 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						Mem298[esp_182 + 0x00:word32] = Mem288[ebp_183 - 0x0420 + 0x00:word32];
						Mem300[esp_182 + 0x00:word32] = file_quote(dwArg00);
						word32 eax_301 = html_quote(dwArg00);
						Mem302[esp_182 + 0x0C:word32] = 0x00;
						Mem303[esp_182 + 0x08:word32] = eax_301;
						Mem304[esp_182 + 0x04:word32] = 135051053;
						Mem306[esp_182 + 0x00:word32] = Mem304[ebp_183 - 0x0410 + 0x00:word32];
						Strcat_m_charp(dwArg00);
						if ((Mem306[ebp_183 - 0x0490 + 0x00:word32] & 0xF000) == 0x4000)
						{
							if (Mem306[Mem306[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem306[Mem306[(ebp_183 - 0x0410) + 0x00:word32] + 0x08:word32])
							{
								Mem507[esp_182 + 0x00:word32] = Mem306[ebp_183 - 0x0410 + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_493 = Mem306[Mem306[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32];
							Mem496[Mem306[Mem306[ebp_183 - 0x0410 + 0x00:word32] + 0x00:word32] + eax_493:byte] = 0x2F;
							Mem499[Mem496[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32] = eax_493 + 0x01;
							Mem505[Mem499[Mem499[ebp_183 - 0x0410 + 0x00:word32] + 0x00:word32] + Mem499[Mem499[(ebp_183 - 0x0410) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						}
						word32 esi_314 = Mem306[135091052:word32];
						word32 ebx_315 = Mem306[0x080D5378:word32];
						word32 eax_316 = Mem306[ebp_183 - 0x0420 + 0x00:word32];
						Mem317[esp_182 + 0x00:word32] = eax_316;
						Strnew_charp(eax_316, dwArg00);
						Mem318[esp_182 + 0x08:word32] = esi_314;
						Mem319[esp_182 + 0x04:word32] = ebx_315;
						Mem320[esp_182 + 0x00:word32] = eax_316;
						word32 ebx_322;
						Mem325[esp_182 + 0x00:word32] = Mem320[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_322) + 0x00:word32];
						word32 eax_326 = html_quote(dwArg00);
						Mem327[esp_182 + 0x0C:word32] = 0x00;
						Mem328[esp_182 + 0x08:word32] = eax_326;
						Mem329[esp_182 + 0x04:word32] = 135051063;
						Mem331[esp_182 + 0x00:word32] = Mem329[ebp_183 - 0x0410 + 0x00:word32];
						Strcat_m_charp(dwArg00);
						if ((Mem331[ebp_183 - 0x0490 + 0x00:word32] & 0xF000) == 0x4000)
						{
							if (Mem331[Mem331[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem331[Mem331[(ebp_183 - 0x0410) + 0x00:word32] + 0x08:word32])
							{
								Mem482[esp_182 + 0x00:word32] = Mem331[ebp_183 - 0x0410 + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_468 = Mem331[Mem331[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32];
							Mem471[Mem331[Mem331[ebp_183 - 0x0410 + 0x00:word32] + 0x00:word32] + eax_468:byte] = 0x2F;
							Mem474[Mem471[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32] = eax_468 + 0x01;
							Mem480[Mem474[Mem474[ebp_183 - 0x0410 + 0x00:word32] + 0x00:word32] + Mem474[Mem474[(ebp_183 - 0x0410) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						}
						Mem340[esp_182 + 0x04:word32] = 135051066;
						Mem342[esp_182 + 0x00:word32] = Mem340[ebp_183 - 0x0410 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						if (Mem342[135775052:word32] != 0x00)
						{
							byte al_350 = Mem342[ebp_183 - 1080 + 0x00:word32] == Mem342[(ebp_183 - 0x0434) + 0x00:word32];
							Mem352[ebp_183 - 1080 + 0x00:word32] = Mem342[ebp_183 - 1080 + 0x00:word32] + 0x01;
							if (al_350 != 0x00)
							{
								Mem356[esp_182 + 0x04:word32] = 135051071;
								Mem358[esp_182 + 0x00:word32] = Mem356[ebp_183 - 0x0410 + 0x00:word32];
								Strcat_charp(dwArg00, dwArg04);
								Mem359[ebp_183 - 1080 + 0x00:word32] = 0x01;
							}
							else
							{
								Mem360[esp_182 + 0x04:word32] = 135051085;
								Mem362[esp_182 + 0x00:word32] = Mem360[ebp_183 - 0x0410 + 0x00:word32];
								Strcat_charp(dwArg00, dwArg04);
							}
						}
						else
						{
							if ((Mem342[ebp_183 - 0x04E8 + 0x00:word32] & 0xF000) == 0xA000)
							{
								word32 eax_386 = Mem342[Mem342[ebp_183 - 0x0428 + 0x00:word32] + 0x00:word32];
								Mem387[esp_182 + 0x08:word32] = 0x0400;
								word32 edx_388 = ebp_183 - 0x040C;
								Mem389[esp_182 + 0x04:word32] = edx_388;
								Mem390[esp_182 + 0x00:word32] = eax_386;
								word32 esi_393;
								word32 ebx_394;
								byte SCZO_395;
								word32 eax_396;
								byte SZO_398;
								byte C_399;
								byte Z_400;
								word32 edx_401;
								byte al_402;
								byte SO_403;
								word32 ecx_404;
								byte S_405;
								byte bpl_406;
								!readlink();
								Mem407[ebp_183 - 0x0430 + 0x00:word32] = eax_396;
								if (Mem407[ebp_183 - 0x0430 + 0x00:word32] > 0x00)
								{
									Mem411[ebp_183 - 0x040C + Mem407[(ebp_183 - 0x0430) + 0x00:word32]:byte] = 0x00;
									word32 esi_412 = Mem411[135091052:word32];
									word32 ebx_413 = Mem411[0x080D5378:word32];
									Mem415[esp_182 + 0x00:word32] = ebp_183 - 0x040C;
									Strnew_charp(ebp_183 - 0x040C, dwArg00);
									Mem416[esp_182 + 0x08:word32] = esi_412;
									Mem417[esp_182 + 0x04:word32] = ebx_413;
									Mem418[esp_182 + 0x00:word32] = ebp_183 - 0x040C;
									word32 ebx_419;
									Mem422[esp_182 + 0x00:word32] = Mem418[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_419) + 0x00:word32];
									word32 eax_423 = html_quote(dwArg00);
									Mem424[esp_182 + 0x0C:word32] = 0x00;
									Mem425[esp_182 + 0x08:word32] = eax_423;
									Mem426[esp_182 + 0x04:word32] = 135051091;
									Mem428[esp_182 + 0x00:word32] = Mem426[ebp_183 - 0x0410 + 0x00:word32];
									Strcat_m_charp(dwArg00);
									if ((Mem428[ebp_183 - 0x0490 + 0x00:word32] & 0xF000) == 0x4000)
									{
										if (Mem428[Mem428[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem428[Mem428[(ebp_183 - 0x0410) + 0x00:word32] + 0x08:word32])
										{
											Mem457[esp_182 + 0x00:word32] = Mem428[ebp_183 - 0x0410 + 0x00:word32];
											Strgrow(dwArg00);
										}
										word32 eax_443 = Mem428[Mem428[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32];
										Mem446[Mem428[Mem428[ebp_183 - 0x0410 + 0x00:word32] + 0x00:word32] + eax_443:byte] = 0x2F;
										Mem449[Mem446[ebp_183 - 0x0410 + 0x00:word32] + 0x04:word32] = eax_443 + 0x01;
										Mem455[Mem449[Mem449[ebp_183 - 0x0410 + 0x00:word32] + 0x00:word32] + Mem449[Mem449[(ebp_183 - 0x0410) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
									}
								}
							}
							Mem382[esp_182 + 0x04:word32] = 0x080CB758;
							Mem384[esp_182 + 0x00:word32] = Mem382[ebp_183 - 0x0410 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
					}
				}
			}
			Mem256[ebp_183 - 0x042C + 0x00:word32] = Mem235[ebp_183 - 0x042C + 0x00:word32] + 0x01;
		}
		if (Mem198[135775052:word32] != 0x00)
		{
			Mem225[esp_182 + 0x04:word32] = 135051102;
			Mem227[esp_182 + 0x00:word32] = Mem225[ebp_183 - 0x0410 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		Mem219[esp_182 + 0x04:word32] = 135051118;
		Mem221[esp_182 + 0x00:word32] = Mem219[ebp_183 - 0x0410 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		eax_222 = Mem221[ebp_183 - 0x0410 + 0x00:word32];
	}
	if ((Mem0[ebp_183 - 0x0C + 0x00:word32] ^ Mem0[gs_188:0x14:word32]) != 0x00)
		__stack_chk_fail();
	byte bpl_79;
	*bplOut = (byte) Mem0[esp_182 + 1336:word32];
	return eax_222;
}

// 0808AC49: Register word32 check_local_cgi(Stack word32 dwArg04, Stack word32 dwArg08)
word32 check_local_cgi(word32 dwArg04, word32 dwArg08)
{
	word32 eax_101;
	if (dwArg08 != 0x01 && dwArg08 != 0x02)
	{
		eax_101 = ~0x00;
		return eax_101;
	}
	if (stat(dwArg04, fp - 100) < 0x00)
	{
		eax_101 = ~0x00;
		return eax_101;
	}
	if ((dwLoc54 & 0xF000) == 0x4000)
	{
		eax_101 = ~0x00;
		return eax_101;
	}
	word32 eax_50 = geteuid();
	if (dwLoc4C != eax_50 || (dwLoc54 & 0x40) == 0x00)
	{
		word32 esp_67;
		word32 ebp_68;
		word32 ebx_69;
		byte SCZO_70;
		byte Z_71;
		word32 eax_72;
		word32 edx_73;
		byte SZO_74;
		byte C_75;
		byte S_76;
		byte al_77;
		!getegid();
		if ((ebx_69 != eax_72 || (dwLoc54 & 0x08) == 0x00) && (byte) (dwLoc54 & 0x01) == 0x00)
		{
			eax_101 = ~0x00;
			return eax_101;
		}
	}
	eax_101 = 0x00;
	return eax_101;
}

// 0808ACDE: Register word32 set_environ(Stack word32 dwArg04, Stack word32 dwArg08)
word32 set_environ(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00 && dwArg08 != 0x00)
	{
		word32 esp_31;
		word32 ebp_32;
		byte SCZO_33;
		byte Z_34;
		!setenv();
	}
	return eax;
}

// 0808AD0C: void set_cgi_environ(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void set_cgi_environ(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	set_environ(135051135, Mem0[0x080DA7F8:word32]);
	set_environ(135051160, 135051151);
	set_environ(0x080CB7B2, 0x080CB7A8);
	set_environ(135051201, 0x080CB7BE);
	set_environ(135051213, 0x080CB7A8);
	set_environ(135051235, 135051225);
	set_environ(135051255, 0x080CB7EF);
	set_environ(0x080CB809, dwArg04);
	set_environ(0x080CB815, dwArg08);
	set_environ(135051301, dwArg0C);
}

// 0808ADDA: Register word32 checkPath(Stack word32 dwArg04, Stack word32 dwArg08)
word32 checkPath(word32 dwArg04, word32 dwArg08)
{
	while (true)
	{
		word32 eax_105;
		if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x00)
			break;
		word32 eax_169;
		word32 eax_69 = strchr(dwArg08, ':');
		if (eax_69 != 0x00)
			eax_169 = allocStr(dwArg08, eax_69 - dwArg08);
		else
			eax_169 = dwArg08;
		word32 eax_80 = expandPath(eax_169);
		Strnew_charp(eax_80, eax_80);
		if (Mem0[eax_80 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem0[Mem0[eax_80 + 0x00:word32] + (Mem0[eax_80 + 0x04:word32] - 0x01):byte]) != 0x2F)
		{
			if (Mem0[eax_80 + 0x04:word32] + 0x01 >= Mem0[eax_80 + 0x08:word32])
				Strgrow(eax_80);
			word32 eax_135 = Mem0[eax_80 + 0x04:word32];
			Mem138[Mem0[eax_80 + 0x00:word32] + eax_135:byte] = 0x2F;
			Mem141[eax_80 + 0x04:word32] = eax_135 + 0x01;
			Mem147[Mem141[eax_80 + 0x00:word32] + Mem141[eax_80 + 0x04:word32]:byte] = 0x00;
		}
		Strcat_charp(eax_80, dwArg04);
		if (stat(Mem0[eax_80 + 0x00:word32], fp - 0x6C) == 0x00)
		{
			eax_105 = eax_80;
			return eax_105;
		}
		if (eax_69 == 0x00)
			break;
		dwArg08 = eax_69 + 0x01;
		while ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x3A)
			dwArg08 = dwArg08 + 0x01;
	}
	eax_105 = 0x00;
	return eax_105;
}

// 0808AF07: Register word32 cgi_filename(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 cgi_filename(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_103;
	Mem11[dwArg08 + 0x00:word32] = dwArg04;
	Mem15[dwArg0C + 0x00:word32] = dwArg04;
	Mem18[dwArg10 + 0x00:word32] = 0x00;
	if (Mem18[0x0817C280:word32] != 0x00 && strncmp(dwArg04, 135051313, 0x09) == 0x00)
	{
		Mem287[dwArg10 + 0x00:word32] = strchr(dwArg04 + 0x09, '/');
		if (Mem287[dwArg10 + 0x00:word32] != 0x00)
			Mem325[dwArg0C + 0x00:word32] = allocStr(dwArg04, Mem287[dwArg10 + 0x00:word32] - dwArg04);
		word32 eax_300 = checkPath(Mem287[dwArg0C + 0x00:word32] + 0x09, Mem287[0x0817C280:word32]);
		if (eax_300 == 0x00)
			eax_103 = 0x00;
		else
		{
			Mem309[dwArg08 + 0x00:word32] = Mem287[eax_300 + 0x00:word32];
			eax_103 = 0x02;
		}
	}
	else
	{
		word32 eax_48 = w3m_lib_dir();
		Strnew_charp(eax_48, eax_48);
		if (Mem18[eax_48 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem18[Mem18[eax_48 + 0x00:word32] + (Mem18[eax_48 + 0x04:word32] - 0x01):byte]) != 0x2F)
		{
			if (Mem18[eax_48 + 0x04:word32] + 0x01 >= Mem18[eax_48 + 0x08:word32])
				Strgrow(eax_48);
			word32 eax_244 = Mem18[eax_48 + 0x04:word32];
			Mem247[Mem18[eax_48 + 0x00:word32] + eax_244:byte] = 0x2F;
			Mem250[eax_48 + 0x04:word32] = eax_244 + 0x01;
			Mem256[Mem250[eax_48 + 0x00:word32] + Mem250[eax_48 + 0x04:word32]:byte] = 0x00;
		}
		word32 dwLoc14_119;
		if (strncmp(dwArg04, 0x080CB83B, 0x06) == 0x00)
			dwLoc14_119 = 0x06;
		else if (strncmp(dwArg04, Mem18[eax_48 + 0x00:word32], Mem18[eax_48 + 0x04:word32]) == 0x00)
			dwLoc14_119 = Mem18[eax_48 + 0x04:word32];
		else
		{
			if ((byte) (word32) Mem18[dwArg04 + 0x00:byte] != 0x2F || Mem18[0x0817C278:word32] == 0x00)
			{
				eax_103 = 0x00;
				return eax_103;
			}
			word32 eax_153 = Mem18[0x0817C278:word32];
			Strnew_charp(eax_153, eax_153);
			if (Mem18[eax_153 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem18[Mem18[eax_153 + 0x00:word32] + (Mem18[eax_153 + 0x04:word32] - 0x01):byte]) != 0x2F)
			{
				if (Mem18[eax_153 + 0x04:word32] + 0x01 >= Mem18[eax_153 + 0x08:word32])
					Strgrow(eax_153);
				word32 eax_206 = Mem18[eax_153 + 0x04:word32];
				Mem209[Mem18[eax_153 + 0x00:word32] + eax_206:byte] = 0x2F;
				Mem212[eax_153 + 0x04:word32] = eax_206 + 0x01;
				Mem218[Mem212[eax_153 + 0x00:word32] + Mem212[eax_153 + 0x04:word32]:byte] = 0x00;
			}
			Strcat_charp(eax_153, dwArg04 + 0x01);
			if (strncmp(Mem18[eax_153 + 0x00:word32], Mem18[eax_48 + 0x00:word32], Mem18[eax_48 + 0x04:word32]) != 0x00)
			{
				eax_103 = 0x00;
				return eax_103;
			}
			word32 eax_185 = Mem18[eax_153 + 0x00:word32];
			Mem189[dwArg0C + 0x00:word32] = eax_185;
			dwArg04 = eax_185;
			dwLoc14_119 = Mem189[eax_48 + 0x04:word32];
		}
		Mem84[dwArg10 + 0x00:word32] = strchr(dwLoc14_119 + dwArg04, '/');
		if (Mem84[dwArg10 + 0x00:word32] != 0x00)
			Mem118[dwArg0C + 0x00:word32] = allocStr(dwArg04, Mem84[dwArg10 + 0x00:word32] - dwArg04);
		Strcat_charp(eax_48, Mem84[dwArg0C + 0x00:word32] + dwLoc14_119);
		Mem102[dwArg08 + 0x00:word32] = Mem84[eax_48 + 0x00:word32];
		eax_103 = 0x01;
	}
	return eax_103;
}

// 0808B234: void localcgi_post(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void localcgi_post(word32 ebp, selector gs, word32 dwArg04)
{
	if (check_local_cgi(dwArg04, cgi_filename(dwArg04, fp - 0x20, fp - 0x24, fp - 0x28)) >= 0x00)
	{
		writeLocalCookie(fp - 0x04, gs);
		if (Mem0[fp + 0x0C:word32] != 0x00 && Mem0[Mem0[fp + 0x0C:word32] + 0x1C:word32] != 0x01)
		{
			Mem315[fp - 0x48 + 0x00:word32] = 0x00;
			Mem316[fp - 0x4C + 0x00:word32] = 0x00;
			byte bpl_317;
			Mem320[fp - 44 + 0x00:word32] = Mem316[tmpfname(fp - 0x04, dwArg00, dwArg04, out bpl_317) + 0x00:word32];
			word32 eax_322 = Mem320[fp - 44 + 0x00:word32];
			Mem323[fp - 0x48 + 0x00:word32] = 135051330;
			Mem324[fp - 0x4C + 0x00:word32] = eax_322;
			Mem326[fp - 0x14 + 0x00:word32] = fopen(Mem324[fp - 0x4C + 0x00:(ptr char)], Mem324[fp - 0x48 + 0x00:(ptr char)]);
			if (Mem326[fp - 0x14 + 0x00:word32] == 0x00)
				return;
		}
		Mem64[fp - 0x48 + 0x00:word32] = 0x00;
		Mem66[fp - 0x4C + 0x00:word32] = fp - 0x10;
		Mem69[fp - 0x1C + 0x00:word32] = open_pipe_rw(dwArg00, dwArg04);
		if (Mem69[fp - 0x1C + 0x00:word32] >= 0x00)
		{
			if (Mem69[fp - 0x1C + 0x00:word32] == 0x00)
			{
				word32 eax_309;
				if (Mem69[fp - 0x14 + 0x00:word32] != 0x00)
				{
					Mem308[fp - 0x4C + 0x00:word32] = Mem69[fp - 0x14 + 0x00:word32];
					eax_309 = fileno(Mem308[fp - 0x4C + 0x00:(ptr FILE)]);
				}
				else
					eax_309 = ~0x00;
				Mem84[fp - 0x44 + 0x00:word32] = eax_309;
				Mem85[fp - 0x48 + 0x00:word32] = 0x02;
				Mem86[fp - 0x4C + 0x00:word32] = 0x01;
				setup_child(dwArg00, dwArg04, dwArg08);
				if (Mem86[fp + 0x08:word32] != 0x00)
				{
					Mem299[fp - 0x40 + 0x00:word32] = 0x00;
					Mem301[fp - 0x44 + 0x00:word32] = Mem299[fp + 0x08:word32];
					Mem302[fp - 0x48 + 0x00:word32] = 135051332;
					word32 eax_303 = Mem302[fp + 0x04:word32];
					Mem304[fp - 0x4C + 0x00:word32] = eax_303;
					Strnew_m_charp(eax_303, dwArg00);
					Mem306[fp + 0x04:word32] = Mem304[eax_303 + 0x00:word32];
				}
				word32 edx_90 = Mem86[fp - 0x20 + 0x00:word32];
				word32 eax_91 = Mem86[fp - 0x24 + 0x00:word32];
				word32 ecx_92 = Mem86[fp + 0x04:word32];
				Mem93[fp - 0x44 + 0x00:word32] = ecx_92;
				Mem94[fp - 0x48 + 0x00:word32] = edx_90;
				Mem95[fp - 0x4C + 0x00:word32] = eax_91;
				set_cgi_environ(dwArg00, dwArg04, dwArg08);
				if (Mem95[fp - 0x28 + 0x00:word32] != 0x00)
				{
					Mem296[fp - 0x48 + 0x00:word32] = Mem95[fp - 0x28 + 0x00:word32];
					Mem297[fp - 0x4C + 0x00:word32] = 135051334;
					set_environ(dwArg00, dwArg04);
				}
				if (Mem95[fp + 0x10:word32] != 0x00 && Mem95[fp + 0x10:word32] != ~0x00)
				{
					Mem292[fp - 0x48 + 0x00:word32] = Mem95[fp + 0x10:word32];
					Mem293[fp - 0x4C + 0x00:word32] = 0x080CB850;
					set_environ(dwArg00, dwArg04);
				}
				word32 esp_107;
				word32 ebp_106;
				if (Mem95[fp + 0x0C:word32] != 0x00)
				{
					Mem165[fp - 0x48 + 0x00:word32] = 135051357;
					Mem166[fp - 0x4C + 0x00:word32] = 0x080CB862;
					set_environ(dwArg00, dwArg04);
					if (Mem166[fp + 0x08:word32] != 0x00)
					{
						Mem254[fp - 0x48 + 0x00:word32] = Mem166[fp + 0x08:word32];
						Mem255[fp - 0x4C + 0x00:word32] = 135051377;
						set_environ(dwArg00, dwArg04);
					}
					Mem172[fp - 0x48 + 0x00:word32] = Mem166[Mem166[fp + 0x0C:word32] + 0x30:word32];
					Mem173[fp - 0x4C + 0x00:word32] = 135051390;
					byte bpl_174;
					Mem177[fp - 0x48 + 0x00:word32] = Mem173[Sprintf(dwArg00, out bpl_174) + 0x00:word32];
					Mem178[fp - 0x4C + 0x00:word32] = 0x080CB881;
					set_environ(dwArg00, dwArg04);
					if (Mem178[Mem178[fp + 0x0C:word32] + 0x1C:word32] == 0x01)
					{
						Mem186[fp - 0x48 + 0x00:word32] = Mem178[Mem178[fp + 0x0C:word32] + 44:word32];
						Mem187[fp - 0x4C + 0x00:word32] = 0x080CB890;
						byte bpl_188;
						Mem191[fp - 0x48 + 0x00:word32] = Mem187[Sprintf(dwArg00, out bpl_188) + 0x00:word32];
						Mem192[fp - 0x4C + 0x00:word32] = 0x080CB8B1;
						set_environ(dwArg00, dwArg04);
						word32 eax_198 = Mem192[Mem192[fp + 0x0C:word32] + 0x28:word32];
						Mem199[fp - 0x44 + 0x00:word32] = Mem192[135774740:word32];
						Mem200[fp - 0x48 + 0x00:word32] = 0x080CB8BE;
						Mem201[fp - 0x4C + 0x00:word32] = eax_198;
						word32 esi_204;
						word32 ebx_205;
						byte SCZO_206;
						word32 eax_207;
						word32 edx_208;
						byte SZO_209;
						byte C_210;
						byte S_211;
						byte Z_212;
						word32 ecx_213;
						selector gs_214;
						byte bpl_215;
						!freopen();
					}
					else
					{
						Mem216[fp - 0x48 + 0x00:word32] = 0x080CB8C0;
						Mem217[fp - 0x4C + 0x00:word32] = 0x080CB8B1;
						set_environ(dwArg00, dwArg04);
						word32 edx_220 = Mem217[Mem217[fp + 0x0C:word32] + 0x30:word32];
						word32 eax_222 = Mem217[Mem217[fp + 0x0C:word32] + 0x28:word32];
						Mem224[fp - 0x40 + 0x00:word32] = Mem217[fp - 0x14 + 0x00:word32];
						Mem225[fp - 0x44 + 0x00:word32] = edx_220;
						Mem226[fp - 0x48 + 0x00:word32] = 0x01;
						Mem227[fp - 0x4C + 0x00:word32] = eax_222;
						fwrite(Mem227[fp - 0x4C + 0x00:(ptr void)], Mem227[fp - 0x48 + 0x00:size_t], Mem227[fp - 0x44 + 0x00:size_t], Mem227[fp - 0x40 + 0x00:(ptr FILE)]);
						Mem230[fp - 0x4C + 0x00:word32] = Mem227[fp - 0x14 + 0x00:word32];
						fclose(Mem230[fp - 0x4C + 0x00:(ptr FILE)]);
						word32 eax_235 = Mem230[fp - 44 + 0x00:word32];
						Mem236[fp - 0x44 + 0x00:word32] = Mem230[135774740:word32];
						Mem237[fp - 0x48 + 0x00:word32] = 0x080CB8BE;
						Mem238[fp - 0x4C + 0x00:word32] = eax_235;
						word32 esi_241;
						word32 ebx_242;
						byte SCZO_243;
						word32 eax_244;
						word32 edx_245;
						byte SZO_246;
						byte C_247;
						byte S_248;
						byte Z_249;
						word32 ecx_250;
						selector gs_251;
						byte bpl_252;
						!freopen();
					}
				}
				else
				{
					word32 eax_262;
					Mem257[fp - 0x48 + 0x00:word32] = 0x080CB8E2;
					Mem258[fp - 0x4C + 0x00:word32] = 0x080CB862;
					set_environ(dwArg00, dwArg04);
					if (Mem258[fp + 0x08:word32] != 0x00)
						eax_262 = Mem258[fp + 0x08:word32];
					else
						eax_262 = 0x080CB8E6;
					Mem263[fp - 0x48 + 0x00:word32] = eax_262;
					Mem264[fp - 0x4C + 0x00:word32] = 135051377;
					set_environ(dwArg00, dwArg04);
					Mem270[fp - 0x44 + 0x00:word32] = Mem264[135774740:word32];
					Mem271[fp - 0x48 + 0x00:word32] = 0x080CB8BE;
					Mem272[fp - 0x4C + 0x00:word32] = 0x080CB8E7;
					word32 esi_275;
					word32 ebx_276;
					byte SCZO_277;
					word32 eax_278;
					word32 edx_279;
					byte SZO_280;
					byte C_281;
					byte S_282;
					byte Z_283;
					word32 ecx_284;
					selector gs_285;
					byte bpl_286;
					!freopen();
				}
				Mem109[esp_107 + 0x00:word32] = Mem95[ebp_106 - 0x1C + 0x00:word32];
				word32 eax_110 = mydirname(dwArg00);
				Mem111[esp_107 + 0x00:word32] = eax_110;
				word32 esp_112;
				word32 ebp_113;
				word32 esi_114;
				word32 ebx_115;
				byte SCZO_116;
				word32 eax_117;
				word32 edx_118;
				byte SZO_119;
				byte C_120;
				byte S_121;
				byte Z_122;
				word32 ecx_123;
				selector gs_124;
				byte bpl_125;
				!chdir();
				Mem127[esp_112 + 0x00:word32] = Mem111[ebp_113 - 0x1C + 0x00:word32];
				word32 eax_128 = mybasename(dwArg00);
				word32 edx_129 = Mem127[ebp_113 - 0x1C + 0x00:word32];
				Mem130[esp_112 + 0x08:word32] = 0x00;
				Mem131[esp_112 + 0x04:word32] = eax_128;
				Mem132[esp_112 + 0x00:word32] = edx_129;
				word32 esp_133;
				word32 ebp_134;
				word32 esi_135;
				word32 ebx_136;
				byte SCZO_137;
				word32 eax_138;
				word32 edx_139;
				byte SZO_140;
				byte C_141;
				byte S_142;
				byte Z_143;
				word32 ecx_144;
				selector gs_145;
				byte bpl_146;
				!execl();
				Mem149[esp_133 + 0x00:word32] = Mem132[__errno_location() + 0x00:word32];
				word32 eax_150 = strerror(Mem149[esp_133 + 0x00:int32]);
				Mem153[esp_133 + 0x00:word32] = Mem149[ebp_134 - 0x1C + 0x00:word32];
				word32 eax_154 = mybasename(dwArg00);
				word32 esi_155 = Mem153[ebp_134 - 0x1C + 0x00:word32];
				word32 edx_157 = Mem153[0x0817C1E4:word32];
				Mem158[esp_133 + 0x10:word32] = eax_150;
				Mem159[esp_133 + 0x0C:word32] = eax_154;
				Mem160[esp_133 + 0x08:word32] = esi_155;
				Mem161[esp_133 + 0x04:word32] = 135051505;
				Mem162[esp_133 + 0x00:word32] = edx_157;
				fprintf(Mem162[esp_133 + 0x00:(ptr FILE)], Mem162[esp_133 + 0x04:(ptr char)], Mem162[esp_133 + 0x08:(ptr char)], Mem162[esp_133 + 0x0C:(ptr char)], Mem162[esp_133 + 0x0010:(ptr char)]);
				Mem164[esp_133 + 0x00:word32] = 0x01;
				exit(Mem164[esp_133 + 0x00:int32]);
			}
			if (Mem69[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem79[fp - 0x4C + 0x00:word32] = Mem69[fp - 0x14 + 0x00:word32];
				fclose(Mem79[fp - 0x4C + 0x00:(ptr FILE)]);
			}
		}
	}
}

// 0808B5F0: Register word32 newFormList(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 newFormList(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Strnew_charp(dwArg04, dwArg04);
	word32 dwLoc18_113 = 0x00;
	if (dwArg08 != 0x00 && strcasecmp(dwArg08, 0x080CB938) != 0x00)
	{
		if (strcasecmp(dwArg08, 135051580) == 0x00)
			dwLoc18_113 = 0x01;
		else if (strcasecmp(dwArg08, 135051585) == 0x00)
			dwLoc18_113 = 0x02;
	}
	else
		dwLoc18_113 = 0x00;
	if (dwArg0C != 0x00)
		Mem95[fp - 0x20 + 0x00:word32] = wc_guess_charset(gs, dwArg0C, 0x00);
	Mem42[fp - 0x3C + 0x00:word32] = 0x34;
	word32 esp_43;
	word32 ebp_44;
	byte SCZO_45;
	word32 eax_46;
	byte Z_47;
	byte SZO_48;
	byte C_49;
	word32 edx_50;
	selector gs_51;
	!GC_malloc();
	Mem52[ebp_44 - 0x0C + 0x00:word32] = eax_46;
	Mem54[Mem52[ebp_44 - 0x0C + 0x00:word32] + 0x04:word32] = 0x00;
	Mem58[Mem54[ebp_44 - 0x0C + 0x00:word32] + 0x00:word32] = Mem54[Mem54[ebp_44 - 0x0C + 0x00:word32] + 0x04:word32];
	Mem61[Mem58[ebp_44 - 0x0C + 0x00:word32] + 0x0C:word32] = Mem58[ebp_44 - 0x10 + 0x00:word32];
	Mem64[Mem61[ebp_44 - 0x0C + 0x00:word32] + 0x08:word32] = Mem61[ebp_44 - 0x14 + 0x00:word32];
	Mem67[Mem64[ebp_44 - 0x0C + 0x00:word32] + 0x18:word32] = Mem64[ebp_44 - 0x1C + 0x00:word32];
	Mem70[Mem67[ebp_44 - 0x0C + 0x00:word32] + 0x1C:word32] = Mem67[ebp_44 - 0x18 + 0x00:word32];
	Mem73[Mem70[ebp_44 - 0x0C + 0x00:word32] + 0x10:word32] = Mem70[ebp_44 + 0x18:word32];
	Mem76[Mem73[ebp_44 - 0x0C + 0x00:word32] + 0x14:word32] = Mem73[ebp_44 + 0x1C:word32];
	Mem79[Mem76[ebp_44 - 0x0C + 0x00:word32] + 0x20:word32] = Mem76[ebp_44 + 0x20:word32];
	Mem81[Mem79[ebp_44 - 0x0C + 0x00:word32] + 0x24:word32] = 0x00;
	Mem83[Mem81[ebp_44 - 0x0C + 0x00:word32] + 0x28:word32] = 0x00;
	Mem85[Mem83[ebp_44 - 0x0C + 0x00:word32] + 0x30:word32] = 0x00;
	return Mem85[ebp_44 - 0x0C + 0x00:word32];
}

// 0808B750: Register word32 formList_addInput(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08)
word32 formList_addInput(word32 eax, word32 dwArg04, word32 dwArg08)
{
	word32 eax_193;
	if (dwArg04 == 0x00)
		eax_193 = 0x00;
	else
	{
		word32 esp_38;
		word32 ebp_39;
		byte SCZO_40;
		byte Z_41;
		word32 eax_42;
		word32 edx_43;
		byte SZO_44;
		byte C_45;
		byte S_46;
		byte al_47;
		!GC_malloc();
		Mem50[eax_42 + 0x00:word32] = ~0x00;
		Mem52[eax_42 + 0x1C:word32] = ~0x00;
		Mem54[eax_42 + 0x20:word32] = 0x00;
		Mem56[eax_42 + 0x14:word32] = 0x00;
		Mem60[eax_42 + 0x10:word32] = Mem56[eax_42 + 0x14:word32];
		Mem62[eax_42 + 0x18:word32] = 0x00;
		Mem64[eax_42 + 0x04:word32] = 0x00;
		Mem66[eax_42 + 0x0C:word32] = 0x00;
		Mem70[eax_42 + 0x08:word32] = Mem66[eax_42 + 0x0C:word32];
		Mem72[eax_42 + 0x28:word32] = 0x00;
		if (parsedtag_get_value(dwArg08, 33, fp - 0x14) != 0x00)
		{
			Mem407[eax_42 + 0x00:word32] = formtype(dwLoc14);
			if (Mem407[eax_42 + 0x1C:word32] < 0x00 && (Mem407[eax_42 + 0x00:word32] == 0x00 || (Mem407[eax_42 + 0x00:word32] == 11 || Mem407[eax_42 + 0x00:word32] == 0x01)))
				Mem421[eax_42 + 0x1C:word32] = 0x28;
		}
		if (parsedtag_get_value(dwArg08, 0x19, fp - 0x14) != 0x00)
		{
			Strnew_charp(dwLoc14, dwLoc14);
			Mem402[eax_42 + 0x04:word32] = dwLoc14;
		}
		if (parsedtag_get_value(dwArg08, 0x24, fp - 0x14) != 0x00)
		{
			Strnew_charp(dwLoc14, dwLoc14);
			Mem394[eax_42 + 0x0C:word32] = dwLoc14;
			Mem398[eax_42 + 0x08:word32] = Mem394[eax_42 + 0x0C:word32];
		}
		word32 eax_113;
		if (Mem72[dwArg08 + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem72[Mem72[dwArg08 + 0x0C:word32] + 0x0C:byte]) != 0x4B && (byte) ((word32) Mem72[Mem72[dwArg08 + 0x04:word32] + (word32) ((byte) ((word32) Mem72[Mem72[dwArg08 + 0x0C:word32] + 0x0C:byte])):byte]) != 0x00))
			eax_113 = 0x01;
		else
			eax_113 = 0x00;
		word32 eax_126;
		Mem116[eax_42 + 0x14:word32] = eax_113;
		Mem120[eax_42 + 0x10:word32] = Mem116[eax_42 + 0x14:word32];
		if (Mem120[dwArg08 + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem120[Mem120[dwArg08 + 0x0C:word32] + 0x01:byte]) != 0x4B && (byte) ((word32) Mem120[Mem120[dwArg08 + 0x04:word32] + (word32) ((byte) ((word32) Mem120[Mem120[dwArg08 + 0x0C:word32] + 0x01:byte])):byte]) != 0x00))
			eax_126 = 0x01;
		else
			eax_126 = 0x00;
		word32 eax_152;
		Mem129[eax_42 + 0x18:word32] = eax_126;
		parsedtag_get_value(dwArg08, 0x1E, eax_42 + 0x1C);
		parsedtag_get_value(dwArg08, 22, eax_42 + 0x24);
		if (Mem129[dwArg08 + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem129[Mem129[dwArg08 + 0x0C:word32] + 0x2B:byte]) != 0x4B && (byte) ((word32) Mem129[Mem129[dwArg08 + 0x04:word32] + (word32) ((byte) ((word32) Mem129[Mem129[dwArg08 + 0x0C:word32] + 0x2B:byte])):byte]) != 0x00))
			eax_152 = 0x01;
		else
			eax_152 = 0x00;
		Mem155[eax_42 + 0x28:word32] = eax_152;
		if (parsedtag_get_value(dwArg08, 0x49, fp - 0x18) != 0x00)
		{
			Mem296[eax_42 + 0x0C:word32] = Mem155[0x08180734:word32][dwLoc18 * 0x04];
			Mem300[eax_42 + 0x08:word32] = Mem296[eax_42 + 0x0C:word32];
		}
		if (parsedtag_get_value(dwArg08, 0x48, fp - 0x18) != 0x00)
			Mem288[eax_42 + 44:word32] = Mem155[0x08180738:word32][dwLoc18 * 0x08];
		if (parsedtag_get_value(dwArg08, 0x1C, fp - 0x14) != 0x00)
			Mem279[eax_42 + 0x20:word32] = atoi(dwLoc14);
		if (Mem155[eax_42 + 0x00:word32] == ~0x00)
			eax_193 = 0x00;
		else
		{
			if (Mem155[eax_42 + 0x00:word32] == 0x08)
			{
				chooseSelectOption(eax_42, Mem155[eax_42 + 44:word32]);
				Mem265[eax_42 + 0x3C:word32] = Mem155[eax_42 + 0x38:word32];
				Mem269[eax_42 + 0x0C:word32] = Mem265[eax_42 + 0x08:word32];
				Mem273[eax_42 + 0x34:word32] = Mem269[eax_42 + 0x30:word32];
			}
			if (Mem155[eax_42 + 0x00:word32] == 11 && (Mem155[eax_42 + 0x08:word32] != 0x00 && Mem155[Mem155[eax_42 + 0x08:word32] + 0x04:word32] != 0x00))
				eax_193 = 0x00;
			else
			{
				Mem208[eax_42 + 0x40:word32] = dwArg04;
				Mem210[eax_42 + 0x44:word32] = 0x00;
				if (Mem210[dwArg04 + 0x00:word32] == 0x00)
				{
					Mem232[dwArg04 + 0x04:word32] = eax_42;
					Mem236[dwArg04 + 0x00:word32] = Mem232[dwArg04 + 0x04:word32];
				}
				else
				{
					Mem240[Mem210[dwArg04 + 0x04:word32] + 0x44:word32] = eax_42;
					Mem243[dwArg04 + 0x04:word32] = eax_42;
				}
				if (Mem210[eax_42 + 0x00:word32] == 0x06)
					eax_193 = 0x00;
				else
				{
					Mem227[dwArg04 + 0x24:word32] = Mem210[dwArg04 + 0x24:word32] + 0x01;
					eax_193 = eax_42;
				}
			}
		}
	}
	return eax_193;
}

// 0808BB58: Register word32 form2str(Register word32 eax, Stack word32 dwArg04)
word32 form2str(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	if (Mem0[dwArg04 + 0x00:word32] != 0x08 && Mem0[dwArg04 + 0x00:word32] != 0x09)
		Strcat_charp(eax, 0x080CB9C8);
	Strcat_charp(eax, 0x080D5720[Mem0[dwArg04 + 0x00:word32] * 0x04]);
	if (Mem0[dwArg04 + 0x04:word32] != 0x00 && Mem0[Mem0[dwArg04 + 0x04:word32] + 0x04:word32] != 0x00)
		Strcat_m_charp(eax);
	if ((Mem0[dwArg04 + 0x00:word32] == 0x03 || (Mem0[dwArg04 + 0x00:word32] == 0x02 || Mem0[dwArg04 + 0x00:word32] == 0x08)) && Mem0[dwArg04 + 0x08:word32] != 0x00)
		Strcat_m_charp(eax);
	Strcat_m_charp(eax);
	return Mem0[eax + 0x00:word32];
}

// 0808BC9A: Register word32 formtype(Stack word32 dwArg04)
word32 formtype(word32 dwArg04)
{
	word32 dwLoc10_13 = 0x00;
	while (true)
	{
		word32 eax_26;
		if (0x080D5720[dwLoc10_13 * 0x04] == 0x00)
			break;
		if (strcasecmp(dwArg04, 0x080D5720[dwLoc10_13 * 0x04]) == 0x00)
		{
			eax_26 = dwLoc10_13;
			return eax_26;
		}
		dwLoc10_13 = dwLoc10_13 + 0x01;
	}
	eax_26 = ~0x00;
	return eax_26;
}

// 0808BCE4: void formRecheckRadio(Register word32 ebp, Register selector gs)
void formRecheckRadio(word32 ebp, selector gs)
{
	while (Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x6C:word32] + 0x04:word32] > Mem0[(fp - 0x10) + 0x00:word32])
	{
		word32 eax_47 = Mem0[fp - 0x10 + 0x00:word32];
		Mem55[fp - 0x14 + 0x00:word32] = Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x6C:word32] + 0x00:word32] + ((eax_47 << 0x06) - (eax_47 << 0x02));
		Mem58[fp - 0x18 + 0x00:word32] = Mem55[Mem55[fp - 0x14 + 0x00:word32] + 0x00:word32];
		if (Mem58[Mem58[fp - 0x18 + 0x00:word32] + 0x40:word32] == Mem58[Mem58[fp + 0x0C:word32] + 0x40:word32] && (Mem58[(fp - 0x18) + 0x00:word32] != Mem58[fp + 0x0C:word32] && Mem58[Mem58[(fp - 0x18) + 0x00:word32] + 0x00:word32] == 0x03))
		{
			word32 eax_85 = Mem58[Mem58[Mem58[fp - 0x18 + 0x00:word32] + 0x04:word32] + 0x00:word32];
			Mem86[fp - 0x28 + 0x00:word32] = Mem58[Mem58[Mem58[fp + 0x0C:word32] + 0x04:word32] + 0x00:word32];
			Mem87[fp - 44 + 0x00:word32] = eax_85;
			if (strcmp(Mem87[fp - 44 + 0x00:(ptr char)], Mem87[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
			{
				Mem93[Mem87[fp - 0x18 + 0x00:word32] + 0x10:word32] = 0x00;
				Mem95[fp - 0x24 + 0x00:word32] = Mem93[fp - 0x18 + 0x00:word32];
				Mem97[fp - 0x28 + 0x00:word32] = Mem95[fp + 0x08:word32];
				Mem99[fp - 44 + 0x00:word32] = Mem97[fp - 0x14 + 0x00:word32];
				formUpdateBuffer(fp - 0x04, gs, dwArg00, dwArg04);
			}
		}
		Mem71[fp - 0x10 + 0x00:word32] = Mem58[fp - 0x10 + 0x00:word32] + 0x01;
	}
	Mem28[Mem0[fp + 0x0C:word32] + 0x10:word32] = 0x01;
	Mem30[fp - 0x24 + 0x00:word32] = Mem28[fp + 0x0C:word32];
	Mem32[fp - 0x28 + 0x00:word32] = Mem30[fp + 0x08:word32];
	Mem34[fp - 44 + 0x00:word32] = Mem32[fp + 0x04:word32];
	formUpdateBuffer(fp - 0x04, gs, dwArg00, dwArg04);
}

// 0808BDC2: void formResetBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void formResetBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00 && (Mem0[dwArg04 + 0x6C:word32] != 0x00 && dwArg08 != 0x00))
	{
		while (Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x6C:word32] + 0x04:word32] > Mem0[(fp - 0x10) + 0x00:word32] && Mem0[Mem0[fp + 0x08:word32] + 0x04:word32] > Mem0[(fp - 0x10) + 0x00:word32])
		{
			word32 eax_64 = Mem0[fp - 0x10 + 0x00:word32];
			Mem72[fp - 0x14 + 0x00:word32] = Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x6C:word32] + 0x00:word32] + ((eax_64 << 0x06) - (eax_64 << 0x02));
			if ((int32) (word16) (word32) Mem72[Mem72[fp - 0x14 + 0x00:word32] + 0x32:word16] == Mem72[Mem72[(fp - 0x14) + 0x00:word32] + 0x14:word32])
			{
				Mem96[fp - 0x18 + 0x00:word32] = Mem72[Mem72[fp - 0x14 + 0x00:word32] + 0x00:word32];
				word32 eax_99 = Mem96[fp - 0x10 + 0x00:word32];
				Mem108[fp - 0x1C + 0x00:word32] = Mem96[Mem96[Mem96[fp + 0x08:word32] + 0x00:word32] + ((eax_99 << 0x06) - (eax_99 << 0x02)):word32];
				if (Mem108[Mem108[fp - 0x18 + 0x00:word32] + 0x00:word32] != Mem108[Mem108[(fp - 0x1C) + 0x00:word32] + 0x00:word32])
					return;
				word32 edx_120;
				if (Mem108[Mem108[fp - 0x1C + 0x00:word32] + 0x04:word32] != 0x00)
					edx_120 = Mem108[Mem108[Mem108[fp - 0x1C + 0x00:word32] + 0x04:word32] + 0x00:word32];
				else
					edx_120 = 0x080CB9EE;
				word32 eax_127;
				if (Mem108[Mem108[fp - 0x18 + 0x00:word32] + 0x04:word32] != 0x00)
					eax_127 = Mem108[Mem108[Mem108[fp - 0x18 + 0x00:word32] + 0x04:word32] + 0x00:word32];
				else
					eax_127 = 0x080CB9EE;
				Mem128[fp - 0x28 + 0x00:word32] = edx_120;
				Mem129[fp - 44 + 0x00:word32] = eax_127;
				if (strcmp(Mem129[fp - 44 + 0x00:(ptr char)], Mem129[fp - 0x28 + 0x00:(ptr char)]) != 0x00)
					return;
				word32 eax_135 = Mem129[Mem129[fp - 0x18 + 0x00:word32] + 0x00:word32];
				if (eax_135 >u 11)
					goto l0808BF93;
				word32 ebx_142 = 0x01 << (byte) eax_135;
				if ((ebx_142 & 0x0A03) == 0x00)
				{
					if ((ebx_142 & 0x0100) == 0x00)
					{
						if ((ebx_142 & 0x0C) == 0x00)
							goto l0808BF93;
						Mem174[Mem129[fp - 0x18 + 0x00:word32] + 0x10:word32] = Mem129[Mem129[fp - 0x1C + 0x00:word32] + 0x10:word32];
						Mem178[Mem174[fp - 0x18 + 0x00:word32] + 0x14:word32] = Mem174[Mem174[fp - 0x1C + 0x00:word32] + 0x14:word32];
					}
					else
					{
						Mem182[Mem129[fp - 0x18 + 0x00:word32] + 44:word32] = Mem129[Mem129[fp - 0x1C + 0x00:word32] + 44:word32];
						Mem186[Mem182[fp - 0x18 + 0x00:word32] + 0x08:word32] = Mem182[Mem182[fp - 0x1C + 0x00:word32] + 0x08:word32];
						Mem190[Mem186[fp - 0x18 + 0x00:word32] + 0x30:word32] = Mem186[Mem186[fp - 0x1C + 0x00:word32] + 0x30:word32];
						Mem194[Mem190[fp - 0x18 + 0x00:word32] + 0x38:word32] = Mem190[Mem190[fp - 0x1C + 0x00:word32] + 0x38:word32];
						Mem198[Mem194[fp - 0x18 + 0x00:word32] + 0x0C:word32] = Mem194[Mem194[fp - 0x1C + 0x00:word32] + 0x0C:word32];
						Mem202[Mem198[fp - 0x18 + 0x00:word32] + 0x34:word32] = Mem198[Mem198[fp - 0x1C + 0x00:word32] + 0x34:word32];
						Mem206[Mem202[fp - 0x18 + 0x00:word32] + 0x3C:word32] = Mem202[Mem202[fp - 0x1C + 0x00:word32] + 0x3C:word32];
					}
				}
				else
				{
					Mem210[Mem129[fp - 0x18 + 0x00:word32] + 0x08:word32] = Mem129[Mem129[fp - 0x1C + 0x00:word32] + 0x08:word32];
					Mem214[Mem210[fp - 0x18 + 0x00:word32] + 0x0C:word32] = Mem210[Mem210[fp - 0x1C + 0x00:word32] + 0x0C:word32];
				}
				Mem155[fp - 0x24 + 0x00:word32] = Mem129[fp - 0x18 + 0x00:word32];
				Mem157[fp - 0x28 + 0x00:word32] = Mem155[fp + 0x04:word32];
				Mem159[fp - 44 + 0x00:word32] = Mem157[fp - 0x14 + 0x00:word32];
				formUpdateBuffer(fp - 0x04, gs, dwArg00, dwArg04);
			}
l0808BF93:
			Mem92[fp - 0x10 + 0x00:word32] = Mem72[fp - 0x10 + 0x00:word32] + 0x01;
		}
	}
}

// 0808BFC3: Register word32 form_update_line(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
word32 form_update_line(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	word32 dwLoc2C_17 = Mem0[dwArg08 + 0x00:word32];
	word32 dwLoc1C_18 = 0x00;
	word32 dwLoc28_19 = 0x00;
	while (true)
	{
		byte al_38 = (byte) (word32) Mem0[dwLoc2C_17 + 0x00:byte];
		if (al_38 == 0x00 || dwLoc1C_18 >= dwArg14)
			break;
		word32 eax_623;
		word16 ax_606 = (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_17 + 0x00:byte] + 0x08179BE0:byte] << 0x08);
		word32 eax_614 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_17 + 0x00:byte] + 0x08179AE0:byte];
		if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
			eax_623 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_17 + 0x00:byte] + 0x081799E0:byte];
		else
			eax_623 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_17 + 0x00:byte] + 0x081799E0:byte] != 0x00);
		if (ax_606 == 0x0100)
		{
			if (dwArg18 != 0x00 && (byte) ((word32) Mem0[dwLoc2C_17 + 0x00:byte]) == 0x0A)
				break;
			if ((byte) (word32) Mem0[dwLoc2C_17 + 0x00:byte] != 0x0D)
			{
				dwLoc1C_18 = dwLoc1C_18 + 0x01;
				dwLoc28_19 = dwLoc28_19 + 0x01;
			}
		}
		else if (dwArg1C != 0x00)
		{
			if (dwLoc1C_18 + eax_623 > dwArg14)
				break;
			dwLoc1C_18 = dwLoc1C_18 + eax_623;
			dwLoc28_19 = dwLoc28_19 + eax_623;
		}
		else if (((word32) ax_606 & 0x1000) != 0x00)
		{
			dwLoc1C_18 = dwLoc1C_18 + 0x01;
			dwLoc28_19 = dwLoc28_19 + 0x01;
		}
		else
		{
			if (dwLoc1C_18 + eax_623 > dwArg14)
				break;
			dwLoc1C_18 = dwLoc1C_18 + eax_623;
			dwLoc28_19 = dwLoc28_19 + eax_614;
		}
		dwLoc2C_17 = dwLoc2C_17 + eax_614;
	}
	word32 ecx_49 = dwArg14 - dwLoc1C_18;
	word32 esp_65;
	word32 ebp_66;
	word32 ebx_67;
	byte SCZO_68;
	word32 eax_69;
	byte al_70;
	byte SZO_71;
	byte C_72;
	byte Z_73;
	byte SO_74;
	word32 edx_75;
	word32 ecx_76;
	byte ah_77;
	word16 ax_78;
	word16 dx_79;
	byte dl_80;
	!GC_malloc();
	word32 esp_86;
	word32 ebp_87;
	word32 ebx_88;
	byte SCZO_89;
	word32 eax_90;
	byte al_91;
	byte SZO_92;
	byte C_93;
	byte Z_94;
	byte SO_95;
	word32 edx_96;
	word32 ecx_97;
	byte ah_98;
	word16 ax_99;
	word16 dx_100;
	byte dl_101;
	!GC_malloc();
	word32 esp_110;
	word32 ebp_111;
	word32 ebx_112;
	byte SCZO_113;
	word32 eax_114;
	byte al_115;
	byte SZO_116;
	byte C_117;
	byte Z_118;
	byte SO_119;
	word32 edx_120;
	word32 ecx_121;
	byte ah_122;
	word16 ax_123;
	word16 dx_124;
	byte dl_125;
	!bcopy();
	word32 esp_134;
	word32 ebp_135;
	word32 ebx_136;
	byte SCZO_137;
	word32 eax_138;
	byte al_139;
	byte SZO_140;
	byte C_141;
	byte Z_142;
	byte SO_143;
	word32 edx_144;
	word32 ecx_145;
	byte ah_146;
	word16 ax_147;
	word16 dx_148;
	byte dl_149;
	!bcopy();
	word32 eax_60 = Mem0[dwArg04 + 0x14:word32] + (dwLoc28_19 + ecx_49) + dwArg0C - dwArg10;
	word16 ax_158 = DPB(ax_147, SLICE((word32) Mem0[dwArg04 + 0x04:word32][dwArg0C * 0x02], byte, 8) & 0xC0, 8);
	word32 dwLoc2C_164 = Mem0[dwArg08 + 0x00:word32];
	word32 dwLoc1C_165 = 0x00;
	word32 dwLoc28_167 = dwArg0C;
	while ((byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] != 0x00 && dwLoc1C_165 < dwArg14)
	{
		word16 ax_387;
		word32 eax_384;
		word16 ax_367 = (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] + 0x08179BE0:byte] << 0x08);
		word32 eax_375 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] + 0x08179AE0:byte];
		if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
		{
			eax_384 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] + 0x081799E0:byte];
			ax_387 = (word16) eax_384;
		}
		else
		{
			eax_384 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] + 0x081799E0:byte] != 0x00);
			ax_387 = (word16) eax_384;
		}
		if (ax_367 == 0x0100)
		{
			if (dwArg18 != 0x00 && (byte) ((word32) Mem0[dwLoc2C_164 + 0x00:byte]) == 0x0A)
				goto l0808C3AE;
			if ((byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] != 0x0D)
			{
				byte al_432;
				word32 edx_426 = dwLoc28_167 + eax_69;
				if (dwArg1C != 0x00)
					al_432 = 0x2A;
				else
					al_432 = 0x20;
				Mem434[edx_426 + 0x00:byte] = al_432;
				eax_90[dwLoc28_167 * 0x02] = (word16) (word32) ax_158;
				dwLoc28_167 = dwLoc28_167 + 0x01;
				dwLoc1C_165 = dwLoc1C_165 + 0x01;
			}
			goto l0808C390;
		}
		if (dwArg1C != 0x00)
		{
			if (dwLoc1C_165 + eax_384 > dwArg14)
				goto l0808C3AE;
			word32 dwLoc20_464 = 0x00;
			while (dwLoc20_464 < eax_384)
			{
				Mem475[dwLoc28_167 + eax_69:byte] = 0x2A;
				eax_90[dwLoc28_167 * 0x02] = (word16) (word32) ax_158;
				dwLoc28_167 = dwLoc28_167 + 0x01;
				dwLoc1C_165 = dwLoc1C_165 + 0x01;
				dwLoc20_464 = dwLoc20_464 + 0x01;
			}
		}
		else if (((word32) ax_367 & 0x1000) != 0x00)
		{
			Mem496[dwLoc28_167 + eax_69:byte] = 0x20;
			eax_90[dwLoc28_167 * 0x02] = (word16) (word32) ax_158;
			dwLoc28_167 = dwLoc28_167 + 0x01;
			dwLoc1C_165 = dwLoc1C_165 + 0x01;
		}
		else
		{
			if (dwLoc1C_165 + eax_384 > dwArg14)
			{
l0808C3AE:
				break;
			}
			Mem518[dwLoc28_167 + eax_69:byte] = (byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte];
			eax_90[dwLoc28_167 * 0x02] = (word16) ((word32) ax_367 | (word32) ax_158);
			dwLoc28_167 = dwLoc28_167 + 0x01;
			word16 ax_533 = DPB(ax_387, SLICE((word32) ax_367, byte, 8) & ~0x06 | 0x04, 8);
			word32 dwLoc20_537 = 0x01;
			while (dwLoc20_537 < eax_375)
			{
				Mem557[dwLoc28_167 + eax_69:byte] = (byte) (word32) Mem526[dwLoc20_537 + dwLoc2C_164:byte];
				eax_90[dwLoc28_167 * 0x02] = (word16) ((word32) ax_533 | (word32) ax_158);
				dwLoc28_167 = dwLoc28_167 + 0x01;
				dwLoc20_537 = dwLoc20_537 + 0x01;
			}
			dwLoc1C_165 = dwLoc1C_165 + eax_384;
		}
l0808C390:
		dwLoc2C_164 = dwLoc2C_164 + eax_375;
	}
	while (dwLoc1C_165 < dwArg14)
	{
		Mem344[dwLoc28_167 + eax_69:byte] = 0x20;
		eax_90[dwLoc28_167 * 0x02] = (word16) (word32) ax_158;
		dwLoc28_167 = dwLoc28_167 + 0x01;
		dwLoc1C_165 = dwLoc1C_165 + 0x01;
	}
	if (dwArg18 != 0x00)
	{
		if (Mem0[135775020:word32] == 0x00)
		{
			while ((byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem0[dwLoc2C_164 + 0x00:byte]) != 0x0D && (byte) ((word32) Mem0[dwLoc2C_164 + 0x00:byte]) != 0x0A))
				dwLoc2C_164 = dwLoc2C_164 + 0x01;
		}
		if ((byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] == 0x0D)
			dwLoc2C_164 = dwLoc2C_164 + 0x01;
		if ((byte) (word32) Mem0[dwLoc2C_164 + 0x00:byte] == 0x0A)
			dwLoc2C_164 = dwLoc2C_164 + 0x01;
	}
	Mem212[dwArg08 + 0x00:word32] = dwLoc2C_164;
	word32 esp_227;
	word32 ebp_228;
	word32 ebx_229;
	byte SCZO_230;
	word32 eax_231;
	byte al_232;
	byte SZO_233;
	byte C_234;
	byte Z_235;
	byte SO_236;
	word32 edx_237;
	word32 ecx_238;
	byte ah_239;
	word16 ax_240;
	word16 dx_241;
	byte dl_242;
	!bcopy();
	word32 esp_259;
	word32 ebp_260;
	word32 ebx_261;
	byte SCZO_262;
	word32 eax_263;
	byte al_264;
	byte SZO_265;
	byte C_266;
	byte Z_267;
	byte SO_268;
	word32 edx_269;
	word32 ecx_270;
	byte ah_271;
	word16 ax_272;
	word16 dx_273;
	byte dl_274;
	!bcopy();
	Mem277[dwArg04 + 0x00:word32] = eax_69;
	Mem280[dwArg04 + 0x04:word32] = eax_90;
	Mem283[dwArg04 + 0x14:word32] = eax_60;
	Mem286[dwArg04 + 0x28:word32] = eax_60;
	return dwLoc28_167;
}

// 0808C4B8: void formUpdateBuffer(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void formUpdateBuffer(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	copyBuffer(fp - 0x0144, dwArg08);
	gotoLine(fp - 0x04, gs, dwArg08, Mem0[dwArg04 + 0x14:word32]);
	word32 eax_32 = Mem0[Mem0[fp + 0x0C:word32] + 0x00:word32];
	if (eax_32 <=u 11 && (0x01 << (byte) eax_32 & 0x0B0F) != 0x00)
	{
		Mem410[fp - 0x24 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x18:word32];
		Mem413[fp - 0x28 + 0x00:word32] = Mem410[Mem410[fp + 0x04:word32] + 0x24:word32];
	}
	else
	{
		Mem392[fp - 0x24 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x18:word32] + 0x01;
		Mem397[fp - 0x28 + 0x00:word32] = Mem392[Mem392[fp + 0x04:word32] + 0x24:word32] - 0x01;
	}
	word32 eax_51 = Mem0[Mem0[fp + 0x0C:word32] + 0x00:word32];
	if (eax_51 <=u 11)
	{
		word32 ebx_89 = 0x01 << (byte) eax_51;
		if ((ebx_89 & 0x0B03) == 0x00)
		{
			if ((ebx_89 & 0x0C) != 0x00)
			{
				if (Mem0[Mem0[fp + 0x0C:word32] + 0x10:word32] != 0x00)
					Mem112[Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x10:word32] + 0x00:word32] + Mem0[(fp - 0x24) + 0x00:word32]:byte] = 0x2A;
				else
					Mem118[Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x10:word32] + 0x00:word32] + Mem0[(fp - 0x24) + 0x00:word32]:byte] = 0x20;
			}
			goto l0808C8A3;
		}
		if (Mem0[Mem0[fp + 0x0C:word32] + 0x00:word32] == 0x08)
		{
			Mem372[fp - 0x20 + 0x00:word32] = Mem0[Mem0[Mem0[fp + 0x0C:word32] + 0x30:word32] + 0x00:word32];
			Mem375[fp - 0x0168 + 0x00:word32] = Mem372[Mem372[fp + 0x0C:word32] + 44:word32];
			Mem377[fp - 0x016C + 0x00:word32] = Mem375[fp + 0x0C:word32];
			updateSelectOption(dwArg00, dwArg04);
		}
		else
			Mem381[fp - 0x20 + 0x00:word32] = Mem0[Mem0[Mem0[fp + 0x0C:word32] + 0x08:word32] + 0x00:word32];
		Mem125[fp - 0x3C + 0x00:word32] = Mem0[Mem0[fp + 0x08:word32] + 0x10:word32];
		if (Mem125[Mem125[fp + 0x0C:word32] + 0x00:word32] == 0x09)
		{
			Mem338[fp - 0x40 + 0x00:word32] = (int32) (word16) (word32) Mem125[Mem125[fp + 0x04:word32] + 0x32:word16] - Mem125[Mem125[Mem125[fp + 0x08:word32] + 0x10:word32] + 0x1C:word32];
			if (Mem338[fp - 0x40 + 0x00:word32] > 0x00)
			{
				while (Mem338[fp - 0x3C + 0x00:word32] != 0x00 && Mem338[(fp - 0x40) + 0x00:word32] != 0x00)
				{
					Mem352[fp - 0x3C + 0x00:word32] = Mem338[Mem338[fp - 0x3C + 0x00:word32] + 0x10:word32];
					Mem354[fp - 0x40 + 0x00:word32] = Mem352[fp - 0x40 + 0x00:word32] - 0x01;
				}
			}
			else if (Mem338[fp - 0x40 + 0x00:word32] < 0x00)
			{
				while (Mem338[fp - 0x3C + 0x00:word32] != 0x00 && Mem338[(fp - 0x40) + 0x00:word32] != 0x00)
				{
					Mem365[fp - 0x3C + 0x00:word32] = Mem338[Mem338[fp - 0x3C + 0x00:word32] + 0x10:word32];
					Mem367[fp - 0x40 + 0x00:word32] = Mem365[fp - 0x40 + 0x00:word32] + 0x01;
				}
			}
			if (Mem338[fp - 0x3C + 0x00:word32] == 0x00)
				goto l0808C8A3;
		}
		word32 eax_142;
		if (Mem125[Mem125[fp + 0x0C:word32] + 0x20:word32] != 0x00)
			eax_142 = Mem125[Mem125[fp + 0x0C:word32] + 0x20:word32];
		else
			eax_142 = 0x01;
		Mem143[fp - 44 + 0x00:word32] = eax_142;
		word32 ebx_145 = Mem143[Mem143[fp + 0x04:word32] + 0x18:word32];
		word32 ecx_147 = Mem143[Mem143[fp - 0x3C + 0x00:word32] + 0x14:word32];
		word32 edx_149 = Mem143[Mem143[fp - 0x3C + 0x00:word32] + 0x04:word32];
		word32 eax_151 = Mem143[Mem143[fp - 0x3C + 0x00:word32] + 0x00:word32];
		Mem152[fp - 344 + 0x00:word32] = 0x00;
		Mem153[fp - 0x015C + 0x00:word32] = 0x00;
		Mem154[fp - 0x0160 + 0x00:word32] = ebx_145;
		Mem155[fp - 0x0164 + 0x00:word32] = ecx_147;
		Mem156[fp - 0x0168 + 0x00:word32] = edx_149;
		Mem157[fp - 0x016C + 0x00:word32] = eax_151;
		Mem162[fp - 0x38 + 0x00:word32] = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		Mem163[fp - 0x30 + 0x00:word32] = 0x00;
		while (Mem163[fp - 0x30 + 0x00:word32] < Mem163[(fp - 44) + 0x00:word32])
		{
			if (Mem163[fp - 44 + 0x00:word32] > 0x01)
			{
				Mem298[fp - 0x0168 + 0x00:word32] = Mem163[fp - 0x38 + 0x00:word32];
				Mem300[fp - 0x016C + 0x00:word32] = Mem298[fp - 0x3C + 0x00:word32];
				Mem302[fp - 0x34 + 0x00:word32] = columnPos(dwArg00, dwArg04);
				word32 edx_304 = Mem302[Mem302[fp - 0x3C + 0x00:word32] + 0x1C:word32];
				word32 eax_306 = Mem302[Mem302[fp + 0x08:word32] + 0x6C:word32];
				Mem308[fp - 0x0164 + 0x00:word32] = Mem302[fp - 0x34 + 0x00:word32];
				Mem309[fp - 0x0168 + 0x00:word32] = edx_304;
				Mem310[fp - 0x016C + 0x00:word32] = eax_306;
				Mem312[fp + 0x04:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
				if (Mem312[fp + 0x04:word32] == 0x00)
					break;
				Mem317[fp - 0x24 + 0x00:word32] = Mem312[Mem312[fp + 0x04:word32] + 0x18:word32];
				Mem320[fp - 0x28 + 0x00:word32] = Mem317[Mem317[fp + 0x04:word32] + 0x24:word32];
			}
			word32 esi_182 = (word32) (Mem163[Mem163[fp + 0x0C:word32] + 0x00:word32] == 0x01);
			word32 ebx_186 = (word32) (Mem163[fp - 44 + 0x00:word32] > 0x01);
			word32 ecx_188 = Mem163[Mem163[fp - 0x3C + 0x00:word32] + 0x14:word32];
			word32 edx_190 = Mem163[Mem163[fp - 0x3C + 0x00:word32] + 0x04:word32];
			word32 eax_192 = Mem163[Mem163[fp - 0x3C + 0x00:word32] + 0x00:word32];
			Mem193[fp - 344 + 0x00:word32] = 0x00;
			Mem194[fp - 0x015C + 0x00:word32] = 0x00;
			Mem196[fp - 0x0160 + 0x00:word32] = Mem194[fp - 0x28 + 0x00:word32];
			Mem197[fp - 0x0164 + 0x00:word32] = ecx_188;
			Mem198[fp - 0x0168 + 0x00:word32] = edx_190;
			Mem199[fp - 0x016C + 0x00:word32] = eax_192;
			word32 eax_201 = calcPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14) - Mem199[(fp - 0x38) + 0x00:word32];
			Mem203[fp - 0x0154 + 0x00:word32] = esi_182;
			Mem204[fp - 344 + 0x00:word32] = ebx_186;
			Mem205[fp - 0x015C + 0x00:word32] = eax_201;
			Mem207[fp - 0x0160 + 0x00:word32] = Mem205[fp - 0x28 + 0x00:word32];
			Mem209[fp - 0x0164 + 0x00:word32] = Mem207[fp - 0x24 + 0x00:word32];
			Mem211[fp - 0x0168 + 0x00:word32] = fp - 0x20;
			Mem213[fp - 0x016C + 0x00:word32] = Mem211[fp - 0x3C + 0x00:word32];
			Mem216[fp - 0x34 + 0x00:word32] = form_update_line(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
			if (Mem216[fp - 0x34 + 0x00:word32] != Mem216[(fp - 0x28) + 0x00:word32])
			{
				word32 ecx_235 = Mem216[Mem216[fp + 0x04:word32] + 0x14:word32];
				word32 edx_237 = Mem216[Mem216[fp + 0x08:word32] + 0x7C:word32];
				word32 eax_239 = Mem216[Mem216[fp + 0x08:word32] + 0x60:word32];
				Mem240[fp - 0x015C + 0x00:word32] = Mem216[fp - 0x34 + 0x00:word32] - Mem216[(fp - 0x28) + 0x00:word32];
				Mem242[fp - 0x0160 + 0x00:word32] = Mem240[fp - 0x24 + 0x00:word32];
				Mem243[fp - 0x0164 + 0x00:word32] = ecx_235;
				Mem244[fp - 0x0168 + 0x00:word32] = edx_237;
				Mem245[fp - 0x016C + 0x00:word32] = eax_239;
				shiftAnchorPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
				word32 ecx_252 = Mem245[Mem245[fp + 0x04:word32] + 0x14:word32];
				word32 edx_254 = Mem245[Mem245[fp + 0x08:word32] + 0x7C:word32];
				word32 eax_256 = Mem245[Mem245[fp + 0x08:word32] + 100:word32];
				Mem257[fp - 0x015C + 0x00:word32] = Mem245[fp - 0x34 + 0x00:word32] - Mem245[(fp - 0x28) + 0x00:word32];
				Mem259[fp - 0x0160 + 0x00:word32] = Mem257[fp - 0x24 + 0x00:word32];
				Mem260[fp - 0x0164 + 0x00:word32] = ecx_252;
				Mem261[fp - 0x0168 + 0x00:word32] = edx_254;
				Mem262[fp - 0x016C + 0x00:word32] = eax_256;
				shiftAnchorPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
				word32 ecx_269 = Mem262[Mem262[fp + 0x04:word32] + 0x14:word32];
				word32 edx_271 = Mem262[Mem262[fp + 0x08:word32] + 0x7C:word32];
				word32 eax_273 = Mem262[Mem262[fp + 0x08:word32] + 0x68:word32];
				Mem274[fp - 0x015C + 0x00:word32] = Mem262[fp - 0x34 + 0x00:word32] - Mem262[(fp - 0x28) + 0x00:word32];
				Mem276[fp - 0x0160 + 0x00:word32] = Mem274[fp - 0x24 + 0x00:word32];
				Mem277[fp - 0x0164 + 0x00:word32] = ecx_269;
				Mem278[fp - 0x0168 + 0x00:word32] = edx_271;
				Mem279[fp - 0x016C + 0x00:word32] = eax_273;
				shiftAnchorPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
				word32 ecx_286 = Mem279[Mem279[fp + 0x04:word32] + 0x14:word32];
				word32 edx_288 = Mem279[Mem279[fp + 0x08:word32] + 0x7C:word32];
				word32 eax_290 = Mem279[Mem279[fp + 0x08:word32] + 0x6C:word32];
				Mem291[fp - 0x015C + 0x00:word32] = Mem279[fp - 0x34 + 0x00:word32] - Mem279[(fp - 0x28) + 0x00:word32];
				Mem293[fp - 0x0160 + 0x00:word32] = Mem291[fp - 0x24 + 0x00:word32];
				Mem294[fp - 0x0164 + 0x00:word32] = ecx_286;
				Mem295[fp - 0x0168 + 0x00:word32] = edx_288;
				Mem296[fp - 0x016C + 0x00:word32] = eax_290;
				shiftAnchorPosition(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
			}
			Mem224[fp - 0x30 + 0x00:word32] = Mem216[fp - 0x30 + 0x00:word32] + 0x01;
			Mem228[fp - 0x3C + 0x00:word32] = Mem224[Mem224[fp - 0x3C + 0x00:word32] + 0x0C:word32];
		}
	}
l0808C8A3:
	Mem69[fp - 0x0168 + 0x00:word32] = fp - 0x0144;
	Mem71[fp - 0x016C + 0x00:word32] = Mem69[fp + 0x08:word32];
	copyBuffer(dwArg00, dwArg04);
	Mem74[fp - 0x016C + 0x00:word32] = Mem71[fp + 0x08:word32];
	arrangeLine(dwArg00);
}

// 0808C8CE: Register word32 textfieldrep(Stack word32 dwArg04, Stack word32 dwArg08)
word32 textfieldrep(word32 dwArg04, word32 dwArg08)
{
	Strnew_size(dwArg08 + 0x02, dwArg08 + 0x02);
	word32 dwLoc1C_14 = 0x00;
	word32 dwLoc18_147 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc18_147)
	{
		word16 ax_110 = (word16) ((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] + 0x08179BE0:byte] << 0x08);
		word32 eax_122 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] + 0x08179AE0:byte];
		if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] != 0x0D)
		{
			word32 eax_157;
			if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
				eax_157 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] + 0x081799E0:byte];
			else
				eax_157 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] + 0x081799E0:byte] != 0x00);
			word32 eax_160 = eax_157 + dwLoc1C_14;
			if (eax_160 > dwArg08)
				break;
			if (ax_110 == 0x0100)
			{
				if (Mem0[dwArg08 + 0x06:word32] + 0x01 >= Mem0[dwArg08 + 0x0A:word32])
					Strgrow(dwArg08 + 0x02);
				word32 eax_191 = Mem0[dwArg08 + 0x06:word32];
				Mem194[Mem0[dwArg08 + 0x02:word32] + eax_191:byte] = 0x20;
				Mem197[dwArg08 + 0x06:word32] = eax_191 + 0x01;
				Mem203[Mem197[dwArg08 + 0x02:word32] + Mem197[dwArg08 + 0x06:word32]:byte] = 0x00;
			}
			else if (((word32) ax_110 & 0x1000) != 0x00)
			{
				if (Mem0[dwArg08 + 0x06:word32] + 0x01 >= Mem0[dwArg08 + 0x0A:word32])
					Strgrow(dwArg08 + 0x02);
				word32 eax_222 = Mem0[dwArg08 + 0x06:word32];
				Mem225[Mem0[dwArg08 + 0x02:word32] + eax_222:byte] = 0x20;
				Mem228[dwArg08 + 0x06:word32] = eax_222 + 0x01;
				Mem234[Mem228[dwArg08 + 0x02:word32] + Mem228[dwArg08 + 0x06:word32]:byte] = 0x00;
			}
			else if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] == 0x26)
				Strcat_charp(dwArg08 + 0x02, 135051759);
			else if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] == 0x3C)
				Strcat_charp(dwArg08 + 0x02, 135051765);
			else if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc18_147:byte] == 0x3E)
				Strcat_charp(dwArg08 + 0x02, 135051770);
			else
				Strcat_charp_n(dwArg08 + 0x02, Mem0[dwArg04 + 0x00:word32] + dwLoc18_147, eax_122);
			dwLoc1C_14 = eax_160;
		}
		dwLoc18_147 = dwLoc18_147 + eax_122;
	}
	while (dwLoc1C_14 < dwArg08)
	{
		if (Mem0[dwArg08 + 0x06:word32] + 0x01 >= Mem0[dwArg08 + 0x0A:word32])
			Strgrow(dwArg08 + 0x02);
		word32 eax_80 = Mem0[dwArg08 + 0x06:word32];
		Mem83[Mem0[dwArg08 + 0x02:word32] + eax_80:byte] = 0x20;
		Mem86[dwArg08 + 0x06:word32] = eax_80 + 0x01;
		Mem92[Mem86[dwArg08 + 0x02:word32] + Mem86[dwArg08 + 0x06:word32]:byte] = 0x00;
		dwLoc1C_14 = dwLoc1C_14 + 0x01;
	}
	return dwArg08 + 0x02;
}

// 0808CB78: void form_fputs_decode(Register word32 eax, Stack word32 dwArg04)
void form_fputs_decode(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	word32 dwLoc10_104 = Mem0[dwArg04 + 0x00:word32];
	while ((byte) (word32) Mem0[dwLoc10_104 + 0x00:byte] != 0x00)
	{
		if ((int32) (byte) (word32) Mem0[dwLoc10_104 + 0x00:byte] == 0x0D && (byte) ((word32) Mem0[dwLoc10_104 + 0x01:byte]) == 0x0A)
			dwLoc10_104 = dwLoc10_104 + 0x01;
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_76 = Mem0[eax + 0x04:word32];
		Mem82[Mem0[eax + 0x00:word32] + eax_76:byte] = (byte) (word32) Mem0[dwLoc10_104 + 0x00:byte];
		Mem85[eax + 0x04:word32] = eax_76 + 0x01;
		Mem91[Mem85[eax + 0x00:word32] + Mem85[eax + 0x04:word32]:byte] = 0x00;
		dwLoc10_104 = dwLoc10_104 + 0x01;
	}
	word32 ebx_39;
	Mem41[fp - 0x14 + 0x00:word32] = wc_Str_conv_strict(eax, Mem0[135091052:word32], Mem0[0x080D5370:word32], out ebx_39);
	word32 eax_43 = Mem41[Mem41[fp - 0x14 + 0x00:word32] + 0x04:word32];
	word32 eax_46 = Mem41[Mem41[fp - 0x14 + 0x00:word32] + 0x00:word32];
	Mem48[fp - 0x20 + 0x00:word32] = Mem41[fp + 0x08:word32];
	Mem49[fp - 0x24 + 0x00:word32] = eax_43;
	Mem50[fp - 0x28 + 0x00:word32] = 0x01;
	Mem51[fp - 44 + 0x00:word32] = eax_46;
	fwrite(Mem51[fp - 44 + 0x00:(ptr void)], Mem51[fp - 0x28 + 0x00:size_t], Mem51[fp - 0x24 + 0x00:size_t], Mem51[fp - 0x20 + 0x00:(ptr FILE)]);
}

// 0808CC57: Register word32 input_textarea(Register word32 ebp, Register selector gs)
word32 input_textarea(word32 ebp, selector gs)
{
	word32 eax_33;
	byte bpl_11;
	Mem15[fp - 0x14 + 0x00:word32] = Mem0[tmpfname(fp - 0x04, 0x00, 0x00, out bpl_11) + 0x00:word32];
	Mem17[fp - 0x20 + 0x00:word32] = Mem15[0x080D5370:word32];
	word32 eax_19 = Mem17[fp - 0x14 + 0x00:word32];
	Mem20[fp - 0x48 + 0x00:word32] = 135051775;
	Mem21[fp - 0x4C + 0x00:word32] = eax_19;
	Mem23[fp - 0x1C + 0x00:word32] = fopen(Mem21[fp - 0x4C + 0x00:(ptr char)], Mem21[fp - 0x48 + 0x00:(ptr char)]);
	if (Mem23[fp - 0x1C + 0x00:word32] == 0x00)
	{
		Mem39[fp - 0x48 + 0x00:word32] = 0x00;
		Mem40[fp - 0x4C + 0x00:word32] = 135051777;
		byte bpl_44;
		eax_33 = disp_err_message(gs, dwArg00, dwArg04, out bpl_44);
	}
	else
	{
		if (Mem23[Mem23[fp + 0x04:word32] + 0x08:word32] != 0x00)
		{
			word32 eax_199 = Mem23[Mem23[fp + 0x04:word32] + 0x08:word32];
			Mem201[fp - 0x48 + 0x00:word32] = Mem23[fp - 0x1C + 0x00:word32];
			Mem202[fp - 0x4C + 0x00:word32] = eax_199;
			form_fputs_decode(eax_199, dwArg00);
		}
		Mem55[fp - 0x4C + 0x00:word32] = Mem23[fp - 0x1C + 0x00:word32];
		fclose(Mem55[fp - 0x4C + 0x00:(ptr FILE)]);
		fmTerm(gs);
		word32 eax_57 = Mem55[0x080D5320:word32];
		Mem58[fp - 0x44 + 0x00:word32] = 0x01;
		word32 edx_59 = Mem58[fp - 0x14 + 0x00:word32];
		Mem60[fp - 0x48 + 0x00:word32] = edx_59;
		Mem61[fp - 0x4C + 0x00:word32] = eax_57;
		word32 eax_63 = Mem61[myEditor(fp - 0x04, dwArg00) + 0x00:word32];
		Mem64[fp - 0x4C + 0x00:word32] = eax_63;
		word32 esp_66;
		word32 ebp_67;
		byte SCZO_68;
		word32 eax_69;
		word32 edx_70;
		byte Z_71;
		byte SZO_72;
		byte C_73;
		byte al_74;
		selector gs_75;
		byte bpl_76;
		!system();
		fmInit(gs_75);
		if (Mem64[Mem64[ebp_67 + 0x08:word32] + 0x28:word32] == 0x00)
		{
			word32 eax_93 = Mem64[ebp_67 - 0x10 + 0x00:word32];
			Mem94[esp_66 + 0x04:word32] = 135051803;
			Mem95[esp_66 + 0x00:word32] = eax_93;
			word32 eax_96 = fopen(Mem95[esp_66 + 0x00:(ptr char)], Mem95[esp_66 + 0x04:(ptr char)]);
			Mem98[ebp_67 - 0x18 + 0x00:word32] = eax_96;
			if (Mem98[ebp_67 - 0x18 + 0x00:word32] == 0x00)
			{
				Mem101[esp_66 + 0x04:word32] = 0x00;
				Mem102[esp_66 + 0x00:word32] = 135051777;
				byte bpl_103;
				disp_err_message(gs_75, dwArg00, dwArg04, out bpl_103);
			}
			else
			{
				Strnew(eax_96);
				Mem106[Mem98[ebp_67 + 0x08:word32] + 0x08:word32] = eax_96;
				Mem109[ebp_67 - 0x09 + 0x00:byte] = (byte) (word32) Mem106[0x080DC0A0:byte];
				Mem110[0x080DC0A0:byte] = 0x02;
				while (true)
				{
					word32 eax_115 = Mem110[ebp_67 - 0x18 + 0x00:word32];
					Mem116[esp_66 + 0x00:word32] = eax_115;
					Strfgets(eax_115, dwArg00);
					Mem117[ebp_67 - 0x14 + 0x00:word32] = eax_115;
					if (Mem117[Mem117[ebp_67 - 0x14 + 0x00:word32] + 0x04:word32] <= 0x00)
						break;
					if (Mem117[Mem117[ebp_67 - 0x14 + 0x00:word32] + 0x04:word32] == 0x01)
					{
						word32 eax_192 = (word32) Mem117[Mem117[Mem117[ebp_67 - 0x14 + 0x00:word32] + 0x00:word32] + (Mem117[Mem117[(ebp_67 - 0x14) + 0x00:word32] + 0x04:word32] - 0x01):byte];
						if ((byte) eax_192 != 0x0A)
							goto l0808CDA7;
						Mem196[esp_66 + 0x00:word32] = 135051805;
						Strnew_charp(eax_192, dwArg00);
						Mem197[ebp_67 - 0x14 + 0x00:word32] = eax_192;
					}
					else
					{
l0808CDA7:
						if (Mem117[Mem117[ebp_67 - 0x14 + 0x00:word32] + 0x04:word32] > 0x01 && ((byte) ((word32) Mem117[Mem117[Mem117[(ebp_67 - 0x14) + 0x00:word32] + 0x00:word32] + (Mem117[Mem117[(ebp_67 - 0x14) + 0x00:word32] + 0x04:word32] - 0x01):byte]) == 0x0A && (byte) ((word32) Mem117[Mem117[Mem117[(ebp_67 - 0x14) + 0x00:word32] + 0x00:word32] + (Mem117[Mem117[(ebp_67 - 0x14) + 0x00:word32] + 0x04:word32] - 0x02):byte]) != 0x0D))
						{
							Mem180[esp_66 + 0x04:word32] = 0x01;
							Mem182[esp_66 + 0x00:word32] = Mem180[ebp_67 - 0x14 + 0x00:word32];
							Strshrink(dwArg00, dwArg04);
							Mem183[esp_66 + 0x04:word32] = 135051805;
							Mem185[esp_66 + 0x00:word32] = Mem183[ebp_67 - 0x14 + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
					}
					Mem137[esp_66 + 0x10:word32] = Mem117[0x080D5370:word32];
					Mem139[esp_66 + 0x0C:word32] = ebp_67 - 0x1C;
					Mem140[esp_66 + 0x08:word32] = 0x00;
					Mem142[esp_66 + 0x04:word32] = Mem140[ebp_67 - 0x14 + 0x00:word32];
					Mem143[esp_66 + 0x00:word32] = 0x00;
					Mem147[ebp_67 - 0x14 + 0x00:word32] = convertLine(ebp_67, dwArg04, dwArg0C, dwArg10);
					word32 eax_149 = Mem147[Mem147[ebp_67 + 0x08:word32] + 0x08:word32];
					Mem151[esp_66 + 0x04:word32] = Mem147[ebp_67 - 0x14 + 0x00:word32];
					Mem152[esp_66 + 0x00:word32] = eax_149;
					Strcat(dwArg00, dwArg04);
				}
				Mem124[0x080DC0A0:byte] = (byte) (word32) Mem117[ebp_67 - 0x09 + 0x00:byte];
				Mem126[esp_66 + 0x00:word32] = Mem124[ebp_67 - 0x18 + 0x00:word32];
				fclose(Mem126[esp_66 + 0x00:(ptr FILE)]);
			}
		}
		Mem89[esp_66 + 0x00:word32] = Mem64[ebp_67 - 0x10 + 0x00:word32];
		eax_33 = unlink(Mem89[esp_66 + 0x00:(ptr char)]);
	}
	return eax_33;
}

// 0808CE8B: void do_internal(Stack word32 dwArg04, Stack word32 dwArg08)
void do_internal(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_11 = 0x00;
	while (0x080D56E0[dwLoc10_11 * 0x08] != 0x00)
	{
		if (strcasecmp(0x080D56E0[dwLoc10_11 * 0x08], dwArg04) == 0x00)
		{
			if (135091940[dwLoc10_11 * 0x08] != 0x00)
			{
				word32 ebx_55 = 135091940[dwLoc10_11 * 0x08];
				cgistr2tagarg(dwArg08);
				word32 esp_60;
				word32 ebp_61;
				word32 ebx_62;
				byte SCZO_63;
				word32 eax_64;
				byte SZO_65;
				byte C_66;
				byte Z_67;
				word32 edx_68;
				ebx_55();
			}
			return;
		}
		dwLoc10_11 = dwLoc10_11 + 0x01;
	}
}

// 0808CEFD: Register word32 addSelectOption(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 addSelectOption(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	byte Z_13;
	word32 edx_14;
	byte SZO_15;
	byte C_16;
	!GC_malloc();
	if (dwArg08 == 0x00)
		dwArg08 = dwArg0C;
	Mem24[eax_12 + 0x00:word32] = dwArg08;
	Strremovefirstspaces(dwArg0C);
	Strremovetrailingspaces(dwArg0C);
	Mem32[eax_12 + 0x04:word32] = dwArg0C;
	Mem36[eax_12 + 0x08:word32] = dwArg10;
	Mem38[eax_12 + 0x0C:word32] = 0x00;
	if (Mem38[dwArg04 + 0x00:word32] == 0x00)
	{
		Mem52[dwArg04 + 0x04:word32] = eax_12;
		Mem56[dwArg04 + 0x00:word32] = Mem52[dwArg04 + 0x04:word32];
	}
	else
	{
		Mem60[Mem38[dwArg04 + 0x04:word32] + 0x0C:word32] = eax_12;
		Mem63[dwArg04 + 0x04:word32] = eax_12;
	}
	return dwArg04;
}

// 0808CF8E: void chooseSelectOption(Stack word32 dwArg04, Stack word32 dwArg08)
void chooseSelectOption(word32 dwArg04, word32 dwArg08)
{
	Mem9[dwArg04 + 0x38:word32] = 0x00;
	if (dwArg08 == 0x00)
	{
		Strnew_size(dwArg04, 0x00);
		Mem29[dwArg04 + 0x08:word32] = dwArg04;
		Strnew_size(dwArg04, 0x00);
		Mem33[dwArg04 + 0x30:word32] = dwArg04;
	}
	else
	{
		Mem42[dwArg04 + 0x08:word32] = Mem9[dwArg08 + 0x00:word32];
		Mem46[dwArg04 + 0x30:word32] = Mem42[dwArg08 + 0x04:word32];
		word32 dwLoc14_47 = 0x00;
		word32 dwLoc10_49 = dwArg08;
		while (dwLoc10_49 != 0x00)
		{
			if (Mem46[dwLoc10_49 + 0x08:word32] != 0x00)
			{
				Mem73[dwArg04 + 0x08:word32] = Mem46[dwLoc10_49 + 0x00:word32];
				Mem77[dwArg04 + 0x30:word32] = Mem73[dwLoc10_49 + 0x04:word32];
				Mem80[dwArg04 + 0x38:word32] = dwLoc14_47;
				break;
			}
			dwLoc14_47 = dwLoc14_47 + 0x01;
			dwLoc10_49 = Mem46[dwLoc10_49 + 0x0C:word32];
		}
		updateSelectOption(dwArg04, dwArg08);
	}
}

// 0808D043: void updateSelectOption(Stack word32 dwArg04, Stack word32 dwArg08)
void updateSelectOption(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00 && dwArg08 != 0x00)
	{
		word32 dwLoc08_21 = 0x00;
		while (dwArg08 != 0x00)
		{
			if (Mem0[dwArg04 + 0x38:word32] == dwLoc08_21)
				Mem40[dwArg08 + 0x08:word32] = 0x01;
			else
				Mem42[dwArg08 + 0x08:word32] = 0x00;
			dwLoc08_21 = dwLoc08_21 + 0x01;
			dwArg08 = Mem0[dwArg08 + 0x0C:word32];
		}
	}
}

// 0808D09A: void formChooseOptionByMenu(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void formChooseOptionByMenu(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc14_130 = 0x00;
	word32 dwLoc20_134 = Mem0[dwArg04 + 44:word32];
	while (dwLoc20_134 != 0x00)
	{
		dwLoc14_130 = dwLoc14_130 + 0x01;
		dwLoc20_134 = Mem0[dwLoc20_134 + 0x0C:word32];
	}
	word32 esp_28;
	word32 ebp_29;
	byte SCZO_30;
	word32 eax_31;
	byte Z_32;
	byte SZO_33;
	byte C_34;
	byte S_35;
	word32 edx_36;
	selector gs_37;
	!GC_malloc();
	word32 dwLoc10_124 = 0x00;
	word32 dwLoc20_128 = Mem0[dwArg04 + 44:word32];
	while (dwLoc20_128 != 0x00)
	{
		eax_31[dwLoc10_124 * 0x04] = Mem0[Mem0[dwLoc20_128 + 0x04:word32] + 0x00:word32];
		dwLoc10_124 = dwLoc10_124 + 0x01;
		dwLoc20_128 = Mem122[dwLoc20_128 + 0x0C:word32];
	}
	eax_31[dwLoc14_130 * 0x04] = 0x00;
	optionMenu(ebp_29, gs_37);
	if (Mem53[ebp_29 - 0x14 + 0x00:word32] >= 0x00)
	{
		Mem79[ebp_29 - 0x0C + 0x00:word32] = 0x00;
		Mem82[ebp_29 - 0x1C + 0x00:word32] = Mem79[Mem79[ebp_29 + 0x08:word32] + 44:word32];
		while (Mem82[ebp_29 - 0x1C + 0x00:word32] != 0x00)
		{
			if (Mem82[ebp_29 - 0x0C + 0x00:word32] == Mem82[(ebp_29 - 0x14) + 0x00:word32])
			{
				Mem101[Mem82[ebp_29 + 0x08:word32] + 0x38:word32] = Mem82[ebp_29 - 0x14 + 0x00:word32];
				Mem105[Mem101[ebp_29 + 0x08:word32] + 0x08:word32] = Mem101[Mem101[ebp_29 - 0x1C + 0x00:word32] + 0x00:word32];
				Mem109[Mem105[ebp_29 + 0x08:word32] + 0x30:word32] = Mem105[Mem105[ebp_29 - 0x1C + 0x00:word32] + 0x04:word32];
				break;
			}
			Mem111[ebp_29 - 0x0C + 0x00:word32] = Mem82[ebp_29 - 0x0C + 0x00:word32] + 0x01;
			Mem115[ebp_29 - 0x1C + 0x00:word32] = Mem111[Mem111[ebp_29 - 0x1C + 0x00:word32] + 0x0C:word32];
		}
		Mem91[esp_28 + 0x04:word32] = Mem82[Mem82[ebp_29 + 0x08:word32] + 44:word32];
		Mem93[esp_28 + 0x00:word32] = Mem91[ebp_29 + 0x08:word32];
		updateSelectOption(dwArg00, dwArg04);
	}
}

// 0808D1D8: void form_write_data(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void form_write_data(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	fprintf(dwArg04, 135051808, dwArg08);
	fprintf(dwArg04, 0x080CBA28, dwArg0C);
	fprintf(dwArg04, 0x080CBA56, dwArg10);
}

// 0808D231: void form_write_from_file(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void form_write_from_file(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 eax_100;
	fprintf(dwArg04, 135051808, dwArg08);
	fprintf(dwArg04, 0x080CBA5C, dwArg0C, mybasename(dwArg10));
	word32 eax_33 = guessContentType(dwArg14);
	if (eax_33 != 0x00)
		eax_100 = eax_33;
	else
		eax_100 = 0x080CBA97;
	fprintf(dwArg04, 0x080CBAB0, eax_100);
	if (lstat(dwArg14, fp - 0x70) >= 0x00 && (dwLoc60 & 0xF000) != 0x4000)
	{
		word32 eax_76 = fopen(dwArg14, 135051803);
		if (eax_76 != 0x00)
		{
			while (true)
			{
				word32 eax_86 = fgetc(eax_76);
				if (eax_86 == ~0x00)
					break;
				fputc((int8) eax_86, dwArg04);
			}
			fclose(eax_76);
		}
	}
	fwrite(135051805, 0x01, 0x02, dwArg04);
}

// 0808D356: Register word32 add_pre_form(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
word32 add_pre_form(word32 eax, word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 esp_170;
	word32 ebp_171;
	word32 dwLoc10_11;
	if (dwArg04 != 0x00)
	{
		byte SCZO_172;
		byte Z_173;
		word32 edx_174;
		word32 eax_175;
		byte al_176;
		byte SZO_177;
		byte C_178;
		byte bpl_179;
		!GC_malloc();
		Mem182[dwArg04 + 0x14:word32] = eax_175;
		dwLoc10_11 = Mem182[dwArg04 + 0x14:word32];
	}
	else
	{
		byte SCZO_189;
		byte Z_190;
		word32 edx_191;
		word32 eax_192;
		byte al_193;
		byte SZO_194;
		byte C_195;
		byte bpl_196;
		!GC_malloc();
		Mem197[0x0817D2E8:word32] = eax_192;
		dwLoc10_11 = Mem197[0x0817D2E8:word32];
	}
	if (dwArg08 != 0x00 && (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) == 0x2F)
	{
		word32 eax_117 = strlen(dwArg08);
		if (eax_117 > 0x01 && (byte) ((word32) Mem0[(eax_117 - 0x01) + dwArg08:byte]) == 0x2F)
			Mem162[dwLoc10_11 + 0x00:word32] = allocStr(dwArg08 + 0x01, eax_117 - 0x02);
		else
			Mem145[dwLoc10_11 + 0x00:word32] = dwArg08 + 0x01;
		Mem131[Mem0[ebp_171 - 0x0C + 0x00:word32] + 0x04:word32] = newRegex(0x00, 0x00, 0x00);
		if (Mem131[Mem131[ebp_171 - 0x0C + 0x00:word32] + 0x04:word32] == 0x00)
			Mem138[Mem131[ebp_171 - 0x0C + 0x00:word32] + 0x00:word32] = 0x00;
	}
	else if (dwArg08 != 0x00)
	{
		parseURL2(ebp_171, dwArg08, fp - 0x3C, 0x00);
		Mem101[esp_170 + 0x00:word32] = ebp_171 - 0x38;
		byte bpl_103;
		Mem107[Mem101[ebp_171 - 0x0C + 0x00:word32] + 0x00:word32] = Mem101[parsedURL2Str(dwArg00, out bpl_103) + 0x00:word32];
		Mem109[Mem107[ebp_171 - 0x0C + 0x00:word32] + 0x04:word32] = 0x00;
	}
	word32 eax_40;
	if (Mem0[ebp_171 + 0x10:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[ebp_171 + 0x10:word32] + 0x00:byte]) != 0x00)
		eax_40 = Mem0[ebp_171 + 0x10:word32];
	else
		eax_40 = 0x00;
	word32 eax_49;
	Mem43[Mem0[ebp_171 - 0x0C + 0x00:word32] + 0x08:word32] = eax_40;
	if (Mem43[ebp_171 + 0x14:word32] != 0x00 && (byte) ((word32) Mem43[Mem43[ebp_171 + 0x14:word32] + 0x00:byte]) != 0x00)
		eax_49 = Mem43[ebp_171 + 0x14:word32];
	else
		eax_49 = 0x00;
	Mem51[Mem43[ebp_171 - 0x0C + 0x00:word32] + 0x0C:word32] = eax_49;
	Mem53[Mem51[ebp_171 - 0x0C + 0x00:word32] + 0x10:word32] = 0x00;
	Mem55[Mem53[ebp_171 - 0x0C + 0x00:word32] + 0x14:word32] = 0x00;
	return Mem55[ebp_171 - 0x0C + 0x00:word32];
}

// 0808D4D8: Register word32 add_pre_form_item(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18)
word32 add_pre_form_item(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18)
{
	word32 eax_18;
	if (dwArg04 == 0x00)
		eax_18 = 0x00;
	else
	{
		word32 dwLoc10_124;
		if (dwArg08 != 0x00)
		{
			word32 esp_110;
			word32 ebp_111;
			byte SCZO_112;
			byte Z_113;
			word32 eax_114;
			word32 edx_115;
			byte al_116;
			byte SZO_117;
			byte C_118;
			!GC_malloc();
			Mem121[dwArg08 + 0x10:word32] = eax_114;
			dwLoc10_124 = Mem121[dwArg08 + 0x10:word32];
		}
		else
		{
			word32 esp_126;
			word32 ebp_127;
			byte SCZO_128;
			byte Z_129;
			word32 eax_130;
			word32 edx_131;
			byte al_132;
			byte SZO_133;
			byte C_134;
			!GC_malloc();
			Mem137[dwArg04 + 0x10:word32] = eax_130;
			dwLoc10_124 = Mem137[dwArg04 + 0x10:word32];
		}
		Mem44[dwLoc10_124 + 0x00:word32] = dwArg0C;
		Mem48[dwLoc10_124 + 0x04:word32] = dwArg10;
		Mem52[dwLoc10_124 + 0x08:word32] = dwArg14;
		if (dwArg18 != 0x00 && ((byte) ((word32) Mem52[dwArg18 + 0x00:byte]) != 0x00 && (strcmp(dwArg18, 0x080CBAC5) == 0x00 || (strcasecmp(dwArg18, 0x080CBAC7) != 0x00 || strcasecmp(dwArg18, 0x080CBACB) == 0x00))))
			Mem92[dwLoc10_124 + 0x0C:word32] = 0x00;
		else
			Mem72[dwLoc10_124 + 0x0C:word32] = 0x01;
		Mem62[dwLoc10_124 + 0x10:word32] = 0x00;
		eax_18 = dwLoc10_124;
	}
	return eax_18;
}

// 0808D5C4: void loadPreForm(Register word32 ebp)
void loadPreForm(word32 ebp)
{
	Mem14[0x0817D2E8:word32] = 0x00;
	Mem18[fp - 0x10 + 0x00:word32] = openSecretFile(fp - 0x04, Mem14[0x080D5330:word32]);
	if (Mem18[fp - 0x10 + 0x00:word32] != 0x00)
	{
		while (true)
		{
			word32 eax_36 = Mem18[fp - 0x10 + 0x00:word32];
			Mem37[fp - 0x5C + 0x00:word32] = eax_36;
			Strfgets(eax_36, dwArg00);
			Mem39[fp - 0x14 + 0x00:word32] = eax_36;
			if (Mem39[Mem39[fp - 0x14 + 0x00:word32] + 0x04:word32] == 0x00)
				break;
			if (Mem39[fp - 0x18 + 0x00:word32] != 0x00)
			{
				word32 eax_382 = Mem39[Mem39[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem383[fp - 0x54 + 0x00:word32] = 0x09;
				Mem384[fp - 88 + 0x00:word32] = 0x080CBACE;
				Mem385[fp - 0x5C + 0x00:word32] = eax_382;
				if (strncmp(Mem385[fp - 0x5C + 0x00:(ptr char)], Mem385[fp - 88 + 0x00:(ptr char)], Mem385[fp - 0x54 + 0x00:int32]) == 0x00 && ((word32) ((byte) ((word32) Mem385[(word32) ((byte) ((word32) Mem385[Mem385[Mem385[(fp - 0x14) + 0x00:word32] + 0x00:word32] + 0x09:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					goto l0808D69D;
				Mem395[fp - 88 + 0x00:word32] = Mem385[fp - 0x14 + 0x00:word32];
				Mem397[fp - 0x5C + 0x00:word32] = Mem395[fp - 0x18 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
				goto l0808DA74;
			}
l0808D69D:
			Mem60[fp - 0x5C + 0x00:word32] = Mem39[fp - 0x14 + 0x00:word32];
			Strchop(dwArg00);
			Mem62[fp - 0x5C + 0x00:word32] = Mem60[fp - 0x14 + 0x00:word32];
			Strremovefirstspaces(dwArg00);
			Mem65[fp - 44 + 0x00:word32] = Mem62[Mem62[fp - 0x14 + 0x00:word32] + 0x00:word32];
			if ((byte) (word32) Mem65[Mem65[fp - 44 + 0x00:word32] + 0x00:byte] != 0x23 && (byte) ((word32) Mem65[Mem65[(fp - 44) + 0x00:word32] + 0x00:byte]) != 0x00)
			{
				Mem83[fp - 0x5C + 0x00:word32] = fp - 44;
				Mem85[fp - 0x30 + 0x00:word32] = getWord(dwArg00);
				Mem87[fp - 0x5C + 0x00:word32] = fp - 44;
				Mem89[fp - 0x34 + 0x00:word32] = getWord(dwArg00);
				Mem90[fp - 88 + 0x00:word32] = 0x080CBAD8;
				Mem92[fp - 0x5C + 0x00:word32] = Mem90[fp - 0x30 + 0x00:word32];
				if (strcmp(Mem92[fp - 0x5C + 0x00:(ptr char)], Mem92[fp - 88 + 0x00:(ptr char)]) == 0x00)
				{
					if (Mem92[fp - 0x34 + 0x00:word32] != 0x00 && (byte) ((word32) Mem92[Mem92[(fp - 0x34) + 0x00:word32] + 0x00:byte]) != 0x00)
					{
						Mem111[fp - 0x5C + 0x00:word32] = fp - 44;
						Mem113[fp - 44 + 0x00:word32] = getQWord(fp - 44, dwArg00);
						Mem115[fp - 0x50 + 0x00:word32] = Mem113[fp - 44 + 0x00:word32];
						Mem116[fp - 0x54 + 0x00:word32] = 0x00;
						Mem118[fp - 88 + 0x00:word32] = Mem116[fp - 0x34 + 0x00:word32];
						word32 eax_119 = Mem118[fp - 0x1C + 0x00:word32];
						Mem120[fp - 0x5C + 0x00:word32] = eax_119;
						Mem123[fp - 0x1C + 0x00:word32] = add_pre_form(eax_119, fp - 0x04, dwArg00, dwArg04);
						Mem126[fp - 0x20 + 0x00:word32] = Mem123[Mem123[fp - 0x1C + 0x00:word32] + 0x10:word32];
					}
					goto l0808DA74;
				}
				if (Mem92[fp - 0x1C + 0x00:word32] == 0x00)
					goto l0808DA74;
				Mem129[fp - 88 + 0x00:word32] = 0x080CBADC;
				Mem131[fp - 0x5C + 0x00:word32] = Mem129[fp - 0x30 + 0x00:word32];
				if (strcmp(Mem131[fp - 0x5C + 0x00:(ptr char)], Mem131[fp - 88 + 0x00:(ptr char)]) == 0x00)
				{
					if (Mem131[fp - 0x34 + 0x00:word32] != 0x00 && (byte) ((word32) Mem131[Mem131[(fp - 0x34) + 0x00:word32] + 0x00:byte]) != 0x00)
					{
						Mem150[fp - 0x5C + 0x00:word32] = fp - 44;
						Mem152[fp - 0x30 + 0x00:word32] = getQWord(fp - 44, dwArg00);
						Mem154[fp - 0x5C + 0x00:word32] = fp - 44;
						Mem156[fp - 44 + 0x00:word32] = getQWord(fp - 44, dwArg00);
						if (Mem156[fp - 44 + 0x00:word32] == 0x00 || (byte) ((word32) Mem156[Mem156[(fp - 44) + 0x00:word32] + 0x00:byte]) == 0x00)
						{
							Mem226[fp - 44 + 0x00:word32] = Mem156[fp - 0x30 + 0x00:word32];
							Mem227[fp - 0x30 + 0x00:word32] = 0x00;
						}
						if (Mem156[Mem156[fp - 0x1C + 0x00:word32] + 0x10:word32] != 0x00)
						{
							Mem176[fp - 0x38 + 0x00:word32] = Mem156[fp - 0x1C + 0x00:word32];
							Mem178[fp - 0x50 + 0x00:word32] = Mem176[fp - 44 + 0x00:word32];
							Mem180[fp - 0x54 + 0x00:word32] = Mem178[fp - 0x30 + 0x00:word32];
							Mem181[fp - 88 + 0x00:word32] = 0x080CB9EE;
							word32 eax_182 = Mem181[fp - 0x38 + 0x00:word32];
							Mem183[fp - 0x5C + 0x00:word32] = eax_182;
							Mem185[fp - 0x1C + 0x00:word32] = add_pre_form(eax_182, fp - 0x04, dwArg00, dwArg04);
							Mem189[Mem185[fp - 0x1C + 0x00:word32] + 0x00:word32] = Mem185[Mem185[fp - 0x38 + 0x00:word32] + 0x00:word32];
							Mem193[Mem189[fp - 0x1C + 0x00:word32] + 0x04:word32] = Mem189[Mem189[fp - 0x38 + 0x00:word32] + 0x04:word32];
						}
						else
						{
							word32 eax_205;
							Mem196[Mem156[fp - 0x1C + 0x00:word32] + 0x08:word32] = Mem156[fp - 0x30 + 0x00:word32];
							if (Mem196[fp - 44 + 0x00:word32] != 0x00 && (byte) ((word32) Mem196[Mem196[(fp - 44) + 0x00:word32] + 0x00:byte]) != 0x00)
								eax_205 = Mem196[fp - 44 + 0x00:word32];
							else
								eax_205 = 0x00;
							Mem207[Mem196[fp - 0x1C + 0x00:word32] + 0x0C:word32] = eax_205;
						}
						Mem174[fp - 0x20 + 0x00:word32] = Mem156[Mem156[fp - 0x1C + 0x00:word32] + 0x10:word32];
					}
					goto l0808DA74;
				}
				Mem234[fp - 88 + 0x00:word32] = 135051614;
				Mem236[fp - 0x5C + 0x00:word32] = Mem234[fp - 0x30 + 0x00:word32];
				if (strcmp(Mem236[fp - 0x5C + 0x00:(ptr char)], Mem236[fp - 88 + 0x00:(ptr char)]) == 0x00)
					Mem268[fp - 0x24 + 0x00:word32] = 0x00;
				else
				{
					Mem269[fp - 88 + 0x00:word32] = 0x080CB9AC;
					Mem271[fp - 0x5C + 0x00:word32] = Mem269[fp - 0x30 + 0x00:word32];
					if (strcmp(Mem271[fp - 0x5C + 0x00:(ptr char)], Mem271[fp - 88 + 0x00:(ptr char)]) == 0x00)
						Mem276[fp - 0x24 + 0x00:word32] = 11;
					else
					{
						Mem277[fp - 88 + 0x00:word32] = 135052001;
						Mem279[fp - 0x5C + 0x00:word32] = Mem277[fp - 0x30 + 0x00:word32];
						if (strcmp(Mem279[fp - 0x5C + 0x00:(ptr char)], Mem279[fp - 88 + 0x00:(ptr char)]) != 0x00)
						{
							Mem289[fp - 88 + 0x00:word32] = 135051619;
							Mem291[fp - 0x5C + 0x00:word32] = Mem289[fp - 0x30 + 0x00:word32];
							if (strcmp(Mem291[fp - 0x5C + 0x00:(ptr char)], Mem291[fp - 88 + 0x00:(ptr char)]) == 0x00)
								goto l0808D8C9;
							Mem296[fp - 88 + 0x00:word32] = 0x080CB96C;
							Mem298[fp - 0x5C + 0x00:word32] = Mem296[fp - 0x30 + 0x00:word32];
							if (strcmp(Mem298[fp - 0x5C + 0x00:(ptr char)], Mem298[fp - 88 + 0x00:(ptr char)]) == 0x00)
								Mem303[fp - 0x24 + 0x00:word32] = 0x02;
							else
							{
								Mem304[fp - 88 + 0x00:word32] = 135051637;
								Mem306[fp - 0x5C + 0x00:word32] = Mem304[fp - 0x30 + 0x00:word32];
								if (strcmp(Mem306[fp - 0x5C + 0x00:(ptr char)], Mem306[fp - 88 + 0x00:(ptr char)]) == 0x00)
									Mem311[fp - 0x24 + 0x00:word32] = 0x03;
								else
								{
									Mem312[fp - 88 + 0x00:word32] = 0x080CB97B;
									Mem314[fp - 0x5C + 0x00:word32] = Mem312[fp - 0x30 + 0x00:word32];
									if (strcmp(Mem314[fp - 0x5C + 0x00:(ptr char)], Mem314[fp - 88 + 0x00:(ptr char)]) == 0x00)
										Mem319[fp - 0x24 + 0x00:word32] = 0x04;
									else
									{
										Mem320[fp - 88 + 0x00:word32] = 135051663;
										Mem322[fp - 0x5C + 0x00:word32] = Mem320[fp - 0x30 + 0x00:word32];
										if (strcmp(Mem322[fp - 0x5C + 0x00:(ptr char)], Mem322[fp - 88 + 0x00:(ptr char)]) == 0x00)
											Mem327[fp - 0x24 + 0x00:word32] = 0x07;
										else
										{
											Mem328[fp - 88 + 0x00:word32] = 0x080CB995;
											Mem330[fp - 0x5C + 0x00:word32] = Mem328[fp - 0x30 + 0x00:word32];
											if (strcmp(Mem330[fp - 0x5C + 0x00:(ptr char)], Mem330[fp - 88 + 0x00:(ptr char)]) != 0x00)
											{
												Mem336[fp - 88 + 0x00:word32] = 0x080CB99C;
												Mem338[fp - 0x5C + 0x00:word32] = Mem336[fp - 0x30 + 0x00:word32];
												if (strcmp(Mem338[fp - 0x5C + 0x00:(ptr char)], Mem338[fp - 88 + 0x00:(ptr char)]) == 0x00)
												{
													Mem343[fp - 0x24 + 0x00:word32] = 0x09;
													word32 eax_344 = Mem343[fp - 0x34 + 0x00:word32];
													Mem345[fp - 0x5C + 0x00:word32] = eax_344;
													Strnew_charp(eax_344, dwArg00);
													word32 eax_346 = Mem345[eax_344 + 0x00:word32];
													Mem347[fp - 0x28 + 0x00:word32] = eax_346;
													Strnew(eax_346);
													Mem348[fp - 0x18 + 0x00:word32] = eax_346;
													goto l0808DA74;
												}
												if (Mem338[fp - 0x18 + 0x00:word32] != 0x00 && Mem338[(fp - 0x28) + 0x00:word32] != 0x00)
												{
													Mem358[fp - 88 + 0x00:word32] = 0x080CBACE;
													Mem360[fp - 0x5C + 0x00:word32] = Mem358[fp - 0x30 + 0x00:word32];
													if (strcmp(Mem360[fp - 0x5C + 0x00:(ptr char)], Mem360[fp - 88 + 0x00:(ptr char)]) != 0x00)
														goto l0808DA26;
													word32 eax_366 = Mem360[Mem360[fp - 0x18 + 0x00:word32] + 0x00:word32];
													Mem367[fp - 0x48 + 0x00:word32] = 0x00;
													Mem368[fp - 0x4C + 0x00:word32] = eax_366;
													Mem370[fp - 0x50 + 0x00:word32] = Mem368[fp - 0x28 + 0x00:word32];
													Mem372[fp - 0x54 + 0x00:word32] = Mem370[fp - 0x24 + 0x00:word32];
													Mem374[fp - 88 + 0x00:word32] = Mem372[fp - 0x20 + 0x00:word32];
													word32 eax_375 = Mem374[fp - 0x1C + 0x00:word32];
													Mem376[fp - 0x5C + 0x00:word32] = eax_375;
													Mem378[fp - 0x20 + 0x00:word32] = add_pre_form_item(eax_375, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
													Mem379[fp - 0x18 + 0x00:word32] = 0x00;
													Mem380[fp - 0x28 + 0x00:word32] = 0x00;
												}
												else
												{
l0808DA26:
												}
												goto l0808DA74;
											}
											Mem335[fp - 0x24 + 0x00:word32] = 0x08;
										}
									}
								}
							}
						}
						else
						{
l0808D8C9:
							Mem288[fp - 0x24 + 0x00:word32] = 0x01;
						}
					}
				}
				Mem245[fp - 0x5C + 0x00:word32] = fp - 44;
				Mem247[fp - 0x30 + 0x00:word32] = getQWord(fp - 44, dwArg00);
				Mem249[fp - 0x5C + 0x00:word32] = fp - 44;
				Mem251[fp - 0x48 + 0x00:word32] = getQWord(fp - 44, dwArg00);
				Mem253[fp - 0x4C + 0x00:word32] = Mem251[fp - 0x30 + 0x00:word32];
				Mem255[fp - 0x50 + 0x00:word32] = Mem253[fp - 0x34 + 0x00:word32];
				Mem257[fp - 0x54 + 0x00:word32] = Mem255[fp - 0x24 + 0x00:word32];
				Mem259[fp - 88 + 0x00:word32] = Mem257[fp - 0x20 + 0x00:word32];
				word32 eax_260 = Mem259[fp - 0x1C + 0x00:word32];
				Mem261[fp - 0x5C + 0x00:word32] = eax_260;
				Mem267[fp - 0x20 + 0x00:word32] = add_pre_form_item(eax_260, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
				continue;
			}
l0808DA74:
		}
		Mem46[fp - 0x5C + 0x00:word32] = Mem39[fp - 0x10 + 0x00:word32];
		fclose(Mem46[fp - 0x5C + 0x00:(ptr FILE)]);
	}
}

// 0808DA7C: void preFormUpdateBuffer(Register word32 ebp, Stack word32 dwArg04)
void preFormUpdateBuffer(word32 ebp, word32 dwArg04)
{
	if (dwArg04 != 0x00 && (Mem0[dwArg04 + 0x6C:word32] != 0x00 && Mem0[0x0817D2E8:word32] != 0x00))
	{
		while (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00)
			{
				Mem332[fp - 0x4C + 0x00:word32] = Mem0[fp + 0x04:word32] + 0x84;
				byte bpl_334;
				Mem336[fp - 0x30 + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_334);
				word32 ecx_338 = Mem336[Mem336[fp - 0x30 + 0x00:word32] + 0x04:word32];
				word32 edx_340 = Mem336[Mem336[fp - 0x30 + 0x00:word32] + 0x00:word32];
				word32 eax_342 = Mem336[Mem336[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem343[fp - 0x40 + 0x00:word32] = 0x01;
				Mem344[fp - 0x44 + 0x00:word32] = ecx_338;
				Mem345[fp - 0x48 + 0x00:word32] = edx_340;
				Mem346[fp - 0x4C + 0x00:word32] = eax_342;
				if (RegexMatch(fp - 0x04, dwArg00, dwArg04, dwArg08) == 0x00)
					goto l0808DF1D;
				goto l0808DB3C;
			}
			if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
			{
				word32 ebx_358 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem362[fp - 0x4C + 0x00:word32] = Mem0[fp + 0x04:word32] + 0x84;
				byte bpl_363;
				word32 eax_365 = Mem362[parsedURL2Str(dwArg00, out bpl_363) + 0x00:word32];
				Mem366[fp - 0x48 + 0x00:word32] = ebx_358;
				Mem367[fp - 0x4C + 0x00:word32] = eax_365;
				if (strcmp(Mem367[fp - 0x4C + 0x00:(ptr char)], Mem367[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
				{
l0808DB3C:
					Mem100[fp - 0x18 + 0x00:word32] = 0x00;
					while (Mem100[Mem100[Mem100[fp + 0x04:word32] + 0x6C:word32] + 0x04:word32] > Mem100[(fp - 0x18) + 0x00:word32])
					{
						word32 eax_116 = Mem100[fp - 0x18 + 0x00:word32];
						word32 ebx_121 = (eax_116 << 0x06) - (eax_116 << 0x02);
						Mem124[fp - 0x1C + 0x00:word32] = Mem100[Mem100[Mem100[fp + 0x04:word32] + 0x6C:word32] + 0x00:word32] + ebx_121;
						Mem127[fp - 0x24 + 0x00:word32] = Mem124[Mem124[fp - 0x1C + 0x00:word32] + 0x00:word32];
						Mem130[fp - 0x20 + 0x00:word32] = Mem127[Mem127[fp - 0x24 + 0x00:word32] + 0x40:word32];
						if (Mem130[Mem130[fp - 0x10 + 0x00:word32] + 0x08:word32] != 0x00)
						{
							if (Mem130[Mem130[fp - 0x20 + 0x00:word32] + 0x14:word32] == 0x00)
								goto l0808DF01;
							word32 eax_322 = Mem130[Mem130[fp - 0x20 + 0x00:word32] + 0x14:word32];
							Mem323[fp - 0x48 + 0x00:word32] = Mem130[Mem130[fp - 0x10 + 0x00:word32] + 0x08:word32];
							Mem324[fp - 0x4C + 0x00:word32] = eax_322;
							if (strcmp(Mem324[fp - 0x4C + 0x00:(ptr char)], Mem324[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
								goto l0808DBB0;
							goto l0808DF01;
						}
l0808DBB0:
						if (Mem130[Mem130[fp - 0x10 + 0x00:word32] + 0x0C:word32] != 0x00)
						{
							if (Mem130[Mem130[fp - 0x20 + 0x00:word32] + 0x0C:word32] == 0x00)
								goto l0808DF01;
							word32 eax_307 = Mem130[Mem130[Mem130[fp - 0x20 + 0x00:word32] + 0x0C:word32] + 0x00:word32];
							Mem308[fp - 0x48 + 0x00:word32] = Mem130[Mem130[fp - 0x10 + 0x00:word32] + 0x0C:word32];
							Mem309[fp - 0x4C + 0x00:word32] = eax_307;
							if (strcmp(Mem309[fp - 0x4C + 0x00:(ptr char)], Mem309[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
								goto l0808DBEA;
						}
						else
						{
l0808DBEA:
							Mem158[fp - 0x14 + 0x00:word32] = Mem130[Mem130[fp - 0x10 + 0x00:word32] + 0x10:word32];
							while (Mem158[fp - 0x14 + 0x00:word32] != 0x00)
							{
								if (Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x00:word32] == Mem158[Mem158[(fp - 0x24) + 0x00:word32] + 0x00:word32])
								{
									if (Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x00:word32] != 0x04 && Mem158[Mem158[(fp - 0x14) + 0x00:word32] + 0x00:word32] != 0x07)
									{
										if (Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x04:word32] != 0x00 && Mem158[Mem158[(fp - 0x24) + 0x00:word32] + 0x04:word32] != 0x00)
										{
											word32 edx_268 = Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x04:word32];
											word32 eax_271 = Mem158[Mem158[Mem158[fp - 0x24 + 0x00:word32] + 0x04:word32] + 0x00:word32];
											Mem272[fp - 0x48 + 0x00:word32] = edx_268;
											Mem273[fp - 0x4C + 0x00:word32] = eax_271;
											if (strcmp(Mem273[fp - 0x4C + 0x00:(ptr char)], Mem273[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
											{
												word32 eax_279 = Mem273[Mem273[fp - 0x14 + 0x00:word32] + 0x00:word32];
												if (eax_279 <=u 11)
												{
													word32 eax_283 = 135052008[eax_279 * 0x04];
													word32 esp_284;
													word32 ebp_285;
													word32 ebx_286;
													byte SCZO_287;
													byte Z_288;
													word32 eax_289;
													byte SZO_290;
													byte C_291;
													word32 ecx_292;
													word32 edx_293;
													byte al_294;
													byte CZ_295;
													bcuiposr0 None_296;
													byte bpl_297;
													eax_283();
													return;
												}
											}
										}
										goto l0808DEE2;
									}
									if (Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x04:word32] != 0x00 && (byte) ((word32) Mem158[Mem158[Mem158[(fp - 0x14) + 0x00:word32] + 0x04:word32] + 0x00:byte]) != 0x00)
									{
										if (Mem158[Mem158[fp - 0x24 + 0x00:word32] + 0x04:word32] == 0x00)
											goto l0808DEE2;
										word32 eax_246 = Mem158[Mem158[Mem158[fp - 0x24 + 0x00:word32] + 0x04:word32] + 0x00:word32];
										Mem247[fp - 0x48 + 0x00:word32] = Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x04:word32];
										Mem248[fp - 0x4C + 0x00:word32] = eax_246;
										if (strcmp(Mem248[fp - 0x4C + 0x00:(ptr char)], Mem248[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
											goto l0808DC69;
										goto l0808DEE2;
									}
l0808DC69:
									if (Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x08:word32] != 0x00 && (byte) ((word32) Mem158[Mem158[Mem158[(fp - 0x14) + 0x00:word32] + 0x08:word32] + 0x00:byte]) != 0x00)
									{
										if (Mem158[Mem158[fp - 0x24 + 0x00:word32] + 0x08:word32] == 0x00)
											goto l0808DEE2;
										word32 eax_223 = Mem158[Mem158[Mem158[fp - 0x24 + 0x00:word32] + 0x08:word32] + 0x00:word32];
										Mem224[fp - 0x48 + 0x00:word32] = Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x08:word32];
										Mem225[fp - 0x4C + 0x00:word32] = eax_223;
										if (strcmp(Mem225[fp - 0x4C + 0x00:(ptr char)], Mem225[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
											goto l0808DCB0;
									}
									else
									{
l0808DCB0:
										Mem206[Mem158[fp + 0x04:word32] + 0xF8:word32] = Mem158[fp - 0x1C + 0x00:word32];
									}
								}
l0808DEE2:
								Mem182[fp - 0x14 + 0x00:word32] = Mem158[Mem158[fp - 0x14 + 0x00:word32] + 0x10:word32];
							}
						}
l0808DF01:
						Mem144[fp - 0x18 + 0x00:word32] = Mem130[fp - 0x18 + 0x00:word32] + 0x01;
					}
				}
			}
l0808DF1D:
			Mem90[fp - 0x10 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x14:word32];
		}
	}
}

// 0808DF40: Register word32 searchMapList(Stack word32 dwArg04, Stack word32 dwArg08)
word32 searchMapList(word32 dwArg04, word32 dwArg08)
{
	word32 eax_18;
	if (dwArg08 == 0x00)
		eax_18 = 0x00;
	else
	{
		word32 dwLoc10_33 = Mem0[dwArg04 + 0x78:word32];
		while (dwLoc10_33 != 0x00 && strcmp(Mem0[Mem0[dwLoc10_33 + 0x00:word32] + 0x00:word32], dwArg08) != 0x00)
			dwLoc10_33 = Mem0[dwLoc10_33 + 0x08:word32];
		eax_18 = dwLoc10_33;
	}
	return eax_18;
}

// 0808DF8F: Register word32 inMapArea(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, FpuStack real64 rArg0, FpuStack real64 rArg1, FpuStack real64 rArg2, FpuStack out ptr32 rArg0Out)
word32 inMapArea(word32 dwArg04, word32 dwArg08, word32 dwArg0C, real64 rArg0, real64 rArg1, real64 rArg2, ptr32 & rArg0Out)
{
	ptr32 fp;
	word32 ebp;
	word32 esi;
	word32 ebx;
	word32 dwArg04;
	real64 rLoc3;
	real64 rLoc1C;
	real64 rLoc24;
	real64 rLoc2C;
	word32 dwLoc40;
	real64 rArg0;
	real64 rLoc34;
	real64 rLoc54;
	real64 rLoc5C;
	byte P;
	word32 ecx;
	word32 edx;
	byte SO;
	real64 rArg1;
	real64 rArg2;
	real64 rLoc3C;
	word32 dwLoc10;
	real64 rLoc2;
	byte CZP;
	byte CZ;
	real64 rLoc1;
	byte SZO;
	byte C;
	<type-error> Mem0;
	word32 dwArg08;
	word32 dwArg0C;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebp;
	ebp_5 = fp - 0x04;
	esp_6 = fp - 0x08;
	dwLoc08_8 = esi;
	esp_9 = fp - 0x0C;
	dwLoc0C_11 = ebx;
	esp_12 = fp - 0x5C;
	SCZO_14 = cond(dwArg04 - 0x00);
	Z_15 = SCZO_14;
	if (dwArg04 == 0x00)
	{
		eax_51 = 0x00;
		al_52 = (byte) eax_51;
		ax_53 = (word16) eax_51;
		goto l0808E3DE;
	}
	eax_77 = dwArg04;
	eax_79 = (word32) Mem0[eax_77 + 0x0C:byte];
	al_80 = (byte) eax_79;
	eax_81 = (int32) al_80;
	al_82 = (byte) eax_81;
	ax_83 = (word16) eax_81;
	SCZO_84 = cond(eax_81 - 0x02);
	Z_85 = SCZO_84;
	if (eax_81 != 0x02)
	{
		SCZO_118 = cond(eax_81 - 0x02);
		SZO_119 = SCZO_118;
		if (eax_81 <= 0x02)
		{
			SCZO_120 = cond(eax_81 - 0x01);
			Z_121 = SCZO_120;
			if (eax_81 == 0x01)
			{
				eax_122 = 0x01;
				al_123 = (byte) eax_122;
				ax_124 = (word16) eax_122;
				goto l0808E3DE;
			}
			goto l0808E3D9;
		}
		SCZO_125 = cond(eax_81 - 0x03);
		Z_126 = SCZO_125;
		if (eax_81 == 0x03)
		{
			eax_558 = dwArg04;
			eax_559 = Mem0[eax_558 + 0x10:word32];
			eax_560 = (word32) Mem0[eax_559 + 0x00:word16];
			ax_561 = (word16) eax_560;
			eax_562 = (int32) ax_561;
			edx_563 = dwArg08;
			ecx_564 = edx_563;
			ecx_565 = ecx_564 - eax_562;
			eax_566 = dwArg04;
			eax_567 = Mem0[eax_566 + 0x10:word32];
			eax_568 = (word32) Mem0[eax_567 + 0x00:word16];
			ax_569 = (word16) eax_568;
			eax_570 = (int32) ax_569;
			edx_571 = dwArg08;
			ebx_572 = edx_571;
			ebx_573 = ebx_572 - eax_570;
			eax_574 = ebx_573;
			edx_575 = ecx_565;
			edx_576 = edx_575 *s eax_574;
			eax_577 = dwArg04;
			eax_578 = Mem0[eax_577 + 0x10:word32];
			eax_579 = eax_578 + 0x02;
			eax_580 = (word32) Mem0[eax_579 + 0x00:word16];
			ax_581 = (word16) eax_580;
			eax_582 = (int32) ax_581;
			ecx_583 = dwArg0C;
			ebx_584 = ecx_583;
			ebx_585 = ebx_584 - eax_582;
			eax_586 = dwArg04;
			eax_587 = Mem0[eax_586 + 0x10:word32];
			eax_588 = eax_587 + 0x02;
			eax_589 = (word32) Mem0[eax_588 + 0x00:word16];
			ax_590 = (word16) eax_589;
			eax_591 = (int32) ax_590;
			ecx_592 = dwArg0C;
			esi_593 = ecx_592;
			esi_594 = esi_593 - eax_591;
			eax_595 = esi_594;
			eax_596 = eax_595 *s ebx_585;
			ecx_597 = edx_576 + eax_596;
			eax_598 = dwArg04;
			eax_599 = Mem0[eax_598 + 0x10:word32];
			eax_600 = eax_599 + 0x04;
			eax_601 = (word32) Mem0[eax_600 + 0x00:word16];
			ax_602 = (word16) eax_601;
			edx_603 = (int32) ax_602;
			eax_604 = dwArg04;
			eax_605 = Mem0[eax_604 + 0x10:word32];
			eax_606 = eax_605 + 0x04;
			eax_607 = (word32) Mem0[eax_606 + 0x00:word16];
			ax_608 = (word16) eax_607;
			eax_609 = (int32) ax_608;
			eax_610 = eax_609 *s edx_603;
			SCZO_611 = cond(ecx_597 - eax_610);
			SZO_612 = SCZO_611;
			if (Test(GT,SZO_612))
				goto l0808E3D9;
			eax_613 = 0x01;
			al_614 = (byte) eax_613;
			ax_615 = (word16) eax_613;
l0808E3DE:
			rLoc3_16 = ϕ(rLoc3, rLoc3_86, rLoc3, rLoc3, rLoc3, rLoc3_132, rLoc3_243);
			rLoc1C_17 = ϕ(rLoc1C, rLoc1C_87, rLoc1C, rLoc1C, rLoc1C, rLoc1C_133, rLoc1C_255);
			rLoc24_18 = ϕ(rLoc24, rLoc24_88, rLoc24, rLoc24, rLoc24, rLoc24_134, rLoc24_339);
			rLoc2C_19 = ϕ(rLoc2C, rLoc2C_89, rLoc2C, rLoc2C, rLoc2C, rLoc2C_135, rLoc2C_135);
			dwLoc40_20 = ϕ(dwLoc40, dwLoc40_90, dwLoc40, dwLoc40, dwLoc40, dwLoc40_136, dwLoc40_317);
			rArg0_21 = ϕ(rArg0, rArg0_91, rArg0, rArg0, rArg0, rArg0_137, rArg0_353);
			rLoc34_22 = ϕ(rLoc34, rLoc34_92, rLoc34, rLoc34, rLoc34, rLoc34_138, rLoc34_138);
			rLoc54_23 = ϕ(rLoc54, rLoc54_93, rLoc54, rLoc54, rLoc54, rLoc54_139, rLoc54_139);
			rLoc5C_24 = ϕ(rLoc5C, rLoc5C_94, rLoc5C, rLoc5C, rLoc5C, rLoc5C_140, rLoc5C_321);
			P_25 = ϕ(P, P_95, P, P, P, P_141, P_354);
			ecx_26 = ϕ(ecx, ecx_96, ecx, ecx, ecx_597, ecx_142, ecx_334);
			edx_27 = ϕ(edx, edx_97, edx, edx, edx_603, edx_143, edx_333);
			SO_28 = ϕ(SO, SO_98, SO, SO_646, SO, SO_144, SO_332);
			rArg1_29 = ϕ(rArg1, rArg1_99, rArg1, rArg1, rArg1, rArg1_145, rArg1_355);
			rArg2_30 = ϕ(rArg2, rArg2_100, rArg2, rArg2, rArg2, rArg2_146, rArg2_146);
			rLoc3C_31 = ϕ(rLoc3C, rLoc3C_101, rLoc3C, rLoc3C, rLoc3C, rLoc3C_147, rLoc3C_147);
			dwLoc10_32 = ϕ(dwLoc10, dwLoc10_102, dwLoc10, dwLoc10, dwLoc10, dwLoc10_148, dwLoc10_148);
			rLoc2_33 = ϕ(rLoc2, rLoc2_103, rLoc2, rLoc2, rLoc2, rLoc2_169, rLoc2_318);
			CZP_34 = ϕ(CZP, CZP_104, CZP, CZP, CZP, CZP_171, CZP_356);
			CZ_35 = ϕ(CZ, CZ_105, CZ, CZ, CZ, CZ_172, CZ_357);
			rLoc1_36 = ϕ(rLoc1, rLoc1_106, rLoc1, rLoc1, rLoc1, rLoc1_173, rLoc1_319);
			SZO_37 = ϕ(SZO, SZO_107, SZO_119, SZO_630, SZO_612, SZO_175, SZO_358);
			C_38 = ϕ(C, C_108, C, C, C, C_177, C_359);
			Z_39 = ϕ(Z_15, Z_109, Z_121, Z_85, Z_126, Z_176, Z_360);
			eax_40 = ϕ(eax_51, eax_115, eax_122, eax_647, eax_613, eax_178, eax_362);
			al_41 = ϕ(al_52, al_116, al_123, al_648, al_614, al_179, al_363);
			ax_42 = ϕ(ax_53, ax_117, ax_124, ax_649, ax_615, ax_180, ax_364);
			esp_43 = fp - 0x0C;
			SCZO_44 = cond(fp - 0x0C);
			ebx_45 = dwLoc0C_11;
			esp_46 = fp - 0x08;
			esi_47 = dwLoc08_8;
			esp_48 = fp - 0x04;
			ebp_49 = dwLoc04_4;
			esp_50 = fp;
			return eax_40;
		}
		SCZO_127 = cond(eax_81 - 0x04);
		Z_128 = SCZO_127;
		if (eax_81 != 0x04)
			goto l0808E3D9;
		rLoc1_129 = 0.0;
		rLoc3C_130 = rLoc1_129;
		dwLoc10_131 = 0x00;
		while (true)
		{
			rLoc3_132 = ϕ(rLoc3, rLoc3_243);
			rLoc1C_133 = ϕ(rLoc1C, rLoc1C_255);
			rLoc24_134 = ϕ(rLoc24, rLoc24_339);
			rLoc2C_135 = ϕ(rLoc2C, rLoc2C_442);
			dwLoc40_136 = ϕ(dwLoc40, dwLoc40_502);
			rArg0_137 = ϕ(rArg0, rArg0_504);
			rLoc34_138 = ϕ(rLoc34, rLoc34_508);
			rLoc54_139 = ϕ(rLoc54, rLoc54_510);
			rLoc5C_140 = ϕ(rLoc5C, rLoc5C_512);
			P_141 = ϕ(P, P_529);
			ecx_142 = ϕ(ecx, ecx_525);
			edx_143 = ϕ(edx, edx_524);
			SO_144 = ϕ(SO, SO_523);
			rArg1_145 = ϕ(rArg1, rArg1_530);
			rArg2_146 = ϕ(rArg2, rArg2_531);
			rLoc3C_147 = ϕ(rLoc3C_130, rLoc3C_532);
			dwLoc10_148 = ϕ(dwLoc10_131, dwLoc10_534);
			rLoc2_149 = ϕ(rLoc2, rLoc2_318);
			CZP_150 = ϕ(CZP, CZP_526);
			CZ_151 = ϕ(CZ, CZ_527);
			rLoc1_152 = ϕ(rLoc1_129, rLoc1_503);
			C_153 = ϕ(C, C_528);
			Z_154 = ϕ(Z_128, Z_518);
			al_155 = ϕ(al_82, al_520);
			ax_156 = ϕ(ax_83, ax_522);
			ebx_157 = ϕ(ebx, ebx_516);
			esi_158 = ϕ(esi, esi_515);
			ebp_159 = ϕ(ebp_5, ebp_514);
			esp_160 = ϕ(esp_12, esp_513);
			eax_161 = dwArg04;
			eax_162 = Mem0[eax_161 + 0x14:word32];
			SCZO_163 = cond(eax_162 - dwLoc10_148);
			SZO_164 = SCZO_163;
			if (eax_162 <= dwLoc10_148)
				break;
			eax_181 = dwArg04;
			eax_182 = Mem0[eax_181 + 0x10:word32];
			edx_183 = dwLoc10_148;
			edx_184 = edx_183 + edx_183;
			eax_185 = eax_182 + edx_184;
			eax_186 = (word32) Mem0[eax_185 + 0x00:word16];
			ax_187 = (word16) eax_186;
			eax_188 = (int32) ax_187;
			edx_190 = dwArg08;
			ecx_191 = edx_190;
			ecx_192 = ecx_191 - eax_188;
			eax_193 = ecx_192;
			dwLoc40_194 = eax_193;
			rLoc1_195 = (real64) dwLoc40_194;
			eax_196 = dwArg04;
			eax_197 = Mem0[eax_196 + 0x10:word32];
			edx_198 = dwLoc10_148;
			edx_199 = edx_198 + edx_198;
			eax_200 = eax_197 + edx_199;
			eax_201 = (word32) Mem0[eax_200 + 0x00:word16];
			ax_202 = (word16) eax_201;
			eax_203 = (int32) ax_202;
			edx_204 = dwArg08;
			ebx_205 = edx_204;
			ebx_206 = ebx_205 - eax_203;
			eax_207 = ebx_206;
			dwLoc40_208 = eax_207;
			rLoc2_209 = (real64) dwLoc40_208;
			rLoc1_210 = rLoc1_195 * rLoc2_209;
			eax_211 = dwArg04;
			eax_212 = Mem0[eax_211 + 0x10:word32];
			edx_213 = dwLoc10_148;
			edx_214 = edx_213 + 0x01;
			edx_215 = edx_214 + edx_214;
			eax_216 = eax_212 + edx_215;
			eax_217 = (word32) Mem0[eax_216 + 0x00:word16];
			ax_218 = (word16) eax_217;
			eax_219 = (int32) ax_218;
			edx_221 = dwArg0C;
			esi_222 = edx_221;
			esi_223 = esi_222 - eax_219;
			eax_224 = esi_223;
			dwLoc40_225 = eax_224;
			rLoc2_226 = (real64) dwLoc40_225;
			eax_227 = dwArg04;
			eax_228 = Mem0[eax_227 + 0x10:word32];
			edx_229 = dwLoc10_148;
			edx_230 = edx_229 + 0x01;
			edx_231 = edx_230 + edx_230;
			eax_232 = eax_228 + edx_231;
			eax_233 = (word32) Mem0[eax_232 + 0x00:word16];
			ax_234 = (word16) eax_233;
			eax_235 = (int32) ax_234;
			edx_236 = dwArg0C;
			ecx_237 = edx_236;
			ecx_238 = ecx_237 - eax_235;
			SCZO_239 = cond(ecx_238);
			SO_240 = SCZO_239;
			eax_241 = ecx_238;
			dwLoc40_242 = eax_241;
			rLoc3_243 = (real64) dwLoc40_242;
			rLoc2_244 = rLoc2_226 * rLoc3_243;
			rLoc1_245 = rLoc1_210 + rLoc2_244;
			rLoc2_246 = rLoc2_244;
			rLoc2_247 = sqrt(rLoc2_246);
			CZP_248 = cond(rLoc2_247 - rLoc2_247);
			SCZO_249 = CZP_248;
			Z_250 = CZP_248;
			SZO_251 = CZP_248;
			P_252 = CZP_248;
			CZ_253 = CZP_248;
			C_254 = CZP_248;
			if (Test(PO,P_252))
			{
				if (rLoc2_247 != rLoc2_247)
				{
					rLoc2_555 = rLoc2_247;
					goto l0808E172;
				}
				rLoc1_556 = rLoc2_247;
			}
			else
			{
				rLoc2_557 = rLoc2_247;
l0808E172:
				rLoc2_536 = ϕ(rLoc2_555, rLoc2_557);
				rLoc5C_537 = rLoc1_245;
				!sqrt();
			}
			rLoc1C_255 = rArg0_137;
			eax_256 = dwArg04;
			eax_257 = Mem0[eax_256 + 0x10:word32];
			edx_258 = dwLoc10_148;
			edx_259 = edx_258 + 0x02;
			edx_260 = edx_259 + edx_259;
			eax_261 = eax_257 + edx_260;
			eax_262 = (word32) Mem0[eax_261 + 0x00:word16];
			ax_263 = (word16) eax_262;
			eax_264 = (int32) ax_263;
			edx_265 = dwArg08;
			ecx_266 = edx_265;
			ecx_267 = ecx_266 - eax_264;
			eax_268 = ecx_267;
			dwLoc40_269 = eax_268;
			rArg0_270 = (real64) dwLoc40_269;
			eax_271 = dwArg04;
			eax_272 = Mem0[eax_271 + 0x10:word32];
			edx_273 = dwLoc10_148;
			edx_274 = edx_273 + 0x02;
			edx_275 = edx_274 + edx_274;
			eax_276 = eax_272 + edx_275;
			eax_277 = (word32) Mem0[eax_276 + 0x00:word16];
			ax_278 = (word16) eax_277;
			eax_279 = (int32) ax_278;
			edx_280 = dwArg08;
			ebx_281 = edx_280;
			ebx_282 = ebx_281 - eax_279;
			eax_283 = ebx_282;
			dwLoc40_284 = eax_283;
			rLoc1_285 = (real64) dwLoc40_284;
			rArg0_286 = rArg0_270 * rLoc1_285;
			eax_287 = dwArg04;
			eax_288 = Mem0[eax_287 + 0x10:word32];
			edx_289 = dwLoc10_148;
			edx_290 = edx_289 + 0x03;
			edx_291 = edx_290 + edx_290;
			eax_292 = eax_288 + edx_291;
			eax_293 = (word32) Mem0[eax_292 + 0x00:word16];
			ax_294 = (word16) eax_293;
			eax_295 = (int32) ax_294;
			edx_296 = dwArg0C;
			esi_297 = edx_296;
			esi_298 = esi_297 - eax_295;
			eax_299 = esi_298;
			dwLoc40_300 = eax_299;
			rLoc1_301 = (real64) dwLoc40_300;
			eax_302 = dwArg04;
			eax_303 = Mem0[eax_302 + 0x10:word32];
			edx_304 = dwLoc10_148;
			edx_305 = edx_304 + 0x03;
			edx_306 = edx_305 + edx_305;
			eax_307 = eax_303 + edx_306;
			eax_308 = (word32) Mem0[eax_307 + 0x00:word16];
			ax_309 = (word16) eax_308;
			eax_310 = (int32) ax_309;
			edx_311 = dwArg0C;
			ecx_312 = edx_311;
			ecx_313 = ecx_312 - eax_310;
			SCZO_314 = cond(ecx_313);
			SO_315 = SCZO_314;
			eax_316 = ecx_313;
			dwLoc40_317 = eax_316;
			rLoc2_318 = (real64) dwLoc40_317;
			rLoc1_319 = rLoc1_301 * rLoc2_318;
			rArg0_320 = rArg0_286 + rLoc1_319;
			rLoc5C_321 = rArg0_320;
			!sqrt();
			rLoc24_339 = rArg1_145;
			rArg1_340 = rLoc1C_255;
			rArg0_341 = 0.0;
			v25_342 = rArg0_341;
			rArg0_343 = rArg1_340;
			rArg1_344 = v25_342;
			CZP_345 = cond(rArg0_343 - rArg1_344);
			SCZO_346 = CZP_345;
			Z_347 = CZP_345;
			SZO_348 = CZP_345;
			P_349 = CZP_345;
			CZ_350 = CZP_345;
			C_351 = CZP_345;
			rArg1_352 = rArg1_344;
			if (Test(PO,P_349) && Test(EQ,Z_347))
			{
l0808E23C:
				rArg0_353 = ϕ(rArg0_343, rArg0_368);
				P_354 = ϕ(P_349, P_374);
				rArg1_355 = ϕ(rArg1_352, rArg1_377);
				CZP_356 = ϕ(CZP_345, CZP_370);
				CZ_357 = ϕ(CZ_350, CZ_375);
				SZO_358 = ϕ(SZO_348, SZO_373);
				C_359 = ϕ(C_351, C_376);
				Z_360 = ϕ(Z_347, Z_372);
				SCZO_361 = ϕ(SCZO_346, SCZO_371);
				eax_362 = 0x01;
				al_363 = (byte) eax_362;
				ax_364 = (word16) eax_362;
				goto l0808E3DE;
			}
			rArg1_365 = rLoc24_339;
			rArg0_366 = 0.0;
			v26_367 = rArg0_366;
			rArg0_368 = rArg1_365;
			rArg1_369 = v26_367;
			CZP_370 = cond(rArg0_368 - rArg1_369);
			SCZO_371 = CZP_370;
			Z_372 = CZP_370;
			SZO_373 = CZP_370;
			P_374 = CZP_370;
			CZ_375 = CZP_370;
			C_376 = CZP_370;
			rArg1_377 = rArg1_369;
			if (Test(EQ,Z_372) && Test(PO,P_374))
				goto l0808E23C;
			eax_378 = dwArg04;
			eax_379 = Mem0[eax_378 + 0x10:word32];
			edx_380 = dwLoc10_148;
			edx_381 = edx_380 + edx_380;
			eax_382 = eax_379 + edx_381;
			eax_383 = (word32) Mem0[eax_382 + 0x00:word16];
			ax_384 = (word16) eax_383;
			eax_385 = (int32) ax_384;
			edx_386 = dwArg08;
			ebx_387 = edx_386;
			ebx_388 = ebx_387 - eax_385;
			eax_389 = ebx_388;
			dwLoc40_390 = eax_389;
			rArg1_391 = (real64) dwLoc40_390;
			eax_392 = dwArg04;
			eax_393 = Mem0[eax_392 + 0x10:word32];
			edx_394 = dwLoc10_148;
			edx_395 = edx_394 + 0x03;
			edx_396 = edx_395 + edx_395;
			eax_397 = eax_393 + edx_396;
			eax_398 = (word32) Mem0[eax_397 + 0x00:word16];
			ax_399 = (word16) eax_398;
			eax_400 = (int32) ax_399;
			edx_401 = dwArg0C;
			esi_402 = edx_401;
			esi_403 = esi_402 - eax_400;
			eax_404 = esi_403;
			dwLoc40_405 = eax_404;
			rArg0_406 = (real64) dwLoc40_405;
			rArg1_407 = rArg1_391 * rArg0_406;
			eax_408 = dwArg04;
			eax_409 = Mem0[eax_408 + 0x10:word32];
			edx_410 = dwLoc10_148;
			edx_411 = edx_410 + 0x02;
			edx_412 = edx_411 + edx_411;
			eax_413 = eax_409 + edx_412;
			eax_414 = (word32) Mem0[eax_413 + 0x00:word16];
			ax_415 = (word16) eax_414;
			eax_416 = (int32) ax_415;
			edx_417 = dwArg08;
			ecx_418 = edx_417;
			ecx_419 = ecx_418 - eax_416;
			eax_420 = ecx_419;
			dwLoc40_421 = eax_420;
			rArg0_422 = (real64) dwLoc40_421;
			eax_423 = dwArg04;
			eax_424 = Mem0[eax_423 + 0x10:word32];
			edx_425 = dwLoc10_148;
			edx_426 = edx_425 + 0x01;
			edx_427 = edx_426 + edx_426;
			eax_428 = eax_424 + edx_427;
			eax_429 = (word32) Mem0[eax_428 + 0x00:word16];
			ax_430 = (word16) eax_429;
			eax_431 = (int32) ax_430;
			edx_432 = dwArg0C;
			ebx_433 = edx_432;
			ebx_434 = ebx_433 - eax_431;
			eax_435 = ebx_434;
			dwLoc40_436 = eax_435;
			rLoc1_437 = (real64) dwLoc40_436;
			rArg0_438 = rArg0_422 * rLoc1_437;
			rArg1_439 = rArg1_407 - rArg0_438;
			rArg1_440 = rArg1_439 / rLoc1C_255;
			rArg1_441 = rArg1_440 / rLoc24_339;
			rLoc2C_442 = rArg1_441;
			eax_443 = dwArg04;
			eax_444 = Mem0[eax_443 + 0x10:word32];
			edx_445 = dwLoc10_148;
			edx_446 = edx_445 + edx_445;
			eax_447 = eax_444 + edx_446;
			eax_448 = (word32) Mem0[eax_447 + 0x00:word16];
			ax_449 = (word16) eax_448;
			eax_450 = (int32) ax_449;
			edx_451 = dwArg08;
			esi_452 = edx_451;
			esi_453 = esi_452 - eax_450;
			eax_454 = esi_453;
			dwLoc40_455 = eax_454;
			rArg1_456 = (real64) dwLoc40_455;
			eax_457 = dwArg04;
			eax_458 = Mem0[eax_457 + 0x10:word32];
			edx_459 = dwLoc10_148;
			edx_460 = edx_459 + 0x02;
			edx_461 = edx_460 + edx_460;
			eax_462 = eax_458 + edx_461;
			eax_463 = (word32) Mem0[eax_462 + 0x00:word16];
			ax_464 = (word16) eax_463;
			eax_465 = (int32) ax_464;
			edx_466 = dwArg08;
			ecx_467 = edx_466;
			ecx_468 = ecx_467 - eax_465;
			eax_469 = ecx_468;
			dwLoc40_470 = eax_469;
			rArg0_471 = (real64) dwLoc40_470;
			rArg1_472 = rArg1_456 * rArg0_471;
			eax_473 = dwArg04;
			eax_474 = Mem0[eax_473 + 0x10:word32];
			edx_475 = dwLoc10_148;
			edx_476 = edx_475 + 0x01;
			edx_477 = edx_476 + edx_476;
			eax_478 = eax_474 + edx_477;
			eax_479 = (word32) Mem0[eax_478 + 0x00:word16];
			ax_480 = (word16) eax_479;
			eax_481 = (int32) ax_480;
			edx_482 = dwArg0C;
			ebx_483 = edx_482;
			ebx_484 = ebx_483 - eax_481;
			eax_485 = ebx_484;
			dwLoc40_486 = eax_485;
			rArg0_487 = (real64) dwLoc40_486;
			eax_488 = dwArg04;
			eax_489 = Mem0[eax_488 + 0x10:word32];
			edx_490 = dwLoc10_148;
			edx_491 = edx_490 + 0x03;
			edx_492 = edx_491 + edx_491;
			eax_493 = eax_489 + edx_492;
			eax_494 = (word32) Mem0[eax_493 + 0x00:word16];
			ax_495 = (word16) eax_494;
			eax_496 = (int32) ax_495;
			edx_497 = dwArg0C;
			esi_498 = edx_497;
			esi_499 = esi_498 - eax_496;
			SCZO_500 = cond(esi_499);
			eax_501 = esi_499;
			dwLoc40_502 = eax_501;
			rLoc1_503 = (real64) dwLoc40_502;
			rArg0_504 = rArg0_487 * rLoc1_503;
			rArg1_505 = rArg1_472 + rArg0_504;
			rArg1_506 = rArg1_505 / rLoc1C_255;
			rArg1_507 = rArg1_506 / rLoc24_339;
			rLoc34_508 = rArg1_507;
			rArg1_509 = rLoc34_508;
			rLoc54_510 = rArg1_509;
			rArg1_511 = rLoc2C_442;
			rLoc5C_512 = rArg1_511;
			!atan2();
			rArg1_530 = rLoc3C_147;
			rArg2_531 = rArg2_146 + rArg1_530;
			rLoc3C_532 = rArg2_531;
			v28_533 = dwLoc10_148 + 0x02;
			dwLoc10_534 = v28_533;
			SCZO_535 = cond(v28_533);
		}
		rLoc1_165 = rLoc3C_147;
		rLoc1_166 = fabs(rLoc1_165);
		rLoc2_167 = Mem0[0x080CC020:real64];
		v17_168 = rLoc2_167;
		rLoc2_169 = rLoc1_166;
		rLoc1_170 = v17_168;
		CZP_171 = cond(rLoc2_169 - rLoc1_170);
		CZ_172 = CZP_171;
		rLoc1_173 = rLoc1_170;
		al_174 = rLoc2_169 >u rLoc1_170;
		SZO_175 = cond(al_174 & al_174);
		Z_176 = SZO_175;
		C_177 = false;
		if ((al_174 & al_174) != 0x00)
		{
			eax_178 = 0x01;
			al_179 = (byte) eax_178;
			ax_180 = (word16) eax_178;
			goto l0808E3DE;
		}
	}
	else
	{
		eax_616 = dwArg04;
		eax_617 = Mem0[eax_616 + 0x10:word32];
		eax_618 = (word32) Mem0[eax_617 + 0x00:word16];
		ax_619 = (word16) eax_618;
		eax_620 = (int32) ax_619;
		SCZO_621 = cond(eax_620 - dwArg08);
		SZO_622 = SCZO_621;
		if (Test(GT,SZO_622))
			goto l0808E3D9;
		eax_623 = dwArg04;
		eax_624 = Mem0[eax_623 + 0x10:word32];
		eax_625 = eax_624 + 0x02;
		eax_626 = (word32) Mem0[eax_625 + 0x00:word16];
		ax_627 = (word16) eax_626;
		eax_628 = (int32) ax_627;
		SCZO_629 = cond(eax_628 - dwArg0C);
		SZO_630 = SCZO_629;
		if (Test(LE,SZO_630))
		{
			eax_631 = dwArg04;
			eax_632 = Mem0[eax_631 + 0x10:word32];
			eax_633 = eax_632 + 0x04;
			eax_634 = (word32) Mem0[eax_633 + 0x00:word16];
			ax_635 = (word16) eax_634;
			eax_636 = (int32) ax_635;
			SCZO_637 = cond(eax_636 - dwArg08);
			SO_638 = SCZO_637;
			if (Test(GE,SO_638))
			{
				eax_639 = dwArg04;
				eax_640 = Mem0[eax_639 + 0x10:word32];
				eax_641 = eax_640 + 0x06;
				eax_642 = (word32) Mem0[eax_641 + 0x00:word16];
				ax_643 = (word16) eax_642;
				eax_644 = (int32) ax_643;
				SCZO_645 = cond(eax_644 - dwArg0C);
				SO_646 = SCZO_645;
				if (Test(GE,SO_646))
				{
					eax_647 = 0x01;
					al_648 = (byte) eax_647;
					ax_649 = (word16) eax_647;
					goto l0808E3DE;
				}
			}
		}
	}
l0808E3D9:
	rLoc3_86 = ϕ(rLoc3, rLoc3, rLoc3, rLoc3, rLoc3, rLoc3_132, rLoc3, rLoc3);
	rLoc1C_87 = ϕ(rLoc1C, rLoc1C, rLoc1C, rLoc1C, rLoc1C, rLoc1C_133, rLoc1C, rLoc1C);
	rLoc24_88 = ϕ(rLoc24, rLoc24, rLoc24, rLoc24, rLoc24, rLoc24_134, rLoc24, rLoc24);
	rLoc2C_89 = ϕ(rLoc2C, rLoc2C, rLoc2C, rLoc2C, rLoc2C, rLoc2C_135, rLoc2C, rLoc2C);
	dwLoc40_90 = ϕ(dwLoc40, dwLoc40, dwLoc40, dwLoc40, dwLoc40, dwLoc40_136, dwLoc40, dwLoc40);
	rArg0_91 = ϕ(rArg0, rArg0, rArg0, rArg0, rArg0, rArg0_137, rArg0, rArg0);
	rLoc34_92 = ϕ(rLoc34, rLoc34, rLoc34, rLoc34, rLoc34, rLoc34_138, rLoc34, rLoc34);
	rLoc54_93 = ϕ(rLoc54, rLoc54, rLoc54, rLoc54, rLoc54, rLoc54_139, rLoc54, rLoc54);
	rLoc5C_94 = ϕ(rLoc5C, rLoc5C, rLoc5C, rLoc5C, rLoc5C, rLoc5C_140, rLoc5C, rLoc5C);
	P_95 = ϕ(P, P, P, P, P, P_141, P, P);
	ecx_96 = ϕ(ecx, ecx, ecx_597, ecx, ecx, ecx_142, ecx, ecx);
	edx_97 = ϕ(edx, edx, edx_603, edx, edx, edx_143, edx, edx);
	SO_98 = ϕ(SO, SO, SO, SO_646, SO_638, SO_144, SO, SO);
	rArg1_99 = ϕ(rArg1, rArg1, rArg1, rArg1, rArg1, rArg1_145, rArg1, rArg1);
	rArg2_100 = ϕ(rArg2, rArg2, rArg2, rArg2, rArg2, rArg2_146, rArg2, rArg2);
	rLoc3C_101 = ϕ(rLoc3C, rLoc3C, rLoc3C, rLoc3C, rLoc3C, rLoc3C_147, rLoc3C, rLoc3C);
	dwLoc10_102 = ϕ(dwLoc10, dwLoc10, dwLoc10, dwLoc10, dwLoc10, dwLoc10_148, dwLoc10, dwLoc10);
	rLoc2_103 = ϕ(rLoc2, rLoc2, rLoc2, rLoc2, rLoc2, rLoc2_169, rLoc2, rLoc2);
	CZP_104 = ϕ(CZP, CZP, CZP, CZP, CZP, CZP_171, CZP, CZP);
	CZ_105 = ϕ(CZ, CZ, CZ, CZ, CZ, CZ_172, CZ, CZ);
	rLoc1_106 = ϕ(rLoc1, rLoc1, rLoc1, rLoc1, rLoc1, rLoc1_173, rLoc1, rLoc1);
	SZO_107 = ϕ(SZO_119, SZO_119, SZO_612, SZO_630, SZO_630, SZO_175, SZO_630, SZO_622);
	C_108 = ϕ(C, C, C, C, C, C_177, C, C);
	Z_109 = ϕ(Z_121, Z_128, Z_126, Z_85, Z_85, Z_176, Z_85, Z_85);
	SCZO_110 = ϕ(SCZO_120, SCZO_127, SCZO_611, SCZO_645, SCZO_637, SCZO_163, SCZO_629, SCZO_621);
	ebx_111 = ϕ(ebx, ebx, ebx_585, ebx, ebx, ebx_157, ebx, ebx);
	esi_112 = ϕ(esi, esi, esi_594, esi, esi, esi_158, esi, esi);
	ebp_113 = ϕ(ebp_5, ebp_5, ebp_5, ebp_5, ebp_5, ebp_159, ebp_5, ebp_5);
	esp_114 = ϕ(esp_12, esp_12, esp_12, esp_12, esp_12, esp_160, esp_12, esp_12);
	eax_115 = 0x00;
	al_116 = (byte) eax_115;
	ax_117 = (word16) eax_115;
	goto l0808E3DE;
}

// 0808E3E5: Register word32 nearestMapArea(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 nearestMapArea(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_43;
	real64 rLoc1_16 = Mem0[0x080D53A0:real64] * Mem0[0x080D53A0:real64] + Mem0[135091112:real64] * Mem0[135091112:real64];
	word16 wLoc26_17 = __fstcw();
	__fldcw(DPB(ax, 0x0C, 8));
	__fldcw(wLoc26_17);
	word32 dwLoc18_100 = ~0x00;
	word32 dwLoc1C_101 = ~0x00;
	int32 dwLoc20_23 = (int32) rLoc1_16;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		word32 dwLoc10_104 = 0x00;
		word32 dwLoc08_108 = Mem0[Mem0[dwArg04 + 0x04:word32] + 0x00:word32];
		while (dwLoc08_108 != 0x00)
		{
			word32 eax_91 = Mem0[dwLoc08_108 + 0x00:word32];
			if (eax_91 != 0x00)
			{
				word32 eax_135 = ((int32) (word16) (word32) Mem0[eax_91 + 0x18:word16] - dwArg08) *s ((int32) ((word16) ((word32) Mem0[eax_91 + 0x18:word16])) - dwArg08) + ((int32) ((word16) ((word32) Mem0[eax_91 + 0x1A:word16])) - dwArg0C) *s ((int32) ((word16) ((word32) Mem0[eax_91 + 0x1A:word16])) - dwArg0C);
				if ((dwLoc1C_101 < 0x00 || eax_135 < dwLoc1C_101) && eax_135 < dwLoc20_23)
				{
					dwLoc18_100 = dwLoc10_104;
					dwLoc1C_101 = eax_135;
				}
			}
			dwLoc10_104 = dwLoc10_104 + 0x01;
			dwLoc08_108 = Mem0[dwLoc08_108 + 0x04:word32];
		}
		eax_43 = dwLoc18_100;
	}
	else
		eax_43 = ~0x00;
	return eax_43;
}

// 0808E4DD: Register word32 searchMapArea(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 searchMapArea(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_128;
	if (dwArg08 != 0x00 && (Mem0[dwArg08 + 0x04:word32] != 0x00 && (word16) ((word32) Mem0[Mem0[dwArg08 + 0x04:word32] + 0x08:word16]) != 0x00))
	{
		if (getMapXY(dwArg04, dwArg0C, fp - 0x20, fp - 0x24) == 0x00)
			eax_128 = ~0x00;
		else
		{
			word32 dwLoc1C_149 = -(int32) (word16) (word32) Mem0[Mem0[dwArg08 + 0x04:word32] + 0x08:word16];
			word32 dwLoc18_160 = 0x00;
			word32 dwLoc10_100 = Mem0[Mem0[dwArg08 + 0x04:word32] + 0x00:word32];
			while (dwLoc10_100 != 0x00)
			{
				word32 eax_143 = Mem0[dwLoc10_100 + 0x00:word32];
				if (eax_143 != 0x00 && (dwLoc1C_149 < 0x00 && inMapArea(eax_143, dwLoc20, dwLoc24, rArg0, rArg1, rArg2, out rArg0) != 0x00))
				{
					if ((byte) (word32) Mem0[eax_143 + 0x0C:byte] == 0x01)
					{
						if (-(int32) (word16) (word32) Mem0[Mem0[dwArg08 + 0x04:word32] + 0x08:word16] == dwLoc1C_149)
							dwLoc1C_149 = -dwLoc18_160;
					}
					else
						dwLoc1C_149 = dwLoc18_160;
				}
				dwLoc18_160 = dwLoc18_160 + 0x01;
				dwLoc10_100 = Mem0[dwLoc10_100 + 0x04:word32];
			}
			if (-(int32) (word16) (word32) Mem0[Mem0[dwArg08 + 0x04:word32] + 0x08:word16] == dwLoc1C_149)
				eax_128 = nearestMapArea(dwArg08, dwLoc20, dwLoc24);
			else if (dwLoc1C_149 < 0x00)
				eax_128 = -dwLoc1C_149;
			else
				eax_128 = dwLoc1C_149;
		}
	}
	else
		eax_128 = ~0x00;
	return eax_128;
}

// 0808E611: Register word32 retrieveCurrentMapArea(Stack word32 dwArg04)
word32 retrieveCurrentMapArea(word32 dwArg04)
{
	word32 eax_114;
	word32 eax_11 = retrieveCurrentImg(dwArg04);
	if (eax_11 != 0x00 && (Mem0[eax_11 + 0x38:word32] != 0x00 && Mem0[Mem0[eax_11 + 0x38:word32] + 0x14:word32] != 0x00))
	{
		word32 eax_64 = retrieveCurrentForm(dwArg04);
		if (eax_64 != 0x00 && Mem0[eax_64 + 0x00:word32] != 0x00)
		{
			word32 eax_78 = Mem0[eax_64 + 0x00:word32];
			if (eax_78 != 0x00 && (Mem0[eax_78 + 0x40:word32] != 0x00 && Mem0[Mem0[eax_78 + 0x40:word32] + 0x00:word32] != 0x00))
			{
				word32 eax_106;
				word32 eax_99 = Mem0[Mem0[eax_78 + 0x40:word32] + 0x00:word32];
				if (Mem0[eax_99 + 0x08:word32] != 0x00)
					eax_106 = Mem0[Mem0[eax_99 + 0x08:word32] + 0x00:word32];
				else
					eax_106 = 0x00;
				word32 eax_110 = searchMapList(dwArg04, eax_106);
				if (eax_110 == 0x00)
					eax_114 = 0x00;
				else
				{
					word32 eax_121 = searchMapArea(dwArg04, eax_110, eax_11);
					if (eax_121 < 0x00)
						eax_114 = 0x00;
					else
					{
						word32 dwLoc28_126 = 0x00;
						word32 dwLoc20_130 = Mem0[Mem0[eax_110 + 0x04:word32] + 0x00:word32];
						while (dwLoc20_130 != 0x00)
						{
							word32 eax_139 = Mem0[dwLoc20_130 + 0x00:word32];
							if (eax_139 != 0x00 && dwLoc28_126 == eax_121)
							{
								eax_114 = eax_139;
								return eax_114;
							}
							dwLoc28_126 = dwLoc28_126 + 0x01;
							dwLoc20_130 = Mem0[dwLoc20_130 + 0x04:word32];
						}
						eax_114 = 0x00;
					}
				}
			}
			else
				eax_114 = 0x00;
		}
		else
			eax_114 = 0x00;
	}
	else
		eax_114 = 0x00;
	return eax_114;
}

// 0808E756: Register word32 getMapXY(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 getMapXY(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_164;
	if (dwArg04 != 0x00 && (dwArg08 != 0x00 && (Mem0[dwArg08 + 0x38:word32] != 0x00 && (dwArg0C != 0x00 && dwArg10 != 0x00))))
	{
		word16 ax_84 = (word16) (word32) Mem0[dwArg04 + 0x48:word16];
		real64 rLoc1_113 = ((real64) (Mem0[dwArg04 + 0x44:word32] + (int32) ax_84 - calcPosition(Mem0[Mem0[dwArg04 + 0x10:word32] + 0x00:word32], Mem0[Mem0[dwArg04 + 0x10:word32] + 0x04:word32], Mem0[Mem0[dwArg04 + 0x10:word32] + 0x14:word32], Mem0[dwArg08 + 0x18:word32], 0x00, 0x00)) + Mem0[0x080CC028:real64]) * Mem0[0x080D53A0:real64];
		word16 wLoc12_114 = __fstcw();
		word16 ax_117 = DPB(ax_84, 0x0C, 8);
		__fldcw(ax_117);
		__fldcw(wLoc12_114);
		Mem128[dwArg0C + 0x00:word32] = (int32) rLoc1_113 - (int32) ((word16) ((word32) Mem0[Mem0[dwArg08 + 0x38:word32] + 0x0C:word16]));
		real64 rLoc1_145 = ((real64) (Mem128[Mem128[dwArg04 + 0x10:word32] + 0x1C:word32] - (int32) ((word16) ((word32) Mem128[Mem128[dwArg08 + 0x38:word32] + 0x10:word16]))) + Mem128[0x080CC028:real64]) * Mem128[135091112:real64];
		__fldcw(ax_117);
		__fldcw(wLoc12_114);
		Mem155[dwArg10 + 0x00:word32] = (int32) rLoc1_145 - (int32) ((word16) ((word32) Mem128[Mem128[dwArg08 + 0x38:word32] + 0x0E:word16]));
		if (Mem155[dwArg0C + 0x00:word32] <= 0x00)
			Mem170[dwArg0C + 0x00:word32] = 0x01;
		if (Mem155[dwArg10 + 0x00:word32] <= 0x00)
			Mem168[dwArg10 + 0x00:word32] = 0x01;
		eax_164 = 0x01;
	}
	else
		eax_164 = 0x00;
	return eax_164;
}

// 0808E8A4: Register word32 retrieveCurrentMap(Stack word32 dwArg04)
word32 retrieveCurrentMap(word32 dwArg04)
{
	word32 eax_24;
	word32 eax_11 = retrieveCurrentForm(dwArg04);
	if (eax_11 != 0x00 && Mem0[eax_11 + 0x00:word32] != 0x00)
	{
		word32 eax_41 = Mem0[eax_11 + 0x00:word32];
		if (Mem0[Mem0[eax_41 + 0x40:word32] + 0x08:word32] == 0x02 && strcmp(Mem0[Mem0[Mem0[eax_41 + 0x40:word32] + 0x0C:word32] + 0x00:word32], 0x080CBB18) == 0x00)
			eax_24 = eax_11;
		else
			eax_24 = 0x00;
	}
	else
		eax_24 = 0x00;
	return eax_24;
}

// 0808E90F: Register word32 follow_map_menu(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 follow_map_menu(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 eax_117;
	word32 ebp_107 = fp - 0x04;
	word32 eax_16 = searchMapList(dwArg04, dwArg08);
	if (eax_16 != 0x00 && (Mem0[eax_16 + 0x04:word32] != 0x00 && (word16) ((word32) Mem0[Mem0[eax_16 + 0x04:word32] + 0x08:word16]) != 0x00))
	{
		if (searchMapArea(dwArg04, eax_16, dwArg0C) < 0x00 || Mem0[0x080D531C:word32] != 0x00)
		{
			word32 esp_160;
			byte SCZO_162;
			word32 eax_163;
			byte Z_164;
			byte SZO_165;
			byte C_166;
			word16 ax_167;
			byte S_168;
			word32 edx_169;
			byte al_170;
			selector gs_171;
			!GC_malloc();
			word32 dwLoc18_173 = 0x00;
			word32 dwLoc14_177 = Mem0[Mem0[eax_16 + 0x04:word32] + 0x00:word32];
			while (dwLoc14_177 != 0x00)
			{
				word32 eax_212 = Mem0[dwLoc14_177 + 0x00:word32];
				if (eax_212 != 0x00)
				{
					word32 eax_239;
					word32 edx_231 = (dwLoc18_173 << 0x02) + eax_163;
					if ((byte) (word32) Mem0[Mem0[eax_212 + 0x08:word32] + 0x00:byte] != 0x00)
						eax_239 = Mem0[eax_212 + 0x08:word32];
					else
						eax_239 = Mem0[eax_212 + 0x00:word32];
					Mem242[edx_231 + 0x00:word32] = eax_239;
				}
				else
					eax_163[dwLoc18_173 * 0x04] = 0x080CBB1C;
				dwLoc18_173 = dwLoc18_173 + 0x01;
				dwLoc14_177 = Mem0[dwLoc14_177 + 0x04:word32];
			}
			eax_163[(int32) (word16) (word32) Mem0[Mem0[eax_16 + 0x04:word32] + 0x08:word16] * 0x04] = 0x00;
			optionMenu(ebp_107, gs_171);
		}
		if (Mem0[ebp_107 - 0x18 + 0x00:word32] >= 0x00)
		{
			Mem120[ebp_107 - 0x14 + 0x00:word32] = 0x00;
			Mem124[ebp_107 - 0x10 + 0x00:word32] = Mem120[Mem120[Mem120[ebp_107 - 0x0C + 0x00:word32] + 0x04:word32] + 0x00:word32];
			while (Mem124[ebp_107 - 0x10 + 0x00:word32] != 0x00)
			{
				if (Mem124[Mem124[ebp_107 - 0x10 + 0x00:word32] + 0x00:word32] != 0x00 && Mem124[(ebp_107 - 0x14) + 0x00:word32] == Mem124[(ebp_107 - 0x18) + 0x00:word32])
				{
					eax_117 = Mem124[Mem124[ebp_107 - 0x10 + 0x00:word32] + 0x00:word32];
					return eax_117;
				}
				Mem137[ebp_107 - 0x14 + 0x00:word32] = Mem124[ebp_107 - 0x14 + 0x00:word32] + 0x01;
				Mem141[ebp_107 - 0x10 + 0x00:word32] = Mem137[Mem137[ebp_107 - 0x10 + 0x00:word32] + 0x04:word32];
			}
		}
		eax_117 = 0x00;
	}
	else
		eax_117 = 0x00;
	return eax_117;
}

// 0808EABC: void newMapArea(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void newMapArea(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 eax_40;
	word32 esp_12;
	word32 ebp_13;
	word32 ebx_14;
	byte SCZO_15;
	word32 eax_16;
	word32 edx_17;
	byte Z_18;
	byte SZO_19;
	byte C_20;
	byte al_21;
	word16 ax_22;
	word16 dx_23;
	word32 ecx_24;
	!GC_malloc();
	Mem29[eax_16 + 0x00:word32] = dwArg04;
	Mem33[eax_16 + 0x04:word32] = dwArg08;
	if (dwArg0C != 0x00)
		eax_40 = dwArg0C;
	else
		eax_40 = 0x080CBB1C;
	Mem42[eax_16 + 0x08:word32] = eax_40;
	Mem44[eax_16 + 0x0C:byte] = 0x02;
	if (dwArg10 != 0x00)
	{
		if (strcasecmp(dwArg10, 0x080CBB1D) == 0x00)
			Mem611[eax_16 + 0x0C:byte] = 0x01;
		else if (strncasecmp(dwArg10, 0x080CBB25, 0x04) == 0x00)
			Mem621[eax_16 + 0x0C:byte] = 0x02;
		else if (strncasecmp(dwArg10, 0x080CBB2A, 0x04) == 0x00)
			Mem631[eax_16 + 0x0C:byte] = 0x03;
		else if (strncasecmp(dwArg10, 0x080CBB2F, 0x04) == 0x00)
			Mem641[eax_16 + 0x0C:byte] = 0x04;
		else
			Mem643[eax_16 + 0x0C:byte] = 0x00;
	}
	Mem54[eax_16 + 0x10:word32] = 0x00;
	Mem56[eax_16 + 0x14:word32] = 0x00;
	Mem58[eax_16 + 0x18:word16] = 0x00;
	Mem60[eax_16 + 0x1A:word16] = 0x00;
	if ((byte) (word32) Mem60[eax_16 + 0x0C:byte] != 0x00 && (byte) ((word32) Mem60[eax_16 + 0x0C:byte]) != 0x01)
	{
		if (dwArg14 == 0x00)
			Mem104[eax_16 + 0x0C:byte] = 0x00;
		else
		{
			word32 eax_107 = (word32) Mem60[eax_16 + 0x0C:byte];
			byte al_109 = (byte) eax_107;
			if (al_109 == 0x02)
			{
				word32 esp_559;
				word32 ebp_560;
				word32 ebx_561;
				byte SCZO_562;
				word32 eax_563;
				word32 edx_564;
				byte Z_565;
				byte SZO_566;
				byte C_567;
				byte al_568;
				word16 ax_569;
				word16 dx_570;
				word32 ecx_571;
				!GC_malloc();
				Mem574[eax_16 + 0x10:word32] = eax_563;
				Mem576[eax_16 + 0x14:word32] = 0x04;
			}
			else
			{
				word32 eax_578 = (word32) Mem60[eax_16 + 0x0C:byte];
				byte al_580 = (byte) eax_578;
				if (al_580 == 0x03)
				{
					word32 esp_585;
					word32 ebp_586;
					word32 ebx_587;
					byte SCZO_588;
					word32 eax_589;
					word32 edx_590;
					byte Z_591;
					byte SZO_592;
					byte C_593;
					byte al_594;
					word16 ax_595;
					word16 dx_596;
					word32 ecx_597;
					!GC_malloc();
					Mem600[eax_16 + 0x10:word32] = eax_589;
					Mem602[eax_16 + 0x14:word32] = 0x03;
				}
			}
			word32 dwLoc1C_129 = Mem60[eax_16 + 0x14:word32];
			word32 dwLoc18_130 = 0x00;
			word32 dwLoc14_132 = dwArg14;
			while (((byte) (word32) Mem60[eax_16 + 0x0C:byte] == 0x04 || Mem60[eax_16 + 0x14:word32] > dwLoc18_130) && (byte) ((word32) Mem60[dwLoc14_132 + 0x00:byte]) != 0x00)
			{
				while (((word32) (byte) (word32) Mem60[(word32) (byte) (word32) Mem60[dwLoc14_132 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
					dwLoc14_132 = dwLoc14_132 + 0x01;
				if (((word32) (byte) (word32) Mem60[(word32) (byte) (word32) Mem60[dwLoc14_132 + 0x00:byte] + 0x080DB700:byte] & 0x08) == 0x00 && ((byte) ((word32) Mem60[dwLoc14_132 + 0x00:byte]) != 0x2D && (byte) ((word32) Mem60[dwLoc14_132 + 0x00:byte]) != 0x2B))
					break;
				byte al_382 = (byte) (word32) Mem60[eax_16 + 0x0C:byte];
				if (al_382 == 0x04)
				{
					if (dwLoc1C_129 <= dwLoc18_130)
					{
						word32 eax_504;
						if (dwLoc18_130 != 0x00)
							eax_504 = dwLoc18_130 * 0x02;
						else
							eax_504 = 0x06;
						dwLoc1C_129 = eax_504;
						word32 esp_515;
						word32 ebp_516;
						word32 ebx_517;
						byte SCZO_518;
						word32 eax_519;
						word32 edx_520;
						byte Z_521;
						byte SZO_522;
						byte C_523;
						byte al_524;
						word16 ax_525;
						word16 dx_526;
						word32 ecx_527;
						!GC_realloc();
						Mem530[eax_16 + 0x10:word32] = eax_519;
					}
					Mem500[eax_16 + 0x14:word32] = Mem60[eax_16 + 0x14:word32] + 0x01;
				}
				Mem60[eax_16 + 0x10:word32][dwLoc18_130 * 0x02] = (word16) atoi(dwLoc14_132);
				dwLoc18_130 = dwLoc18_130 + 0x01;
				if ((byte) (word32) Mem403[dwLoc14_132 + 0x00:byte] == 0x2D || (byte) ((word32) Mem403[dwLoc14_132 + 0x00:byte]) == 0x2B)
					dwLoc14_132 = dwLoc14_132 + 0x01;
				while (((word32) (byte) (word32) Mem403[(word32) (byte) (word32) Mem403[dwLoc14_132 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
					dwLoc14_132 = dwLoc14_132 + 0x01;
				if ((byte) (word32) Mem403[dwLoc14_132 + 0x00:byte] != 44 && ((word32) ((byte) ((word32) Mem403[(word32) ((byte) ((word32) Mem403[dwLoc14_132 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
					break;
				while (((word32) (byte) (word32) Mem403[(word32) (byte) (word32) Mem403[dwLoc14_132 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
					dwLoc14_132 = dwLoc14_132 + 0x01;
				if ((byte) (word32) Mem403[dwLoc14_132 + 0x00:byte] == 44)
					dwLoc14_132 = dwLoc14_132 + 0x01;
			}
			if (Mem60[eax_16 + 0x14:word32] == dwLoc18_130 && ((byte) ((word32) Mem60[eax_16 + 0x0C:byte]) != 0x04 || Mem60[eax_16 + 0x14:word32] > 0x05))
			{
				if ((byte) (word32) Mem60[eax_16 + 0x0C:byte] == 0x04)
				{
					word32 eax_312 = Mem60[eax_16 + 0x14:word32];
					Mem319[eax_16 + 0x14:word32] = ((eax_312 >>u 0x1F) + eax_312 >> 0x01) * 0x02;
					Mem319[eax_16 + 0x10:word32][Mem319[eax_16 + 0x14:word32] * 0x02] = (word16) (word32) Mem319[Mem319[eax_16 + 0x10:word32] + 0x00:word16];
					Mem330[eax_16 + 0x10:word32][(Mem330[eax_16 + 0x14:word32] + 0x01) * 0x02] = (word16) (word32) Mem330[Mem330[eax_16 + 0x10:word32] + 0x02:word16];
				}
				if ((byte) (word32) Mem60[eax_16 + 0x0C:byte] == 0x03)
				{
					Mem216[eax_16 + 0x18:word16] = (word16) (word32) Mem60[Mem60[eax_16 + 0x10:word32] + 0x00:word16];
					Mem224[eax_16 + 0x1A:word16] = (word16) (word32) Mem216[Mem216[eax_16 + 0x10:word32] + 0x02:word16];
				}
				else
				{
					word32 dwLoc18_225 = 0x00;
					while (true)
					{
						word32 eax_230 = Mem60[eax_16 + 0x14:word32];
						if ((eax_230 >>u 0x1F) + eax_230 >> 0x01 <= dwLoc18_225)
							break;
						Mem291[eax_16 + 0x18:word16] = (word16) ((word32) Mem60[eax_16 + 0x18:word16] + (word32) Mem60[eax_16 + 0x10:word32][dwLoc18_225 * 0x04]);
						Mem307[eax_16 + 0x1A:word16] = (word16) ((word32) Mem291[eax_16 + 0x1A:word16] + (word32) Mem291[eax_16 + 0x10:word32][(dwLoc18_225 * 0x02 + 0x01) * 0x02]);
						dwLoc18_225 = dwLoc18_225 + 0x01;
					}
					word32 eax_242 = Mem60[eax_16 + 0x14:word32];
					word32 edx_240 = (int32) (word16) (word32) Mem60[eax_16 + 0x18:word16];
					Mem256[eax_16 + 0x18:word16] = (word16) (int32) (SEQ(edx_240 >> 0x1F, edx_240) / ((eax_242 >>u 0x1F) + eax_242 >> 0x01));
					word32 eax_262 = Mem256[eax_16 + 0x14:word32];
					word32 edx_260 = (int32) (word16) (word32) Mem256[eax_16 + 0x1A:word16];
					Mem277[eax_16 + 0x1A:word16] = (word16) (int32) (SEQ(edx_260 >> 0x1F, edx_260) / ((eax_262 >>u 0x1F) + eax_262 >> 0x01));
				}
			}
			else
			{
				Mem178[eax_16 + 0x0C:byte] = 0x00;
				Mem180[eax_16 + 0x10:word32] = 0x00;
				Mem182[eax_16 + 0x14:word32] = 0x00;
			}
		}
	}
}

// 0808EFA6: void append_map_info(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void append_map_info(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_151;
	if (Mem0[dwArg0C + 0x08:word32] != 0x00)
		eax_151 = Mem0[Mem0[dwArg0C + 0x08:word32] + 0x00:word32];
	else
		eax_151 = 0x00;
	if (searchMapList(dwArg04, eax_151) != 0x00)
	{
		Strcat_m_charp(dwArg08);
		while (Mem0[fp - 0x14 + 0x00:word32] != 0x00)
		{
			Mem66[fp - 0x18 + 0x00:word32] = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32];
			if (Mem66[fp - 0x18 + 0x00:word32] != 0x00)
			{
				Mem79[fp - 0x7C + 0x00:word32] = Mem66[fp + 0x04:word32];
				word32 eax_80 = baseURL(dwArg00);
				word32 edx_82 = Mem79[Mem79[fp - 0x18 + 0x00:word32] + 0x00:word32];
				Mem83[fp - 116 + 0x00:word32] = eax_80;
				Mem85[fp - 0x78 + 0x00:word32] = fp - 0x48;
				Mem86[fp - 0x7C + 0x00:word32] = edx_82;
				parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
				Mem88[fp - 0x7C + 0x00:word32] = fp - 0x48;
				byte bpl_89;
				Mem92[fp - 0x7C + 0x00:word32] = Mem88[parsedURL2Str(dwArg00, out bpl_89) + 0x00:word32];
				Mem94[fp - 0x20 + 0x00:word32] = html_quote(dwArg00);
				if (Mem94[135774932:word32] != 0x00)
				{
					word32 eax_134 = Mem94[Mem94[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem135[fp - 0x78 + 0x00:word32] = Mem94[Mem94[fp + 0x04:word32] + 0xD0:word32];
					Mem136[fp - 0x7C + 0x00:word32] = eax_134;
					Mem138[fp - 0x7C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
					Mem140[fp - 0x1C + 0x00:word32] = html_quote(dwArg00);
				}
				else
				{
					Mem143[fp - 0x7C + 0x00:word32] = Mem94[Mem94[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem145[fp - 0x1C + 0x00:word32] = html_quote(dwArg00);
				}
				word32 eax_108;
				if ((byte) (word32) Mem94[Mem94[Mem94[fp - 0x18 + 0x00:word32] + 0x08:word32] + 0x00:byte] != 0x00)
					eax_108 = Mem94[Mem94[fp - 0x18 + 0x00:word32] + 0x08:word32];
				else
				{
					Mem128[fp - 0x7C + 0x00:word32] = Mem94[Mem94[fp - 0x18 + 0x00:word32] + 0x00:word32];
					eax_108 = mybasename(dwArg00);
				}
				Mem109[fp - 0x7C + 0x00:word32] = eax_108;
				word32 eax_110 = html_quote(dwArg00);
				Mem111[fp - 0x5C + 0x00:word32] = 0x00;
				Mem112[fp - 0x60 + 0x00:word32] = 0x080CBB94;
				Mem114[fp - 100 + 0x00:word32] = Mem112[fp - 0x1C + 0x00:word32];
				Mem115[fp - 0x68 + 0x00:word32] = 0x080CBB96;
				Mem116[fp - 0x6C + 0x00:word32] = eax_110;
				Mem117[fp - 0x70 + 0x00:word32] = 0x080CBB9F;
				Mem119[fp - 116 + 0x00:word32] = Mem117[fp - 0x20 + 0x00:word32];
				Mem120[fp - 0x78 + 0x00:word32] = 0x080CBBA4;
				Mem122[fp - 0x7C + 0x00:word32] = Mem120[fp + 0x08:word32];
				Strcat_m_charp(dwArg00);
			}
			Mem77[fp - 0x14 + 0x00:word32] = Mem66[Mem66[fp - 0x14 + 0x00:word32] + 0x04:word32];
		}
		Mem60[fp - 0x78 + 0x00:word32] = 0x080CBBD1;
		Mem62[fp - 0x7C + 0x00:word32] = Mem60[fp + 0x08:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
}

// 0808F13E: void append_link_info(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg0C)
void append_link_info(word32 ebp, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg0C != 0x00)
	{
		Strcat_charp(dwArg08, 135052252);
		while (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
			{
				Mem150[fp - 0x5C + 0x00:word32] = Mem0[fp + 0x04:word32];
				word32 eax_151 = baseURL(dwArg00);
				word32 edx_153 = Mem150[Mem150[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem154[fp - 0x54 + 0x00:word32] = eax_151;
				Mem156[fp - 88 + 0x00:word32] = fp - 0x3C;
				Mem157[fp - 0x5C + 0x00:word32] = edx_153;
				parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
				Mem159[fp - 0x5C + 0x00:word32] = fp - 0x3C;
				byte bpl_160;
				Mem163[fp - 0x5C + 0x00:word32] = Mem159[parsedURL2Str(dwArg00, out bpl_160) + 0x00:word32];
				Mem165[fp - 0x14 + 0x00:word32] = html_quote(dwArg00);
			}
			else
				Mem166[fp - 0x14 + 0x00:word32] = 0x080CBC0C;
			word32 eax_145;
			if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00)
			{
				Mem144[fp - 0x5C + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				eax_145 = html_quote(dwArg00);
			}
			else
				eax_145 = 0x080CBC0C;
			Mem62[fp - 0x44 + 0x00:word32] = 0x00;
			Mem63[fp - 0x48 + 0x00:word32] = 0x080CBB96;
			Mem64[fp - 0x4C + 0x00:word32] = eax_145;
			Mem65[fp - 0x50 + 0x00:word32] = 0x080CBB9F;
			Mem67[fp - 0x54 + 0x00:word32] = Mem65[fp - 0x14 + 0x00:word32];
			Mem68[fp - 88 + 0x00:word32] = 0x080CBC14;
			Mem70[fp - 0x5C + 0x00:word32] = Mem68[fp + 0x08:word32];
			Strcat_m_charp(dwArg00);
			if ((byte) (word32) Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x0C:byte] == 0x01)
			{
				Mem131[fp - 88 + 0x00:word32] = 135052337;
				Mem133[fp - 0x5C + 0x00:word32] = Mem131[fp + 0x08:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			else if ((byte) (word32) Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x0C:byte] == 0x02)
			{
				Mem139[fp - 88 + 0x00:word32] = 135052343;
				Mem141[fp - 0x5C + 0x00:word32] = Mem139[fp + 0x08:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x00:word32] == 0x00)
				Mem111[fp - 0x14 + 0x00:word32] = 0x080CBC0C;
			else if (Mem70[135774932:word32] != 0x00)
			{
				word32 eax_119 = Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem120[fp - 88 + 0x00:word32] = Mem70[Mem70[fp + 0x04:word32] + 0xD0:word32];
				Mem121[fp - 0x5C + 0x00:word32] = eax_119;
				Mem123[fp - 0x5C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				Mem125[fp - 0x14 + 0x00:word32] = html_quote(dwArg00);
			}
			else
			{
				Mem128[fp - 0x5C + 0x00:word32] = Mem70[Mem70[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem130[fp - 0x14 + 0x00:word32] = html_quote(dwArg00);
			}
			Mem84[fp - 0x50 + 0x00:word32] = 0x00;
			Mem86[fp - 0x54 + 0x00:word32] = Mem84[fp - 0x14 + 0x00:word32];
			Mem87[fp - 88 + 0x00:word32] = 0x080CBC3D;
			Mem89[fp - 0x5C + 0x00:word32] = Mem87[fp + 0x08:word32];
			Strcat_m_charp(dwArg00);
			if (Mem89[Mem89[fp - 0x10 + 0x00:word32] + 0x08:word32] != 0x00)
			{
				Mem103[fp - 0x5C + 0x00:word32] = Mem89[Mem89[fp - 0x10 + 0x00:word32] + 0x08:word32];
				word32 eax_104 = html_quote(dwArg00);
				Mem105[fp - 0x4C + 0x00:word32] = 0x00;
				Mem106[fp - 0x50 + 0x00:word32] = 0x080CBC42;
				Mem107[fp - 0x54 + 0x00:word32] = eax_104;
				Mem108[fp - 88 + 0x00:word32] = 0x080CBC44;
				Mem110[fp - 0x5C + 0x00:word32] = Mem108[fp + 0x08:word32];
				Strcat_m_charp(dwArg00);
			}
			Mem95[fp - 88 + 0x00:word32] = 0x080CBB94;
			Mem97[fp - 0x5C + 0x00:word32] = Mem95[fp + 0x08:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem100[fp - 0x10 + 0x00:word32] = Mem97[Mem97[fp - 0x10 + 0x00:word32] + 0x10:word32];
		}
		Mem44[fp - 88 + 0x00:word32] = 0x080CBC47;
		Mem46[fp - 0x5C + 0x00:word32] = Mem44[fp + 0x08:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
}

// 0808F33D: void append_frame_info(Register word32 ebp, Stack word32 dwArg0C)
void append_frame_info(word32 ebp, word32 dwArg0C)
{
	if (dwArg0C != 0x00)
	{
		while (Mem0[Mem0[fp + 0x0C:word32] + 0x18:word32] *s Mem0[Mem0[fp + 0x0C:word32] + 0x14:word32] > Mem0[(fp - 0x18) + 0x00:word32])
		{
			Mem47[fp - 0x20 + 0x00:word32] = Mem0[Mem0[fp + 0x0C:word32] + 0x20:word32][Mem0[fp - 0x18 + 0x00:word32] * 0x04];
			if (Mem47[fp - 0x20 + 0x00:word32] != 0x00)
			{
				word32 eax_66 = (int32) (byte) (word32) Mem47[Mem47[fp - 0x20 + 0x00:word32] + 0x00:byte];
				if (eax_66 >= 0x00)
				{
					if (eax_66 > 0x01)
					{
						if (eax_66 == 0x02)
						{
							word32 eax_77 = Mem47[fp - 0x20 + 0x00:word32];
							Mem78[fp - 0x40 + 0x00:word32] = Mem47[fp + 0x10:word32] + 0x01;
							Mem79[fp - 0x44 + 0x00:word32] = eax_77;
							Mem81[fp - 0x48 + 0x00:word32] = Mem79[fp + 0x08:word32];
							Mem83[fp - 0x4C + 0x00:word32] = Mem81[fp + 0x04:word32];
							append_frame_info(fp - 0x04, dwArg08);
						}
					}
					else if (Mem47[Mem47[fp - 0x20 + 0x00:word32] + 0x08:word32] != 0x00)
					{
						Mem90[fp - 0x48 + 0x00:word32] = 0x080CBC51;
						Mem92[fp - 0x4C + 0x00:word32] = Mem90[fp + 0x08:word32];
						Strcat_charp(dwArg00, dwArg04);
						Mem95[fp - 0x1C + 0x00:word32] = 0x00;
						while (Mem95[fp - 0x1C + 0x00:word32] < Mem95[fp + 0x10:word32])
						{
							Mem155[fp - 0x48 + 0x00:word32] = 0x080CBC5B;
							Mem157[fp - 0x4C + 0x00:word32] = Mem155[fp + 0x08:word32];
							Strcat_charp(dwArg00, dwArg04);
							Mem159[fp - 0x1C + 0x00:word32] = Mem157[fp - 0x1C + 0x00:word32] + 0x01;
						}
						Mem101[fp - 0x4C + 0x00:word32] = Mem95[Mem95[fp - 0x20 + 0x00:word32] + 0x08:word32];
						Mem103[fp - 0x14 + 0x00:word32] = html_quote(dwArg00);
						Mem104[fp - 0x3C + 0x00:word32] = 0x00;
						Mem105[fp - 0x40 + 0x00:word32] = 0x080CBB9F;
						Mem107[fp - 0x44 + 0x00:word32] = Mem105[fp - 0x14 + 0x00:word32];
						Mem108[fp - 0x48 + 0x00:word32] = 135052383;
						Mem110[fp - 0x4C + 0x00:word32] = Mem108[fp + 0x08:word32];
						Strcat_m_charp(dwArg00);
						if (Mem110[Mem110[fp - 0x20 + 0x00:word32] + 0x04:word32] != 0x00)
						{
							word32 eax_144 = Mem110[Mem110[fp - 0x20 + 0x00:word32] + 0x04:word32];
							Mem145[fp - 0x48 + 0x00:word32] = Mem110[Mem110[fp + 0x04:word32] + 0xD0:word32];
							Mem146[fp - 0x4C + 0x00:word32] = eax_144;
							Mem148[fp - 0x4C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
							Mem150[fp - 0x10 + 0x00:word32] = html_quote(dwArg00);
							Mem152[fp - 0x48 + 0x00:word32] = Mem150[fp - 0x10 + 0x00:word32];
							Mem154[fp - 0x4C + 0x00:word32] = Mem152[fp + 0x08:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						if (Mem110[135774932:word32] != 0x00)
						{
							word32 eax_132 = Mem110[Mem110[fp - 0x20 + 0x00:word32] + 0x08:word32];
							Mem133[fp - 0x48 + 0x00:word32] = Mem110[Mem110[fp + 0x04:word32] + 0xD0:word32];
							Mem134[fp - 0x4C + 0x00:word32] = eax_132;
							Mem136[fp - 0x4C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
							Mem138[fp - 0x10 + 0x00:word32] = html_quote(dwArg00);
						}
						else
							Mem140[fp - 0x10 + 0x00:word32] = Mem110[fp - 0x14 + 0x00:word32];
						Mem122[fp - 0x3C + 0x00:word32] = 0x00;
						Mem123[fp - 0x40 + 0x00:word32] = 135052393;
						Mem125[fp - 0x44 + 0x00:word32] = Mem123[fp - 0x10 + 0x00:word32];
						Mem126[fp - 0x48 + 0x00:word32] = 0x080CBC7D;
						Mem128[fp - 0x4C + 0x00:word32] = Mem126[fp + 0x08:word32];
						Strcat_m_charp(dwArg00);
					}
				}
			}
			Mem61[fp - 0x18 + 0x00:word32] = Mem47[fp - 0x18 + 0x00:word32] + 0x01;
		}
	}
}

// 0808F50B: Register word32 page_info_panel(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 page_info_panel(word32 ebp, selector gs, word32 dwArg04)
{
	Strnew_size(0x00, 0x0400);
	Strcat_charp(0x00, 0x080CBC80);
	if (dwArg04 != 0x00)
	{
		Strcat_charp(0x00, 0x080CBCF0);
		byte bpl_92;
		Mem95[fp - 0x48 + 0x00:word32] = Mem0[parsedURL2Str(dwArg04 + 0x84, out bpl_92) + 0x00:word32];
		if (Mem95[135774932:word32] != 0x00)
		{
			Mem484[fp - 200 + 0x00:word32] = 0x00;
			Mem486[fp - 0xCC + 0x00:word32] = Mem484[fp - 0x48 + 0x00:word32];
			Mem488[fp - 0x48 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
		}
		word32 ebx_111;
		Mem101[fp - 0xCC + 0x00:word32] = Mem95[fp - 0x90 + 0x00:word32];
		Mem103[fp - 0xCC + 0x00:word32] = last_modified(dwArg00);
		word32 eax_104 = html_quote(dwArg00);
		if (Mem103[Mem103[fp - 0x90 + 0x00:word32] + 0x38:word32] != 0x00)
		{
			Mem480[fp - 0xCC + 0x00:word32] = Mem103[Mem103[fp - 0x90 + 0x00:word32] + 0x38:word32];
			ebx_111 = html_quote(dwArg00);
		}
		else
			ebx_111 = 135052566;
		Mem113[fp - 0xCC + 0x00:word32] = Mem103[fp - 0x48 + 0x00:word32];
		word32 eax_114 = html_quote(dwArg00);
		Mem118[fp - 0xCC + 0x00:word32] = Mem113[Mem113[fp - 0x90 + 0x00:word32] + 0x04:word32];
		word32 eax_119 = html_quote(dwArg00);
		Mem120[fp - 0xA4 + 0x00:word32] = 0x00;
		Mem121[fp - 0xA8 + 0x00:word32] = eax_104;
		Mem122[fp - 0xAC + 0x00:word32] = 0x080CBD20;
		Mem123[fp - 0xB0 + 0x00:word32] = ebx_111;
		Mem124[fp - 0xB4 + 0x00:word32] = 0x080CBD4C;
		Mem125[fp - 0xB8 + 0x00:word32] = eax_114;
		Mem126[fp - 188 + 0x00:word32] = 0x080CBD78;
		Mem127[fp - 0xC0 + 0x00:word32] = eax_119;
		Mem128[fp - 0xC4 + 0x00:word32] = 0x080CBDA4;
		Mem129[fp - 200 + 0x00:word32] = 0x080CBDC8;
		Mem131[fp - 0xCC + 0x00:word32] = Mem129[fp - 0x34 + 0x00:word32];
		Strcat_m_charp(dwArg00);
		if (Mem131[Mem131[fp - 0x90 + 0x00:word32] + 0xD0:word32] != Mem131[135091052:word32])
		{
			Mem426[fp - 0x50 + 0x00:word32] = wc_get_ces_list();
			Mem427[fp - 200 + 0x00:word32] = 0x080CBDE0;
			Mem429[fp - 0xCC + 0x00:word32] = Mem427[fp - 0x34 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			while (Mem429[Mem429[fp - 0x50 + 0x00:word32] + 0x04:word32] != 0x00)
			{
				word32 eax_461;
				Mem448[fp - 0xC4 + 0x00:word32] = Mem429[Mem429[fp - 0x50 + 0x00:word32] + 0x00:word32];
				Mem449[fp - 200 + 0x00:word32] = 135052825;
				Mem451[fp - 0xCC + 0x00:word32] = fp - 0x30;
				sprintf(Mem451[fp - 0xCC + 0x00:(ptr char)], Mem451[fp - 200 + 0x00:(ptr char)], Mem451[fp - 0xD0 + 0x00:<unknown>]);
				word32 edx_454 = Mem451[Mem451[fp - 0x50 + 0x00:word32] + 0x08:word32];
				if (Mem451[Mem451[fp - 0x90 + 0x00:word32] + 0xD0:word32] == Mem451[Mem451[(fp - 0x50) + 0x00:word32] + 0x00:word32])
					eax_461 = 0x080CBE1C;
				else
					eax_461 = 0x080CBE27;
				Mem463[fp - 0xB8 + 0x00:word32] = 0x00;
				Mem464[fp - 188 + 0x00:word32] = edx_454;
				Mem465[fp - 0xC0 + 0x00:word32] = eax_461;
				Mem467[fp - 0xC4 + 0x00:word32] = fp - 0x30;
				Mem468[fp - 200 + 0x00:word32] = 0x080CBE29;
				Mem470[fp - 0xCC + 0x00:word32] = Mem468[fp - 0x34 + 0x00:word32];
				Strcat_m_charp(dwArg00);
				Mem472[fp - 0x50 + 0x00:word32] = Mem470[fp - 0x50 + 0x00:word32] + 0x0C;
			}
			Mem439[fp - 200 + 0x00:word32] = 0x080CBE38;
			Mem441[fp - 0xCC + 0x00:word32] = Mem439[fp - 0x34 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem442[fp - 200 + 0x00:word32] = 0x080CBE44;
			Mem444[fp - 0xCC + 0x00:word32] = Mem442[fp - 0x34 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		Mem146[fp - 200 + 0x00:word32] = Mem131[Mem131[fp - 0x90 + 0x00:word32] + 200:word32];
		Mem147[fp - 0xCC + 0x00:word32] = 135052825;
		byte bpl_148;
		word32 ebx_150 = Mem147[Sprintf(dwArg00, out bpl_148) + 0x00:word32];
		Mem152[fp - 200 + 0x00:word32] = Mem147[fp - 0x44 + 0x00:word32];
		Mem153[fp - 0xCC + 0x00:word32] = 135052825;
		byte bpl_154;
		word32 eax_156 = Mem153[Sprintf(dwArg00, out bpl_154) + 0x00:word32];
		Mem157[fp - 0xB8 + 0x00:word32] = 0x00;
		Mem158[fp - 188 + 0x00:word32] = ebx_150;
		Mem159[fp - 0xC0 + 0x00:word32] = 0x080CBE74;
		Mem160[fp - 0xC4 + 0x00:word32] = eax_156;
		Mem161[fp - 200 + 0x00:word32] = 0x080CBEA4;
		Mem163[fp - 0xCC + 0x00:word32] = Mem161[fp - 0x34 + 0x00:word32];
		Strcat_m_charp(dwArg00);
		Mem165[fp - 0xCC + 0x00:word32] = Mem163[fp - 0x90 + 0x00:word32];
		Mem167[fp - 0x38 + 0x00:word32] = retrieveCurrentAnchor(dwArg00);
		if (Mem167[fp - 0x38 + 0x00:word32] != 0x00)
		{
			Mem382[fp - 0xCC + 0x00:word32] = Mem167[fp - 0x90 + 0x00:word32];
			word32 eax_383 = baseURL(dwArg00);
			word32 edx_385 = Mem382[Mem382[fp - 0x38 + 0x00:word32] + 0x00:word32];
			Mem386[fp - 0xC4 + 0x00:word32] = eax_383;
			Mem388[fp - 200 + 0x00:word32] = fp - 0x80;
			Mem389[fp - 0xCC + 0x00:word32] = edx_385;
			parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem391[fp - 0xCC + 0x00:word32] = fp - 0x80;
			byte bpl_392;
			Mem395[fp - 0x48 + 0x00:word32] = Mem391[parsedURL2Str(dwArg00, out bpl_392) + 0x00:word32];
			Mem397[fp - 0xCC + 0x00:word32] = Mem395[fp - 0x48 + 0x00:word32];
			Mem399[fp - 0x4C + 0x00:word32] = html_quote(dwArg00);
			if (Mem399[135774932:word32] != 0x00)
			{
				Mem416[fp - 200 + 0x00:word32] = Mem399[Mem399[fp - 0x90 + 0x00:word32] + 0xD0:word32];
				Mem418[fp - 0xCC + 0x00:word32] = Mem416[fp - 0x48 + 0x00:word32];
				Mem420[fp - 0xCC + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				Mem422[fp - 0x48 + 0x00:word32] = html_quote(dwArg00);
			}
			else
				Mem424[fp - 0x48 + 0x00:word32] = Mem399[fp - 0x4C + 0x00:word32];
			Mem404[fp - 0xB4 + 0x00:word32] = 0x00;
			Mem405[fp - 0xB8 + 0x00:word32] = 135053010;
			Mem407[fp - 188 + 0x00:word32] = Mem405[fp - 0x48 + 0x00:word32];
			Mem408[fp - 0xC0 + 0x00:word32] = 0x080CBB9F;
			Mem410[fp - 0xC4 + 0x00:word32] = Mem408[fp - 0x4C + 0x00:word32];
			Mem411[fp - 200 + 0x00:word32] = 135053016;
			Mem413[fp - 0xCC + 0x00:word32] = Mem411[fp - 0x34 + 0x00:word32];
			Strcat_m_charp(dwArg00);
		}
		Mem175[fp - 0xCC + 0x00:word32] = Mem167[fp - 0x90 + 0x00:word32];
		Mem177[fp - 0x38 + 0x00:word32] = retrieveCurrentImg(dwArg00);
		if (Mem177[fp - 0x38 + 0x00:word32] != 0x00)
		{
			Mem338[fp - 0xCC + 0x00:word32] = Mem177[fp - 0x90 + 0x00:word32];
			word32 eax_339 = baseURL(dwArg00);
			word32 edx_341 = Mem338[Mem338[fp - 0x38 + 0x00:word32] + 0x00:word32];
			Mem342[fp - 0xC4 + 0x00:word32] = eax_339;
			Mem344[fp - 200 + 0x00:word32] = fp - 0x80;
			Mem345[fp - 0xCC + 0x00:word32] = edx_341;
			parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
			Mem347[fp - 0xCC + 0x00:word32] = fp - 0x80;
			byte bpl_348;
			Mem351[fp - 0x48 + 0x00:word32] = Mem347[parsedURL2Str(dwArg00, out bpl_348) + 0x00:word32];
			Mem353[fp - 0xCC + 0x00:word32] = Mem351[fp - 0x48 + 0x00:word32];
			Mem355[fp - 0x4C + 0x00:word32] = html_quote(dwArg00);
			if (Mem355[135774932:word32] != 0x00)
			{
				Mem372[fp - 200 + 0x00:word32] = Mem355[Mem355[fp - 0x90 + 0x00:word32] + 0xD0:word32];
				Mem374[fp - 0xCC + 0x00:word32] = Mem372[fp - 0x48 + 0x00:word32];
				Mem376[fp - 0xCC + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				Mem378[fp - 0x48 + 0x00:word32] = html_quote(dwArg00);
			}
			else
				Mem380[fp - 0x48 + 0x00:word32] = Mem355[fp - 0x4C + 0x00:word32];
			Mem360[fp - 0xB4 + 0x00:word32] = 0x00;
			Mem361[fp - 0xB8 + 0x00:word32] = 135053010;
			Mem363[fp - 188 + 0x00:word32] = Mem361[fp - 0x48 + 0x00:word32];
			Mem364[fp - 0xC0 + 0x00:word32] = 0x080CBB9F;
			Mem366[fp - 0xC4 + 0x00:word32] = Mem364[fp - 0x4C + 0x00:word32];
			Mem367[fp - 200 + 0x00:word32] = 135053080;
			Mem369[fp - 0xCC + 0x00:word32] = Mem367[fp - 0x34 + 0x00:word32];
			Strcat_m_charp(dwArg00);
		}
		Mem185[fp - 0xCC + 0x00:word32] = Mem177[fp - 0x90 + 0x00:word32];
		Mem187[fp - 0x38 + 0x00:word32] = retrieveCurrentForm(dwArg00);
		if (Mem187[fp - 0x38 + 0x00:word32] != 0x00)
		{
			Mem286[fp - 88 + 0x00:word32] = Mem187[Mem187[fp - 0x38 + 0x00:word32] + 0x00:word32];
			word32 eax_287 = Mem286[fp - 88 + 0x00:word32];
			Mem288[fp - 0xCC + 0x00:word32] = eax_287;
			Mem290[fp - 0x48 + 0x00:word32] = form2str(eax_287, dwArg00);
			if (Mem290[135774932:word32] != 0x00)
			{
				Mem326[fp - 200 + 0x00:word32] = Mem290[Mem290[fp - 0x90 + 0x00:word32] + 0xD0:word32];
				Mem328[fp - 0xCC + 0x00:word32] = Mem326[fp - 0x48 + 0x00:word32];
				Mem330[fp - 0xCC + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				Mem332[fp - 0x48 + 0x00:word32] = html_quote(dwArg00);
			}
			else
			{
				Mem334[fp - 0xCC + 0x00:word32] = Mem290[fp - 0x48 + 0x00:word32];
				Mem336[fp - 0x48 + 0x00:word32] = html_quote(dwArg00);
			}
			Mem295[fp - 0xC0 + 0x00:word32] = 0x00;
			Mem297[fp - 0xC4 + 0x00:word32] = Mem295[fp - 0x48 + 0x00:word32];
			Mem298[fp - 200 + 0x00:word32] = 135053140;
			Mem300[fp - 0xCC + 0x00:word32] = Mem298[fp - 0x34 + 0x00:word32];
			Strcat_m_charp(dwArg00);
			if (Mem300[Mem300[Mem300[fp - 88 + 0x00:word32] + 0x40:word32] + 0x08:word32] == 0x02)
			{
				word32 eax_309 = Mem300[Mem300[Mem300[Mem300[fp - 88 + 0x00:word32] + 0x40:word32] + 0x0C:word32] + 0x00:word32];
				Mem310[fp - 200 + 0x00:word32] = 0x080CBB18;
				Mem311[fp - 0xCC + 0x00:word32] = eax_309;
				if (strcmp(Mem311[fp - 0xCC + 0x00:(ptr char)], Mem311[fp - 200 + 0x00:(ptr char)]) == 0x00)
				{
					Mem319[fp - 0xC4 + 0x00:word32] = Mem311[Mem311[Mem311[fp - 88 + 0x00:word32] + 0x40:word32] + 0x00:word32];
					Mem321[fp - 200 + 0x00:word32] = Mem319[fp - 0x34 + 0x00:word32];
					Mem323[fp - 0xCC + 0x00:word32] = Mem321[fp - 0x90 + 0x00:word32];
					append_map_info(fp - 0x04, dwArg00, dwArg04, dwArg08);
				}
			}
		}
		Mem191[fp - 200 + 0x00:word32] = 0x080CBC47;
		Mem193[fp - 0xCC + 0x00:word32] = Mem191[fp - 0x34 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem194[fp - 200 + 0x00:word32] = 135053204;
		Mem196[fp - 0xCC + 0x00:word32] = Mem194[fp - 0x34 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem199[fp - 0xC4 + 0x00:word32] = Mem196[Mem196[fp - 0x90 + 0x00:word32] + 0x70:word32];
		Mem201[fp - 200 + 0x00:word32] = Mem199[fp - 0x34 + 0x00:word32];
		Mem203[fp - 0xCC + 0x00:word32] = Mem201[fp - 0x90 + 0x00:word32];
		append_link_info(fp - 0x04, dwArg04, dwArg08);
		if (Mem203[Mem203[fp - 0x90 + 0x00:word32] + 0xD8:word32] != 0x00)
		{
			Mem258[fp - 200 + 0x00:word32] = 135053212;
			Mem260[fp - 0xCC + 0x00:word32] = Mem258[fp - 0x34 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem264[fp - 0x3C + 0x00:word32] = Mem260[Mem260[Mem260[fp - 0x90 + 0x00:word32] + 0xD8:word32] + 0x00:word32];
			while (Mem264[fp - 0x3C + 0x00:word32] != 0x00)
			{
				Mem273[fp - 0xCC + 0x00:word32] = Mem264[Mem264[fp - 0x3C + 0x00:word32] + 0x00:word32];
				word32 eax_274 = html_quote(dwArg00);
				Mem275[fp - 188 + 0x00:word32] = 0x00;
				Mem276[fp - 0xC0 + 0x00:word32] = 0x080CBFCC;
				Mem277[fp - 0xC4 + 0x00:word32] = eax_274;
				Mem278[fp - 200 + 0x00:word32] = 0x080CBC51;
				Mem280[fp - 0xCC + 0x00:word32] = Mem278[fp - 0x34 + 0x00:word32];
				Strcat_m_charp(dwArg00);
				Mem283[fp - 0x3C + 0x00:word32] = Mem280[Mem280[fp - 0x3C + 0x00:word32] + 0x04:word32];
			}
			Mem268[fp - 200 + 0x00:word32] = 0x080CBFD8;
			Mem270[fp - 0xCC + 0x00:word32] = Mem268[fp - 0x34 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		if (Mem203[Mem203[fp - 0x90 + 0x00:word32] + 188:word32] != 0x00)
			Mem234[fp - 0x40 + 0x00:word32] = Mem203[Mem203[fp - 0x90 + 0x00:word32] + 188:word32];
		else if (((int32) (word16) (word32) Mem203[Mem203[fp - 0x90 + 0x00:word32] + 0x40:word16] & 0x02) != 0x00 && (Mem203[Mem203[(fp - 0x90) + 0x00:word32] + 0x18:word32] != 0x00 && Mem203[Mem203[Mem203[(fp - 0x90) + 0x00:word32] + 0x18:word32] + 188:word32] != 0x00))
			Mem257[fp - 0x40 + 0x00:word32] = Mem203[Mem203[Mem203[fp - 0x90 + 0x00:word32] + 0x18:word32] + 188:word32];
		if (Mem203[fp - 0x40 + 0x00:word32] != 0x00)
		{
			Mem222[fp - 200 + 0x00:word32] = 0x080CBFE0;
			Mem224[fp - 0xCC + 0x00:word32] = Mem222[fp - 0x34 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem225[fp - 0xC0 + 0x00:word32] = 0x00;
			Mem227[fp - 0xC4 + 0x00:word32] = Mem225[fp - 0x40 + 0x00:word32];
			Mem229[fp - 200 + 0x00:word32] = Mem227[fp - 0x34 + 0x00:word32];
			Mem231[fp - 0xCC + 0x00:word32] = Mem229[fp - 0x90 + 0x00:word32];
			append_frame_info(fp - 0x04, dwArg08);
		}
	}
	Mem48[fp - 200 + 0x00:word32] = 0x080CC00A;
	Mem50[fp - 0xCC + 0x00:word32] = Mem48[fp - 0x34 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem53[fp - 0xCC + 0x00:word32] = Mem50[fp - 0x34 + 0x00:word32];
	Mem55[fp - 0x54 + 0x00:word32] = loadHTMLString(fp - 0x04, gs, dwArg00);
	if (Mem55[fp - 0x54 + 0x00:word32] != 0x00)
		Mem78[Mem55[fp - 0x54 + 0x00:word32] + 0xD0:word32] = Mem55[Mem55[fp - 0x90 + 0x00:word32] + 0xD0:word32];
	word32 eax_58 = Mem55[fp - 0x54 + 0x00:word32];
	if ((Mem55[fp - 0x20 + 0x00:word32] ^ Mem55[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_58;
}

// 0808FC0C: void KeyAbort()
void KeyAbort()
{
	word32 esp_10;
	word32 ebp_11;
	byte SCZO_12;
	word32 eax_13;
	!siglongjmp();
	parseFrameSetLength(ebp_11, 0x0817D320);
}

// 0808FC26: Register word32 parseFrameSetLength(Register word32 ebp, Stack word32 dwArg04)
word32 parseFrameSetLength(word32 ebp, word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 dwLoc18_143 = dwArg04;
		while (true)
		{
			word32 eax_150 = strchr(dwLoc18_143, ',');
			if (eax_150 == 0x00)
				break;
			dwLoc18_143 = eax_150 + 0x01;
		}
	}
	word32 esp_23;
	word32 ebp_24;
	word32 ebx_25;
	byte SCZO_26;
	byte Z_27;
	word32 eax_28;
	byte al_29;
	byte SZO_30;
	byte C_31;
	word32 edx_32;
	byte bpl_33;
	!GC_malloc();
	while (true)
	{
		while ((byte) (word32) Mem0[Mem0[ebp_24 - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[(ebp_24 - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			Mem140[ebp_24 - 0x14 + 0x00:word32] = Mem0[ebp_24 - 0x14 + 0x00:word32] + 0x01;
		word32 eax_51 = Mem0[ebp_24 - 0x14 + 0x00:word32];
		Mem52[esp_23 + 0x08:word32] = 0x0A;
		Mem54[esp_23 + 0x04:word32] = ebp_24 - 0x18;
		Mem55[esp_23 + 0x00:word32] = eax_51;
		Mem57[ebp_24 - 0x10 + 0x00:word32] = strtol(Mem55[esp_23 + 0x00:(ptr char)]);
		word32 eax_61 = (int32) (byte) (word32) Mem57[Mem57[ebp_24 - 0x18 + 0x00:word32] + 0x00:byte];
		if (eax_61 != 0x25)
		{
			if (eax_61 != 0x2A)
			{
				word32 ebx_93 = (Mem57[ebp_24 - 0x0C + 0x00:word32] << 0x02) + Mem57[(ebp_24 - 0x1C) + 0x00:word32];
				Mem96[esp_23 + 0x04:word32] = Mem57[ebp_24 - 0x10 + 0x00:word32];
				Mem97[esp_23 + 0x00:word32] = 0x080CC037;
				byte bpl_99;
				Mem102[ebx_93 + 0x00:word32] = Mem97[Sprintf(dwArg00, out bpl_99) + 0x00:word32];
				Mem104[ebp_24 - 0x0C + 0x00:word32] = Mem102[ebp_24 - 0x0C + 0x00:word32] + 0x01;
			}
			else
			{
				Mem57[ebp_24 - 0x1C + 0x00:word32][Mem57[ebp_24 - 0x0C + 0x00:word32] * 0x04] = 0x080CC030;
				Mem111[ebp_24 - 0x0C + 0x00:word32] = Mem109[ebp_24 - 0x0C + 0x00:word32] + 0x01;
			}
		}
		else
		{
			word32 ebx_116 = (Mem57[ebp_24 - 0x0C + 0x00:word32] << 0x02) + Mem57[(ebp_24 - 0x1C) + 0x00:word32];
			Mem119[esp_23 + 0x04:word32] = Mem57[ebp_24 - 0x10 + 0x00:word32];
			Mem120[esp_23 + 0x00:word32] = 0x080CC032;
			byte bpl_121;
			Mem124[ebx_116 + 0x00:word32] = Mem120[Sprintf(dwArg00, out bpl_121) + 0x00:word32];
			Mem126[ebp_24 - 0x0C + 0x00:word32] = Mem124[ebp_24 - 0x0C + 0x00:word32] + 0x01;
		}
		word32 eax_67 = Mem57[ebp_24 - 0x18 + 0x00:word32];
		Mem68[esp_23 + 0x04:word32] = 44;
		Mem69[esp_23 + 0x00:word32] = eax_67;
		Mem71[ebp_24 - 0x14 + 0x00:word32] = strchr(Mem69[esp_23 + 0x00:(ptr char)], Mem69[esp_23 + 0x04:char]);
		if (Mem71[ebp_24 - 0x14 + 0x00:word32] == 0x00)
			break;
		Mem86[ebp_24 - 0x14 + 0x00:word32] = Mem71[ebp_24 - 0x14 + 0x00:word32] + 0x01;
	}
	Mem76[Mem71[ebp_24 + 0x0C:word32] + 0x00:word32] = Mem71[ebp_24 - 0x1C + 0x00:word32];
	return Mem76[ebp_24 - 0x0C + 0x00:word32];
}

// 0808FD83: void newFrameSet(Register word32 eax, Register word32 ebp, Stack word32 dwArg04)
void newFrameSet(word32 eax, word32 ebp, word32 dwArg04)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	word32 eax_14;
	word32 edx_15;
	byte Z_16;
	!GC_malloc();
	Mem19[eax_14 + 0x00:byte] = 0x02;
	Mem21[eax_14 + 0x04:word32] = 0x00;
	Mem23[eax_14 + 0x08:word32] = 0x00;
	parsedtag_get_value(dwArg04, 0x0D, fp - 0x18);
	parsedtag_get_value(dwArg04, 0x1C, fp - 0x1C);
	Mem44[Mem23[ebp_12 - 0x0C + 0x00:word32] + 0x14:word32] = parseFrameSetLength(ebp_12, 0x00);
	word32 eax_47 = Mem44[ebp_12 - 0x18 + 0x00:word32];
	Mem48[esp_11 + 0x04:word32] = Mem44[ebp_12 - 0x0C + 0x00:word32] + 0x10;
	Mem49[esp_11 + 0x00:word32] = eax_47;
	Mem53[Mem49[ebp_12 - 0x0C + 0x00:word32] + 0x18:word32] = parseFrameSetLength(ebp_12, dwArg00);
	Mem55[Mem53[ebp_12 - 0x0C + 0x00:word32] + 0x1C:word32] = 0x00;
	word32 edx_57 = Mem55[Mem55[ebp_12 - 0x0C + 0x00:word32] + 0x18:word32];
	Mem61[ebp_12 - 0x10 + 0x00:word32] = Mem55[Mem55[ebp_12 - 0x0C + 0x00:word32] + 0x14:word32] *s edx_57;
	Mem65[esp_11 + 0x00:word32] = Mem61[ebp_12 - 0x10 + 0x00:word32] << 0x02;
	word32 esp_66;
	word32 ebp_67;
	byte SCZO_68;
	word32 eax_69;
	word32 edx_70;
	byte Z_71;
	!GC_malloc();
	Mem74[Mem65[ebp_67 - 0x0C + 0x00:word32] + 0x20:word32] = eax_69;
	do
	{
		word32 eax_76 = Mem74[Mem74[ebp_67 - 0x0C + 0x00:word32] + 0x20:word32];
		Mem78[ebp_67 - 0x10 + 0x00:word32] = Mem74[ebp_67 - 0x10 + 0x00:word32] - 0x01;
		eax_76[Mem78[ebp_67 - 0x10 + 0x00:word32] * 0x04] = 0x00;
	} while (Mem82[ebp_67 - 0x10 + 0x00:word32] != 0x00);
}

// 0808FE7F: void newFrame(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void newFrame(word32 eax, word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 esp_15;
	word32 ebp_16;
	word32 esi_17;
	word32 ebx_18;
	byte SCZO_19;
	word32 eax_20;
	word32 edx_21;
	byte Z_22;
	byte SZO_23;
	byte C_24;
	byte al_25;
	!GC_malloc();
	word32 esp_30;
	word32 ebp_31;
	word32 esi_32;
	word32 ebx_33;
	byte SCZO_34;
	word32 eax_35;
	word32 edx_36;
	byte Z_37;
	byte SZO_38;
	byte C_39;
	byte al_40;
	!bzero();
	Mem42[eax_20 + 0x00:byte] = 0x00;
	Mem44[eax_20 + 0x01:byte] = 0x00;
	Mem50[eax_20 + 0x0C:word32] = baseURL(dwArg08);
	if (dwArg04 != 0x00)
	{
		if (parsedtag_get_value(dwArg04, 0x1F, fp - 0x14) != 0x00)
		{
			word32 esi_118 = Mem50[dwArg08 + 0xD0:word32];
			word32 ebx_119 = Mem50[135091052:word32];
			word32 edx_123;
			word32 eax_124 = remove_space(dwLoc14, out edx_123);
			Strnew_charp(eax_124, eax_124);
			word32 ebx_129;
			Mem132[esp_30 + 0x00:word32] = Mem50[wc_Str_conv_strict(eax_124, ebx_119, esi_118, out ebx_129) + 0x00:word32];
			Mem135[Mem132[ebp_31 - 0x0C + 0x00:word32] + 0x08:word32] = url_quote(dwArg00);
		}
		Mem88[esp_30 + 0x08:word32] = ebp_31 - 0x10;
		Mem89[esp_30 + 0x04:word32] = 0x19;
		Mem91[esp_30 + 0x00:word32] = Mem89[ebp_31 + 0x08:word32];
		if (parsedtag_get_value(dwArg00, dwArg04, dwArg08) != 0x00 && (byte) ((word32) Mem91[Mem91[(ebp_31 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x5F)
		{
			word32 esi_103 = Mem91[Mem91[ebp_31 + 0x0C:word32] + 0xD0:word32];
			word32 ebx_104 = Mem91[135091052:word32];
			word32 eax_105 = Mem91[ebp_31 - 0x10 + 0x00:word32];
			Mem106[esp_30 + 0x00:word32] = eax_105;
			Strnew_charp(eax_105, dwArg00);
			Mem107[esp_30 + 0x08:word32] = esi_103;
			Mem108[esp_30 + 0x04:word32] = ebx_104;
			Mem109[esp_30 + 0x00:word32] = eax_105;
			word32 ebx_110;
			Mem113[esp_30 + 0x00:word32] = Mem109[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_110) + 0x00:word32];
			Mem116[Mem113[ebp_31 - 0x0C + 0x00:word32] + 0x04:word32] = url_quote(dwArg00);
		}
	}
}

// 0808FF9D: void unloadFrame(Stack word32 dwArg04)
void unloadFrame(word32 dwArg04)
{
	Mem8[dwArg04 + 0x00:byte] = 0x00;
}

// 0808FFA8: void deleteFrame(Stack word32 dwArg04)
void deleteFrame(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		unloadFrame(dwArg04);
		word32 esp_23;
		word32 ebp_24;
		byte SCZO_25;
		byte Z_26;
		word32 eax_27;
		!bzero();
	}
}

// 0808FFD7: void addFrameSetElement(Stack word32 dwArg04, Stack word32 dwArg08)
void addFrameSetElement(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_20 = Mem0[dwArg04 + 0x1C:word32];
		if (Mem0[dwArg04 + 0x18:word32] *s Mem0[dwArg04 + 0x14:word32] > eax_20)
		{
			Mem0[dwArg04 + 0x20:word32][eax_20 * 0x04] = dwArg08;
			Mem42[dwArg04 + 0x1C:word32] = Mem37[dwArg04 + 0x1C:word32] + 0x01;
		}
	}
}

// 0809002B: void deleteFrameSet(Stack word32 dwArg04)
void deleteFrameSet(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 dwLoc10_19 = 0x00;
		while (Mem0[dwArg04 + 0x18:word32] *s Mem0[dwArg04 + 0x14:word32] > dwLoc10_19)
		{
			deleteFrameSetElement(Mem0[dwArg04 + 0x20:word32][dwLoc10_19 * 0x04]);
			dwLoc10_19 = dwLoc10_19 + 0x01;
		}
		Mem32[dwArg04 + 0x04:word32] = 0x00;
		Mem34[dwArg04 + 0x08:word32] = 0x00;
	}
}

// 0809008A: void deleteFrameSetElement(Stack word32 dwArg04)
void deleteFrameSetElement(word32 dwArg04)
{
	if (dwArg04 == 0x00)
		;
	else
	{
		word32 eax_26 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (eax_26 != 0x01)
		{
			if (eax_26 == 0x02)
			{
				deleteFrameSet(dwArg04);
				return;
			}
			if (eax_26 != 0x00)
				;
		}
		else
			deleteFrame(dwArg04);
	}
}

// 080900D1: void copyFrame(Stack word32 dwArg04)
void copyFrame(word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	!GC_malloc();
	word32 esp_20;
	word32 ebp_21;
	byte SCZO_22;
	word32 eax_23;
	!bcopy();
}

// 08090105: void copyFrameSet(Register word32 eax, Stack word32 dwArg04)
void copyFrameSet(word32 eax, word32 dwArg04)
{
	word32 esp_12;
	word32 ebp_13;
	word32 ebx_14;
	byte SCZO_15;
	word32 eax_16;
	word32 edx_17;
	word32 ecx_18;
	byte Z_19;
	byte SZO_20;
	byte C_21;
	byte al_22;
	byte S_23;
	!GC_malloc();
	word32 edx_28 = Mem0[dwArg04 + 0x14:word32];
	word32 dwLoc14_154 = Mem0[dwArg04 + 0x18:word32] *s edx_28;
	word32 esp_39;
	word32 ebp_40;
	word32 ebx_41;
	byte SCZO_42;
	word32 eax_43;
	word32 edx_44;
	word32 ecx_45;
	byte Z_46;
	byte SZO_47;
	byte C_48;
	byte al_49;
	byte S_50;
	!bcopy();
	word32 esp_56;
	word32 ebp_57;
	word32 ebx_58;
	byte SCZO_59;
	word32 eax_60;
	word32 edx_61;
	word32 ecx_62;
	byte Z_63;
	byte SZO_64;
	byte C_65;
	byte al_66;
	byte S_67;
	!GC_malloc();
	Mem70[eax_16 + 0x0C:word32] = eax_60;
	word32 esp_81;
	word32 ebp_82;
	word32 ebx_83;
	byte SCZO_84;
	word32 eax_85;
	word32 edx_86;
	word32 ecx_87;
	byte Z_88;
	byte SZO_89;
	byte C_90;
	byte al_91;
	byte S_92;
	!bcopy();
	word32 esp_98;
	word32 ebp_99;
	word32 ebx_100;
	byte SCZO_101;
	word32 eax_102;
	word32 edx_103;
	word32 ecx_104;
	byte Z_105;
	byte SZO_106;
	byte C_107;
	byte al_108;
	byte S_109;
	!GC_malloc();
	Mem112[eax_16 + 0x10:word32] = eax_102;
	word32 esp_123;
	word32 ebp_124;
	word32 ebx_125;
	byte SCZO_126;
	word32 eax_127;
	word32 edx_128;
	word32 ecx_129;
	byte Z_130;
	byte SZO_131;
	byte C_132;
	byte al_133;
	byte S_134;
	!bcopy();
	word32 esp_139;
	word32 ebp_140;
	word32 ebx_141;
	byte SCZO_142;
	word32 eax_143;
	word32 edx_144;
	word32 ecx_145;
	byte Z_146;
	byte SZO_147;
	byte C_148;
	byte al_149;
	byte S_150;
	!GC_malloc();
	Mem153[eax_16 + 0x20:word32] = eax_143;
	while (dwLoc14_154 != 0x00)
	{
		word32 v10_172 = dwLoc14_154 - 0x01;
		dwLoc14_154 = v10_172;
		if (Mem153[dwArg04 + 0x20:word32][v10_172 * 0x04] != 0x00)
		{
			word32 eax_203 = (int32) (byte) (word32) Mem153[Mem153[dwArg04 + 0x20:word32][v10_172 * 0x04] + 0x00:byte];
			if (eax_203 >= 0x00)
			{
				if (eax_203 <= 0x01)
				{
					word32 ebx_230 = Mem153[eax_16 + 0x20:word32] + (v10_172 << 0x02);
					word32 eax_237 = Mem153[dwArg04 + 0x20:word32][v10_172 * 0x04];
					copyFrame(eax_237);
					Mem239[ebx_230 + 0x00:word32] = eax_237;
					continue;
				}
				if (eax_203 == 0x02)
				{
					word32 ebx_216 = Mem153[eax_16 + 0x20:word32] + (v10_172 << 0x02);
					word32 eax_223 = Mem153[dwArg04 + 0x20:word32][v10_172 * 0x04];
					copyFrameSet(eax_223, eax_223);
					Mem225[ebx_216 + 0x00:word32] = eax_223;
					continue;
				}
			}
		}
		Mem153[eax_16 + 0x20:word32][v10_172 * 0x04] = 0x00;
	}
}

// 080902A2: void flushFrameSet(Stack word32 dwArg04)
void flushFrameSet(word32 dwArg04)
{
	word32 dwLoc10_12 = Mem0[dwArg04 + 0x1C:word32];
	while (dwLoc10_12 != 0x00)
	{
		word32 v7_32 = dwLoc10_12 - 0x01;
		dwLoc10_12 = v7_32;
		if (Mem0[dwArg04 + 0x20:word32][v7_32 * 0x04] != 0x00)
		{
			word32 eax_51 = (int32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x20:word32][v7_32 * 0x04] + 0x00:byte];
			if (eax_51 >= 0x00)
			{
				if (eax_51 > 0x01)
				{
					if (eax_51 == 0x02)
						flushFrameSet(Mem0[dwArg04 + 0x20:word32][v7_32 * 0x04]);
				}
				else
					Mem75[Mem0[dwArg04 + 0x20:word32][v7_32 * 0x04] + 0x1C:word32] = 0x00;
			}
		}
	}
}

// 0809032D: void pushFrameTree(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void pushFrameTree(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	if (dwArg08 != 0x00)
	{
		word32 eax_127;
		word32 esp_31;
		word32 ebp_32;
		byte SCZO_33;
		word32 eax_34;
		byte Z_35;
		byte SZO_36;
		byte C_37;
		word32 edx_38;
		!GC_malloc();
		if (dwArg0C != 0x00 && Mem0[dwArg0C + 0x10:word32] != 0x00)
			eax_127 = Mem0[Mem0[dwArg0C + 0x10:word32] + 0x1C:word32];
		else
			eax_127 = 0x01;
		word32 eax_115;
		Mem47[eax_34 + 0x0C:word32] = eax_127;
		if (dwArg0C != 0x00 && Mem47[dwArg0C + 0x0C:word32] != 0x00)
			eax_115 = Mem47[Mem47[dwArg0C + 0x0C:word32] + 0x1C:word32];
		else
			eax_115 = 0x01;
		word32 eax_110;
		Mem54[eax_34 + 0x10:word32] = eax_115;
		if (dwArg0C != 0x00)
			eax_110 = Mem54[dwArg0C + 0x4C:word32];
		else
			eax_110 = 0x00;
		word32 eax_107;
		Mem59[eax_34 + 0x14:word32] = eax_110;
		if (dwArg0C != 0x00)
			eax_107 = Mem59[dwArg0C + 0x44:word32];
		else
			eax_107 = 0x00;
		word32 eax_104;
		Mem64[eax_34 + 0x18:word32] = eax_107;
		if (dwArg0C != 0x00)
			eax_104 = Mem64[dwArg0C + 0x6C:word32];
		else
			eax_104 = 0x00;
		Mem69[eax_34 + 0x1C:word32] = eax_104;
		Mem72[eax_34 + 0x04:word32] = eax_10;
		if (eax_10 != 0x00)
		{
			Mem87[eax_34 + 0x00:word32] = Mem72[eax_10 + 0x00:word32];
			if (Mem87[eax_10 + 0x00:word32] != 0x00)
				Mem99[Mem87[eax_10 + 0x00:word32] + 0x04:word32] = eax_34;
			Mem95[eax_10 + 0x00:word32] = eax_34;
		}
		else
			Mem102[eax_34 + 0x00:word32] = eax_10;
		Mem80[eax_34 + 0x08:word32] = dwArg08;
		Mem83[dwArg04 + 0x00:word32] = eax_34;
	}
}

// 08090441: Register word32 popFrameTree(Stack word32 dwArg04)
word32 popFrameTree(word32 dwArg04)
{
	word32 eax_25;
	word32 dwLoc10_43 = 0x00;
	word32 eax_11 = Mem0[dwArg04 + 0x00:word32];
	if (eax_11 == 0x00)
		eax_25 = 0x00;
	else
	{
		word32 eax_36 = Mem0[eax_11 + 0x08:word32];
		if (Mem0[eax_11 + 0x00:word32] != 0x00)
		{
			word32 eax_74 = Mem0[eax_11 + 0x00:word32];
			Mem79[eax_74 + 0x04:word32] = Mem0[eax_11 + 0x04:word32];
			dwLoc10_43 = eax_74;
		}
		if (Mem0[eax_11 + 0x04:word32] != 0x00)
		{
			word32 eax_67 = Mem0[eax_11 + 0x04:word32];
			Mem72[eax_67 + 0x00:word32] = Mem0[eax_11 + 0x00:word32];
			dwLoc10_43 = eax_67;
		}
		Mem53[dwArg04 + 0x00:word32] = dwLoc10_43;
		word32 esp_57;
		word32 ebp_58;
		byte SCZO_59;
		word32 eax_60;
		byte Z_61;
		byte SZO_62;
		byte C_63;
		word32 edx_64;
		!bzero();
		eax_25 = eax_36;
	}
	return eax_25;
}

// 080904CB: void resetFrameElement(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void resetFrameElement(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 eax_15 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32];
	if (Mem0[dwArg08 + 188:word32] != 0x00)
	{
		deleteFrameSetElement(Mem0[dwArg04 + 0x00:word32]);
		word32 edx_42 = Mem0[dwArg08 + 188:word32];
		Mem44[dwArg04 + 0x00:word32] = edx_42;
		word32 esp_50;
		word32 ebp_51;
		word32 ebx_52;
		byte SCZO_53;
		word32 eax_54;
		byte SZO_55;
		byte C_56;
		byte Z_57;
		word32 edx_58;
		byte bpl_59;
		!GC_malloc();
		Mem60[ebx_52 + 0x08:word32] = eax_54;
		copyParsedURL(Mem60[Mem60[dwArg04 + 0x00:word32] + 0x08:word32], dwArg08 + 0x84);
		Mem74[dwArg08 + 188:word32] = popFrameTree(dwArg08 + 0xC0);
		Mem78[Mem74[dwArg04 + 0x00:word32] + 0x04:word32] = eax_15;
	}
	else
	{
		newFrame(dwArg08, fp - 0x04, 0x00, dwArg08);
		Mem82[fp - 0x14 + 0x00:word32] = dwArg08;
		Mem84[Mem82[fp - 0x14 + 0x00:word32] + 0x00:byte] = 0x01;
		Mem87[Mem84[fp - 0x14 + 0x00:word32] + 0x04:word32] = Mem84[fp - 0x10 + 0x00:word32];
		Mem91[fp - 44 + 0x00:word32] = Mem87[fp + 0x08:word32] + 0x84;
		byte bpl_93;
		Mem97[Mem91[fp - 0x14 + 0x00:word32] + 0x08:word32] = Mem91[parsedURL2Str(dwArg00, out bpl_93) + 0x00:word32];
		Mem101[Mem97[fp - 0x14 + 0x00:word32] + 0x10:word32] = Mem97[Mem97[fp + 0x08:word32] + 0xB8:word32];
		Mem103[Mem101[fp + 0x08:word32] + 0xB8:word32] = 0x00;
		if (Mem103[Mem103[fp + 0x08:word32] + 0xEC:word32] != 0x00)
		{
			Mem128[Mem103[fp - 0x14 + 0x00:word32] + 0x10:word32] = Mem103[Mem103[fp + 0x08:word32] + 0xEC:word32];
			Mem130[Mem128[fp + 0x08:word32] + 0xEC:word32] = 0x00;
		}
		Mem112[Mem103[fp - 0x14 + 0x00:word32] + 0x14:word32] = Mem103[Mem103[fp + 0x08:word32] + 0x34:word32];
		Mem115[Mem112[fp - 0x14 + 0x00:word32] + 0x18:word32] = Mem112[fp + 0x0C:word32];
		Mem118[Mem115[fp - 0x14 + 0x00:word32] + 0x20:word32] = Mem115[fp + 0x10:word32];
		Mem121[fp - 44 + 0x00:word32] = Mem118[Mem118[fp + 0x04:word32] + 0x00:word32];
		deleteFrameSetElement(dwArg00);
		Mem124[Mem121[fp + 0x04:word32] + 0x00:word32] = Mem121[fp - 0x14 + 0x00:word32];
	}
}

// 0809061A: Register word32 frame_download_source(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 frame_download_source(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_124;
	word32 ebp_170 = fp - 0x04;
	word32 esp_13 = fp - 0x5C;
	if (dwArg04 != 0x00 && (Mem0[dwArg04 + 0x08:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x08:word32] + 0x00:byte]) != 0x00))
	{
		parseURL2(fp - 0x04, Mem0[dwArg04 + 0x08:word32], fp - 0x3C, dwArg08);
		if (Mem0[fp - 0x3C + 0x00:word32] == 0x04)
			Mem227[Mem0[fp + 0x04:word32] + 0x01:byte] = 0x00;
		word32 eax_222;
		Mem86[0x0817C380:word32] = 0x01;
		Mem89[135774876:word32] = Mem86[135774876:word32] | 0x20;
		word32 ebx_91 = Mem89[Mem89[fp + 0x04:word32] + 0x20:word32];
		word32 eax_92 = Mem89[fp + 0x10:word32];
		word32 ecx_96 = Mem89[Mem89[fp + 0x04:word32] + 0x18:word32];
		if (Mem89[fp + 0x0C:word32] != 0x00)
			eax_222 = Mem89[fp + 0x0C:word32];
		else
			eax_222 = Mem89[fp + 0x08:word32];
		word32 edx_102 = Mem89[Mem89[fp + 0x04:word32] + 0x08:word32];
		Mem103[fp - 0x4C + 0x00:word32] = ebx_91;
		Mem104[fp - 0x50 + 0x00:word32] = eax_92 | 0x04;
		Mem105[fp - 0x54 + 0x00:word32] = ecx_96;
		Mem106[fp - 88 + 0x00:word32] = eax_222;
		Mem107[fp - 0x5C + 0x00:word32] = edx_102;
		Mem110[fp - 0x10 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
		Mem113[135774876:word32] = Mem110[135774876:word32] & ~0x20;
		Mem114[0x0817C380:word32] = 0x00;
		if (Mem114[fp - 0x10 + 0x00:word32] != 0x00 && Mem114[(fp - 0x10) + 0x00:word32] != 0x01)
		{
			Mem131[fp - 0x5C + 0x00:word32] = Mem114[fp - 0x10 + 0x00:word32] + 0x84;
			byte bpl_132;
			Mem136[Mem131[fp + 0x04:word32] + 0x08:word32] = Mem131[parsedURL2Str(dwArg00, out bpl_132) + 0x00:word32];
			Mem140[Mem136[fp + 0x04:word32] + 0x14:word32] = Mem136[Mem136[fp - 0x10 + 0x00:word32] + 0x34:word32];
			Mem144[Mem140[fp + 0x04:word32] + 0x10:word32] = Mem140[Mem140[fp - 0x10 + 0x00:word32] + 0xB8:word32];
			Mem146[Mem144[fp - 0x10 + 0x00:word32] + 0xB8:word32] = 0x00;
			if (Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0xEC:word32] != 0x00)
			{
				Mem219[Mem146[fp + 0x04:word32] + 0x10:word32] = Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0xEC:word32];
				Mem221[Mem219[fp - 0x10 + 0x00:word32] + 0xEC:word32] = 0x00;
			}
			Mem154[Mem146[fp + 0x04:word32] + 0x00:byte] = 0x01;
			if (Mem154[Mem154[fp - 0x10 + 0x00:word32] + 188:word32] != 0x00)
			{
				Mem179[fp - 0x14 + 0x00:word32] = Mem154[Mem154[fp - 0x10 + 0x00:word32] + 188:word32];
				word32 edx_181 = Mem179[Mem179[fp + 0x04:word32] + 0x04:word32];
				word32 eax_182 = Mem179[fp - 0x14 + 0x00:word32];
				Mem183[eax_182 + 0x04:word32] = edx_181;
				Mem184[fp - 0x5C + 0x00:word32] = 0x28;
				word32 esi_187;
				word32 ebx_188;
				byte SCZO_189;
				byte Z_190;
				word32 eax_191;
				byte SZO_192;
				byte C_193;
				byte al_194;
				word32 edx_195;
				word32 ecx_196;
				byte dl_197;
				byte bpl_199;
				!GC_malloc();
				Mem202[Mem184[ebp_170 - 0x10 + 0x00:word32] + 0x08:word32] = eax_191;
				word32 eax_206 = Mem202[Mem202[ebp_170 - 0x10 + 0x00:word32] + 0x08:word32];
				Mem207[esp_13 + 0x04:word32] = Mem202[ebp_170 - 0x0C + 0x00:word32] + 0x84;
				Mem208[esp_13 + 0x00:word32] = eax_206;
				copyParsedURL(dwArg00, dwArg04);
				Mem212[esp_13 + 0x00:word32] = Mem208[ebp_170 - 0x0C + 0x00:word32] + 0xC0;
				Mem215[Mem212[ebp_170 - 0x0C + 0x00:word32] + 188:word32] = popFrameTree(dwArg00);
			}
			Mem173[esp_13 + 0x00:word32] = Mem154[ebp_170 - 0x0C + 0x00:word32];
			discardBuffer(ebp_170, gs, dwArg00);
			eax_124 = Mem173[ebp_170 - 0x10 + 0x00:word32];
		}
		else
		{
			Mem118[Mem114[fp + 0x04:word32] + 0x10:word32] = 0x00;
			Mem123[Mem118[fp + 0x04:word32] + 0x01:byte] = Mem118[fp - 0x10 + 0x00:word32] == 0x01;
			eax_124 = 0x00;
		}
	}
	else
		eax_124 = 0x00;
	return eax_124;
}

// 0809081D: Register word32 createFrameFile(Register word32 eax, Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 createFrameFile(word32 eax, word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_123;
	word32 ebp_111 = fp - 0x04;
	word32 esp_112 = fp - 300;
	if (dwArg04 == 0x00)
	{
		eax_123 = ~0x00;
		return eax_123;
	}
	if (dwArg10 == 0x00)
	{
		word32 edi_1513;
		word32 esi_1514;
		word32 ebx_1515;
		byte SCZO_1516;
		byte Z_1517;
		word32 eax_1518;
		byte SZO_1519;
		byte C_1520;
		byte al_1521;
		word32 edx_1522;
		word32 ecx_1523;
		byte CZ_1524;
		byte cl_1525;
		byte bpl_1527;
		!__sigsetjmp();
		if (eax_1518 != 0x00)
		{
			if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem0[135774799:byte] != 0x00)
					term_raw(gs);
				if (0x00 != 0x00)
					mySignal(0x02, 0x00);
			}
			eax_123 = ~0x00;
			return eax_123;
		}
		if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
		{
			mySignal(0x02, 0x0808FC0C);
			if ((byte) (word32) Mem0[135774799:byte] != 0x00)
				term_cbreak(gs);
		}
		Mem1569[dwArg04 + 0x04:word32] = 0x080CC03A;
	}
	if (dwArg10 > 0x07)
	{
		fwrite(0x080CC03F, 0x01, 0x1A, dwArg08);
		eax_123 = ~0x00;
	}
	else
	{
		if (dwArg10 == 0x00)
		{
			fprintf(dwArg08, 0x080CC05C, html_quote(Mem0[dwArg0C + 0x04:word32]));
			fwrite(0x080CC088, 0x01, 0x1D, dwArg08);
		}
		else
			fwrite(0x080CC0A6, 0x01, 0x10, dwArg08);
		while (Mem0[Mem0[ebp_111 + 0x08:word32] + 0x18:word32] > Mem0[(ebp_111 - 0x1C) + 0x00:word32])
		{
			Mem201[esp_112 + 0x0C:word32] = Mem0[ebp_111 + 0x0C:word32];
			Mem202[esp_112 + 0x08:word32] = 0x10;
			Mem203[esp_112 + 0x04:word32] = 0x01;
			Mem204[esp_112 + 0x00:word32] = 0x080CC0B7;
			fwrite(Mem204[esp_112 + 0x00:(ptr void)], Mem204[esp_112 + 0x04:size_t], Mem204[esp_112 + 0x08:size_t], Mem204[esp_112 + 0x0C:(ptr FILE)]);
			Mem206[ebp_111 - 0x20 + 0x00:word32] = 0x00;
			while (Mem206[Mem206[ebp_111 + 0x08:word32] + 0x14:word32] > Mem206[(ebp_111 - 0x20) + 0x00:word32])
			{
				word32 eax_237 = Mem206[Mem206[ebp_111 + 0x08:word32] + 0x14:word32] *s Mem206[(ebp_111 - 0x1C) + 0x00:word32] + Mem206[(ebp_111 - 0x20) + 0x00:word32];
				Mem239[ebp_111 - 0x54 + 0x00:word32] = eax_237;
				Mem240[ebp_111 - 88 + 0x00:word32] = 0x080CC0C8;
				Mem241[ebp_111 - 0x5C + 0x00:word32] = 0x00;
				Strnew(eax_237);
				Mem242[ebp_111 - 0x60 + 0x00:word32] = eax_237;
				Mem243[ebp_111 - 100 + 0x00:word32] = 0x00;
				Mem244[ebp_111 - 0x68 + 0x00:word32] = 0x00;
				Mem251[ebp_111 - 0x4C + 0x00:word32] = Mem244[Mem244[ebp_111 + 0x08:word32] + 0x20:word32][Mem244[ebp_111 - 0x54 + 0x00:word32] * 0x04];
				if (Mem251[ebp_111 - 0x4C + 0x00:word32] == 0x00)
				{
					Mem276[esp_112 + 0x0C:word32] = Mem251[ebp_111 + 0x0C:word32];
					Mem277[esp_112 + 0x08:word32] = 11;
					Mem278[esp_112 + 0x04:word32] = 0x01;
					Mem279[esp_112 + 0x00:word32] = 0x080CC0C9;
					fwrite(Mem279[esp_112 + 0x00:(ptr void)], Mem279[esp_112 + 0x04:size_t], Mem279[esp_112 + 0x08:size_t], Mem279[esp_112 + 0x0C:(ptr FILE)]);
					goto l08091E94;
				}
				Mem283[esp_112 + 0x0C:word32] = Mem251[ebp_111 + 0x0C:word32];
				Mem284[esp_112 + 0x08:word32] = 0x03;
				Mem285[esp_112 + 0x04:word32] = 0x01;
				Mem286[esp_112 + 0x00:word32] = 135053525;
				fwrite(Mem286[esp_112 + 0x00:(ptr void)], Mem286[esp_112 + 0x04:size_t], Mem286[esp_112 + 0x08:size_t], Mem286[esp_112 + 0x0C:(ptr FILE)]);
				if (Mem286[Mem286[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32] != 0x00)
				{
					Mem1472[esp_112 + 0x00:word32] = Mem286[Mem286[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32];
					Mem1475[esp_112 + 0x08:word32] = html_quote(dwArg00);
					Mem1476[esp_112 + 0x04:word32] = 0x080CC0D9;
					Mem1478[esp_112 + 0x00:word32] = Mem1476[ebp_111 + 0x0C:word32];
					fprintf(Mem1478[esp_112 + 0x00:(ptr FILE)], Mem1478[esp_112 + 0x04:(ptr char)], Mem1478[esp_112 + 0x08:(ptr char)]);
				}
				if (Mem286[ebp_111 - 0x1C + 0x00:word32] == 0x00)
				{
					Mem1465[esp_112 + 0x08:word32] = Mem286[Mem286[ebp_111 + 0x08:word32] + 0x0C:word32][Mem286[ebp_111 - 0x20 + 0x00:word32] * 0x04];
					Mem1466[esp_112 + 0x04:word32] = 0x080CC0E3;
					Mem1468[esp_112 + 0x00:word32] = Mem1466[ebp_111 + 0x0C:word32];
					fprintf(Mem1468[esp_112 + 0x00:(ptr FILE)], Mem1468[esp_112 + 0x04:(ptr char)], Mem1468[esp_112 + 0x08:(ptr char)]);
				}
				Mem299[esp_112 + 0x0C:word32] = Mem286[ebp_111 + 0x0C:word32];
				Mem300[esp_112 + 0x08:word32] = 0x02;
				Mem301[esp_112 + 0x04:word32] = 0x01;
				Mem302[esp_112 + 0x00:word32] = 135053551;
				fwrite(Mem302[esp_112 + 0x00:(ptr void)], Mem302[esp_112 + 0x04:size_t], Mem302[esp_112 + 0x08:size_t], Mem302[esp_112 + 0x0C:(ptr FILE)]);
				Mem304[ebp_111 - 0x48 + 0x00:word32] = 0x00;
				if (Mem304[ebp_111 + 0x18:word32] != 0x00)
				{
					Mem1448[ebp_111 - 0x48 + 0x00:word32] = Mem304[ebp_111 - 0x48 + 0x00:word32] | 0x01;
					if ((byte) (word32) Mem1448[Mem1448[ebp_111 - 0x4C + 0x00:word32] + 0x00:byte] == 0x01)
					{
						Mem1456[esp_112 + 0x00:word32] = Mem1448[ebp_111 - 0x4C + 0x00:word32];
						unloadFrame(dwArg00);
					}
				}
				word32 eax_311 = (int32) (byte) (word32) Mem304[Mem304[ebp_111 - 0x4C + 0x00:word32] + 0x00:byte];
				if (eax_311 != 0x01)
				{
					if (eax_311 != 0x02)
					{
						if (eax_311 != 0x00)
						{
							word32 eax_1381 = Mem304[ebp_111 - 0x54 + 0x00:word32];
							Mem1385[esp_112 + 0x00:word32] = Mem304[Mem304[ebp_111 + 0x08:word32] + 0x04:word32];
							word32 eax_1386 = html_quote(dwArg00);
							Mem1388[esp_112 + 0x0C:word32] = eax_1381 + 0x01;
							Mem1389[esp_112 + 0x08:word32] = eax_1386;
							Mem1390[esp_112 + 0x04:word32] = 0x080CC0F4;
							Mem1392[esp_112 + 0x00:word32] = Mem1390[ebp_111 + 0x0C:word32];
							fprintf(Mem1392[esp_112 + 0x00:(ptr FILE)], Mem1392[esp_112 + 0x04:(ptr char)], Mem1392[esp_112 + 0x08:(ptr char)], Mem1392[esp_112 + 0x0C:int32]);
							goto l08091E70;
						}
						if (Mem304[Mem304[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32] == 0x00 && Mem304[Mem304[ebp_111 + 0x08:word32] + 0x04:word32] != 0x00)
						{
							word32 ebx_1436 = Mem304[ebp_111 - 0x4C + 0x00:word32];
							word32 eax_1438 = Mem304[Mem304[ebp_111 + 0x08:word32] + 0x04:word32];
							Mem1440[esp_112 + 0x08:word32] = Mem304[ebp_111 - 0x54 + 0x00:word32];
							Mem1441[esp_112 + 0x04:word32] = eax_1438;
							Mem1442[esp_112 + 0x00:word32] = 0x080CC11E;
							byte bpl_1443;
							Mem1446[ebx_1436 + 0x04:word32] = Mem1442[Sprintf(dwArg00, out bpl_1443) + 0x00:word32];
						}
						Mem1404[esp_112 + 0x00:word32] = Mem304[ebp_111 + 0x0C:word32];
						fflush(Mem1404[esp_112 + 0x00:(ptr FILE)]);
						word32 edx_1407 = Mem1404[Mem1404[ebp_111 + 0x10:word32] + 0xAC:word32];
						word32 eax_1408 = Mem1404[ebp_111 - 0x4C + 0x00:word32];
						Mem1410[esp_112 + 0x0C:word32] = Mem1404[ebp_111 - 0x48 + 0x00:word32];
						Mem1411[esp_112 + 0x08:word32] = edx_1407;
						Mem1413[esp_112 + 0x04:word32] = Mem1411[ebp_111 - 0x40 + 0x00:word32];
						Mem1414[esp_112 + 0x00:word32] = eax_1408;
						Mem1416[ebp_111 - 0x50 + 0x00:word32] = frame_download_source(ebp_111, gs, dwArg00, dwArg04, dwArg08);
						if (Mem1416[ebp_111 - 0x50 + 0x00:word32] == 0x00)
							goto l08090C14;
						Mem1420[esp_112 + 0x00:word32] = Mem1416[ebp_111 - 0x4C + 0x00:word32];
						deleteFrame(dwArg00);
						word32 edx_1426 = Mem1420[Mem1420[ebp_111 + 0x08:word32] + 0x20:word32] + (Mem1420[(ebp_111 - 0x54) + 0x00:word32] << 0x02);
						Mem1428[ebp_111 - 0x4C + 0x00:word32] = Mem1420[ebp_111 - 0x50 + 0x00:word32];
						Mem1430[edx_1426 + 0x00:word32] = Mem1428[ebp_111 - 0x4C + 0x00:word32];
					}
					if (Mem304[Mem304[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32] == 0x00 && Mem304[Mem304[ebp_111 + 0x08:word32] + 0x04:word32] != 0x00)
					{
						word32 ebx_1367 = Mem304[ebp_111 - 0x4C + 0x00:word32];
						word32 eax_1369 = Mem304[Mem304[ebp_111 + 0x08:word32] + 0x04:word32];
						Mem1371[esp_112 + 0x08:word32] = Mem304[ebp_111 - 0x54 + 0x00:word32];
						Mem1372[esp_112 + 0x04:word32] = eax_1369;
						Mem1373[esp_112 + 0x00:word32] = 0x080CC11E;
						byte bpl_1374;
						Mem1377[ebx_1367 + 0x04:word32] = Mem1373[Sprintf(dwArg00, out bpl_1374) + 0x00:word32];
					}
					word32 eax_1350 = Mem304[ebp_111 + 0x14:word32];
					word32 eax_1352 = Mem304[ebp_111 - 0x4C + 0x00:word32];
					Mem1354[esp_112 + 0x10:word32] = Mem304[ebp_111 + 0x18:word32];
					Mem1355[esp_112 + 0x0C:word32] = eax_1350 + 0x01;
					Mem1357[esp_112 + 0x08:word32] = Mem1355[ebp_111 + 0x10:word32];
					Mem1359[esp_112 + 0x04:word32] = Mem1357[ebp_111 + 0x0C:word32];
					Mem1360[esp_112 + 0x00:word32] = eax_1352;
					createFrameFile(eax_1352, ebp_111, gs, dwArg00, dwArg04, dwArg08, dwArg0C);
					goto l08091E70;
				}
l08090C14:
				Mem341[esp_112 + 0x08:word32] = 0x00;
				Mem342[esp_112 + 0x04:word32] = 0x04;
				Mem344[esp_112 + 0x00:word32] = ebp_111 - 0xB4;
				init_stream(dwArg00, dwArg04, dwArg08);
				if (Mem344[Mem344[ebp_111 - 0x4C + 0x00:word32] + 0x10:word32] != 0x00)
				{
					Mem1326[esp_112 + 0x00:word32] = Mem344[ebp_111 + 0x0C:word32];
					fflush(Mem1326[esp_112 + 0x00:(ptr FILE)]);
					word32 eax_1329 = Mem1326[Mem1326[ebp_111 - 0x4C + 0x00:word32] + 0x10:word32];
					Mem1331[esp_112 + 0x04:word32] = ebp_111 - 0xB4;
					Mem1332[esp_112 + 0x00:word32] = eax_1329;
					examineFile(ebp_111, dwArg00, dwArg04);
				}
				if (Mem344[ebp_111 - 0xB0 + 0x00:word32] == 0x00)
				{
					Mem356[Mem344[ebp_111 - 0x4C + 0x00:word32] + 0x00:byte] = 0x00;
					if ((byte) ((int32) (byte) (word32) Mem356[Mem356[ebp_111 - 0x4C + 0x00:word32] + 0x01:byte] & 0x01) != 0x00)
					{
						Mem368[esp_112 + 0x00:word32] = Mem356[Mem356[ebp_111 - 0x4C + 0x00:word32] + 0x08:word32];
						Mem371[esp_112 + 0x08:word32] = html_quote(dwArg00);
						Mem372[esp_112 + 0x04:word32] = 0x080CC124;
						Mem374[esp_112 + 0x00:word32] = Mem372[ebp_111 + 0x0C:word32];
						fprintf(Mem374[esp_112 + 0x00:(ptr FILE)], Mem374[esp_112 + 0x04:(ptr char)], Mem374[esp_112 + 0x08:(ptr char)]);
					}
					else if (Mem356[Mem356[ebp_111 - 0x4C + 0x00:word32] + 0x08:word32] != 0x00)
					{
						Mem383[esp_112 + 0x00:word32] = Mem356[Mem356[ebp_111 - 0x4C + 0x00:word32] + 0x08:word32];
						Mem386[esp_112 + 0x08:word32] = html_quote(dwArg00);
						Mem387[esp_112 + 0x04:word32] = 135053630;
						Mem389[esp_112 + 0x00:word32] = Mem387[ebp_111 + 0x0C:word32];
						fprintf(Mem389[esp_112 + 0x00:(ptr FILE)], Mem389[esp_112 + 0x04:(ptr char)], Mem389[esp_112 + 0x08:(ptr char)]);
					}
					else
					{
						word32 eax_396;
						if (Mem356[Mem356[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32] != 0x00)
						{
							Mem406[esp_112 + 0x00:word32] = Mem356[Mem356[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32];
							eax_396 = html_quote(dwArg00);
						}
						else
							eax_396 = 0x080CC14C;
						Mem399[esp_112 + 0x08:word32] = eax_396;
						Mem400[esp_112 + 0x04:word32] = 0x080CC158;
						Mem402[esp_112 + 0x00:word32] = Mem400[ebp_111 + 0x0C:word32];
						fprintf(Mem402[esp_112 + 0x00:(ptr FILE)], Mem402[esp_112 + 0x04:(ptr char)], Mem402[esp_112 + 0x08:(ptr char)]);
					}
					goto l08091E70;
				}
				word32 eax_1321;
				word32 eax_412 = Mem344[Mem344[ebp_111 - 0x4C + 0x00:word32] + 0x08:word32];
				Mem414[esp_112 + 0x08:word32] = Mem344[ebp_111 - 0x40 + 0x00:word32];
				Mem416[esp_112 + 0x04:word32] = ebp_111 - 220;
				Mem417[esp_112 + 0x00:word32] = eax_412;
				parseURL2(ebp_111, dwArg00, dwArg04, dwArg08);
				Mem420[ebp_111 - 0x34 + 0x00:word32] = Mem417[Mem417[ebp_111 + 0x08:word32] + 0x04:word32];
				Mem423[ebp_111 - 0x38 + 0x00:word32] = Mem420[Mem420[ebp_111 - 0x4C + 0x00:word32] + 0x04:word32];
				Mem424[ebp_111 - 0x3C + 0x00:word32] = 0x080CC182;
				if ((byte) (word32) Mem424[135774793:byte] != 0x00)
					eax_1321 = Mem424[ebp_111 - 0x38 + 0x00:word32];
				else
					eax_1321 = Mem424[ebp_111 - 0x3C + 0x00:word32];
				Mem432[ebp_111 - 0x30 + 0x00:word32] = eax_1321;
				Mem433[ebp_111 - 0x28 + 0x00:word32] = 0x0100;
				if (Mem433[Mem433[ebp_111 + 0x10:word32] + 0xD0:word32] != 0x0100)
					Mem1318[ebp_111 - 44 + 0x00:word32] = Mem433[Mem433[ebp_111 + 0x10:word32] + 0xD0:word32];
				else
					Mem1320[ebp_111 - 44 + 0x00:word32] = Mem433[135091060:word32];
				Mem438[ebp_111 - 0x24 + 0x00:word32] = 0x00;
				if (Mem438[Mem438[ebp_111 - 0x4C + 0x00:word32] + 0x14:word32] != 0x00)
				{
					word32 eax_1257 = Mem438[Mem438[ebp_111 - 0x4C + 0x00:word32] + 0x14:word32];
					Mem1258[esp_112 + 0x04:word32] = 0x080CC189;
					Mem1259[esp_112 + 0x00:word32] = eax_1257;
					if (strcasecmp(Mem1259[esp_112 + 0x00:(ptr char)], Mem1259[esp_112 + 0x04:(ptr char)]) != 0x00)
						goto l08090EA8;
					Mem1266[esp_112 + 0x0C:word32] = Mem1259[ebp_111 + 0x0C:word32];
					Mem1267[esp_112 + 0x08:word32] = 0x06;
					Mem1268[esp_112 + 0x04:word32] = 0x01;
					Mem1269[esp_112 + 0x00:word32] = 0x080CC194;
					fwrite(Mem1269[esp_112 + 0x00:(ptr void)], Mem1269[esp_112 + 0x04:size_t], Mem1269[esp_112 + 0x08:size_t], Mem1269[esp_112 + 0x0C:(ptr FILE)]);
					while (true)
					{
						Mem1273[esp_112 + 0x00:word32] = Mem1269[ebp_111 - 0xB0 + 0x00:word32];
						Mem1275[ebp_111 - 0x6C + 0x00:word32] = StrmyISgets(dwArg00);
						if (Mem1275[Mem1275[ebp_111 - 0x6C + 0x00:word32] + 0x04:word32] == 0x00)
							break;
						Mem1299[esp_112 + 0x10:word32] = Mem1275[ebp_111 - 44 + 0x00:word32];
						Mem1301[esp_112 + 0x0C:word32] = ebp_111 - 0x28;
						Mem1302[esp_112 + 0x08:word32] = 0x02;
						Mem1304[esp_112 + 0x04:word32] = Mem1302[ebp_111 - 0x6C + 0x00:word32];
						Mem1305[esp_112 + 0x00:word32] = 0x00;
						Mem1307[ebp_111 - 0x6C + 0x00:word32] = convertLine(ebp_111, dwArg04, dwArg0C, dwArg10);
						Mem1310[esp_112 + 0x00:word32] = Mem1307[Mem1307[ebp_111 - 0x6C + 0x00:word32] + 0x00:word32];
						word32 eax_1311 = html_quote(dwArg00);
						Mem1313[esp_112 + 0x04:word32] = Mem1310[ebp_111 + 0x0C:word32];
						Mem1314[esp_112 + 0x00:word32] = eax_1311;
						fputs(Mem1314[esp_112 + 0x00:(ptr char)], Mem1314[esp_112 + 0x04:(ptr FILE)]);
					}
					Mem1283[esp_112 + 0x0C:word32] = Mem1275[ebp_111 + 0x0C:word32];
					Mem1284[esp_112 + 0x08:word32] = 0x07;
					Mem1285[esp_112 + 0x04:word32] = 0x01;
					Mem1286[esp_112 + 0x00:word32] = 135053723;
					fwrite(Mem1286[esp_112 + 0x00:(ptr void)], Mem1286[esp_112 + 0x04:size_t], Mem1286[esp_112 + 0x08:size_t], Mem1286[esp_112 + 0x0C:(ptr FILE)]);
					Mem1289[esp_112 + 0x00:word32] = Mem1286[ebp_111 - 0xB0 + 0x00:word32];
					if (ISclose(dwArg00) == 0x00)
						Mem1294[ebp_111 - 0xB0 + 0x00:word32] = 0x00;
				}
				else
				{
l08090EA8:
					do
					{
						Mem458[ebp_111 - 0x70 + 0x00:word32] = 0x00;
						do
						{
							if ((byte) (word32) Mem458[Mem458[ebp_111 - 88 + 0x00:word32] + 0x00:byte] == 0x00)
							{
								Mem1234[esp_112 + 0x00:word32] = Mem458[ebp_111 - 0xB0 + 0x00:word32];
								Mem1236[ebp_111 - 0x7C + 0x00:word32] = StrmyISgets(dwArg00);
								if (Mem1236[Mem1236[ebp_111 - 0x7C + 0x00:word32] + 0x04:word32] == 0x00)
									break;
								Mem1243[esp_112 + 0x10:word32] = Mem1236[ebp_111 - 44 + 0x00:word32];
								Mem1245[esp_112 + 0x0C:word32] = ebp_111 - 0x28;
								Mem1246[esp_112 + 0x08:word32] = 0x02;
								Mem1248[esp_112 + 0x04:word32] = Mem1246[ebp_111 - 0x7C + 0x00:word32];
								Mem1249[esp_112 + 0x00:word32] = 0x00;
								Mem1252[ebp_111 - 0x7C + 0x00:word32] = convertLine(ebp_111, dwArg04, dwArg0C, dwArg10);
								Mem1255[ebp_111 - 88 + 0x00:word32] = Mem1252[Mem1252[ebp_111 - 0x7C + 0x00:word32] + 0x00:word32];
							}
							Mem1220[esp_112 + 0x10:word32] = (word32) (Mem458[ebp_111 - 0x5C + 0x00:word32] != 0x00);
							Mem1221[esp_112 + 0x0C:word32] = 0x01;
							Mem1223[esp_112 + 0x08:word32] = ebp_111 - 0x5C;
							Mem1225[esp_112 + 0x04:word32] = ebp_111 - 88;
							Mem1227[esp_112 + 0x00:word32] = Mem1225[ebp_111 - 0x60 + 0x00:word32];
							read_token(ebp_111, dwArg00, dwArg04, dwArg10);
						} while (Mem1227[ebp_111 - 0x5C + 0x00:word32] != 0x00);
						if (Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x04:word32] != 0x00)
						{
							if ((byte) (word32) Mem458[Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x3C)
							{
								if ((byte) (word32) Mem458[Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32] + 0x01:byte] != 0x00 && (((word32) ((byte) ((word32) Mem458[(word32) ((byte) ((word32) Mem458[Mem458[Mem458[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32] + 0x01:byte])) + 0x080DB700:byte])) & 0x04) != 0x00 || ((byte) ((word32) Mem458[Mem458[Mem458[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x2F || ((byte) ((word32) Mem458[Mem458[Mem458[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 33 || ((byte) ((word32) Mem458[Mem458[Mem458[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x3F || ((byte) ((word32) Mem458[Mem458[Mem458[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x00 || (byte) ((word32) Mem458[Mem458[Mem458[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x5F))))))
									Mem1177[ebp_111 - 0x70 + 0x00:word32] = 0x01;
								else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x080E) == 0x00)
								{
									word32 eax_1146 = Mem458[ebp_111 - 88 + 0x00:word32];
									word32 edx_1148 = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
									Mem1151[esp_112 + 0x08:word32] = 0x00;
									Mem1152[esp_112 + 0x04:word32] = eax_1146;
									Mem1153[esp_112 + 0x00:word32] = edx_1148 + 0x01;
									Strnew_m_charp(eax_1146, dwArg00);
									word32 eax_1154 = Mem1153[eax_1146 + 0x00:word32];
									Mem1155[ebp_111 - 88 + 0x00:word32] = eax_1154;
									Mem1156[esp_112 + 0x00:word32] = 135053731;
									Strnew_charp(eax_1154, dwArg00);
									Mem1157[ebp_111 - 0x60 + 0x00:word32] = eax_1154;
								}
							}
							if (Mem458[ebp_111 - 0x70 + 0x00:word32] != 0x00)
							{
								if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x080E) != 0x00)
								{
									Mem980[ebp_111 - 116 + 0x00:word32] = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
									Mem981[esp_112 + 0x04:word32] = 0x00;
									Mem983[esp_112 + 0x00:word32] = ebp_111 - 116;
									Mem985[ebp_111 - 0x78 + 0x00:word32] = parse_tag(ebp_111, gs, dwArg00, dwArg04);
									if (Mem985[ebp_111 - 0x78 + 0x00:word32] != 0x00 && (word32) ((byte) ((word32) Mem985[Mem985[(ebp_111 - 0x78) + 0x00:word32] + 0x00:byte])) == Mem985[(ebp_111 - 0x68) + 0x00:word32])
									{
										if ((Mem985[ebp_111 - 100 + 0x00:word32] & 0x08) != 0x00)
										{
											Mem1051[esp_112 + 0x0C:word32] = Mem985[ebp_111 + 0x0C:word32];
											Mem1052[esp_112 + 0x08:word32] = 0x0C;
											Mem1053[esp_112 + 0x04:word32] = 0x01;
											Mem1054[esp_112 + 0x00:word32] = 0x080CC1A8;
											fwrite(Mem1054[esp_112 + 0x00:(ptr void)], Mem1054[esp_112 + 0x04:size_t], Mem1054[esp_112 + 0x08:size_t], Mem1054[esp_112 + 0x0C:(ptr FILE)]);
											Mem1056[ebp_111 - 100 + 0x00:word32] = 0x00;
											Mem1057[ebp_111 - 0x68 + 0x00:word32] = 0x00;
											goto l08091C4C;
										}
										Mem1058[ebp_111 - 100 + 0x00:word32] = 0x00;
										Mem1059[ebp_111 - 0x68 + 0x00:word32] = 0x00;
									}
									else
									{
										word32 eax_991 = Mem985[Mem985[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
										Mem992[esp_112 + 0x08:word32] = 0x04;
										Mem993[esp_112 + 0x04:word32] = 0x080CC1B5;
										Mem994[esp_112 + 0x00:word32] = eax_991;
										if (strncmp(Mem994[esp_112 + 0x00:(ptr char)], Mem994[esp_112 + 0x04:(ptr char)], Mem994[esp_112 + 0x08:int32]) != 0x00)
										{
											word32 eax_1007 = Mem994[Mem994[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
											Mem1009[esp_112 + 0x04:word32] = 0x3C;
											Mem1010[esp_112 + 0x00:word32] = eax_1007 + 0x01;
											Mem1012[ebp_111 - 116 + 0x00:word32] = strchr(Mem1010[esp_112 + 0x00:(ptr char)], Mem1010[esp_112 + 0x04:char]);
											if (Mem1012[ebp_111 - 116 + 0x00:word32] != 0x00)
											{
												word32 eax_1024 = Mem1012[Mem1012[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
												Mem1025[esp_112 + 0x04:word32] = Mem1012[ebp_111 - 116 + 0x00:word32] - Mem1012[Mem1012[(ebp_111 - 0x60) + 0x00:word32] + 0x00:word32];
												Mem1026[esp_112 + 0x00:word32] = eax_1024;
												word32 edx_1027;
												Mem1029[ebp_111 - 0x60 + 0x00:word32] = Strnew_charp_n(eax_1024, dwArg00, dwArg04, out edx_1027);
												word32 edx_1030 = Mem1029[ebp_111 - 88 + 0x00:word32];
												word32 eax_1031 = Mem1029[ebp_111 - 116 + 0x00:word32];
												Mem1032[esp_112 + 0x08:word32] = 0x00;
												Mem1033[esp_112 + 0x04:word32] = edx_1030;
												Mem1034[esp_112 + 0x00:word32] = eax_1031;
												Strnew_m_charp(eax_1031, dwArg00);
												Mem1036[ebp_111 - 88 + 0x00:word32] = Mem1034[eax_1031 + 0x00:word32];
												Mem1037[ebp_111 - 0x5C + 0x00:word32] = 0x00;
											}
										}
										Mem1005[ebp_111 - 0x70 + 0x00:word32] = 0x00;
									}
								}
								else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x1000) != 0x00)
								{
									Mem1067[ebp_111 - 116 + 0x00:word32] = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
									Mem1068[esp_112 + 0x04:word32] = 0x00;
									Mem1070[esp_112 + 0x00:word32] = ebp_111 - 116;
									Mem1072[ebp_111 - 0x78 + 0x00:word32] = parse_tag(ebp_111, gs, dwArg00, dwArg04);
									if (Mem1072[ebp_111 - 0x78 + 0x00:word32] != 0x00)
									{
										if ((word32) (byte) (word32) Mem1072[Mem1072[ebp_111 - 0x78 + 0x00:word32] + 0x00:byte] != Mem1072[(ebp_111 - 0x68) + 0x00:word32] && (byte) ((word32) Mem1072[Mem1072[(ebp_111 - 0x78) + 0x00:word32] + 0x00:byte]) != 0x2B)
										{
											if (Mem1072[ebp_111 - 0x24 + 0x00:word32] != 0x00)
											{
												word32 eax_1107 = (word32) (byte) (word32) Mem1072[Mem1072[ebp_111 - 0x78 + 0x00:word32] + 0x00:byte];
												if (eax_1107 <=u 0x5A)
												{
													word32 eax_1112 = 0x080CC2E0[(eax_1107 - 0x1F) * 0x04];
													word32 esp_1114;
													word32 ebp_1115;
													word32 edi_1116;
													word32 esi_1117;
													word32 ebx_1118;
													byte SCZO_1119;
													byte Z_1120;
													word32 eax_1121;
													byte SZO_1122;
													byte C_1123;
													byte al_1124;
													word32 edx_1125;
													word32 ecx_1126;
													byte CZ_1127;
													byte cl_1128;
													selector gs_1129;
													byte bpl_1130;
													eax_1112();
													return eax_1121;
												}
											}
										}
										else
										{
											if ((byte) (word32) Mem1072[Mem1072[ebp_111 - 0x78 + 0x00:word32] + 0x00:byte] == 0x2B)
											{
												Mem1092[esp_112 + 0x0C:word32] = Mem1072[ebp_111 + 0x0C:word32];
												Mem1093[esp_112 + 0x08:word32] = 0x09;
												Mem1094[esp_112 + 0x04:word32] = 0x01;
												Mem1095[esp_112 + 0x00:word32] = 0x080CC1BA;
												fwrite(Mem1095[esp_112 + 0x00:(ptr void)], Mem1095[esp_112 + 0x04:size_t], Mem1095[esp_112 + 0x08:size_t], Mem1095[esp_112 + 0x0C:(ptr FILE)]);
											}
											Mem1088[ebp_111 - 100 + 0x00:word32] = 0x00;
											Mem1089[ebp_111 - 0x68 + 0x00:word32] = 0x00;
										}
									}
								}
							}
							if (Mem458[ebp_111 - 0x70 + 0x00:word32] != 0x00)
							{
								Mem641[ebp_111 - 0x80 + 0x00:word32] = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
								Mem642[ebp_111 - 0x88 + 0x00:word32] = 0x00;
								Mem643[esp_112 + 0x04:word32] = 0x00;
								Mem645[esp_112 + 0x00:word32] = ebp_111 - 0x80;
								Mem647[ebp_111 - 0x78 + 0x00:word32] = parse_tag(ebp_111, gs, dwArg00, dwArg04);
								if (Mem647[ebp_111 - 0x78 + 0x00:word32] != 0x00)
								{
									word32 eax_653 = (word32) (byte) (word32) Mem647[Mem647[ebp_111 - 0x78 + 0x00:word32] + 0x00:byte];
									if (eax_653 <=u 0x61)
									{
										word32 eax_658 = 0x080CC3D0[(eax_653 - 0x0E) * 0x04];
										word32 esp_660;
										word32 ebp_661;
										word32 edi_662;
										word32 esi_663;
										word32 ebx_664;
										byte SCZO_665;
										byte Z_666;
										word32 eax_667;
										byte SZO_668;
										byte C_669;
										byte al_670;
										word32 edx_671;
										word32 ecx_672;
										byte CZ_673;
										byte cl_674;
										selector gs_675;
										byte bpl_676;
										eax_658();
										return eax_667;
									}
									Mem677[ebp_111 - 0x84 + 0x00:word32] = 0x00;
									while ((word32) (byte) (word32) 0x080D94C8[(word32) (byte) (word32) Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x00:byte] * 0x0C] > Mem677[(ebp_111 - 0x84) + 0x00:word32])
									{
										word32 eax_734 = (word32) (byte) (word32) Mem677[Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x04:word32] + Mem677[(ebp_111 - 0x84) + 0x00:word32]:byte];
										if (eax_734 <=u 0x20)
										{
											word32 ebx_758 = 0x01 << (byte) (eax_734 - 0x03);
											if ((ebx_758 & 0x10008001) == 0x00)
											{
												if ((ebx_758 & 0x00420000) == 0x00)
												{
													if ((ebx_758 & 0x20000000) != 0x00 && Mem677[Mem677[(ebp_111 - 0x78) + 0x00:word32] + 0x08:word32][Mem677[(ebp_111 - 0x84) + 0x00:word32] * 0x04] != 0x00)
													{
														Mem785[ebp_111 - 0x88 + 0x00:word32] = Mem677[ebp_111 - 0x88 + 0x00:word32] | 0x02;
														word32 eax_792 = Mem785[Mem785[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32][Mem785[ebp_111 - 0x84 + 0x00:word32] * 0x04];
														Mem793[esp_112 + 0x04:word32] = 0x080CC1D4;
														Mem794[esp_112 + 0x00:word32] = eax_792;
														if (strcasecmp(Mem794[esp_112 + 0x00:(ptr char)], Mem794[esp_112 + 0x04:(ptr char)]) == 0x00)
														{
															Mem800[esp_112 + 0x08:word32] = Mem794[ebp_111 - 0x38 + 0x00:word32];
															Mem801[esp_112 + 0x04:word32] = 0x20;
															Mem803[esp_112 + 0x00:word32] = Mem801[ebp_111 - 0x78 + 0x00:word32];
															parsedtag_set_value(dwArg00, dwArg04, dwArg08);
														}
														else
														{
															word32 eax_809 = Mem794[Mem794[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32][Mem794[ebp_111 - 0x84 + 0x00:word32] * 0x04];
															Mem810[esp_112 + 0x04:word32] = 0x080CC1DA;
															Mem811[esp_112 + 0x00:word32] = eax_809;
															if (strcasecmp(Mem811[esp_112 + 0x00:(ptr char)], Mem811[esp_112 + 0x04:(ptr char)]) == 0x00)
															{
																Mem817[esp_112 + 0x08:word32] = Mem811[ebp_111 - 0x34 + 0x00:word32];
																Mem818[esp_112 + 0x04:word32] = 0x20;
																Mem820[esp_112 + 0x00:word32] = Mem818[ebp_111 - 0x78 + 0x00:word32];
																parsedtag_set_value(dwArg00, dwArg04, dwArg08);
															}
														}
													}
												}
												else if (Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32][Mem677[ebp_111 - 0x84 + 0x00:word32] * 0x04] != 0x00)
												{
													Mem831[esp_112 + 0x08:word32] = Mem677[ebp_111 - 0x38 + 0x00:word32];
													Mem832[esp_112 + 0x04:word32] = 0x43;
													Mem834[esp_112 + 0x00:word32] = Mem832[ebp_111 - 0x78 + 0x00:word32];
													parsedtag_set_value(dwArg00, dwArg04, dwArg08);
												}
											}
											else if (Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32][Mem677[ebp_111 - 0x84 + 0x00:word32] * 0x04] != 0x00)
											{
												word32 edi_848 = Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32] + (Mem677[(ebp_111 - 0x84) + 0x00:word32] << 0x02);
												word32 esi_849 = Mem677[ebp_111 - 0x28 + 0x00:word32];
												word32 ebx_850 = Mem677[135091052:word32];
												Mem858[esp_112 + 0x00:word32] = Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32][Mem677[ebp_111 - 0x84 + 0x00:word32] * 0x04];
												word32 edx_859;
												word32 eax_860 = remove_space(dwArg00, out edx_859);
												Mem861[esp_112 + 0x00:word32] = eax_860;
												Strnew_charp(eax_860, dwArg00);
												Mem862[esp_112 + 0x08:word32] = esi_849;
												Mem863[esp_112 + 0x04:word32] = ebx_850;
												Mem864[esp_112 + 0x00:word32] = eax_860;
												word32 ebx_865;
												Mem868[esp_112 + 0x00:word32] = Mem864[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_865) + 0x00:word32];
												Mem870[edi_848 + 0x00:word32] = url_quote(dwArg00);
												Mem872[Mem870[ebp_111 - 0x78 + 0x00:word32] + 0x10:byte] = 0x01;
												word32 eax_879 = Mem872[Mem872[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32][Mem872[ebp_111 - 0x84 + 0x00:word32] * 0x04];
												Mem881[esp_112 + 0x08:word32] = ebp_111 - 220;
												Mem883[esp_112 + 0x04:word32] = ebp_111 - 0x0104;
												Mem884[esp_112 + 0x00:word32] = eax_879;
												parseURL2(ebp_111, dwArg00, dwArg04, dwArg08);
												if (Mem884[ebp_111 - 0x0104 + 0x00:word32] != 0xFF && Mem884[(ebp_111 - 0x0104) + 0x00:word32] != 0xFE)
												{
													Mem892[ebp_111 - 0x88 + 0x00:word32] = Mem884[ebp_111 - 0x88 + 0x00:word32] | 0x01;
													word32 ebx_899 = Mem892[Mem892[ebp_111 - 0x78 + 0x00:word32] + 0x08:word32] + (Mem892[(ebp_111 - 0x84) + 0x00:word32] << 0x02);
													Mem901[esp_112 + 0x00:word32] = ebp_111 - 0x0104;
													byte bpl_902;
													Mem905[ebx_899 + 0x00:word32] = Mem901[parsedURL2Str(dwArg00, out bpl_902) + 0x00:word32];
													Mem907[esp_112 + 0x00:word32] = ebp_111 - 220;
													byte bpl_908;
													Mem911[esp_112 + 0x08:word32] = Mem907[parsedURL2Str(dwArg00, out bpl_908) + 0x00:word32];
													Mem912[esp_112 + 0x04:word32] = 0x47;
													Mem914[esp_112 + 0x00:word32] = Mem912[ebp_111 - 0x78 + 0x00:word32];
													parsedtag_set_value(dwArg00, dwArg04, dwArg08);
													if ((byte) (word32) Mem914[Mem914[Mem914[ebp_111 - 0x78 + 0x00:word32] + 0x04:word32] + Mem914[(ebp_111 - 0x84) + 0x00:word32]:byte] == 0x03 && Mem914[(ebp_111 - 0x28) + 0x00:word32] != 0x0100)
													{
														Mem927[esp_112 + 0x00:word32] = Mem914[ebp_111 - 0x28 + 0x00:word32];
														Mem929[esp_112 + 0x08:word32] = wc_ces_to_charset(dwArg00);
														Mem930[esp_112 + 0x04:word32] = 11;
														Mem932[esp_112 + 0x00:word32] = Mem930[ebp_111 - 0x78 + 0x00:word32];
														parsedtag_set_value(dwArg00, dwArg04, dwArg08);
													}
												}
											}
										}
										Mem752[ebp_111 - 0x84 + 0x00:word32] = Mem677[ebp_111 - 0x84 + 0x00:word32] + 0x01;
									}
									if (Mem677[ebp_111 - 0x88 + 0x00:word32] == 0x01)
									{
										Mem724[esp_112 + 0x08:word32] = Mem677[ebp_111 - 0x30 + 0x00:word32];
										Mem725[esp_112 + 0x04:word32] = 0x20;
										Mem727[esp_112 + 0x00:word32] = Mem725[ebp_111 - 0x78 + 0x00:word32];
										parsedtag_set_value(dwArg00, dwArg04, dwArg08);
									}
									if ((byte) (word32) Mem677[Mem677[ebp_111 - 0x78 + 0x00:word32] + 0x10:byte] != 0x00)
									{
										Mem720[esp_112 + 0x00:word32] = Mem677[ebp_111 - 0x78 + 0x00:word32];
										Mem722[ebp_111 - 0x60 + 0x00:word32] = parsedtag2str(ebp_111, dwArg00);
									}
									word32 eax_709 = Mem677[Mem677[ebp_111 - 0x60 + 0x00:word32] + 0x04:word32];
									word32 eax_712 = Mem677[Mem677[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
									Mem714[esp_112 + 0x0C:word32] = Mem677[ebp_111 + 0x0C:word32];
									Mem715[esp_112 + 0x08:word32] = eax_709;
									Mem716[esp_112 + 0x04:word32] = 0x01;
									Mem717[esp_112 + 0x00:word32] = eax_712;
									fwrite(Mem717[esp_112 + 0x00:(ptr void)], Mem717[esp_112 + 0x04:size_t], Mem717[esp_112 + 0x08:size_t], Mem717[esp_112 + 0x0C:(ptr FILE)]);
								}
							}
							else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x08) != 0x00)
							{
								Mem940[esp_112 + 0x00:word32] = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
								word32 eax_941 = html_quote(dwArg00);
								Mem943[esp_112 + 0x04:word32] = Mem940[ebp_111 + 0x0C:word32];
								Mem944[esp_112 + 0x00:word32] = eax_941;
								fputs(Mem944[esp_112 + 0x00:(ptr char)], Mem944[esp_112 + 0x04:(ptr FILE)]);
							}
							else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x0800) != 0x00)
							{
								Mem953[esp_112 + 0x00:word32] = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
								word32 ebx_954;
								Mem956[esp_112 + 0x00:word32] = html_unquote(ebp_111, dwArg00, out ebx_954);
								word32 eax_957 = html_quote(dwArg00);
								Mem959[esp_112 + 0x04:word32] = Mem956[ebp_111 + 0x0C:word32];
								Mem960[esp_112 + 0x00:word32] = eax_957;
								fputs(Mem960[esp_112 + 0x00:(ptr char)], Mem960[esp_112 + 0x04:(ptr FILE)]);
							}
							else
							{
								word32 eax_963 = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x04:word32];
								word32 eax_966 = Mem458[Mem458[ebp_111 - 0x60 + 0x00:word32] + 0x00:word32];
								Mem968[esp_112 + 0x0C:word32] = Mem458[ebp_111 + 0x0C:word32];
								Mem969[esp_112 + 0x08:word32] = eax_963;
								Mem970[esp_112 + 0x04:word32] = 0x01;
								Mem971[esp_112 + 0x00:word32] = eax_966;
								fwrite(Mem971[esp_112 + 0x00:(ptr void)], Mem971[esp_112 + 0x04:size_t], Mem971[esp_112 + 0x08:size_t], Mem971[esp_112 + 0x0C:(ptr FILE)]);
							}
l08091C4C:
							Mem630[esp_112 + 0x00:word32] = Mem458[ebp_111 - 0x60 + 0x00:word32];
							Strclear(dwArg00);
						}
					} while ((byte) (word32) Mem458[Mem458[ebp_111 - 88 + 0x00:word32] + 0x00:byte] != 0x00 || (byte) ((word32) Mem458[Mem458[(ebp_111 - 0xB0) + 0x00:word32] + 0x15:byte]) == 0x00);
					if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x08) != 0x00)
					{
						Mem528[esp_112 + 0x0C:word32] = Mem458[ebp_111 + 0x0C:word32];
						Mem529[esp_112 + 0x08:word32] = 0x0D;
						Mem530[esp_112 + 0x04:word32] = 0x01;
						Mem531[esp_112 + 0x00:word32] = 135053923;
						fwrite(Mem531[esp_112 + 0x00:(ptr void)], Mem531[esp_112 + 0x04:size_t], Mem531[esp_112 + 0x08:size_t], Mem531[esp_112 + 0x0C:(ptr FILE)]);
					}
					else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x0800) != 0x00)
					{
						Mem540[esp_112 + 0x0C:word32] = Mem458[ebp_111 + 0x0C:word32];
						Mem541[esp_112 + 0x08:word32] = 0x13;
						Mem542[esp_112 + 0x04:word32] = 0x01;
						Mem543[esp_112 + 0x00:word32] = 0x080CC271;
						fwrite(Mem543[esp_112 + 0x00:(ptr void)], Mem543[esp_112 + 0x04:size_t], Mem543[esp_112 + 0x08:size_t], Mem543[esp_112 + 0x0C:(ptr FILE)]);
					}
					else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x1000) != 0x00)
					{
						Mem552[esp_112 + 0x0C:word32] = Mem458[ebp_111 + 0x0C:word32];
						Mem553[esp_112 + 0x08:word32] = 0x11;
						Mem554[esp_112 + 0x04:word32] = 0x01;
						Mem555[esp_112 + 0x00:word32] = 0x080CC285;
						fwrite(Mem555[esp_112 + 0x00:(ptr void)], Mem555[esp_112 + 0x04:size_t], Mem555[esp_112 + 0x08:size_t], Mem555[esp_112 + 0x0C:(ptr FILE)]);
					}
					else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x06) != 0x00)
					{
						if (Mem458[ebp_111 - 0x5C + 0x00:word32] != 0x00)
						{
							word32 eax_593 = Mem458[ebp_111 - 0x5C + 0x00:word32];
							Mem594[esp_112 + 0x00:word32] = eax_593;
							word32 eax_598 = Mem594[correct_irrtag(eax_593, dwArg00, out esp_112, out ebp_111) + 0x00:word32];
							Mem600[esp_112 + 0x04:word32] = Mem594[ebp_111 + 0x0C:word32];
							Mem601[esp_112 + 0x00:word32] = eax_598;
							fputs(Mem601[esp_112 + 0x00:(ptr char)], Mem601[esp_112 + 0x04:(ptr FILE)]);
						}
						if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x02) != 0x00)
						{
							Mem576[esp_112 + 0x0C:word32] = Mem458[ebp_111 + 0x0C:word32];
							Mem577[esp_112 + 0x08:word32] = 0x0A;
							Mem578[esp_112 + 0x04:word32] = 0x01;
							Mem579[esp_112 + 0x00:word32] = 0x080CC297;
							fwrite(Mem579[esp_112 + 0x00:(ptr void)], Mem579[esp_112 + 0x04:size_t], Mem579[esp_112 + 0x08:size_t], Mem579[esp_112 + 0x0C:(ptr FILE)]);
						}
						else if ((Mem458[ebp_111 - 100 + 0x00:word32] & 0x04) != 0x00)
						{
							Mem588[esp_112 + 0x0C:word32] = Mem458[ebp_111 + 0x0C:word32];
							Mem589[esp_112 + 0x08:word32] = 0x09;
							Mem590[esp_112 + 0x04:word32] = 0x01;
							Mem591[esp_112 + 0x00:word32] = 0x080CC2A2;
							fwrite(Mem591[esp_112 + 0x00:(ptr void)], Mem591[esp_112 + 0x04:size_t], Mem591[esp_112 + 0x08:size_t], Mem591[esp_112 + 0x0C:(ptr FILE)]);
						}
					}
					while (true)
					{
						byte al_503 = Mem458[ebp_111 - 0x24 + 0x00:word32] != 0x00;
						Mem505[ebp_111 - 0x24 + 0x00:word32] = Mem458[ebp_111 - 0x24 + 0x00:word32] - 0x01;
						if (al_503 == 0x00)
							break;
						Mem521[esp_112 + 0x0C:word32] = Mem505[ebp_111 + 0x0C:word32];
						Mem522[esp_112 + 0x08:word32] = 0x09;
						Mem523[esp_112 + 0x04:word32] = 0x01;
						Mem524[esp_112 + 0x00:word32] = 0x080CC2AC;
						fwrite(Mem524[esp_112 + 0x00:(ptr void)], Mem524[esp_112 + 0x04:size_t], Mem524[esp_112 + 0x08:size_t], Mem524[esp_112 + 0x0C:(ptr FILE)]);
					}
					Mem510[esp_112 + 0x00:word32] = Mem505[ebp_111 - 0xB0 + 0x00:word32];
					if (ISclose(dwArg00) == 0x00)
						Mem515[ebp_111 - 0xB0 + 0x00:word32] = 0x00;
				}
l08091E70:
				Mem331[esp_112 + 0x0C:word32] = Mem304[ebp_111 + 0x0C:word32];
				Mem332[esp_112 + 0x08:word32] = 0x06;
				Mem333[esp_112 + 0x04:word32] = 0x01;
				Mem334[esp_112 + 0x00:word32] = 0x080CC2B6;
				fwrite(Mem334[esp_112 + 0x00:(ptr void)], Mem334[esp_112 + 0x04:size_t], Mem334[esp_112 + 0x08:size_t], Mem334[esp_112 + 0x0C:(ptr FILE)]);
l08091E94:
				Mem272[ebp_111 - 0x20 + 0x00:word32] = Mem251[ebp_111 - 0x20 + 0x00:word32] + 0x01;
			}
			Mem226[esp_112 + 0x0C:word32] = Mem206[ebp_111 + 0x0C:word32];
			Mem227[esp_112 + 0x08:word32] = 0x06;
			Mem228[esp_112 + 0x04:word32] = 0x01;
			Mem229[esp_112 + 0x00:word32] = 135054013;
			fwrite(Mem229[esp_112 + 0x00:(ptr void)], Mem229[esp_112 + 0x04:size_t], Mem229[esp_112 + 0x08:size_t], Mem229[esp_112 + 0x0C:(ptr FILE)]);
			Mem232[ebp_111 - 0x1C + 0x00:word32] = Mem229[ebp_111 - 0x1C + 0x00:word32] + 0x01;
		}
		Mem160[esp_112 + 0x0C:word32] = Mem0[ebp_111 + 0x0C:word32];
		Mem161[esp_112 + 0x08:word32] = 0x09;
		Mem162[esp_112 + 0x04:word32] = 0x01;
		Mem163[esp_112 + 0x00:word32] = 0x080CC2C4;
		fwrite(Mem163[esp_112 + 0x00:(ptr void)], Mem163[esp_112 + 0x04:size_t], Mem163[esp_112 + 0x08:size_t], Mem163[esp_112 + 0x0C:(ptr FILE)]);
		if (Mem163[ebp_111 + 0x14:word32] == 0x00)
		{
			Mem175[esp_112 + 0x0C:word32] = Mem163[ebp_111 + 0x0C:word32];
			Mem176[esp_112 + 0x08:word32] = 0x0F;
			Mem177[esp_112 + 0x04:word32] = 0x01;
			Mem178[esp_112 + 0x00:word32] = 0x080CC2CE;
			fwrite(Mem178[esp_112 + 0x00:(ptr void)], Mem178[esp_112 + 0x04:size_t], Mem178[esp_112 + 0x08:size_t], Mem178[esp_112 + 0x0C:(ptr FILE)]);
			if ((byte) (word32) Mem178[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem178[135774799:byte] != 0x00)
					term_raw(gs);
				if (Mem178[ebp_111 - 0x44 + 0x00:word32] != 0x00)
				{
					Mem195[esp_112 + 0x04:word32] = Mem178[ebp_111 - 0x44 + 0x00:word32];
					Mem196[esp_112 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
		}
		eax_123 = 0x00;
	}
	return eax_123;
}

// 08091F71: Register word32 renderFrame(Register word32 ebp, Register selector gs)
word32 renderFrame(word32 ebp, selector gs)
{
	word32 eax_102;
	byte bpl_14;
	Mem16[fp - 0x10 + 0x00:word32] = tmpfname(fp - 0x04, 0x02, 0x080CC520, out bpl_14);
	word32 eax_19 = Mem16[Mem16[fp - 0x10 + 0x00:word32] + 0x00:word32];
	Mem20[fp - 0x48 + 0x00:word32] = 0x080CC526;
	Mem21[fp - 0x4C + 0x00:word32] = eax_19;
	Mem23[fp - 0x14 + 0x00:word32] = fopen(Mem21[fp - 0x4C + 0x00:(ptr char)], Mem21[fp - 0x48 + 0x00:(ptr char)]);
	if (Mem23[fp - 0x14 + 0x00:word32] == 0x00)
	{
		eax_102 = 0x00;
		return eax_102;
	}
	Mem42[fp - 0x20 + 0x00:word32] = Mem23[Mem23[fp + 0x04:word32] + 188:word32];
	if (Mem42[fp - 0x20 + 0x00:word32] != 0x00)
	{
		Mem50[fp - 0x3C + 0x00:word32] = Mem42[fp + 0x08:word32];
		Mem51[fp - 0x40 + 0x00:word32] = 0x00;
		Mem53[fp - 0x44 + 0x00:word32] = Mem51[fp + 0x04:word32];
		Mem55[fp - 0x48 + 0x00:word32] = Mem53[fp - 0x14 + 0x00:word32];
		word32 eax_56 = Mem55[fp - 0x20 + 0x00:word32];
		Mem57[fp - 0x4C + 0x00:word32] = eax_56;
		if (createFrameFile(eax_56, fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg0C) >= 0x00)
		{
			Mem68[fp - 0x4C + 0x00:word32] = Mem57[fp - 0x14 + 0x00:word32];
			fclose(Mem68[fp - 0x4C + 0x00:(ptr FILE)]);
			Mem70[fp - 0x1C + 0x00:word32] = 0x02;
			if (Mem70[Mem70[fp + 0x04:word32] + 0xA8:word32] != 0x00)
				Mem124[fp - 0x1C + 0x00:word32] = Mem70[fp - 0x1C + 0x00:word32] | 0x01;
			Mem80[0x0817D300:word32] = Mem70[Mem70[fp + 0x04:word32] + 188:word32];
			Mem82[fp - 0x4C + 0x00:word32] = Mem80[0x0817D300:word32];
			flushFrameSet(dwArg00);
			Mem84[135091060:word32] = Mem82[135091052:word32];
			word32 eax_86 = Mem84[Mem84[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem87[fp - 0x3C + 0x00:word32] = 0x00;
			Mem89[fp - 0x40 + 0x00:word32] = Mem87[fp - 0x1C + 0x00:word32];
			Mem90[fp - 0x44 + 0x00:word32] = 0x00;
			Mem91[fp - 0x48 + 0x00:word32] = 0x00;
			Mem92[fp - 0x4C + 0x00:word32] = eax_86;
			Mem94[fp - 0x18 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg00);
			Mem96[135091060:word32] = Mem94[fp - 0x24 + 0x00:word32];
			Mem97[0x0817D300:word32] = 0x00;
			if (Mem97[fp - 0x18 + 0x00:word32] != 0x00 && Mem97[(fp - 0x18) + 0x00:word32] != 0x01)
			{
				Mem108[Mem97[fp - 0x18 + 0x00:word32] + 0xB8:word32] = Mem97[Mem97[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem112[Mem108[fp - 0x18 + 0x00:word32] + 0xD0:word32] = Mem108[Mem108[fp + 0x04:word32] + 0xD0:word32];
				word32 eax_115 = Mem112[fp - 0x18 + 0x00:word32];
				Mem118[fp - 0x48 + 0x00:word32] = Mem112[fp + 0x04:word32] + 0x84;
				Mem119[fp - 0x4C + 0x00:word32] = eax_115 + 0x84;
				copyParsedURL(dwArg00, dwArg04);
				Mem121[fp - 0x4C + 0x00:word32] = Mem119[fp - 0x18 + 0x00:word32];
				preFormUpdateBuffer(fp - 0x04, dwArg00);
				eax_102 = Mem121[fp - 0x18 + 0x00:word32];
			}
			else
				eax_102 = 0x00;
			return eax_102;
		}
	}
	eax_102 = 0x00;
	return eax_102;
}

// 080920F0: Register word32 search_frame(Stack word32 dwArg04, Stack word32 dwArg08)
word32 search_frame(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_20 = 0x00;
	while (true)
	{
		word32 eax_108;
		if (Mem0[dwArg04 + 0x18:word32] *s Mem0[dwArg04 + 0x14:word32] <= dwLoc10_20)
			break;
		word32 eax_50 = Mem0[dwArg04 + 0x20:word32] + (dwLoc10_20 << 0x02);
		if (Mem0[eax_50 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[eax_50 + 0x00:word32] + 0x04:word32] != 0x00 && strcmp(Mem0[Mem0[eax_50 + 0x00:word32] + 0x04:word32], dwArg08) == 0x00)
			{
				eax_108 = eax_50;
				return eax_108;
			}
			if ((byte) (word32) Mem0[Mem0[eax_50 + 0x00:word32] + 0x00:byte] == 0x02)
			{
				word32 eax_92 = search_frame(Mem0[eax_50 + 0x00:word32], dwArg08);
				if (eax_92 != 0x00)
				{
					eax_108 = eax_92;
					return eax_108;
				}
			}
		}
		dwLoc10_20 = dwLoc10_20 + 0x01;
	}
	eax_108 = 0x00;
	return eax_108;
}

// 080921A0: void compare_table(Stack word32 dwArg04, Stack word32 dwArg08)
void compare_table(word32 dwArg04, word32 dwArg08)
{
	strcmp(Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32], Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32]);
}

// 080921C2: void create_option_search_table()
void create_option_search_table()
{
	Mem11[0x0817D3C0:word32] = 0x00;
	word32 dwLoc14_12 = 0x00;
	while (0x080D67E0[dwLoc14_12 * 0x08] != 0x00)
	{
		word32 dwLoc10_228 = 0x00;
		while (0x080D67E4[dwLoc14_12 * 0x08][dwLoc10_228 * 0x18] != 0x00)
		{
			Mem251[0x0817D3C0:word32] = Mem11[0x0817D3C0:word32] + 0x01;
			dwLoc10_228 = dwLoc10_228 + 0x01;
		}
		dwLoc14_12 = dwLoc14_12 + 0x01;
	}
	word32 esp_30;
	word32 ebp_31;
	word32 ebx_32;
	byte SCZO_33;
	word32 eax_34;
	byte SZO_35;
	byte C_36;
	byte Z_37;
	word32 ecx_38;
	word32 edx_39;
	byte al_40;
	byte dl_41;
	word16 ax_42;
	!GC_malloc();
	Mem43[0x0817D3BC:word32] = eax_34;
	word32 dwLoc18_191 = 0x00;
	word32 dwLoc14_208 = 0x00;
	while (0x080D67E0[dwLoc14_208 * 0x08] != 0x00)
	{
		word32 dwLoc10_190 = 0x00;
		while (0x080D67E4[dwLoc14_208 * 0x08][dwLoc10_190 * 0x18] != 0x00)
		{
			Mem43[0x0817D3BC:word32][dwLoc18_191 * 0x08] = 0x080D67E4[dwLoc14_208 * 0x08] + dwLoc10_190 * 0x18;
			dwLoc18_191 = dwLoc18_191 + 0x01;
			dwLoc10_190 = dwLoc10_190 + 0x01;
		}
		dwLoc14_208 = dwLoc14_208 + 0x01;
	}
	word32 esp_66;
	word32 ebp_67;
	word32 ebx_68;
	byte SCZO_69;
	word32 eax_70;
	byte SZO_71;
	byte C_72;
	byte Z_73;
	word32 ecx_74;
	word32 edx_75;
	byte al_76;
	byte dl_77;
	word16 ax_78;
	!qsort();
	word32 dwLoc20_148 = 0x00;
	word32 dwLoc10_150 = 0x01;
	while (Mem43[0x0817D3C0:word32] - 0x01 > dwLoc10_150)
	{
		word32 eax_112 = Mem43[Mem43[0x0817D3BC:word32][dwLoc10_150 * 0x08] + 0x00:word32];
		word32 eax_121 = Mem43[Mem43[0x0817D3BC:word32][(dwLoc10_150 + 0x00) * 0x08] + 0x00:word32];
		word32 dwLoc14_123 = 0x01;
		while ((byte) (word32) Mem43[dwLoc14_123 + eax_112:byte] != 0x00 && ((byte) ((word32) Mem43[dwLoc14_123 + eax_121:byte]) != 0x00 && (byte) ((word32) Mem43[dwLoc14_123 + eax_112:byte]) == (byte) ((word32) Mem43[dwLoc14_123 + eax_121:byte])))
			dwLoc14_123 = dwLoc14_123 + 0x01;
		if (dwLoc14_123 > dwLoc20_148)
			Mem160[Mem43[0x0817D3BC:word32] + (dwLoc10_150 << 0x03) + 0x04:word16] = (word16) (dwLoc14_123 + 0x00);
		else
			Mem169[Mem43[0x0817D3BC:word32] + (dwLoc10_150 << 0x03) + 0x04:word16] = (word16) (dwLoc20_148 + 0x01);
		dwLoc20_148 = dwLoc14_123;
		dwLoc10_150 = dwLoc10_150 + 0x01;
	}
}

// 080923C2: Register word32 search_param(Stack word32 dwArg04)
word32 search_param(word32 dwArg04)
{
	word32 eax_10 = strlen(dwArg04);
	word32 dwLoc10_12 = 0x00;
	word32 dwLoc14_137 = Mem0[0x0817D3C0:word32] - 0x01;
	while (true)
	{
		word32 eax_110;
		if (dwLoc10_12 >u dwLoc14_137)
			break;
		word32 eax_61 = dwLoc10_12 + dwLoc14_137;
		word32 dwLoc18_126 = eax_61 >>u 0x01;
		word32 eax_75 = strncmp(dwArg04, Mem0[Mem0[0x0817D3BC:word32][(eax_61 >>u 0x01) * 0x08] + 0x00:word32], eax_10);
		if (eax_75 == 0x00)
		{
			if ((int32) (word16) (word32) Mem0[Mem0[0x0817D3BC:word32] + ((eax_61 >>u 0x01) << 0x03) + 0x04:word16] <= eax_10)
				eax_110 = Mem0[0x0817D3BC:word32][(eax_61 >>u 0x01) * 0x08];
			else
			{
				while (true)
				{
					word32 eax_106 = strcmp(dwArg04, Mem0[Mem0[0x0817D3BC:word32][dwLoc18_126 * 0x08] + 0x00:word32]);
					if (eax_106 > 0x00)
						break;
					if (eax_106 == 0x00)
					{
						eax_110 = Mem0[0x0817D3BC:word32][dwLoc18_126 * 0x08];
						return eax_110;
					}
					if (dwLoc18_126 == 0x00)
					{
						eax_110 = 0x00;
						return eax_110;
					}
					dwLoc18_126 = dwLoc18_126 - 0x01;
				}
				eax_110 = 0x00;
			}
			return eax_110;
		}
		if (eax_75 < 0x00)
		{
			if (eax_61 >>u 0x01 != 0x00)
			{
				dwLoc14_137 = (eax_61 >>u 0x01) - 0x01;
				continue;
			}
			else
			{
				eax_110 = 0x00;
				return eax_110;
			}
		}
		dwLoc10_12 = (eax_61 >>u 0x01) + 0x01;
	}
	eax_110 = 0x00;
	return eax_110;
}

// 080924EF: void show_params(Register word32 ebp, Stack word32 dwArg04)
void show_params(word32 ebp, word32 dwArg04)
{
	Mem17[0x080D5780:word32] = Mem0[0x080D5378:word32];
	fwrite(0x080CDE0F, 0x01, 0x1A, dwArg04);
	word32 ebp_104 = fp - 0x04;
	word32 esp_105 = fp - 0x4C;
	while (0x080D67E0[Mem17[ebp_104 - 0x10 + 0x00:word32] * 0x08] != 0x00)
	{
		if (Mem17[0x0817D3C4:word32] == 0x00)
		{
			word32 eax_261 = 0x080D67E0[Mem17[ebp_104 - 0x10 + 0x00:word32] * 0x08];
			Mem262[esp_105 + 0x00:word32] = eax_261;
			word32 esi_265;
			word32 ebx_266;
			byte SCZO_267;
			word32 eax_268;
			word32 edx_269;
			byte SZO_270;
			byte C_271;
			byte Z_272;
			word32 ecx_273;
			byte CZ_274;
			byte S_275;
			!gettext();
			Mem276[esp_105 + 0x00:word32] = eax_268;
			Strnew_charp(eax_268, dwArg00);
			Mem277[esp_105 + 0x08:word32] = esi_265;
			Mem278[esp_105 + 0x04:word32] = ebx_266;
			Mem279[esp_105 + 0x00:word32] = eax_268;
			word32 ebx_280;
			Mem283[ebp_104 - 0x1C + 0x00:word32] = Mem279[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_280) + 0x00:word32];
		}
		else
			Mem286[ebp_104 - 0x1C + 0x00:word32] = 0x080D67E0[Mem17[ebp_104 - 0x10 + 0x00:word32] * 0x08];
		word32 esi_78 = Mem17[0x080D5378:word32];
		word32 ebx_79 = Mem17[135091052:word32];
		word32 eax_80 = Mem17[ebp_104 - 0x1C + 0x00:word32];
		Mem81[esp_105 + 0x00:word32] = eax_80;
		Strnew_charp(eax_80, dwArg00);
		Mem83[esp_105 + 0x08:word32] = esi_78;
		Mem84[esp_105 + 0x04:word32] = ebx_79;
		Mem85[esp_105 + 0x00:word32] = eax_80;
		word32 ebx_87;
		Mem91[esp_105 + 0x0C:word32] = Mem85[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_87) + 0x00:word32];
		Mem93[esp_105 + 0x08:word32] = Mem91[ebp_104 - 0x10 + 0x00:word32];
		Mem94[esp_105 + 0x04:word32] = 135061034;
		Mem96[esp_105 + 0x00:word32] = Mem94[ebp_104 + 0x08:word32];
		fprintf(Mem96[esp_105 + 0x00:(ptr FILE)], Mem96[esp_105 + 0x04:(ptr char)], Mem96[esp_105 + 0x08:int32], Mem96[esp_105 + 0x0C:(ptr char)]);
		Mem98[ebp_104 - 0x0C + 0x00:word32] = 0x00;
		while (0x080D67E4[Mem98[ebp_104 - 0x10 + 0x00:word32] * 0x08][Mem98[ebp_104 - 0x0C + 0x00:word32] * 0x18] != 0x00)
		{
			word32 ecx_122 = 0x080D67E4[Mem98[ebp_104 - 0x10 + 0x00:word32] * 0x08];
			word32 edx_123 = Mem98[ebp_104 - 0x0C + 0x00:word32];
			word32 eax_129 = Mem98[ecx_122 + edx_123 * 0x18 + 0x04:word32];
			if (eax_129 <=u 0x0A)
			{
				word32 eax_132 = 135061116[eax_129 * 0x04];
				word32 esp_133;
				word32 ebp_134;
				word32 esi_135;
				word32 ebx_136;
				byte SCZO_137;
				word32 eax_138;
				word32 edx_139;
				byte SZO_140;
				byte C_141;
				byte Z_142;
				word32 ecx_143;
				byte CZ_144;
				byte S_145;
				eax_132();
				return;
			}
			if (Mem98[0x0817D3C4:word32] == 0x00)
			{
				word32 ecx_216 = 0x080D67E4[Mem98[ebp_104 - 0x10 + 0x00:word32] * 0x08];
				word32 edx_217 = Mem98[ebp_104 - 0x0C + 0x00:word32];
				word32 eax_224 = Mem98[ecx_216 + edx_217 * 0x18 + 0x10:word32];
				Mem225[esp_105 + 0x00:word32] = eax_224;
				word32 esi_228;
				word32 ebx_229;
				byte SCZO_230;
				word32 eax_231;
				word32 edx_232;
				byte SZO_233;
				byte C_234;
				byte Z_235;
				word32 ecx_236;
				byte CZ_237;
				byte S_238;
				!gettext();
				Mem239[esp_105 + 0x00:word32] = eax_231;
				Strnew_charp(eax_231, dwArg00);
				Mem240[esp_105 + 0x08:word32] = esi_228;
				Mem241[esp_105 + 0x04:word32] = ebx_229;
				Mem242[esp_105 + 0x00:word32] = eax_231;
				word32 ebx_243;
				Mem246[ebp_104 - 0x1C + 0x00:word32] = Mem242[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_243) + 0x00:word32];
			}
			else
				Mem257[ebp_104 - 0x1C + 0x00:word32] = Mem98[0x080D67E4[Mem98[ebp_104 - 0x10 + 0x00:word32] * 0x08] + Mem98[(ebp_104 - 0x0C) + 0x00:word32] * 0x18 + 0x10:word32];
			Mem166[esp_105 + 0x00:word32] = 0x080D67E4[Mem98[ebp_104 - 0x10 + 0x00:word32] * 0x08][Mem98[ebp_104 - 0x0C + 0x00:word32] * 0x18];
			word32 eax_167 = strlen(Mem166[esp_105 + 0x00:(ptr char)]);
			Mem170[esp_105 + 0x00:word32] = Mem166[ebp_104 - 0x18 + 0x00:word32];
			Mem175[ebp_104 - 0x14 + 0x00:word32] = 0x1E - (eax_167 + strlen(Mem170[esp_105 + 0x00:(ptr char)]));
			if (Mem175[ebp_104 - 0x14 + 0x00:word32] < 0x00)
				Mem212[ebp_104 - 0x14 + 0x00:word32] = 0x01;
			word32 esi_178 = Mem175[0x080D5378:word32];
			word32 ebx_179 = Mem175[135091052:word32];
			word32 eax_180 = Mem175[ebp_104 - 0x1C + 0x00:word32];
			Mem181[esp_105 + 0x00:word32] = eax_180;
			Strnew_charp(eax_180, dwArg00);
			Mem182[esp_105 + 0x08:word32] = esi_178;
			Mem183[esp_105 + 0x04:word32] = ebx_179;
			Mem184[esp_105 + 0x00:word32] = eax_180;
			word32 ebx_185;
			word32 ecx_187 = Mem184[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_185) + 0x00:word32];
			word32 edx_196 = 0x080D67E4[Mem184[ebp_104 - 0x10 + 0x00:word32] * 0x08][Mem184[ebp_104 - 0x0C + 0x00:word32] * 0x18];
			Mem198[esp_105 + 0x18:word32] = ecx_187;
			Mem199[esp_105 + 0x14:word32] = 135061114;
			Mem201[esp_105 + 0x10:word32] = Mem199[ebp_104 - 0x14 + 0x00:word32];
			Mem203[esp_105 + 0x0C:word32] = Mem201[ebp_104 - 0x18 + 0x00:word32];
			Mem204[esp_105 + 0x08:word32] = edx_196;
			Mem205[esp_105 + 0x04:word32] = 135061093;
			Mem207[esp_105 + 0x00:word32] = Mem205[ebp_104 + 0x08:word32];
			fprintf(Mem207[esp_105 + 0x00:(ptr FILE)], Mem207[esp_105 + 0x04:(ptr char)], Mem207[esp_105 + 0x08:(ptr char)], Mem207[esp_105 + 0x0C:(ptr char)], Mem207[esp_105 + 0x0010:<unknown>], Mem207[esp_105 + 0x0010:(ptr char)]);
			Mem210[ebp_104 - 0x0C + 0x00:word32] = Mem207[ebp_104 - 0x0C + 0x00:word32] + 0x01;
		}
		Mem119[ebp_104 - 0x10 + 0x00:word32] = Mem98[ebp_104 - 0x10 + 0x00:word32] + 0x01;
	}
}

// 080927EA: Register word32 str_to_bool(Stack word32 dwArg04)
word32 str_to_bool(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_46;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_46 = (int32) (byte) ((word32) Mem0[dwArg04 + 0x00:byte] | 0x20);
		else
			eax_46 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		word32 eax_47 = eax_46 - 33;
		if (eax_47 <=u 0x57)
		{
			word32 eax_51 = 135061160[eax_47 * 0x04];
			word32 esp_53;
			word32 ebp_54;
			byte SCZO_55;
			byte Z_56;
			word32 eax_57;
			byte al_58;
			byte SZO_59;
			byte C_60;
			byte CZ_61;
			eax_51();
			return eax_57;
		}
	}
	return 0x01;
}

// 08092905: void str_to_color(Stack word32 dwArg04)
void str_to_color(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_48;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_48 = (int32) (byte) ((word32) Mem0[dwArg04 + 0x00:byte] | 0x20);
		else
			eax_48 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		word32 eax_49 = eax_48 - 0x30;
		if (eax_49 <=u 0x49)
		{
			word32 eax_53 = 0x080CE00C[eax_49 * 0x04];
			word32 esp_54;
			word32 ebp_55;
			byte SCZO_56;
			byte Z_57;
			word32 eax_58;
			byte al_59;
			byte SZO_60;
			byte C_61;
			byte CZ_62;
			eax_53();
		}
	}
}

// 080929D0: Register word32 set_param(Stack word32 dwArg04, Stack word32 dwArg08)
word32 set_param(word32 dwArg04, word32 dwArg08)
{
	word32 eax_27;
	if (dwArg08 == 0x00)
		eax_27 = 0x00;
	else
	{
		word32 eax_42 = search_param(dwArg04);
		if (eax_42 == 0x00)
			eax_27 = 0x00;
		else
		{
			word32 eax_49 = Mem0[eax_42 + 0x04:word32];
			if (eax_49 <=u 0x0A)
			{
				word32 eax_52 = 0x080CE134[eax_49 * 0x04];
				word32 esp_53;
				word32 ebp_54;
				word32 ebx_55;
				byte SCZO_56;
				byte Z_57;
				word32 eax_58;
				byte CZ_59;
				bcuiposr0 None_60;
				eax_52();
				return eax_58;
			}
			eax_27 = 0x01;
		}
	}
	return eax_27;
}

// 08092C20: Register word32 set_param_option(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 set_param_option(word32 eax, word32 ebp, word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	Strnew(eax);
	word32 dwLoc14_12 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_12 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem0[dwLoc14_12 + 0x00:byte]) != 0x3D))
	{
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_196 = Mem0[eax + 0x04:word32];
		Mem202[Mem0[eax + 0x00:word32] + eax_196:byte] = (byte) (word32) Mem0[dwLoc14_12 + 0x00:byte];
		Mem205[eax + 0x04:word32] = eax_196 + 0x01;
		Mem214[Mem205[eax + 0x00:word32] + Mem205[eax + 0x04:word32]:byte] = 0x00;
		dwLoc14_12 = dwLoc14_12 + 0x01;
	}
	while ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_12 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc14_12 = dwLoc14_12 + 0x01;
	if ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] == 0x3D)
	{
		dwLoc14_12 = dwLoc14_12 + 0x01;
		while ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_12 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			dwLoc14_12 = dwLoc14_12 + 0x01;
	}
	word32 eax_128;
	Strlower(eax);
	if (set_param(Mem0[eax + 0x00:word32], dwLoc14_12) == 0x00)
	{
		Mem80[fp - 0x18 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
		Mem81[fp - 0x24 + 0x00:word32] = 0x02;
		Mem82[fp - 0x28 + 0x00:word32] = 0x080CE160;
		Mem84[fp - 44 + 0x00:word32] = Mem82[fp - 0x18 + 0x00:word32];
		if (strncmp(Mem84[fp - 44 + 0x00:(ptr char)], Mem84[fp - 0x28 + 0x00:(ptr char)], Mem84[fp - 0x24 + 0x00:int32]) == 0x00)
		{
			Mem102[fp - 0x18 + 0x00:word32] = Mem84[fp - 0x18 + 0x00:word32] + 0x02;
			if ((byte) (word32) Mem102[Mem102[fp - 0x18 + 0x00:word32] + 0x00:byte] == 0x2D || (byte) ((word32) Mem102[Mem102[(fp - 0x18) + 0x00:word32] + 0x00:byte]) == 0x5F)
				Mem112[fp - 0x18 + 0x00:word32] = Mem102[fp - 0x18 + 0x00:word32] + 0x01;
		}
		else
		{
			if ((byte) (word32) Mem84[Mem84[Mem84[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x00:byte] != 0x2D)
			{
				eax_128 = 0x00;
				goto l08092DCB;
			}
			Mem126[fp - 0x18 + 0x00:word32] = Mem84[fp - 0x18 + 0x00:word32] + 0x01;
		}
		Mem91[fp - 0x28 + 0x00:word32] = 0x080CC560;
		Mem93[fp - 44 + 0x00:word32] = Mem91[fp - 0x18 + 0x00:word32];
		if (set_param(dwArg00, dwArg04) == 0x00)
		{
			eax_128 = 0x00;
			goto l08092DCB;
		}
	}
	eax_128 = 0x01;
l08092DCB:
	word32 ebp_68;
	*ebpOut = Mem0[fp - 0x04 + 0x00:word32];
	word32 esp_69;
	*espOut = fp;
	return eax_128;
}

// 08092DCD: Register word32 get_param_option(Stack word32 dwArg04)
word32 get_param_option(word32 dwArg04)
{
	word32 eax_16;
	word32 eax_11 = search_param(dwArg04);
	if (eax_11 != 0x00)
	{
		word32 esp_24;
		word32 ebp_25;
		eax_16 = Mem0[to_str(eax_11, out esp_24, out ebp_25) + 0x00:word32];
	}
	else
		eax_16 = 0x00;
	return eax_16;
}

// 08092DFD: void interpret_rc(Register word32 ebp)
void interpret_rc(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x04:word32];
		Mem21[fp - 44 + 0x00:word32] = eax_20;
		Strfgets(eax_20, dwArg00);
		Mem23[fp - 0x10 + 0x00:word32] = eax_20;
		Mem25[fp - 44 + 0x00:word32] = Mem23[fp - 0x10 + 0x00:word32];
		Strchop(dwArg00);
		if (Mem25[Mem25[fp - 0x10 + 0x00:word32] + 0x04:word32] == 0x00)
			break;
		Mem32[fp - 44 + 0x00:word32] = Mem25[fp - 0x10 + 0x00:word32];
		Strremovefirstspaces(dwArg00);
		word32 eax_35 = (word32) Mem32[Mem32[Mem32[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x00:byte];
		if ((byte) eax_35 != 0x23)
		{
			Strnew(eax_35);
			Mem39[fp - 0x14 + 0x00:word32] = eax_35;
			Mem42[fp - 0x18 + 0x00:word32] = Mem39[Mem39[fp - 0x10 + 0x00:word32] + 0x00:word32];
			while ((byte) (word32) Mem42[Mem42[fp - 0x18 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem42[(word32) ((byte) ((word32) Mem42[Mem42[(fp - 0x18) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
			{
				if (Mem42[Mem42[fp - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem42[Mem42[(fp - 0x14) + 0x00:word32] + 0x08:word32])
				{
					Mem129[fp - 44 + 0x00:word32] = Mem42[fp - 0x14 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_109 = Mem42[Mem42[fp - 0x14 + 0x00:word32] + 0x04:word32];
				Mem115[Mem42[Mem42[fp - 0x14 + 0x00:word32] + 0x00:word32] + eax_109:byte] = (byte) (word32) Mem42[Mem42[fp - 0x18 + 0x00:word32] + 0x00:byte];
				Mem118[Mem115[fp - 0x14 + 0x00:word32] + 0x04:word32] = eax_109 + 0x01;
				Mem120[fp - 0x18 + 0x00:word32] = Mem118[fp - 0x18 + 0x00:word32] + 0x01;
				Mem127[Mem120[Mem120[fp - 0x14 + 0x00:word32] + 0x00:word32] + Mem120[Mem120[(fp - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			while ((byte) (word32) Mem42[Mem42[fp - 0x18 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem42[(word32) ((byte) ((word32) Mem42[Mem42[(fp - 0x18) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem86[fp - 0x18 + 0x00:word32] = Mem42[fp - 0x18 + 0x00:word32] + 0x01;
			Mem66[fp - 44 + 0x00:word32] = Mem42[fp - 0x14 + 0x00:word32];
			Strlower(dwArg00);
			word32 eax_68 = Mem66[Mem66[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem70[fp - 0x28 + 0x00:word32] = Mem66[fp - 0x18 + 0x00:word32];
			Mem71[fp - 44 + 0x00:word32] = eax_68;
			set_param(dwArg00, dwArg04);
		}
	}
}

// 08092F21: void parse_proxy(Register word32 ebp)
void parse_proxy(word32 ebp)
{
	word32 esp_21 = fp - 0x1C;
	if (non_null(Mem0[135774804:word32]) != 0x00)
	{
		word32 ebp_71;
		esp_21 = parseURL(Mem0[135774804:word32], 0x08180640, 0x00, out ebp_71);
	}
	Mem23[esp_21 + 0x00:word32] = Mem0[135774808:word32];
	if (non_null(dwArg00) != 0x00)
	{
		word32 eax_61 = Mem23[135774808:word32];
		Mem62[esp_21 + 0x08:word32] = 0x00;
		Mem63[esp_21 + 0x04:word32] = 0x08180500;
		Mem64[esp_21 + 0x00:word32] = eax_61;
		word32 ebp_65;
		esp_21 = parseURL(dwArg00, dwArg04, dwArg08, out ebp_65);
	}
	Mem32[esp_21 + 0x00:word32] = Mem23[0x0817C25C:word32];
	if (non_null(dwArg00) != 0x00)
	{
		word32 eax_53 = Mem32[0x0817C25C:word32];
		Mem54[esp_21 + 0x08:word32] = 0x00;
		Mem55[esp_21 + 0x04:word32] = 0x08180560;
		Mem56[esp_21 + 0x00:word32] = eax_53;
		word32 ebp_59;
		esp_21 = parseURL(dwArg00, dwArg04, dwArg08, out ebp_59);
	}
	Mem40[esp_21 + 0x00:word32] = Mem32[0x0817C260:word32];
	if (non_null(dwArg00) != 0x00)
	{
		Mem50[esp_21 + 0x00:word32] = Mem40[0x0817C260:word32];
		Mem52[0x08180538:word32] = make_domain_list(dwArg00);
	}
}

// 08092FD6: void parse_cookie()
void parse_cookie()
{
	if (non_null(Mem0[135775092:word32]) != 0x00)
		Mem33[0x08180714:word32] = make_domain_list(Mem0[135775092:word32]);
	if (non_null(Mem0[0x0817C378:word32]) != 0x00)
		Mem29[0x081804E4:word32] = make_domain_list(Mem0[0x0817C378:word32]);
}

// 08093024: void sync_with_option(Register word32 ebp, Register selector gs)
void sync_with_option(word32 ebp, selector gs)
{
	word32 ebp_29 = fp - 0x04;
	word32 esp_30 = fp - 0x1C;
	word32 edx_8 = Mem0[0x080D52C0:word32];
	if (edx_8 < Mem0[0x08180780:word32])
		Mem102[0x080D52C0:word32] = Mem0[0x08180780:word32];
	Mem13[135774996:word32] = Mem0[0x0817C310:word32];
	parse_proxy(fp - 0x04);
	parse_cookie();
	initMailcap();
	initMimeTypes();
	initURIMethods();
	init_migemo();
	if ((byte) (word32) Mem13[135774799:byte] != 0x00 && Mem13[0x080D530C:word32] != 0x00)
		initImage();
	loadPasswd(fp - 0x04);
	loadPreForm(fp - 0x04);
	word32 eax_19 = Mem13[0x0817C304:word32];
	if (eax_19 == 0x00 || (byte) ((word32) Mem13[Mem13[0x0817C304:word32] + 0x00:byte]) == 0x00)
	{
		Mem77[fp - 0x1C + 0x00:word32] = 0x080CE163;
		byte SCZO_81;
		word32 edx_82;
		word32 eax_83;
		byte SO_84;
		byte al_85;
		byte SZO_86;
		byte C_87;
		byte Z_88;
		!gettext();
		Mem90[0x0817C304:word32] = eax_83;
	}
	if (Mem13[0x0817C308:word32] == 0x00 || (byte) ((word32) Mem13[Mem13[0x0817C308:word32] + 0x00:byte]) == 0x00)
		Mem70[0x0817C308:word32] = acceptableEncoding();
	if (Mem13[0x0817C30C:word32] == 0x00 || (byte) ((word32) Mem13[Mem13[0x0817C30C:word32] + 0x00:byte]) == 0x00)
		Mem58[0x0817C30C:word32] = acceptableMimeTypes();
	if ((byte) (word32) Mem13[135774799:byte] != 0x00)
	{
		Mem49[esp_30 + 0x00:word32] = 0x00;
		initMenu(initMouseAction(initKeymap(ebp_29, gs, dwArg00), ebp_29), ebp_29, gs);
	}
}

// 08093115: Register word32 init_rc(Register word32 ebp)
word32 init_rc(word32 ebp)
{
	word32 eax_139;
	if (Mem0[135775064:word32] == 0x00)
	{
		Mem89[135775064:word32] = expandPath(0x080CE16C);
		word32 eax_92 = strlen(Mem89[135775064:word32]);
		if (eax_92 > 0x01 && (byte) ((word32) Mem89[Mem89[135775064:word32] + (eax_92 - 0x01):byte]) == 0x2F)
			Mem254[Mem89[135775064:word32] + (eax_92 - 0x01):byte] = 0x00;
		Mem101[135779272:word32] = wc_get_ces_list();
		Mem103[135779276:word32] = Mem101[135779272:word32];
		Mem105[0x0817D3D0:word32] = Mem103[135779272:word32];
		if (stat(Mem105[135775064:word32], fp - 0x6C) < 0x00)
		{
			if (Mem105[__errno_location() + 0x00:word32] != 0x02)
			{
				fprintf(Mem105[0x0817C1E4:word32], 0x080CE198, Mem105[135775064:word32]);
				goto l08093384;
			}
			if (mkdir(Mem105[135775064:word32], 448) < 0x00)
			{
				fprintf(Mem105[0x0817C1E4:word32], 0x080CE174, Mem105[135775064:word32]);
				goto l08093384;
			}
			stat(Mem105[135775064:word32], fp - 0x6C);
		}
		if ((dwLoc5C & 0xF000) != 0x4000)
		{
			fprintf(Mem105[0x0817C1E4:word32], 0x080CE1BA, Mem105[135775064:word32]);
			goto l08093384;
		}
		if ((dwLoc5C & 0x80) == 0x00)
		{
			fprintf(Mem105[0x0817C1E4:word32], 0x080CE1D1, Mem105[135775064:word32]);
l08093384:
			Mem120[135775060:word32] = 0x01;
			Mem123[0x0818066C:word32] = getenv(0x080CE1F9);
			if (Mem123[0x0818066C:word32] != 0x00)
			{
				eax_139 = (word32) Mem123[Mem123[0x0818066C:word32] + 0x00:byte];
				if ((byte) eax_139 != 0x00)
					return eax_139;
			}
			Mem131[0x0818066C:word32] = getenv(0x080CE200);
			if (Mem131[0x0818066C:word32] != 0x00)
			{
				eax_139 = (word32) Mem131[Mem131[0x0818066C:word32] + 0x00:byte];
				if ((byte) eax_139 != 0x00)
					return eax_139;
			}
			Mem138[0x0818066C:word32] = getenv(0x080CE204);
			eax_139 = Mem138[0x0818066C:word32];
			if (eax_139 == 0x00)
			{
l08093400:
				Mem149[0x0818066C:word32] = 0x080CE209;
				return eax_139;
			}
			eax_139 = (word32) Mem138[Mem138[0x0818066C:word32] + 0x00:byte];
			if ((byte) eax_139 == 0x00)
				goto l08093400;
			return eax_139;
		}
		Mem199[135775060:word32] = 0x00;
		Mem201[0x0818066C:word32] = Mem199[135775064:word32];
		if (Mem201[135775068:word32] == 0x00)
			Mem210[135775068:word32] = rcFile(0x080CE1E5);
		create_option_search_table();
	}
	if (fopen(etcFile(0x080CE1EF), 0x080CE1EC) != 0x00)
	{
		interpret_rc(fp - 0x04);
		Mem85[fp - 0x7C + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32];
		fclose(Mem85[fp - 0x7C + 0x00:(ptr FILE)]);
	}
	Mem51[fp - 0x7C + 0x00:word32] = 0x080CE1E5;
	word32 eax_53 = confFile(dwArg00);
	Mem54[fp - 0x78 + 0x00:word32] = 0x080CE1EC;
	Mem55[fp - 0x7C + 0x00:word32] = eax_53;
	Mem57[fp - 0x14 + 0x00:word32] = fopen(Mem55[fp - 0x7C + 0x00:(ptr char)], Mem55[fp - 0x78 + 0x00:(ptr char)]);
	if (Mem57[fp - 0x14 + 0x00:word32] != 0x00)
	{
		Mem78[fp - 0x7C + 0x00:word32] = Mem57[fp - 0x14 + 0x00:word32];
		interpret_rc(fp - 0x04);
		Mem80[fp - 0x7C + 0x00:word32] = Mem78[fp - 0x14 + 0x00:word32];
		fclose(Mem80[fp - 0x7C + 0x00:(ptr FILE)]);
	}
	word32 eax_61 = Mem57[135775068:word32];
	Mem62[fp - 0x78 + 0x00:word32] = 0x080CE1EC;
	Mem63[fp - 0x7C + 0x00:word32] = eax_61;
	eax_139 = fopen(Mem63[fp - 0x7C + 0x00:(ptr char)], Mem63[fp - 0x78 + 0x00:(ptr char)]);
	Mem66[fp - 0x14 + 0x00:word32] = eax_139;
	if (Mem66[fp - 0x14 + 0x00:word32] != 0x00)
	{
		Mem70[fp - 0x7C + 0x00:word32] = Mem66[fp - 0x14 + 0x00:word32];
		interpret_rc(fp - 0x04);
		Mem72[fp - 0x7C + 0x00:word32] = Mem70[fp - 0x14 + 0x00:word32];
		eax_139 = fclose(Mem72[fp - 0x7C + 0x00:(ptr FILE)]);
	}
	return eax_139;
}

// 08093413: Register word32 to_str(Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 to_str(word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 eax_16 = Mem0[dwArg04 + 0x04:word32];
	if (eax_16 >u 0x0A)
	{
		word32 ebp_46;
		*ebpOut = ebp;
		word32 esp_47;
		*espOut = fp;
		return 0x00;
	}
	else
	{
		word32 eax_29 = 0x080CE218[eax_16 * 0x04];
		word32 esp_31;
		word32 ebp_32;
		word32 esi_33;
		word32 ebx_34;
		byte SCZO_35;
		word32 eax_36;
		byte CZ_37;
		bcuiposr0 None_38;
		eax_29();
		return eax_36;
	}
}

// 08093526: Register word32 load_option_panel(Register word32 ebp, Register selector gs)
word32 load_option_panel(word32 ebp, selector gs)
{
	word32 ebp_156 = fp - 0x04;
	word32 esp_157 = fp - 0x7C;
	word32 eax_18 = Mem0[0x0817D3D4:word32];
	if (eax_18 == 0x00)
	{
		word32 edi_775;
		word32 esi_776;
		word32 ebx_777;
		byte SCZO_778;
		word32 eax_779;
		byte SZO_780;
		byte C_781;
		byte Z_782;
		word32 edx_783;
		word32 ecx_784;
		byte ah_785;
		byte dl_787;
		byte al_788;
		byte SO_789;
		byte bpl_791;
		!gettext();
		Mem795[esp_157 + 0x00:word32] = Mem0[localCookie(gs) + 0x00:word32];
		word32 eax_796 = html_quote(dwArg00);
		word32 edx_797 = Mem795[0x080DA7F8:word32];
		Mem798[esp_157 + 0x0C:word32] = eax_779;
		Mem799[esp_157 + 0x08:word32] = eax_796;
		Mem800[esp_157 + 0x04:word32] = edx_797;
		Mem801[esp_157 + 0x00:word32] = 0x080D6840;
		byte bpl_802;
		Mem804[0x0817D3D4:word32] = Sprintf(dwArg00, out bpl_802);
	}
	Mem49[0x080D5780:word32] = Mem0[0x080D5378:word32];
	if (Mem49[0x0817D3C4:word32] == 0x00)
	{
		word32 edx_504 = Mem49[0x080D5780:word32];
		word32 eax_505 = Mem49[0x0817D3D4:word32];
		Mem506[esp_157 + 0x08:word32] = Mem49[135091052:word32];
		Mem507[esp_157 + 0x04:word32] = edx_504;
		Mem508[esp_157 + 0x00:word32] = eax_505;
		word32 ebx_510;
		Mem512[0x0817D3D4:word32] = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_510);
		Mem513[ebp_156 - 0x30 + 0x00:word32] = 0x00;
		while (0x080D67E0[Mem513[ebp_156 - 0x30 + 0x00:word32] * 0x08] != 0x00)
		{
			word32 eax_596 = 0x080D67E0[Mem513[ebp_156 - 0x30 + 0x00:word32] * 0x08];
			Mem597[esp_157 + 0x00:word32] = eax_596;
			word32 edi_600;
			word32 esi_601;
			word32 ebx_602;
			byte SCZO_603;
			word32 eax_604;
			byte SZO_605;
			byte C_606;
			byte Z_607;
			word32 edx_608;
			word32 ecx_609;
			byte ah_610;
			byte dl_612;
			byte al_613;
			byte SO_614;
			byte bpl_616;
			!gettext();
			Mem617[esp_157 + 0x00:word32] = eax_604;
			Strnew_charp(eax_604, dwArg00);
			Mem618[esp_157 + 0x08:word32] = edi_600;
			Mem619[esp_157 + 0x04:word32] = esi_601;
			Mem620[esp_157 + 0x00:word32] = eax_604;
			word32 ebx_621;
			word32 eax_623 = Mem620[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_621) + 0x00:word32];
			0x080D67E0[ebx_621 * 0x08] = eax_623;
			Mem627[ebp_156 - 0x20 + 0x00:word32] = 0x080D67E4[Mem624[ebp_156 - 0x30 + 0x00:word32] * 0x08];
			while (Mem627[Mem627[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32] != 0x00)
			{
				word32 eax_654 = Mem627[Mem627[ebp_156 - 0x20 + 0x00:word32] + 0x10:word32];
				Mem655[esp_157 + 0x00:word32] = eax_654;
				word32 edi_658;
				word32 esi_659;
				word32 ebx_660;
				byte SCZO_661;
				word32 eax_662;
				byte SZO_663;
				byte C_664;
				byte Z_665;
				word32 edx_666;
				word32 ecx_667;
				byte ah_668;
				byte dl_670;
				byte al_671;
				byte SO_672;
				byte bpl_674;
				!gettext();
				Mem675[esp_157 + 0x00:word32] = eax_662;
				Strnew_charp(eax_662, dwArg00);
				Mem676[esp_157 + 0x08:word32] = esi_659;
				Mem677[esp_157 + 0x04:word32] = ebx_660;
				Mem678[esp_157 + 0x00:word32] = eax_662;
				word32 ebx_679;
				Mem683[Mem678[ebp_156 - 0x20 + 0x00:word32] + 0x10:word32] = Mem678[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_679) + 0x00:word32];
				if (Mem683[Mem683[ebp_156 - 0x20 + 0x00:word32] + 0x08:word32] == 0x02 && Mem683[Mem683[(ebp_156 - 0x20) + 0x00:word32] + 0x14:word32] != 0x080D57A0)
				{
					Mem715[ebp_156 - 0x24 + 0x00:word32] = Mem683[Mem683[ebp_156 - 0x20 + 0x00:word32] + 0x14:word32];
					while (Mem715[Mem715[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32] != 0x00)
					{
						word32 eax_739 = Mem715[Mem715[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32];
						Mem740[esp_157 + 0x00:word32] = eax_739;
						word32 edi_743;
						word32 esi_744;
						word32 ebx_745;
						byte SCZO_746;
						word32 eax_747;
						byte SZO_748;
						byte C_749;
						byte Z_750;
						word32 edx_751;
						word32 ecx_752;
						byte ah_753;
						byte dl_755;
						byte al_756;
						byte SO_757;
						byte bpl_759;
						!gettext();
						Mem760[esp_157 + 0x00:word32] = eax_747;
						Strnew_charp(eax_747, dwArg00);
						Mem761[esp_157 + 0x08:word32] = esi_744;
						Mem762[esp_157 + 0x04:word32] = ebx_745;
						Mem763[esp_157 + 0x00:word32] = eax_747;
						word32 ebx_764;
						Mem768[Mem763[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32] = Mem763[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_764) + 0x00:word32];
						Mem770[ebp_156 - 0x24 + 0x00:word32] = Mem768[ebp_156 - 0x24 + 0x00:word32] + 0x0C;
					}
				}
				Mem707[ebp_156 - 0x20 + 0x00:word32] = Mem683[ebp_156 - 0x20 + 0x00:word32] + 0x18;
			}
			Mem649[ebp_156 - 0x30 + 0x00:word32] = Mem627[ebp_156 - 0x30 + 0x00:word32] + 0x01;
		}
		Mem534[ebp_156 - 0x24 + 0x00:word32] = 0x080D57A0;
		while (Mem534[Mem534[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32] != 0x00)
		{
			word32 eax_559 = Mem534[Mem534[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32];
			Mem560[esp_157 + 0x00:word32] = eax_559;
			word32 edi_563;
			word32 esi_564;
			word32 ebx_565;
			byte SCZO_566;
			word32 eax_567;
			byte SZO_568;
			byte C_569;
			byte Z_570;
			word32 edx_571;
			word32 ecx_572;
			byte ah_573;
			byte dl_575;
			byte al_576;
			byte SO_577;
			byte bpl_579;
			!gettext();
			Mem580[esp_157 + 0x00:word32] = eax_567;
			Strnew_charp(eax_567, dwArg00);
			Mem581[esp_157 + 0x08:word32] = esi_564;
			Mem582[esp_157 + 0x04:word32] = ebx_565;
			Mem583[esp_157 + 0x00:word32] = eax_567;
			word32 ebx_584;
			Mem588[Mem583[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32] = Mem583[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_584) + 0x00:word32];
			Mem590[ebp_156 - 0x24 + 0x00:word32] = Mem588[ebp_156 - 0x24 + 0x00:word32] + 0x0C;
		}
		Mem555[0x0817D3C4:word32] = 0x01;
	}
	Mem73[esp_157 + 0x00:word32] = Mem49[0x0817D3D4:word32];
	Mem76[ebp_156 - 0x1C + 0x00:word32] = Strdup(dwArg00);
	Mem77[esp_157 + 0x04:word32] = 135062106;
	Mem79[esp_157 + 0x00:word32] = Mem77[ebp_156 - 0x1C + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem81[ebp_156 - 0x30 + 0x00:word32] = 0x00;
	while (0x080D67E0[Mem81[ebp_156 - 0x30 + 0x00:word32] * 0x08] != 0x00)
	{
		word32 eax_131 = 0x080D67E0[Mem81[ebp_156 - 0x30 + 0x00:word32] * 0x08];
		Mem132[esp_157 + 0x10:word32] = 0x00;
		Mem133[esp_157 + 0x0C:word32] = 135062122;
		Mem134[esp_157 + 0x08:word32] = eax_131;
		Mem135[esp_157 + 0x04:word32] = 0x080CE270;
		Mem137[esp_157 + 0x00:word32] = Mem135[ebp_156 - 0x1C + 0x00:word32];
		Strcat_m_charp(dwArg00);
		Mem140[ebp_156 - 0x20 + 0x00:word32] = 0x080D67E4[Mem137[ebp_156 - 0x30 + 0x00:word32] * 0x08];
		Mem141[esp_157 + 0x04:word32] = 0x080CE278;
		Mem143[esp_157 + 0x00:word32] = Mem141[ebp_156 - 0x1C + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		while (Mem143[Mem143[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32] != 0x00)
		{
			word32 eax_173 = Mem143[Mem143[ebp_156 - 0x20 + 0x00:word32] + 0x10:word32];
			Mem174[esp_157 + 0x0C:word32] = 0x00;
			Mem175[esp_157 + 0x08:word32] = eax_173;
			Mem176[esp_157 + 0x04:word32] = 0x080CE299;
			Mem178[esp_157 + 0x00:word32] = Mem176[ebp_156 - 0x1C + 0x00:word32];
			Strcat_m_charp(dwArg00);
			real64 rLoc1_181 = Mem178[0x080D53A0:real64] * Mem178[0x080CE460:real64];
			Mem182[ebp_156 - 0x3A + 0x00:word16] = __fstcw();
			Mem186[ebp_156 - 0x3C + 0x00:word16] = DPB(ax, 0x0C, 8);
			__fldcw(Mem186[ebp_156 - 0x3C + 0x00:word16]);
			Mem187[ebp_156 - 0x40 + 0x00:int32] = (int32) rLoc1_181;
			__fldcw(Mem187[ebp_156 - 0x3A + 0x00:word16]);
			Mem189[esp_157 + 0x04:word32] = Mem187[ebp_156 - 0x40 + 0x00:word32];
			Mem190[esp_157 + 0x00:word32] = 0x080CE2A2;
			byte bpl_191;
			Mem193[esp_157 + 0x04:word32] = Sprintf(dwArg00, out bpl_191);
			Mem195[esp_157 + 0x00:word32] = Mem193[ebp_156 - 0x1C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			word32 eax_197 = Mem195[Mem195[ebp_156 - 0x20 + 0x00:word32] + 0x08:word32];
			ax = (word16) eax_197;
			if (eax_197 != 0x01)
			{
				if (eax_197 <= 0x01)
				{
					if (eax_197 == 0x00)
					{
						Mem229[esp_157 + 0x00:word32] = Mem195[ebp_156 - 0x20 + 0x00:word32];
						word32 eax_233 = Mem229[to_str(dwArg00, out esp_157, out ebp_156) + 0x00:word32];
						Mem234[esp_157 + 0x00:word32] = eax_233;
						word32 eax_235 = html_quote(dwArg00);
						word32 edx_237 = Mem234[Mem234[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32];
						Mem238[esp_157 + 0x18:word32] = 0x00;
						Mem239[esp_157 + 0x14:word32] = 0x080CE2B5;
						Mem240[esp_157 + 0x10:word32] = eax_235;
						Mem241[esp_157 + 0x0C:word32] = 0x080CE2B8;
						Mem242[esp_157 + 0x08:word32] = edx_237;
						Mem243[esp_157 + 0x04:word32] = 0x080CE2C1;
						Mem245[esp_157 + 0x00:word32] = Mem243[ebp_156 - 0x1C + 0x00:word32];
						Strcat_m_charp(dwArg00);
					}
				}
				else if (eax_197 != 0x02)
				{
					if (eax_197 == 0x03)
					{
						Mem251[esp_157 + 0x00:word32] = Mem195[ebp_156 - 0x20 + 0x00:word32];
						word32 eax_254 = to_str(dwArg00, out esp_157, out ebp_156);
						Mem255[ebp_156 - 0x34 + 0x00:word32] = eax_254;
						word32 eax_257 = Mem255[Mem255[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32];
						Mem258[esp_157 + 0x10:word32] = 0x00;
						Mem259[esp_157 + 0x0C:word32] = 0x080CE339;
						Mem260[esp_157 + 0x08:word32] = eax_257;
						Mem261[esp_157 + 0x04:word32] = 135062331;
						Mem263[esp_157 + 0x00:word32] = Mem261[ebp_156 - 0x1C + 0x00:word32];
						Strcat_m_charp(dwArg00);
						Mem267[ebp_156 - 0x28 + 0x00:word32] = Mem263[Mem263[Mem263[ebp_156 - 0x20 + 0x00:word32] + 0x14:word32] + 0x00:word32];
						while (Mem267[Mem267[ebp_156 - 0x28 + 0x00:word32] + 0x08:word32] != 0x00)
						{
							Mem282[esp_157 + 0x04:word32] = 0x080CE349;
							Mem284[esp_157 + 0x00:word32] = Mem282[ebp_156 - 0x1C + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
							Mem287[esp_157 + 0x04:word32] = Mem284[Mem284[ebp_156 - 0x28 + 0x00:word32] + 0x04:word32];
							Mem288[esp_157 + 0x00:word32] = 0x080CE358;
							byte bpl_289;
							Mem291[esp_157 + 0x04:word32] = Sprintf(dwArg00, out bpl_289);
							Mem293[esp_157 + 0x00:word32] = Mem291[ebp_156 - 0x1C + 0x00:word32];
							Strcat(dwArg00, dwArg04);
							word32 ebx_295 = Mem293[Mem293[ebp_156 - 0x28 + 0x00:word32] + 0x00:word32];
							Mem298[esp_157 + 0x00:word32] = Mem293[Mem293[ebp_156 - 0x34 + 0x00:word32] + 0x00:word32];
							if (ebx_295 == atoi(Mem298[esp_157 + 0x00:(ptr char)]))
							{
								Mem335[esp_157 + 0x04:word32] = 0x080CE35C;
								Mem337[esp_157 + 0x00:word32] = Mem335[ebp_156 - 0x1C + 0x00:word32];
								Strcat_charp(dwArg00, dwArg04);
							}
							if (Mem298[Mem298[ebp_156 - 0x1C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem298[Mem298[(ebp_156 - 0x1C) + 0x00:word32] + 0x08:word32])
							{
								Mem334[esp_157 + 0x00:word32] = Mem298[ebp_156 - 0x1C + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_312 = Mem298[Mem298[ebp_156 - 0x1C + 0x00:word32] + 0x04:word32];
							Mem315[Mem298[Mem298[ebp_156 - 0x1C + 0x00:word32] + 0x00:word32] + eax_312:byte] = 0x3E;
							Mem318[Mem315[ebp_156 - 0x1C + 0x00:word32] + 0x04:word32] = eax_312 + 0x01;
							Mem324[Mem318[Mem318[ebp_156 - 0x1C + 0x00:word32] + 0x00:word32] + Mem318[Mem318[(ebp_156 - 0x1C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
							Mem327[esp_157 + 0x04:word32] = Mem324[Mem324[ebp_156 - 0x28 + 0x00:word32] + 0x08:word32];
							Mem329[esp_157 + 0x00:word32] = Mem327[ebp_156 - 0x1C + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
							Mem331[ebp_156 - 0x28 + 0x00:word32] = Mem329[ebp_156 - 0x28 + 0x00:word32] + 0x0C;
						}
						Mem279[esp_157 + 0x04:word32] = 0x080CE366;
						Mem281[esp_157 + 0x00:word32] = Mem279[ebp_156 - 0x1C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
				}
				else
				{
					Mem339[esp_157 + 0x00:word32] = Mem195[ebp_156 - 0x20 + 0x00:word32];
					word32 eax_342 = to_str(dwArg00, out esp_157, out ebp_156);
					Mem343[ebp_156 - 0x34 + 0x00:word32] = eax_342;
					word32 eax_345 = Mem343[Mem343[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32];
					Mem346[esp_157 + 0x10:word32] = 0x00;
					Mem347[esp_157 + 0x0C:word32] = 0x080CE339;
					Mem348[esp_157 + 0x08:word32] = eax_345;
					Mem349[esp_157 + 0x04:word32] = 135062331;
					Mem351[esp_157 + 0x00:word32] = Mem349[ebp_156 - 0x1C + 0x00:word32];
					Strcat_m_charp(dwArg00);
					Mem354[ebp_156 - 0x24 + 0x00:word32] = Mem351[Mem351[ebp_156 - 0x20 + 0x00:word32] + 0x14:word32];
					while (Mem354[Mem354[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32] != 0x00)
					{
						Mem371[esp_157 + 0x04:word32] = 0x080CE349;
						Mem373[esp_157 + 0x00:word32] = Mem371[ebp_156 - 0x1C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						Mem376[esp_157 + 0x04:word32] = Mem373[Mem373[ebp_156 - 0x24 + 0x00:word32] + 0x04:word32];
						Mem377[esp_157 + 0x00:word32] = 0x080CE358;
						byte bpl_378;
						Mem380[esp_157 + 0x04:word32] = Sprintf(dwArg00, out bpl_378);
						Mem382[esp_157 + 0x00:word32] = Mem380[ebp_156 - 0x1C + 0x00:word32];
						Strcat(dwArg00, dwArg04);
						if (Mem382[Mem382[ebp_156 - 0x20 + 0x00:word32] + 0x04:word32] != 0x03)
						{
							word32 ebx_449 = Mem382[Mem382[ebp_156 - 0x24 + 0x00:word32] + 0x00:word32];
							Mem452[esp_157 + 0x00:word32] = Mem382[Mem382[ebp_156 - 0x34 + 0x00:word32] + 0x00:word32];
							if (ebx_449 != atoi(Mem452[esp_157 + 0x00:(ptr char)]))
								goto l080939E5;
							goto l08093A03;
						}
l080939E5:
						if (Mem382[Mem382[ebp_156 - 0x20 + 0x00:word32] + 0x04:word32] == 0x03 && (byte) Mem382[Mem382[(ebp_156 - 0x24) + 0x00:word32] + 0x00:word32] == (byte) ((word32) Mem382[Mem382[Mem382[(ebp_156 - 0x34) + 0x00:word32] + 0x00:word32] + 0x00:byte]))
						{
l08093A03:
							Mem430[esp_157 + 0x04:word32] = 0x080CE35C;
							Mem432[esp_157 + 0x00:word32] = Mem430[ebp_156 - 0x1C + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						if (Mem382[Mem382[ebp_156 - 0x1C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem382[Mem382[(ebp_156 - 0x1C) + 0x00:word32] + 0x08:word32])
						{
							Mem423[esp_157 + 0x00:word32] = Mem382[ebp_156 - 0x1C + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_401 = Mem382[Mem382[ebp_156 - 0x1C + 0x00:word32] + 0x04:word32];
						Mem404[Mem382[Mem382[ebp_156 - 0x1C + 0x00:word32] + 0x00:word32] + eax_401:byte] = 0x3E;
						Mem407[Mem404[ebp_156 - 0x1C + 0x00:word32] + 0x04:word32] = eax_401 + 0x01;
						Mem413[Mem407[Mem407[ebp_156 - 0x1C + 0x00:word32] + 0x00:word32] + Mem407[Mem407[(ebp_156 - 0x1C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						Mem416[esp_157 + 0x04:word32] = Mem413[Mem413[ebp_156 - 0x24 + 0x00:word32] + 0x08:word32];
						Mem418[esp_157 + 0x00:word32] = Mem416[ebp_156 - 0x1C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						Mem420[ebp_156 - 0x24 + 0x00:word32] = Mem418[ebp_156 - 0x24 + 0x00:word32] + 0x0C;
					}
					Mem368[esp_157 + 0x04:word32] = 0x080CE366;
					Mem370[esp_157 + 0x00:word32] = Mem368[ebp_156 - 0x1C + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
			else
			{
				word32 edx_468;
				Mem457[esp_157 + 0x00:word32] = Mem195[ebp_156 - 0x20 + 0x00:word32];
				word32 eax_461 = Mem457[to_str(dwArg00, out esp_157, out ebp_156) + 0x00:word32];
				Mem462[esp_157 + 0x00:word32] = eax_461;
				Mem464[ebp_156 - 44 + 0x00:word32] = atoi(Mem462[esp_157 + 0x00:(ptr char)]);
				if (Mem464[ebp_156 - 44 + 0x00:word32] != 0x00)
					edx_468 = 0x080CE2D8;
				else
					edx_468 = 135062233;
				word32 eax_473;
				word32 ebx_470 = Mem464[Mem464[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32];
				if (Mem464[ebp_156 - 44 + 0x00:word32] != 0x00)
				{
					eax_473 = 135062233;
					ax = ~0x1D26;
				}
				else
				{
					eax_473 = 0x080CE2D8;
					ax = 0xE2D8;
				}
				word32 ecx_478 = Mem464[Mem464[ebp_156 - 0x20 + 0x00:word32] + 0x00:word32];
				Mem479[esp_157 + 0x28:word32] = 0x00;
				Mem480[esp_157 + 0x24:word32] = 0x080CE2E2;
				Mem481[esp_157 + 0x20:word32] = edx_468;
				Mem482[esp_157 + 0x1C:word32] = 0x080CE2E6;
				Mem483[esp_157 + 0x18:word32] = ebx_470;
				Mem484[esp_157 + 0x14:word32] = 0x080CE2F0;
				Mem485[esp_157 + 0x10:word32] = eax_473;
				Mem486[esp_157 + 0x0C:word32] = 0x080CE318;
				Mem487[esp_157 + 0x08:word32] = ecx_478;
				Mem488[esp_157 + 0x04:word32] = 135062305;
				Mem490[esp_157 + 0x00:word32] = Mem488[ebp_156 - 0x1C + 0x00:word32];
				Strcat_m_charp(dwArg00);
			}
			Mem217[esp_157 + 0x04:word32] = 0x080CE370;
			Mem219[esp_157 + 0x00:word32] = Mem217[ebp_156 - 0x1C + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem221[ebp_156 - 0x20 + 0x00:word32] = Mem219[ebp_156 - 0x20 + 0x00:word32] + 0x18;
		}
		Mem163[esp_157 + 0x04:word32] = 0x080CE37C;
		Mem165[esp_157 + 0x00:word32] = Mem163[ebp_156 - 0x1C + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem166[esp_157 + 0x04:word32] = 0x080CE3B9;
		Mem168[esp_157 + 0x00:word32] = Mem166[ebp_156 - 0x1C + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem170[ebp_156 - 0x30 + 0x00:word32] = Mem168[ebp_156 - 0x30 + 0x00:word32] + 0x01;
	}
	Mem103[esp_157 + 0x04:word32] = 0x080CE3D0;
	Mem105[esp_157 + 0x00:word32] = Mem103[ebp_156 - 0x1C + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem107[esp_157 + 0x00:word32] = Mem105[ebp_156 - 0x1C + 0x00:word32];
	Mem109[ebp_156 - 0x38 + 0x00:word32] = loadHTMLString(ebp_156, gs, dwArg00);
	if (Mem109[ebp_156 - 0x38 + 0x00:word32] != 0x00)
		Mem129[Mem109[ebp_156 - 0x38 + 0x00:word32] + 0xD0:word32] = Mem109[0x080D5780:word32];
	return Mem109[ebp_156 - 0x38 + 0x00:word32];
}

// 08093C71: void panel_set_option(Register word32 ebp, Register selector gs)
void panel_set_option(word32 ebp, selector gs)
{
	if (Mem0[135775060:word32] != 0x00)
		disp_message(gs, 0x080CE3F0, 0x00);
	else if (fopen(Mem0[135775068:word32], 0x080CE420) == 0x00)
		disp_message(gs, 135062563, 0x00);
	while (Mem0[fp + 0x04:word32] != 0x00)
	{
		if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] != 0x00)
		{
			word32 esi_62 = Mem0[0x080D5378:word32];
			word32 ebx_63 = Mem0[135091052:word32];
			word32 eax_65 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem66[fp - 44 + 0x00:word32] = eax_65;
			Strnew_charp(eax_65, dwArg00);
			Mem68[fp - 0x24 + 0x00:word32] = esi_62;
			Mem69[fp - 0x28 + 0x00:word32] = ebx_63;
			Mem70[fp - 44 + 0x00:word32] = eax_65;
			word32 ebx_73;
			Mem76[fp - 0x14 + 0x00:word32] = Mem70[wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_73) + 0x00:word32];
			word32 eax_78 = Mem76[Mem76[fp + 0x04:word32] + 0x00:word32];
			Mem80[fp - 0x28 + 0x00:word32] = Mem76[fp - 0x14 + 0x00:word32];
			Mem81[fp - 44 + 0x00:word32] = eax_78;
			if (set_param(dwArg00, dwArg04) != 0x00 && Mem81[(fp - 0x10) + 0x00:word32] != 0x00)
			{
				word32 edx_89 = Mem81[Mem81[fp + 0x04:word32] + 0x00:word32];
				Mem92[fp - 0x20 + 0x00:word32] = Mem81[fp - 0x14 + 0x00:word32];
				Mem93[fp - 0x24 + 0x00:word32] = edx_89;
				Mem94[fp - 0x28 + 0x00:word32] = 0x080CE437;
				Mem96[fp - 44 + 0x00:word32] = Mem94[fp - 0x10 + 0x00:word32];
				fprintf(Mem96[fp - 44 + 0x00:(ptr FILE)], Mem96[fp - 0x28 + 0x00:(ptr char)], Mem96[fp - 0x24 + 0x00:(ptr char)], Mem96[fp - 0x20 + 0x00:(ptr char)]);
			}
		}
		Mem61[fp + 0x04:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x08:word32];
	}
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem44[fp - 44 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
		fclose(Mem44[fp - 44 + 0x00:(ptr FILE)]);
	}
	sync_with_option(fp - 0x04, gs);
	backBf(fp - 0x04, gs);
}

// 08093D8E: Register word32 rcFile(Stack word32 dwArg04)
word32 rcFile(word32 dwArg04)
{
	word32 eax_17;
	if (dwArg04 != 0x00 && (((byte) ((word32) Mem0[dwArg04 + 0x00:byte]) == 0x2F || (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) == 0x2E && ((byte) ((word32) Mem0[dwArg04 + 0x01:byte]) == 0x2F || (byte) ((word32) Mem0[dwArg04 + 0x01:byte]) == 0x2E && (byte) ((word32) Mem0[dwArg04 + 0x02:byte]) == 0x2F)) || (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) == 0x7E && (byte) ((word32) Mem0[dwArg04 + 0x01:byte]) == 0x2F))
		eax_17 = expandPath(dwArg04);
	else
	{
		word32 eax_25 = Mem0[135775064:word32];
		Strnew_m_charp(eax_25, eax_25);
		eax_17 = expandPath(Mem0[eax_25 + 0x00:word32]);
	}
	return eax_17;
}

// 08093E29: Register word32 auxbinFile(Stack word32 dwArg04)
word32 auxbinFile(word32 dwArg04)
{
	word32 eax_8 = w3m_auxbin_dir();
	Strnew_m_charp(eax_8, eax_8);
	return expandPath(Mem0[eax_8 + 0x00:word32]);
}

// 08093E5F: Register word32 etcFile(Stack word32 dwArg04)
word32 etcFile(word32 dwArg04)
{
	word32 eax_8 = w3m_etc_dir();
	Strnew_m_charp(eax_8, eax_8);
	return expandPath(Mem0[eax_8 + 0x00:word32]);
}

// 08093E95: Register word32 confFile(Stack word32 dwArg04)
word32 confFile(word32 dwArg04)
{
	word32 eax_8 = w3m_conf_dir();
	Strnew_m_charp(eax_8, eax_8);
	return expandPath(Mem0[eax_8 + 0x00:word32]);
}

// 08093ECC: void new_menu(Stack word32 dwArg04, Stack word32 dwArg08)
void new_menu(word32 dwArg04, word32 dwArg08)
{
	Mem9[dwArg04 + 0x04:word32] = 0x00;
	Mem11[dwArg04 + 0x08:word32] = 0x00;
	Mem13[dwArg04 + 0x0C:word32] = 0x00;
	Mem15[dwArg04 + 0x10:word32] = 0x00;
	Mem17[dwArg04 + 0x1C:word32] = 0x00;
	Mem21[dwArg04 + 0x20:word32] = dwArg08;
	Mem23[dwArg04 + 0x24:word32] = 0x00;
	Mem25[dwArg04 + 0x28:word32] = 0x00;
	Mem27[dwArg04 + 44:word32] = 0x00;
	Mem29[dwArg04 + 0x30:word32] = 0x00;
	if (dwArg08 != 0x00)
	{
		word32 dwLoc10_183 = 0x00;
		while (dwArg08[dwLoc10_183 * 0x20] != 0x00)
			dwLoc10_183 = dwLoc10_183 + 0x01;
		Mem60[dwArg04 + 0x1C:word32] = dwLoc10_183;
		Mem64[dwArg04 + 0x18:word32] = Mem60[dwArg04 + 0x1C:word32];
		word32 dwLoc10_180 = 0x00;
		while (dwLoc10_180 <= 0x7F)
		{
			(dwArg04 + 0x04)[(dwLoc10_180 + 0x0C) * 0x04] = 0x080D69A0[dwLoc10_180 * 0x04];
			dwLoc10_180 = dwLoc10_180 + 0x01;
		}
		Mem74[dwArg04 + 0x14:word32] = 0x00;
		word32 dwLoc10_124 = 0x00;
		while (Mem74[dwArg04 + 0x1C:word32] > dwLoc10_124)
		{
			word32 eax_98 = Mem74[(dwLoc10_124 << 0x05) + dwArg08 + 0x18:word32];
			word32 dwLoc18_130 = eax_98;
			if (eax_98 != 0x00)
			{
				while ((byte) (word32) Mem74[dwLoc18_130 + 0x00:byte] != 0x00)
				{
					if (((word32) (byte) (word32) Mem74[(word32) (byte) (word32) Mem74[dwLoc18_130 + 0x00:byte] + 0x080DB700:byte] & 0x11) != 0x00)
					{
						(dwArg04 + 0x04)[((int32) (byte) (word32) Mem74[dwLoc18_130 + 0x00:byte] + 0x0C) * 0x04] = 0x080950DE;
						(dwArg04 + 0x04)[((int32) (byte) (word32) Mem164[dwLoc18_130 + 0x00:byte] + 0x8C) * 0x04] = dwLoc10_124;
					}
					dwLoc18_130 = dwLoc18_130 + 0x01;
				}
			}
			word32 eax_115 = wtf_strwidth(Mem74[(dwLoc10_124 << 0x05) + dwArg08 + 0x04:word32]);
			if (Mem74[dwArg04 + 0x14:word32] < eax_115)
				Mem128[dwArg04 + 0x14:word32] = eax_115;
			dwLoc10_124 = dwLoc10_124 + 0x01;
		}
	}
}

// 08094062: void geom_menu(Stack word32 dwArg04, Stack word32 dwArg10)
void geom_menu(word32 dwArg04, word32 dwArg10)
{
	Mem14[dwArg04 + 0x28:word32] = dwArg10;
	word32 eax_16 = Mem14[dwArg04 + 0x14:word32];
	if ((int32) (SEQ(eax_16 >> 0x1F, eax_16) % Mem14[0x0817D3E8:word32]) != 0x00)
	{
		word32 eax_174 = Mem14[dwArg04 + 0x14:word32];
		Mem188[dwArg04 + 0x14:word32] = ((int32) (SEQ(eax_174 >> 0x1F, eax_174) / Mem14[0x0817D3E8:word32]) + 0x01) *s Mem14[0x0817D3E8:word32];
	}
	word32 ecx_35 = Mem14[dwArg04 + 0x0C:word32] - Mem14[0x0817D3E8:word32];
	word32 eax_42 = Mem14[dwArg04 + 0x14:word32] + Mem14[0x0817D3E8:word32] * 0x02;
	word32 dwLoc0C_133 = ecx_35;
	if (ecx_35 + eax_42 > Mem14[0x081807A0:word32])
		dwLoc0C_133 = Mem14[0x081807A0:word32] - eax_42;
	if (dwLoc0C_133 < 0x00)
	{
		dwLoc0C_133 = 0x00;
		if (eax_42 > Mem14[0x081807A0:word32])
		{
			Mem145[dwArg04 + 0x14:word32] = (0x00 - Mem14[0x0817D3E8:word32]) * 0x02 + Mem14[0x081807A0:word32];
			word32 eax_149 = Mem145[dwArg04 + 0x14:word32];
			Mem161[dwArg04 + 0x14:word32] = Mem145[dwArg04 + 0x14:word32] - (int32) (SEQ(eax_149 >> 0x1F, eax_149) % Mem145[0x0817D3E8:word32]);
		}
	}
	Mem63[dwArg04 + 0x0C:word32] = Mem14[0x0817D3E8:word32] + dwLoc0C_133;
	word32 eax_66 = Mem63[dwArg04 + 0x10:word32] - dwArg10;
	word32 eax_70 = Mem63[dwArg04 + 0x18:word32];
	word32 dwLoc10_132 = eax_66 - 0x01;
	if (eax_66 - 0x01 + (eax_70 + 0x02) > Mem63[0x08180780:word32] - 0x01)
		dwLoc10_132 = Mem63[0x08180780:word32] - 0x01 - (eax_70 + 0x02);
	if (dwLoc10_132 < 0x00)
	{
		dwLoc10_132 = 0x00;
		if (eax_70 + 0x02 > Mem63[0x08180780:word32] - 0x01)
		{
			Mem113[dwArg04 + 0x18:word32] = Mem63[0x08180780:word32] - 0x03;
			if (Mem113[dwArg04 + 0x18:word32] <= dwArg10)
				Mem127[dwArg04 + 44:word32] = dwArg10 - Mem113[dwArg04 + 0x18:word32] + 0x01;
		}
	}
	Mem91[dwArg04 + 0x10:word32] = dwLoc10_132 + 0x01;
}

// 08094220: void draw_all_menu(Stack word32 dwArg04)
void draw_all_menu(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x00:word32] != 0x00)
		draw_all_menu(Mem0[dwArg04 + 0x00:word32]);
	draw_menu(dwArg04);
}

// 08094249: void draw_menu(Stack word32 dwArg04)
void draw_menu(word32 dwArg04)
{
	word32 eax_23 = Mem0[dwArg04 + 0x10:word32];
	word32 ecx_13 = Mem0[dwArg04 + 0x0C:word32] - Mem0[0x0817D3E8:word32];
	word32 eax_20 = Mem0[dwArg04 + 0x14:word32] + Mem0[0x0817D3E8:word32] * 0x02;
	word32 dwLoc14_222 = eax_23 - 0x01 + 0x01;
	if (Mem0[dwArg04 + 44:word32] == 0x00)
	{
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(eax_23 - 0x01, ecx_13);
		addstr(Mem0[Mem0[135779300:word32] + 0x0C:word32]);
		word32 dwLoc1C_288 = Mem0[0x0817D3E8:word32];
		while (eax_20 - Mem0[0x0817D3E8:word32] > dwLoc1C_288)
		{
			move(eax_23 - 0x01, ecx_13 + dwLoc1C_288);
			addstr(Mem0[Mem0[135779300:word32] + 0x28:word32]);
			dwLoc1C_288 = dwLoc1C_288 + Mem0[0x0817D3E8:word32];
		}
		move(eax_23 - 0x01, ecx_13 + dwLoc1C_288);
		addstr(Mem0[Mem0[135779300:word32] + 0x18:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
	}
	else
	{
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(eax_23 - 0x01, ecx_13);
		addstr(Mem0[Mem0[135779300:word32] + 0x14:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
		word32 dwLoc1C_349 = Mem0[0x0817D3E8:word32];
		while (eax_20 - Mem0[0x0817D3E8:word32] > dwLoc1C_349)
		{
			move(eax_23 - 0x01, ecx_13 + dwLoc1C_349);
			addstr(0x080CE5EA);
			dwLoc1C_349 = dwLoc1C_349 + 0x01;
		}
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(eax_23 - 0x01, ecx_13 + dwLoc1C_349);
		addstr(Mem0[Mem0[135779300:word32] + 0x14:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
		word32 eax_384 = ((eax_20 >>u 0x1F) + eax_20 >> 0x01) - 0x01;
		move(eax_23 - 0x01, ecx_13 + Mem0[0x0817D3E8:word32] *s (int32) (SEQ(eax_384 >> 0x1F, eax_384) / Mem0[0x0817D3E8:word32]));
		addstr(0x080CE5EC);
	}
	word32 dwLoc20_272 = 0x00;
	while (Mem0[dwArg04 + 0x18:word32] > dwLoc20_272)
	{
		word32 v15_221 = dwLoc14_222 + 0x01;
		dwLoc14_222 = v15_221;
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(v15_221, ecx_13);
		addstr(Mem0[Mem0[135779300:word32] + 0x14:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
		draw_menu_item(dwArg04, Mem0[dwArg04 + 44:word32] + dwLoc20_272);
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(v15_221, ecx_13 + eax_20 - Mem0[0x0817D3E8:word32]);
		addstr(Mem0[Mem0[135779300:word32] + 0x14:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
		dwLoc20_272 = dwLoc20_272 + 0x01;
	}
	word32 v12_56 = dwLoc14_222 + 0x00;
	if (Mem0[dwArg04 + 44:word32] + Mem0[dwArg04 + 0x18:word32] == Mem0[dwArg04 + 0x1C:word32])
	{
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(v12_56, ecx_13);
		addstr(Mem0[Mem0[135779300:word32] + 0x24:word32]);
		word32 dwLoc1C_135 = Mem0[0x0817D3E8:word32];
		while (eax_20 - Mem0[0x0817D3E8:word32] > dwLoc1C_135)
		{
			move(v12_56, ecx_13 + dwLoc1C_135);
			addstr(Mem0[Mem0[135779300:word32] + 0x28:word32]);
			dwLoc1C_135 = dwLoc1C_135 + Mem0[0x0817D3E8:word32];
		}
		move(v12_56, ecx_13 + dwLoc1C_135);
		addstr(Mem0[Mem0[135779300:word32] + 0x30:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
	}
	else
	{
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(v12_56, ecx_13);
		addstr(Mem0[Mem0[135779300:word32] + 0x14:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
		word32 dwLoc1C_155 = Mem0[0x0817D3E8:word32];
		while (eax_20 - Mem0[0x0817D3E8:word32] > dwLoc1C_155)
		{
			move(v12_56, ecx_13 + dwLoc1C_155);
			addstr(0x080CE5EA);
			dwLoc1C_155 = dwLoc1C_155 + 0x01;
		}
		if (Mem0[135779308:word32] != 0x00)
			graphstart();
		move(v12_56, ecx_13 + dwLoc1C_155);
		addstr(Mem0[Mem0[135779300:word32] + 0x14:word32]);
		if (Mem0[135779308:word32] != 0x00)
			graphend();
		word32 eax_190 = ((eax_20 >>u 0x1F) + eax_20 >> 0x01) - 0x01;
		move(v12_56, ecx_13 + Mem0[0x0817D3E8:word32] *s (int32) (SEQ(eax_190 >> 0x1F, eax_190) / Mem0[0x0817D3E8:word32]));
		addstr(0x080CE5EC);
	}
}

// 0809473B: void draw_menu_item(Stack word32 dwArg04, Stack word32 dwArg08)
void draw_menu_item(word32 dwArg04, word32 dwArg08)
{
	move(Mem0[dwArg04 + 0x10:word32] + dwArg08 - Mem0[dwArg04 + 44:word32], Mem0[dwArg04 + 0x0C:word32]);
	addnstr_sup(Mem0[Mem0[dwArg04 + 0x20:word32] + (dwArg08 << 0x05) + 0x04:word32], Mem0[dwArg04 + 0x14:word32]);
}

// 08094794: Register word32 select_menu(Stack word32 dwArg04, Stack word32 dwArg08)
word32 select_menu(word32 dwArg04, word32 dwArg08)
{
	word32 eax_20;
	if (dwArg08 >= 0x00 && Mem0[dwArg04 + 0x1C:word32] > dwArg08)
	{
		if (Mem0[dwArg04 + 44:word32] > dwArg08)
			up_menu(dwArg04, Mem0[dwArg04 + 44:word32] - dwArg08);
		else if (Mem0[dwArg04 + 44:word32] + Mem0[dwArg04 + 0x18:word32] <= dwArg08)
			down_menu(dwArg04, dwArg08 - Mem0[dwArg04 + 44:word32] - Mem0[dwArg04 + 0x18:word32] + 0x01);
		if (Mem0[dwArg04 + 0x28:word32] >= Mem0[dwArg04 + 44:word32] && Mem0[dwArg04 + 0x28:word32] < Mem0[dwArg04 + 44:word32] + Mem0[dwArg04 + 0x18:word32])
			draw_menu_item(dwArg04, Mem0[dwArg04 + 0x28:word32]);
		Mem58[dwArg04 + 0x28:word32] = dwArg08;
		standout();
		draw_menu_item(dwArg04, Mem58[dwArg04 + 0x28:word32]);
		standend();
		move(Mem58[dwArg04 + 0x10:word32] + dwArg08 - Mem58[dwArg04 + 44:word32], Mem58[dwArg04 + 0x0C:word32]);
		toggle_stand();
		refresh(fp - 0x04);
		eax_20 = Mem58[Mem58[fp + 0x04:word32] + 0x28:word32];
	}
	else
		eax_20 = ~0x00;
	return eax_20;
}

// 080948BD: void goto_menu(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void goto_menu(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg04 + 0x1C:word32] <= dwArg08)
		dwArg08 = Mem0[dwArg04 + 0x1C:word32] - 0x01;
	else if (dwArg08 < 0x00)
		dwArg08 = 0x00;
	dwArg08_23 = dwArg08;
	do
	{
		word32 dwArg08_23;
		if (Mem0[dwArg04 + 0x20:word32][dwArg08_23 * 0x20] != 0x01)
			goto l0809497B;
		if (dwArg0C <= 0x00)
		{
			if (dwArg0C >= 0x00)
				return;
			word32 v13_82 = dwArg08_23 - 0x01;
			dwArg08_23 = v13_82;
			if (v13_82 >= 0x00)
				continue;
			up_menu(dwArg04, Mem0[dwArg04 + 0x28:word32] - dwArg08);
			dwArg08_23 = Mem0[dwArg04 + 0x28:word32];
			goto l0809497B;
		}
		word32 v10_61 = dwArg08_23 + 0x01;
		dwArg08_23 = v10_61;
	} while (v10_61 < Mem0[dwArg04 + 0x1C:word32]);
	down_menu(dwArg04, dwArg08 - Mem0[dwArg04 + 0x28:word32]);
	dwArg08_23 = Mem0[dwArg04 + 0x28:word32];
l0809497B:
	select_menu(dwArg04, dwArg08_23);
}

// 08094992: void up_menu(Stack word32 dwArg04, Stack word32 dwArg08)
void up_menu(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 >= 0x00 && Mem0[dwArg04 + 44:word32] != 0x00)
	{
		Mem32[dwArg04 + 44:word32] = Mem0[dwArg04 + 44:word32] - dwArg08;
		if (Mem32[dwArg04 + 44:word32] < 0x00)
			Mem41[dwArg04 + 44:word32] = 0x00;
		draw_menu(dwArg04);
	}
}

// 080949E0: void down_menu(Stack word32 dwArg04, Stack word32 dwArg08)
void down_menu(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 >= 0x00 && Mem0[dwArg04 + 44:word32] + Mem0[dwArg04 + 0x18:word32] != Mem0[dwArg04 + 0x1C:word32])
	{
		Mem35[dwArg04 + 44:word32] = Mem0[dwArg04 + 44:word32] + dwArg08;
		if (Mem35[dwArg04 + 44:word32] + Mem35[dwArg04 + 0x18:word32] > Mem35[dwArg04 + 0x1C:word32])
			Mem56[dwArg04 + 44:word32] = Mem35[dwArg04 + 0x1C:word32] - Mem35[dwArg04 + 0x18:word32];
		draw_menu(dwArg04);
	}
}

// 08094A54: Register word32 action_menu(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 action_menu(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_142;
	word32 ebp_202 = fp - 0x04;
	word32 esp_201 = fp - 0x4C;
	if (Mem0[dwArg04 + 0x30:word32] == 0x00)
	{
		if (Mem0[dwArg04 + 0x00:word32] != 0x00)
			Mem44[Mem0[dwArg04 + 0x00:word32] + 0x30:word32] = 0x00;
		eax_142 = 0x00;
	}
	else
	{
		draw_all_menu(dwArg04);
		select_menu(dwArg04, Mem0[dwArg04 + 0x28:word32]);
		do
		{
			if (Mem0[0x080D5384:word32] != 0x00)
				mouse_active();
			Mem66[ebp_202 - 0x09 + 0x00:byte] = do_getch(gs);
			if (Mem66[0x080D5384:word32] != 0x00)
				mouse_inactive();
			if (Mem66[ebp_202 - 0x09 + 0x00:byte] == ~0x00)
			{
				Mem216[ebp_202 - 0x10 + 0x00:word32] = Mem66[0x0817D3E0:word32];
				if (Mem216[ebp_202 - 0x10 + 0x00:word32] != ~0x00)
					break;
			}
			byte al_188 = (byte) (word32) Mem66[(word32) (byte) (word32) Mem66[ebp_202 - 0x09 + 0x00:byte] + 0x080DB700:byte];
			if (((word32) al_188 & 0x11) == 0x00)
				continue;
			word32 edx_198 = (Mem66[ebp_202 + 0x08:word32] + 0x04)[((int32) Mem66[ebp_202 - 0x09 + 0x00:byte] + 0x0C) * 0x04];
			word32 eax_199 = (int32) Mem66[ebp_202 - 0x09 + 0x00:byte];
			Mem200[esp_201 + 0x00:word32] = eax_199;
			byte SCZO_203;
			word32 eax_204;
			byte SZO_205;
			byte C_206;
			byte Z_207;
			byte al_208;
			word32 edx_209;
			byte S_210;
			edx_198();
			Mem212[ebp_202 - 0x10 + 0x00:word32] = eax_204;
		} while (Mem212[ebp_202 - 0x10 + 0x00:word32] == ~0x00);
		if (Mem66[ebp_202 - 0x10 + 0x00:word32] >= 0x00 && Mem66[Mem66[ebp_202 + 0x08:word32] + 0x1C:word32] > Mem66[(ebp_202 - 0x10) + 0x00:word32])
		{
			word32 eax_115 = Mem66[Mem66[ebp_202 + 0x08:word32] + 0x20:word32] + (Mem66[(ebp_202 - 0x10) + 0x00:word32] << 0x05);
			Mem117[ebp_202 - 0x30 + 0x00:word32] = Mem66[eax_115 + 0x00:word32];
			Mem119[ebp_202 - 44 + 0x00:word32] = Mem117[eax_115 + 0x04:word32];
			Mem121[ebp_202 - 0x28 + 0x00:word32] = Mem119[eax_115 + 0x08:word32];
			Mem123[ebp_202 - 0x24 + 0x00:word32] = Mem121[eax_115 + 0x0C:word32];
			Mem125[ebp_202 - 0x20 + 0x00:word32] = Mem123[eax_115 + 0x10:word32];
			Mem127[ebp_202 - 0x1C + 0x00:word32] = Mem125[eax_115 + 0x14:word32];
			Mem129[ebp_202 - 0x18 + 0x00:word32] = Mem127[eax_115 + 0x18:word32];
			Mem131[ebp_202 - 0x14 + 0x00:word32] = Mem129[eax_115 + 0x1C:word32];
			if ((Mem131[ebp_202 - 0x30 + 0x00:word32] & 0x08) != 0x00)
			{
				Mem138[esp_201 + 0x04:word32] = Mem131[ebp_202 - 0x1C + 0x00:word32];
				Mem140[esp_201 + 0x00:word32] = Mem138[ebp_202 + 0x08:word32];
				popup_menu(ebp_202, gs, dwArg00, dwArg04);
				eax_142 = 0x01;
				return eax_142;
			}
			if (Mem131[Mem131[ebp_202 + 0x08:word32] + 0x00:word32] != 0x00)
				Mem182[Mem131[Mem131[ebp_202 + 0x08:word32] + 0x00:word32] + 0x30:word32] = 0x00;
			if ((Mem131[ebp_202 - 0x30 + 0x00:word32] & 0x02) != 0x00)
				Mem179[Mem131[ebp_202 - 0x28 + 0x00:word32] + 0x00:word32] = Mem131[ebp_202 - 0x24 + 0x00:word32];
			if ((Mem131[ebp_202 - 0x30 + 0x00:word32] & 0x04) != 0x00)
			{
				Mem160[0x08180728:word32] = ~0x00;
				Mem161[0x08180670:word32] = 0x00;
				Mem163[0x081804E0:word32] = Mem161[ebp_202 - 0x14 + 0x00:word32];
				word32 eax_164 = Mem163[ebp_202 - 0x20 + 0x00:word32];
				word32 esp_165;
				word32 ebp_166;
				byte SCZO_167;
				word32 eax_168;
				byte SZO_169;
				byte C_170;
				byte Z_171;
				byte al_172;
				word32 edx_173;
				byte S_174;
				selector gs_175;
				eax_164();
				Mem176[0x081804E0:word32] = 0x00;
			}
		}
		else if (Mem66[ebp_202 - 0x10 + 0x00:word32] == ~0x02 && Mem66[Mem66[ebp_202 + 0x08:word32] + 0x00:word32] != 0x00)
			Mem106[Mem66[Mem66[ebp_202 + 0x08:word32] + 0x00:word32] + 0x30:word32] = 0x00;
		eax_142 = 0x00;
	}
	return eax_142;
}

// 08094C1B: void popup_menu(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void popup_menu(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x20:word32] != 0x00 && (Mem0[dwArg08 + 0x1C:word32] != 0x00 && Mem0[dwArg08 + 0x30:word32] == 0x00))
	{
		Mem40[0x0817C1E0:word32] = 134831985;
		Mem44[dwArg08 + 0x00:word32] = dwArg04;
		Mem48[dwArg08 + 0x28:word32] = Mem44[dwArg08 + 0x24:word32];
		Mem50[dwArg08 + 44:word32] = 0x00;
		Mem52[dwArg08 + 0x30:word32] = 0x01;
		if (dwArg04 != 0x00)
		{
			Mem97[dwArg08 + 0x04:word32] = Mem52[dwArg04 + 0x04:word32];
			Mem101[dwArg08 + 0x08:word32] = Mem97[dwArg04 + 0x08:word32];
			guess_menu_xy(dwArg04, Mem101[dwArg08 + 0x14:word32], dwArg08 + 0x0C, dwArg08 + 0x10);
		}
		geom_menu(dwArg08, Mem52[dwArg08 + 0x28:word32]);
		Mem67[135782588:word32] = dwArg08;
		while (Mem67[fp - 0x10 + 0x00:word32] != 0x00)
		{
			Mem83[fp - 44 + 0x00:word32] = Mem67[135782588:word32];
			Mem87[fp - 0x10 + 0x00:word32] = action_menu(fp - 0x04, gs, dwArg00);
			word32 eax_89 = Mem87[Mem87[0x08180718:word32] + 0x08:word32];
			Mem90[fp - 0x28 + 0x00:word32] = 0x01;
			Mem91[fp - 44 + 0x00:word32] = eax_89;
			displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0);
		}
		Mem74[Mem67[fp + 0x08:word32] + 0x30:word32] = 0x00;
		Mem76[135782588:word32] = Mem74[fp + 0x04:word32];
		if (Mem76[135782588:word32] == 0x00)
			Mem81[0x0817C1E0:word32] = 0x08057A20;
	}
}

// 08094D5C: void guess_menu_xy(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void guess_menu_xy(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Mem18[dwArg0C + 0x00:word32] = Mem0[dwArg04 + 0x0C:word32] + Mem0[dwArg04 + 0x14:word32] + Mem0[0x0817D3E8:word32] - 0x01;
	if (Mem18[dwArg0C + 0x00:word32] + dwArg08 + Mem18[0x0817D3E8:word32] > Mem18[0x081807A0:word32])
	{
		Mem52[dwArg0C + 0x00:word32] = Mem18[0x081807A0:word32] - dwArg08 - Mem18[0x0817D3E8:word32];
		word32 eax_56 = Mem52[dwArg04 + 0x14:word32];
		if (Mem52[dwArg04 + 0x0C:word32] + ((eax_56 >>u 0x1F) + eax_56 >> 0x01) > Mem52[dwArg0C + 0x00:word32])
		{
			word32 eax_69 = Mem52[dwArg04 + 0x14:word32];
			word32 eax_75 = Mem52[0x081807A0:word32];
			if (Mem52[dwArg04 + 0x0C:word32] + ((eax_69 >>u 0x1F) + eax_69 >> 0x01) > (eax_75 >>u 0x1F) + eax_75 >> 0x01)
				Mem93[dwArg0C + 0x00:word32] = Mem52[dwArg04 + 0x0C:word32] - dwArg08 - Mem52[0x0817D3E8:word32] + 0x01;
		}
	}
	Mem43[dwArg10 + 0x00:word32] = Mem18[dwArg04 + 0x10:word32] + Mem18[dwArg04 + 0x28:word32] - Mem18[dwArg04 + 44:word32];
}

// 08094E38: void new_option_menu(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void new_option_menu(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	if (dwArg08 != 0x00 && Mem0[dwArg08 + 0x00:word32] != 0x00)
	{
		word32 dwLoc10_133 = 0x00;
		word32 dwLoc18_135 = dwArg08;
		while (Mem0[dwLoc18_135 + 0x00:word32] != 0x00)
		{
			dwLoc10_133 = dwLoc10_133 + 0x01;
			dwLoc18_135 = dwLoc18_135 + 0x04;
		}
		word32 esp_54;
		word32 ebp_55;
		byte SCZO_56;
		byte Z_57;
		word32 eax_58;
		byte SZO_59;
		byte C_60;
		byte SO_61;
		word32 edx_62;
		!GC_malloc();
		word32 dwLoc10_118 = 0x00;
		word32 dwLoc18_120 = dwArg08;
		while (dwLoc10_118 < dwLoc10_133)
		{
			if (dwArg10 != 0x00)
				eax_58[dwLoc10_118 * 0x20] = 0x06;
			else
				eax_58[dwLoc10_118 * 0x20] = 0x02;
			Mem92[(dwLoc10_118 << 0x05) + eax_58 + 0x04:word32] = Mem0[dwLoc18_120 + 0x00:word32];
			Mem98[(dwLoc10_118 << 0x05) + eax_58 + 0x08:word32] = dwArg0C;
			Mem103[(dwLoc10_118 << 0x05) + eax_58 + 0x0C:word32] = dwLoc10_118;
			Mem108[(dwLoc10_118 << 0x05) + eax_58 + 0x10:word32] = dwArg10;
			Mem112[(dwLoc10_118 << 0x05) + eax_58 + 0x14:word32] = 0x00;
			Mem116[(dwLoc10_118 << 0x05) + eax_58 + 0x18:word32] = 0x080CE512;
			dwLoc10_118 = dwLoc10_118 + 0x01;
			dwLoc18_120 = dwLoc18_120 + 0x04;
		}
		eax_58[dwLoc10_133 * 0x20] = 0x00;
		new_menu(dwArg04, eax_58);
	}
}

// 08094F62: void set_menu_frame()
void set_menu_frame()
{
	if (graph_ok() != 0x00)
	{
		Mem23[135779308:word32] = 0x01;
		Mem24[0x0817D3E8:word32] = 0x01;
		Mem25[135779300:word32] = 0x080D76A0;
	}
	else
	{
		Mem29[135779308:word32] = 0x00;
		Mem30[0x0817D3E8:word32] = 0x00;
		Mem35[135779300:word32] = get_symbol(Mem30[0x080D5370:word32], 0x0817D3E8);
		if ((byte) (word32) Mem35[0x080DC0AF:byte] == 0x00)
			Mem41[0x0817D3E8:word32] = 0x01;
	}
}

// 08094FD6: void mEsc(Register selector gs, Stack word32 dwArg04)
void mEsc(selector gs, word32 dwArg04)
{
	byte al_13 = do_getch(gs);
	Mem14[fp - 0x10 + 0x00:byte] = al_13;
	word32 edx_16 = 0x080D6BA0[(int32) Mem14[fp - 0x10 + 0x00:byte] * 0x04];
	word32 eax_17 = (int32) Mem14[fp - 0x10 + 0x00:byte];
	Mem18[fp - 44 + 0x00:word32] = eax_17;
	word32 esp_19;
	word32 ebp_20;
	byte SCZO_21;
	word32 eax_22;
	byte al_23;
	word32 edx_24;
	selector gs_25;
	edx_16();
}

// 08095000: void mEscB(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mEscB(word32 ebp, selector gs, word32 dwArg04)
{
	Mem14[fp - 0x10 + 0x00:byte] = do_getch(gs);
	byte al_19 = (byte) (word32) Mem14[(word32) (byte) (word32) Mem14[fp - 0x10 + 0x00:byte] + 0x080DB700:byte];
	if (((word32) al_19 & 0x08) != 0x00)
	{
		Mem38[fp - 44 + 0x00:word32] = (int32) Mem14[fp - 0x10 + 0x00:byte];
		mEscD(gs, dwArg00);
	}
	else
	{
		word32 edx_42 = 0x080D6DA0[(int32) Mem14[fp - 0x10 + 0x00:byte] * 0x04];
		word32 eax_43 = (int32) Mem14[fp - 0x10 + 0x00:byte];
		Mem44[fp - 44 + 0x00:word32] = eax_43;
		word32 esp_45;
		word32 ebp_46;
		byte SCZO_47;
		word32 eax_48;
		byte al_49;
		byte SZO_50;
		byte C_51;
		byte Z_52;
		word32 edx_53;
		selector gs_54;
		edx_42();
	}
}

// 08095050: void mEscD(Register selector gs, Stack word32 dwArg04)
void mEscD(selector gs, word32 dwArg04)
{
	Mem17[fp - 0x20 + 0x00:byte] = do_getch(gs);
	if (((word32) (byte) (word32) Mem17[(word32) (byte) (word32) Mem17[fp - 0x20 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
	{
		Mem71[fp - 0x10 + 0x00:word32] = Mem17[fp - 0x10 + 0x00:word32] * 0x05 * 0x02 + (int32) Mem17[(fp - 0x20) + 0x00:byte] - 0x30;
		Mem73[fp - 0x20 + 0x00:byte] = do_getch(gs);
	}
	if (Mem17[fp - 0x20 + 0x00:byte] == 0x7E)
	{
		word32 edx_47 = 0x080D6FA0[Mem17[fp - 0x10 + 0x00:word32] * 0x04];
		word32 eax_48 = (int32) Mem17[fp - 0x20 + 0x00:byte];
		Mem49[fp - 0x3C + 0x00:word32] = eax_48;
		word32 esp_50;
		word32 ebp_51;
		byte SCZO_52;
		word32 eax_53;
		byte al_54;
		byte SZO_55;
		byte C_56;
		byte Z_57;
		word32 edx_58;
		selector gs_59;
		edx_47();
	}
}

// 080950CB: void mNull(Stack word32 dwArg04)
void mNull(word32 dwArg04)
{
}

// 080950DE: void mSelect(Stack word32 dwArg04)
void mSelect(word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) al_9 + 0x080DB700:byte] & 0x11) != 0x00)
		select_menu(Mem0[135782588:word32], (Mem0[135782588:word32] + 0x04)[((int32) al_9 + 0x8C) * 0x04]);
}

// 0809512F: void mDown(Stack word32 dwArg04)
void mDown(word32 dwArg04)
{
	if (Mem0[Mem0[135782588:word32] + 0x28:word32] < Mem0[Mem0[135782588:word32] + 0x1C:word32] - 0x01)
		goto_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x28:word32] + 0x01, 0x01);
}

// 08095184: void mUp(Stack word32 dwArg04)
void mUp(word32 dwArg04)
{
	if (Mem0[Mem0[135782588:word32] + 0x28:word32] > 0x00)
		goto_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x28:word32] - 0x01, ~0x00);
}

// 080951CE: void mLast(Stack word32 dwArg04)
void mLast(word32 dwArg04)
{
	goto_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x1C:word32] - 0x01, ~0x00);
}

// 08095205: void mTop(Stack word32 dwArg04)
void mTop(word32 dwArg04)
{
	goto_menu(Mem0[135782588:word32], 0x00, 0x01);
}

// 08095235: void mNext(Stack word32 dwArg04)
void mNext(word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	word32 eax_16 = Mem0[Mem0[135782588:word32] + 0x28:word32] + Mem0[Mem0[135782588:word32] + 0x18:word32];
	if (Mem0[Mem0[135782588:word32] + 0x1C:word32] <= eax_16)
		mLast((int32) al_9);
	else
	{
		down_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x18:word32]);
		goto_menu(Mem0[135782588:word32], eax_16, ~0x00);
	}
}

// 080952AE: void mPrev(Stack word32 dwArg04)
void mPrev(word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	word32 ecx_17 = Mem0[Mem0[135782588:word32] + 0x28:word32] - Mem0[Mem0[135782588:word32] + 0x18:word32];
	if (ecx_17 < 0x00)
		mTop((int32) al_9);
	else
	{
		up_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x18:word32]);
		goto_menu(Mem0[135782588:word32], ecx_17, 0x01);
	}
}

// 08095323: void mFore(Stack word32 dwArg04)
void mFore(word32 dwArg04)
{
	if (Mem0[Mem0[135782588:word32] + 0x28:word32] < Mem0[Mem0[135782588:word32] + 0x1C:word32] - 0x01)
		goto_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x28:word32] + Mem0[Mem0[135782588:word32] + 0x18:word32] - 0x01, Mem0[Mem0[135782588:word32] + 0x18:word32] + 0x01);
}

// 0809538A: void mBack(Stack word32 dwArg04)
void mBack(word32 dwArg04)
{
	if (Mem0[Mem0[135782588:word32] + 0x28:word32] > 0x00)
		goto_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x28:word32] - Mem0[Mem0[135782588:word32] + 0x18:word32] + 0x01, ~Mem0[Mem0[135782588:word32] + 0x18:word32]);
}

// 080953EF: void mLineU(Stack word32 dwArg04)
void mLineU(word32 dwArg04)
{
	word32 eax_13 = Mem0[Mem0[135782588:word32] + 0x28:word32];
	byte al_9 = (byte) dwArg04;
	word32 dwLoc10_14 = eax_13;
	if (Mem0[Mem0[135782588:word32] + 0x1C:word32] <= eax_13)
		mLast((int32) al_9);
	else
	{
		if (Mem0[Mem0[135782588:word32] + 44:word32] + Mem0[Mem0[135782588:word32] + 0x18:word32] >= Mem0[Mem0[135782588:word32] + 0x1C:word32])
			dwLoc10_14 = eax_13 + 0x01;
		else
		{
			down_menu(Mem0[135782588:word32], 0x01);
			if (Mem0[Mem0[135782588:word32] + 44:word32] > eax_13)
				dwLoc10_14 = eax_13 + 0x01;
		}
		goto_menu(Mem0[135782588:word32], dwLoc10_14, 0x01);
	}
}

// 0809548E: void mLineD(Stack word32 dwArg04)
void mLineD(word32 dwArg04)
{
	word32 eax_13 = Mem0[Mem0[135782588:word32] + 0x28:word32];
	byte al_9 = (byte) dwArg04;
	word32 dwLoc10_14 = eax_13;
	if (eax_13 <= 0x00)
		mTop((int32) al_9);
	else
	{
		if (Mem0[Mem0[135782588:word32] + 44:word32] <= 0x00)
			dwLoc10_14 = eax_13 - 0x01;
		else
		{
			up_menu(Mem0[135782588:word32], 0x01);
			if (Mem0[Mem0[135782588:word32] + 44:word32] + Mem0[Mem0[135782588:word32] + 0x18:word32] <= eax_13)
				dwLoc10_14 = eax_13 - 0x01;
		}
		goto_menu(Mem0[135782588:word32], dwLoc10_14, ~0x00);
	}
}

// 0809551F: void mOk(Stack word32 dwArg04)
void mOk(word32 dwArg04)
{
}

// 08095559: void mCancel(Stack word32 dwArg04)
void mCancel(word32 dwArg04)
{
}

// 0809556C: void mClose(Stack word32 dwArg04)
void mClose(word32 dwArg04)
{
}

// 0809557F: void mSusp(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mSusp(word32 ebp, selector gs, word32 dwArg04)
{
	susp(fp - 0x04, gs);
	Mem15[fp - 44 + 0x00:word32] = Mem0[135782588:word32];
	draw_all_menu(dwArg00);
	word32 eax_19 = Mem15[135782588:word32];
	Mem20[fp - 0x28 + 0x00:word32] = Mem15[Mem15[135782588:word32] + 0x28:word32];
	Mem21[fp - 44 + 0x00:word32] = eax_19;
	select_menu(dwArg00, dwArg04);
}

// 080955BD: Register word32 menuForwardSearch(Register word32 ebp, Stack word32 dwArg08)
word32 menuForwardSearch(word32 ebp, word32 dwArg08)
{
	word32 eax_23;
	Mem15[fp - 0x14 + 0x00:word32] = regexCompile(dwArg08, Mem0[135091000:word32]);
	if (Mem15[fp - 0x14 + 0x00:word32] != 0x00)
	{
		Mem27[fp - 0x24 + 0x00:word32] = 0x00;
		Mem28[fp - 0x28 + 0x00:word32] = 0x00;
		Mem30[fp - 44 + 0x00:word32] = Mem28[fp - 0x14 + 0x00:word32];
		message(dwArg00, dwArg04, dwArg08);
		eax_23 = ~0x00;
	}
	else
	{
		if (Mem15[fp + 0x0C:word32] < 0x00)
			Mem76[fp + 0x0C:word32] = 0x00;
		Mem40[fp - 0x10 + 0x00:word32] = Mem15[fp + 0x0C:word32];
		while (Mem40[Mem40[fp + 0x04:word32] + 0x1C:word32] > Mem40[(fp - 0x10) + 0x00:word32])
		{
			if (Mem40[Mem40[fp + 0x04:word32] + 0x20:word32][Mem40[fp - 0x10 + 0x00:word32] * 0x20] != 0x01)
			{
				word32 eax_68 = Mem40[Mem40[Mem40[fp + 0x04:word32] + 0x20:word32] + (Mem40[(fp - 0x10) + 0x00:word32] << 0x05) + 0x04:word32];
				Mem69[fp - 0x24 + 0x00:word32] = 0x01;
				Mem70[fp - 0x28 + 0x00:word32] = ~0x00;
				Mem71[fp - 44 + 0x00:word32] = eax_68;
				if (regexMatch(dwArg00, dwArg04, dwArg08) == 0x01)
				{
					eax_23 = Mem71[fp - 0x10 + 0x00:word32];
					return eax_23;
				}
			}
			Mem60[fp - 0x10 + 0x00:word32] = Mem40[fp - 0x10 + 0x00:word32] + 0x01;
		}
		eax_23 = ~0x00;
	}
	return eax_23;
}

// 08095675: Register word32 menu_search_forward(Register word32 ebp, Register selector gs)
word32 menu_search_forward(word32 ebp, selector gs)
{
	Mem17[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080CE5EE, 0x00, 0x10, Mem0[0x08180530:word32]);
	if (Mem17[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem17[Mem17[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
		Mem103[fp - 0x10 + 0x00:word32] = Mem17[0x0817E0C0:word32];
	word32 eax_34;
	if (Mem17[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem17[Mem17[(fp - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem52[0x0817E0C0:word32] = Mem17[fp - 0x10 + 0x00:word32];
		Mem54[fp - 0x38 + 0x00:word32] = Mem52[0x080D5370:word32];
		Mem56[fp - 0x3C + 0x00:word32] = Mem54[fp - 0x10 + 0x00:word32];
		Mem60[fp - 0x10 + 0x00:word32] = conv_search_string(gs, dwArg00, dwArg04);
		Mem61[0x0818073C:word32] = 0x080955BD;
		Mem65[fp - 0x34 + 0x00:word32] = Mem61[fp + 0x08:word32] + 0x01;
		Mem67[fp - 0x38 + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32];
		Mem69[fp - 0x3C + 0x00:word32] = Mem67[fp + 0x04:word32];
		Mem71[fp - 0x14 + 0x00:word32] = menuForwardSearch(fp - 0x04, dwArg04);
		if (Mem71[135774996:word32] != 0x00 && Mem71[(fp - 0x14) + 0x00:word32] == ~0x00)
		{
			Mem89[fp - 0x34 + 0x00:word32] = 0x00;
			Mem91[fp - 0x38 + 0x00:word32] = Mem89[fp - 0x10 + 0x00:word32];
			Mem93[fp - 0x3C + 0x00:word32] = Mem91[fp + 0x04:word32];
			Mem95[fp - 0x14 + 0x00:word32] = menuForwardSearch(fp - 0x04, dwArg04);
		}
		if (Mem71[fp - 0x14 + 0x00:word32] >= 0x00)
			eax_34 = Mem71[fp - 0x14 + 0x00:word32];
		else
		{
			Mem82[fp - 0x38 + 0x00:word32] = 0x01;
			Mem83[fp - 0x3C + 0x00:word32] = 0x080CE5F8;
			disp_message(gs, dwArg00, dwArg04);
			eax_34 = ~0x00;
		}
	}
	else
		eax_34 = ~0x00;
	return eax_34;
}

// 08095777: void mSrchF(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mSrchF(word32 ebp, selector gs, word32 dwArg04)
{
	Mem20[fp - 0x10 + 0x00:word32] = menu_search_forward(fp - 0x04, gs);
	if (Mem20[fp - 0x10 + 0x00:word32] >= 0x00)
	{
		word32 eax_28 = Mem20[135782588:word32];
		Mem29[fp - 0x34 + 0x00:word32] = 0x01;
		Mem31[fp - 0x38 + 0x00:word32] = Mem29[fp - 0x10 + 0x00:word32];
		Mem32[fp - 0x3C + 0x00:word32] = eax_28;
		goto_menu(dwArg00, dwArg04, dwArg08);
	}
}

// 080957C8: Register word32 menuBackwardSearch(Register word32 ebp, Stack word32 dwArg08)
word32 menuBackwardSearch(word32 ebp, word32 dwArg08)
{
	word32 eax_23;
	Mem15[fp - 0x14 + 0x00:word32] = regexCompile(dwArg08, Mem0[135091000:word32]);
	if (Mem15[fp - 0x14 + 0x00:word32] != 0x00)
	{
		Mem27[fp - 0x24 + 0x00:word32] = 0x00;
		Mem28[fp - 0x28 + 0x00:word32] = 0x00;
		Mem30[fp - 44 + 0x00:word32] = Mem28[fp - 0x14 + 0x00:word32];
		message(dwArg00, dwArg04, dwArg08);
		eax_23 = ~0x00;
	}
	else
	{
		if (Mem15[Mem15[fp + 0x04:word32] + 0x1C:word32] <= Mem15[fp + 0x0C:word32])
			Mem82[fp + 0x0C:word32] = Mem15[Mem15[fp + 0x04:word32] + 0x1C:word32] - 0x01;
		Mem43[fp - 0x10 + 0x00:word32] = Mem15[fp + 0x0C:word32];
		while (Mem43[fp - 0x10 + 0x00:word32] >= 0x00)
		{
			if (Mem43[Mem43[fp + 0x04:word32] + 0x20:word32][Mem43[fp - 0x10 + 0x00:word32] * 0x20] != 0x01)
			{
				word32 eax_70 = Mem43[Mem43[Mem43[fp + 0x04:word32] + 0x20:word32] + (Mem43[(fp - 0x10) + 0x00:word32] << 0x05) + 0x04:word32];
				Mem71[fp - 0x24 + 0x00:word32] = 0x01;
				Mem72[fp - 0x28 + 0x00:word32] = ~0x00;
				Mem73[fp - 44 + 0x00:word32] = eax_70;
				if (regexMatch(dwArg00, dwArg04, dwArg08) == 0x01)
				{
					eax_23 = Mem73[fp - 0x10 + 0x00:word32];
					return eax_23;
				}
			}
			Mem62[fp - 0x10 + 0x00:word32] = Mem43[fp - 0x10 + 0x00:word32] - 0x01;
		}
		eax_23 = ~0x00;
	}
	return eax_23;
}

// 08095885: Register word32 menu_search_backward(Register word32 ebp, Register selector gs)
word32 menu_search_backward(word32 ebp, selector gs)
{
	Mem17[fp - 0x10 + 0x00:word32] = inputLineHistSearch(fp - 0x04, gs, 0x080CE602, 0x00, 0x10, Mem0[0x08180530:word32]);
	if (Mem17[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem17[Mem17[(fp - 0x10) + 0x00:word32] + 0x00:byte]) == 0x00)
		Mem105[fp - 0x10 + 0x00:word32] = Mem17[0x0817E0C0:word32];
	word32 eax_34;
	if (Mem17[fp - 0x10 + 0x00:word32] != 0x00 && (byte) ((word32) Mem17[Mem17[(fp - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
	{
		Mem52[0x0817E0C0:word32] = Mem17[fp - 0x10 + 0x00:word32];
		Mem54[fp - 0x38 + 0x00:word32] = Mem52[0x080D5370:word32];
		Mem56[fp - 0x3C + 0x00:word32] = Mem54[fp - 0x10 + 0x00:word32];
		Mem60[fp - 0x10 + 0x00:word32] = conv_search_string(gs, dwArg00, dwArg04);
		Mem61[0x0818073C:word32] = 0x080957C8;
		Mem65[fp - 0x34 + 0x00:word32] = Mem61[fp + 0x08:word32] - 0x01;
		Mem67[fp - 0x38 + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32];
		Mem69[fp - 0x3C + 0x00:word32] = Mem67[fp + 0x04:word32];
		Mem71[fp - 0x14 + 0x00:word32] = menuBackwardSearch(fp - 0x04, dwArg04);
		if (Mem71[135774996:word32] != 0x00 && Mem71[(fp - 0x14) + 0x00:word32] == ~0x00)
		{
			Mem91[fp - 0x34 + 0x00:word32] = Mem71[Mem71[fp + 0x04:word32] + 0x1C:word32];
			Mem93[fp - 0x38 + 0x00:word32] = Mem91[fp - 0x10 + 0x00:word32];
			Mem95[fp - 0x3C + 0x00:word32] = Mem93[fp + 0x04:word32];
			Mem97[fp - 0x14 + 0x00:word32] = menuBackwardSearch(fp - 0x04, dwArg04);
		}
		if (Mem71[fp - 0x14 + 0x00:word32] >= 0x00)
			eax_34 = Mem71[fp - 0x14 + 0x00:word32];
		else
		{
			Mem82[fp - 0x38 + 0x00:word32] = 0x01;
			Mem83[fp - 0x3C + 0x00:word32] = 0x080CE5F8;
			disp_message(gs, dwArg00, dwArg04);
			eax_34 = ~0x00;
		}
	}
	else
		eax_34 = ~0x00;
	return eax_34;
}

// 08095989: void mSrchB(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mSrchB(word32 ebp, selector gs, word32 dwArg04)
{
	Mem20[fp - 0x10 + 0x00:word32] = menu_search_backward(fp - 0x04, gs);
	if (Mem20[fp - 0x10 + 0x00:word32] >= 0x00)
	{
		word32 eax_28 = Mem20[135782588:word32];
		Mem29[fp - 0x34 + 0x00:word32] = ~0x00;
		Mem31[fp - 0x38 + 0x00:word32] = Mem29[fp - 0x10 + 0x00:word32];
		Mem32[fp - 0x3C + 0x00:word32] = eax_28;
		goto_menu(dwArg00, dwArg04, dwArg08);
	}
}

// 080959DA: Register word32 menu_search_next_previous(Register word32 ebp, Register selector gs)
word32 menu_search_next_previous(word32 ebp, selector gs)
{
	word32 eax_22;
	if (Mem0[0x0818073C:word32] == 0x00)
	{
		disp_message(gs, 135063056, 0x01);
		eax_22 = ~0x00;
	}
	else
	{
		Mem41[fp - 0x14 + 0x00:word32] = conv_search_string(gs, Mem0[0x0817E0C0:word32], Mem0[0x080D5370:word32]);
		if (Mem41[fp + 0x0C:word32] != 0x00)
			Mem128[fp + 0x0C:word32] = 0x01;
		if (Mem41[0x0818073C:word32] == 0x080957C8)
			Mem125[fp + 0x0C:word32] = Mem41[fp + 0x0C:word32] ^ 0x01;
		word32 eax_122;
		if (Mem41[fp + 0x0C:word32] != 0x00)
			eax_122 = ~0x00;
		else
			eax_122 = 0x01;
		Mem53[fp + 0x08:word32] = Mem41[fp + 0x08:word32] + eax_122;
		word32 edx_56 = 0x080D74B0[Mem53[fp + 0x0C:word32] * 0x04];
		Mem58[fp - 0x24 + 0x00:word32] = Mem53[fp + 0x08:word32];
		Mem60[fp - 0x28 + 0x00:word32] = Mem58[fp - 0x14 + 0x00:word32];
		word32 eax_61 = Mem60[fp + 0x04:word32];
		Mem62[fp - 44 + 0x00:word32] = eax_61;
		byte SCZO_65;
		word32 eax_66;
		byte SZO_67;
		byte C_68;
		byte Z_69;
		word32 edx_70;
		bcuiposr0 None_71;
		byte S_72;
		selector gs_120;
		word32 ebp_111;
		word32 esp_110;
		edx_56();
		Mem74[ebp_111 - 0x0C + 0x00:word32] = eax_66;
		if (Mem74[135774996:word32] != 0x00 && Mem74[(ebp_111 - 0x0C) + 0x00:word32] == ~0x00)
		{
			word32 edx_100 = 0x080D74B0[Mem74[ebp_111 + 0x10:word32] * 0x04];
			Mem105[esp_110 + 0x08:word32] = Mem74[Mem74[ebp_111 + 0x08:word32] + 0x1C:word32] *s Mem74[ebp_111 + 0x10:word32];
			Mem107[esp_110 + 0x04:word32] = Mem105[ebp_111 - 0x10 + 0x00:word32];
			word32 eax_108 = Mem107[ebp_111 + 0x08:word32];
			Mem109[esp_110 + 0x00:word32] = eax_108;
			byte SCZO_112;
			word32 eax_113;
			byte SZO_114;
			byte C_115;
			byte Z_116;
			word32 edx_117;
			bcuiposr0 None_118;
			byte S_119;
			edx_100();
			Mem121[ebp_111 - 0x0C + 0x00:word32] = eax_113;
		}
		if (Mem74[ebp_111 - 0x0C + 0x00:word32] >= 0x00)
			eax_22 = Mem74[ebp_111 - 0x0C + 0x00:word32];
		else
		{
			Mem91[esp_110 + 0x04:word32] = 0x01;
			Mem92[esp_110 + 0x00:word32] = 0x080CE5F8;
			disp_message(gs_120, dwArg00, dwArg04);
			eax_22 = ~0x00;
		}
	}
	return eax_22;
}

// 08095AD5: void mSrchN(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mSrchN(word32 ebp, selector gs, word32 dwArg04)
{
	Mem21[fp - 0x10 + 0x00:word32] = menu_search_next_previous(fp - 0x04, gs);
	if (Mem21[fp - 0x10 + 0x00:word32] >= 0x00)
	{
		word32 eax_29 = Mem21[135782588:word32];
		Mem30[fp - 0x34 + 0x00:word32] = 0x01;
		Mem32[fp - 0x38 + 0x00:word32] = Mem30[fp - 0x10 + 0x00:word32];
		Mem33[fp - 0x3C + 0x00:word32] = eax_29;
		goto_menu(dwArg00, dwArg04, dwArg08);
	}
}

// 08095B2E: void mSrchP(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mSrchP(word32 ebp, selector gs, word32 dwArg04)
{
	Mem21[fp - 0x10 + 0x00:word32] = menu_search_next_previous(fp - 0x04, gs);
	if (Mem21[fp - 0x10 + 0x00:word32] >= 0x00)
	{
		word32 eax_29 = Mem21[135782588:word32];
		Mem30[fp - 0x34 + 0x00:word32] = ~0x00;
		Mem32[fp - 0x38 + 0x00:word32] = Mem30[fp - 0x10 + 0x00:word32];
		Mem33[fp - 0x3C + 0x00:word32] = eax_29;
		goto_menu(dwArg00, dwArg04, dwArg08);
	}
}

// 08095B87: Register word32 mMouse_scroll_line()
word32 mMouse_scroll_line()
{
	word32 dwLoc08_15;
	if (Mem0[135775076:word32] != 0x00)
		dwLoc08_15 = 42949672 - (Mem0[0x080D538C:word32] *s Mem0[Mem0[135782588:word32] + 0x18:word32] + 99 >> 0x1F);
	else
		dwLoc08_15 = Mem0[0x080D5388:word32];
	word32 eax_20;
	if (dwLoc08_15 != 0x00)
		eax_20 = dwLoc08_15;
	else
		eax_20 = 0x01;
	return eax_20;
}

// 08095BE6: Register word32 process_mMouse(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 process_mMouse(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_128;
	word32 eax_9 = Mem0[135782588:word32];
	if (dwArg08 < 0x00 || (dwArg08 >= Mem0[0x081807A0:word32] || (dwArg0C < 0x00 || Mem0[0x08180780:word32] - 0x01 < dwArg0C)))
	{
		eax_128 = ~0x00;
		return eax_128;
	}
	if (dwArg04 == 0x03)
	{
		word32 eax_78 = Mem0[0x080D74AC:word32];
		if (eax_78 == 0x02)
		{
l08095C5E:
			if (Mem0[eax_9 + 0x0C:word32] - Mem0[0x0817D3E8:word32] <= dwArg08 && ((Mem0[eax_9 + 0x0C:word32] + Mem0[eax_9 + 0x14:word32]) + Mem0[0x0817D3E8:word32] > dwArg08 && (Mem0[eax_9 + 0x10:word32] - 0x01 <= dwArg0C && (Mem0[eax_9 + 0x10:word32] + Mem0[eax_9 + 0x18:word32]) + 0x01 > dwArg0C)))
			{
				if (Mem0[eax_9 + 0x0C:word32] - Mem0[0x0817D3E8:word32] <= dwArg08 && Mem0[eax_9 + 0x0C:word32] > dwArg08 || Mem0[eax_9 + 0x0C:word32] + Mem0[eax_9 + 0x14:word32] <= dwArg08 && (Mem0[eax_9 + 0x0C:word32] + Mem0[eax_9 + 0x14:word32]) + Mem0[0x0817D3E8:word32] > dwArg08)
					eax_128 = ~0x00;
				else if (Mem0[0x0817E0C4:word32] > dwArg0C)
				{
					while (Mem0[0x0817E0C4:word32] - Mem0[fp + 0x0C:word32] > Mem0[(fp - 0x1C) + 0x00:word32])
					{
						Mem147[fp - 44 + 0x00:word32] = (int32) Mem0[fp - 0x0D + 0x00:byte];
						mLineU(dwArg00);
						Mem150[fp - 0x1C + 0x00:word32] = Mem147[fp - 0x1C + 0x00:word32] + 0x01;
					}
					eax_128 = ~0x00;
				}
				else if (Mem0[0x0817E0C4:word32] < dwArg0C)
				{
					while (Mem0[fp + 0x0C:word32] - Mem0[0x0817E0C4:word32] > Mem0[(fp - 0x1C) + 0x00:word32])
					{
						Mem165[fp - 44 + 0x00:word32] = (int32) Mem0[fp - 0x0D + 0x00:byte];
						mLineD(dwArg00);
						Mem167[fp - 0x1C + 0x00:word32] = Mem165[fp - 0x1C + 0x00:word32] + 0x01;
					}
					eax_128 = ~0x00;
				}
				else if (Mem0[eax_9 + 0x10:word32] - 0x01 == dwArg0C)
				{
					mPrev(0x0020);
					eax_128 = ~0x00;
				}
				else if (Mem0[eax_9 + 0x10:word32] + Mem0[eax_9 + 0x18:word32] == dwArg0C)
				{
					mNext(0x0020);
					eax_128 = ~0x00;
				}
				else
				{
					word32 eax_193 = dwArg0C - Mem0[eax_9 + 0x10:word32] + Mem0[eax_9 + 44:word32];
					if (Mem0[eax_9 + 0x20:word32][eax_193 * 0x20] == 0x01)
						eax_128 = ~0x00;
					else
						eax_128 = select_menu(eax_9, eax_193);
				}
			}
			else
				eax_128 = ~0x01;
			return eax_128;
		}
		if (eax_78 <= 0x02)
		{
			if (eax_78 != 0x00)
				goto l08095ECB;
			goto l08095C5E;
		}
		if (eax_78 != 0x03)
		{
			if (eax_78 == 0x04)
			{
				while (mMouse_scroll_line() > Mem0[(fp - 0x1C) + 0x00:word32])
				{
					Mem236[fp - 44 + 0x00:word32] = (int32) Mem0[fp - 0x0D + 0x00:byte];
					mLineU(dwArg00);
					Mem238[fp - 0x1C + 0x00:word32] = Mem236[fp - 0x1C + 0x00:word32] + 0x01;
				}
			}
		}
		else
		{
			while (mMouse_scroll_line() > Mem0[(fp - 0x1C) + 0x00:word32])
			{
				Mem245[fp - 44 + 0x00:word32] = (int32) Mem0[fp - 0x0D + 0x00:byte];
				mLineD(dwArg00);
				Mem247[fp - 0x1C + 0x00:word32] = Mem245[fp - 0x1C + 0x00:word32] + 0x01;
			}
		}
	}
	else if (dwArg04 == 0x40)
	{
		while (mMouse_scroll_line() > Mem0[(fp - 0x1C) + 0x00:word32])
		{
			Mem256[fp - 44 + 0x00:word32] = (int32) Mem0[fp - 0x0D + 0x00:byte];
			mLineD(dwArg00);
			Mem258[fp - 0x1C + 0x00:word32] = Mem256[fp - 0x1C + 0x00:word32] + 0x01;
		}
	}
	else if (dwArg04 == 0x41)
	{
		while (mMouse_scroll_line() > Mem0[(fp - 0x1C) + 0x00:word32])
		{
			Mem267[fp - 44 + 0x00:word32] = (int32) Mem0[fp - 0x0D + 0x00:byte];
			mLineU(dwArg00);
			Mem269[fp - 0x1C + 0x00:word32] = Mem267[fp - 0x1C + 0x00:word32] + 0x01;
		}
	}
l08095ECB:
	if (Mem0[fp + 0x04:word32] == 0x03 && Mem0[0x080D74AC:word32] != ~0x00)
		Mem77[0x080D74AC:word32] = ~0x00;
	else
	{
		Mem69[0x080D74AC:word32] = Mem0[fp + 0x04:word32];
		Mem71[0x0817E0C8:word32] = Mem69[fp + 0x08:word32];
		Mem73[0x0817E0C4:word32] = Mem71[fp + 0x0C:word32];
	}
	eax_128 = ~0x00;
	return eax_128;
}

// 08095F06: void mMouse(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void mMouse(word32 ebp, selector gs, word32 dwArg04)
{
	Mem17[fp - 0x10 + 0x00:word32] = (word32) do_getch(gs) - 0x20;
	Mem21[fp - 0x14 + 0x00:word32] = (word32) do_getch(gs) - 33;
	if (Mem21[fp - 0x14 + 0x00:word32] < 0x00)
		Mem47[fp - 0x14 + 0x00:word32] = Mem21[fp - 0x14 + 0x00:word32] + 0x0100;
	Mem27[fp - 0x18 + 0x00:word32] = (word32) do_getch(gs) - 33;
	if (Mem27[fp - 0x18 + 0x00:word32] < 0x00)
		Mem44[fp - 0x18 + 0x00:word32] = Mem27[fp - 0x18 + 0x00:word32] + 0x0100;
	Mem32[fp - 0x34 + 0x00:word32] = Mem27[fp - 0x18 + 0x00:word32];
	Mem34[fp - 0x38 + 0x00:word32] = Mem32[fp - 0x14 + 0x00:word32];
	Mem36[fp - 0x3C + 0x00:word32] = Mem34[fp - 0x10 + 0x00:word32];
	process_mMouse(fp - 0x04, dwArg00, dwArg04, dwArg08);
}

// 08095F71: void gpm_process_menu_mouse(Stack word32 dwArg04)
void gpm_process_menu_mouse(word32 dwArg04)
{
	word32 dwLoc10_10 = ~0x00;
	if ((Mem0[dwArg04 + 0x0C:word32] & 0x08) != 0x00)
		dwLoc10_10 = 0x03;
	else
	{
		if ((Mem0[dwArg04 + 0x0C:word32] & 0x04) == 0x00)
		{
			Mem95[135774721:byte] = 0x02;
			word32 edx_96 = Mem95[0x0817C20C:word32];
			word32 eax_97 = Mem95[0x0817C20C:word32];
			word16 cx_104 = (word16) ((word32) Mem95[dwArg04 + 0x08:word16] + Mem95[0x0817C1E8:word32]);
			Mem105[eax_97 + 0x04:word16] = cx_104;
			Mem108[edx_96 + 0x00:word16] = (word16) (word32) Mem105[eax_97 + 0x04:word16];
			word32 edx_117 = (word32) Mem108[dwArg04 + 0x0A:word16] + Mem108[0x0817C1E8:word32];
			word32 eax_109 = Mem108[0x0817C20C:word32];
			word32 eax_111 = Mem108[0x0817C20C:word32];
			word16 dx_118 = (word16) edx_117;
			Mem119[eax_111 + 0x06:word16] = dx_118;
			word16 ax_121 = (word16) (word32) Mem119[eax_111 + 0x06:word16];
			Mem122[eax_109 + 0x02:word16] = ax_121;
			Mem126[Mem122[0x0817C20C:word32] + 0x08:word16] = 0x03;
			word32 esp_133;
			word32 ebp_134;
			word32 ebx_135;
			byte SCZO_136;
			word32 eax_137;
			byte SZO_138;
			byte C_139;
			byte Z_140;
			byte al_141;
			word16 ax_142;
			word32 edx_143;
			word32 ecx_144;
			word16 cx_145;
			word16 dx_146;
			!ioctl();
			return;
		}
		word32 eax_83 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (eax_83 != 0x02)
		{
			if (eax_83 != 0x04)
			{
				if (eax_83 == 0x01)
					dwLoc10_10 = 0x02;
			}
			else
				dwLoc10_10 = 0x00;
		}
		else
			dwLoc10_10 = 0x01;
	}
	Mem67[0x0817D3E0:word32] = process_mMouse(fp - 0x04, dwLoc10_10, (int32) (word16) (word32) Mem0[dwArg04 + 0x08:word16] - 0x01, (int32) (word16) (word32) Mem0[dwArg04 + 0x0A:word16] - 0x01);
}

// 080960B8: void popupMenu(Register word32 ebp, Register selector gs)
void popupMenu(word32 ebp, selector gs)
{
	set_menu_frame();
	initSelectMenu(fp - 0x04);
	initSelTabMenu(fp - 0x04);
	Mem21[Mem0[fp + 0x0C:word32] + 0x04:word32] = (int32) (word16) (word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem0[Mem0[Mem0[0x08180718:word32] + 0x08:word32] + 0x54:word16]));
	Mem34[Mem21[fp + 0x0C:word32] + 0x08:word32] = (int32) (word16) (word32) Mem21[Mem21[Mem21[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem21[Mem21[Mem21[0x08180718:word32] + 0x08:word32] + 0x56:word16]));
	Mem40[Mem34[fp + 0x0C:word32] + 0x0C:word32] = Mem34[0x0817D3E8:word32] + Mem34[fp + 0x04:word32] + 0x01;
	Mem44[Mem40[fp + 0x0C:word32] + 0x10:word32] = Mem40[fp + 0x08:word32] + 0x02;
	Mem46[fp - 0x18 + 0x00:word32] = Mem44[fp + 0x0C:word32];
	Mem47[fp - 0x1C + 0x00:word32] = 0x00;
	popup_menu(fp - 0x04, gs, dwArg00, dwArg04);
}

// 08096147: void mainMenu(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void mainMenu(selector gs, word32 dwArg04, word32 dwArg08)
{
	popupMenu(fp - 0x04, gs);
}

// 08096169: void mainMn(Register selector gs)
void mainMn(selector gs)
{
	word32 eax_34 = searchKeyData();
	if (eax_34 == 0x00 || getMenuN(Mem0[0x0817E0B8:word32], eax_34) >= 0x00)
		popupMenu(fp - 0x04, gs);
}

// 08096237: void selMn(Register selector gs)
void selMn(selector gs)
{
	popupMenu(fp - 0x04, gs);
}

// 080962B6: void initSelectMenu(Register word32 ebp)
void initSelectMenu(word32 ebp)
{
	Mem16[0x0817D834:word32] = ~0x00;
	word32 dwLoc10_17 = 0x00;
	word32 dwLoc20_20 = Mem16[Mem16[0x08180718:word32] + 0x0C:word32];
	while (dwLoc20_20 != 0x00)
	{
		if (Mem16[Mem16[0x08180718:word32] + 0x08:word32] == dwLoc20_20)
			Mem403[0x0817D834:word32] = dwLoc10_17;
		dwLoc10_17 = dwLoc10_17 + 0x01;
		dwLoc20_20 = Mem16[dwLoc20_20 + 0x18:word32];
	}
	word32 esp_33;
	word32 ebp_34;
	word32 esi_35;
	word32 ebx_36;
	byte SCZO_37;
	word32 eax_38;
	byte Z_39;
	byte SO_40;
	byte SZO_41;
	word32 edx_42;
	byte C_43;
	word32 ecx_44;
	word16 ax_45;
	byte bpl_46;
	!GC_malloc();
	while (Mem16[ebp_34 - 0x0C + 0x00:word32] < Mem16[(ebp_34 - 0x10) + 0x00:word32])
	{
		Mem255[esp_33 + 0x04:word32] = Mem16[Mem16[ebp_34 - 0x1C + 0x00:word32] + 0x04:word32];
		Mem256[esp_33 + 0x00:word32] = 0x080CE62F;
		byte bpl_257;
		Mem259[ebp_34 - 0x20 + 0x00:word32] = Sprintf(dwArg00, out bpl_257);
		if (Mem259[Mem259[ebp_34 - 0x1C + 0x00:word32] + 0x00:word32] != 0x00)
		{
			word32 eax_293 = Mem259[Mem259[ebp_34 - 0x1C + 0x00:word32] + 0x84:word32];
			if (eax_293 != 0x04)
			{
				if (eax_293 != 0xFE)
				{
					if (Mem259[Mem259[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem259[Mem259[(ebp_34 - 0x20) + 0x00:word32] + 0x08:word32])
					{
						Mem344[esp_33 + 0x00:word32] = Mem259[ebp_34 - 0x20 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_309 = Mem259[Mem259[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32];
					Mem312[Mem259[Mem259[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + eax_309:byte] = 0x20;
					Mem315[Mem312[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] = eax_309 + 0x01;
					Mem321[Mem315[Mem315[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + Mem315[Mem315[(ebp_34 - 0x20) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					Mem325[esp_33 + 0x00:word32] = Mem321[ebp_34 - 0x1C + 0x00:word32] + 0x84;
					byte bpl_326;
					Mem329[ebp_34 - 0x28 + 0x00:word32] = Mem325[parsedURL2Str(dwArg00, out bpl_326) + 0x00:word32];
					if (Mem329[135774932:word32] != 0x00)
					{
						Mem338[esp_33 + 0x04:word32] = 0x00;
						Mem340[esp_33 + 0x00:word32] = Mem338[ebp_34 - 0x28 + 0x00:word32];
						Mem342[ebp_34 - 0x28 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
					}
					Mem335[esp_33 + 0x04:word32] = Mem329[ebp_34 - 0x28 + 0x00:word32];
					Mem337[esp_33 + 0x00:word32] = Mem335[ebp_34 - 0x20 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
			else
			{
				word32 eax_346 = Mem259[Mem259[ebp_34 - 0x1C + 0x00:word32] + 0x98:word32];
				Mem347[esp_33 + 0x04:word32] = 0x080CE634;
				Mem348[esp_33 + 0x00:word32] = eax_346;
				if (strcmp(Mem348[esp_33 + 0x00:(ptr char)], Mem348[esp_33 + 0x04:(ptr char)]) != 0x00)
				{
					if (Mem348[Mem348[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem348[Mem348[(ebp_34 - 0x20) + 0x00:word32] + 0x08:word32])
					{
						Mem391[esp_33 + 0x00:word32] = Mem348[ebp_34 - 0x20 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_363 = Mem348[Mem348[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32];
					Mem366[Mem348[Mem348[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + eax_363:byte] = 0x20;
					Mem369[Mem366[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] = eax_363 + 0x01;
					Mem375[Mem369[Mem369[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + Mem369[Mem369[(ebp_34 - 0x20) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					word32 esi_376 = Mem375[135091052:word32];
					word32 ebx_377 = Mem375[0x080D5378:word32];
					word32 eax_379 = Mem375[Mem375[ebp_34 - 0x1C + 0x00:word32] + 0x9C:word32];
					Mem380[esp_33 + 0x00:word32] = eax_379;
					Strnew_charp(eax_379, dwArg00);
					Mem381[esp_33 + 0x08:word32] = esi_376;
					Mem382[esp_33 + 0x04:word32] = ebx_377;
					Mem383[esp_33 + 0x00:word32] = eax_379;
					word32 ebx_384;
					Mem387[esp_33 + 0x04:word32] = Mem383[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_384) + 0x00:word32];
					Mem389[esp_33 + 0x00:word32] = Mem387[ebp_34 - 0x20 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
		}
		Mem259[ebp_34 - 0x24 + 0x00:word32][Mem259[ebp_34 - 0x0C + 0x00:word32] * 0x04] = Mem259[Mem259[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32];
		if (Mem278[Mem278[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] > Mem278[(ebp_34 - 0x14) + 0x00:word32])
			Mem291[ebp_34 - 0x14 + 0x00:word32] = Mem278[Mem278[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32];
		Mem284[ebp_34 - 0x0C + 0x00:word32] = Mem278[ebp_34 - 0x0C + 0x00:word32] + 0x01;
		Mem288[ebp_34 - 0x1C + 0x00:word32] = Mem284[Mem284[ebp_34 - 0x1C + 0x00:word32] + 0x18:word32];
	}
	Mem65[esp_33 + 0x00:word32] = Mem16[0x080D74A8:word32];
	Mem68[ebp_34 - 0x18 + 0x00:word32] = wtf_strwidth(dwArg00);
	if (Mem68[ebp_34 - 0x18 + 0x00:word32] + 0x04 > Mem68[(ebp_34 - 0x14) + 0x00:word32])
		Mem252[ebp_34 - 0x14 + 0x00:word32] = Mem68[ebp_34 - 0x18 + 0x00:word32] + 0x04;
	if ((0x00 - Mem68[0x0817D3E8:word32]) * 0x02 + Mem68[0x081807A0:word32] < Mem68[(ebp_34 - 0x14) + 0x00:word32])
		Mem248[ebp_34 - 0x14 + 0x00:word32] = (0x00 - Mem68[0x0817D3E8:word32]) * 0x02 + Mem68[0x081807A0:word32];
	word32 eax_235;
	if (Mem68[ebp_34 - 0x14 + 0x00:word32] > 0x01)
	{
		word32 ecx_229 = Mem68[ebp_34 - 0x14 + 0x00:word32] - Mem68[(ebp_34 - 0x18) + 0x00:word32];
		eax_235 = (ecx_229 + 0x01 >>u 0x1F) + (ecx_229 + 0x01) >> 0x01;
	}
	else
		eax_235 = 0x00;
	Mem91[ebp_34 - 0x14 + 0x00:word32] = eax_235;
	Strnew(eax_235);
	Mem92[ebp_34 - 0x20 + 0x00:word32] = eax_235;
	Mem93[ebp_34 - 0x0C + 0x00:word32] = 0x00;
	while (Mem93[ebp_34 - 0x0C + 0x00:word32] < Mem93[(ebp_34 - 0x14) + 0x00:word32])
	{
		if (Mem93[Mem93[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem93[Mem93[(ebp_34 - 0x20) + 0x00:word32] + 0x08:word32])
		{
			Mem225[esp_33 + 0x00:word32] = Mem93[ebp_34 - 0x20 + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_208 = Mem93[Mem93[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32];
		Mem211[Mem93[Mem93[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + eax_208:byte] = 0x2D;
		Mem214[Mem211[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] = eax_208 + 0x01;
		Mem220[Mem214[Mem214[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + Mem214[Mem214[(ebp_34 - 0x20) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem222[ebp_34 - 0x0C + 0x00:word32] = Mem220[ebp_34 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem100[esp_33 + 0x04:word32] = Mem93[0x080D74A8:word32];
	Mem102[esp_33 + 0x00:word32] = Mem100[ebp_34 - 0x20 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem104[ebp_34 - 0x0C + 0x00:word32] = 0x00;
	while (Mem104[ebp_34 - 0x0C + 0x00:word32] < Mem104[(ebp_34 - 0x14) + 0x00:word32])
	{
		if (Mem104[Mem104[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem104[Mem104[(ebp_34 - 0x20) + 0x00:word32] + 0x08:word32])
		{
			Mem197[esp_33 + 0x00:word32] = Mem104[ebp_34 - 0x20 + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_180 = Mem104[Mem104[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32];
		Mem183[Mem104[Mem104[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + eax_180:byte] = 0x2D;
		Mem186[Mem183[ebp_34 - 0x20 + 0x00:word32] + 0x04:word32] = eax_180 + 0x01;
		Mem192[Mem186[Mem186[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32] + Mem186[Mem186[(ebp_34 - 0x20) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem194[ebp_34 - 0x0C + 0x00:word32] = Mem192[ebp_34 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem104[ebp_34 - 0x24 + 0x00:word32][Mem104[ebp_34 - 0x10 + 0x00:word32] * 0x04] = Mem104[Mem104[ebp_34 - 0x20 + 0x00:word32] + 0x00:word32];
	Mem115[ebp_34 - 0x24 + 0x00:word32][(Mem115[ebp_34 - 0x10 + 0x00:word32] + 0x01) * 0x04] = 0x00;
	Mem123[esp_33 + 0x0C:word32] = 134833954;
	Mem124[esp_33 + 0x08:word32] = 0x0817D834;
	Mem126[esp_33 + 0x04:word32] = Mem124[ebp_34 - 0x24 + 0x00:word32];
	Mem127[esp_33 + 0x00:word32] = 0x0817D400;
	new_option_menu(dwArg00, dwArg04, dwArg08, dwArg0C);
	Mem131[0x0817D424:word32] = Mem127[0x0817D834:word32];
	Mem143[0x0817D404:word32] = (int32) (word16) (word32) Mem131[Mem131[Mem131[0x08180718:word32] + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem131[Mem131[Mem131[0x08180718:word32] + 0x08:word32] + 0x54:word16]));
	Mem155[0x0817D408:word32] = (int32) (word16) (word32) Mem143[Mem143[Mem143[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem143[Mem143[Mem143[0x08180718:word32] + 0x08:word32] + 0x56:word16]));
	Mem156[135779652:word32] = 134834129;
	Mem156[0x0817D420:word32][Mem156[ebp_34 - 0x10 + 0x00:word32] * 0x20] = 0x01;
}

// 08096722: void smChBuf(Register word32 ebp, Register selector gs)
void smChBuf(word32 ebp, selector gs)
{
	if (Mem0[0x0817D834:word32] >= 0x00 && Mem0[135779356:word32] > Mem0[0x0817D834:word32])
	{
		word32 dwLoc10_29 = 0x00;
		word32 dwLoc14_32 = Mem0[Mem0[0x08180718:word32] + 0x0C:word32];
		while (dwLoc10_29 < Mem0[0x0817D834:word32])
		{
			dwLoc10_29 = dwLoc10_29 + 0x01;
			dwLoc14_32 = Mem0[dwLoc14_32 + 0x18:word32];
		}
		Mem40[Mem0[0x08180718:word32] + 0x08:word32] = dwLoc14_32;
		while (Mem40[fp - 0x14 + 0x00:word32] != 0x00)
		{
			if (Mem40[Mem40[0x08180718:word32] + 0x08:word32] != Mem40[(fp - 0x14) + 0x00:word32])
			{
				Mem63[fp - 44 + 0x00:word32] = Mem40[fp - 0x14 + 0x00:word32];
				deleteImage(gs, dwArg00);
				if (Mem63[0x080D5398:word32] != 0x00)
				{
					Mem72[fp - 44 + 0x00:word32] = Mem63[fp - 0x14 + 0x00:word32];
					tmpClearBuffer(dwArg00);
				}
			}
			Mem61[fp - 0x14 + 0x00:word32] = Mem40[Mem40[fp - 0x14 + 0x00:word32] + 0x18:word32];
		}
	}
}

// 080967D1: void smDelBuf(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void smDelBuf(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[Mem0[135782588:word32] + 0x28:word32] >= 0x00 && Mem0[Mem0[135782588:word32] + 0x28:word32] < Mem0[135779356:word32])
	{
		word32 dwLoc10_168 = 0x00;
		word32 dwLoc20_172 = Mem0[Mem0[0x08180718:word32] + 0x0C:word32];
		while (Mem0[Mem0[135782588:word32] + 0x28:word32] > dwLoc10_168)
		{
			dwLoc10_168 = dwLoc10_168 + 0x01;
			dwLoc20_172 = Mem0[dwLoc20_172 + 0x18:word32];
		}
		if (Mem0[Mem0[0x08180718:word32] + 0x08:word32] == dwLoc20_172)
			Mem166[Mem0[0x08180718:word32] + 0x08:word32] = Mem0[dwLoc20_172 + 0x18:word32];
		word32 ebx_79;
		word32 eax_80 = deleteBuffer(gs, Mem0[Mem0[0x08180718:word32] + 0x0C:word32], dwLoc20_172, out ebx_79);
		Mem81[ebx_79 + 0x0C:word32] = eax_80;
		if (Mem81[Mem81[0x08180718:word32] + 0x08:word32] == 0x00)
		{
			word32 ebx_154 = Mem81[0x08180718:word32];
			word32 eax_158 = Mem81[Mem81[0x08180718:word32] + 0x0C:word32];
			Mem159[fp - 0x48 + 0x00:word32] = Mem81[fp - 0x10 + 0x00:word32] - 0x01;
			Mem160[fp - 0x4C + 0x00:word32] = eax_158;
			Mem162[ebx_154 + 0x08:word32] = nthBuffer(dwArg00, dwArg04);
		}
		if (Mem81[Mem81[0x08180718:word32] + 0x0C:word32] == 0x00)
		{
			Mem149[Mem81[0x08180718:word32] + 0x0C:word32] = nullBuffer();
			Mem153[Mem149[0x08180718:word32] + 0x08:word32] = Mem149[Mem149[0x08180718:word32] + 0x0C:word32];
		}
		Mem97[fp - 0x14 + 0x00:word32] = Mem81[Mem81[135782588:word32] + 0x0C:word32];
		Mem100[fp - 0x18 + 0x00:word32] = Mem97[Mem97[135782588:word32] + 0x10:word32];
		Mem103[fp - 0x1C + 0x00:word32] = Mem100[Mem100[135782588:word32] + 0x28:word32];
		initSelectMenu(fp - 0x04);
		Mem106[Mem103[135782588:word32] + 0x0C:word32] = Mem103[fp - 0x14 + 0x00:word32];
		Mem109[Mem106[135782588:word32] + 0x10:word32] = Mem106[fp - 0x18 + 0x00:word32];
		word32 eax_110 = Mem109[135782588:word32];
		Mem111[fp - 0x40 + 0x00:word32] = 0x00;
		Mem113[fp - 0x44 + 0x00:word32] = Mem111[fp - 0x18 + 0x00:word32];
		Mem115[fp - 0x48 + 0x00:word32] = Mem113[fp - 0x14 + 0x00:word32];
		Mem116[fp - 0x4C + 0x00:word32] = eax_110;
		geom_menu(dwArg00, dwArg0C);
		word32 ecx_119 = Mem116[135782588:word32];
		word32 eax_121 = Mem116[Mem116[135782588:word32] + 0x1C:word32];
		word32 eax_123 = Mem116[fp - 0x1C + 0x00:word32];
		if (eax_121 - 0x02 <= eax_123)
			eax_123 = eax_121 - 0x02;
		Mem129[ecx_119 + 0x28:word32] = eax_123;
		word32 eax_131 = Mem129[Mem129[0x08180718:word32] + 0x08:word32];
		Mem132[fp - 0x48 + 0x00:word32] = 0x01;
		Mem133[fp - 0x4C + 0x00:word32] = eax_131;
		real64 rArg0_134;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_134);
		Mem137[fp - 0x4C + 0x00:word32] = Mem133[135782588:word32];
		draw_all_menu(dwArg00);
		word32 eax_140 = Mem137[135782588:word32];
		Mem141[fp - 0x48 + 0x00:word32] = Mem137[Mem137[135782588:word32] + 0x28:word32];
		Mem142[fp - 0x4C + 0x00:word32] = eax_140;
		select_menu(dwArg00, dwArg04);
	}
}

// 0809698C: void tabMn(Register selector gs)
void tabMn(selector gs)
{
	popupMenu(fp - 0x04, gs);
}

// 08096A0B: void initSelTabMenu(Register word32 ebp)
void initSelTabMenu(word32 ebp)
{
	Mem16[0x0817DC74:word32] = ~0x00;
	word32 dwLoc10_17 = 0x00;
	word32 dwLoc20_19 = Mem16[0x08180730:word32];
	while (dwLoc20_19 != 0x00)
	{
		if (dwLoc20_19 == Mem16[0x08180718:word32])
			Mem378[0x0817DC74:word32] = dwLoc10_17;
		dwLoc10_17 = dwLoc10_17 + 0x01;
		dwLoc20_19 = Mem16[dwLoc20_19 + 0x04:word32];
	}
	word32 esp_32;
	word32 ebp_33;
	word32 esi_34;
	word32 ebx_35;
	byte SCZO_36;
	word32 eax_37;
	byte Z_38;
	byte SO_39;
	byte SZO_40;
	word32 edx_41;
	byte C_42;
	word32 ecx_43;
	word16 ax_44;
	byte bpl_45;
	!GC_malloc();
	while (Mem16[ebp_33 - 0x0C + 0x00:word32] < Mem16[(ebp_33 - 0x10) + 0x00:word32])
	{
		Mem253[ebp_33 - 0x20 + 0x00:word32] = Mem16[Mem16[ebp_33 - 0x1C + 0x00:word32] + 0x08:word32];
		Mem256[esp_32 + 0x04:word32] = Mem253[Mem253[ebp_33 - 0x20 + 0x00:word32] + 0x04:word32];
		Mem257[esp_32 + 0x00:word32] = 0x080CE62F;
		byte bpl_258;
		Mem260[ebp_33 - 0x24 + 0x00:word32] = Sprintf(dwArg00, out bpl_258);
		if (Mem260[Mem260[ebp_33 - 0x20 + 0x00:word32] + 0x00:word32] != 0x00)
		{
			word32 eax_294 = Mem260[Mem260[ebp_33 - 0x20 + 0x00:word32] + 0x84:word32];
			if (eax_294 != 0x04)
			{
				if (eax_294 != 0xFE)
				{
					Mem303[esp_32 + 0x00:word32] = Mem260[ebp_33 - 0x20 + 0x00:word32] + 0x84;
					byte bpl_304;
					Mem307[ebp_33 - 44 + 0x00:word32] = Mem303[parsedURL2Str(dwArg00, out bpl_304) + 0x00:word32];
					if (Mem307[135774932:word32] != 0x00)
					{
						Mem316[esp_32 + 0x04:word32] = 0x00;
						Mem318[esp_32 + 0x00:word32] = Mem316[ebp_33 - 44 + 0x00:word32];
						Mem320[ebp_33 - 44 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
					}
					Mem313[esp_32 + 0x04:word32] = Mem307[ebp_33 - 44 + 0x00:word32];
					Mem315[esp_32 + 0x00:word32] = Mem313[ebp_33 - 0x24 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
			else
			{
				word32 eax_322 = Mem260[Mem260[ebp_33 - 0x20 + 0x00:word32] + 0x98:word32];
				Mem323[esp_32 + 0x04:word32] = 0x080CE634;
				Mem324[esp_32 + 0x00:word32] = eax_322;
				if (strcmp(Mem324[esp_32 + 0x00:(ptr char)], Mem324[esp_32 + 0x04:(ptr char)]) != 0x00)
				{
					if (Mem324[Mem324[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem324[Mem324[(ebp_33 - 0x24) + 0x00:word32] + 0x08:word32])
					{
						Mem367[esp_32 + 0x00:word32] = Mem324[ebp_33 - 0x24 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_339 = Mem324[Mem324[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32];
					Mem342[Mem324[Mem324[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32] + eax_339:byte] = 0x20;
					Mem345[Mem342[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] = eax_339 + 0x01;
					Mem351[Mem345[Mem345[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32] + Mem345[Mem345[(ebp_33 - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					word32 esi_352 = Mem351[135091052:word32];
					word32 ebx_353 = Mem351[0x080D5378:word32];
					word32 eax_355 = Mem351[Mem351[ebp_33 - 0x20 + 0x00:word32] + 0x9C:word32];
					Mem356[esp_32 + 0x00:word32] = eax_355;
					Strnew_charp(eax_355, dwArg00);
					Mem357[esp_32 + 0x08:word32] = esi_352;
					Mem358[esp_32 + 0x04:word32] = ebx_353;
					Mem359[esp_32 + 0x00:word32] = eax_355;
					word32 ebx_360;
					Mem363[esp_32 + 0x04:word32] = Mem359[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_360) + 0x00:word32];
					Mem365[esp_32 + 0x00:word32] = Mem363[ebp_33 - 0x24 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
			}
		}
		Mem260[ebp_33 - 0x28 + 0x00:word32][Mem260[ebp_33 - 0x0C + 0x00:word32] * 0x04] = Mem260[Mem260[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32];
		if (Mem279[Mem279[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] > Mem279[(ebp_33 - 0x14) + 0x00:word32])
			Mem292[ebp_33 - 0x14 + 0x00:word32] = Mem279[Mem279[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32];
		Mem285[ebp_33 - 0x0C + 0x00:word32] = Mem279[ebp_33 - 0x0C + 0x00:word32] + 0x01;
		Mem289[ebp_33 - 0x1C + 0x00:word32] = Mem285[Mem285[ebp_33 - 0x1C + 0x00:word32] + 0x04:word32];
	}
	Mem63[esp_32 + 0x00:word32] = Mem16[135099556:word32];
	Mem65[ebp_33 - 0x18 + 0x00:word32] = strlen(Mem63[esp_32 + 0x00:(ptr char)]);
	if (Mem65[ebp_33 - 0x18 + 0x00:word32] + 0x04 > Mem65[(ebp_33 - 0x14) + 0x00:word32])
		Mem250[ebp_33 - 0x14 + 0x00:word32] = Mem65[ebp_33 - 0x18 + 0x00:word32] + 0x04;
	if ((0x00 - Mem65[0x0817D3E8:word32]) * 0x02 + Mem65[0x081807A0:word32] < Mem65[(ebp_33 - 0x14) + 0x00:word32])
		Mem246[ebp_33 - 0x14 + 0x00:word32] = (0x00 - Mem65[0x0817D3E8:word32]) * 0x02 + Mem65[0x081807A0:word32];
	word32 eax_233;
	if (Mem65[ebp_33 - 0x14 + 0x00:word32] > 0x01)
	{
		word32 ecx_227 = Mem65[ebp_33 - 0x14 + 0x00:word32] - Mem65[(ebp_33 - 0x18) + 0x00:word32];
		eax_233 = (ecx_227 + 0x01 >>u 0x1F) + (ecx_227 + 0x01) >> 0x01;
	}
	else
		eax_233 = 0x00;
	Mem88[ebp_33 - 0x14 + 0x00:word32] = eax_233;
	Strnew(eax_233);
	Mem89[ebp_33 - 0x24 + 0x00:word32] = eax_233;
	Mem90[ebp_33 - 0x0C + 0x00:word32] = 0x00;
	while (Mem90[ebp_33 - 0x0C + 0x00:word32] < Mem90[(ebp_33 - 0x14) + 0x00:word32])
	{
		if (Mem90[Mem90[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem90[Mem90[(ebp_33 - 0x24) + 0x00:word32] + 0x08:word32])
		{
			Mem223[esp_32 + 0x00:word32] = Mem90[ebp_33 - 0x24 + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_206 = Mem90[Mem90[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32];
		Mem209[Mem90[Mem90[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32] + eax_206:byte] = 0x2D;
		Mem212[Mem209[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] = eax_206 + 0x01;
		Mem218[Mem212[Mem212[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32] + Mem212[Mem212[(ebp_33 - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem220[ebp_33 - 0x0C + 0x00:word32] = Mem218[ebp_33 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem97[esp_32 + 0x04:word32] = Mem90[135099556:word32];
	Mem99[esp_32 + 0x00:word32] = Mem97[ebp_33 - 0x24 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem102[ebp_33 - 0x0C + 0x00:word32] = 0x00;
	while (Mem102[ebp_33 - 0x0C + 0x00:word32] < Mem102[(ebp_33 - 0x14) + 0x00:word32])
	{
		if (Mem102[Mem102[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem102[Mem102[(ebp_33 - 0x24) + 0x00:word32] + 0x08:word32])
		{
			Mem195[esp_32 + 0x00:word32] = Mem102[ebp_33 - 0x24 + 0x00:word32];
			Strgrow(dwArg00);
		}
		word32 eax_178 = Mem102[Mem102[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32];
		Mem181[Mem102[Mem102[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32] + eax_178:byte] = 0x2D;
		Mem184[Mem181[ebp_33 - 0x24 + 0x00:word32] + 0x04:word32] = eax_178 + 0x01;
		Mem190[Mem184[Mem184[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32] + Mem184[Mem184[(ebp_33 - 0x24) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		Mem192[ebp_33 - 0x0C + 0x00:word32] = Mem190[ebp_33 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem102[ebp_33 - 0x28 + 0x00:word32][Mem102[ebp_33 - 0x10 + 0x00:word32] * 0x04] = Mem102[Mem102[ebp_33 - 0x24 + 0x00:word32] + 0x00:word32];
	Mem113[ebp_33 - 0x28 + 0x00:word32][(Mem113[ebp_33 - 0x10 + 0x00:word32] + 0x01) * 0x04] = 0x00;
	Mem121[esp_32 + 0x0C:word32] = 0x08096E29;
	Mem122[esp_32 + 0x08:word32] = 0x0817DC74;
	Mem124[esp_32 + 0x04:word32] = Mem122[ebp_33 - 0x28 + 0x00:word32];
	Mem125[esp_32 + 0x00:word32] = 0x0817D840;
	new_option_menu(dwArg00, dwArg04, dwArg08, dwArg0C);
	Mem129[0x0817D864:word32] = Mem125[0x0817DC74:word32];
	Mem141[0x0817D844:word32] = (int32) (word16) (word32) Mem129[Mem129[Mem129[0x08180718:word32] + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem129[Mem129[Mem129[0x08180718:word32] + 0x08:word32] + 0x54:word16]));
	Mem153[0x0817D848:word32] = (int32) (word16) (word32) Mem141[Mem141[Mem141[0x08180718:word32] + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem141[Mem141[Mem141[0x08180718:word32] + 0x08:word32] + 0x56:word16]));
	Mem154[0x0817D984:word32] = 134835931;
	Mem154[0x0817D860:word32][Mem154[ebp_33 - 0x10 + 0x00:word32] * 0x20] = 0x01;
}

// 08096E29: void smChTab(Register word32 ebp, Register selector gs)
void smChTab(word32 ebp, selector gs)
{
	if (Mem0[0x0817DC74:word32] >= 0x00 && Mem0[135780444:word32] > Mem0[0x0817DC74:word32])
	{
		word32 dwLoc10_29 = 0x00;
		word32 dwLoc14_31 = Mem0[0x08180730:word32];
		while (dwLoc10_29 < Mem0[0x0817DC74:word32] && dwLoc14_31 != 0x00)
		{
			dwLoc10_29 = dwLoc10_29 + 0x01;
			dwLoc14_31 = Mem0[dwLoc14_31 + 0x04:word32];
		}
		Mem42[0x08180718:word32] = dwLoc14_31;
		while (Mem42[fp - 0x14 + 0x00:word32] != 0x00)
		{
			if (Mem42[fp - 0x14 + 0x00:word32] != Mem42[0x08180718:word32])
			{
				Mem64[fp - 0x18 + 0x00:word32] = Mem42[Mem42[fp - 0x14 + 0x00:word32] + 0x08:word32];
				Mem66[fp - 44 + 0x00:word32] = Mem64[fp - 0x18 + 0x00:word32];
				deleteImage(gs, dwArg00);
				if (Mem66[0x080D5398:word32] != 0x00)
				{
					Mem75[fp - 44 + 0x00:word32] = Mem66[fp - 0x18 + 0x00:word32];
					tmpClearBuffer(dwArg00);
				}
			}
			Mem61[fp - 0x14 + 0x00:word32] = Mem42[Mem42[fp - 0x14 + 0x00:word32] + 0x04:word32];
		}
	}
}

// 08096EDB: void smDelTab(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void smDelTab(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[Mem0[135782588:word32] + 0x28:word32] >= 0x00 && Mem0[Mem0[135782588:word32] + 0x28:word32] < Mem0[135780444:word32])
	{
		word32 dwLoc10_119 = 0x00;
		word32 dwLoc20_123 = Mem0[0x08180730:word32];
		while (Mem0[Mem0[135782588:word32] + 0x28:word32] > dwLoc10_119 && dwLoc20_123 != 0x00)
		{
			dwLoc10_119 = dwLoc10_119 + 0x01;
			dwLoc20_123 = Mem0[dwLoc20_123 + 0x04:word32];
		}
		deleteTab(fp - 0x04, gs, dwLoc20_123);
		Mem66[fp - 0x14 + 0x00:word32] = Mem0[Mem0[135782588:word32] + 0x0C:word32];
		Mem69[fp - 0x18 + 0x00:word32] = Mem66[Mem66[135782588:word32] + 0x10:word32];
		Mem72[fp - 0x1C + 0x00:word32] = Mem69[Mem69[135782588:word32] + 0x28:word32];
		initSelTabMenu(fp - 0x04);
		Mem75[Mem72[135782588:word32] + 0x0C:word32] = Mem72[fp - 0x14 + 0x00:word32];
		Mem78[Mem75[135782588:word32] + 0x10:word32] = Mem75[fp - 0x18 + 0x00:word32];
		word32 eax_79 = Mem78[135782588:word32];
		Mem80[fp - 0x40 + 0x00:word32] = 0x00;
		Mem82[fp - 0x44 + 0x00:word32] = Mem80[fp - 0x18 + 0x00:word32];
		Mem84[fp - 0x48 + 0x00:word32] = Mem82[fp - 0x14 + 0x00:word32];
		Mem85[fp - 0x4C + 0x00:word32] = eax_79;
		geom_menu(dwArg00, dwArg0C);
		word32 ecx_88 = Mem85[135782588:word32];
		word32 eax_90 = Mem85[Mem85[135782588:word32] + 0x1C:word32];
		word32 eax_114 = Mem85[fp - 0x1C + 0x00:word32];
		if (eax_90 - 0x02 <= eax_114)
			eax_114 = eax_90 - 0x02;
		Mem98[ecx_88 + 0x28:word32] = eax_114;
		word32 eax_100 = Mem98[Mem98[0x08180718:word32] + 0x08:word32];
		Mem101[fp - 0x48 + 0x00:word32] = 0x01;
		Mem102[fp - 0x4C + 0x00:word32] = eax_100;
		real64 rArg0_103;
		displayBuffer(fp - 0x04, gs, dwArg00, dwArg04, rArg0, out rArg0_103);
		Mem106[fp - 0x4C + 0x00:word32] = Mem102[135782588:word32];
		draw_all_menu(dwArg00);
		word32 eax_109 = Mem106[135782588:word32];
		Mem110[fp - 0x48 + 0x00:word32] = Mem106[Mem106[135782588:word32] + 0x28:word32];
		Mem111[fp - 0x4C + 0x00:word32] = eax_109;
		select_menu(dwArg00, dwArg04);
	}
}

// 0809700A: void optionMenu(Register word32 ebp, Register selector gs)
void optionMenu(word32 ebp, selector gs)
{
	set_menu_frame();
	Mem10[fp - 0x0450 + 0x00:word32] = Mem0[fp + 0x18:word32];
	Mem12[fp - 0x0454 + 0x00:word32] = Mem10[fp + 0x10:word32];
	Mem14[fp - 1112 + 0x00:word32] = Mem12[fp + 0x0C:word32];
	Mem16[fp - 1116 + 0x00:word32] = fp - 0x0440;
	new_option_menu(dwArg00, dwArg04, dwArg08, dwArg0C);
	Mem23[fp - 0x043C + 0x00:word32] = Mem16[0x081807A0:word32] - 0x01;
	Mem27[fp - 1080 + 0x00:word32] = Mem23[0x08180780:word32] - 0x01;
	Mem29[fp - 0x0434 + 0x00:word32] = Mem27[fp + 0x04:word32];
	Mem31[fp - 0x0430 + 0x00:word32] = Mem29[fp + 0x08:word32];
	Mem33[fp - 0x041C + 0x00:word32] = Mem31[fp + 0x14:word32];
	Mem35[fp - 1112 + 0x00:word32] = fp - 0x0440;
	Mem36[fp - 1116 + 0x00:word32] = 0x00;
	popup_menu(fp - 0x04, gs, dwArg00, dwArg04);
}

// 0809708A: void interpret_menu(Register word32 ebp, Register selector gs)
void interpret_menu(word32 ebp, selector gs)
{
	word32 ebp_106 = fp - 0x04;
	word32 esp_105 = fp - 0x4C;
	while (true)
	{
		Mem31[esp_105 + 0x00:word32] = Mem0[ebp_106 + 0x08:word32];
		if (feof(Mem31[esp_105 + 0x00:(ptr FILE)]) != 0x00)
			break;
		word32 eax_42 = Mem31[ebp_106 + 0x08:word32];
		Mem43[esp_105 + 0x00:word32] = eax_42;
		Strfgets(eax_42, dwArg00);
		Mem45[ebp_106 - 0x0C + 0x00:word32] = eax_42;
		Mem47[esp_105 + 0x00:word32] = Mem45[ebp_106 - 0x0C + 0x00:word32];
		Strchop(dwArg00);
		Mem49[esp_105 + 0x00:word32] = Mem47[ebp_106 - 0x0C + 0x00:word32];
		Strremovefirstspaces(dwArg00);
		if (Mem49[Mem49[ebp_106 - 0x0C + 0x00:word32] + 0x04:word32] == 0x00)
			continue;
		Mem56[esp_105 + 0x08:word32] = Mem49[135091052:word32];
		Mem58[esp_105 + 0x04:word32] = Mem56[ebp_106 - 44 + 0x00:word32];
		Mem60[esp_105 + 0x00:word32] = Mem58[ebp_106 - 0x0C + 0x00:word32];
		word32 ebx_63;
		Mem65[ebp_106 - 0x0C + 0x00:word32] = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_63);
		Mem68[ebp_106 - 0x10 + 0x00:word32] = Mem65[Mem65[ebp_106 - 0x0C + 0x00:word32] + 0x00:word32];
		Mem70[esp_105 + 0x00:word32] = ebp_106 - 0x10;
		Mem72[ebp_106 - 0x14 + 0x00:word32] = getWord(dwArg00);
		byte al_75 = (byte) (word32) Mem72[Mem72[ebp_106 - 0x14 + 0x00:word32] + 0x00:byte];
		if (al_75 == 0x23)
			continue;
		if (Mem72[ebp_106 - 0x18 + 0x00:word32] == 0x00)
		{
			Mem132[esp_105 + 0x04:word32] = 0x080CE636;
			Mem134[esp_105 + 0x00:word32] = Mem132[ebp_106 - 0x14 + 0x00:word32];
			if (strcmp(Mem134[esp_105 + 0x00:(ptr char)], Mem134[esp_105 + 0x04:(ptr char)]) != 0x00)
			{
				Mem208[esp_105 + 0x04:word32] = 135063099;
				Mem210[esp_105 + 0x00:word32] = Mem208[ebp_106 - 0x14 + 0x00:word32];
				if (strcmp(Mem210[esp_105 + 0x00:(ptr char)], Mem210[esp_105 + 0x04:(ptr char)]) != 0x00)
				{
					Mem231[esp_105 + 0x04:word32] = 135063107;
					Mem233[esp_105 + 0x00:word32] = Mem231[ebp_106 - 0x14 + 0x00:word32];
					if (strcmp(Mem233[esp_105 + 0x00:(ptr char)], Mem233[esp_105 + 0x04:(ptr char)]) != 0x00)
						continue;
				}
				word32 eax_215 = ebp_106 - 0x10;
				Mem216[esp_105 + 0x00:word32] = eax_215;
				Mem218[ebp_106 - 0x14 + 0x00:word32] = getQWord(eax_215, dwArg00);
				if ((byte) (word32) Mem218[Mem218[ebp_106 - 0x14 + 0x00:word32] + 0x00:byte] != 0x00)
				{
					Mem226[esp_105 + 0x04:word32] = Mem218[ebp_106 - 44 + 0x00:word32];
					Mem228[esp_105 + 0x00:word32] = Mem226[ebp_106 - 0x14 + 0x00:word32];
					Mem230[ebp_106 - 44 + 0x00:word32] = wc_guess_charset(gs, dwArg00, dwArg04);
				}
				continue;
			}
			else
			{
				word32 eax_139 = ebp_106 - 0x10;
				Mem140[esp_105 + 0x00:word32] = eax_139;
				Mem142[ebp_106 - 0x14 + 0x00:word32] = getQWord(eax_139, dwArg00);
				byte al_145 = (byte) (word32) Mem142[Mem142[ebp_106 - 0x14 + 0x00:word32] + 0x00:byte];
				if (al_145 != 0x00)
				{
					Mem149[ebp_106 - 0x18 + 0x00:word32] = 0x01;
					word32 eax_150 = Mem149[0x0817E0B8:word32];
					Mem152[esp_105 + 0x04:word32] = Mem149[ebp_106 - 0x14 + 0x00:word32];
					Mem153[esp_105 + 0x00:word32] = eax_150;
					Mem155[ebp_106 - 0x1C + 0x00:word32] = getMenuN(dwArg00, dwArg04);
					if (Mem155[ebp_106 - 0x1C + 0x00:word32] != ~0x00)
					{
						Mem189[esp_105 + 0x00:word32] = 0x20;
						word32 ebx_192;
						byte SCZO_193;
						word32 eax_194;
						byte SZO_195;
						byte C_196;
						byte Z_197;
						byte al_198;
						word32 edx_199;
						word32 ecx_200;
						!GC_malloc();
						Mem202[ebx_192 + 0x08:word32] = eax_194;
					}
					else
					{
						Mem204[esp_105 + 0x04:word32] = Mem155[ebp_106 - 0x14 + 0x00:word32];
						Mem205[esp_105 + 0x00:word32] = 0x0817E0B8;
						Mem207[ebp_106 - 0x1C + 0x00:word32] = addMenuList(dwArg00, dwArg04);
					}
					Mem174[ebp_106 - 0x28 + 0x00:word32] = Mem155[Mem155[0x0817E0B8:word32] + Mem155[(ebp_106 - 0x1C) + 0x00:word32] * 0x0C + 0x08:word32];
					Mem175[ebp_106 - 0x20 + 0x00:word32] = 0x00;
					Mem175[ebp_106 - 0x28 + 0x00:word32][Mem175[ebp_106 - 0x20 + 0x00:word32] * 0x20] = 0x00;
				}
				continue;
			}
		}
		word32 eax_83 = (Mem72[ebp_106 - 0x20 + 0x00:word32] << 0x05) + Mem72[(ebp_106 - 0x28) + 0x00:word32];
		Mem85[esp_105 + 0x08:word32] = Mem72[ebp_106 - 0x10 + 0x00:word32];
		word32 edx_86 = Mem85[ebp_106 - 0x14 + 0x00:word32];
		Mem87[esp_105 + 0x04:word32] = edx_86;
		Mem88[esp_105 + 0x00:word32] = eax_83;
		Mem90[ebp_106 - 0x24 + 0x00:word32] = setMenuItem(dwArg00, dwArg04);
		if (Mem90[ebp_106 - 0x24 + 0x00:word32] != ~0x00)
		{
			if (Mem90[ebp_106 - 0x24 + 0x00:word32] == 0x00)
				Mem95[ebp_106 - 0x18 + 0x00:word32] = 0x00;
			else
			{
				Mem97[ebp_106 - 0x20 + 0x00:word32] = Mem90[ebp_106 - 0x20 + 0x00:word32] + 0x01;
				Mem102[esp_105 + 0x04:word32] = Mem97[ebp_106 - 0x20 + 0x00:word32] + 0x01 << 0x05;
				word32 eax_103 = Mem102[ebp_106 - 0x28 + 0x00:word32];
				Mem104[esp_105 + 0x00:word32] = eax_103;
				word32 ebx_107;
				byte SCZO_108;
				word32 eax_109;
				byte SZO_110;
				byte C_111;
				byte Z_112;
				byte al_113;
				word32 edx_114;
				word32 ecx_115;
				!GC_realloc();
				Mem117[ebp_106 - 0x28 + 0x00:word32] = eax_109;
				Mem126[Mem117[0x0817E0B8:word32] + Mem117[(ebp_106 - 0x1C) + 0x00:word32] * 0x0C + 0x08:word32] = Mem117[ebp_106 - 0x28 + 0x00:word32];
				Mem126[ebp_106 - 0x28 + 0x00:word32][Mem126[ebp_106 - 0x20 + 0x00:word32] * 0x20] = 0x00;
			}
		}
	}
}

// 08097311: void initMenu(Register word32 eax, Register word32 ebp, Register selector gs)
void initMenu(word32 eax, word32 ebp, selector gs)
{
	word32 esi_17;
	word32 ebx_18;
	byte SCZO_19;
	word32 eax_20;
	byte SZO_21;
	byte C_22;
	byte Z_23;
	word32 edx_24;
	selector gs_133;
	word32 ebp_138;
	word32 esp_139;
	!GC_malloc();
	Mem26[0x0817E0B8:word32] = eax_20;
	Mem28[Mem26[0x0817E0B8:word32] + 0x00:word32] = 135063116;
	Mem30[Mem28[0x0817E0B8:word32] + 0x04:word32] = 0x0817DC80;
	Mem32[Mem30[0x0817E0B8:word32] + 0x08:word32] = 0x080D71C0;
	Mem35[Mem32[0x0817E0B8:word32] + 0x0C:word32] = 135063121;
	Mem38[Mem35[0x0817E0B8:word32] + 0x10:word32] = 0x0817D400;
	Mem41[Mem38[0x0817E0B8:word32] + 0x14:word32] = 0x00;
	Mem44[Mem41[0x0817E0B8:word32] + 0x18:word32] = 0x080CE658;
	Mem47[Mem44[0x0817E0B8:word32] + 0x1C:word32] = 0x0817D840;
	Mem50[Mem47[0x0817E0B8:word32] + 0x20:word32] = 0x00;
	Mem53[Mem50[0x0817E0B8:word32] + 0x24:word32] = 0x00;
	if (Mem53[0x0817E0B4:word32] == 0x00)
	{
		Mem131[0x080D71A0:word32] = Mem53[0x080D5378:word32];
		while (Mem131[Mem131[ebp_138 - 0x14 + 0x00:word32] + 0x00:word32] != 0x00)
		{
			word32 eax_149 = Mem131[Mem131[ebp_138 - 0x14 + 0x00:word32] + 0x04:word32];
			Mem150[esp_139 + 0x00:word32] = eax_149;
			word32 esi_153;
			word32 ebx_154;
			byte SCZO_155;
			word32 eax_156;
			byte SZO_157;
			byte C_158;
			byte Z_159;
			word32 edx_160;
			!gettext();
			Mem162[esp_139 + 0x00:word32] = eax_156;
			Strnew_charp(eax_156, dwArg00);
			Mem163[esp_139 + 0x08:word32] = esi_153;
			Mem164[esp_139 + 0x04:word32] = ebx_154;
			Mem165[esp_139 + 0x00:word32] = eax_156;
			word32 ebx_167;
			Mem171[Mem165[ebp_138 - 0x14 + 0x00:word32] + 0x04:word32] = Mem165[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_167) + 0x00:word32];
			Mem173[ebp_138 - 0x14 + 0x00:word32] = Mem171[ebp_138 - 0x14 + 0x00:word32] + 0x20;
		}
		Mem145[0x0817E0B4:word32] = 0x01;
	}
	Mem68[esp_139 + 0x00:word32] = 0x080CE636;
	word32 eax_70 = confFile(dwArg00);
	Mem71[esp_139 + 0x04:word32] = 0x080CE662;
	Mem72[esp_139 + 0x00:word32] = eax_70;
	Mem74[ebp_138 - 0x0C + 0x00:word32] = fopen(Mem72[esp_139 + 0x00:(ptr char)], Mem72[esp_139 + 0x04:(ptr char)]);
	if (Mem74[ebp_138 - 0x0C + 0x00:word32] != 0x00)
	{
		Mem126[esp_139 + 0x00:word32] = Mem74[ebp_138 - 0x0C + 0x00:word32];
		interpret_menu(ebp_138, gs_133);
		Mem128[esp_139 + 0x00:word32] = Mem126[ebp_138 - 0x0C + 0x00:word32];
		fclose(Mem128[esp_139 + 0x00:(ptr FILE)]);
	}
	Mem78[esp_139 + 0x00:word32] = 0x080CE636;
	word32 eax_79 = rcFile(dwArg00);
	Mem80[esp_139 + 0x04:word32] = 0x080CE662;
	Mem81[esp_139 + 0x00:word32] = eax_79;
	Mem83[ebp_138 - 0x0C + 0x00:word32] = fopen(Mem81[esp_139 + 0x00:(ptr char)], Mem81[esp_139 + 0x04:(ptr char)]);
	if (Mem83[ebp_138 - 0x0C + 0x00:word32] != 0x00)
	{
		Mem121[esp_139 + 0x00:word32] = Mem83[ebp_138 - 0x0C + 0x00:word32];
		interpret_menu(ebp_138, gs_133);
		Mem123[esp_139 + 0x00:word32] = Mem121[ebp_138 - 0x0C + 0x00:word32];
		fclose(Mem123[esp_139 + 0x00:(ptr FILE)]);
	}
	Mem87[ebp_138 - 0x10 + 0x00:word32] = Mem83[0x0817E0B8:word32];
	while (Mem87[Mem87[ebp_138 - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
	{
		if (Mem87[Mem87[ebp_138 - 0x10 + 0x00:word32] + 0x08:word32] != 0x00)
		{
			word32 eax_116 = Mem87[Mem87[ebp_138 - 0x10 + 0x00:word32] + 0x04:word32];
			Mem117[esp_139 + 0x04:word32] = Mem87[Mem87[ebp_138 - 0x10 + 0x00:word32] + 0x08:word32];
			Mem118[esp_139 + 0x00:word32] = eax_116;
			new_menu(dwArg00, dwArg04);
		}
		Mem111[ebp_138 - 0x10 + 0x00:word32] = Mem87[ebp_138 - 0x10 + 0x00:word32] + 0x0C;
	}
}

// 080974DB: Register word32 setMenuItem(Stack word32 dwArg04, Stack word32 dwArg08)
word32 setMenuItem(word32 dwArg04, word32 dwArg08)
{
	word32 eax_114;
	if (dwArg08 != 0x00 && (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) != 0x00)
	{
		if (strcmp(dwArg08, 0x080CE665) == 0x00)
		{
			Mem66[dwArg04 + 0x00:word32] = 0x00;
			eax_114 = 0x00;
		}
		else if (strcmp(dwArg08, 0x080CE669) == 0x00)
		{
			Mem77[dwArg04 + 0x00:word32] = 0x01;
			Mem82[dwArg04 + 0x04:word32] = getQWord(fp + 0x0C, fp + 0x0C);
			eax_114 = 0x01;
		}
		else if (strcmp(dwArg08, 0x080CE66D) == 0x00)
		{
			word32 eax_94 = getQWord(fp + 0x0C, fp + 0x0C);
			word32 eax_98 = getWord(fp + 0x0C);
			word32 eax_102 = getQWord(fp + 0x0C, fp + 0x0C);
			word32 eax_106 = getQWord(fp + 0x0C, fp + 0x0C);
			if ((byte) (word32) Mem0[eax_98 + 0x00:byte] == 0x00)
				eax_114 = ~0x00;
			else
			{
				Mem117[dwArg04 + 0x00:word32] = 0x04;
				Mem120[dwArg04 + 0x04:word32] = eax_94;
				word32 eax_123 = getFuncList(eax_98);
				word32 eax_125 = 0x00;
				if (eax_123 >= 0x00)
					eax_125 = eax_123;
				Mem132[dwArg04 + 0x10:word32] = 135103140[eax_125 * 0x08];
				Mem135[dwArg04 + 0x18:word32] = eax_102;
				Mem138[dwArg04 + 0x1C:word32] = eax_106;
				eax_114 = 0x04;
			}
		}
		else if (strcmp(dwArg08, 135063154) == 0x00)
		{
			word32 eax_152 = getQWord(fp + 0x0C, fp + 0x0C);
			word32 eax_156 = getQWord(fp + 0x0C, fp + 0x0C);
			word32 eax_160 = getQWord(fp + 0x0C, fp + 0x0C);
			if ((byte) (word32) Mem0[eax_156 + 0x00:byte] == 0x00)
				eax_114 = ~0x00;
			else
			{
				Mem171[dwArg04 + 0x00:word32] = 0x08;
				Mem174[dwArg04 + 0x04:word32] = eax_152;
				word32 eax_179 = getMenuN(Mem174[0x0817E0B8:word32], eax_156);
				word32 dwLoc28_180 = eax_179;
				if (eax_179 == ~0x00)
					dwLoc28_180 = addMenuList(0x0817E0B8, eax_156);
				Mem196[dwArg04 + 0x14:word32] = Mem174[Mem174[0x0817E0B8:word32] + dwLoc28_180 * 0x0C + 0x04:word32];
				Mem199[dwArg04 + 0x18:word32] = eax_160;
				eax_114 = 0x08;
			}
		}
		else
			eax_114 = ~0x00;
	}
	else
		eax_114 = ~0x00;
	return eax_114;
}

// 080976ED: Register word32 addMenuList(Stack word32 dwArg04, Stack word32 dwArg08)
word32 addMenuList(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc14_12 = Mem0[dwArg04 + 0x00:word32];
	word32 dwLoc10_13 = 0x00;
	while (Mem0[dwLoc14_12 + 0x00:word32] != 0x00)
	{
		dwLoc14_12 = dwLoc14_12 + 0x0C;
		dwLoc10_13 = dwLoc10_13 + 0x01;
	}
	word32 esp_34;
	word32 ebp_35;
	byte SCZO_36;
	word32 eax_37;
	byte SZO_38;
	byte C_39;
	byte Z_40;
	word32 edx_41;
	word32 ecx_42;
	!GC_realloc();
	Mem45[dwArg04 + 0x00:word32] = eax_37;
	word32 ecx_47 = Mem45[dwArg04 + 0x00:word32];
	word32 eax_54 = ecx_47 + dwLoc10_13 * 0x0C;
	Mem59[eax_54 + 0x00:word32] = dwArg08;
	word32 esp_61;
	word32 ebp_62;
	byte SCZO_63;
	word32 eax_64;
	byte SZO_65;
	byte C_66;
	byte Z_67;
	word32 edx_68;
	word32 ecx_69;
	!GC_malloc();
	Mem72[eax_54 + 0x04:word32] = eax_64;
	word32 esp_74;
	word32 ebp_75;
	byte SCZO_76;
	word32 eax_77;
	byte SZO_78;
	byte C_79;
	byte Z_80;
	word32 edx_81;
	word32 ecx_82;
	!GC_malloc();
	Mem85[eax_54 + 0x08:word32] = eax_77;
	Mem89[eax_54 + 0x0C:word32] = 0x00;
	return dwLoc10_13;
}

// 08097796: Register word32 getMenuN(Stack word32 dwArg04, Stack word32 dwArg08)
word32 getMenuN(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_15 = 0x00;
	while (true)
	{
		word32 eax_28;
		if (Mem0[dwArg04 + 0x00:word32] == 0x00)
			break;
		if (strcmp(dwArg08, Mem0[dwArg04 + 0x00:word32]) == 0x00)
		{
			eax_28 = dwLoc10_15;
			return eax_28;
		}
		dwArg04 = dwArg04 + 0x0C;
		dwLoc10_15 = dwLoc10_15 + 0x01;
	}
	eax_28 = ~0x00;
	return eax_28;
}

// 080977DA: Register word32 link_menu(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 link_menu(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_142;
	if (Mem0[dwArg04 + 0x70:word32] == 0x00)
		eax_142 = 0x00;
	else
	{
		word32 dwLoc10_255 = Mem0[dwArg04 + 0x70:word32];
		while (dwLoc10_255 != 0x00)
			dwLoc10_255 = Mem0[dwLoc10_255 + 0x10:word32];
		word32 esp_65;
		word32 ebp_66;
		byte SCZO_67;
		word32 eax_68;
		byte SZO_69;
		byte C_70;
		byte Z_71;
		word32 edx_72;
		word16 ax_73;
		byte S_74;
		byte al_75;
		selector gs_76;
		!GC_malloc();
		while (Mem0[ebp_66 - 0x0C + 0x00:word32] != 0x00)
		{
			word32 eax_172;
			if (Mem0[Mem0[ebp_66 - 0x0C + 0x00:word32] + 0x04:word32] != 0x00)
				eax_172 = Mem0[Mem0[ebp_66 - 0x0C + 0x00:word32] + 0x04:word32];
			else
				eax_172 = 135063160;
			Mem174[esp_65 + 0x00:word32] = eax_172;
			Strnew_charp(eax_172, dwArg00);
			Mem175[ebp_66 - 0x24 + 0x00:word32] = eax_172;
			if ((byte) (word32) Mem175[Mem175[ebp_66 - 0x0C + 0x00:word32] + 0x0C:byte] == 0x01)
			{
				Mem229[esp_65 + 0x04:word32] = 0x080CE680;
				Mem231[esp_65 + 0x00:word32] = Mem229[ebp_66 - 0x24 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			else if ((byte) (word32) Mem175[Mem175[ebp_66 - 0x0C + 0x00:word32] + 0x0C:byte] == 0x02)
			{
				Mem237[esp_65 + 0x04:word32] = 0x080CE688;
				Mem239[esp_65 + 0x00:word32] = Mem237[ebp_66 - 0x24 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			else
			{
				Mem240[esp_65 + 0x04:word32] = 0x080CE5EA;
				Mem242[esp_65 + 0x00:word32] = Mem240[ebp_66 - 0x24 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem175[Mem175[ebp_66 - 0x0C + 0x00:word32] + 0x00:word32] == 0x00)
				Mem213[ebp_66 - 0x28 + 0x00:word32] = 0x080CE512;
			else if (Mem175[135774932:word32] != 0x00)
			{
				word32 eax_221 = Mem175[Mem175[ebp_66 - 0x0C + 0x00:word32] + 0x00:word32];
				Mem222[esp_65 + 0x04:word32] = Mem175[Mem175[ebp_66 + 0x08:word32] + 0xD0:word32];
				Mem223[esp_65 + 0x00:word32] = eax_221;
				Mem225[ebp_66 - 0x28 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
			}
			else
				Mem228[ebp_66 - 0x28 + 0x00:word32] = Mem175[Mem175[ebp_66 - 0x0C + 0x00:word32] + 0x00:word32];
			Mem191[esp_65 + 0x04:word32] = Mem175[ebp_66 - 0x28 + 0x00:word32];
			Mem193[esp_65 + 0x00:word32] = Mem191[ebp_66 - 0x24 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem193[ebp_66 - 0x20 + 0x00:word32][Mem193[ebp_66 - 0x10 + 0x00:word32] * 0x04] = Mem193[Mem193[ebp_66 - 0x24 + 0x00:word32] + 0x00:word32];
			if (Mem199[Mem199[ebp_66 - 0x24 + 0x00:word32] + 0x04:word32] > Mem199[(ebp_66 - 0x18) + 0x00:word32])
				Mem212[ebp_66 - 0x18 + 0x00:word32] = Mem199[Mem199[ebp_66 - 0x24 + 0x00:word32] + 0x04:word32];
			Mem205[ebp_66 - 0x10 + 0x00:word32] = Mem199[ebp_66 - 0x10 + 0x00:word32] + 0x01;
			Mem209[ebp_66 - 0x0C + 0x00:word32] = Mem205[Mem205[ebp_66 - 0x0C + 0x00:word32] + 0x10:word32];
		}
		Mem0[ebp_66 - 0x20 + 0x00:word32][Mem0[ebp_66 - 0x14 + 0x00:word32] * 0x04] = 0x00;
		set_menu_frame();
		Mem95[esp_65 + 0x0C:word32] = 0x00;
		Mem97[esp_65 + 0x08:word32] = ebp_66 - 0x1C;
		Mem99[esp_65 + 0x04:word32] = Mem97[ebp_66 - 0x20 + 0x00:word32];
		Mem101[esp_65 + 0x00:word32] = ebp_66 - 1116;
		new_option_menu(dwArg00, dwArg04, dwArg08, dwArg0C);
		Mem105[ebp_66 - 1080 + 0x00:word32] = 0x00;
		Mem115[ebp_66 - 1112 + 0x00:word32] = (int32) (word16) (word32) Mem105[Mem105[ebp_66 + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem105[Mem105[ebp_66 + 0x08:word32] + 0x54:word16]));
		Mem125[ebp_66 - 0x0454 + 0x00:word32] = (int32) (word16) (word32) Mem115[Mem115[ebp_66 + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem115[Mem115[ebp_66 + 0x08:word32] + 0x56:word16]));
		Mem130[ebp_66 - 0x0450 + 0x00:word32] = Mem125[ebp_66 - 1112 + 0x00:word32] + Mem125[0x0817D3E8:word32] + 0x01;
		Mem134[ebp_66 - 1100 + 0x00:word32] = Mem130[ebp_66 - 0x0454 + 0x00:word32] + 0x02;
		Mem136[esp_65 + 0x04:word32] = ebp_66 - 1116;
		Mem137[esp_65 + 0x00:word32] = 0x00;
		popup_menu(ebp_66, gs_76, dwArg00, dwArg04);
		if (Mem137[ebp_66 - 0x1C + 0x00:word32] < 0x00)
			eax_142 = 0x00;
		else
		{
			Mem145[ebp_66 - 0x10 + 0x00:word32] = 0x00;
			Mem148[ebp_66 - 0x0C + 0x00:word32] = Mem145[Mem145[ebp_66 + 0x08:word32] + 0x70:word32];
			while (Mem148[ebp_66 - 0x0C + 0x00:word32] != 0x00)
			{
				if (Mem148[ebp_66 - 0x10 + 0x00:word32] == Mem148[(ebp_66 - 0x1C) + 0x00:word32])
				{
					eax_142 = Mem148[ebp_66 - 0x0C + 0x00:word32];
					return eax_142;
				}
				Mem162[ebp_66 - 0x10 + 0x00:word32] = Mem148[ebp_66 - 0x10 + 0x00:word32] + 0x01;
				Mem166[ebp_66 - 0x0C + 0x00:word32] = Mem162[Mem162[ebp_66 - 0x0C + 0x00:word32] + 0x10:word32];
			}
			eax_142 = 0x00;
		}
	}
	return eax_142;
}

// 08097A58: void accesskey_menu(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void accesskey_menu(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_14 = Mem0[dwArg04 + 0x60:word32];
	word32 dwLoc28_16 = 0x00;
	if (eax_14 != 0x00)
	{
		word32 dwLoc20_493 = 0x00;
		while (Mem0[eax_14 + 0x04:word32] > dwLoc20_493)
		{
			word32 eax_472 = dwLoc20_493 << 0x02;
			word32 eax_478 = Mem0[eax_14 + 0x00:word32] + ((eax_472 << 0x04) - eax_472);
			if ((byte) (word32) Mem0[eax_478 + 0x30:byte] == 0x00 && ((byte) ((word32) Mem0[eax_478 + 0x10:byte]) != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[eax_478 + 0x10:byte])) + 0x080DB700:byte])) & 0x11) != 0x00))
				dwLoc28_16 = dwLoc28_16 + 0x01;
			dwLoc20_493 = dwLoc20_493 + 0x01;
		}
		if (dwLoc28_16 != 0x00)
		{
			word32 esp_86;
			word32 ebp_87;
			word32 ebx_88;
			byte SCZO_89;
			word32 eax_90;
			byte Z_91;
			byte SZO_92;
			word32 edx_93;
			word32 ecx_94;
			byte al_95;
			byte C_96;
			word16 ax_97;
			byte dl_98;
			byte SO_99;
			byte S_100;
			selector gs_101;
			byte bpl_102;
			!GC_malloc();
			word32 esp_108;
			word32 ebp_109;
			word32 ebx_110;
			byte SCZO_111;
			word32 eax_112;
			byte Z_113;
			byte SZO_114;
			word32 edx_115;
			word32 ecx_116;
			byte al_117;
			byte C_118;
			word16 ax_119;
			byte dl_120;
			byte SO_121;
			byte S_122;
			selector gs_123;
			byte bpl_124;
			!GC_malloc();
			while (Mem0[Mem0[ebp_109 - 0x10 + 0x00:word32] + 0x04:word32] > Mem0[(ebp_109 - 0x1C) + 0x00:word32])
			{
				word32 eax_382 = Mem0[ebp_109 - 0x1C + 0x00:word32];
				Mem390[ebp_109 - 0x14 + 0x00:word32] = Mem0[Mem0[ebp_109 - 0x10 + 0x00:word32] + 0x00:word32] + ((eax_382 << 0x06) - (eax_382 << 0x02));
				if ((byte) (word32) Mem390[Mem390[ebp_109 - 0x14 + 0x00:word32] + 0x30:byte] == 0x00 && ((byte) ((word32) Mem390[Mem390[(ebp_109 - 0x14) + 0x00:word32] + 0x10:byte]) != 0x00 && ((word32) ((byte) ((word32) Mem390[(word32) ((byte) ((word32) Mem390[Mem390[(ebp_109 - 0x14) + 0x00:word32] + 0x10:byte])) + 0x080DB700:byte])) & 0x11) != 0x00))
				{
					word32 eax_443;
					Mem428[esp_108 + 0x08:word32] = Mem390[ebp_109 - 0x14 + 0x00:word32];
					Mem430[esp_108 + 0x04:word32] = Mem428[ebp_109 - 0x10 + 0x00:word32];
					Mem432[esp_108 + 0x00:word32] = Mem430[ebp_109 + 0x08:word32];
					Mem434[ebp_109 - 0x30 + 0x00:word32] = getAnchorText(dwArg00, dwArg04, dwArg08);
					word32 ebx_438 = (Mem434[ebp_109 - 0x20 + 0x00:word32] << 0x02) + Mem434[(ebp_109 - 44) + 0x00:word32];
					if (Mem434[ebp_109 - 0x30 + 0x00:word32] != 0x00)
						eax_443 = Mem434[ebp_109 - 0x30 + 0x00:word32];
					else
						eax_443 = 0x080CE512;
					word32 edx_447 = (word32) (byte) (word32) Mem434[Mem434[ebp_109 - 0x14 + 0x00:word32] + 0x10:byte];
					Mem448[esp_108 + 0x08:word32] = eax_443;
					Mem449[esp_108 + 0x04:word32] = edx_447;
					Mem450[esp_108 + 0x00:word32] = 0x080CE690;
					byte bpl_451;
					Mem454[ebx_438 + 0x00:word32] = Mem450[Sprintf(dwArg00, out bpl_451) + 0x00:word32];
					Mem454[ebp_109 - 0x18 + 0x00:word32][Mem454[ebp_109 - 0x20 + 0x00:word32] * 0x04] = Mem454[ebp_109 - 0x14 + 0x00:word32];
					Mem461[ebp_109 - 0x20 + 0x00:word32] = Mem459[ebp_109 - 0x20 + 0x00:word32] + 0x01;
				}
				Mem408[ebp_109 - 0x1C + 0x00:word32] = Mem390[ebp_109 - 0x1C + 0x00:word32] + 0x01;
			}
			Mem0[ebp_109 - 44 + 0x00:word32][Mem0[ebp_109 - 0x24 + 0x00:word32] * 0x04] = 0x00;
			Mem146[esp_108 + 0x0C:word32] = 0x00;
			Mem148[esp_108 + 0x08:word32] = ebp_109 - 0x28;
			Mem150[esp_108 + 0x04:word32] = Mem148[ebp_109 - 44 + 0x00:word32];
			Mem152[esp_108 + 0x00:word32] = ebp_109 - 0x0464;
			new_option_menu(dwArg00, dwArg04, dwArg08, dwArg0C);
			Mem156[ebp_109 - 0x0440 + 0x00:word32] = 0x00;
			Mem166[ebp_109 - 0x0460 + 0x00:word32] = (int32) (word16) (word32) Mem156[Mem156[ebp_109 + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem156[Mem156[ebp_109 + 0x08:word32] + 0x54:word16]));
			Mem176[ebp_109 - 1116 + 0x00:word32] = (int32) (word16) (word32) Mem166[Mem166[ebp_109 + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem166[Mem166[ebp_109 + 0x08:word32] + 0x56:word16]));
			Mem181[ebp_109 - 1112 + 0x00:word32] = Mem176[ebp_109 - 0x0460 + 0x00:word32] + Mem176[0x0817D3E8:word32] + 0x01;
			Mem185[ebp_109 - 0x0454 + 0x00:word32] = Mem181[ebp_109 - 1116 + 0x00:word32] + 0x02;
			Mem186[ebp_109 - 0x1C + 0x00:word32] = 0x00;
			while (Mem186[ebp_109 - 0x1C + 0x00:word32] <= 0x7F)
			{
				(ebp_109 - 0x0460)[(Mem186[ebp_109 - 0x1C + 0x00:word32] + 0x8C) * 0x04] = ~0x00;
				Mem378[ebp_109 - 0x1C + 0x00:word32] = Mem376[ebp_109 - 0x1C + 0x00:word32] + 0x01;
			}
			Mem190[ebp_109 - 0x1C + 0x00:word32] = 0x00;
			while (Mem190[ebp_109 - 0x1C + 0x00:word32] < Mem190[(ebp_109 - 0x24) + 0x00:word32])
			{
				Mem363[ebp_109 - 0x09 + 0x00:byte] = (byte) (word32) Mem190[Mem190[ebp_109 - 0x18 + 0x00:word32][Mem190[ebp_109 - 0x1C + 0x00:word32] * 0x04] + 0x10:byte];
				(ebp_109 - 0x0460)[((word32) Mem363[ebp_109 - 0x09 + 0x00:byte] + 0x0C) * 0x04] = 0x080950DE;
				(ebp_109 - 0x0460)[((word32) Mem366[ebp_109 - 0x09 + 0x00:byte] + 0x8C) * 0x04] = Mem366[ebp_109 - 0x1C + 0x00:word32];
				Mem372[ebp_109 - 0x1C + 0x00:word32] = Mem370[ebp_109 - 0x1C + 0x00:word32] + 0x01;
			}
			Mem196[ebp_109 - 0x1C + 0x00:word32] = 0x00;
			while (Mem196[ebp_109 - 0x1C + 0x00:word32] < Mem196[(ebp_109 - 0x24) + 0x00:word32])
			{
				Mem274[ebp_109 - 0x09 + 0x00:byte] = (byte) (word32) Mem196[Mem196[ebp_109 - 0x18 + 0x00:word32][Mem196[ebp_109 - 0x1C + 0x00:word32] * 0x04] + 0x10:byte];
				if (((word32) (byte) (word32) Mem274[(word32) Mem274[ebp_109 - 0x09 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00 && (ebp_109 - 0x0460)[(Mem274[(ebp_109 - 0x20) + 0x00:word32] + 0x8C) * 0x04] < 0x00)
				{
					byte al_309;
					if (((word32) (byte) (word32) Mem274[(word32) Mem274[ebp_109 - 0x09 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
						al_309 = (byte) ((word32) Mem274[ebp_109 - 0x09 + 0x00:byte] | 0x20);
					else
						al_309 = (byte) (word32) Mem274[ebp_109 - 0x09 + 0x00:byte];
					byte al_327;
					Mem310[ebp_109 - 0x09 + 0x00:byte] = al_309;
					(ebp_109 - 0x0460)[((word32) Mem310[ebp_109 - 0x09 + 0x00:byte] + 0x0C) * 0x04] = 0x080950DE;
					(ebp_109 - 0x0460)[((word32) Mem313[ebp_109 - 0x09 + 0x00:byte] + 0x8C) * 0x04] = Mem313[ebp_109 - 0x1C + 0x00:word32];
					if (((word32) (byte) (word32) Mem317[(word32) Mem317[ebp_109 - 0x09 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
						al_327 = (byte) ((word32) Mem317[ebp_109 - 0x09 + 0x00:byte] & ~0x20);
					else
						al_327 = (byte) (word32) Mem317[ebp_109 - 0x09 + 0x00:byte];
					Mem330[ebp_109 - 0x09 + 0x00:byte] = al_327;
					(ebp_109 - 0x0460)[((word32) Mem330[ebp_109 - 0x09 + 0x00:byte] + 0x0C) * 0x04] = 0x080950DE;
					(ebp_109 - 0x0460)[((word32) Mem334[ebp_109 - 0x09 + 0x00:byte] + 0x8C) * 0x04] = Mem334[ebp_109 - 0x1C + 0x00:word32];
				}
				Mem292[ebp_109 - 0x1C + 0x00:word32] = Mem274[ebp_109 - 0x1C + 0x00:word32] + 0x01;
			}
			Mem208[esp_108 + 0x00:word32] = Mem196[ebp_109 + 0x08:word32];
			Mem210[ebp_109 - 0x14 + 0x00:word32] = retrieveCurrentAnchor(dwArg00);
			if (Mem210[ebp_109 - 0x14 + 0x00:word32] != 0x00 && ((byte) ((word32) Mem210[Mem210[(ebp_109 - 0x14) + 0x00:word32] + 0x10:byte]) != 0x00 && ((word32) ((byte) ((word32) Mem210[(word32) ((byte) ((word32) Mem210[Mem210[(ebp_109 - 0x14) + 0x00:word32] + 0x10:byte])) + 0x080DB700:byte])) & 0x11) != 0x00))
			{
				Mem248[ebp_109 - 0x1C + 0x00:word32] = 0x00;
				while (Mem248[ebp_109 - 0x1C + 0x00:word32] < Mem248[(ebp_109 - 0x24) + 0x00:word32])
				{
					if (Mem248[Mem248[ebp_109 - 0x14 + 0x00:word32] + 44:word32] == Mem248[Mem248[(ebp_109 - 0x18) + 0x00:word32][Mem248[(ebp_109 - 0x1C) + 0x00:word32] * 0x04] + 44:word32])
					{
						Mem264[ebp_109 - 0x0440 + 0x00:word32] = Mem248[ebp_109 - 0x1C + 0x00:word32];
						break;
					}
					Mem266[ebp_109 - 0x1C + 0x00:word32] = Mem248[ebp_109 - 0x1C + 0x00:word32] + 0x01;
				}
			}
			Mem219[esp_108 + 0x04:word32] = ebp_109 - 0x0464;
			Mem220[esp_108 + 0x00:word32] = 0x00;
			popup_menu(ebp_109, gs_123, dwArg00, dwArg04);
		}
	}
}

// 08097EBD: void lmGoto(Register word32 ebp, Stack word32 dwArg04)
void lmGoto(word32 ebp, word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) al_9 + 0x080DB700:byte] & 0x11) != 0x00 && (Mem0[135782588:word32] + 0x04)[((int32) al_9 + 0x8C) * 0x04] >= 0x00)
	{
		goto_menu(Mem0[135782588:word32], Mem0[Mem0[135782588:word32] + 0x1C:word32] - 0x01, ~0x00);
		word32 eax_57 = (Mem0[135782588:word32] + 0x04)[((int32) Mem0[fp - 0x10 + 0x00:byte] + 0x8C) * 0x04];
		word32 eax_66 = Mem0[135782588:word32];
		Mem67[fp - 0x24 + 0x00:word32] = 0x01;
		Mem68[fp - 0x28 + 0x00:word32] = eax_57 * 0x15;
		Mem69[fp - 44 + 0x00:word32] = eax_66;
		goto_menu(dwArg00, dwArg04, dwArg08);
	}
}

// 08097F5F: void lmSelect(Stack word32 dwArg04)
void lmSelect(word32 dwArg04)
{
	byte al_9 = (byte) dwArg04;
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) al_9 + 0x080DB700:byte] & 0x11) != 0x00)
		select_menu(Mem0[135782588:word32], ((Mem0[Mem0[135782588:word32] + 0x28:word32] - 2249744775 >>u 0x01) + 2249744775 >>u 0x04) * 0x15 + (Mem0[135782588:word32] + 0x04)[((int32) al_9 + 0x8C) * 0x04]);
}

// 08097FE3: void list_menu(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void list_menu(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_17 = Mem0[dwArg04 + 0x60:word32];
	word32 dwLoc28_19 = 0x00;
	if (eax_17 != 0x00)
	{
		word32 dwLoc20_482 = 0x00;
		while (Mem0[eax_17 + 0x04:word32] > dwLoc20_482)
		{
			word32 eax_466 = dwLoc20_482 << 0x02;
			if ((byte) (word32) Mem0[Mem0[eax_17 + 0x00:word32] + ((eax_466 << 0x04) - eax_466) + 0x30:byte] == 0x00)
				dwLoc28_19 = dwLoc28_19 + 0x01;
			dwLoc20_482 = dwLoc20_482 + 0x01;
		}
		if (dwLoc28_19 != 0x00)
		{
			word32 esp_99;
			word32 ebp_100;
			word32 esi_101;
			word32 ebx_102;
			byte SCZO_103;
			word32 eax_104;
			byte Z_105;
			byte SZO_106;
			word32 edx_107;
			word32 ecx_108;
			byte al_109;
			byte C_110;
			byte CZ_111;
			word16 ax_112;
			byte SO_113;
			byte S_114;
			selector gs_115;
			byte bpl_116;
			!GC_malloc();
			word32 esp_122;
			word32 ebp_123;
			word32 esi_124;
			word32 ebx_125;
			byte SCZO_126;
			word32 eax_127;
			byte Z_128;
			byte SZO_129;
			word32 edx_130;
			word32 ecx_131;
			byte al_132;
			byte C_133;
			byte CZ_134;
			word16 ax_135;
			byte SO_136;
			byte S_137;
			selector gs_138;
			byte bpl_139;
			!GC_malloc();
			while (Mem0[Mem0[ebp_123 - 0x10 + 0x00:word32] + 0x04:word32] > Mem0[(ebp_123 - 0x1C) + 0x00:word32])
			{
				word32 eax_323 = Mem0[ebp_123 - 0x1C + 0x00:word32];
				Mem331[ebp_123 - 0x14 + 0x00:word32] = Mem0[Mem0[ebp_123 - 0x10 + 0x00:word32] + 0x00:word32] + ((eax_323 << 0x06) - (eax_323 << 0x02));
				if ((byte) (word32) Mem331[Mem331[ebp_123 - 0x14 + 0x00:word32] + 0x30:byte] == 0x00)
				{
					Mem352[esp_122 + 0x08:word32] = Mem331[ebp_123 - 0x14 + 0x00:word32];
					Mem354[esp_122 + 0x04:word32] = Mem352[ebp_123 - 0x10 + 0x00:word32];
					Mem356[esp_122 + 0x00:word32] = Mem354[ebp_123 + 0x08:word32];
					Mem358[ebp_123 - 0x34 + 0x00:word32] = getAnchorText(dwArg00, dwArg04, dwArg08);
					if (Mem358[ebp_123 - 0x34 + 0x00:word32] == 0x00)
						Mem461[ebp_123 - 0x34 + 0x00:word32] = 0x080CE512;
					if (Mem358[ebp_123 - 44 + 0x00:word32] != 0x00 && Mem358[(ebp_123 - 0x20) + 0x00:word32] >u 0x02B4)
					{
						word32 ebx_452 = (Mem358[ebp_123 - 0x20 + 0x00:word32] << 0x02) + Mem358[(ebp_123 - 0x30) + 0x00:word32];
						Mem455[esp_122 + 0x04:word32] = Mem358[ebp_123 - 0x34 + 0x00:word32];
						Mem456[esp_122 + 0x00:word32] = 135063191;
						byte bpl_457;
						Mem460[ebx_452 + 0x00:word32] = Mem456[Sprintf(dwArg00, out bpl_457) + 0x00:word32];
					}
					else if (Mem358[ebp_123 - 44 + 0x00:word32] != 0x00)
					{
						word32 ecx_387 = Mem358[ebp_123 - 0x20 + 0x00:word32];
						word32 ebx_386 = (Mem358[ebp_123 - 0x20 + 0x00:word32] << 0x02) + Mem358[(ebp_123 - 0x30) + 0x00:word32];
						word32 esi_406 = (int32) (byte) (word32) Mem358[ecx_387 - ((ecx_387 - 2249744775 >>u 0x01) + 2249744775 >>u 0x04) * 0x15 + 0x080D7460:byte];
						word32 eax_419 = (int32) (byte) (word32) Mem358[((Mem358[ebp_123 - 0x20 + 0x00:word32] - 2249744775 >>u 0x01) + 2249744775 >>u 0x04) + 0x080D7480:byte];
						Mem421[esp_122 + 0x0C:word32] = Mem358[ebp_123 - 0x34 + 0x00:word32];
						Mem422[esp_122 + 0x08:word32] = esi_406;
						Mem423[esp_122 + 0x04:word32] = eax_419;
						Mem424[esp_122 + 0x00:word32] = 0x080CE69E;
						byte bpl_425;
						Mem428[ebx_386 + 0x00:word32] = Mem424[Sprintf(dwArg00, out bpl_425) + 0x00:word32];
					}
					else
					{
						word32 ebx_432 = (Mem358[ebp_123 - 0x20 + 0x00:word32] << 0x02) + Mem358[(ebp_123 - 0x30) + 0x00:word32];
						word32 eax_437 = (int32) (byte) (word32) Mem358[Mem358[ebp_123 - 0x20 + 0x00:word32] + 0x080D7460:byte];
						Mem439[esp_122 + 0x08:word32] = Mem358[ebp_123 - 0x34 + 0x00:word32];
						Mem440[esp_122 + 0x04:word32] = eax_437;
						Mem441[esp_122 + 0x00:word32] = 0x080CE690;
						byte bpl_442;
						Mem445[ebx_432 + 0x00:word32] = Mem441[Sprintf(dwArg00, out bpl_442) + 0x00:word32];
					}
					Mem358[ebp_123 - 0x18 + 0x00:word32][Mem358[ebp_123 - 0x20 + 0x00:word32] * 0x04] = Mem358[ebp_123 - 0x14 + 0x00:word32];
					Mem377[ebp_123 - 0x20 + 0x00:word32] = Mem375[ebp_123 - 0x20 + 0x00:word32] + 0x01;
				}
				Mem349[ebp_123 - 0x1C + 0x00:word32] = Mem331[ebp_123 - 0x1C + 0x00:word32] + 0x01;
			}
			Mem0[ebp_123 - 0x30 + 0x00:word32][Mem0[ebp_123 - 0x24 + 0x00:word32] * 0x04] = 0x00;
			set_menu_frame();
			set_menu_frame();
			Mem162[esp_122 + 0x0C:word32] = 0x00;
			Mem164[esp_122 + 0x08:word32] = ebp_123 - 0x28;
			Mem166[esp_122 + 0x04:word32] = Mem164[ebp_123 - 0x30 + 0x00:word32];
			Mem168[esp_122 + 0x00:word32] = ebp_123 - 1128;
			new_option_menu(dwArg00, dwArg04, dwArg08, dwArg0C);
			Mem172[ebp_123 - 0x0444 + 0x00:word32] = 0x00;
			Mem182[ebp_123 - 0x0464 + 0x00:word32] = (int32) (word16) (word32) Mem172[Mem172[ebp_123 + 0x08:word32] + 0x48:word16] + (int32) ((word16) ((word32) Mem172[Mem172[ebp_123 + 0x08:word32] + 0x54:word16]));
			Mem192[ebp_123 - 0x0460 + 0x00:word32] = (int32) (word16) (word32) Mem182[Mem182[ebp_123 + 0x08:word32] + 0x4A:word16] + (int32) ((word16) ((word32) Mem182[Mem182[ebp_123 + 0x08:word32] + 0x56:word16]));
			Mem197[ebp_123 - 1116 + 0x00:word32] = Mem192[ebp_123 - 0x0464 + 0x00:word32] + Mem192[0x0817D3E8:word32] + 0x01;
			Mem201[ebp_123 - 1112 + 0x00:word32] = Mem197[ebp_123 - 0x0460 + 0x00:word32] + 0x02;
			Mem202[ebp_123 - 0x1C + 0x00:word32] = 0x00;
			while (Mem202[ebp_123 - 0x1C + 0x00:word32] <= 0x7F)
			{
				(ebp_123 - 0x0464)[(Mem202[ebp_123 - 0x1C + 0x00:word32] + 0x8C) * 0x04] = ~0x00;
				Mem319[ebp_123 - 0x1C + 0x00:word32] = Mem317[ebp_123 - 0x1C + 0x00:word32] + 0x01;
			}
			if (Mem202[ebp_123 - 44 + 0x00:word32] != 0x00)
			{
				Mem255[ebp_123 - 0x1C + 0x00:word32] = 0x00;
				while (Mem255[ebp_123 - 0x1C + 0x00:word32] <=u 0x20)
				{
					Mem284[ebp_123 - 0x09 + 0x00:byte] = (byte) (word32) Mem255[Mem255[ebp_123 - 0x1C + 0x00:word32] + 0x080D7480:byte];
					(ebp_123 - 0x0464)[((word32) Mem284[ebp_123 - 0x09 + 0x00:byte] + 0x0C) * 0x04] = 134839997;
					(ebp_123 - 0x0464)[((word32) Mem287[ebp_123 - 0x09 + 0x00:byte] + 0x8C) * 0x04] = Mem287[ebp_123 - 0x1C + 0x00:word32];
					Mem293[ebp_123 - 0x1C + 0x00:word32] = Mem291[ebp_123 - 0x1C + 0x00:word32] + 0x01;
				}
				Mem261[ebp_123 - 0x1C + 0x00:word32] = 0x00;
				while (Mem261[ebp_123 - 0x1C + 0x00:word32] <=u 0x14)
				{
					Mem270[ebp_123 - 0x09 + 0x00:byte] = (byte) (word32) Mem261[Mem261[ebp_123 - 0x1C + 0x00:word32] + 0x080D7460:byte];
					(ebp_123 - 0x0464)[((word32) Mem270[ebp_123 - 0x09 + 0x00:byte] + 0x0C) * 0x04] = 0x08097F5F;
					(ebp_123 - 0x0464)[((word32) Mem273[ebp_123 - 0x09 + 0x00:byte] + 0x8C) * 0x04] = Mem273[ebp_123 - 0x1C + 0x00:word32];
					Mem279[ebp_123 - 0x1C + 0x00:word32] = Mem277[ebp_123 - 0x1C + 0x00:word32] + 0x01;
				}
			}
			else
			{
				Mem295[ebp_123 - 0x1C + 0x00:word32] = 0x00;
				while (Mem295[ebp_123 - 0x1C + 0x00:word32] < Mem295[(ebp_123 - 0x24) + 0x00:word32])
				{
					Mem304[ebp_123 - 0x09 + 0x00:byte] = (byte) (word32) Mem295[Mem295[ebp_123 - 0x1C + 0x00:word32] + 0x080D7460:byte];
					(ebp_123 - 0x0464)[((word32) Mem304[ebp_123 - 0x09 + 0x00:byte] + 0x0C) * 0x04] = 0x080950DE;
					(ebp_123 - 0x0464)[((word32) Mem307[ebp_123 - 0x09 + 0x00:byte] + 0x8C) * 0x04] = Mem307[ebp_123 - 0x1C + 0x00:word32];
					Mem313[ebp_123 - 0x1C + 0x00:word32] = Mem311[ebp_123 - 0x1C + 0x00:word32] + 0x01;
				}
			}
			Mem213[esp_122 + 0x00:word32] = Mem202[ebp_123 + 0x08:word32];
			Mem215[ebp_123 - 0x14 + 0x00:word32] = retrieveCurrentAnchor(dwArg00);
			if (Mem215[ebp_123 - 0x14 + 0x00:word32] != 0x00)
			{
				Mem235[ebp_123 - 0x1C + 0x00:word32] = 0x00;
				while (Mem235[ebp_123 - 0x1C + 0x00:word32] < Mem235[(ebp_123 - 0x24) + 0x00:word32])
				{
					if (Mem235[Mem235[ebp_123 - 0x14 + 0x00:word32] + 44:word32] == Mem235[Mem235[(ebp_123 - 0x18) + 0x00:word32][Mem235[(ebp_123 - 0x1C) + 0x00:word32] * 0x04] + 44:word32])
					{
						Mem251[ebp_123 - 0x0444 + 0x00:word32] = Mem235[ebp_123 - 0x1C + 0x00:word32];
						break;
					}
					Mem253[ebp_123 - 0x1C + 0x00:word32] = Mem235[ebp_123 - 0x1C + 0x00:word32] + 0x01;
				}
			}
			Mem223[esp_122 + 0x04:word32] = ebp_123 - 1128;
			Mem224[esp_122 + 0x00:word32] = 0x00;
			popup_menu(ebp_123, gs_138, dwArg00, dwArg04);
		}
	}
}

// 08098458: Register word32 mailcapMatch(Stack word32 dwArg04, Stack word32 dwArg08)
word32 mailcapMatch(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_14 = Mem0[dwArg04 + 0x00:word32] + 0x01;
	while (true)
	{
		word32 eax_121;
		if ((byte) (word32) Mem0[dwLoc0C_14 + 0x00:byte] == 0x2F)
			break;
		word32 edx_165;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc0C_14 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			edx_165 = (int32) (byte) ((word32) Mem0[dwLoc0C_14 + 0x00:byte] | 0x20);
		else
			edx_165 = (int32) (byte) (word32) Mem0[dwLoc0C_14 + 0x00:byte];
		word32 eax_179;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_179 = (int32) (byte) ((word32) Mem0[dwArg08 + 0x00:byte] | 0x20);
		else
			eax_179 = (int32) (byte) (word32) Mem0[dwArg08 + 0x00:byte];
		if (edx_165 != eax_179)
		{
			eax_121 = 0x00;
			return eax_121;
		}
		dwArg08 = dwArg08 + 0x01;
		dwLoc0C_14 = dwLoc0C_14 + 0x01;
	}
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] != 0x2F)
		eax_121 = 0x00;
	else
	{
		word32 dwLoc10_152;
		word32 v11_50 = dwLoc0C_14 + 0x00;
		word32 dwLoc0C_124 = v11_50;
		word32 dwArg08_126 = dwArg08 + 0x01;
		if ((Mem0[dwArg04 + 0x08:word32] & 0x04) != 0x00)
			dwLoc10_152 = 0x01;
		else
			dwLoc10_152 = 0x00;
		if ((byte) (word32) Mem0[v11_50 + 0x00:byte] == 0x2A)
			eax_121 = dwLoc10_152 + 0x0A;
		else
		{
			while ((byte) (word32) Mem0[dwLoc0C_124 + 0x00:byte] != 0x00)
			{
				word32 edx_103;
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc0C_124 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
					edx_103 = (int32) (byte) ((word32) Mem0[dwLoc0C_124 + 0x00:byte] | 0x20);
				else
					edx_103 = (int32) (byte) (word32) Mem0[dwLoc0C_124 + 0x00:byte];
				word32 eax_117;
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08_126 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
					eax_117 = (int32) (byte) ((word32) Mem0[dwArg08_126 + 0x00:byte] | 0x20);
				else
					eax_117 = (int32) (byte) (word32) Mem0[dwArg08_126 + 0x00:byte];
				if (edx_103 != eax_117)
				{
					eax_121 = 0x00;
					return eax_121;
				}
				dwLoc0C_124 = dwLoc0C_124 + 0x01;
				dwArg08_126 = dwArg08_126 + 0x01;
			}
			if ((byte) (word32) Mem0[dwArg08_126 + 0x00:byte] != 0x00)
				eax_121 = 0x00;
			else
				eax_121 = dwLoc10_152 + 0x14;
		}
	}
	return eax_121;
}

// 080985E5: Register word32 searchMailcap(Register word32 ebp, Stack word32 dwArg04)
word32 searchMailcap(word32 ebp, word32 dwArg04)
{
	word32 eax_19;
	word32 ebp_32 = fp - 0x04;
	word32 esp_33 = fp - 0x3C;
	if (dwArg04 == 0x00)
		eax_19 = 0x00;
	else
	{
		while (Mem0[Mem0[ebp_32 + 0x08:word32] + 0x00:word32] != 0x00)
		{
			Mem41[esp_33 + 0x04:word32] = Mem0[ebp_32 + 0x0C:word32];
			Mem43[esp_33 + 0x00:word32] = Mem41[ebp_32 + 0x08:word32];
			Mem46[ebp_32 - 0x14 + 0x00:word32] = mailcapMatch(dwArg00, dwArg04);
			if (Mem46[ebp_32 - 0x14 + 0x00:word32] > Mem46[(ebp_32 - 0x0C) + 0x00:word32])
			{
				if (Mem46[Mem46[ebp_32 + 0x08:word32] + 0x0C:word32] != 0x00)
				{
					word32 eax_79 = Mem46[Mem46[ebp_32 + 0x08:word32] + 0x0C:word32];
					Mem80[esp_33 + 0x10:word32] = 0x00;
					Mem81[esp_33 + 0x0C:word32] = 0x00;
					Mem82[esp_33 + 0x08:word32] = 0x00;
					word32 edx_83 = Mem82[ebp_32 + 0x0C:word32];
					Mem84[esp_33 + 0x04:word32] = edx_83;
					Mem85[esp_33 + 0x00:word32] = eax_79;
					byte bpl_89;
					Mem91[ebp_32 - 0x18 + 0x00:word32] = unquote_mailcap(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out bpl_89);
					word32 eax_93 = Mem91[Mem91[ebp_32 - 0x18 + 0x00:word32] + 0x00:word32];
					Mem94[esp_33 + 0x00:word32] = eax_93;
					byte SCZO_97;
					byte Z_98;
					word32 eax_99;
					byte SZO_100;
					byte C_101;
					word32 edx_102;
					byte bpl_103;
					!system();
					if (eax_99 == 0x00)
						goto l08098675;
				}
				else
				{
l08098675:
					Mem75[ebp_32 - 0x0C + 0x00:word32] = Mem46[ebp_32 - 0x14 + 0x00:word32];
					Mem77[ebp_32 - 0x10 + 0x00:word32] = Mem75[ebp_32 + 0x08:word32];
				}
			}
			Mem59[ebp_32 + 0x08:word32] = Mem46[ebp_32 + 0x08:word32] + 0x18;
		}
		eax_19 = Mem0[ebp_32 - 0x10 + 0x00:word32];
	}
	return eax_19;
}

// 0809869D: Register word32 matchMailcapAttr(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 matchMailcapAttr(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_253;
	word32 dwLoc14_10 = 0x00;
	if (strncasecmp(dwArg04, dwArg08, dwArg0C) == 0x00)
	{
		word32 dwArg04_273 = dwArg04 + dwArg0C + 0x01;
		while (true)
		{
			word32 eax_267 = (word32) Mem0[dwArg04_273 + 0x00:byte];
			if ((byte) eax_267 == 0x00)
				break;
			word32 eax_266 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04_273 + 0x00:byte] + 0x080DB700:byte];
			eax_267 = eax_266 & 0x02;
			if ((eax_266 & 0x02) == 0x00)
				break;
			dwArg04_273 = dwArg04_273 + 0x01;
		}
		if (dwArg10 != 0x00)
		{
			Strnew(eax_267);
			Mem78[dwArg10 + 0x00:word32] = eax_267;
			if ((byte) (word32) Mem78[dwArg04_273 + 0x00:byte] == 0x3D)
			{
				word32 dwArg04_101 = dwArg04_273 + 0x00;
				while ((byte) (word32) Mem78[dwArg04_101 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem78[(word32) ((byte) ((word32) Mem78[dwArg04_101 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					dwArg04_101 = dwArg04_101 + 0x01;
				word32 dwLoc10_116 = 0x00;
				while ((byte) (word32) Mem78[dwArg04_101 + 0x00:byte] != 0x00 && (dwLoc10_116 != 0x00 || (byte) ((word32) Mem78[dwArg04_101 + 0x00:byte]) != 0x3B))
				{
					if (dwLoc10_116 != 0x00 || ((word32) ((byte) ((word32) Mem78[(word32) ((byte) ((word32) Mem78[dwArg04_101 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
						dwLoc14_10 = dwArg04_101;
					if (dwLoc10_116 != 0x00)
						dwLoc10_116 = 0x00;
					else if ((byte) (word32) Mem78[dwArg04_101 + 0x00:byte] == 0x5C)
						dwLoc10_116 = 0x01;
					if (Mem78[Mem78[dwArg10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem78[Mem78[dwArg10 + 0x00:word32] + 0x08:word32])
						Strgrow(Mem78[dwArg10 + 0x00:word32]);
					word32 eax_178 = Mem78[dwArg10 + 0x00:word32];
					word32 edx_179 = Mem78[eax_178 + 0x04:word32];
					Mem185[Mem78[Mem78[dwArg10 + 0x00:word32] + 0x00:word32] + edx_179:byte] = (byte) (word32) Mem78[dwArg04_101 + 0x00:byte];
					Mem187[eax_178 + 0x04:word32] = edx_179 + 0x01;
					Mem195[Mem187[Mem187[dwArg10 + 0x00:word32] + 0x00:word32] + Mem187[Mem187[dwArg10 + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					dwArg04_101 = dwArg04_101 + 0x01;
				}
				if (dwLoc14_10 != 0x00)
					Strshrink(Mem78[dwArg10 + 0x00:word32], dwArg04_101 - dwLoc14_10 - 0x01);
			}
			eax_253 = 0x01;
			return eax_253;
		}
		if ((byte) (word32) Mem0[dwArg04_273 + 0x00:byte] == 0x00 || (byte) ((word32) Mem0[dwArg04_273 + 0x00:byte]) == 0x3B)
		{
			eax_253 = 0x01;
			return eax_253;
		}
	}
	eax_253 = 0x00;
	return eax_253;
}

// 08098871: Register word32 extractMailcapEntry(Stack word32 dwArg04, Stack word32 dwArg08)
word32 extractMailcapEntry(word32 dwArg04, word32 dwArg08)
{
	word32 esp_12;
	word32 ebp_13;
	byte SCZO_14;
	word32 eax_15;
	byte al_16;
	byte SZO_17;
	byte C_18;
	byte Z_19;
	byte S_20;
	word32 edx_21;
	!bzero();
	word32 dwLoc18_24 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc18_24 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc18_24 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc18_24 = dwLoc18_24 + 0x01;
	word32 dwLoc14_39 = ~0x00;
	word32 dwLoc10_40 = 0x01;
	while ((byte) (word32) Mem0[dwLoc10_40 + dwLoc18_24:byte] != 0x00 && (byte) ((word32) Mem0[dwLoc10_40 + dwLoc18_24:byte]) != 0x3B)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc10_40 + dwLoc18_24:byte] + 0x080DB700:byte] & 0x02) == 0x00)
			dwLoc14_39 = dwLoc10_40;
		dwLoc10_40 = dwLoc10_40 + 0x01;
	}
	word32 eax_426;
	if (dwLoc14_39 >= 0x00)
		eax_426 = dwLoc14_39 + 0x01;
	else
		eax_426 = dwLoc10_40;
	word32 eax_158;
	Mem63[dwArg08 + 0x00:word32] = allocStr(dwLoc18_24, eax_426);
	if ((byte) (word32) Mem63[dwLoc10_40 + dwLoc18_24:byte] == 0x00)
		eax_158 = 0x00;
	else
	{
		word32 dwLoc18_100 = dwLoc18_24 + (dwLoc10_40 + 0x00);
		while ((byte) (word32) Mem63[dwLoc18_100 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem63[(word32) ((byte) ((word32) Mem63[dwLoc18_100 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			dwLoc18_100 = dwLoc18_100 + 0x01;
		word32 dwLoc14_113 = ~0x00;
		word32 dwLoc1C_114 = 0x00;
		word32 dwLoc10_115 = 0x00;
		while ((byte) (word32) Mem63[dwLoc10_115 + dwLoc18_100:byte] != 0x00 && (dwLoc1C_114 != 0x00 || (byte) ((word32) Mem63[dwLoc10_115 + dwLoc18_100:byte]) != 0x3B))
		{
			if (dwLoc1C_114 != 0x00 || ((word32) ((byte) ((word32) Mem63[(word32) ((byte) ((word32) Mem63[dwLoc10_115 + dwLoc18_100:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)
				dwLoc14_113 = dwLoc10_115;
			if (dwLoc1C_114 != 0x00)
				dwLoc1C_114 = 0x00;
			else if ((byte) (word32) Mem63[dwLoc10_115 + dwLoc18_100:byte] == 0x5C)
				dwLoc1C_114 = 0x01;
			dwLoc10_115 = dwLoc10_115 + 0x01;
		}
		word32 eax_132;
		if (dwLoc14_113 >= 0x00)
			eax_132 = dwLoc14_113 + 0x01;
		else
			eax_132 = dwLoc10_115;
		Mem139[dwArg08 + 0x04:word32] = allocStr(dwLoc18_100, eax_132);
		word32 dwLoc18_142 = dwLoc18_100 + dwLoc10_115;
		while ((byte) (word32) Mem139[dwLoc18_142 + 0x00:byte] == 0x3B)
		{
			dwLoc18_142 = dwLoc18_142 + 0x01 + 0x01;
			while ((byte) (word32) Mem139[dwLoc18_142 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem139[(word32) ((byte) ((word32) Mem139[dwLoc18_142 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				dwLoc18_142 = dwLoc18_142 + 0x00;
			if (matchMailcapAttr(dwLoc18_142, 0x080CE720, 0x0D, 0x00) != 0x00)
				Mem232[dwArg08 + 0x08:word32] = Mem139[dwArg08 + 0x08:word32] | 0x01;
			else if (matchMailcapAttr(dwLoc18_142, 0x080CE72E, 0x0D, 0x00) != 0x00)
				Mem249[dwArg08 + 0x08:word32] = Mem139[dwArg08 + 0x08:word32] | 0x02;
			else if (matchMailcapAttr(dwLoc18_142, 135063356, 0x0C, 0x00) == 0x00 && matchMailcapAttr(dwLoc18_142, 135063369, 0x0A, 0x00) == 0x00)
			{
				if (matchMailcapAttr(dwLoc18_142, 135063380, 0x04, fp - 0x20) != 0x00)
					Mem300[dwArg08 + 0x0C:word32] = allocStr(Mem139[dwLoc20 + 0x00:word32], Mem139[dwLoc20 + 0x04:word32]);
				else if (matchMailcapAttr(dwLoc18_142, 135063385, 0x0C, fp - 0x20) != 0x00)
					Mem319[dwArg08 + 0x10:word32] = allocStr(Mem139[dwLoc20 + 0x00:word32], Mem139[dwLoc20 + 0x04:word32]);
				else if (matchMailcapAttr(dwLoc18_142, 0x080CE766, 0x04, fp - 0x20) != 0x00)
					Mem338[dwArg08 + 0x14:word32] = allocStr(Mem139[dwLoc20 + 0x00:word32], Mem139[dwLoc20 + 0x04:word32]);
			}
			else
				Mem271[dwArg08 + 0x08:word32] = Mem139[dwArg08 + 0x08:word32] | 0x04;
			word32 dwLoc1C_190 = 0x00;
			while ((byte) (word32) Mem139[dwLoc18_142 + 0x00:byte] != 0x00 && (dwLoc1C_190 != 0x00 || (byte) ((word32) Mem139[dwLoc18_142 + 0x00:byte]) != 0x3B))
			{
				if (dwLoc1C_190 != 0x00)
					dwLoc1C_190 = 0x00;
				else if ((byte) (word32) Mem139[dwLoc18_142 + 0x00:byte] == 0x5C)
					dwLoc1C_190 = 0x01;
				dwLoc18_142 = dwLoc18_142 + 0x01;
			}
		}
		eax_158 = 0x01;
	}
	return eax_158;
}

// 08098C6A: Register word32 loadMailcap(Stack word32 dwArg04)
word32 loadMailcap(word32 dwArg04)
{
	word32 eax_136;
	word32 eax_18 = fopen(expandPath(dwArg04), 135063403);
	if (eax_18 == 0x00)
		eax_136 = 0x00;
	else
	{
		do
			Strfgets(eax_18, eax_18);
		while (Mem0[eax_18 + 0x04:word32] > 0x00);
		word32 esp_69;
		word32 ebp_70;
		word32 ebx_71;
		byte SCZO_72;
		word32 eax_73;
		byte Z_74;
		byte SZO_75;
		byte C_76;
		word32 edx_77;
		byte al_78;
		!fseek();
		word32 esp_89;
		word32 ebp_90;
		word32 ebx_91;
		byte SCZO_92;
		word32 eax_93;
		byte Z_94;
		byte SZO_95;
		byte C_96;
		word32 edx_97;
		byte al_98;
		!GC_malloc();
		word32 dwLoc14_100 = 0x00;
		while (true)
		{
			Strfgets(eax_18, eax_18);
			if (Mem0[eax_18 + 0x04:word32] <= 0x00)
				break;
			if ((byte) (word32) Mem0[Mem0[eax_18 + 0x00:word32] + 0x00:byte] != 0x23)
			{
				while (true)
				{
					while (true)
					{
						word32 eax_155;
						if (Mem0[eax_18 + 0x04:word32] > 0x00)
							eax_155 = (word32) (byte) (word32) Mem0[Mem0[eax_18 + 0x00:word32] + (Mem0[eax_18 + 0x04:word32] - 0x01):byte];
						else
							eax_155 = 0x00;
						if (((word32) (byte) (word32) Mem0[eax_155 + 0x080DB700:byte] & 0x02) == 0x00)
							break;
						Strshrink(eax_18, 0x01);
					}
					if (Mem0[eax_18 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem0[Mem0[eax_18 + 0x00:word32] + (Mem0[eax_18 + 0x04:word32] - 0x01):byte]) != 0x5C)
						break;
					Strshrink(eax_18, 0x01);
					Strfgets(eax_18, eax_18);
					Strcat(eax_18, eax_18);
				}
				if (extractMailcapEntry(Mem0[eax_18 + 0x00:word32], dwLoc14_100 * 0x18 + eax_93) != 0x00)
					dwLoc14_100 = dwLoc14_100 + 0x01;
			}
		}
		word32 esp_123;
		word32 ebp_124;
		word32 ebx_125;
		byte SCZO_126;
		word32 eax_127;
		byte Z_128;
		byte SZO_129;
		byte C_130;
		word32 edx_131;
		byte al_132;
		!bzero();
		fclose(eax_18);
		eax_136 = eax_93;
	}
	return eax_136;
}

// 08098E46: void initMailcap()
void initMailcap()
{
	if (non_null(Mem0[0x080D5354:word32]) != 0x00)
		Mem91[0x0817E0CC:word32] = make_domain_list(Mem0[0x080D5354:word32]);
	else
		Mem92[0x0817E0CC:word32] = 0x00;
	if (Mem0[0x0817E0CC:word32] != 0x00)
	{
		word32 esp_48;
		word32 ebp_49;
		word32 ebx_50;
		byte SCZO_51;
		word32 eax_52;
		byte SZO_53;
		byte C_54;
		byte Z_55;
		word16 ax_56;
		word32 edx_57;
		!GC_malloc();
		Mem58[0x0817E0D0:word32] = eax_52;
		word32 dwLoc14_59 = 0x00;
		word32 dwLoc10_62 = Mem58[Mem58[0x0817E0CC:word32] + 0x00:word32];
		while (dwLoc10_62 != 0x00)
		{
			Mem58[0x0817E0D0:word32][dwLoc14_59 * 0x04] = loadMailcap(Mem58[dwLoc10_62 + 0x00:word32]);
			dwLoc14_59 = dwLoc14_59 + 0x01;
			dwLoc10_62 = Mem80[dwLoc10_62 + 0x04:word32];
		}
	}
}

// 08098EEB: Register word32 acceptableMimeTypes()
word32 acceptableMimeTypes()
{
	word32 eax_28;
	word32 eax_8 = Mem0[0x0817E0D4:word32];
	if (eax_8 != 0x00)
		eax_28 = Mem0[Mem0[0x0817E0D4:word32] + 0x00:word32];
	else
	{
		newGeneralList(eax_8);
		newHash_si(eax_8, 0x10);
		putHash_si(eax_8, 135063405, 0x01);
		pushValue(eax_8, allocStr(0x080CE772, ~0x00));
		putHash_si(eax_8, 0x080CE772, 0x01);
		word32 dwLoc1C_131 = 0x00;
		while (true)
		{
			word32 eax_81 = (int32) (word16) (word32) Mem0[Mem0[0x0817E0CC:word32] + 0x08:word16];
			if (eax_81 <= dwLoc1C_131)
				break;
			word32 eax_114 = Mem0[0x0817E0D0:word32][dwLoc1C_131 * 0x04];
			word32 dwLoc20_115 = eax_114;
			if (eax_114 != 0x00)
			{
				while (Mem0[dwLoc20_115 + 0x00:word32] != 0x00)
				{
					word32 eax_152 = strchr(Mem0[dwLoc20_115 + 0x00:word32], '/');
					if (eax_152 != 0x00)
					{
						word32 eax_177 = allocStr(Mem0[dwLoc20_115 + 0x00:word32], eax_152 - Mem0[dwLoc20_115 + 0x00:word32]);
						if (getHash_si(eax_8, eax_177, 0x00) == 0x00)
						{
							pushValue(eax_8, allocStr(eax_177, ~0x00));
							putHash_si(eax_8, eax_177, 0x01);
						}
					}
					dwLoc20_115 = dwLoc20_115 + 0x18;
				}
			}
			dwLoc1C_131 = dwLoc1C_131 + 0x01;
		}
		Strnew(eax_81);
		Mem85[0x0817E0D4:word32] = eax_81;
		Strcat_charp(Mem85[0x0817E0D4:word32], 0x080CE778);
		while (true)
		{
			word32 eax_93 = popValue(eax_8);
			if (eax_93 == 0x00)
				break;
			Strcat_charp(Mem85[0x0817E0D4:word32], 0x080CE790);
			Strcat_charp(Mem85[0x0817E0D4:word32], eax_93);
			Strcat_charp(Mem85[0x0817E0D4:word32], 135063443);
		}
		eax_28 = Mem85[Mem85[0x0817E0D4:word32] + 0x00:word32];
	}
	return eax_28;
}

// 080990E3: Register word32 searchExtViewer(Register word32 ebp, Register out ptr32 bplOut)
word32 searchExtViewer(word32 ebp, ptr32 & bplOut)
{
	word32 eax_18;
	if (Mem0[0x0817E0CC:word32] != 0x00)
	{
		while ((int32) (word16) (word32) Mem0[Mem0[0x0817E0CC:word32] + 0x08:word16] > Mem0[(fp - 0x14) + 0x00:word32])
		{
			word32 eax_51 = Mem0[0x0817E0D0:word32][Mem0[fp - 0x14 + 0x00:word32] * 0x04];
			Mem53[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Mem54[fp - 44 + 0x00:word32] = eax_51;
			Mem56[fp - 0x10 + 0x00:word32] = searchMailcap(fp - 0x04, dwArg00);
			if (Mem56[fp - 0x10 + 0x00:word32] != 0x00)
			{
				eax_18 = Mem56[fp - 0x10 + 0x00:word32];
				goto l08099150;
			}
			Mem62[fp - 0x14 + 0x00:word32] = Mem56[fp - 0x14 + 0x00:word32] + 0x01;
		}
	}
	Mem31[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x04:word32];
	Mem32[fp - 44 + 0x00:word32] = 0x080D74C0;
	eax_18 = searchMailcap(fp - 0x04, dwArg00);
l08099150:
	byte bpl_22;
	*bplOut = (byte) Mem0[fp - 0x04 + 0x00:word32];
	return eax_18;
}

// 08099152: Register word32 quote_mailcap(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 quote_mailcap(word32 eax, word32 dwArg04, word32 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	Strnew(eax);
	while (true)
	{
		word32 eax_32 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (eax_32 <=u 0x60)
			break;
		if (dwArg08 == 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg04 + 0x00:byte])) + 0x080DB700:byte])) & 0x0C) == 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_117 = Mem0[eax + 0x04:word32];
			Mem120[Mem0[eax + 0x00:word32] + eax_117:byte] = 0x5C;
			Mem123[eax + 0x04:word32] = eax_117 + 0x01;
			Mem129[Mem123[eax + 0x00:word32] + Mem123[eax + 0x04:word32]:byte] = 0x00;
		}
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_74 = Mem0[eax + 0x04:word32];
		Mem80[Mem0[eax + 0x00:word32] + eax_74:byte] = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		Mem83[eax + 0x04:word32] = eax_74 + 0x01;
		Mem89[Mem83[eax + 0x00:word32] + Mem83[eax + 0x04:word32]:byte] = 0x00;
		dwArg04 = dwArg04 + 0x01;
	}
	word32 eax_36 = 0x080CE79C[eax_32 * 0x04];
	word32 esp_38;
	word32 ebp_39;
	byte SCZO_40;
	word32 eax_41;
	byte al_42;
	byte CZ_43;
	bcuiposr0 None_44;
	byte Z_45;
	byte SZO_46;
	byte C_47;
	word32 edx_48;
	byte SO_49;
	word32 ecx_50;
	byte dl_51;
	eax_36();
	return eax_41;
}

// 0809930F: Register word32 unquote_mailcap_loop(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg14, Stack word32 dwArg18)
word32 unquote_mailcap_loop(word32 eax, word32 ebp, word32 dwArg04, word32 dwArg14, word32 dwArg18)
{
	word32 ebp_103 = fp - 0x04;
	word32 esp_104 = fp - 0x4C;
	if (dwArg14 != 0x00)
	{
		Mem590[dwArg14 + 0x00:word32] = 0x00;
		eax = dwArg14;
	}
	word32 eax_37;
	if (dwArg04 == 0x00)
		eax_37 = 0x00;
	else
	{
		Strnew(eax);
		while ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] != 0x00)
		{
			if (Mem0[ebp_103 - 0x20 + 0x00:word32] == 0x03)
			{
				if (Mem0[ebp_103 - 0x24 + 0x00:word32] == 0x02)
				{
					if (Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_103 - 0x10) + 0x00:word32] + 0x08:word32])
					{
						Mem146[esp_104 + 0x00:word32] = Mem0[ebp_103 - 0x10 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_128 = Mem0[ebp_103 - 0x10 + 0x00:word32];
					word32 edx_129 = Mem0[eax_128 + 0x04:word32];
					Mem135[Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32] + edx_129:byte] = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
					Mem138[eax_128 + 0x04:word32] = edx_129 + 0x01;
					Mem144[Mem138[Mem138[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32] + Mem138[Mem138[(ebp_103 - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				else
				{
					if (Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_103 - 0x0C) + 0x00:word32] + 0x08:word32])
					{
						Mem176[esp_104 + 0x00:word32] = Mem0[ebp_103 - 0x0C + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_158 = Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32];
					Mem165[Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x00:word32] + eax_158:byte] = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
					Mem168[Mem165[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32] = eax_158 + 0x01;
					Mem174[Mem168[Mem168[ebp_103 - 0x0C + 0x00:word32] + 0x00:word32] + Mem168[Mem168[(ebp_103 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				Mem118[ebp_103 - 0x20 + 0x00:word32] = Mem0[ebp_103 - 0x24 + 0x00:word32];
			}
			else if ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] == 0x5C)
			{
				Mem183[ebp_103 - 0x24 + 0x00:word32] = Mem0[ebp_103 - 0x20 + 0x00:word32];
				Mem184[ebp_103 - 0x20 + 0x00:word32] = 0x03;
			}
			else
			{
				word32 eax_185 = Mem0[ebp_103 - 0x20 + 0x00:word32];
				if (eax_185 != 0x01)
				{
					if (eax_185 != 0x02)
					{
						if (eax_185 == 0x00)
						{
							if ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] == 0x25)
								Mem199[ebp_103 - 0x20 + 0x00:word32] = 0x01;
							else
							{
								if ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] == 0x27)
								{
									if (Mem0[ebp_103 + 0x1C:word32] == 0x00 && (byte) (Mem0[(ebp_103 - 44) + 0x00:word32] & 0x01) != 0x00)
										Mem257[ebp_103 - 44 + 0x00:word32] = Mem0[ebp_103 - 44 + 0x00:word32] & ~0x01;
									else if (Mem0[ebp_103 - 44 + 0x00:word32] == 0x00)
										Mem247[ebp_103 - 44 + 0x00:word32] = Mem0[ebp_103 - 44 + 0x00:word32] | 0x01;
								}
								else if ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] == 0x22)
								{
									if (Mem0[ebp_103 + 0x1C:word32] == 0x00 && (Mem0[(ebp_103 - 44) + 0x00:word32] & 0x02) != 0x00)
										Mem282[ebp_103 - 44 + 0x00:word32] = Mem0[ebp_103 - 44 + 0x00:word32] & ~0x02;
									else if (Mem0[ebp_103 - 44 + 0x00:word32] == 0x00)
										Mem273[ebp_103 - 44 + 0x00:word32] = Mem0[ebp_103 - 44 + 0x00:word32] | 0x02;
								}
								if (Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_103 - 0x0C) + 0x00:word32] + 0x08:word32])
								{
									Mem237[esp_104 + 0x00:word32] = Mem0[ebp_103 - 0x0C + 0x00:word32];
									Strgrow(dwArg00);
								}
								word32 eax_219 = Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32];
								Mem226[Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x00:word32] + eax_219:byte] = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
								Mem229[Mem226[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32] = eax_219 + 0x01;
								Mem235[Mem229[Mem229[ebp_103 - 0x0C + 0x00:word32] + 0x00:word32] + Mem229[Mem229[(ebp_103 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
							}
						}
					}
					else if (Mem0[ebp_103 - 0x28 + 0x00:word32] <= 0x00 && (byte) ((word32) Mem0[Mem0[(ebp_103 - 0x1C) + 0x00:word32] + 0x00:byte]) != 0x7B)
					{
						byte al_338 = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
						if (al_338 == 0x7D)
						{
							if (Mem0[ebp_103 + 0x14:word32] != 0x00)
							{
								Mem360[esp_104 + 0x04:word32] = Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32];
								word32 eax_361 = Mem360[ebp_103 + 0x14:word32];
								Mem362[esp_104 + 0x00:word32] = eax_361;
								word32 ebx_365;
								byte SCZO_366;
								byte Z_367;
								word32 eax_368;
								byte al_369;
								byte SZO_370;
								byte C_371;
								word32 edx_372;
								byte SO_373;
								word32 ecx_374;
								byte cl_375;
								byte dl_376;
								!strcasestr();
								Mem377[ebp_103 - 0x30 + 0x00:word32] = eax_368;
								if (Mem377[ebp_103 - 0x30 + 0x00:word32] != 0x00 && (Mem377[(ebp_103 - 0x30) + 0x00:word32] == Mem377[ebp_103 + 0x14:word32] || (((word32) ((byte) ((word32) Mem377[(word32) ((byte) ((word32) Mem377[(Mem377[(ebp_103 - 0x30) + 0x00:word32] - 0x01) + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00 || (byte) ((word32) Mem377[(Mem377[(ebp_103 - 0x30) + 0x00:word32] - 0x01) + 0x00:byte]) == 0x3B)))
								{
									word32 edx_386 = Mem377[Mem377[ebp_103 - 0x10 + 0x00:word32] + 0x04:word32];
									word32 eax_388 = Mem377[Mem377[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32];
									Mem390[esp_104 + 0x0C:word32] = ebp_103 - 0x10;
									Mem391[esp_104 + 0x08:word32] = edx_386;
									Mem392[esp_104 + 0x04:word32] = eax_388;
									Mem394[esp_104 + 0x00:word32] = Mem392[ebp_103 - 0x30 + 0x00:word32];
									if (matchattr(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
									{
										word32 eax_402 = Mem394[Mem394[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32];
										Mem404[esp_104 + 0x04:word32] = Mem394[ebp_103 - 44 + 0x00:word32];
										Mem405[esp_104 + 0x00:word32] = eax_402;
										word32 eax_409 = Mem405[quote_mailcap(eax_402, dwArg00, dwArg04, out esp_104, out ebp_103) + 0x00:word32];
										Mem410[esp_104 + 0x04:word32] = eax_409;
										Mem412[esp_104 + 0x00:word32] = Mem410[ebp_103 - 0x0C + 0x00:word32];
										Strcat_charp(dwArg00, dwArg04);
										if (Mem412[ebp_103 + 0x18:word32] != 0x00)
											Mem422[Mem412[ebp_103 + 0x18:word32] + 0x00:word32] = Mem412[Mem412[ebp_103 + 0x18:word32] + 0x00:word32] | 0x04;
									}
								}
							}
							Mem357[ebp_103 - 0x20 + 0x00:word32] = 0x00;
						}
						else
						{
							if (Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_103 - 0x10) + 0x00:word32] + 0x08:word32])
							{
								Mem468[esp_104 + 0x00:word32] = Mem0[ebp_103 - 0x10 + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_450 = Mem0[ebp_103 - 0x10 + 0x00:word32];
							word32 edx_451 = Mem0[eax_450 + 0x04:word32];
							Mem457[Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32] + edx_451:byte] = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
							Mem460[eax_450 + 0x04:word32] = edx_451 + 0x01;
							Mem466[Mem460[Mem460[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32] + Mem460[Mem460[(ebp_103 - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						}
					}
					else
					{
						if (Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_103 - 0x10) + 0x00:word32] + 0x08:word32])
						{
							Mem330[esp_104 + 0x00:word32] = Mem0[ebp_103 - 0x10 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_298 = Mem0[ebp_103 - 0x10 + 0x00:word32];
						word32 edx_299 = Mem0[eax_298 + 0x04:word32];
						Mem305[Mem0[Mem0[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32] + edx_299:byte] = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
						Mem307[eax_298 + 0x04:word32] = edx_299 + 0x01;
						Mem313[Mem307[Mem307[ebp_103 - 0x10 + 0x00:word32] + 0x00:word32] + Mem307[Mem307[(ebp_103 - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						word32 eax_317 = (int32) (byte) (word32) Mem313[Mem313[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
						if (eax_317 != 0x7B)
						{
							if (eax_317 == 0x7D)
								Mem324[ebp_103 - 0x28 + 0x00:word32] = Mem313[ebp_103 - 0x28 + 0x00:word32] - 0x01;
						}
						else
							Mem327[ebp_103 - 0x28 + 0x00:word32] = Mem313[ebp_103 - 0x28 + 0x00:word32] + 0x01;
					}
				}
				else if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
				{
					word32 eax_483 = (int32) (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
					if (eax_483 != 115)
					{
						if (eax_483 == 116 && Mem0[ebp_103 + 0x0C:word32] != 0x00)
						{
							Mem501[esp_104 + 0x04:word32] = Mem0[ebp_103 - 44 + 0x00:word32];
							word32 eax_502 = Mem501[ebp_103 + 0x0C:word32];
							Mem503[esp_104 + 0x00:word32] = eax_502;
							word32 eax_507 = Mem503[quote_mailcap(eax_502, dwArg00, dwArg04, out esp_104, out ebp_103) + 0x00:word32];
							Mem508[esp_104 + 0x04:word32] = eax_507;
							Mem510[esp_104 + 0x00:word32] = Mem508[ebp_103 - 0x0C + 0x00:word32];
							Strcat_charp(dwArg00, dwArg04);
							if (Mem510[ebp_103 + 0x18:word32] != 0x00)
								Mem520[Mem510[ebp_103 + 0x18:word32] + 0x00:word32] = Mem510[Mem510[ebp_103 + 0x18:word32] + 0x00:word32] | 0x02;
						}
					}
					else if (Mem0[ebp_103 + 0x10:word32] != 0x00)
					{
						Mem524[esp_104 + 0x04:word32] = Mem0[ebp_103 - 44 + 0x00:word32];
						word32 eax_525 = Mem524[ebp_103 + 0x10:word32];
						Mem526[esp_104 + 0x00:word32] = eax_525;
						word32 eax_530 = Mem526[quote_mailcap(eax_525, dwArg00, dwArg04, out esp_104, out ebp_103) + 0x00:word32];
						Mem531[esp_104 + 0x04:word32] = eax_530;
						Mem533[esp_104 + 0x00:word32] = Mem531[ebp_103 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						if (Mem533[ebp_103 + 0x18:word32] != 0x00)
							Mem543[Mem533[ebp_103 + 0x18:word32] + 0x00:word32] = Mem533[Mem533[ebp_103 + 0x18:word32] + 0x00:word32] | 0x01;
					}
					Mem495[ebp_103 - 0x20 + 0x00:word32] = 0x00;
				}
				else if ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] == 0x7B)
				{
					Mem549[ebp_103 - 0x20 + 0x00:word32] = 0x02;
					Mem550[ebp_103 - 0x18 + 0x00:word32] = 0x00;
					word32 eax_551 = Mem550[ebp_103 - 0x18 + 0x00:word32];
					Mem552[ebp_103 - 0x14 + 0x00:word32] = eax_551;
					Strnew(eax_551);
					Mem553[ebp_103 - 0x10 + 0x00:word32] = eax_551;
				}
				else if ((byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte] == 0x25)
				{
					if (Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_103 - 0x0C) + 0x00:word32] + 0x08:word32])
					{
						Mem587[esp_104 + 0x00:word32] = Mem0[ebp_103 - 0x0C + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_569 = Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32];
					Mem576[Mem0[Mem0[ebp_103 - 0x0C + 0x00:word32] + 0x00:word32] + eax_569:byte] = (byte) (word32) Mem0[Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x00:byte];
					Mem579[Mem576[ebp_103 - 0x0C + 0x00:word32] + 0x04:word32] = eax_569 + 0x01;
					Mem585[Mem579[Mem579[ebp_103 - 0x0C + 0x00:word32] + 0x00:word32] + Mem579[Mem579[(ebp_103 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
			}
			Mem106[ebp_103 - 0x1C + 0x00:word32] = Mem0[ebp_103 - 0x1C + 0x00:word32] + 0x01;
		}
		eax_37 = Mem0[ebp_103 - 0x0C + 0x00:word32];
	}
	return eax_37;
}

// 08099846: Register word32 unquote_mailcap(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Register out ptr32 bplOut)
word32 unquote_mailcap(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, ptr32 & bplOut)
{
	word32 eax_24 = unquote_mailcap_loop(dwArg04, fp - 0x04, dwArg04, dwArg14, 0x00);
	byte bpl_28;
	*bplOut = (byte) Mem0[fp - 0x04 + 0x00:word32];
	return eax_24;
}

// 08099880: void initImage()
void initImage()
{
	if (Mem0[135774940:word32] == 0x00 && getCharSize() != 0x00)
		Mem23[135774940:word32] = 0x01;
}

// 080998A7: Register word32 getCharSize()
word32 getCharSize()
{
	word32 eax_13 = set_environ(0x080CE920, ttyname_tty());
	Strnew(eax_13);
	if (strchr(Mem0[0x080D5308:word32], '/') == 0x00)
	{
		w3m_auxbin_dir();
		Strcat_m_charp(eax_13);
	}
	word32 eax_117;
	Strcat_m_charp(eax_13);
	word32 esp_34;
	word32 ebp_35;
	byte SCZO_36;
	word32 eax_37;
	byte SZO_38;
	byte C_39;
	byte Z_40;
	word32 edx_41;
	byte S_42;
	byte ah_43;
	word16 ax_44;
	!popen();
	if (eax_37 == 0x00)
		eax_117 = 0x00;
	else
	{
		do
		{
			word32 esp_85;
			word32 ebp_86;
			byte SCZO_87;
			word32 eax_88;
			byte SZO_89;
			byte C_90;
			byte Z_91;
			word32 edx_92;
			byte S_93;
			byte ah_94;
			word16 ax_95;
			!fscanf();
		} while (eax_88 < 0x00 && feof(eax_37) == 0x00);
		word32 esp_101;
		word32 ebp_102;
		byte SCZO_103;
		word32 eax_104;
		byte SZO_105;
		byte C_106;
		byte Z_107;
		word32 edx_108;
		byte S_109;
		byte ah_110;
		word16 ax_111;
		!pclose();
		if (false && false)
		{
			if (Mem0[135775108:word32] == 0x00)
			{
				real64 rLoc1_173 = (real64) 0x00 / (real64) Mem0[0x081807A0:word32] + Mem0[0x080CE9B0:real64];
				word16 wLoc22_174 = __fstcw();
				ax_111 = DPB(ax_111, 0x0C, 8);
				__fldcw(ax_111);
				__fldcw(wLoc22_174);
				Mem183[0x080D53A0:real64] = (real64) (int32) rLoc1_173;
			}
			if (Mem0[135775112:word32] == 0x00)
			{
				real64 rLoc1_154 = (real64) 0x00 / (real64) Mem0[0x08180780:word32] + Mem0[0x080CE9B0:real64];
				word16 wLoc22_155 = __fstcw();
				__fldcw(DPB(ax_111, 0x0C, 8));
				__fldcw(wLoc22_155);
				Mem164[135091112:real64] = (real64) (int32) rLoc1_154;
			}
			eax_117 = 0x01;
		}
		else
			eax_117 = 0x00;
	}
	return eax_117;
}

// 08099A5E: void termImage()
void termImage()
{
	if (Mem0[135774940:word32] != 0x00)
	{
		clearImage();
		if (Mem0[0x0817E0F4:word32] != 0x00)
		{
			fwrite(0x080CE945, 0x01, 0x03, Mem0[0x0817E0F4:word32]);
			fflush(Mem0[0x0817E0F4:word32]);
		}
		closeImgdisplay();
	}
}

// 08099AB9: Register word32 openImgdisplay()
word32 openImgdisplay()
{
	word32 eax_28;
	Mem14[0x0817E0F8:word32] = open_pipe_rw(0x0817E0F0, 0x0817E0F4);
	if (Mem14[0x0817E0F8:word32] >= 0x00)
	{
		if (Mem14[0x0817E0F8:word32] == 0x00)
		{
			word32 dwLoc10_69;
			setup_child(0x00, 0x02, ~0x00);
			if (strchr(Mem14[0x080D5308:word32], '/') == 0x00)
			{
				word32 eax_74 = w3m_auxbin_dir();
				Strnew_m_charp(eax_74, eax_74);
				dwLoc10_69 = Mem14[eax_74 + 0x00:word32];
			}
			else
				dwLoc10_69 = Mem14[0x080D5308:word32];
			myExec(dwLoc10_69);
		}
		Mem53[135774940:word32] = 0x01;
		eax_28 = 0x01;
	}
	else
	{
		Mem83[0x0817E0F8:word32] = 0x00;
		Mem84[135774940:word32] = 0x00;
		eax_28 = 0x00;
	}
	return eax_28;
}

// 08099B96: void closeImgdisplay()
void closeImgdisplay()
{
	if (Mem0[0x0817E0F0:word32] != 0x00)
		fclose(Mem0[0x0817E0F0:word32]);
	if (Mem0[0x0817E0F4:word32] != 0x00)
		fclose(Mem0[0x0817E0F4:word32]);
	if (Mem0[0x0817E0F8:word32] != 0x00)
	{
		word32 esp_41;
		word32 ebp_42;
		byte SCZO_43;
		word32 eax_44;
		byte SZO_45;
		byte C_46;
		byte Z_47;
		!kill();
	}
	Mem32[0x0817E0F0:word32] = 0x00;
	Mem33[0x0817E0F4:word32] = 0x00;
	Mem34[0x0817E0F8:word32] = 0x00;
}

// 08099C06: void addImage(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
void addImage(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	if (Mem0[135774940:word32] != 0x00)
	{
		if (Mem0[0x0817E0E8:word32] >= Mem0[0x0817E0EC:word32])
		{
			word32 eax_116;
			if (Mem0[0x0817E0EC:word32] != 0x00)
				eax_116 = Mem0[0x0817E0EC:word32] * 0x02;
			else
				eax_116 = 0x08;
			Mem94[0x0817E0EC:word32] = eax_116;
			word32 esp_104;
			word32 ebp_105;
			byte SCZO_106;
			word32 eax_107;
			byte SZO_108;
			byte C_109;
			byte Z_110;
			word32 edx_111;
			byte SO_112;
			word16 dx_113;
			!GC_realloc();
			Mem114[0x0817E0E4:word32] = eax_107;
		}
		word32 eax_43 = Mem0[0x0817E0E4:word32] + (Mem0[0x0817E0E8:word32] << 0x04);
		Mem48[eax_43 + 0x00:word32] = dwArg04;
		Mem54[eax_43 + 0x04:word16] = (word16) dwArg08;
		Mem60[eax_43 + 0x06:word16] = (word16) dwArg0C;
		Mem66[eax_43 + 0x08:word16] = (word16) dwArg10;
		Mem72[eax_43 + 0x0A:word16] = (word16) dwArg14;
		Mem78[eax_43 + 0x0C:word16] = (word16) dwArg18;
		Mem84[eax_43 + 0x0E:word16] = (word16) dwArg1C;
		Mem88[0x0817E0E8:word32] = Mem84[0x0817E0E8:word32] + 0x01;
	}
}

// 08099CD9: void syncImage()
void syncImage()
{
	fwrite(0x080CE949, 0x01, 0x03, Mem0[0x0817E0F4:word32]);
	fwrite(135063885, 0x01, 0x03, Mem0[0x0817E0F4:word32]);
	do
	{
		if (fflush(Mem0[0x0817E0F4:word32]) == 0x00)
		{
			if (fgetc(Mem0[0x0817E0F0:word32]) == 0x00)
				break;
			return;
		}
	} while (ferror(Mem0[0x0817E0F4:word32]) == 0x00);
	closeImgdisplay();
	Mem45[0x0817E0E0:word32] = Mem0[0x0817E0E0:word32] + 1000;
	Mem46[0x0817E0E8:word32] = 0x00;
}

// 08099D88: Register word32 drawImage()
word32 drawImage()
{
	word32 dwLoc24_121 = 0x00;
	word32 eax_127 = Mem0[135774940:word32];
	if (eax_127 != 0x00)
	{
		eax_127 = Mem0[0x0817E0E8:word32];
		if (eax_127 != 0x00)
		{
			word32 dwLoc20_122 = 0x00;
			while (true)
			{
				eax_127 = Mem0[0x0817E0E8:word32];
				if (dwLoc20_122 >= eax_127)
					break;
				word32 eax_142 = Mem0[0x0817E0E4:word32] + (dwLoc20_122 << 0x04);
				if (((int32) (byte) (word32) Mem0[Mem0[eax_142 + 0x00:word32] + 0x14:byte] & 0x01) != 0x00 && ((word16) ((word32) Mem0[eax_142 + 0x0C:word16]) > 0x00 && (word16) ((word32) Mem0[eax_142 + 0x0E:word16]) > 0x00))
				{
					if (Mem0[0x0817E0F0:word32] == 0x00 || Mem0[0x0817E0F4:word32] == 0x00)
					{
						eax_127 = openImgdisplay();
						if (eax_127 == 0x00)
							return eax_127;
					}
					if (Mem0[Mem0[eax_142 + 0x00:word32] + 0x18:word32] > 0x00)
					{
						Mem345[Mem0[eax_142 + 0x00:word32] + 0x18:word32] = -Mem0[Mem0[eax_142 + 0x00:word32] + 0x18:word32];
						fwrite(0x080CE951, 0x01, 0x02, Mem345[0x0817E0F4:word32]);
					}
					else
						fwrite(0x080CE954, 0x01, 0x02, Mem0[0x0817E0F4:word32]);
					sprintf(0x0817E160, 0x080CE957, tLoc90);
					fputs(0x0817E160, Mem0[0x0817E0F4:word32]);
					fputs(Mem0[Mem0[eax_142 + 0x00:word32] + 0x08:word32], Mem0[0x0817E0F4:word32]);
					fputc(0x0A, Mem0[0x0817E0F4:word32]);
					dwLoc24_121 = 0x01;
				}
				dwLoc20_122 = dwLoc20_122 + 0x01;
			}
			if (dwLoc24_121 != 0x00)
			{
				syncImage();
				touch_cursor();
				eax_127 = refresh(fp - 0x04);
			}
		}
	}
	return eax_127;
}

// 0809A012: void clearImage()
void clearImage()
{
	if (Mem0[135774940:word32] != 0x00 && Mem0[0x0817E0E8:word32] != 0x00)
	{
		if (Mem0[0x0817E0F4:word32] == 0x00)
			Mem51[0x0817E0E8:word32] = 0x00;
		else
		{
			word32 dwLoc10_116 = 0x00;
			while (dwLoc10_116 < Mem0[0x0817E0E8:word32])
			{
				word32 eax_90 = Mem0[0x0817E0E4:word32] + (dwLoc10_116 << 0x04);
				if (((int32) (byte) (word32) Mem0[Mem0[eax_90 + 0x00:word32] + 0x14:byte] & 0x01) != 0x00 && ((word16) ((word32) Mem0[eax_90 + 0x0C:word16]) > 0x00 && (word16) ((word32) Mem0[eax_90 + 0x0E:word16]) > 0x00))
				{
					sprintf(0x0817E120, 135063923, tLoc40);
					fputs(0x0817E120, Mem0[0x0817E0F4:word32]);
				}
				dwLoc10_116 = dwLoc10_116 + 0x01;
			}
			syncImage();
			Mem86[0x0817E0E8:word32] = 0x00;
		}
	}
}

// 0809A12E: Register word32 deleteImage(Register selector gs, Stack word32 dwArg04)
word32 deleteImage(selector gs, word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_28 = Mem0[dwArg04 + 0x68:word32];
		if (eax_28 != 0x00)
		{
			word32 dwLoc18_32 = 0x00;
			word32 dwLoc14_35 = Mem0[eax_28 + 0x00:word32];
			while (Mem0[eax_28 + 0x04:word32] > dwLoc18_32)
			{
				if (Mem0[dwLoc14_35 + 0x38:word32] != 0x00 && (Mem0[Mem0[dwLoc14_35 + 0x38:word32] + 0x20:word32] != 0x00 && ((byte) ((word32) Mem0[Mem0[Mem0[dwLoc14_35 + 0x38:word32] + 0x20:word32] + 0x14:byte]) != 0x00 && (((int32) ((byte) ((word32) Mem0[Mem0[Mem0[dwLoc14_35 + 0x38:word32] + 0x20:word32] + 0x14:byte])) & 0x04) == 0x00 && Mem0[Mem0[Mem0[dwLoc14_35 + 0x38:word32] + 0x20:word32] + 0x18:word32] < 0x00))))
					unlink(Mem0[Mem0[Mem0[dwLoc14_35 + 0x38:word32] + 0x20:word32] + 0x08:word32]);
				dwLoc18_32 = dwLoc18_32 + 0x01;
				dwLoc14_35 = dwLoc14_35 + 0x3C;
			}
			ebx = loadImage(fp - 0x04, gs);
		}
	}
	return ebx;
}

// 0809A1F4: void getAllImage(Register word32 ebp, Stack word32 dwArg04)
void getAllImage(word32 ebp, word32 dwArg04)
{
	Mem13[0x0817E110:word32] = dwArg04;
	if (dwArg04 != 0x00)
	{
		Mem35[dwArg04 + 0xF6:byte] = 0x01;
		if (Mem35[dwArg04 + 0x68:word32] != 0x00)
		{
			baseURL(dwArg04);
			while (Mem35[Mem35[fp - 0x10 + 0x00:word32] + 0x04:word32] > Mem35[(fp - 0x1C) + 0x00:word32])
			{
				if (Mem35[Mem35[fp - 0x14 + 0x00:word32] + 0x38:word32] != 0x00)
				{
					word32 eax_87 = Mem35[Mem35[fp - 0x14 + 0x00:word32] + 0x38:word32];
					Mem88[fp - 0x24 + 0x00:word32] = (int32) (byte) (word32) Mem35[Mem35[fp + 0x04:word32] + 0xF5:byte];
					Mem90[fp - 0x28 + 0x00:word32] = Mem88[fp - 0x18 + 0x00:word32];
					Mem91[fp - 44 + 0x00:word32] = eax_87;
					word32 ebx_93;
					byte bpl_94;
					word32 eax_95 = getImage(fp - 0x04, dwArg00, out ebx_93, out bpl_94);
					Mem96[ebx_93 + 0x20:word32] = eax_95;
					if (Mem96[Mem96[Mem96[fp - 0x14 + 0x00:word32] + 0x38:word32] + 0x20:word32] != 0x00 && (byte) ((word32) Mem96[Mem96[Mem96[Mem96[(fp - 0x14) + 0x00:word32] + 0x38:word32] + 0x20:word32] + 0x14:byte]) == 0x00)
						Mem112[Mem96[fp + 0x04:word32] + 0xF6:byte] = 0x00;
				}
				Mem76[fp - 0x1C + 0x00:word32] = Mem35[fp - 0x1C + 0x00:word32] + 0x01;
				Mem78[fp - 0x14 + 0x00:word32] = Mem76[fp - 0x14 + 0x00:word32] + 0x3C;
			}
		}
	}
}

// 0809A2C9: void showImageProgress(Register word32 ebp, Stack word32 dwArg04)
void showImageProgress(word32 ebp, word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_43 = Mem0[dwArg04 + 0x68:word32];
		if (eax_43 != 0x00)
		{
			word32 dwLoc18_122 = 0x00;
			word32 dwLoc20_114 = 0x00;
			word32 dwLoc14_124 = Mem0[eax_43 + 0x00:word32];
			while (Mem0[eax_43 + 0x04:word32] > dwLoc18_122)
			{
				if (Mem0[dwLoc14_124 + 0x38:word32] != 0x00 && Mem0[dwLoc14_124 + 44:word32] >= 0x00)
					dwLoc20_114 = dwLoc20_114 + 0x01;
				dwLoc18_122 = dwLoc18_122 + 0x01;
				dwLoc14_124 = dwLoc14_124 + 0x3C;
			}
			if (dwLoc20_114 != 0x00)
			{
				word32 esi_84 = (int32) (word16) (word32) Mem0[dwArg04 + 0x4A:word16] + (int32) ((word16) ((word32) Mem0[dwArg04 + 0x56:word16]));
				word32 ebx_93 = (int32) (word16) (word32) Mem0[dwArg04 + 0x48:word16] + (int32) ((word16) ((word32) Mem0[dwArg04 + 0x54:word16]));
				byte bpl_99;
				word32 eax_101 = Mem0[Sprintf(0x080CE982, out bpl_99) + 0x00:word32];
				Mem102[fp - 0x34 + 0x00:word32] = esi_84;
				Mem103[fp - 0x38 + 0x00:word32] = ebx_93;
				Mem104[fp - 0x3C + 0x00:word32] = eax_101;
				message(dwArg00, dwArg04, dwArg08);
				refresh(fp - 0x04);
			}
		}
	}
}

// 0809A3CE: Register word32 loadImage(Register word32 ebp, Register selector gs)
word32 loadImage(word32 ebp, selector gs)
{
	word32 ebp_117 = fp - 0x04;
	word32 esp_118 = fp - 0x9C;
	if (Mem0[0x080D5318:word32] > 0x08)
		Mem508[0x080D5318:word32] = 0x08;
	else if (Mem0[0x080D5318:word32] <= 0x00)
		Mem512[0x080D5318:word32] = 0x01;
	if (Mem0[0x0817E0FC:word32] == 0x00)
		Mem507[0x0817E0FC:word32] = Mem0[0x080D5318:word32];
	word32 eax_16 = Mem0[0x0817E10C:word32];
	if (eax_16 == 0x00)
	{
		word32 esp_476;
		word32 ebp_477;
		byte SCZO_478;
		word32 eax_479;
		byte SZO_480;
		byte C_481;
		byte Z_482;
		byte SO_483;
		word32 edx_484;
		byte al_485;
		byte S_486;
		selector gs_487;
		word32 ebx_488;
		!GC_malloc();
		Mem489[0x0817E10C:word32] = eax_479;
		byte SCZO_495;
		word32 eax_496;
		byte SZO_497;
		byte C_498;
		byte Z_499;
		byte SO_500;
		word32 edx_501;
		byte al_502;
		byte S_503;
		!bzero();
	}
	while (Mem0[ebp_117 - 0x10 + 0x00:word32] < Mem0[0x0817E0FC:word32])
	{
		Mem372[ebp_117 - 0x0C + 0x00:word32] = Mem0[0x0817E10C:word32][Mem0[ebp_117 - 0x10 + 0x00:word32] * 0x04];
		if (Mem372[ebp_117 - 0x0C + 0x00:word32] != 0x00)
		{
			word32 eax_391 = Mem372[Mem372[ebp_117 - 0x0C + 0x00:word32] + 0x0C:word32];
			word32 edx_392 = ebp_117 - 0x70;
			Mem393[esp_118 + 0x04:word32] = edx_392;
			Mem394[esp_118 + 0x00:word32] = eax_391;
			if (lstat(dwArg00, dwArg04) == 0x00)
			{
				if (Mem394[Mem394[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] != 0x00)
				{
					word32 eax_456 = Mem394[Mem394[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32];
					Mem457[esp_118 + 0x04:word32] = 0x09;
					Mem458[esp_118 + 0x00:word32] = eax_456;
					byte SCZO_461;
					word32 eax_462;
					byte SZO_463;
					byte C_464;
					byte Z_465;
					byte SO_466;
					word32 edx_467;
					byte al_468;
					byte S_469;
					!kill();
					Mem473[Mem458[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] = 0x00;
				}
				word32 eax_413 = Mem394[Mem394[ebp_117 - 0x0C + 0x00:word32] + 0x08:word32];
				Mem415[esp_118 + 0x04:word32] = ebp_117 - 0x70;
				Mem416[esp_118 + 0x00:word32] = eax_413;
				if (stat(dwArg00, dwArg04) == 0x00)
				{
					Mem435[Mem416[ebp_117 - 0x0C + 0x00:word32] + 0x14:byte] = 0x01;
					Mem437[esp_118 + 0x00:word32] = Mem435[ebp_117 - 0x0C + 0x00:word32];
					if (getImageSize(ebp_117, dwArg00) != 0x00 && Mem437[0x0817E110:word32] != 0x00)
						Mem452[Mem437[0x0817E110:word32] + 0xF7:byte] = 0x01;
					Mem446[ebp_117 - 0x14 + 0x00:word32] = 0x01;
				}
				else
					Mem454[Mem416[ebp_117 - 0x0C + 0x00:word32] + 0x14:byte] = 0x02;
				Mem426[esp_118 + 0x00:word32] = Mem416[Mem416[ebp_117 - 0x0C + 0x00:word32] + 0x0C:word32];
				unlink(Mem426[esp_118 + 0x00:(ptr char)]);
				Mem426[0x0817E10C:word32][Mem426[ebp_117 - 0x10 + 0x00:word32] * 0x04] = 0x00;
			}
		}
		Mem388[ebp_117 - 0x10 + 0x00:word32] = Mem372[ebp_117 - 0x10 + 0x00:word32] + 0x01;
	}
	word32 eax_363;
	if (Mem0[ebp_117 + 0x08:word32] == Mem0[0x0817E110:word32])
		eax_363 = Mem0[0x080D5318:word32];
	else
		eax_363 = 0x00;
	Mem62[ebp_117 - 0x10 + 0x00:word32] = eax_363;
	while (Mem62[ebp_117 - 0x10 + 0x00:word32] < Mem62[0x0817E0FC:word32])
	{
		Mem301[ebp_117 - 0x0C + 0x00:word32] = Mem62[0x0817E10C:word32][Mem62[ebp_117 - 0x10 + 0x00:word32] * 0x04];
		if (Mem301[ebp_117 - 0x0C + 0x00:word32] != 0x00)
		{
			if (Mem301[Mem301[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] != 0x00)
			{
				word32 eax_345 = Mem301[Mem301[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32];
				Mem346[esp_118 + 0x04:word32] = 0x09;
				Mem347[esp_118 + 0x00:word32] = eax_345;
				byte SCZO_350;
				word32 eax_351;
				byte SZO_352;
				byte C_353;
				byte Z_354;
				byte SO_355;
				word32 edx_356;
				byte al_357;
				byte S_358;
				!kill();
				Mem362[Mem347[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] = 0x00;
			}
			Mem336[esp_118 + 0x00:word32] = Mem301[Mem301[ebp_117 - 0x0C + 0x00:word32] + 0x0C:word32];
			unlink(Mem336[esp_118 + 0x00:(ptr char)]);
			Mem336[0x0817E10C:word32][Mem336[ebp_117 - 0x10 + 0x00:word32] * 0x04] = 0x00;
		}
		Mem317[ebp_117 - 0x10 + 0x00:word32] = Mem301[ebp_117 - 0x10 + 0x00:word32] + 0x01;
	}
	if (Mem62[ebp_117 + 0x0C:word32] == 0x01)
	{
		Mem94[0x0817E108:word32] = 0x00;
		Mem95[0x0817E104:word32] = 0x00;
		Mem97[0x0817E0FC:word32] = Mem95[0x080D5318:word32];
		Mem98[0x0817E110:word32] = 0x00;
	}
	else
	{
		if (Mem62[ebp_117 - 0x14 + 0x00:word32] != 0x00 && Mem62[0x0817E110:word32] != 0x00)
		{
			drawImage();
			Mem295[esp_118 + 0x00:word32] = Mem62[0x0817E110:word32];
			showImageProgress(ebp_117, dwArg00);
		}
		Mem103[0x0817E110:word32] = Mem62[ebp_117 + 0x08:word32];
		if (Mem103[0x0817E108:word32] != 0x00)
		{
			Mem108[ebp_117 - 0x10 + 0x00:word32] = 0x00;
			while (Mem108[ebp_117 - 0x10 + 0x00:word32] < Mem108[0x0817E0FC:word32])
			{
				if (Mem108[0x0817E10C:word32][Mem108[ebp_117 - 0x10 + 0x00:word32] * 0x04] == 0x00)
				{
					do
					{
						Mem149[esp_118 + 0x00:word32] = Mem108[0x0817E108:word32];
						Mem152[ebp_117 - 0x0C + 0x00:word32] = popValue(dwArg00);
						if (Mem152[ebp_117 - 0x0C + 0x00:word32] == 0x00)
						{
							Mem155[ebp_117 - 0x10 + 0x00:word32] = 0x00;
							while (Mem155[ebp_117 - 0x10 + 0x00:word32] < Mem155[0x0817E0FC:word32])
							{
								if (Mem155[0x0817E10C:word32][Mem155[ebp_117 - 0x10 + 0x00:word32] * 0x04] != 0x00)
									return ebx;
								Mem184[ebp_117 - 0x10 + 0x00:word32] = Mem155[ebp_117 - 0x10 + 0x00:word32] + 0x01;
							}
							Mem163[0x0817E108:word32] = 0x00;
							Mem164[0x0817E104:word32] = 0x00;
							if (Mem164[0x0817E110:word32] != 0x00)
							{
								word32 eax_169 = Mem164[0x0817E110:word32];
								Mem170[esp_118 + 0x04:word32] = 0x00;
								Mem171[esp_118 + 0x00:word32] = eax_169;
								real64 rArg0_173;
								displayBuffer(ebp_117, gs, dwArg00, dwArg04, rArg0, out rArg0_173);
							}
							return ebx;
						}
						byte al_188 = (byte) (word32) Mem152[Mem152[ebp_117 - 0x0C + 0x00:word32] + 0x14:byte];
					} while (al_188 != 0x00);
					word32 edx_196 = Mem152[0x0817E10C:word32] + (Mem152[(ebp_117 - 0x10) + 0x00:word32] << 0x02);
					Mem198[edx_196 + 0x00:word32] = Mem152[ebp_117 - 0x0C + 0x00:word32];
					word32 eax_199 = flush_tty();
					byte SCZO_202;
					word32 eax_203;
					byte SZO_204;
					byte C_205;
					byte Z_206;
					byte SO_207;
					word32 edx_208;
					byte al_209;
					byte S_210;
					!fork();
					Mem215[Mem198[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] = eax_203;
					if (Mem215[Mem215[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] != 0x00)
					{
						if (Mem215[Mem215[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] < 0x00)
						{
							Mem288[Mem215[ebp_117 - 0x0C + 0x00:word32] + 0x10:word32] = 0x00;
							return ebx;
						}
						goto l0809A7F8;
					}
					Mem221[esp_118 + 0x08:word32] = ~0x00;
					Mem222[esp_118 + 0x04:word32] = 0x00;
					Mem223[esp_118 + 0x00:word32] = 0x00;
					setup_child(dwArg00, dwArg04, dwArg08);
					Mem227[0x0817C2F8:word32] = Mem223[Mem223[ebp_117 - 0x0C + 0x00:word32] + 0x08:word32];
					word32 edx_229 = Mem227[Mem227[ebp_117 - 0x0C + 0x00:word32] + 0x04:word32];
					word32 eax_231 = Mem227[Mem227[ebp_117 - 0x0C + 0x00:word32] + 0x00:word32];
					Mem232[esp_118 + 0x10:word32] = 0x00;
					Mem233[esp_118 + 0x0C:word32] = 0x00;
					Mem234[esp_118 + 0x08:word32] = 0x00;
					Mem235[esp_118 + 0x04:word32] = edx_229;
					Mem236[esp_118 + 0x00:word32] = eax_231;
					Mem238[ebp_117 - 0x18 + 0x00:word32] = loadGeneralFile(ebp_117, gs, dwArg00);
					if (Mem238[ebp_117 - 0x18 + 0x00:word32] != 0x00 && Mem238[Mem238[(ebp_117 - 0x18) + 0x00:word32] + 0x38:word32] != 0x00)
					{
						word32 eax_274 = Mem238[Mem238[ebp_117 - 0x18 + 0x00:word32] + 0x38:word32];
						Mem275[esp_118 + 0x08:word32] = 0x06;
						Mem276[esp_118 + 0x04:word32] = 0x080CE996;
						Mem277[esp_118 + 0x00:word32] = eax_274;
						if (strncasecmp(Mem277[esp_118 + 0x00:(ptr char)], Mem277[esp_118 + 0x04:(ptr char)], Mem277[esp_118 + 0x08:int32]) != 0x00)
							goto l0809A7AF;
					}
					else
					{
l0809A7AF:
						Mem266[esp_118 + 0x00:word32] = Mem238[Mem238[ebp_117 - 0x0C + 0x00:word32] + 0x08:word32];
						unlink(Mem266[esp_118 + 0x00:(ptr char)]);
					}
					word32 edx_242 = Mem238[Mem238[ebp_117 - 0x0C + 0x00:word32] + 0x0C:word32];
					word32 eax_244 = Mem238[Mem238[ebp_117 - 0x0C + 0x00:word32] + 0x08:word32];
					Mem245[esp_118 + 0x04:word32] = edx_242;
					Mem246[esp_118 + 0x00:word32] = eax_244;
					word32 esp_247;
					word32 ebp_248;
					byte SCZO_249;
					word32 eax_250;
					byte SZO_251;
					byte C_252;
					byte Z_253;
					byte SO_254;
					word32 edx_255;
					byte al_256;
					byte S_257;
					selector gs_258;
					word32 ebx_259;
					!symlink();
					Mem260[esp_247 + 0x00:word32] = 0x00;
					exit(Mem260[esp_247 + 0x00:int32]);
				}
l0809A7F8:
				Mem143[ebp_117 - 0x10 + 0x00:word32] = Mem108[ebp_117 - 0x10 + 0x00:word32] + 0x01;
			}
		}
	}
	return ebx;
}

// 0809A815: Register word32 getImage(Register word32 ebp, Stack word32 dwArg04, Register out ptr32 ebxOut, Register out ptr32 bplOut)
word32 getImage(word32 ebp, word32 dwArg04, ptr32 & ebxOut, ptr32 & bplOut)
{
	*ebxOut = ebx;
	word32 eax_111;
	word32 ebp_185 = fp - 0x04;
	word32 esp_184 = fp - 0x7C;
	if (Mem0[135774940:word32] == 0x00)
	{
		eax_111 = 0x00;
		goto l0809AAB7;
	}
	word32 eax_50 = Mem0[0x0817E100:word32];
	if (eax_50 == 0x00)
	{
		newHash_sv(eax_50, 100);
		Mem312[0x0817E100:word32] = eax_50;
	}
	if (Mem0[dwArg04 + 0x20:word32] == 0x00)
	{
		byte bpl_298;
		Mem300[fp - 0x10 + 0x00:word32] = Sprintf(0x080CE99D, out bpl_298);
		word32 edx_302 = Mem300[Mem300[fp - 0x10 + 0x00:word32] + 0x00:word32];
		word32 eax_303 = Mem300[0x0817E100:word32];
		Mem304[fp - 116 + 0x00:word32] = 0x00;
		Mem305[fp - 0x78 + 0x00:word32] = edx_302;
		Mem306[fp - 0x7C + 0x00:word32] = eax_303;
		Mem310[fp - 0x14 + 0x00:word32] = getHash_sv(dwArg00, dwArg04, dwArg08);
	}
	if (Mem0[fp - 0x14 + 0x00:word32] != 0x00 && Mem0[Mem0[(fp - 0x14) + 0x00:word32] + 0x18:word32] != 0x00)
	{
		word32 eax_253 = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x18:word32];
		if ((eax_253 ^ eax_253 >> 0x1F) - (eax_253 >> 0x1F) <= Mem0[0x0817E0E0:word32] - 1000)
		{
			word32 eax_265 = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x08:word32];
			Mem267[fp - 0x78 + 0x00:word32] = fp - 0x6C;
			Mem268[fp - 0x7C + 0x00:word32] = eax_265;
			if (stat(dwArg00, dwArg04) != 0x00)
				Mem278[Mem268[fp - 0x14 + 0x00:word32] + 0x14:byte] = 0x00;
			Mem276[Mem268[fp - 0x14 + 0x00:word32] + 0x18:word32] = 0x00;
		}
	}
	if (Mem0[fp - 0x14 + 0x00:word32] == 0x00)
	{
		if (Mem0[fp + 0x0C:word32] == 0x01)
		{
			eax_111 = 0x00;
			goto l0809AAB7;
		}
		Mem183[fp - 0x7C + 0x00:word32] = 0x20;
		byte SCZO_186;
		word32 eax_187;
		byte SZO_188;
		byte C_189;
		byte Z_190;
		word32 ecx_191;
		word32 edx_192;
		word16 ax_193;
		word16 dx_194;
		byte al_195;
		word32 ebx_196;
		byte bpl_197;
		!GC_malloc();
		Mem198[ebp_185 - 0x10 + 0x00:word32] = eax_187;
		Mem202[Mem198[ebp_185 - 0x10 + 0x00:word32] + 0x00:word32] = Mem198[Mem198[ebp_185 + 0x08:word32] + 0x00:word32];
		Mem205[Mem202[ebp_185 - 0x10 + 0x00:word32] + 0x04:word32] = Mem202[ebp_185 + 0x0C:word32];
		Mem208[esp_184 + 0x04:word32] = Mem205[Mem205[ebp_185 + 0x08:word32] + 0x04:word32];
		Mem209[esp_184 + 0x00:word32] = 0x00;
		byte bpl_210;
		Mem214[Mem209[ebp_185 - 0x10 + 0x00:word32] + 0x08:word32] = Mem209[tmpfname(ebp_185, dwArg00, dwArg04, out bpl_210) + 0x00:word32];
		Mem215[esp_184 + 0x04:word32] = 0x00;
		Mem216[esp_184 + 0x00:word32] = 0x00;
		byte bpl_217;
		Mem221[Mem216[ebp_185 - 0x10 + 0x00:word32] + 0x0C:word32] = Mem216[tmpfname(ebp_185, dwArg00, dwArg04, out bpl_217) + 0x00:word32];
		Mem223[Mem221[ebp_185 - 0x10 + 0x00:word32] + 0x10:word32] = 0x00;
		Mem225[Mem223[ebp_185 - 0x10 + 0x00:word32] + 0x18:word32] = 0x00;
		Mem227[Mem225[ebp_185 - 0x10 + 0x00:word32] + 0x14:byte] = 0x00;
		Mem232[Mem227[ebp_185 - 0x10 + 0x00:word32] + 0x1C:word16] = (word16) (word32) Mem227[Mem227[ebp_185 + 0x08:word32] + 0x08:word16];
		Mem237[Mem232[ebp_185 - 0x10 + 0x00:word32] + 0x1E:word16] = (word16) (word32) Mem232[Mem232[ebp_185 + 0x08:word32] + 0x0A:word16];
		word32 edx_239 = Mem237[Mem237[ebp_185 - 0x0C + 0x00:word32] + 0x00:word32];
		word32 eax_240 = Mem237[0x0817E100:word32];
		Mem242[esp_184 + 0x08:word32] = Mem237[ebp_185 - 0x10 + 0x00:word32];
		Mem243[esp_184 + 0x04:word32] = edx_239;
		Mem244[esp_184 + 0x00:word32] = eax_240;
		putHash_sv(dwArg00, dwArg04, dwArg08);
	}
	if (Mem0[ebp_185 + 0x10:word32] != 0x01)
	{
		if ((byte) (word32) Mem0[Mem0[ebp_185 - 0x10 + 0x00:word32] + 0x14:byte] == 0x00)
		{
			word32 eax_140 = Mem0[0x0817E104:word32];
			if (eax_140 == 0x00)
			{
				Mem176[esp_184 + 0x00:word32] = 100;
				newHash_sv(eax_140, dwArg00);
				Mem177[0x0817E104:word32] = eax_140;
			}
			word32 edx_147 = Mem0[Mem0[ebp_185 - 0x10 + 0x00:word32] + 0x08:word32];
			word32 eax_148 = Mem0[0x0817E104:word32];
			Mem149[esp_184 + 0x08:word32] = 0x00;
			Mem150[esp_184 + 0x04:word32] = edx_147;
			Mem151[esp_184 + 0x00:word32] = eax_148;
			if (getHash_sv(dwArg00, dwArg04, dwArg08) == 0x00)
			{
				word32 edx_158 = Mem151[Mem151[ebp_185 - 0x10 + 0x00:word32] + 0x08:word32];
				word32 eax_159 = Mem151[0x0817E104:word32];
				Mem161[esp_184 + 0x08:word32] = Mem151[ebp_185 - 0x10 + 0x00:word32];
				Mem162[esp_184 + 0x04:word32] = edx_158;
				Mem163[esp_184 + 0x00:word32] = eax_159;
				putHash_sv(dwArg00, dwArg04, dwArg08);
				word32 eax_164 = Mem163[0x0817E108:word32];
				if (eax_164 == 0x00)
				{
					newGeneralList(eax_164);
					Mem175[0x0817E108:word32] = eax_164;
				}
				word32 eax_170 = Mem163[0x0817E108:word32];
				Mem172[esp_184 + 0x04:word32] = Mem163[ebp_185 - 0x10 + 0x00:word32];
				Mem173[esp_184 + 0x00:word32] = eax_170;
				pushValue(dwArg00, dwArg04);
			}
		}
		if (Mem0[Mem0[ebp_185 - 0x10 + 0x00:word32] + 0x18:word32] == 0x00)
		{
			Mem136[0x0817E0E0:word32] = Mem0[0x0817E0E0:word32] + 0x01;
			Mem139[Mem136[ebp_185 - 0x10 + 0x00:word32] + 0x18:word32] = Mem136[0x0817E0E0:word32];
		}
	}
	if ((byte) ((int32) (byte) (word32) Mem0[Mem0[ebp_185 - 0x10 + 0x00:word32] + 0x14:byte] & 0x01) != 0x00)
	{
		Mem115[esp_184 + 0x00:word32] = Mem0[ebp_185 - 0x10 + 0x00:word32];
		getImageSize(ebp_185, dwArg00);
	}
	eax_111 = Mem0[ebp_185 - 0x10 + 0x00:word32];
l0809AAB7:
	byte bpl_33;
	*bplOut = (byte) Mem0[ebp_185 + 0x00:word32];
	return eax_111;
}

// 0809AAB9: Register word32 getImageSize(Register word32 ebp, Stack word32 dwArg04)
word32 getImageSize(word32 ebp, word32 dwArg04)
{
	word32 eax_146;
	if (Mem0[135774940:word32] == 0x00)
	{
		eax_146 = 0x00;
		return eax_146;
	}
	if (dwArg04 == 0x00 || ((int32) ((byte) ((word32) Mem0[dwArg04 + 0x14:byte])) & 0x01) == 0x00)
	{
l0809AB0F:
		eax_146 = 0x00;
		return eax_146;
	}
	else
	{
		word32 eax_100 = (word32) Mem0[dwArg04 + 0x1C:word16];
		if ((word16) eax_100 > 0x00)
		{
			eax_100 = (word32) Mem0[dwArg04 + 0x1E:word16];
			if ((word16) eax_100 > 0x00)
				goto l0809AB0F;
		}
		Strnew(eax_100);
		if (strchr(Mem0[0x080D5308:word32], '/') == 0x00)
		{
			w3m_auxbin_dir();
			Strcat_m_charp(eax_100);
		}
		shell_quote(Mem0[dwArg04 + 0x08:word32]);
		Strcat_m_charp(eax_100);
		word32 esp_128;
		word32 ebp_129;
		byte SCZO_130;
		word32 eax_131;
		byte SZO_132;
		byte C_133;
		byte Z_134;
		byte al_135;
		word16 ax_136;
		word32 edx_137;
		byte S_138;
		byte ah_139;
		word16 dx_140;
		word32 ecx_141;
		byte bpl_142;
		!popen();
		if (eax_131 == 0x00)
			eax_146 = 0x00;
		else
		{
			do
			{
				word32 esp_158;
				word32 ebp_159;
				byte SCZO_160;
				word32 eax_161;
				byte SZO_162;
				byte C_163;
				byte Z_164;
				byte al_165;
				word16 ax_166;
				word32 edx_167;
				byte S_168;
				byte ah_169;
				word16 dx_170;
				word32 ecx_171;
				byte bpl_172;
				!fscanf();
			} while (eax_161 < 0x00 && feof(eax_131) == 0x00);
			word32 esp_178;
			word32 ebp_179;
			byte SCZO_180;
			word32 eax_181;
			byte SZO_182;
			byte C_183;
			byte Z_184;
			byte al_185;
			word16 ax_186;
			word32 edx_187;
			byte S_188;
			byte ah_189;
			word16 dx_190;
			word32 ecx_191;
			byte bpl_192;
			!pclose();
			if (false && false)
			{
				real64 rLoc1_213 = (real64) 0x00 * Mem0[0x080D53B0:real64] / Mem0[0x080CE9B8:real64] + Mem0[0x080CE9B0:real64];
				word16 wLoc36_214 = __fstcw();
				word16 ax_217 = DPB(ax_186, 0x0C, 8);
				__fldcw(ax_217);
				__fldcw(wLoc36_214);
				word32 dwLoc34_219 = (int32) rLoc1_213;
				word32 dwLoc18_221 = dwLoc34_219;
				if (dwLoc34_219 == 0x00)
					dwLoc18_221 = 0x01;
				real64 rLoc1_235 = (real64) 0x00 * Mem0[0x080D53B0:real64] / Mem0[0x080CE9B8:real64] + Mem0[0x080CE9B0:real64];
				__fldcw(ax_217);
				__fldcw(wLoc36_214);
				word32 dwLoc34_236 = (int32) rLoc1_235;
				word32 dwLoc1C_238 = dwLoc34_236;
				if (dwLoc34_236 == 0x00)
					dwLoc1C_238 = 0x01;
				if ((word16) (word32) Mem0[dwArg04 + 0x1C:word16] < 0x00 && (word16) ((word32) Mem0[dwArg04 + 0x1E:word16]) < 0x00)
				{
					word32 eax_394 = dwLoc18_221;
					if (dwLoc18_221 > 0x0800)
						eax_394 = 0x0800;
					Mem405[dwArg04 + 0x1C:word16] = (word16) eax_394;
					word32 eax_406 = dwLoc1C_238;
					if (dwLoc1C_238 > 0x0800)
						eax_406 = 0x0800;
					Mem420[dwArg04 + 0x1E:word16] = (word16) eax_406;
				}
				else if ((word16) (word32) Mem0[dwArg04 + 0x1C:word16] < 0x00)
				{
					real64 rLoc1_328 = (real64) (word16) (word32) Mem0[dwArg04 + 0x1E:word16] * (real64) dwLoc18_221 / (real64) dwLoc1C_238 + Mem0[0x080CE9B0:real64];
					__fldcw(ax_217);
					__fldcw(wLoc36_214);
					int32 dwLoc20_329 = (int32) rLoc1_328;
					word32 eax_330 = 0x0800;
					if (dwLoc20_329 <= 0x0800)
						eax_330 = dwLoc20_329;
					Mem343[dwArg04 + 0x1C:word16] = (word16) eax_330;
				}
				else if ((word16) (word32) Mem0[dwArg04 + 0x1E:word16] < 0x00)
				{
					real64 rLoc1_368 = (real64) (word16) (word32) Mem0[dwArg04 + 0x1C:word16] * (real64) dwLoc1C_238 / (real64) dwLoc18_221 + Mem0[0x080CE9B0:real64];
					__fldcw(ax_217);
					__fldcw(wLoc36_214);
					int32 dwLoc24_369 = (int32) rLoc1_368;
					word32 eax_370 = 0x0800;
					if (dwLoc24_369 <= 0x0800)
						eax_370 = dwLoc24_369;
					Mem383[dwArg04 + 0x1E:word16] = (word16) eax_370;
				}
				if ((word16) (word32) Mem0[dwArg04 + 0x1C:word16] == 0x00)
					Mem307[dwArg04 + 0x1C:word16] = 0x01;
				if ((word16) (word32) Mem0[dwArg04 + 0x1E:word16] == 0x00)
					Mem305[dwArg04 + 0x1E:word16] = 0x01;
				byte bpl_288;
				Mem290[ebp_179 - 0x0C + 0x00:word32] = Sprintf(0x080CE99D, out bpl_288);
				word32 edx_292 = Mem290[Mem290[ebp_179 - 0x0C + 0x00:word32] + 0x00:word32];
				word32 eax_293 = Mem290[0x0817E100:word32];
				Mem295[esp_178 + 0x08:word32] = Mem290[ebp_179 + 0x08:word32];
				Mem296[esp_178 + 0x04:word32] = edx_292;
				Mem297[esp_178 + 0x00:word32] = eax_293;
				putHash_sv(dwArg00, dwArg04, dwArg08);
				eax_146 = 0x01;
			}
			else
				eax_146 = 0x00;
		}
		return eax_146;
	}
}

// 0809AE2C: void encode_symbol(Register word32 ebp)
void encode_symbol(word32 ebp)
{
	while (Mem0[Mem0[fp + 0x04:word32] + 0x08:word32][Mem0[fp - 0x20 + 0x00:word32] * 0x04] != 0x00)
	{
		if ((byte) (word32) Mem0[Mem0[Mem0[fp + 0x04:word32] + 0x08:word32][Mem0[fp - 0x20 + 0x00:word32] * 0x04] + 0x00:byte] != 0x00)
		{
			word32 edi_69 = Mem0[Mem0[fp + 0x04:word32] + 0x08:word32] + (Mem0[(fp - 0x20) + 0x00:word32] << 0x02);
			word32 esi_70 = Mem0[135091052:word32];
			word32 ebx_72 = Mem0[Mem0[fp + 0x04:word32] + 0x00:word32];
			word32 eax_79 = Mem0[Mem0[fp + 0x04:word32] + 0x08:word32][Mem0[fp - 0x20 + 0x00:word32] * 0x04];
			Mem80[fp - 0x3C + 0x00:word32] = eax_79;
			Strnew_charp(eax_79, dwArg00);
			Mem82[fp - 0x34 + 0x00:word32] = esi_70;
			Mem83[fp - 0x38 + 0x00:word32] = ebx_72;
			Mem84[fp - 0x3C + 0x00:word32] = eax_79;
			word32 ebx_87;
			Mem90[edi_69 + 0x00:word32] = Mem84[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_87) + 0x00:word32];
		}
		Mem63[fp - 0x20 + 0x00:word32] = Mem0[fp - 0x20 + 0x00:word32] + 0x01;
	}
	Mem35[Mem0[fp + 0x04:word32] + 0x0C:byte] = 0x01;
}

// 0809AEC2: Register word32 get_symbol(Stack word32 dwArg04, Stack word32 dwArg08)
word32 get_symbol(word32 dwArg04, word32 dwArg08)
{
	word32 eax_151;
	word32 dwLoc14_122 = 0x00;
	if (dwArg04 == Mem0[0x0817E1A0:word32] && (Mem0[0x0817E1A4:word32] != 0x00 && Mem0[dwArg08 + 0x00:word32] == (int32) ((byte) ((word32) Mem0[Mem0[0x0817E1A4:word32] + 0x04:byte]))))
	{
		Mem149[dwArg08 + 0x00:word32] = (int32) (byte) (word32) Mem0[Mem0[0x0817E1A4:word32] + 0x04:byte];
		eax_151 = Mem149[Mem149[0x0817E1A4:word32] + 0x08:word32];
	}
	else
	{
		Mem37[0x0817E1A0:word32] = dwArg04;
		word32 dwLoc10_109 = 0x080D7D80;
		while (Mem37[dwLoc10_109 + 0x00:word32] != 0x00)
		{
			if (Mem37[dwLoc10_109 + 0x00:word32] == dwArg04 && (Mem37[dwArg08 + 0x00:word32] == 0x00 || Mem37[dwArg08 + 0x00:word32] == (int32) ((byte) ((word32) Mem37[Mem37[dwLoc10_109 + 0x04:word32] + 0x04:byte]))))
			{
				dwLoc14_122 = Mem37[dwLoc10_109 + 0x04:word32];
				break;
			}
			dwLoc10_109 = dwLoc10_109 + 0x08;
		}
		if (dwLoc14_122 == 0x00)
		{
			word32 eax_91;
			if (Mem37[dwArg08 + 0x00:word32] == 0x02)
				eax_91 = 0x080D7CEC;
			else
				eax_91 = 0x080D7CDC;
			dwLoc14_122 = eax_91;
		}
		if (dwLoc14_122 != Mem37[0x0817E1A4:word32])
		{
			if ((byte) (word32) Mem37[dwLoc14_122 + 0x0C:byte] == 0x00)
				encode_symbol(fp - 0x04);
			Mem83[0x0817E1A4:word32] = Mem37[fp - 0x14 + 0x00:word32];
		}
		Mem71[Mem37[fp + 0x08:word32] + 0x00:word32] = (int32) (byte) (word32) Mem37[Mem37[fp - 0x14 + 0x00:word32] + 0x04:byte];
		eax_151 = Mem71[Mem71[fp - 0x14 + 0x00:word32] + 0x08:word32];
	}
	return eax_151;
}

// 0809AFC5: Register word32 set_symbol(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 set_symbol(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_21;
	word32 ebp_109 = fp - 0x04;
	word32 esp_108 = fp - 44;
	if (dwArg04 == Mem0[0x080D7E20:word32])
		eax_21 = Mem0[0x0817E1A8:word32];
	else
	{
		if (Mem0[0x0817E1A8:word32] == 0x00)
		{
			word32 dwLoc14_119 = 0x00;
			while (true)
			{
				word32 edx_98 = dwLoc14_119 << 0x02;
				if (Mem0[Mem0[135101668:word32] + edx_98:word32] == 0x00)
					break;
				dwLoc14_119 = dwLoc14_119 + 0x01;
			}
			byte SCZO_110;
			word32 eax_111;
			byte Z_112;
			byte SZO_113;
			byte C_114;
			word32 edx_115;
			!GC_malloc();
			Mem117[0x0817E1A8:word32] = eax_111;
		}
		while (true)
		{
			word32 eax_54 = Mem0[Mem0[ebp_109 - 0x0C + 0x00:word32] + 0x08:word32][Mem0[ebp_109 - 0x10 + 0x00:word32] * 0x04];
			if (eax_54 == 0x00)
				break;
			Mem61[esp_108 + 0x00:word32] = 0x04;
			Strnew_size(eax_54, dwArg00);
			Mem64[ebp_109 - 0x14 + 0x00:word32] = eax_54;
			if (Mem64[ebp_109 + 0x08:word32] == 0x02)
			{
				Mem80[esp_108 + 0x08:word32] = Mem64[ebp_109 - 0x10 + 0x00:word32] + 0x20;
				Mem81[esp_108 + 0x04:word32] = 0x8800;
				Mem83[esp_108 + 0x00:word32] = Mem81[ebp_109 - 0x14 + 0x00:word32];
				wtf_push(ebp_109, gs, dwArg00, dwArg04, dwArg08);
			}
			else
			{
				Mem88[esp_108 + 0x08:word32] = Mem64[ebp_109 - 0x10 + 0x00:word32] + 0x20;
				Mem89[esp_108 + 0x04:word32] = 0x0800;
				Mem91[esp_108 + 0x00:word32] = Mem89[ebp_109 - 0x14 + 0x00:word32];
				wtf_push(ebp_109, gs, dwArg00, dwArg04, dwArg08);
			}
			Mem64[0x0817E1A8:word32][Mem64[ebp_109 - 0x10 + 0x00:word32] * 0x04] = Mem64[Mem64[ebp_109 - 0x14 + 0x00:word32] + 0x00:word32];
			Mem75[ebp_109 - 0x10 + 0x00:word32] = Mem73[ebp_109 - 0x10 + 0x00:word32] + 0x01;
		}
		Mem59[0x080D7E20:word32] = Mem0[ebp_109 + 0x08:word32];
		eax_21 = Mem59[0x0817E1A8:word32];
	}
	return eax_21;
}

// 0809B0B9: void push_symbol(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg0C)
void push_symbol(word32 ebp, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc14_14;
	byte al_9 = (byte) dwArg08;
	if (dwArg0C == 0x02)
		dwLoc14_14 = 0x080D75E0[(int32) al_9 * 0x04];
	else
		dwLoc14_14 = 0x080D7520[(int32) al_9 * 0x04];
	word32 dwLoc18_16 = 0x00;
	while (dwLoc18_16 <= 0x01 && (byte) ((word32) Mem0[dwLoc14_14 + 0x00:byte]) != 0x00)
	{
		byte al_73;
		if ((byte) (word32) Mem0[dwLoc14_14 + 0x00:byte] != 0x20)
			al_73 = (byte) (word32) Mem0[dwLoc14_14 + 0x00:byte];
		else
			al_73 = 0xA0;
		Mem75[fp - 0x0E + dwLoc18_16:byte] = al_73;
		dwLoc18_16 = dwLoc18_16 + 0x01;
		dwLoc14_14 = dwLoc14_14 + 0x01;
	}
	byte bpl_35;
	Mem37[fp - 0x38 + 0x00:word32] = Sprintf(0x080CEC83, out bpl_35);
	Mem39[fp - 0x3C + 0x00:word32] = Mem37[fp + 0x04:word32];
	Strcat(dwArg00, dwArg04);
	while (Mem39[fp + 0x10:word32] > 0x00)
	{
		Mem52[fp - 0x34 + 0x00:word32] = Mem39[fp - 0x18 + 0x00:word32];
		Mem54[fp - 0x38 + 0x00:word32] = fp - 0x0E;
		Mem56[fp - 0x3C + 0x00:word32] = Mem54[fp + 0x04:word32];
		Strcat_charp_n(dwArg00, dwArg04, dwArg08);
		Mem58[fp + 0x10:word32] = Mem56[fp + 0x10:word32] - 0x01;
	}
	Mem45[fp - 0x38 + 0x00:word32] = 0x080CEC95;
	Mem47[fp - 0x3C + 0x00:word32] = Mem45[fp + 0x04:word32];
	Strcat_charp(dwArg00, dwArg04);
}

// 0809B188: Register word32 conv_entity(Stack word32 dwArg04)
word32 conv_entity(word32 dwArg04)
{
	word32 eax_102;
	if (dwArg04 <=u 0x1F)
		eax_102 = 0x080CEDBD;
	else if (dwArg04 <=u 0x7E)
	{
		word32 edx_49;
		eax_102 = Mem0[Strnew_charp_n(fp - 0x0D, fp - 0x0D, 0x01, out edx_49) + 0x00:word32];
	}
	else if (dwArg04 <=u 0x9F)
		eax_102 = 0x080CEDBD;
	else if (dwArg04 == 0xA0)
		eax_102 = 0x080CECA0;
	else if (dwArg04 <=u 0xFF)
	{
		if ((byte) (word32) Mem0[0x080D5383:byte] != 0x00)
			eax_102 = 0x080D7E40[(dwArg04 - 0xA0) * 0x04];
		else
		{
			word32 edx_77;
			word32 ebx_82;
			eax_102 = Mem0[wc_Str_conv(Strnew_charp_n(fp - 0x0D, fp - 0x0D, 0x01, out edx_77), 0x00100201, Mem0[135091052:word32], out ebx_82) + 0x00:word32];
		}
	}
	else if (dwArg04 >= 0x00)
	{
		wc_ucs_to_utf8(dwArg04, fp - 0x14);
		word32 ebx_94 = Mem0[135091052:word32];
		Strnew_charp(fp - 0x14, fp - 0x14);
		word32 ebx_100;
		eax_102 = Mem0[wc_Str_conv(fp - 0x14, 0x00308045, ebx_94, out ebx_100) + 0x00:word32];
	}
	else
		eax_102 = 0x080CECFC;
	return eax_102;
}

// 0809B290: void writestr(Stack word32 dwArg04)
void writestr(word32 dwArg04)
{
	word32 esp_13;
	word32 ebp_14;
	byte SCZO_15;
	word32 eax_16;
	!tputs();
}

// 0809B2B3: void set_tty(Register word32 eax)
void set_tty(word32 eax)
{
	word32 dwLoc10_169;
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	byte SZO_13;
	byte C_14;
	byte Z_15;
	byte S_16;
	word32 ecx_17;
	word32 edx_18;
	!isatty();
	if (eax_12 != 0x00)
	{
		word32 esp_159;
		word32 ebp_160;
		byte SCZO_161;
		word32 eax_162;
		byte SZO_163;
		byte C_164;
		byte Z_165;
		byte S_166;
		word32 ecx_167;
		word32 edx_168;
		!ttyname();
		dwLoc10_169 = eax_162;
	}
	else
		dwLoc10_169 = 135065061;
	Mem33[0x080D7FC0:word32] = open(dwLoc10_169, 0x02);
	if (Mem33[0x080D7FC0:word32] < 0x00)
		Mem154[0x080D7FC0:word32] = 0x02;
	Mem42[0x0817E21C:word32] = fdopen(Mem33[0x080D7FC0:word32], 0x080CEDEE);
	word32 esp_46;
	word32 ebp_47;
	byte SCZO_48;
	word32 eax_49;
	byte SZO_50;
	byte C_51;
	byte Z_52;
	byte S_53;
	word32 ecx_54;
	word32 edx_55;
	!tcgetattr();
	if (Mem42[0x0817C2C8:word32] != 0x00)
	{
		word32 dwLoc14_120 = 0x080D7FE4;
		while (Mem42[dwLoc14_120 + 0x00:word32] != 0x00)
		{
			if (strncmp(Mem42[0x0817C2C8:word32], Mem42[dwLoc14_120 + 0x00:word32], strlen(Mem42[dwLoc14_120 + 0x00:word32])) == 0x00)
			{
				Mem150[0x0817E1C8:word32] = Mem42[dwLoc14_120 + 0x00:word32];
				break;
			}
			dwLoc14_120 = dwLoc14_120 + 0x0C;
		}
	}
	word32 eax_70 = getenv(0x080CEDF0);
	if (eax_70 != 0x00)
	{
		word32 dwLoc1C_118 = 0x080D7FE8;
		while (Mem42[dwLoc1C_118 + 0x00:word32] != 0x00)
		{
			if (strncmp(eax_70, Mem42[dwLoc1C_118 + 0x00:word32], strlen(Mem42[dwLoc1C_118 + 0x00:word32])) == 0x00)
			{
				Mem116[135782852:word32] = Mem42[dwLoc1C_118 + 0x00:word32];
				return;
			}
			dwLoc1C_118 = dwLoc1C_118 + 0x0C;
		}
	}
}

// 0809B3FC: void ttymode_set(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void ttymode_set(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 esp_18;
	word32 ebp_19;
	byte SCZO_20;
	word32 eax_21;
	selector gs_22;
	byte SZO_23;
	byte C_24;
	word32 edx_25;
	byte Z_26;
	!tcgetattr();
	word32 eax_9 = Mem0[gs:0x14:word32];
	while (tcsetattr(Mem0[0x080D7FC0:word32], 0x00, fp - 0x4C) == ~0x00)
	{
		if (Mem0[__errno_location() + 0x00:word32] != 0x04 && Mem0[__errno_location() + 0x00:word32] != 11)
		{
			printf(135065080, dwArg04, Mem0[__errno_location() + 0x00:word32]);
			reset_exit(gs_22);
		}
	}
	if ((eax_9 ^ Mem0[gs_22:0x14:word32]) != 0x00)
		__stack_chk_fail();
}

// 0809B4B6: void ttymode_reset(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void ttymode_reset(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 esp_18;
	word32 ebp_19;
	byte SCZO_20;
	word32 eax_21;
	selector gs_22;
	byte SZO_23;
	byte C_24;
	word32 edx_25;
	byte Z_26;
	!tcgetattr();
	word32 eax_9 = Mem0[gs:0x14:word32];
	while (tcsetattr(Mem0[0x080D7FC0:word32], 0x00, fp - 0x4C) == ~0x00)
	{
		if (Mem0[__errno_location() + 0x00:word32] != 0x04 && Mem0[__errno_location() + 0x00:word32] != 11)
		{
			printf(0x080CEE20, dwArg04, Mem0[__errno_location() + 0x00:word32]);
			reset_exit(gs_22);
		}
	}
	if ((eax_9 ^ Mem0[gs_22:0x14:word32]) != 0x00)
		__stack_chk_fail();
}

// 0809B574: Register word32 set_cc(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 set_cc(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 esp_18;
	word32 ebp_19;
	byte SCZO_20;
	word32 eax_21;
	selector gs_22;
	byte SZO_23;
	byte C_24;
	word32 edx_25;
	byte dl_26;
	byte Z_27;
	!tcgetattr();
	word32 eax_9 = Mem0[gs:0x14:word32];
	Mem33[fp - 0x3B + dwArg04:byte] = (byte) dwArg08;
	while (tcsetattr(Mem33[0x080D7FC0:word32], 0x00, fp - 0x4C) == ~0x00)
	{
		if (Mem33[__errno_location() + 0x00:word32] != 0x04 && Mem33[__errno_location() + 0x00:word32] != 11)
		{
			printf(0x080CEE48, Mem33[__errno_location() + 0x00:word32]);
			reset_exit(gs_22);
		}
	}
	word32 eax_43 = eax_9 ^ Mem33[gs_22:0x14:word32];
	if (eax_43 != 0x00)
		__stack_chk_fail();
	return eax_43;
}

// 0809B61B: void close_tty()
void close_tty()
{
	if (Mem0[0x080D7FC0:word32] > 0x02)
		close(Mem0[0x080D7FC0:word32]);
}

// 0809B63A: Register word32 ttyname_tty()
word32 ttyname_tty()
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	word32 eax_14;
	!ttyname();
	return eax_14;
}

// 0809B64F: void reset_tty()
void reset_tty()
{
	writestr(Mem0[0x08180758:word32]);
	writestr(Mem0[0x08180740:word32]);
	if (Mem0[135774828:word32] == 0x00)
	{
		if (Mem0[0x081807B4:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[0x081807B4:word32] + 0x00:byte]) != 0x00)
			writestr(Mem0[0x081807B4:word32]);
		else
			writestr(Mem0[0x08180748:word32]);
	}
	writestr(Mem0[0x08180768:word32]);
	flush_tty();
	tcsetattr(Mem0[0x080D7FC0:word32], 0x00, 0x0817E1E0);
	close_tty();
}

// 0809B6DF: void reset_exit(Register selector gs)
void reset_exit(selector gs)
{
	if (Mem0[0x0817E1C0:word32] != 0x00)
		mouse_end();
	reset_tty();
	w3m_exit(gs);
}

// 0809B706: void error_dump()
void error_dump()
{
	mySignal(0x06, 0x00);
	reset_tty();
	abort();
}

// 0809B72A: void set_int()
void set_int()
{
	mySignal(0x01, 0x0809B6DF);
	mySignal(0x02, 0x0809B6DF);
	mySignal(0x03, 0x0809B6DF);
	mySignal(0x0F, 0x0809B6DF);
	mySignal(0x04, 0x0809B706);
	mySignal(0x06, 0x0809B706);
	mySignal(0x08, 0x0809B706);
	mySignal(0x07, 0x0809B706);
}

// 0809B7D2: void setgraphchar()
void setgraphchar()
{
	word32 dwLoc10_12 = 0x00;
	while (dwLoc10_12 <= 0x5F)
	{
		Mem93[dwLoc10_12 + 0x0817E740:byte] = (byte) (dwLoc10_12 + 0x20);
		dwLoc10_12 = dwLoc10_12 + 0x01;
	}
	if (Mem0[0x08180750:word32] != 0x00)
	{
		word32 eax_40 = strlen(Mem0[0x08180750:word32]);
		word32 dwLoc14_42 = 0x01;
		while (eax_40 - 0x01 > dwLoc14_42)
		{
			word32 eax_62 = (int32) (byte) (word32) Mem0[Mem0[0x08180750:word32] + dwLoc14_42:byte];
			if (eax_62 >= 0x20 && eax_62 <= 0x7F)
				Mem85[eax_62 + 0x0817E720:byte] = (byte) (word32) Mem0[Mem0[0x08180750:word32] + (dwLoc14_42 + 0x00):byte];
			dwLoc14_42 = dwLoc14_42 + 0x02;
		}
	}
}

// 0809B86E: void getTCstr(Register selector gs)
void getTCstr(selector gs)
{
	word32 eax_14;
	if (getenv(0x080CEDF0) != 0x00)
		eax_14 = getenv(0x080CEDF0);
	else
		eax_14 = 0x00;
	if (eax_14 == 0x00)
	{
		fwrite(0x080CEE61, 0x01, 0x10, Mem0[0x0817C1E4:word32]);
		reset_exit(gs);
	}
	word32 esp_25;
	word32 ebp_26;
	byte SCZO_27;
	word32 eax_28;
	byte SZO_29;
	byte C_30;
	byte Z_31;
	word32 edx_32;
	word32 ecx_33;
	selector gs_34;
	!tgetent();
	if (eax_28 != 0x01)
	{
		fprintf(Mem0[0x0817C1E4:word32], 0x080CEE72, eax_14);
		reset_exit(gs_34);
	}
	Mem40[0x08180754:word32] = 0x0817E620;
	word32 esp_44;
	word32 ebp_45;
	byte SCZO_46;
	word32 eax_47;
	byte SZO_48;
	byte C_49;
	byte Z_50;
	word32 edx_51;
	word32 ecx_52;
	selector gs_53;
	!tgetstr();
	if (fp == 0x18)
		Mem777[0x08180754:word32] = 0x080CEE92;
	else
		Mem782[0x08180754:word32] = allocStr(fp - 0x18, ~0x00);
	Mem58[0x08180744:word32] = 0x0817E620;
	word32 esp_62;
	word32 ebp_63;
	byte SCZO_64;
	word32 eax_65;
	byte SZO_66;
	byte C_67;
	byte Z_68;
	word32 edx_69;
	word32 ecx_70;
	selector gs_71;
	!tgetstr();
	if (fp == 0x18)
		Mem771[0x08180744:word32] = 0x080CEE92;
	else
		Mem776[0x08180744:word32] = allocStr(fp - 0x18, ~0x00);
	Mem76[0x0818074C:word32] = 0x0817E620;
	word32 esp_80;
	word32 ebp_81;
	byte SCZO_82;
	word32 eax_83;
	byte SZO_84;
	byte C_85;
	byte Z_86;
	word32 edx_87;
	word32 ecx_88;
	selector gs_89;
	!tgetstr();
	if (fp == 0x18)
		Mem765[0x0818074C:word32] = 0x080CEE92;
	else
		Mem770[0x0818074C:word32] = allocStr(fp - 0x18, ~0x00);
	if (fp == 0x18)
	{
		Mem742[0x0818074C:word32] = 0x0817E620;
		word32 esp_746;
		word32 ebp_747;
		byte SCZO_748;
		word32 eax_749;
		byte SZO_750;
		byte C_751;
		byte Z_752;
		word32 edx_753;
		word32 ecx_754;
		selector gs_755;
		!tgetstr();
		if (fp == 0x18)
			Mem759[0x0818074C:word32] = 0x080CEE92;
		else
			Mem764[0x0818074C:word32] = allocStr(fp - 0x18, ~0x00);
	}
	word32 esp_101;
	word32 ebp_102;
	byte SCZO_103;
	word32 eax_104;
	byte SZO_105;
	byte C_106;
	byte Z_107;
	word32 edx_108;
	word32 ecx_109;
	selector gs_110;
	!tgetflag();
	if (eax_104 != 0x00)
		Mem650[0x08180790:word32] = 0x080CEE9F;
	else
	{
		Mem652[0x08180790:word32] = 0x0817E620;
		word32 esp_656;
		word32 ebp_657;
		byte SCZO_658;
		word32 eax_659;
		byte SZO_660;
		byte C_661;
		byte Z_662;
		word32 edx_663;
		word32 ecx_664;
		selector gs_665;
		!tgetstr();
		if (fp == 0x18)
			Mem735[0x08180790:word32] = 0x080CEE92;
		else
			Mem740[0x08180790:word32] = allocStr(fp - 0x18, ~0x00);
		if (fp == 0x18)
		{
			Mem712[0x08180790:word32] = 0x0817E620;
			word32 esp_716;
			word32 ebp_717;
			byte SCZO_718;
			word32 eax_719;
			byte SZO_720;
			byte C_721;
			byte Z_722;
			word32 edx_723;
			word32 ecx_724;
			selector gs_725;
			!tgetstr();
			if (fp == 0x18)
				Mem729[0x08180790:word32] = 0x080CEE92;
			else
				Mem734[0x08180790:word32] = allocStr(fp - 0x18, ~0x00);
		}
		if (fp == 0x18)
		{
			Mem688[0x08180790:word32] = 0x0817E620;
			word32 esp_692;
			word32 ebp_693;
			byte SCZO_694;
			word32 eax_695;
			byte SZO_696;
			byte C_697;
			byte Z_698;
			word32 edx_699;
			word32 ecx_700;
			selector gs_701;
			!tgetstr();
			if (fp == 0x18)
				Mem705[0x08180790:word32] = 0x080CEE92;
			else
				Mem710[0x08180790:word32] = allocStr(fp - 0x18, ~0x00);
		}
	}
	Mem115[0x081807AC:word32] = 0x0817E620;
	word32 esp_119;
	word32 ebp_120;
	byte SCZO_121;
	word32 eax_122;
	byte SZO_123;
	byte C_124;
	byte Z_125;
	word32 edx_126;
	word32 ecx_127;
	selector gs_128;
	!tgetstr();
	if (fp == 0x18)
		Mem644[0x081807AC:word32] = 0x080CEE92;
	else
		Mem649[0x081807AC:word32] = allocStr(fp - 0x18, ~0x00);
	Mem133[0x081807A4:word32] = 0x0817E620;
	word32 esp_137;
	word32 ebp_138;
	byte SCZO_139;
	word32 eax_140;
	byte SZO_141;
	byte C_142;
	byte Z_143;
	word32 edx_144;
	word32 ecx_145;
	selector gs_146;
	!tgetstr();
	if (fp == 0x18)
		Mem638[0x081807A4:word32] = 0x080CEE92;
	else
		Mem643[0x081807A4:word32] = allocStr(fp - 0x18, ~0x00);
	Mem151[0x081807C0:word32] = 0x0817E620;
	word32 esp_155;
	word32 ebp_156;
	byte SCZO_157;
	word32 eax_158;
	byte SZO_159;
	byte C_160;
	byte Z_161;
	word32 edx_162;
	word32 ecx_163;
	selector gs_164;
	!tgetstr();
	if (fp == 0x18)
		Mem632[0x081807C0:word32] = 0x080CEE92;
	else
		Mem637[0x081807C0:word32] = allocStr(fp - 0x18, ~0x00);
	Mem169[0x08180784:word32] = 0x0817E620;
	word32 esp_173;
	word32 ebp_174;
	byte SCZO_175;
	word32 eax_176;
	byte SZO_177;
	byte C_178;
	byte Z_179;
	word32 edx_180;
	word32 ecx_181;
	selector gs_182;
	!tgetstr();
	if (fp == 0x18)
		Mem626[0x08180784:word32] = 0x080CEE92;
	else
		Mem631[0x08180784:word32] = allocStr(fp - 0x18, ~0x00);
	Mem187[0x081807BC:word32] = 0x0817E620;
	word32 esp_191;
	word32 ebp_192;
	byte SCZO_193;
	word32 eax_194;
	byte SZO_195;
	byte C_196;
	byte Z_197;
	word32 edx_198;
	word32 ecx_199;
	selector gs_200;
	!tgetstr();
	if (fp == 0x18)
		Mem620[0x081807BC:word32] = 0x080CEE92;
	else
		Mem625[0x081807BC:word32] = allocStr(fp - 0x18, ~0x00);
	Mem205[0x08180768:word32] = 0x0817E620;
	word32 esp_209;
	word32 ebp_210;
	byte SCZO_211;
	word32 eax_212;
	byte SZO_213;
	byte C_214;
	byte Z_215;
	word32 edx_216;
	word32 ecx_217;
	selector gs_218;
	!tgetstr();
	if (fp == 0x18)
		Mem614[0x08180768:word32] = 0x080CEE92;
	else
		Mem619[0x08180768:word32] = allocStr(fp - 0x18, ~0x00);
	Mem223[0x081807C8:word32] = 0x0817E620;
	word32 esp_227;
	word32 ebp_228;
	byte SCZO_229;
	word32 eax_230;
	byte SZO_231;
	byte C_232;
	byte Z_233;
	word32 edx_234;
	word32 ecx_235;
	selector gs_236;
	!tgetstr();
	if (fp == 0x18)
		Mem608[0x081807C8:word32] = 0x080CEE92;
	else
		Mem613[0x081807C8:word32] = allocStr(fp - 0x18, ~0x00);
	Mem241[0x08180770:word32] = 0x0817E620;
	word32 esp_245;
	word32 ebp_246;
	byte SCZO_247;
	word32 eax_248;
	byte SZO_249;
	byte C_250;
	byte Z_251;
	word32 edx_252;
	word32 ecx_253;
	selector gs_254;
	!tgetstr();
	if (fp == 0x18)
		Mem602[0x08180770:word32] = 0x080CEE92;
	else
		Mem607[0x08180770:word32] = allocStr(fp - 0x18, ~0x00);
	Mem259[0x081807B8:word32] = 0x0817E620;
	word32 esp_263;
	word32 ebp_264;
	byte SCZO_265;
	word32 eax_266;
	byte SZO_267;
	byte C_268;
	byte Z_269;
	word32 edx_270;
	word32 ecx_271;
	selector gs_272;
	!tgetstr();
	if (fp == 0x18)
		Mem596[0x081807B8:word32] = 0x080CEE92;
	else
		Mem601[0x081807B8:word32] = allocStr(fp - 0x18, ~0x00);
	Mem277[0x08180740:word32] = 0x0817E620;
	word32 esp_281;
	word32 ebp_282;
	byte SCZO_283;
	word32 eax_284;
	byte SZO_285;
	byte C_286;
	byte Z_287;
	word32 edx_288;
	word32 ecx_289;
	selector gs_290;
	!tgetstr();
	if (fp == 0x18)
		Mem590[0x08180740:word32] = 0x080CEE92;
	else
		Mem595[0x08180740:word32] = allocStr(fp - 0x18, ~0x00);
	Mem295[0x08180748:word32] = 0x0817E620;
	word32 esp_299;
	word32 ebp_300;
	byte SCZO_301;
	word32 eax_302;
	byte SZO_303;
	byte C_304;
	byte Z_305;
	word32 edx_306;
	word32 ecx_307;
	selector gs_308;
	!tgetstr();
	if (fp == 0x18)
		Mem584[0x08180748:word32] = 0x080CEE92;
	else
		Mem589[0x08180748:word32] = allocStr(fp - 0x18, ~0x00);
	Mem313[0x08180760:word32] = 0x0817E620;
	word32 esp_317;
	word32 ebp_318;
	byte SCZO_319;
	word32 eax_320;
	byte SZO_321;
	byte C_322;
	byte Z_323;
	word32 edx_324;
	word32 ecx_325;
	selector gs_326;
	!tgetstr();
	if (fp == 0x18)
		Mem578[0x08180760:word32] = 0x080CEE92;
	else
		Mem583[0x08180760:word32] = allocStr(fp - 0x18, ~0x00);
	Mem331[0x0818076C:word32] = 0x0817E620;
	word32 esp_335;
	word32 ebp_336;
	byte SCZO_337;
	word32 eax_338;
	byte SZO_339;
	byte C_340;
	byte Z_341;
	word32 edx_342;
	word32 ecx_343;
	selector gs_344;
	!tgetstr();
	if (fp == 0x18)
		Mem572[0x0818076C:word32] = 0x080CEE92;
	else
		Mem577[0x0818076C:word32] = allocStr(fp - 0x18, ~0x00);
	Mem349[0x0818078C:word32] = 0x0817E620;
	word32 esp_353;
	word32 ebp_354;
	byte SCZO_355;
	word32 eax_356;
	byte SZO_357;
	byte C_358;
	byte Z_359;
	word32 edx_360;
	word32 ecx_361;
	selector gs_362;
	!tgetstr();
	if (fp == 0x18)
		Mem566[0x0818078C:word32] = 0x080CEE92;
	else
		Mem571[0x0818078C:word32] = allocStr(fp - 0x18, ~0x00);
	Mem367[0x081807A8:word32] = 0x0817E620;
	word32 esp_371;
	word32 ebp_372;
	byte SCZO_373;
	word32 eax_374;
	byte SZO_375;
	byte C_376;
	byte Z_377;
	word32 edx_378;
	word32 ecx_379;
	selector gs_380;
	!tgetstr();
	if (fp == 0x18)
		Mem560[0x081807A8:word32] = 0x080CEE92;
	else
		Mem565[0x081807A8:word32] = allocStr(fp - 0x18, ~0x00);
	Mem385[0x081807B4:word32] = 0x0817E620;
	word32 esp_389;
	word32 ebp_390;
	byte SCZO_391;
	word32 eax_392;
	byte SZO_393;
	byte C_394;
	byte Z_395;
	word32 edx_396;
	word32 ecx_397;
	selector gs_398;
	!tgetstr();
	if (fp == 0x18)
		Mem554[0x081807B4:word32] = 0x080CEE92;
	else
		Mem559[0x081807B4:word32] = allocStr(fp - 0x18, ~0x00);
	Mem403[0x08180788:word32] = 0x0817E620;
	word32 esp_407;
	word32 ebp_408;
	byte SCZO_409;
	word32 eax_410;
	byte SZO_411;
	byte C_412;
	byte Z_413;
	word32 edx_414;
	word32 ecx_415;
	selector gs_416;
	!tgetstr();
	if (fp == 0x18)
		Mem548[0x08180788:word32] = 0x080CEE92;
	else
		Mem553[0x08180788:word32] = allocStr(fp - 0x18, ~0x00);
	Mem421[0x08180764:word32] = 0x0817E620;
	word32 esp_425;
	word32 ebp_426;
	byte SCZO_427;
	word32 eax_428;
	byte SZO_429;
	byte C_430;
	byte Z_431;
	word32 edx_432;
	word32 ecx_433;
	selector gs_434;
	!tgetstr();
	if (fp == 0x18)
		Mem542[0x08180764:word32] = 0x080CEE92;
	else
		Mem547[0x08180764:word32] = allocStr(fp - 0x18, ~0x00);
	Mem439[0x0818075C:word32] = 0x0817E620;
	word32 esp_443;
	word32 ebp_444;
	byte SCZO_445;
	word32 eax_446;
	byte SZO_447;
	byte C_448;
	byte Z_449;
	word32 edx_450;
	word32 ecx_451;
	selector gs_452;
	!tgetstr();
	if (fp == 0x18)
		Mem536[0x0818075C:word32] = 0x080CEE92;
	else
		Mem541[0x0818075C:word32] = allocStr(fp - 0x18, ~0x00);
	Mem457[0x081807B0:word32] = 0x0817E620;
	word32 esp_461;
	word32 ebp_462;
	byte SCZO_463;
	word32 eax_464;
	byte SZO_465;
	byte C_466;
	byte Z_467;
	word32 edx_468;
	word32 ecx_469;
	selector gs_470;
	!tgetstr();
	if (fp == 0x18)
		Mem530[0x081807B0:word32] = 0x080CEE92;
	else
		Mem535[0x081807B0:word32] = allocStr(fp - 0x18, ~0x00);
	Mem475[0x08180750:word32] = 0x0817E620;
	word32 esp_479;
	word32 ebp_480;
	byte SCZO_481;
	word32 eax_482;
	byte SZO_483;
	byte C_484;
	byte Z_485;
	word32 edx_486;
	word32 ecx_487;
	selector gs_488;
	!tgetstr();
	if (fp == 0x18)
		Mem524[0x08180750:word32] = 0x080CEE92;
	else
		Mem529[0x08180750:word32] = allocStr(fp - 0x18, ~0x00);
	Mem493[0x08180758:word32] = 0x0817E620;
	word32 esp_497;
	word32 ebp_498;
	byte SCZO_499;
	word32 eax_500;
	byte SZO_501;
	byte C_502;
	byte Z_503;
	word32 edx_504;
	word32 ecx_505;
	selector gs_506;
	!tgetstr();
	if (fp == 0x18)
		Mem518[0x08180758:word32] = 0x080CEE92;
	else
		Mem523[0x08180758:word32] = allocStr(fp - 0x18, ~0x00);
	Mem512[0x081807A0:word32] = 0x00;
	Mem514[0x08180780:word32] = Mem512[0x081807A0:word32];
	setlinescols();
	setgraphchar();
}

// 0809C199: void setlinescols()
void setlinescols()
{
	word32 esp_14;
	word32 ebp_15;
	byte SCZO_16;
	word32 eax_17;
	word32 edx_18;
	byte S_19;
	word16 ax_20;
	byte SZO_21;
	byte C_22;
	byte Z_23;
	!ioctl();
	if (eax_17 >= 0x00 && ((word16) ((word32) wLoc1C) != 0x00 && (word16) ((word32) wLoc1A) != 0x00))
	{
		Mem147[0x08180780:word32] = (word32) (word16) (word32) wLoc1C;
		Mem151[0x081807A0:word32] = (word32) (word16) (word32) wLoc1A;
	}
	if (Mem0[0x08180780:word32] <= 0x00)
	{
		word32 eax_120 = getenv(0x080CEEE9);
		if (eax_120 != 0x00)
		{
			word32 eax_126 = atoi(eax_120);
			if (eax_126 >= 0x00)
				Mem131[0x08180780:word32] = eax_126;
		}
	}
	if (Mem0[0x081807A0:word32] <= 0x00)
	{
		word32 eax_107 = getenv(0x080CEEEF);
		if (eax_107 != 0x00)
		{
			word32 eax_113 = atoi(eax_107);
			if (eax_113 >= 0x00)
				Mem118[0x081807A0:word32] = eax_113;
		}
	}
	word32 eax_48 = Mem0[0x08180780:word32];
	if (eax_48 <= 0x00)
	{
		word32 esp_95;
		word32 ebp_96;
		byte SCZO_97;
		word32 eax_98;
		word32 edx_99;
		byte S_100;
		word16 ax_101;
		byte SZO_102;
		byte C_103;
		byte Z_104;
		!tgetnum();
		Mem105[0x08180780:word32] = eax_98;
	}
	word32 eax_59 = Mem0[0x081807A0:word32];
	if (eax_59 <= 0x00)
	{
		word32 esp_83;
		word32 ebp_84;
		byte SCZO_85;
		word32 eax_86;
		word32 edx_87;
		byte S_88;
		word16 ax_89;
		byte SZO_90;
		byte C_91;
		byte Z_92;
		!tgetnum();
		Mem93[0x081807A0:word32] = eax_86;
	}
	if (Mem0[0x081807A0:word32] > 400)
		Mem81[0x081807A0:word32] = 400;
	if (Mem0[0x08180780:word32] > 200)
		Mem80[0x08180780:word32] = 200;
}

// 0809C2C4: void setupscreen()
void setupscreen()
{
	if (Mem0[0x08180780:word32] + 0x01 > Mem0[0x0817E720:word32])
	{
		Mem187[0x0817E720:word32] = Mem0[0x08180780:word32] + 0x01;
		Mem188[0x0817E724:word32] = 0x00;
		word32 esp_198;
		word32 ebp_199;
		word32 ebx_200;
		byte SCZO_201;
		word32 eax_202;
		word32 edx_203;
		byte SZO_204;
		byte SO_205;
		word32 ecx_206;
		!GC_malloc();
		Mem207[0x0817E730:word32] = eax_202;
		word32 esp_212;
		word32 ebp_213;
		word32 ebx_214;
		byte SCZO_215;
		word32 eax_216;
		word32 edx_217;
		byte SZO_218;
		byte SO_219;
		word32 ecx_220;
		!GC_malloc();
		Mem221[135784244:word32] = eax_216;
	}
	if (Mem0[0x081807A0:word32] + 0x01 > Mem0[0x0817E724:word32])
	{
		Mem104[0x0817E724:word32] = Mem0[0x081807A0:word32] + 0x01;
		word32 dwLoc10_105 = 0x00;
		while (dwLoc10_105 < Mem104[0x0817E720:word32])
		{
			word32 esp_129;
			word32 ebp_130;
			word32 ebx_131;
			byte SCZO_132;
			word32 eax_133;
			word32 edx_134;
			byte SZO_135;
			byte SO_136;
			word32 ecx_137;
			!GC_malloc();
			Mem138[ebx_131 + 0x00:word32] = eax_133;
			word32 esp_152;
			word32 ebp_153;
			word32 ebx_154;
			byte SCZO_155;
			word32 eax_156;
			word32 edx_157;
			byte SZO_158;
			byte SO_159;
			word32 ecx_160;
			!bzero();
			word32 esp_172;
			word32 ebp_173;
			word32 ebx_174;
			byte SCZO_175;
			word32 eax_176;
			word32 edx_177;
			byte SZO_178;
			byte SO_179;
			word32 ecx_180;
			!GC_malloc();
			Mem181[ebx_174 + 0x04:word32] = eax_176;
			dwLoc10_105 = dwLoc10_105 + 0x01;
		}
	}
	word32 dwLoc10_42 = 0x00;
	while (dwLoc10_42 < Mem0[0x08180780:word32])
	{
		Mem0[135784244:word32][dwLoc10_42 * 0x04] = Mem0[0x0817E730:word32] + dwLoc10_42 * 0x0C;
		Mem91[Mem84[Mem84[135784244:word32][dwLoc10_42 * 0x04] + 0x04:word32] + 0x00:word16] = 0x08;
		Mem97[Mem91[135784244:word32][dwLoc10_42 * 0x04] + 0x08:word16] = 0x00;
		dwLoc10_42 = dwLoc10_42 + 0x01;
	}
	while (dwLoc10_42 < Mem0[0x0817E720:word32])
	{
		Mem69[Mem0[0x0817E730:word32] + dwLoc10_42 * 0x0C + 0x08:word16] = 0x02;
		dwLoc10_42 = dwLoc10_42 + 0x01;
	}
	clear();
}

// 0809C480: void initscr(Register word32 eax, Register selector gs)
void initscr(word32 eax, selector gs)
{
	set_tty(eax);
	if (true)
	{
		set_int();
		getTCstr(gs);
		if (Mem0[0x081807A8:word32] != 0x00 && Mem0[135774828:word32] == 0x00)
			writestr(Mem0[0x081807A8:word32]);
		setupscreen();
	}
}

// 0809C4CB: void write1(Stack word32 dwArg04)
void write1(word32 dwArg04)
{
	_IO_putc((int32) (byte) dwArg04, Mem0[0x0817E21C:word32]);
}

// 0809C4F4: void move(Stack word32 dwArg04, Stack word32 dwArg08)
void move(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 >= 0x00 && dwArg04 < Mem0[0x08180780:word32])
		Mem31[0x0817E728:word32] = dwArg04;
	if (dwArg08 >= 0x00 && dwArg08 < Mem0[0x081807A0:word32])
		Mem26[0x0817E72C:word32] = dwArg08;
}

// 0809C529: Register word32 need_redraw(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 need_redraw(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_29;
	word16 dx_9 = (word16) dwArg08;
	word16 ax_12 = (word16) dwArg10;
	if (dwArg04 != 0x00 && (dwArg0C != 0x00 && strcmp(dwArg04, dwArg0C) == 0x00))
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x20)
			eax_29 = (word32) (word16) ((word32) ax_12 ^ (word32) dx_9) & 0xFF1F;
		else if (((word32) (word16) ((word32) ax_12 ^ (word32) dx_9) & ~0x20) != 0x00)
			eax_29 = 0x01;
		else
			eax_29 = 0x00;
	}
	else
		eax_29 = 0x01;
	return eax_29;
}

// 0809C5A6: void addch(Stack word32 dwArg04)
void addch(word32 dwArg04)
{
	addmch(fp - 0x10, 0x01);
}

// 0809C5C7: void addmch(Stack word32 dwArg04, Stack word32 dwArg08)
void addmch(word32 dwArg04, word32 dwArg08)
{
	word32 eax_1270;
	byte al_14 = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
		eax_1270 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte];
	else
		eax_1270 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte] != 0x00);
	word32 eax_23 = Mem0[0x0817E7E0:word32];
	if (eax_23 == 0x00)
	{
		Strnew(eax_23);
		Mem1263[0x0817E7E0:word32] = eax_23;
	}
	Strcopy_charp_n(Mem0[0x0817E7E0:word32], dwArg04, dwArg08);
	word32 eax_39 = Mem0[Mem0[0x0817E7E0:word32] + 0x00:word32];
	if (Mem0[0x0817E72C:word32] == Mem0[0x081807A0:word32])
		wrap();
	if (Mem0[0x0817E72C:word32] < Mem0[0x081807A0:word32])
	{
		word32 eax_92 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32];
		word32 eax_85 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x00:word32];
		word16 ax_105 = (word16) (word32) eax_92[Mem0[0x0817E72C:word32] * 0x02];
		word32 dwLoc24_176 = eax_85;
		word32 dwLoc14_177 = eax_92;
		if (((word32) ax_105 & 0x08) != 0x00)
		{
			if (al_14 == 0x20)
			{
				ax_105 = (word16) (word32) Mem0[0x0817E738:word16];
				if (((word32) ax_105 & 0xFF1F) == 0x00)
				{
					Mem1259[0x0817E72C:word32] = Mem0[0x0817E72C:word32] + 0x01;
					return;
				}
			}
			word32 dwLoc1C_1160 = Mem0[0x0817E72C:word32];
			while (dwLoc1C_1160 >= 0x00)
			{
				ax_105 = (word16) (word32) eax_92[dwLoc1C_1160 * 0x02];
				if (((word32) ax_105 & 0x08) == 0x00)
					break;
				word32 esp_1203;
				word32 ebp_1204;
				word32 ebx_1205;
				byte SCZO_1206;
				word32 eax_1207;
				byte al_1208;
				byte SZO_1209;
				byte C_1210;
				byte Z_1211;
				word32 edx_1212;
				byte SO_1213;
				word32 ecx_1215;
				word16 dx_1216;
				byte CZ_1217;
				byte S_1218;
				byte dl_1219;
				!GC_realloc();
				Mem1220[ebx_1205 + 0x00:word32] = eax_1207;
				memcpy(eax_85[dwLoc1C_1160 * 0x04], 0x080CEEFD, 0x01);
				Mem1235[eax_85[dwLoc1C_1160 * 0x04] + 0x01:byte] = 0x00;
				eax_92[dwLoc1C_1160 * 0x02] = (word16) ((word32) eax_92[dwLoc1C_1160 * 0x02] & 0x20);
				dwLoc1C_1160 = dwLoc1C_1160 - 0x01;
			}
		}
		if (al_14 != 0x09 && (al_14 != 0x0A && (al_14 != 0x0D && al_14 != 0x08)))
		{
			if (dwArg08 >u 0x01)
			{
				word32 eax_1127 = (word32) Mem0[0x0817E738:word16];
				Mem1135[0x0817E738:word16] = (word16) (DPB(eax_1127, (byte) eax_1127 & 0x3F, 0) | 0x40);
			}
			else
			{
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) al_14 + 0x080DB700:byte] & 0x01) != 0x00)
					return;
				Mem1152[0x0817E738:word16] = DPB(ax_105, (byte) (word32) Mem0[0x0817E738:word16] & 0x3F, 0);
			}
		}
		else
			Mem1118[0x0817E738:word16] = DPB(ax_105, (byte) (word32) Mem0[0x0817E738:word16] | 0xC0, 0);
		word32 eax_145 = Mem0[0x0817E72C:word32] + eax_1270;
		if (eax_145 - 0x01 < Mem0[0x081807A0:word32] && (((word32) ((word16) ((word32) eax_92[(eax_145 - 0x01) * 0x02])) & 0x04) != 0x00 && need_redraw(eax_85[(eax_145 - 0x01) * 0x04], (word32) ((word16) ((word32) eax_92[(eax_145 - 0x01) * 0x02])), eax_39, (word32) ((word16) ((word32) Mem0[0x0817E738:word16]))) != 0x00 || ((word32) ((word16) ((word32) eax_92[(eax_145 - 0x01) * 0x02])) & 0x02) != 0x00 && ((word32) ((word16) ((word32) Mem0[0x0817E738:word16])) & 0x02) == 0x00))
		{
			touch_line();
			if (eax_145 < Mem0[0x081807A0:word32])
			{
				touch_column(eax_145);
				word16 ax_977 = (word16) (word32) eax_92[eax_145 * 0x02];
				if (((word32) ax_977 & 0x08) != 0x00)
				{
					word32 esp_994;
					word32 ebp_995;
					word32 ebx_996;
					byte SCZO_997;
					word32 eax_998;
					byte al_999;
					byte SZO_1000;
					byte C_1001;
					byte Z_1002;
					word32 edx_1003;
					byte SO_1004;
					word16 ax_1005;
					word32 ecx_1006;
					word16 dx_1007;
					byte CZ_1008;
					byte S_1009;
					byte dl_1010;
					!GC_realloc();
					Mem1011[ebx_996 + 0x00:word32] = eax_998;
					memcpy(eax_85[eax_145 * 0x04], 0x080CEEFD, 0x01);
					Mem1026[eax_85[eax_145 * 0x04] + 0x01:byte] = 0x00;
					eax_92[eax_145 * 0x02] = (word16) ((word32) eax_92[eax_145 * 0x02] & 0x20);
				}
				else
				{
					word32 dwLoc1C_1040 = eax_145 + 0x01;
					while (dwLoc1C_1040 < Mem0[0x081807A0:word32] && ((word32) ((word16) ((word32) eax_92[dwLoc1C_1040 * 0x02])) & 0xC0) == 0x80)
					{
						touch_column(dwLoc1C_1040);
						dwLoc1C_1040 = dwLoc1C_1040 + 0x01;
					}
				}
			}
		}
		if (Mem0[0x0817E72C:word32] + eax_1270 > Mem0[0x081807A0:word32])
		{
			touch_line();
			word32 dwLoc1C_841 = Mem0[0x0817E72C:word32];
			while (dwLoc1C_841 < Mem0[0x081807A0:word32])
			{
				word32 esp_895;
				word32 ebp_896;
				word32 ebx_897;
				byte SCZO_898;
				word32 eax_899;
				byte al_900;
				byte SZO_901;
				byte C_902;
				byte Z_903;
				word32 edx_904;
				byte SO_905;
				word16 ax_906;
				word32 ecx_907;
				word16 dx_908;
				byte CZ_909;
				byte S_910;
				byte dl_911;
				!GC_realloc();
				Mem912[ebx_897 + 0x00:word32] = eax_899;
				memcpy(eax_85[dwLoc1C_841 * 0x04], 0x080CEEFD, 0x01);
				Mem927[eax_85[dwLoc1C_841 * 0x04] + 0x01:byte] = 0x00;
				eax_92[dwLoc1C_841 * 0x02] = DPB(dx_908, (byte) (word32) eax_92[dwLoc1C_841 * 0x02] & 0x3F, 0);
				touch_column(dwLoc1C_841);
				dwLoc1C_841 = dwLoc1C_841 + 0x01;
			}
			wrap();
			if (Mem0[0x0817E72C:word32] + eax_1270 > Mem0[0x081807A0:word32])
				return;
			dwLoc24_176 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x00:word32];
			dwLoc14_177 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32];
		}
		if (((word32) (word16) (word32) dwLoc14_177[Mem0[0x0817E72C:word32] * 0x02] & 0xC0) == 0x80)
		{
			touch_line();
			word32 dwLoc1C_746 = Mem0[0x0817E72C:word32] - 0x01;
			while (dwLoc1C_746 >= 0x00)
			{
				word32 esp_787;
				word32 ebp_788;
				word32 ebx_789;
				byte SCZO_790;
				word32 eax_791;
				byte al_792;
				byte SZO_793;
				byte C_794;
				byte Z_795;
				word32 edx_796;
				byte SO_797;
				word16 ax_798;
				word32 ecx_799;
				word16 dx_800;
				byte CZ_801;
				byte S_802;
				byte dl_803;
				!GC_realloc();
				word16 ax_773 = (word16) (word32) dwLoc14_177[dwLoc1C_746 * 0x02];
				Mem804[ebx_789 + 0x00:word32] = eax_791;
				memcpy(dwLoc24_176[dwLoc1C_746 * 0x04], 0x080CEEFD, 0x01);
				Mem819[dwLoc24_176[dwLoc1C_746 * 0x04] + 0x01:byte] = 0x00;
				dwLoc14_177[dwLoc1C_746 * 0x02] = DPB(dx_800, (byte) (word32) dwLoc14_177[dwLoc1C_746 * 0x02] & 0x3F, 0);
				touch_column(dwLoc1C_746);
				if ((ax_773 & 0xC0) != 0x80)
					break;
				dwLoc1C_746 = dwLoc1C_746 - 0x01;
			}
		}
		if (((word32) (word16) (word32) Mem0[0x0817E738:word16] & 0xC0) != 0xC0)
		{
			word16 ax_236 = (word16) (word32) dwLoc14_177[Mem0[0x0817E72C:word32] * 0x02];
			if (need_redraw(dwLoc24_176[Mem0[0x0817E72C:word32] * 0x04], (word32) ax_236, eax_39, (word32) (word16) (word32) Mem0[0x0817E738:word16]) != 0x00)
			{
				word32 esp_290;
				word32 ebp_291;
				word32 ebx_292;
				byte SCZO_293;
				word32 eax_294;
				byte al_295;
				byte SZO_296;
				byte C_297;
				byte Z_298;
				word32 edx_299;
				byte SO_300;
				word16 ax_301;
				word32 ecx_302;
				word16 dx_303;
				byte CZ_304;
				byte S_305;
				byte dl_306;
				!GC_realloc();
				Mem307[ebx_292 + 0x00:word32] = eax_294;
				strncpy(dwLoc24_176[Mem307[0x0817E72C:word32] * 0x04], eax_39, dwArg08);
				Mem323[dwLoc24_176[Mem307[0x0817E72C:word32] * 0x04] + dwArg08:byte] = 0x00;
				dwLoc14_177[Mem323[0x0817E72C:word32] * 0x02] = (word16) ((word32) Mem323[0x0817E738:word16] | (word32) dwLoc14_177[Mem323[0x0817E72C:word32] * 0x02] & 0x20);
				touch_line();
				touch_column(Mem338[0x0817E72C:word32]);
				Mem346[0x0817E738:word16] = DPB(ax_301, (byte) (word32) Mem338[0x0817E738:word16] & 0x3F | 0x80, 0);
				word32 dwLoc1C_350 = Mem346[0x0817E72C:word32] + 0x01;
				while (Mem346[0x0817E72C:word32] + eax_1270 > dwLoc1C_350)
				{
					word32 esp_476;
					word32 ebp_477;
					word32 ebx_478;
					byte SCZO_479;
					word32 eax_480;
					byte al_481;
					byte SZO_482;
					byte C_483;
					byte Z_484;
					word32 edx_485;
					byte SO_486;
					word16 ax_487;
					word32 ecx_488;
					word16 dx_489;
					byte CZ_490;
					byte S_491;
					byte dl_492;
					!GC_realloc();
					Mem493[ebx_478 + 0x00:word32] = eax_480;
					memcpy(dwLoc24_176[dwLoc1C_350 * 0x04], 0x080CEEFD, 0x01);
					Mem508[dwLoc24_176[dwLoc1C_350 * 0x04] + 0x01:byte] = 0x00;
					word32 edx_521 = (word32) dwLoc14_177[Mem508[0x0817E72C:word32] * 0x02];
					dwLoc14_177[dwLoc1C_350 * 0x02] = DPB(dx_489, (byte) (DPB(edx_521, (byte) edx_521 & 0x3F, 0) | (word32) dwLoc14_177[dwLoc1C_350 * 0x02] & 0x20) | 0x80, 0);
					touch_column(dwLoc1C_350);
					dwLoc1C_350 = dwLoc1C_350 + 0x01;
				}
				while (dwLoc1C_350 < Mem346[0x081807A0:word32])
				{
					word16 ax_398 = (word16) (word32) dwLoc14_177[dwLoc1C_350 * 0x02];
					if (((word32) ax_398 & 0xC0) != 0x80)
						break;
					word32 esp_414;
					word32 ebp_415;
					word32 ebx_416;
					byte SCZO_417;
					word32 eax_418;
					byte al_419;
					byte SZO_420;
					byte C_421;
					byte Z_422;
					word32 edx_423;
					byte SO_424;
					word16 ax_425;
					word32 ecx_426;
					word16 dx_427;
					byte CZ_428;
					byte S_429;
					byte dl_430;
					!GC_realloc();
					Mem431[ebx_416 + 0x00:word32] = eax_418;
					memcpy(dwLoc24_176[dwLoc1C_350 * 0x04], 0x080CEEFD, 0x01);
					Mem446[dwLoc24_176[dwLoc1C_350 * 0x04] + 0x01:byte] = 0x00;
					dwLoc14_177[dwLoc1C_350 * 0x02] = DPB(dx_427, (byte) (word32) dwLoc14_177[dwLoc1C_350 * 0x02] & 0x3F, 0);
					touch_column(dwLoc1C_350);
					dwLoc1C_350 = dwLoc1C_350 + 0x01;
				}
			}
			Mem274[0x0817E72C:word32] = Mem0[0x0817E72C:word32] + eax_1270;
		}
		else if (al_14 == 0x09)
		{
			word32 eax_541 = Mem0[0x0817E72C:word32] + Mem0[135102404:word32];
			word32 eax_552 = Mem0[135102404:word32] *s (int32) (SEQ(eax_541 >> 0x1F, eax_541) / Mem0[135102404:word32]);
			word32 dwLoc18_553 = eax_552;
			if (eax_552 >= Mem0[0x081807A0:word32])
			{
				wrap();
				touch_line();
				dwLoc18_553 = Mem0[135102404:word32];
				dwLoc24_176 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x00:word32];
				dwLoc14_177 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32];
			}
			word32 dwLoc1C_563 = Mem0[0x0817E72C:word32];
			while (dwLoc1C_563 < dwLoc18_553)
			{
				word16 ax_595 = (word16) (word32) dwLoc14_177[dwLoc1C_563 * 0x02];
				word32 ecx_590 = (word32) (word16) (word32) Mem0[0x0817E738:word16];
				word32 edx_596 = (word32) ax_595;
				if (need_redraw(dwLoc24_176[dwLoc1C_563 * 0x04], edx_596, 0x080CEEFD, ecx_590) != 0x00)
				{
					word32 esp_643;
					word32 ebp_644;
					word32 ebx_645;
					byte SCZO_646;
					word32 eax_647;
					byte al_648;
					byte SZO_649;
					byte C_650;
					byte Z_651;
					word32 edx_652;
					byte SO_653;
					word16 ax_654;
					word32 ecx_655;
					word16 dx_656;
					byte CZ_657;
					byte S_658;
					byte dl_659;
					!GC_realloc();
					Mem660[ebx_645 + 0x00:word32] = eax_647;
					memcpy(dwLoc24_176[dwLoc1C_563 * 0x04], 0x080CEEFD, 0x01);
					Mem675[dwLoc24_176[dwLoc1C_563 * 0x04] + 0x01:byte] = 0x00;
					dwLoc14_177[dwLoc1C_563 * 0x02] = (word16) ((word32) Mem675[0x0817E738:word16] | (word32) dwLoc14_177[dwLoc1C_563 * 0x02] & 0x20);
					touch_line();
					touch_column(dwLoc1C_563);
				}
				dwLoc1C_563 = dwLoc1C_563 + 0x01;
			}
			Mem587[0x0817E72C:word32] = dwLoc1C_563;
		}
		else if (al_14 == 0x0A)
			wrap();
		else if (al_14 == 0x0D)
			Mem714[0x0817E72C:word32] = 0x00;
		else if (al_14 == 0x08 && Mem0[0x0817E72C:word32] > 0x00)
		{
			Mem723[0x0817E72C:word32] = Mem0[0x0817E72C:word32] - 0x01;
			while (Mem723[0x0817E72C:word32] > 0x00 && ((word32) ((word16) ((word32) dwLoc14_177[Mem723[0x0817E72C:word32] * 0x02])) & 0xC0) == 0x80)
				Mem742[0x0817E72C:word32] = Mem723[0x0817E72C:word32] - 0x01;
		}
	}
}

// 0809D009: void wrap()
void wrap()
{
	if (Mem0[0x08180780:word32] - 0x01 != Mem0[0x0817E728:word32])
	{
		Mem19[0x0817E728:word32] = Mem0[0x0817E728:word32] + 0x01;
		Mem20[0x0817E72C:word32] = 0x00;
	}
}

// 0809D039: void touch_column(Stack word32 dwArg04)
void touch_column(word32 dwArg04)
{
	if (dwArg04 >= 0x00 && dwArg04 < Mem0[0x081807A0:word32])
		Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32][dwArg04 * 0x02] = (word16) ((word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32][dwArg04 * 0x02] | 0x20);
}

// 0809D090: void touch_line()
void touch_line()
{
	if (((int32) (word16) (word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x08:word16] & 0x01) == 0x00)
	{
		word32 dwLoc08_38 = 0x00;
		while (dwLoc08_38 < Mem0[0x081807A0:word32])
		{
			Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32][dwLoc08_38 * 0x02] = (word16) ((word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32][dwLoc08_38 * 0x02] & ~0x20);
			dwLoc08_38 = dwLoc08_38 + 0x01;
		}
		Mem61[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x08:word16] = (word16) ((word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x08:word16] | 0x01);
	}
}

// 0809D143: void standout()
void standout()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] | 0x01);
}

// 0809D158: void standend()
void standend()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] & ~0x01);
}

// 0809D16D: void toggle_stand()
void toggle_stand()
{
	word32 eax_13 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32];
	eax_13[Mem0[0x0817E72C:word32] * 0x02] = (word16) ((word32) eax_13[Mem0[0x0817E72C:word32] * 0x02] ^ 0x01);
	if (((word32) (word16) (word32) eax_13[Mem24[0x0817E72C:word32] * 0x02] & 0xC0) != 0x80)
	{
		word32 dwLoc08_48 = Mem24[0x0817E72C:word32] + 0x01;
		while (((word32) (word16) (word32) eax_13[dwLoc08_48 * 0x02] & 0xC0) == 0x80)
		{
			eax_13[dwLoc08_48 * 0x02] = (word16) ((word32) eax_13[dwLoc08_48 * 0x02] ^ 0x01);
			dwLoc08_48 = dwLoc08_48 + 0x01;
		}
	}
}

// 0809D20B: void bold()
void bold()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] | 0x04);
}

// 0809D220: void boldend()
void boldend()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] & ~0x04);
}

// 0809D235: void underline()
void underline()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] | 0x02);
}

// 0809D24A: void underlineend()
void underlineend()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] & ~0x02);
}

// 0809D25F: void graphstart()
void graphstart()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] | 0x10);
}

// 0809D274: void graphend()
void graphend()
{
	Mem11[0x0817E738:word16] = (word16) ((word32) Mem0[0x0817E738:word16] & ~0x10);
}

// 0809D289: Register word32 graph_ok()
word32 graph_ok()
{
	word32 eax_15;
	if ((byte) (word32) Mem0[135775058:byte] == 0x00)
		eax_15 = 0x00;
	else if ((byte) (word32) Mem0[Mem0[0x0818075C:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem0[Mem0[0x081807B0:word32] + 0x00:byte]) != 0x00 && (byte) ((word32) Mem0[Mem0[0x08180750:word32] + 0x00:byte]) != 0x00))
		eax_15 = 0x01;
	else
		eax_15 = 0x00;
	return eax_15;
}

// 0809D2D0: void setfcolor(Stack word32 dwArg04)
void setfcolor(word32 dwArg04)
{
	Mem12[0x0817E738:word16] = DPB(ax, SLICE((word32) Mem0[0x0817E738:word16], byte, 8) & 0xF0, 8);
	if ((dwArg04 & 0x0F) <= 0x07)
		Mem37[0x0817E738:word16] = (word16) ((word32) Mem12[0x0817E738:word16] | (dwArg04 & 0x07 | 0x08) << 0x08);
}

// 0809D30D: void color_seq(Stack word32 dwArg04)
void color_seq(word32 dwArg04)
{
	sprintf(0x0817E7C0, 0x080CEEFF, tLoc20);
}

// 0809D33F: void setbcolor(Stack word32 dwArg04)
void setbcolor(word32 dwArg04)
{
	Mem10[0x0817E738:word16] = (word16) (word32) Mem0[0x0817E738:word16] & 0x0FFF;
	if ((dwArg04 & 0x0F) <= 0x07)
		Mem35[0x0817E738:word16] = (word16) ((word32) Mem10[0x0817E738:word16] | (dwArg04 & 0x07 | 0x08) << 0x0C);
}

// 0809D37D: void bcolor_seq(Stack word32 dwArg04)
void bcolor_seq(word32 dwArg04)
{
	sprintf(0x0817E7A0, 0x080CEEFF, tLoc20);
}

// 0809D3AF: Register word32 refresh(Register word32 ebp)
word32 refresh(word32 ebp)
{
	wc_putc_init(Mem0[135091052:word32], Mem0[0x080D5370:word32]);
	word32 ebp_103 = fp - 0x04;
	word32 esp_104 = fp - 0x4C;
	while (Mem0[0x08180780:word32] - 0x01 >= Mem0[(ebp_103 - 0x14) + 0x00:word32])
	{
		Mem85[ebp_103 - 0x30 + 0x00:word32] = Mem0[135784244:word32][Mem0[ebp_103 - 0x14 + 0x00:word32] * 0x04] + 0x08;
		byte al_91 = (byte) ((int32) (word16) (word32) Mem85[Mem85[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & 0x01);
		if (al_91 != 0x00)
		{
			Mem150[Mem85[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] = (word16) ((word32) Mem85[Mem85[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & ~0x01);
			Mem157[ebp_103 - 0x28 + 0x00:word32] = Mem150[Mem150[135784244:word32][Mem150[ebp_103 - 0x14 + 0x00:word32] * 0x04] + 0x00:word32];
			Mem165[ebp_103 - 44 + 0x00:word32] = Mem157[Mem157[135784244:word32][Mem157[ebp_103 - 0x14 + 0x00:word32] * 0x04] + 0x04:word32];
			Mem166[ebp_103 - 0x18 + 0x00:word32] = 0x00;
			while (Mem166[ebp_103 - 0x18 + 0x00:word32] < Mem166[0x081807A0:word32] && ((word32) ((word16) ((word32) Mem166[(ebp_103 - 44) + 0x00:word32][Mem166[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x08) == 0x00)
			{
				if (((int32) (word16) (word32) Mem166[Mem166[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & 0x04) != 0x00 && (int32) ((word16) ((word32) Mem166[Mem166[135784244:word32][Mem166[(ebp_103 - 0x14) + 0x00:word32] * 0x04] + 0x0A:word16])) <= Mem166[(ebp_103 - 0x18) + 0x00:word32])
				{
					word32 edx_1008 = (word32) (word16) (word32) Mem166[ebp_103 - 44 + 0x00:word32][Mem166[ebp_103 - 0x18 + 0x00:word32] * 0x02];
					word32 eax_1013 = Mem166[ebp_103 - 0x28 + 0x00:word32][Mem166[ebp_103 - 0x18 + 0x00:word32] * 0x04];
					Mem1014[esp_104 + 0x0C:word32] = 0x00;
					Mem1015[esp_104 + 0x08:word32] = 0x080CEEFD;
					Mem1016[esp_104 + 0x04:word32] = edx_1008;
					Mem1017[esp_104 + 0x00:word32] = eax_1013;
					if (need_redraw(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00)
						break;
				}
				else if (((word32) (word16) (word32) Mem166[ebp_103 - 44 + 0x00:word32][Mem166[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x20) != 0x00)
					break;
				Mem979[ebp_103 - 0x18 + 0x00:word32] = Mem166[ebp_103 - 0x18 + 0x00:word32] + 0x01;
			}
			if (((int32) (word16) (word32) Mem166[Mem166[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & 0x0C) != 0x00)
			{
				Mem937[ebp_103 - 0x1C + 0x00:word32] = (int32) (word16) (word32) Mem166[Mem166[135784244:word32][Mem166[ebp_103 - 0x14 + 0x00:word32] * 0x04] + 0x0A:word16];
				if (Mem937[ebp_103 - 0x1C + 0x00:word32] >= Mem937[0x081807A0:word32])
				{
					Mem949[Mem937[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] = (word16) ((word32) Mem937[Mem937[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & ~0x0C);
					Mem951[ebp_103 - 0x1C + 0x00:word32] = Mem949[ebp_103 - 0x18 + 0x00:word32];
				}
			}
			else
				Mem953[ebp_103 - 0x1C + 0x00:word32] = Mem166[ebp_103 - 0x18 + 0x00:word32];
			if (Mem166[0x08180780:word32] - 0x02 > Mem166[(ebp_103 - 0x14) + 0x00:word32] && (Mem166[(ebp_103 - 0x14) + 0x00:word32] - 0x01 == Mem166[(ebp_103 - 0x20) + 0x00:word32] && Mem166[(ebp_103 - 0x1C) + 0x00:word32] == 0x00))
			{
				word32 eax_877 = Mem166[ebp_103 - 0x24 + 0x00:word32];
				if (eax_877 != 0x01)
				{
					if (eax_877 != 0x02)
					{
						if (eax_877 != 0x00)
							goto l0809D603;
						word32 eax_903 = Mem166[0x08180760:word32];
						word32 edx_904 = Mem166[ebp_103 - 0x14 + 0x00:word32];
						Mem905[esp_104 + 0x08:word32] = edx_904;
						Mem906[esp_104 + 0x04:word32] = 0x00;
						Mem907[esp_104 + 0x00:word32] = eax_903;
						byte SCZO_910;
						word32 eax_911;
						word32 edx_912;
						byte SO_913;
						word32 ecx_914;
						word16 ax_915;
						byte SZO_916;
						byte C_917;
						byte al_918;
						byte Z_919;
						word16 dx_920;
						byte dh_921;
						byte CZ_922;
						byte S_923;
						!tgoto();
						Mem924[esp_104 + 0x00:word32] = eax_911;
						writestr(dwArg00);
						Mem925[ebp_103 - 0x24 + 0x00:word32] = 0x01;
						goto l0809D5D4;
					}
					Mem926[ebp_103 - 0x24 + 0x00:word32] = 0x01;
				}
				else
				{
					Mem927[esp_104 + 0x00:word32] = 0x0A;
					write1(dwArg00);
					Mem928[esp_104 + 0x00:word32] = 0x0D;
					write1(dwArg00);
l0809D5D4:
				}
			}
			else
			{
				word32 eax_847 = Mem166[0x08180760:word32];
				Mem849[esp_104 + 0x08:word32] = Mem166[ebp_103 - 0x14 + 0x00:word32];
				word32 edx_850 = Mem849[ebp_103 - 0x1C + 0x00:word32];
				Mem851[esp_104 + 0x04:word32] = edx_850;
				Mem852[esp_104 + 0x00:word32] = eax_847;
				byte SCZO_855;
				word32 eax_856;
				word32 edx_857;
				byte SO_858;
				word32 ecx_859;
				word16 ax_860;
				byte SZO_861;
				byte C_862;
				byte al_863;
				byte Z_864;
				word16 dx_865;
				byte dh_866;
				byte CZ_867;
				byte S_868;
				!tgoto();
				Mem869[esp_104 + 0x00:word32] = eax_856;
				writestr(dwArg00);
				Mem870[ebp_103 - 0x24 + 0x00:word32] = 0x01;
			}
l0809D603:
			word16 ax_207 = (word16) (word32) Mem166[Mem166[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16];
			if (((int32) ax_207 & 0x0C) != 0x00)
			{
				Mem820[esp_104 + 0x00:word32] = Mem166[0x08180754:word32];
				writestr(dwArg00);
				if (Mem820[ebp_103 - 0x18 + 0x00:word32] != Mem820[(ebp_103 - 0x1C) + 0x00:word32])
				{
					word32 eax_824 = Mem820[0x08180760:word32];
					Mem826[esp_104 + 0x08:word32] = Mem820[ebp_103 - 0x14 + 0x00:word32];
					word32 edx_827 = Mem826[ebp_103 - 0x18 + 0x00:word32];
					Mem828[esp_104 + 0x04:word32] = edx_827;
					Mem829[esp_104 + 0x00:word32] = eax_824;
					byte SCZO_832;
					word32 eax_833;
					word32 edx_834;
					byte SO_835;
					word32 ecx_836;
					word16 ax_837;
					byte SZO_838;
					byte C_839;
					byte al_840;
					byte Z_841;
					word16 dx_842;
					byte dh_843;
					byte CZ_844;
					byte S_845;
					!tgoto();
					Mem846[esp_104 + 0x00:word32] = eax_833;
					writestr(dwArg00);
				}
			}
			Mem229[ebp_103 - 0x20 + 0x00:word32] = Mem166[ebp_103 - 0x14 + 0x00:word32];
			Mem231[ebp_103 - 0x1C + 0x00:word32] = Mem229[ebp_103 - 0x18 + 0x00:word32];
			while (Mem231[ebp_103 - 0x18 + 0x00:word32] < Mem231[0x081807A0:word32] && ((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x08) == 0x00)
			{
				if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x01) == 0x00 && (byte) ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x01) != 0x00 || (((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x02) == 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x02) != 0x00 || (((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x04) == 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x04) != 0x00 || (((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x0F00) == 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x0F00) != 0x00 || (((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0xF000) == 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0xF000) != 0x00 || ((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x10) == 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x10) != 0x00)))))
				{
					if (((word32) Mem231[ebp_103 - 0x0A + 0x00:word16] & 0x0F00) != 0x00 || ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0xF000) != 0x00)
					{
						Mem731[esp_104 + 0x00:word32] = Mem231[0x08180758:word32];
						writestr(dwArg00);
					}
					if (((word32) Mem231[ebp_103 - 0x0A + 0x00:word16] & 0x10) != 0x00)
					{
						Mem726[esp_104 + 0x00:word32] = Mem231[0x081807B0:word32];
						writestr(dwArg00);
					}
					Mem720[esp_104 + 0x00:word32] = Mem231[0x08180740:word32];
					writestr(dwArg00);
					Mem722[ebp_103 - 0x0A + 0x00:word16] = Mem720[ebp_103 - 0x0A + 0x00:word16] & 232;
				}
				byte al_320;
				if (((int32) (word16) (word32) Mem231[Mem231[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & 0x04) != 0x00 && (int32) ((word16) ((word32) Mem231[Mem231[135784244:word32][Mem231[(ebp_103 - 0x14) + 0x00:word32] * 0x04] + 0x0A:word16])) <= Mem231[(ebp_103 - 0x18) + 0x00:word32])
				{
					word32 edx_687 = (word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02];
					word32 eax_692 = Mem231[ebp_103 - 0x28 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x04];
					Mem693[esp_104 + 0x0C:word32] = 0x00;
					Mem694[esp_104 + 0x08:word32] = 0x080CEEFD;
					Mem695[esp_104 + 0x04:word32] = edx_687;
					Mem696[esp_104 + 0x00:word32] = eax_692;
					al_320 = need_redraw(dwArg00, dwArg04, dwArg08, dwArg0C) != 0x00;
				}
				else
					al_320 = ((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x20) != 0x00;
				if (al_320 != 0x00)
				{
					if (Mem231[ebp_103 - 0x18 + 0x00:word32] - 0x01 == Mem231[(ebp_103 - 0x1C) + 0x00:word32])
					{
						Mem630[esp_104 + 0x00:word32] = Mem231[0x08180788:word32];
						writestr(dwArg00);
					}
					else if (Mem231[ebp_103 - 0x1C + 0x00:word32] != Mem231[(ebp_103 - 0x18) + 0x00:word32])
					{
						word32 eax_634 = Mem231[0x08180760:word32];
						Mem636[esp_104 + 0x08:word32] = Mem231[ebp_103 - 0x14 + 0x00:word32];
						word32 edx_637 = Mem636[ebp_103 - 0x18 + 0x00:word32];
						Mem638[esp_104 + 0x04:word32] = edx_637;
						Mem639[esp_104 + 0x00:word32] = eax_634;
						byte SCZO_642;
						word32 eax_643;
						word32 edx_644;
						byte SO_645;
						word32 ecx_646;
						word16 ax_647;
						byte SZO_648;
						byte C_649;
						byte al_650;
						byte Z_651;
						word16 dx_652;
						byte dh_653;
						byte CZ_654;
						byte S_655;
						!tgoto();
						Mem656[esp_104 + 0x00:word32] = eax_643;
						writestr(dwArg00);
					}
					if ((byte) ((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x01) != 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x01) == 0x00)
					{
						Mem624[esp_104 + 0x00:word32] = Mem231[0x081807BC:word32];
						writestr(dwArg00);
						Mem626[ebp_103 - 0x0A + 0x00:word16] = Mem624[ebp_103 - 0x0A + 0x00:word16] | 0x01;
					}
					if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x02) != 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x02) == 0x00)
					{
						Mem613[esp_104 + 0x00:word32] = Mem231[0x081807C8:word32];
						writestr(dwArg00);
						Mem615[ebp_103 - 0x0A + 0x00:word16] = Mem613[ebp_103 - 0x0A + 0x00:word16] | 0x02;
					}
					if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x04) != 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x04) == 0x00)
					{
						Mem602[esp_104 + 0x00:word32] = Mem231[0x081807B8:word32];
						writestr(dwArg00);
						Mem604[ebp_103 - 0x0A + 0x00:word16] = Mem602[ebp_103 - 0x0A + 0x00:word16] | 0x04;
					}
					if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x0F00) != 0x00 && ((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02]) ^ Mem231[(ebp_103 - 0x0A) + 0x00:word16]) & 0x0F00) != 0x00)
					{
						Mem581[ebp_103 - 0x0C + 0x00:word16] = (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x0F00;
						word32 eax_582 = (word32) Mem581[ebp_103 - 0x0A + 0x00:word16];
						Mem592[ebp_103 - 0x0A + 0x00:word16] = (word16) ((word32) Mem581[ebp_103 - 0x0C + 0x00:word16] | DPB(eax_582, SLICE(eax_582, byte, 8) & 0xF0, 8));
						Mem594[esp_104 + 0x00:word32] = (word32) Mem592[ebp_103 - 0x0C + 0x00:word16];
						color_seq(dwArg00);
						Mem595[esp_104 + 0x00:word32] = 0x0817E7C0;
						writestr(dwArg00);
					}
					if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0xF000) != 0x00 && ((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02]) ^ Mem231[(ebp_103 - 0x0A) + 0x00:word16]) & 0xF000) != 0x00)
					{
						Mem549[ebp_103 - 0x0E + 0x00:word16] = (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0xF000;
						word32 eax_550 = (word32) Mem549[ebp_103 - 0x0A + 0x00:word16];
						Mem560[ebp_103 - 0x0A + 0x00:word16] = (word16) ((word32) Mem549[ebp_103 - 0x0E + 0x00:word16] | DPB(eax_550, (word16) eax_550 & 0x0FFF, 0));
						Mem562[esp_104 + 0x00:word32] = (word32) Mem560[ebp_103 - 0x0E + 0x00:word16];
						bcolor_seq(dwArg00);
						Mem563[esp_104 + 0x00:word32] = 0x0817E7A0;
						writestr(dwArg00);
					}
					if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x10) != 0x00 && ((word32) Mem231[(ebp_103 - 0x0A) + 0x00:word16] & 0x10) == 0x00)
					{
						Mem518[esp_104 + 0x00:word32] = Mem231[0x0817E21C:word32];
						wc_putc_end(dwArg00);
						if (Mem518[0x0817E73C:word32] == 0x00)
						{
							Mem529[0x0817E73C:word32] = 0x01;
							Mem531[esp_104 + 0x00:word32] = Mem529[0x08180764:word32];
							writestr(dwArg00);
						}
						Mem524[esp_104 + 0x00:word32] = Mem518[0x0818075C:word32];
						writestr(dwArg00);
						Mem526[ebp_103 - 0x0A + 0x00:word16] = Mem524[ebp_103 - 0x0A + 0x00:word16] | 0x10;
					}
					if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0x10) != 0x00)
					{
						word32 eax_455;
						if ((byte) (word32) Mem231[Mem231[ebp_103 - 0x28 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x04] + 0x00:byte] >u 0x1F && (byte) ((word32) Mem231[Mem231[(ebp_103 - 0x28) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x04] + 0x00:byte]) >= 0x00)
							eax_455 = (int32) (byte) (word32) Mem231[(int32) (byte) (word32) Mem231[Mem231[ebp_103 - 0x28 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x04] + 0x00:byte] + 0x0817E720:byte];
						else
							eax_455 = (int32) (byte) (word32) Mem231[Mem231[ebp_103 - 0x28 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x04] + 0x00:byte];
						Mem458[esp_104 + 0x00:word32] = eax_455;
						write1(dwArg00);
					}
					else if (((word32) (word16) (word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] & 0xC0) != 0x80)
					{
						word32 eax_509 = Mem231[ebp_103 - 0x28 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x04];
						Mem510[esp_104 + 0x04:word32] = Mem231[0x0817E21C:word32];
						Mem511[esp_104 + 0x00:word32] = eax_509;
						wc_putc(ebp_103, dwArg00);
					}
					Mem442[ebp_103 - 0x1C + 0x00:word32] = Mem231[ebp_103 - 0x18 + 0x00:word32] + 0x01;
				}
				Mem340[ebp_103 - 0x18 + 0x00:word32] = Mem231[ebp_103 - 0x18 + 0x00:word32] + 0x01;
			}
			if (Mem231[ebp_103 - 0x18 + 0x00:word32] == Mem231[0x081807A0:word32])
				Mem286[ebp_103 - 0x24 + 0x00:word32] = 0x00;
			while (Mem231[ebp_103 - 0x18 + 0x00:word32] < Mem231[0x081807A0:word32] && ((word32) ((word16) ((word32) Mem231[(ebp_103 - 44) + 0x00:word32][Mem231[(ebp_103 - 0x18) + 0x00:word32] * 0x02])) & 0x08) == 0x00)
			{
				Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] = (word16) ((word32) Mem231[ebp_103 - 44 + 0x00:word32][Mem231[ebp_103 - 0x18 + 0x00:word32] * 0x02] | 0x08);
				Mem284[ebp_103 - 0x18 + 0x00:word32] = Mem282[ebp_103 - 0x18 + 0x00:word32] + 0x01;
			}
		}
		Mem111[Mem85[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] = (word16) ((word32) Mem85[Mem85[ebp_103 - 0x30 + 0x00:word32] + 0x00:word16] & ~0x0C);
		if (((word32) Mem111[ebp_103 - 0x0A + 0x00:word16] & 0xFF17) != 0x00)
		{
			if (((word32) Mem111[ebp_103 - 0x0A + 0x00:word16] & 0xFF00) != 0x00)
			{
				Mem143[esp_104 + 0x00:word32] = Mem111[0x08180758:word32];
				writestr(dwArg00);
			}
			if (((word32) Mem111[ebp_103 - 0x0A + 0x00:word16] & 0x10) != 0x00)
			{
				Mem141[esp_104 + 0x00:word32] = Mem111[0x081807B0:word32];
				writestr(dwArg00);
				wc_putc_clear_status();
			}
			Mem135[esp_104 + 0x00:word32] = Mem111[0x08180740:word32];
			writestr(dwArg00);
			Mem137[ebp_103 - 0x0A + 0x00:word16] = Mem135[ebp_103 - 0x0A + 0x00:word16] & 232;
		}
		Mem122[ebp_103 - 0x14 + 0x00:word32] = Mem111[ebp_103 - 0x14 + 0x00:word32] + 0x01;
	}
	Mem48[esp_104 + 0x00:word32] = Mem0[0x0817E21C:word32];
	wc_putc_end(dwArg00);
	word32 ecx_50 = Mem48[0x0817E728:word32];
	word32 edx_51 = Mem48[0x0817E72C:word32];
	word32 eax_52 = Mem48[0x08180760:word32];
	Mem53[esp_104 + 0x08:word32] = ecx_50;
	Mem54[esp_104 + 0x04:word32] = edx_51;
	Mem55[esp_104 + 0x00:word32] = eax_52;
	word32 esp_56;
	word32 ebp_57;
	byte SCZO_58;
	word32 eax_59;
	word32 edx_60;
	byte SO_61;
	word32 ecx_62;
	word16 ax_63;
	byte SZO_64;
	byte C_65;
	byte al_66;
	byte Z_67;
	word16 dx_68;
	byte dh_69;
	byte CZ_70;
	byte S_71;
	!tgoto();
	Mem72[esp_56 + 0x00:word32] = eax_59;
	writestr(dwArg00);
	return flush_tty();
}

// 0809DBFF: void clear()
void clear()
{
	writestr(Mem0[0x08180748:word32]);
	move(0x00, 0x00);
	word32 dwLoc10_13 = 0x00;
	while (dwLoc10_13 < Mem0[0x08180780:word32])
	{
		Mem33[Mem0[135784244:word32][dwLoc10_13 * 0x04] + 0x08:word16] = 0x00;
		word32 eax_40 = Mem33[Mem33[135784244:word32][dwLoc10_13 * 0x04] + 0x04:word32];
		word32 dwLoc14_42 = 0x00;
		while (dwLoc14_42 < Mem33[0x081807A0:word32])
		{
			eax_40[dwLoc14_42 * 0x02] = 0x08;
			dwLoc14_42 = dwLoc14_42 + 0x01;
		}
		dwLoc10_13 = dwLoc10_13 + 0x01;
	}
	Mem24[0x0817E738:word16] = 0x00;
}

// 0809DC96: void clrtoeol()
void clrtoeol()
{
	word32 eax_13 = Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32];
	if (((word32) (word16) (word32) eax_13[Mem0[0x0817E72C:word32] * 0x02] & 0x08) == 0x00)
	{
		if (((int32) (word16) (word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x08:word16] & 0x0C) == 0x00 || (int32) ((word16) ((word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x0A:word16])) > Mem0[0x0817E72C:word32])
			Mem106[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x0A:word16] = (word16) Mem0[0x0817E72C:word32];
		Mem68[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x08:word16] = (word16) ((word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x08:word16] | 0x08);
		touch_line();
		word32 dwLoc08_70 = Mem68[0x0817E72C:word32];
		while (dwLoc08_70 < Mem68[0x081807A0:word32] && ((word32) ((word16) ((word32) eax_13[dwLoc08_70 * 0x02])) & 0x08) == 0x00)
		{
			eax_13[dwLoc08_70 * 0x02] = 0x28;
			dwLoc08_70 = dwLoc08_70 + 0x01;
		}
	}
}

// 0809DD9F: void clrtoeol_with_bcolor()
void clrtoeol_with_bcolor()
{
	if (((word32) (word16) (word32) Mem0[0x0817E738:word16] & 0xF000) == 0x00)
		clrtoeol();
	else
	{
		word32 eax_38 = Mem0[0x0817E728:word32];
		word32 eax_40 = Mem0[0x0817E72C:word32];
		word16 ax_43 = (word16) (word32) Mem0[0x0817E738:word16];
		Mem50[0x0817E738:word16] = (word16) (word32) Mem0[0x0817E738:word16] & 0xF020;
		word32 dwLoc14_52 = Mem50[0x0817E72C:word32];
		while (dwLoc14_52 < Mem50[0x081807A0:word32])
		{
			addch(0x20);
			dwLoc14_52 = dwLoc14_52 + 0x01;
		}
		move(eax_38, eax_40);
		Mem64[0x0817E738:word16] = (word16) (word32) ax_43;
	}
}

// 0809DE2D: void clrtoeolx()
void clrtoeolx()
{
	clrtoeol_with_bcolor();
}

// 0809DE3A: void clrtobot_eol(Stack word32 dwArg04)
void clrtobot_eol(word32 dwArg04)
{
	word32 esp_15;
	word32 ebp_16;
	byte SCZO_17;
	word32 eax_18;
	word32 edx_19;
	byte SO_20;
	dwArg04();
	word32 eax_9 = Mem0[0x0817E728:word32];
	word32 eax_11 = Mem0[0x0817E72C:word32];
	Mem21[0x0817E72C:word32] = 0x00;
	Mem25[0x0817E728:word32] = Mem21[0x0817E728:word32] + 0x01;
	while (true)
	{
		word32 edx_28 = Mem25[0x0817E728:word32];
		if (edx_28 >= Mem25[0x08180780:word32])
			break;
		word32 esp_40;
		word32 ebp_41;
		byte SCZO_42;
		word32 eax_43;
		word32 edx_44;
		byte SO_45;
		dwArg04();
		Mem49[0x0817E728:word32] = Mem25[0x0817E728:word32] + 0x01;
	}
	Mem33[0x0817E728:word32] = eax_9;
	Mem35[0x0817E72C:word32] = eax_11;
}

// 0809DEA1: void clrtobot()
void clrtobot()
{
	clrtobot_eol(0x0809DC96);
}

// 0809DEB6: void clrtobotx()
void clrtobotx()
{
	clrtobot_eol(0x0809DE2D);
}

// 0809DECB: void addstr(Stack word32 dwArg04)
void addstr(word32 dwArg04)
{
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 eax_29 = wtf_len(dwArg04);
		addmch(dwArg04, eax_29);
		dwArg04 = dwArg04 + eax_29;
	}
}

// 0809DF05: void addnstr(Stack word32 dwArg04, Stack word32 dwArg08)
void addnstr(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_21 = 0x00;
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 eax_49;
		if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
			eax_49 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte];
		else
			eax_49 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte] != 0x00);
		if (dwLoc10_21 + eax_49 > dwArg08)
			return;
		word32 eax_59 = wtf_len(dwArg04);
		addmch(dwArg04, eax_59);
		dwArg04 = dwArg04 + eax_59;
		dwLoc10_21 = dwLoc10_21 + eax_49;
	}
}

// 0809DF98: void addnstr_sup(Stack word32 dwArg04, Stack word32 dwArg08)
void addnstr_sup(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc10_21 = 0x00;
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 eax_57;
		if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
			eax_57 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte];
		else
			eax_57 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte] != 0x00);
		if (dwLoc10_21 + eax_57 > dwArg08)
			break;
		word32 eax_66 = wtf_len(dwArg04);
		addmch(dwArg04, eax_66);
		dwArg04 = dwArg04 + eax_66;
		dwLoc10_21 = dwLoc10_21 + eax_57;
	}
	while (dwLoc10_21 < dwArg08)
	{
		addch(0x20);
		dwLoc10_21 = dwLoc10_21 + 0x01;
	}
}

// 0809E049: Register word32 crmode(Register selector gs)
word32 crmode(selector gs)
{
	ttymode_reset(gs, 0x02, 0x0400);
	ttymode_set(gs, 0x01, 0x00);
	return set_cc(gs, 0x06, 0x01);
}

// 0809E08D: void nocrmode(Register selector gs)
void nocrmode(selector gs)
{
	ttymode_set(gs, 0x02, 0x00);
	set_cc(gs, 0x06, 0x04);
}

// 0809E0BD: void term_echo(Register selector gs)
void term_echo(selector gs)
{
	ttymode_set(gs, 0x08, 0x00);
}

// 0809E0D9: void term_noecho(Register selector gs)
void term_noecho(selector gs)
{
	ttymode_reset(gs, 0x08, 0x00);
}

// 0809E0F5: void term_raw(Register selector gs)
void term_raw(selector gs)
{
	ttymode_reset(gs, 0x800B, 0x1400);
	set_cc(gs, 0x06, 0x01);
}

// 0809E125: void term_cooked(Register selector gs)
void term_cooked(selector gs)
{
	ttymode_set(gs, 0x800B, 0x00);
	set_cc(gs, 0x06, 0x04);
}

// 0809E155: void term_cbreak(Register selector gs)
void term_cbreak(selector gs)
{
	term_cooked(gs);
	term_noecho(gs);
}

// 0809E167: void term_title(Stack word32 dwArg04)
void term_title(word32 dwArg04)
{
	if ((byte) (word32) Mem0[135774799:byte] != 0x00 && Mem0[0x0817E1C8:word32] != 0x00)
		fprintf(Mem0[0x0817E21C:word32], Mem0[0x0817E1C8:word32], tLoc20);
}

// 0809E1A5: Register byte getch(Register selector gs)
byte getch(selector gs)
{
	do
	{
		word32 eax_12 = Mem0[0x080D7FC0:word32];
		if (DPB(eax_12, DPB((byte) eax_12, read(eax_12, fp - 0x0D, 0x01), 0), 0) > 0x00)
			return (byte) (word32) Mem0[fp - 0x0D + 0x00:byte];
	} while (Mem0[__errno_location() + 0x00:word32] == 0x04 || Mem0[__errno_location() + 0x00:word32] == 11);
	quitfm(gs);
	return (byte) (word32) Mem0[fp - 0x0D + 0x00:byte];
}

// 0809E1F6: void wgetch(Register selector gs)
void wgetch(selector gs)
{
	do
	{
		word32 eax_12 = Mem0[0x080D7FC0:word32];
		if (DPB(eax_12, DPB((byte) eax_12, read(eax_12, fp - 0x0D, 0x01), 0), 0) > 0x00)
			return;
	} while (Mem0[__errno_location() + 0x00:word32] == 0x04 || Mem0[__errno_location() + 0x00:word32] == 11);
	quitfm(gs);
}

// 0809E247: Register byte do_getch(Register selector gs)
byte do_getch(selector gs)
{
	byte al_20;
	word32 eax_8 = Mem0[135782852:word32];
	if (eax_8 != 0x00)
		al_20 = (byte) (int32) getch(gs);
	else
	{
		word32 esp_32;
		word32 ebp_33;
		byte SCZO_34;
		word32 eax_35;
		byte SZO_36;
		byte C_37;
		byte Z_38;
		selector gs_40;
		!Gpm_Wgetch();
	}
	return al_20;
}

// 0809E26E: void bell()
void bell()
{
	write1(0x07);
}

// 0809E282: void skip_escseq(Register selector gs)
void skip_escseq(selector gs)
{
	Mem11[fp - 0x10 + 0x00:word32] = (int32) getch(gs);
	if (Mem11[fp - 0x10 + 0x00:word32] == 0x5B || Mem11[(fp - 0x10) + 0x00:word32] == 0x4F)
	{
		Mem26[fp - 0x10 + 0x00:word32] = (int32) getch(gs);
		if (Mem26[135782852:word32] != 0x00 && Mem26[(fp - 0x10) + 0x00:word32] == 77)
		{
			getch(gs);
			getch(gs);
			getch(gs);
		}
		else
		{
			while (((word32) (byte) (word32) Mem26[(word32) (byte) Mem26[fp - 0x10 + 0x00:word32] + 0x080DB700:byte] & 0x08) != 0x00)
				Mem44[fp - 0x10 + 0x00:word32] = (int32) getch(gs);
		}
	}
}

// 0809E2F4: Register word32 sleep_till_anykey(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 sleep_till_anykey(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 esp_27;
	word32 ebp_28;
	word32 edi_29;
	word32 esi_30;
	word32 ebx_31;
	byte SCZO_32;
	word32 eax_33;
	selector gs_34;
	byte SZO_35;
	byte C_36;
	word32 edx_37;
	word32 ecx_38;
	byte D_39;
	byte S_40;
	byte cl_41;
	byte Z_42;
	byte al_43;
	!tcgetattr();
	term_raw(gs_34);
	word32 ecx_49 = 0x20;
	word32 edi_52 = fp - 0xF8;
	while (ecx_49 != 0x00)
	{
		Mem57[edi_52 + 0x00:word32] = 0x00;
		edi_52 = edi_52 + 0x04;
		ecx_49 = ecx_49 - 0x01;
	}
	word32 eax_162 = Mem0[0x080D7FC0:word32];
	if (eax_162 < 0x00)
		eax_162 = eax_162 + 0x1F;
	word32 eax_74 = Mem0[0x080D7FC0:word32];
	word32 edx_77 = eax_74 >> 0x1F >>u 0x1B;
	word32 eax_71 = eax_162 >> 0x05;
	byte cl_84 = (byte) ((eax_74 + edx_77 & 0x1F) - edx_77);
	word32 esi_73 = (fp - 0xF8)[eax_71 * 0x04];
	word32 edi_85 = 0x01 << cl_84;
	(fp - 0xF8)[eax_71 * 0x04] = edi_85 | esi_73;
	word32 esp_100;
	word32 ebp_101;
	word32 edi_102;
	word32 esi_103;
	word32 ebx_104;
	byte SCZO_105;
	word32 eax_106;
	selector gs_107;
	byte SZO_108;
	byte C_109;
	word32 edx_110;
	word32 ecx_111;
	byte D_112;
	byte S_113;
	byte cl_114;
	byte Z_115;
	byte al_116;
	!select();
	if (fp > 0xF8 && dwArg08 != 0x00)
	{
		Mem159[ebp_101 - 0x60 + 0x00:word32] = (int32) getch(gs_107);
		if (Mem159[ebp_101 - 0x60 + 0x00:word32] == 0x1B)
			skip_escseq(gs_107);
	}
	word32 eax_121 = Mem90[0x080D7FC0:word32];
	Mem123[esp_100 + 0x08:word32] = ebp_101 - 88;
	Mem124[esp_100 + 0x04:word32] = 0x00;
	Mem125[esp_100 + 0x00:word32] = eax_121;
	Mem127[ebp_101 - 0x5C + 0x00:word32] = tcsetattr(Mem125[esp_100 + 0x00:int32], Mem125[esp_100 + 0x04:int32], Mem125[esp_100 + 0x08:(ptr (struct "termios"))]);
	if (Mem127[ebp_101 - 0x5C + 0x00:word32] == ~0x00)
	{
		Mem150[esp_100 + 0x04:word32] = Mem127[__errno_location() + 0x00:word32];
		Mem151[esp_100 + 0x00:word32] = 0x080CEE48;
		printf(Mem151[esp_100 + 0x00:(ptr char)], Mem151[esp_100 + 0x04:int32]);
		Mem153[esp_100 + 0x00:word32] = 0x00;
		reset_exit(gs_107);
	}
	word32 eax_130 = Mem127[ebp_101 - 100 + 0x00:word32];
	if ((Mem127[ebp_101 - 0x1C + 0x00:word32] ^ Mem127[gs_107:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_130;
}

// 0809E44F: void mouse_init()
void mouse_init()
{
	if (Mem0[0x0817E1C0:word32] == 0x00)
	{
		word32 esp_44;
		word32 ebp_45;
		byte SCZO_46;
		word32 eax_47;
		byte SZO_48;
		byte C_49;
		byte Z_50;
		word32 edx_51;
		byte S_52;
		!Gpm_Open();
		if (fp == 0x1E)
		{
			word32 esp_80;
			word32 ebp_81;
			byte SCZO_82;
			word32 eax_83;
			byte SZO_84;
			byte C_85;
			byte Z_86;
			word32 edx_87;
			byte S_88;
			!Gpm_Close();
			Mem89[135782852:word32] = 0x03;
		}
		else if (fp >= 0x20)
		{
			Mem92[0x0817C1E0:word32] = 0x08057A20;
			Mem93[135782852:word32] = 0x00;
		}
		if (Mem0[135782852:word32] != 0x00)
		{
			fwrite(0x080CEF05, 0x01, 0x10, Mem0[0x0817E21C:word32]);
			flush_tty();
		}
		Mem71[0x0817E1C0:word32] = 0x01;
	}
}

// 0809E505: void mouse_end()
void mouse_end()
{
	if (Mem0[0x0817E1C0:word32] != 0x00)
	{
		word32 eax_25 = Mem0[135782852:word32];
		if (eax_25 != 0x00)
		{
			fwrite(135065366, 0x01, 0x10, Mem0[0x0817E21C:word32]);
			flush_tty();
		}
		else
		{
			word32 esp_56;
			word32 ebp_57;
			byte SCZO_58;
			word32 eax_59;
			byte SZO_60;
			byte C_61;
			byte Z_62;
			word32 edx_63;
			!Gpm_Close();
		}
		Mem41[0x0817E1C0:word32] = 0x00;
	}
}

// 0809E55F: void mouse_active()
void mouse_active()
{
	if (Mem0[0x0817E1C0:word32] == 0x00)
		mouse_init();
}

// 0809E575: void mouse_inactive()
void mouse_inactive()
{
	if (Mem0[0x0817E1C0:word32] != 0x00 && Mem0[135782852:word32] != 0x00)
		mouse_end();
}

// 0809E594: Register word32 flush_tty()
word32 flush_tty()
{
	word32 eax_14 = Mem0[0x0817E21C:word32];
	if (eax_14 != 0x00)
		eax_14 = fflush(Mem0[0x0817E21C:word32]);
	return eax_14;
}

// 0809E5B2: void touch_cursor()
void touch_cursor()
{
	touch_line();
	word32 dwLoc08_10 = Mem0[0x0817E72C:word32];
	while (dwLoc08_10 >= 0x00)
	{
		touch_column(dwLoc08_10);
		if (((word32) (word16) (word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32][dwLoc08_10 * 0x02] & 0xC0) != 0x80)
			break;
		dwLoc08_10 = dwLoc08_10 - 0x01;
	}
	word32 dwLoc08_30 = Mem0[0x0817E72C:word32] + 0x01;
	while (dwLoc08_30 < Mem0[0x081807A0:word32] && ((word32) ((word16) ((word32) Mem0[Mem0[135784244:word32][Mem0[0x0817E728:word32] * 0x04] + 0x04:word32][dwLoc08_30 * 0x02])) & 0xC0) == 0x80)
	{
		touch_column(dwLoc08_30);
		dwLoc08_30 = dwLoc08_30 + 0x01;
	}
}

// 0809E668: Register word32 loadMimeTypes(Stack word32 dwArg04)
word32 loadMimeTypes(word32 dwArg04)
{
	word32 eax_126;
	word32 eax_18 = fopen(expandPath(dwArg04), 0x080CF08E);
	if (eax_18 == 0x00)
		eax_126 = 0x00;
	else
	{
		while (true)
		{
			Strfgets(eax_18, eax_18);
			if (Mem0[eax_18 + 0x04:word32] <= 0x00)
				break;
			word32 eax_175 = Mem0[eax_18 + 0x00:word32];
			if ((byte) (word32) Mem0[eax_175 + 0x00:byte] != 0x23 && strtok(eax_175, 0x080CF090) != 0x00)
			{
				word32 dwLoc14_194 = strtok(0x00, 0x080CF090);
				while (dwLoc14_194 != 0x00)
					dwLoc14_194 = strtok(0x00, 0x080CF090);
			}
		}
		word32 esp_74;
		word32 ebp_75;
		word32 ebx_76;
		byte SCZO_77;
		word32 eax_78;
		byte Z_79;
		byte SZO_80;
		byte C_81;
		byte al_82;
		!fseek();
		word32 esp_88;
		word32 ebp_89;
		word32 ebx_90;
		byte SCZO_91;
		word32 eax_92;
		byte Z_93;
		byte SZO_94;
		byte C_95;
		byte al_96;
		!GC_malloc();
		word32 dwLoc1C_103 = 0x00;
		while (true)
		{
			Strfgets(eax_18, eax_18);
			if (Mem0[eax_18 + 0x04:word32] <= 0x00)
				break;
			word32 eax_129 = Mem0[eax_18 + 0x00:word32];
			if ((byte) (word32) Mem0[eax_129 + 0x00:byte] != 0x23)
			{
				word32 eax_140 = strtok(eax_129, 0x080CF090);
				if (eax_140 != 0x00)
				{
					while (true)
					{
						word32 eax_149 = strtok(0x00, 0x080CF090);
						if (eax_149 == 0x00)
							break;
						Strnew_charp(eax_149, eax_149);
						eax_92[dwLoc1C_103 * 0x08] = Mem0[eax_149 + 0x00:word32];
						Strnew_charp(eax_140, eax_140);
						Mem170[(dwLoc1C_103 << 0x03) + eax_92 + 0x04:word32] = Mem161[eax_140 + 0x00:word32];
						dwLoc1C_103 = dwLoc1C_103 + 0x01;
					}
				}
			}
		}
		eax_92[dwLoc1C_103 * 0x08] = 0x00;
		Mem122[(dwLoc1C_103 << 0x03) + eax_92 + 0x04:word32] = 0x00;
		fclose(eax_18);
		eax_126 = eax_92;
	}
	return eax_126;
}

// 0809E854: void initMimeTypes()
void initMimeTypes()
{
	if (non_null(Mem0[0x080D5358:word32]) != 0x00)
		Mem91[0x0817E89C:word32] = make_domain_list(Mem0[0x080D5358:word32]);
	else
		Mem92[0x0817E89C:word32] = 0x00;
	if (Mem0[0x0817E89C:word32] != 0x00)
	{
		word32 esp_48;
		word32 ebp_49;
		word32 ebx_50;
		byte SCZO_51;
		word32 eax_52;
		byte SZO_53;
		byte C_54;
		byte Z_55;
		word16 ax_56;
		word32 edx_57;
		!GC_malloc();
		Mem58[0x0817E8A0:word32] = eax_52;
		word32 dwLoc10_59 = 0x00;
		word32 dwLoc14_62 = Mem58[Mem58[0x0817E89C:word32] + 0x00:word32];
		while (dwLoc14_62 != 0x00)
		{
			Mem58[0x0817E8A0:word32][dwLoc10_59 * 0x04] = loadMimeTypes(Mem58[dwLoc14_62 + 0x00:word32]);
			dwLoc10_59 = dwLoc10_59 + 0x01;
			dwLoc14_62 = Mem80[dwLoc14_62 + 0x04:word32];
		}
	}
}

// 0809E8F9: Register word32 DefaultFile(Stack word32 dwArg04)
word32 DefaultFile(word32 dwArg04)
{
	word32 eax_17;
	if (dwArg04 == 0x01)
	{
		eax_17 = allocStr(0x080CF097, ~0x00);
		return eax_17;
	}
	if (dwArg04 <= 0x01)
	{
		if (dwArg04 == 0x00)
		{
			eax_17 = allocStr(0x080CF095, ~0x00);
			return eax_17;
		}
	}
	else if (dwArg04 <= 0x05)
	{
		eax_17 = allocStr(0x080CF095, ~0x00);
		return eax_17;
	}
	eax_17 = 0x00;
	return eax_17;
}

// 0809E962: void KeyAbort()
void KeyAbort()
{
	word32 esp_10;
	word32 ebp_11;
	byte SCZO_12;
	!siglongjmp();
	write_from_file(0x0817E800, 0x01);
}

// 0809E97C: void write_from_file(Stack word32 dwArg04, Stack word32 dwArg08)
void write_from_file(word32 dwArg04, word32 dwArg08)
{
	word32 eax_12 = fopen(dwArg08, 0x080CF08E);
	if (eax_12 != 0x00)
	{
		while (fgetc(eax_12) != ~0x00)
		{
			byte al_55 = DPB((byte) dwArg04, write(dwArg04, fp - 0x0D, 0x01), 0);
		}
		fclose(eax_12);
	}
}

// 0809E9E2: Register word32 baseURL(Stack word32 dwArg04)
word32 baseURL(word32 dwArg04)
{
	word32 eax_20;
	if (((int32) (word16) (word32) Mem0[dwArg04 + 0x40:word16] & 0x10) != 0x00)
		eax_20 = 0x00;
	else if (Mem0[dwArg04 + 0xAC:word32] != 0x00)
		eax_20 = Mem0[dwArg04 + 0xAC:word32];
	else
		eax_20 = dwArg04 + 0x84;
	return eax_20;
}

// 0809EA1D: Register word32 openSocket(Register word32 ebp, Register selector gs, Stack word32 dwArg0C)
word32 openSocket(word32 ebp, selector gs, word32 dwArg0C)
{
	word32 eax_18 = (word32) Mem0[135774799:byte];
	byte al_20 = (byte) eax_18;
	if (al_20 != 0x00)
	{
		byte bpl_505;
		word32 eax_507 = Mem0[Sprintf(0x080CF099, out bpl_505) + 0x00:word32];
		Mem508[fp - 100 + 0x00:word32] = 0x00;
		Mem509[fp - 0x68 + 0x00:word32] = 0x00;
		Mem510[fp - 0x6C + 0x00:word32] = eax_507;
		message(dwArg00, dwArg04, dwArg08);
		refresh(fp - 0x04);
	}
	word32 eax_298;
	Mem26[fp - 0x68 + 0x00:word32] = 0x01;
	Mem27[fp - 0x6C + 0x00:word32] = 0x0817E800;
	word32 ebx_30;
	byte SCZO_31;
	word32 eax_32;
	word16 ax_33;
	byte al_34;
	byte SZO_35;
	byte C_36;
	byte Z_37;
	byte S_38;
	word32 ecx_39;
	word32 edx_40;
	byte bpl_42;
	selector gs_123;
	word32 ebp_131;
	word32 esp_132;
	!__sigsetjmp();
	if (eax_32 != 0x00)
	{
		if (Mem27[ebp_131 - 0x0C + 0x00:word32] >= 0x00)
		{
			Mem105[esp_132 + 0x00:word32] = Mem27[ebp_131 - 0x0C + 0x00:word32];
			close(Mem105[esp_132 + 0x00:int32]);
		}
		goto l0809ED4B;
	}
	if ((byte) (word32) Mem27[0x080D52C5:byte] != 0x00)
	{
		Mem495[esp_132 + 0x04:word32] = 0x0809E962;
		Mem496[esp_132 + 0x00:word32] = 0x02;
		Mem498[ebp_131 - 0x24 + 0x00:word32] = mySignal(dwArg00, dwArg04);
		if ((byte) (word32) Mem498[135774799:byte] != 0x00)
			term_cbreak(gs_123);
	}
	if (Mem27[ebp_131 + 0x08:word32] != 0x00)
	{
		Mem119[ebp_131 - 0x20 + 0x00:word32] = Mem27[ebp_131 + 0x08:word32];
		if (Mem119[ebp_131 - 0x20 + 0x00:word32] != 0x00 && (byte) ((word32) Mem119[Mem119[(ebp_131 - 0x20) + 0x00:word32] + 0x00:byte]) == 0x5B)
		{
			Mem449[esp_132 + 0x00:word32] = Mem119[ebp_131 - 0x20 + 0x00:word32];
			byte al_454 = (byte) (word32) Mem449[strlen(Mem449[esp_132 + 0x00:(ptr char)]) - 0x01 + Mem449[(ebp_131 - 0x20) + 0x00:word32]:byte];
			if (al_454 == 0x5D)
			{
				word32 eax_457 = Mem449[ebp_131 + 0x08:word32];
				Mem460[esp_132 + 0x04:word32] = ~0x00;
				Mem461[esp_132 + 0x00:word32] = eax_457 + 0x01;
				Mem463[ebp_131 - 0x20 + 0x00:word32] = allocStr(dwArg00, dwArg04);
				Mem465[esp_132 + 0x00:word32] = Mem463[ebp_131 - 0x20 + 0x00:word32];
				Mem470[strlen(Mem465[esp_132 + 0x00:(ptr char)]) - 0x01 + Mem465[(ebp_131 - 0x20) + 0x00:word32]:byte] = 0x00;
				Mem471[esp_132 + 0x04:word32] = 0x080CF0AB;
				word32 eax_472 = Mem471[ebp_131 - 0x20 + 0x00:word32];
				Mem473[esp_132 + 0x00:word32] = eax_472;
				word32 ebx_476;
				byte SCZO_477;
				word32 eax_478;
				word16 ax_479;
				byte al_480;
				byte SZO_481;
				byte C_482;
				byte Z_483;
				byte S_484;
				word32 ecx_485;
				word32 edx_486;
				byte bpl_488;
				!strspn();
				Mem491[esp_132 + 0x00:word32] = Mem473[ebp_131 - 0x20 + 0x00:word32];
				if (eax_478 != strlen(Mem491[esp_132 + 0x00:(ptr char)]))
					goto l0809ED4B;
			}
		}
		Mem142[ebp_131 - 0x10 + 0x00:word32] = Mem119[0x0817C264:word32] * 0x0C + 0x080D8040;
l0809EB7C:
		Mem155[esp_132 + 0x08:word32] = 0x20;
		Mem156[esp_132 + 0x04:word32] = 0x00;
		Mem158[esp_132 + 0x00:word32] = ebp_131 - 0x48;
		memset(Mem158[esp_132 + 0x00:(ptr void)], Mem158[esp_132 + 0x04:int32], Mem158[esp_132 + 0x08:size_t]);
		Mem162[ebp_131 - 0x44 + 0x00:word32] = Mem158[Mem158[ebp_131 - 0x10 + 0x00:word32] + 0x00:word32];
		Mem163[ebp_131 - 0x40 + 0x00:word32] = 0x01;
		if (Mem163[ebp_131 - 0x4C + 0x00:word16] != 0x00)
		{
			Mem411[esp_132 + 0x04:word32] = (word32) Mem163[ebp_131 - 0x4C + 0x00:word16];
			Mem412[esp_132 + 0x00:word32] = 0x080CF0C4;
			byte bpl_413;
			Mem415[ebp_131 - 0x28 + 0x00:word32] = Sprintf(dwArg00, out bpl_413);
			word32 eax_418 = Mem415[Mem415[ebp_131 - 0x28 + 0x00:word32] + 0x00:word32];
			word32 eax_420 = Mem415[ebp_131 - 0x20 + 0x00:word32];
			word32 ebx_421 = ebp_131 - 0x14;
			Mem422[esp_132 + 0x0C:word32] = ebx_421;
			word32 ecx_416 = ebp_131 - 0x48;
			Mem423[esp_132 + 0x08:word32] = ecx_416;
			Mem424[esp_132 + 0x04:word32] = eax_418;
			Mem425[esp_132 + 0x00:word32] = eax_420;
			word32 ebx_428;
			byte SCZO_429;
			word32 eax_430;
			word16 ax_431;
			byte al_432;
			byte SZO_433;
			byte C_434;
			byte Z_435;
			byte S_436;
			word32 ecx_437;
			word32 edx_438;
			byte bpl_440;
			!getaddrinfo();
			Mem441[ebp_131 - 0x1C + 0x00:word32] = eax_430;
		}
		else
			Mem442[ebp_131 - 0x1C + 0x00:word32] = ~0x00;
		if (Mem163[ebp_131 - 0x1C + 0x00:word32] != 0x00 && Mem163[ebp_131 + 0x0C:word32] != 0x00)
		{
			byte al_382 = (byte) (word32) Mem163[Mem163[ebp_131 + 0x0C:word32] + 0x00:byte];
			if (al_382 != 0x00)
			{
				word32 edx_387 = Mem163[ebp_131 + 0x0C:word32];
				word32 eax_388 = Mem163[ebp_131 - 0x20 + 0x00:word32];
				word32 ebx_389 = ebp_131 - 0x14;
				Mem390[esp_132 + 0x0C:word32] = ebx_389;
				word32 ecx_386 = ebp_131 - 0x48;
				Mem391[esp_132 + 0x08:word32] = ecx_386;
				Mem392[esp_132 + 0x04:word32] = edx_387;
				Mem393[esp_132 + 0x00:word32] = eax_388;
				word32 ebx_396;
				byte SCZO_397;
				word32 eax_398;
				word16 ax_399;
				byte al_400;
				byte SZO_401;
				byte C_402;
				byte Z_403;
				byte S_404;
				word32 ecx_405;
				word32 edx_406;
				byte bpl_408;
				!getaddrinfo();
				Mem409[ebp_131 - 0x1C + 0x00:word32] = eax_398;
			}
		}
		if (Mem163[ebp_131 - 0x1C + 0x00:word32] != 0x00)
		{
			if (Mem163[Mem163[ebp_131 - 0x10 + 0x00:word32] + 0x00:word32] == 0x00)
				goto l0809ED4B;
			goto l0809ED0C;
		}
		Mem218[ebp_131 - 0x0C + 0x00:word32] = ~0x00;
		Mem220[ebp_131 - 0x18 + 0x00:word32] = Mem218[ebp_131 - 0x14 + 0x00:word32];
		while (Mem220[ebp_131 - 0x18 + 0x00:word32] != 0x00)
		{
			word32 edx_317 = Mem220[Mem220[ebp_131 - 0x18 + 0x00:word32] + 0x08:word32];
			word32 eax_319 = Mem220[Mem220[ebp_131 - 0x18 + 0x00:word32] + 0x04:word32];
			Mem320[esp_132 + 0x08:word32] = Mem220[Mem220[ebp_131 - 0x18 + 0x00:word32] + 0x0C:word32];
			Mem321[esp_132 + 0x04:word32] = edx_317;
			Mem322[esp_132 + 0x00:word32] = eax_319;
			Mem324[ebp_131 - 0x0C + 0x00:word32] = socket(Mem322[esp_132 + 0x00:int32], Mem322[esp_132 + 0x04:int32], Mem322[esp_132 + 0x08:int32]);
			if (Mem324[ebp_131 - 0x0C + 0x00:word32] >= 0x00)
			{
				word32 ecx_347 = Mem324[Mem324[ebp_131 - 0x18 + 0x00:word32] + 0x10:word32];
				word32 eax_349 = Mem324[Mem324[ebp_131 - 0x18 + 0x00:word32] + 0x14:word32];
				word32 edx_352 = Mem324[ebp_131 - 0x0C + 0x00:word32];
				Mem353[esp_132 + 0x08:word32] = ecx_347;
				Mem354[esp_132 + 0x04:word32] = eax_349;
				Mem355[esp_132 + 0x00:word32] = edx_352;
				word32 ebx_358;
				byte SCZO_359;
				word32 eax_360;
				word16 ax_361;
				byte al_362;
				byte SZO_363;
				byte C_364;
				byte Z_365;
				byte S_366;
				word32 ecx_367;
				word32 edx_368;
				selector gs_369;
				byte bpl_370;
				!connect();
				if (eax_360 >= 0x00)
					break;
				Mem375[esp_132 + 0x00:word32] = Mem355[ebp_131 - 0x0C + 0x00:word32];
				close(Mem375[esp_132 + 0x00:int32]);
				Mem377[ebp_131 - 0x0C + 0x00:word32] = ~0x00;
			}
			Mem345[ebp_131 - 0x18 + 0x00:word32] = Mem324[Mem324[ebp_131 - 0x18 + 0x00:word32] + 0x1C:word32];
		}
		if (Mem220[ebp_131 - 0x0C + 0x00:word32] >= 0x00)
		{
			word32 eax_273 = Mem220[ebp_131 - 0x14 + 0x00:word32];
			Mem274[esp_132 + 0x00:word32] = eax_273;
			word32 esp_275;
			word32 ebp_276;
			word32 ebx_277;
			byte SCZO_278;
			word32 eax_279;
			word16 ax_280;
			byte al_281;
			byte SZO_282;
			byte C_283;
			byte Z_284;
			byte S_285;
			word32 ecx_286;
			word32 edx_287;
			selector gs_288;
			byte bpl_289;
			!freeaddrinfo();
			if ((byte) (word32) Mem274[0x080D52C5:byte] != 0x00)
			{
				if ((byte) (word32) Mem274[135774799:byte] != 0x00)
					term_raw(gs_288);
				if (Mem274[ebp_276 - 0x24 + 0x00:word32] != 0x00)
				{
					Mem311[esp_275 + 0x04:word32] = Mem274[ebp_276 - 0x24 + 0x00:word32];
					Mem312[esp_275 + 0x00:word32] = 0x02;
					mySignal(dwArg00, dwArg04);
				}
			}
			eax_298 = Mem274[ebp_276 - 0x0C + 0x00:word32];
			return eax_298;
		}
		word32 eax_251 = Mem220[ebp_131 - 0x14 + 0x00:word32];
		Mem252[esp_132 + 0x00:word32] = eax_251;
		word32 ebx_255;
		byte SCZO_256;
		word32 eax_257;
		word16 ax_258;
		byte al_259;
		byte SZO_260;
		byte C_261;
		byte Z_262;
		byte S_263;
		word32 ecx_264;
		word32 edx_265;
		byte bpl_267;
		!freeaddrinfo();
		if (Mem252[Mem252[ebp_131 - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
		{
l0809ED0C:
			Mem211[ebp_131 - 0x10 + 0x00:word32] = Mem163[ebp_131 - 0x10 + 0x00:word32] + 0x04;
			goto l0809EB7C;
		}
	}
l0809ED4B:
	if ((byte) (word32) Mem27[0x080D52C5:byte] != 0x00)
	{
		if ((byte) (word32) Mem27[135774799:byte] != 0x00)
			term_raw(gs_123);
		if (Mem27[ebp_131 - 0x24 + 0x00:word32] != 0x00)
		{
			Mem95[esp_132 + 0x04:word32] = Mem27[ebp_131 - 0x24 + 0x00:word32];
			Mem96[esp_132 + 0x00:word32] = 0x02;
			mySignal(dwArg00, dwArg04);
		}
	}
	eax_298 = ~0x00;
	return eax_298;
}

// 0809ED8B: Register word32 copyPath(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 copyPath(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Strnew(eax);
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00 && dwArg08 != 0x00)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
		{
			if (dwArg0C != 0x01)
			{
				if (dwArg0C != 0x02)
				{
					if (dwArg0C == 0x00)
					{
						if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
							Strgrow(eax);
						word32 eax_92 = Mem0[eax + 0x04:word32];
						Mem99[Mem0[eax + 0x00:word32] + eax_92:byte] = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
						Mem102[eax + 0x04:word32] = eax_92 + 0x01;
						Mem108[Mem102[eax + 0x00:word32] + Mem102[eax + 0x04:word32]:byte] = 0x00;
					}
				}
				else
					Strcat_charp(eax, 0x080CF0C7);
			}
		}
		else
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_125 = Mem0[eax + 0x04:word32];
			Mem132[Mem0[eax + 0x00:word32] + eax_125:byte] = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
			Mem135[eax + 0x04:word32] = eax_125 + 0x01;
			Mem141[Mem135[eax + 0x00:word32] + Mem135[eax + 0x04:word32]:byte] = 0x00;
		}
		dwArg04 = dwArg04 + 0x01;
		dwArg08 = dwArg08 - 0x01;
	}
	return Mem0[eax + 0x00:word32];
}

// 0809EEAF: Register word32 parseURL(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 ebpOut)
word32 parseURL(word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & ebpOut)
{
	word32 eax_14 = url_quote(dwArg04);
	Mem20[dwArg08 + 0x00:word32] = 0xFE;
	Mem22[dwArg08 + 0x10:word32] = 0x00;
	Mem24[dwArg08 + 0x04:word32] = 0x00;
	Mem26[dwArg08 + 0x08:word32] = 0x00;
	Mem28[dwArg08 + 0x0C:word32] = 0x00;
	Mem30[dwArg08 + 0x24:word32] = 0x00;
	Mem32[dwArg08 + 0x14:word32] = 0x00;
	Mem34[dwArg08 + 0x18:word32] = 0x00;
	Mem36[dwArg08 + 0x1C:word32] = 0x00;
	Mem38[dwArg08 + 0x20:word32] = 0x00;
	word32 dwLoc10_17 = eax_14;
	if ((byte) (word32) Mem38[eax_14 + 0x00:byte] == 0x00 || (byte) ((word32) Mem38[eax_14 + 0x00:byte]) == 0x23)
	{
		if (dwArg0C != 0x00)
			copyParsedURL(dwArg08, dwArg0C);
		goto l0809F6F1;
	}
	word32 dwLoc10_601;
	Mem169[dwArg08 + 0x00:word32] = getURLScheme(fp - 0x10);
	if (Mem169[dwArg08 + 0x00:word32] == 0xFE)
	{
		if (dwArg0C != 0x00)
		{
			word32 eax_898 = Mem169[dwArg0C + 0x00:word32];
			if (eax_898 <=u 0x0A)
			{
				word32 eax_902 = 0x080CF0EC[eax_898 * 0x04];
				word32 esp_903;
				word32 ebp_904;
				word32 ebx_905;
				byte SCZO_906;
				word32 eax_907;
				byte al_908;
				byte SZO_909;
				byte C_910;
				byte Z_911;
				word32 edx_912;
				byte CZ_913;
				bcuiposr0 None_914;
				word32 ecx_915;
				byte SO_916;
				byte cl_917;
				eax_902();
				return esp_903;
			}
			Mem921[dwArg08 + 0x00:word32] = Mem169[dwArg0C + 0x00:word32];
		}
		else
			Mem923[dwArg08 + 0x00:word32] = 0x04;
		dwLoc10_17 = eax_14;
		if (strncmp(eax_14, 0x080CF0CB, 0x02) != 0x00)
			goto l0809F362;
		dwLoc10_601 = eax_14 + 0x02;
	}
	else
	{
		if (Mem169[dwArg08 + 0x00:word32] == 0xFF)
		{
			Mem933[dwArg08 + 0x14:word32] = allocStr(eax_14, ~0x00);
			goto l0809F75D;
		}
		if ((byte) (word32) Mem169[eax_14 + 0x00:byte] != 0x2F || (byte) ((word32) Mem169[eax_14 + 0x01:byte]) != 0x2F)
		{
			Mem941[dwArg08 + 0x0C:word32] = 0x00;
			if (Mem941[dwArg08 + 0x00:word32] != 0xFF)
				Mem950[dwArg08 + 0x10:word32] = 0x080D80A0[Mem941[dwArg08 + 0x00:word32] * 0x04];
			else
				Mem952[dwArg08 + 0x10:word32] = 0x00;
			goto l0809F362;
		}
		if (Mem169[dwArg08 + 0x00:word32] == 0x04 && ((byte) ((word32) Mem169[eax_14 + 0x02:byte]) == 0x2F || (byte) ((word32) Mem169[eax_14 + 0x02:byte]) == 0x7E))
		{
			dwLoc10_17 = eax_14 + 0x02;
			goto l0809F362;
		}
		dwLoc10_601 = eax_14 + 0x02;
	}
	while (true)
	{
		while (true)
		{
			if ((byte) (word32) Mem169[dwLoc10_601 + 0x00:byte] == 0x5B)
			{
				dwLoc10_17 = dwLoc10_601 + 0x01;
				while (((word32) (byte) (word32) Mem169[(word32) (byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] + 0x080DB700:byte] & 0x28) != 0x00 || ((byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) == 0x3A || (byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) == 0x2E))
					dwLoc10_17 = dwLoc10_17 + 0x01;
				if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x5D || (byte) ((word32) Mem169[dwLoc10_17 + 0x01:byte]) != 0x00 && strchr(0x080CF0CE, (char) ((int32) ((byte) ((word32) Mem169[dwLoc10_17 + 0x01:byte])))) == 0x00)
					dwLoc10_17 = dwLoc10_601;
			}
			else
				dwLoc10_17 = dwLoc10_601;
			while ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x00 && strchr(0x080CF0D3, (char) ((int32) ((byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte])))) == 0x00)
				dwLoc10_17 = dwLoc10_17 + 0x01;
			word32 eax_636 = (int32) (byte) (word32) Mem169[dwLoc10_17 + 0x00:byte];
			if (eax_636 != 0x3A)
				break;
			Mem708[dwArg08 + 0x0C:word32] = copyPath(dwLoc10_601, dwLoc10_601, dwLoc10_17 - dwLoc10_601, 0x01);
			word32 eax_710 = dwLoc10_17 + 0x01;
			dwLoc10_17 = eax_710;
			while ((byte) (word32) Mem708[dwLoc10_17 + 0x00:byte] != 0x00 && strchr(0x080CF0D9, (char) ((int32) ((byte) ((word32) Mem708[dwLoc10_17 + 0x00:byte])))) == 0x00)
				dwLoc10_17 = dwLoc10_17 + 0x01;
			if ((byte) (word32) Mem708[dwLoc10_17 + 0x00:byte] != 0x40)
			{
				word32 edx_772;
				Mem780[dwArg08 + 0x10:word32] = atoi(Mem708[Strnew_charp_n(eax_710, eax_710, dwLoc10_17 - eax_710, out edx_772) + 0x00:word32]);
				goto l0809F362;
			}
			Mem749[dwArg08 + 0x08:word32] = copyPath(eax_710, eax_710, dwLoc10_17 - eax_710, 0x00);
			Mem759[dwArg08 + 0x04:word32] = Mem749[dwArg08 + 0x0C:word32];
			Mem761[dwArg08 + 0x0C:word32] = 0x00;
			dwLoc10_601 = dwLoc10_17 + 0x01;
		}
		if (eax_636 <= 0x3A)
		{
			if (eax_636 != 0x23 && (eax_636 != 0x2F && eax_636 != 0x00))
				goto l0809F362;
l0809F322:
			Mem658[dwArg08 + 0x0C:word32] = copyPath(dwLoc10_601, dwLoc10_601, dwLoc10_17 - dwLoc10_601, 0x01);
			Mem663[dwArg08 + 0x10:word32] = 0x080D80A0[Mem658[dwArg08 + 0x00:word32] * 0x04];
			goto l0809F362;
		}
		if (eax_636 == 0x3F)
			goto l0809F322;
		if (eax_636 != 0x40)
			break;
		Mem688[dwArg08 + 0x04:word32] = copyPath(dwLoc10_601, dwLoc10_601, dwLoc10_17 - dwLoc10_601, 0x01);
		dwLoc10_601 = dwLoc10_17 + 0x01;
	}
l0809F362:
	if (Mem169[dwArg08 + 0x00:word32] == 0x04 && (Mem169[dwArg08 + 0x04:word32] == 0x00 && (Mem169[dwArg08 + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem169[Mem169[dwArg08 + 0x0C:word32] + 0x00:byte]) != 0x00 && strcmp(Mem169[dwArg08 + 0x0C:word32], 0x080CF0DE) != 0x00))))
	{
		Mem591[dwArg08 + 0x00:word32] = 0x02;
		if (Mem591[dwArg08 + 0x10:word32] == 0x00)
			Mem599[dwArg08 + 0x10:word32] = Mem591[0x080D80A8:word32];
	}
	if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) != 0x23 && (byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) != 0x3F) || Mem169[dwArg08 + 0x0C:word32] != 0x00)
	{
		word32 dwLoc14_264 = dwLoc10_17;
		if (Mem169[dwArg08 + 0x00:word32] == 0x01)
		{
			if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] == 0x2F)
				dwLoc14_264 = dwLoc10_17 + 0x01;
			if ((byte) (word32) Mem169[dwLoc14_264 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem169[dwLoc14_264 + 0x00:byte]) != 0x2F && ((byte) ((word32) Mem169[dwLoc14_264 + 0x01:byte]) != 0x2F && (byte) ((word32) Mem169[dwLoc14_264 + 0x02:byte]) == 0x2F)))
				dwLoc14_264 = dwLoc14_264 + 0x01;
		}
		if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] == 0x2F)
			dwLoc10_17 = dwLoc10_17 + 0x01;
		if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) != 0x23 && (byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) != 0x3F))
		{
			if (Mem169[dwArg08 + 0x00:word32] == 0x01 && (byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) == 0x52)
			{
				word32 eax_426 = dwLoc10_17 + 0x01;
				Strnew(eax_426);
				if (Mem169[eax_426 + 0x04:word32] + 0x01 >= Mem169[eax_426 + 0x08:word32])
					Strgrow(eax_426);
				word32 edx_441 = Mem169[eax_426 + 0x04:word32];
				Mem447[Mem169[eax_426 + 0x00:word32] + edx_441:byte] = (byte) (word32) Mem169[eax_426 + 0x00:byte];
				Mem450[eax_426 + 0x04:word32] = edx_441 + 0x01;
				Mem459[Mem450[eax_426 + 0x00:word32] + Mem450[eax_426 + 0x04:word32]:byte] = 0x00;
				dwLoc10_17 = eax_426 + 0x01;
				while ((byte) (word32) Mem459[dwLoc10_17 + 0x00:byte] != 0x00 && (byte) ((word32) Mem459[dwLoc10_17 + 0x00:byte]) != 0x2F)
					dwLoc10_17 = dwLoc10_17 + 0x01;
				Strcat_charp(eax_426, dwLoc10_17);
				while ((byte) (word32) Mem459[dwLoc10_17 + 0x00:byte] != 0x00)
					dwLoc10_17 = dwLoc10_17 + 0x01;
				word32 eax_484 = Mem459[eax_426 + 0x00:word32];
				Mem490[dwArg08 + 0x14:word32] = copyPath(eax_484, eax_484, ~0x00, 0x01);
			}
			else
			{
				word32 eax_315 = strchr(dwLoc10_17, '?');
				while (true)
				{
					while ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) != 0x23 && dwLoc10_17 != eax_315))
						dwLoc10_17 = dwLoc10_17 + 0x01;
					if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x23 || Mem169[dwArg08 + 0x00:word32] != 0x04)
						break;
					if (dwLoc10_17 <=u dwLoc14_264 || ((byte) ((word32) Mem169[(dwLoc10_17 - 0x01) + 0x00:byte]) != 0x2F || eax_315 != 0x00 && dwLoc10_17 >=u eax_315))
					{
						if ((byte) (word32) Mem169[dwLoc10_17 + 0x01:byte] == 0x00)
							dwLoc10_17 = dwLoc10_17 + 0x01;
						break;
					}
					dwLoc10_17 = dwLoc10_17 + 0x01;
				}
				if (Mem169[dwArg08 + 0x00:word32] != 0x04 && Mem169[dwArg08 + 0x00:word32] != 0xFE)
					Mem372[dwArg08 + 0x14:word32] = copyPath(dwLoc14_264, dwLoc14_264, dwLoc10_17 - dwLoc14_264, 0x01);
				else
					Mem354[dwArg08 + 0x14:word32] = copyPath(dwLoc14_264, dwLoc14_264, dwLoc10_17 - dwLoc14_264, 0x00);
			}
		}
		else
			Mem293[dwArg08 + 0x14:word32] = DefaultFile(Mem169[dwArg08 + 0x00:word32]);
	}
	else
		Mem554[dwArg08 + 0x14:word32] = 0x080CF0E8;
	if ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] == 0x3F)
	{
		word32 eax_222 = dwLoc10_17 + 0x01;
		dwLoc10_17 = eax_222;
		while ((byte) (word32) Mem169[dwLoc10_17 + 0x00:byte] != 0x00 && (byte) ((word32) Mem169[dwLoc10_17 + 0x00:byte]) != 0x23)
			dwLoc10_17 = dwLoc10_17 + 0x01;
		Mem250[dwArg08 + 0x1C:word32] = copyPath(eax_222, eax_222, dwLoc10_17 - eax_222, 0x00);
	}
l0809F6F1:
	if (Mem38[dwArg08 + 0x00:word32] == 0xFE)
	{
		Mem116[dwArg08 + 0x00:word32] = 0x04;
		Mem122[dwArg08 + 0x14:word32] = allocStr(dwLoc10_17, ~0x00);
		Mem124[dwArg08 + 0x20:word32] = 0x00;
	}
	else if ((byte) (word32) Mem38[dwLoc10_17 + 0x00:byte] == 0x23)
		Mem137[dwArg08 + 0x20:word32] = allocStr(dwLoc10_17 + 0x01, ~0x00);
	else
		Mem139[dwArg08 + 0x20:word32] = 0x00;
l0809F75D:
	word32 ebp_91;
	*ebpOut = ebp;
	return fp;
}

// 0809F763: void copyParsedURL(Stack word32 dwArg04, Stack word32 dwArg08)
void copyParsedURL(word32 dwArg04, word32 dwArg08)
{
	word32 eax_135;
	Mem13[dwArg04 + 0x00:word32] = Mem0[dwArg08 + 0x00:word32];
	Mem17[dwArg04 + 0x10:word32] = Mem13[dwArg08 + 0x10:word32];
	Mem21[dwArg04 + 0x24:word32] = Mem17[dwArg08 + 0x24:word32];
	if (Mem21[dwArg08 + 0x04:word32] != 0x00)
		eax_135 = allocStr(Mem21[dwArg08 + 0x04:word32], ~0x00);
	else
		eax_135 = 0x00;
	word32 eax_129;
	Mem31[dwArg04 + 0x04:word32] = eax_135;
	if (Mem31[dwArg08 + 0x08:word32] != 0x00)
		eax_129 = allocStr(Mem31[dwArg08 + 0x08:word32], ~0x00);
	else
		eax_129 = 0x00;
	word32 eax_123;
	Mem41[dwArg04 + 0x08:word32] = eax_129;
	if (Mem41[dwArg08 + 0x0C:word32] != 0x00)
		eax_123 = allocStr(Mem41[dwArg08 + 0x0C:word32], ~0x00);
	else
		eax_123 = 0x00;
	word32 eax_117;
	Mem51[dwArg04 + 0x0C:word32] = eax_123;
	if (Mem51[dwArg08 + 0x14:word32] != 0x00)
		eax_117 = allocStr(Mem51[dwArg08 + 0x14:word32], ~0x00);
	else
		eax_117 = 0x00;
	word32 eax_111;
	Mem61[dwArg04 + 0x14:word32] = eax_117;
	if (Mem61[dwArg08 + 0x18:word32] != 0x00)
		eax_111 = allocStr(Mem61[dwArg08 + 0x18:word32], ~0x00);
	else
		eax_111 = 0x00;
	word32 eax_105;
	Mem71[dwArg04 + 0x18:word32] = eax_111;
	if (Mem71[dwArg08 + 0x20:word32] != 0x00)
		eax_105 = allocStr(Mem71[dwArg08 + 0x20:word32], ~0x00);
	else
		eax_105 = 0x00;
	word32 eax_100;
	Mem81[dwArg04 + 0x20:word32] = eax_105;
	if (Mem81[dwArg08 + 0x1C:word32] != 0x00)
		eax_100 = allocStr(Mem81[dwArg08 + 0x1C:word32], ~0x00);
	else
		eax_100 = 0x00;
	Mem91[dwArg04 + 0x1C:word32] = eax_100;
}

// 0809F8C8: void parseURL2(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void parseURL2(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 ebp_22;
	word32 esp_23 = parseURL(dwArg04, dwArg08, dwArg0C, out ebp_22);
	if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 11)
		return;
	if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] != 0x09 && Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] != 0x0A)
	{
		if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] != 0x07 && Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] != 0x08)
		{
			if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x04)
			{
				Mem584[esp_23 + 0x00:word32] = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
				Mem586[esp_23 + 0x00:word32] = file_unquote(dwArg00);
				Mem588[ebp_22 - 0x18 + 0x00:word32] = expandName(dwArg00);
				Mem590[esp_23 + 0x00:word32] = Mem588[ebp_22 - 0x18 + 0x00:word32];
				Mem593[Mem590[ebp_22 + 0x0C:word32] + 0x14:word32] = file_quote(dwArg00);
			}
			if (Mem0[ebp_22 + 0x10:word32] != 0x00 && ((Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == Mem0[Mem0[ebp_22 + 0x10:word32] + 0x00:word32] || Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x02 && Mem0[Mem0[ebp_22 + 0x10:word32] + 0x00:word32] == 0x03) || Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x04 && Mem0[Mem0[ebp_22 + 0x10:word32] + 0x00:word32] == 0x05) && Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x0C:word32] == 0x00)
			{
				Mem380[Mem0[ebp_22 + 0x0C:word32] + 0x04:word32] = Mem0[Mem0[ebp_22 + 0x10:word32] + 0x04:word32];
				Mem384[Mem380[ebp_22 + 0x0C:word32] + 0x08:word32] = Mem380[Mem380[ebp_22 + 0x10:word32] + 0x08:word32];
				Mem388[Mem384[ebp_22 + 0x0C:word32] + 0x0C:word32] = Mem384[Mem384[ebp_22 + 0x10:word32] + 0x0C:word32];
				Mem392[Mem388[ebp_22 + 0x0C:word32] + 0x10:word32] = Mem388[Mem388[ebp_22 + 0x10:word32] + 0x10:word32];
				if (Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32] == 0x00 || (byte) ((word32) Mem392[Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32] + 0x00:byte]) == 0x00)
				{
					Mem402[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32] = Mem392[Mem392[ebp_22 + 0x10:word32] + 0x14:word32];
					if (Mem402[Mem402[ebp_22 + 0x0C:word32] + 0x1C:word32] == 0x00)
						Mem411[Mem402[ebp_22 + 0x0C:word32] + 0x1C:word32] = Mem402[Mem402[ebp_22 + 0x10:word32] + 0x1C:word32];
					goto l0809FD36;
				}
				if (Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x00:word32] == 0xFF)
				{
					word32 eax_529 = Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32];
					Mem530[esp_23 + 0x04:word32] = 0x3A;
					Mem531[esp_23 + 0x00:word32] = eax_529;
					if (strchr(Mem531[esp_23 + 0x00:(ptr char)], Mem531[esp_23 + 0x04:char]) == 0x00 && Mem531[ebp_22 + 0x10:word32] != 0x00)
					{
						word32 eax_539 = Mem531[Mem531[ebp_22 + 0x10:word32] + 0x14:word32];
						Mem540[esp_23 + 0x04:word32] = 0x3A;
						Mem541[esp_23 + 0x00:word32] = eax_539;
						Mem543[ebp_22 - 0x0C + 0x00:word32] = strchr(Mem541[esp_23 + 0x00:(ptr char)], Mem541[esp_23 + 0x04:char]);
						if (Mem543[ebp_22 - 0x0C + 0x00:word32] != 0x00)
						{
							word32 ebx_547 = Mem543[Mem543[ebp_22 + 0x0C:word32] + 0x14:word32];
							word32 eax_554 = Mem543[Mem543[ebp_22 + 0x10:word32] + 0x14:word32];
							Mem555[esp_23 + 0x04:word32] = Mem543[ebp_22 - 0x0C + 0x00:word32] - Mem543[Mem543[ebp_22 + 0x10:word32] + 0x14:word32];
							Mem556[esp_23 + 0x00:word32] = eax_554;
							word32 eax_557 = allocStr(dwArg00, dwArg04);
							Mem558[esp_23 + 0x08:word32] = ebx_547;
							Mem559[esp_23 + 0x04:word32] = eax_557;
							Mem560[esp_23 + 0x00:word32] = 0x080CF118;
							byte bpl_561;
							Mem565[Mem560[ebp_22 + 0x0C:word32] + 0x14:word32] = Mem560[Sprintf(dwArg00, out bpl_561) + 0x00:word32];
							goto l0809FD0C;
						}
					}
				}
				if (Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x00:word32] != 0x01 && (byte) ((word32) Mem392[Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32] + 0x00:byte]) != 0x2F)
				{
					Mem468[ebp_22 - 0x0C + 0x00:word32] = Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32];
					if (Mem468[Mem468[ebp_22 + 0x10:word32] + 0x14:word32] != 0x00)
					{
						word32 eax_482 = Mem468[Mem468[ebp_22 + 0x10:word32] + 0x14:word32];
						Mem483[esp_23 + 0x00:word32] = eax_482;
						Strnew_charp(eax_482, dwArg00);
						Mem484[ebp_22 - 0x10 + 0x00:word32] = eax_482;
						while (Mem484[Mem484[ebp_22 - 0x10 + 0x00:word32] + 0x04:word32] > 0x00 && (Mem484[Mem484[(ebp_22 - 0x10) + 0x00:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem484[Mem484[Mem484[(ebp_22 - 0x10) + 0x00:word32] + 0x00:word32] + (Mem484[Mem484[(ebp_22 - 0x10) + 0x00:word32] + 0x04:word32] - 0x01):byte]) != 0x2F))
						{
							Mem515[esp_23 + 0x04:word32] = 0x01;
							Mem517[esp_23 + 0x00:word32] = Mem515[ebp_22 - 0x10 + 0x00:word32];
							Strshrink(dwArg00, dwArg04);
						}
						Mem499[esp_23 + 0x04:word32] = Mem484[ebp_22 - 0x0C + 0x00:word32];
						Mem501[esp_23 + 0x00:word32] = Mem499[ebp_22 - 0x10 + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
						Mem505[Mem501[ebp_22 + 0x0C:word32] + 0x14:word32] = Mem501[Mem501[ebp_22 - 0x10 + 0x00:word32] + 0x00:word32];
						Mem506[ebp_22 - 0x14 + 0x00:word32] = 0x01;
					}
l0809FD0C:
					goto l0809FD36;
				}
				if (Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x01 && (byte) ((word32) Mem392[Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32] + 0x00:byte]) == 0x2F)
				{
					Mem451[ebp_22 - 0x0C + 0x00:word32] = Mem392[Mem392[ebp_22 + 0x0C:word32] + 0x14:word32];
					word32 eax_452 = Mem451[ebp_22 - 0x0C + 0x00:word32];
					Mem455[esp_23 + 0x04:word32] = ~0x00;
					Mem456[esp_23 + 0x00:word32] = eax_452 + 0x01;
					Mem459[Mem456[ebp_22 + 0x0C:word32] + 0x14:word32] = allocStr(dwArg00, dwArg04);
				}
			}
l0809FD36:
			if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] == 0x00)
				return;
			if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x04 && (byte) ((word32) Mem0[Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] + 0x00:byte]) != 0x2F)
			{
				word32 eax_294 = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
				Mem295[esp_23 + 0x04:word32] = 0x080CF11E;
				Mem296[esp_23 + 0x00:word32] = eax_294;
				if (strcmp(Mem296[esp_23 + 0x00:(ptr char)], Mem296[esp_23 + 0x04:(ptr char)]) != 0x00)
				{
					word32 eax_301 = Mem296[0x08180544:word32];
					Mem302[esp_23 + 0x00:word32] = eax_301;
					Strnew_charp(eax_301, dwArg00);
					Mem303[ebp_22 - 0x10 + 0x00:word32] = eax_301;
					if (Mem303[Mem303[ebp_22 - 0x10 + 0x00:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem303[Mem303[Mem303[(ebp_22 - 0x10) + 0x00:word32] + 0x00:word32] + (Mem303[Mem303[(ebp_22 - 0x10) + 0x00:word32] + 0x04:word32] - 0x01):byte]) != 0x2F)
					{
						if (Mem303[Mem303[ebp_22 - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem303[Mem303[(ebp_22 - 0x10) + 0x00:word32] + 0x08:word32])
						{
							Mem354[esp_23 + 0x00:word32] = Mem303[ebp_22 - 0x10 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_340 = Mem303[Mem303[ebp_22 - 0x10 + 0x00:word32] + 0x04:word32];
						Mem343[Mem303[Mem303[ebp_22 - 0x10 + 0x00:word32] + 0x00:word32] + eax_340:byte] = 0x2F;
						Mem346[Mem343[ebp_22 - 0x10 + 0x00:word32] + 0x04:word32] = eax_340 + 0x01;
						Mem352[Mem346[Mem346[ebp_22 - 0x10 + 0x00:word32] + 0x00:word32] + Mem346[Mem346[(ebp_22 - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
					Mem315[esp_23 + 0x00:word32] = Mem303[Mem303[ebp_22 + 0x0C:word32] + 0x14:word32];
					Mem317[esp_23 + 0x04:word32] = file_unquote(dwArg00);
					Mem319[esp_23 + 0x00:word32] = Mem317[ebp_22 - 0x10 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					Mem322[esp_23 + 0x00:word32] = Mem319[Mem319[ebp_22 - 0x10 + 0x00:word32] + 0x00:word32];
					Mem324[esp_23 + 0x00:word32] = cleanupName(dwArg00);
					Mem327[Mem324[ebp_22 + 0x0C:word32] + 0x14:word32] = file_quote(dwArg00);
					goto l0809FE88;
				}
			}
			if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x00)
			{
				if (Mem0[ebp_22 - 0x14 + 0x00:word32] != 0x00)
				{
					Mem267[esp_23 + 0x00:word32] = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
					Mem270[Mem267[ebp_22 + 0x0C:word32] + 0x14:word32] = cleanupName(dwArg00);
				}
			}
			else if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] != 0x01 && (byte) ((word32) Mem0[Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] + 0x00:byte]) == 0x2F)
			{
				Mem283[esp_23 + 0x00:word32] = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
				Mem286[Mem283[ebp_22 + 0x0C:word32] + 0x14:word32] = cleanupName(dwArg00);
			}
l0809FE88:
			if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] == 0x04)
			{
				Mem250[esp_23 + 0x00:word32] = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
				Mem252[esp_23 + 0x00:word32] = file_unquote(dwArg00);
				Mem255[Mem252[ebp_22 + 0x0C:word32] + 0x18:word32] = cleanupName(dwArg00);
			}
			return;
		}
		if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] + 0x00:byte]) == 0x2F)
		{
			word32 eax_203 = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
			Mem206[esp_23 + 0x04:word32] = ~0x00;
			Mem207[esp_23 + 0x00:word32] = eax_203 + 0x01;
			Mem211[Mem207[ebp_22 + 0x0C:word32] + 0x14:word32] = allocStr(dwArg00, dwArg04);
		}
		if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] == 0x00)
		{
l0809FA5F:
			Mem158[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] = 0x07;
			goto l0809FA68;
		}
		else
		{
			word32 eax_160 = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
			Mem161[esp_23 + 0x04:word32] = 0x40;
			Mem162[esp_23 + 0x00:word32] = eax_160;
			if (strchr(Mem162[esp_23 + 0x00:(ptr char)], Mem162[esp_23 + 0x04:char]) != 0x00)
				goto l0809FA5F;
			word32 eax_168 = Mem162[Mem162[ebp_22 + 0x0C:word32] + 0x14:word32];
			Mem169[esp_23 + 0x04:word32] = 0x2F;
			Mem170[esp_23 + 0x00:word32] = eax_168;
			Mem172[ebp_22 - 0x0C + 0x00:word32] = strchr(Mem170[esp_23 + 0x00:(ptr char)], Mem170[esp_23 + 0x04:char]);
			if (Mem172[ebp_22 - 0x0C + 0x00:word32] != 0x00)
			{
				word32 eax_181 = Mem172[ebp_22 - 0x0C + 0x00:word32];
				Mem183[esp_23 + 0x04:word32] = 0x2D;
				Mem184[esp_23 + 0x00:word32] = eax_181 + 0x01;
				if (strchr(Mem184[esp_23 + 0x00:(ptr char)], Mem184[esp_23 + 0x04:char]) == 0x00 && (byte) ((word32) Mem184[Mem184[(ebp_22 - 0x0C) + 0x00:word32] + 0x01:byte]) != 0x00)
					goto l0809FA5F;
			}
			Mem180[Mem172[ebp_22 + 0x0C:word32] + 0x00:word32] = 0x08;
l0809FA68:
			if (Mem0[ebp_22 + 0x10:word32] != 0x00 && (Mem0[Mem0[ebp_22 + 0x10:word32] + 0x00:word32] == 0x07 || Mem0[Mem0[ebp_22 + 0x10:word32] + 0x00:word32] == 0x08) && Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x0C:word32] == 0x00)
			{
				Mem143[Mem0[ebp_22 + 0x0C:word32] + 0x0C:word32] = Mem0[Mem0[ebp_22 + 0x10:word32] + 0x0C:word32];
				Mem147[Mem143[ebp_22 + 0x0C:word32] + 0x10:word32] = Mem143[Mem143[ebp_22 + 0x10:word32] + 0x10:word32];
			}
			return;
		}
	}
	if (Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32] == 0x00)
	{
l0809F98E:
		Mem61[Mem0[ebp_22 + 0x0C:word32] + 0x00:word32] = 0x09;
	}
	else
	{
		word32 eax_66 = Mem0[Mem0[ebp_22 + 0x0C:word32] + 0x14:word32];
		Mem67[esp_23 + 0x04:word32] = 0x40;
		Mem68[esp_23 + 0x00:word32] = eax_66;
		if (strchr(Mem68[esp_23 + 0x00:(ptr char)], Mem68[esp_23 + 0x04:char]) != 0x00)
			goto l0809F98E;
		word32 eax_74 = Mem68[Mem68[ebp_22 + 0x0C:word32] + 0x14:word32];
		Mem75[esp_23 + 0x04:word32] = 0x2F;
		Mem76[esp_23 + 0x00:word32] = eax_74;
		Mem78[ebp_22 - 0x0C + 0x00:word32] = strchr(Mem76[esp_23 + 0x00:(ptr char)], Mem76[esp_23 + 0x04:char]);
		if (Mem78[ebp_22 - 0x0C + 0x00:word32] != 0x00)
		{
			word32 eax_87 = Mem78[ebp_22 - 0x0C + 0x00:word32];
			Mem89[esp_23 + 0x04:word32] = 0x2D;
			Mem90[esp_23 + 0x00:word32] = eax_87 + 0x01;
			if (strchr(Mem90[esp_23 + 0x00:(ptr char)], Mem90[esp_23 + 0x04:char]) == 0x00 && (byte) ((word32) Mem90[Mem90[(ebp_22 - 0x0C) + 0x00:word32] + 0x01:byte]) != 0x00)
				goto l0809F98E;
		}
		Mem86[Mem78[ebp_22 + 0x0C:word32] + 0x00:word32] = 0x0A;
	}
}

// 0809FEC0: Register word32 _parsedURL2Str(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
word32 _parsedURL2Str(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 eax_101 = Mem0[dwArg04 + 0x00:word32];
	if (eax_101 == 0xFE)
	{
		Strnew_charp(eax_101, 0x080CF120);
		return eax_101;
	}
	if (Mem0[dwArg04 + 0x00:word32] == 0xFF)
	{
		eax_101 = Mem0[dwArg04 + 0x14:word32];
		Strnew_charp(eax_101, eax_101);
		return eax_101;
	}
	if (Mem0[dwArg04 + 0x0C:word32] == 0x00 && (Mem0[dwArg04 + 0x14:word32] == 0x00 && Mem0[dwArg04 + 0x20:word32] != 0x00))
	{
		byte bpl_518;
		eax_101 = Sprintf(0x080CF124, out bpl_518);
		return eax_101;
	}
	if (Mem0[dwArg04 + 0x00:word32] == 0x04)
	{
		word32 eax_454 = strcmp(Mem0[dwArg04 + 0x14:word32], 0x080CF11E);
		if (eax_454 == 0x00)
		{
			Strnew_charp(eax_454, 0x080CF11E);
			if (Mem0[dwArg04 + 0x20:word32] != 0x00)
			{
				if (Mem0[eax_454 + 0x04:word32] + 0x01 >= Mem0[eax_454 + 0x08:word32])
					Strgrow(eax_454);
				word32 eax_484 = Mem0[eax_454 + 0x04:word32];
				Mem487[Mem0[eax_454 + 0x00:word32] + eax_484:byte] = 0x23;
				Mem490[eax_454 + 0x04:word32] = eax_484 + 0x01;
				Mem496[Mem490[eax_454 + 0x00:word32] + Mem490[eax_454 + 0x04:word32]:byte] = 0x00;
				Strcat_charp(eax_454, Mem496[dwArg04 + 0x20:word32]);
			}
			eax_101 = eax_454;
			return eax_101;
		}
	}
	word32 eax_65 = 0x080D8200[Mem0[dwArg04 + 0x00:word32] * 0x04];
	Strnew_charp(eax_65, eax_65);
	if (Mem0[eax_65 + 0x04:word32] + 0x01 >= Mem0[eax_65 + 0x08:word32])
		Strgrow(eax_65);
	word32 eax_79 = Mem0[eax_65 + 0x04:word32];
	Mem82[Mem0[eax_65 + 0x00:word32] + eax_79:byte] = 0x3A;
	Mem85[eax_65 + 0x04:word32] = eax_79 + 0x01;
	Mem91[Mem85[eax_65 + 0x00:word32] + Mem85[eax_65 + 0x04:word32]:byte] = 0x00;
	if (Mem91[dwArg04 + 0x00:word32] == 11)
	{
		Strcat_charp(eax_65, Mem91[dwArg04 + 0x14:word32]);
		eax_101 = eax_65;
	}
	else
	{
		if (Mem91[dwArg04 + 0x00:word32] != 0x09 && Mem91[dwArg04 + 0x00:word32] != 0x0A)
			Strcat_charp(eax_65, 0x080CF0CB);
		if (Mem91[dwArg04 + 0x04:word32] != 0x00)
		{
			Strcat_charp(eax_65, Mem91[dwArg04 + 0x04:word32]);
			if (dwArg08 != 0x00 && Mem91[dwArg04 + 0x08:word32] != 0x00)
			{
				if (Mem91[eax_65 + 0x04:word32] + 0x01 >= Mem91[eax_65 + 0x08:word32])
					Strgrow(eax_65);
				word32 eax_421 = Mem91[eax_65 + 0x04:word32];
				Mem424[Mem91[eax_65 + 0x00:word32] + eax_421:byte] = 0x3A;
				Mem427[eax_65 + 0x04:word32] = eax_421 + 0x01;
				Mem433[Mem427[eax_65 + 0x00:word32] + Mem427[eax_65 + 0x04:word32]:byte] = 0x00;
				Strcat_charp(eax_65, Mem433[dwArg04 + 0x08:word32]);
			}
			if (Mem91[eax_65 + 0x04:word32] + 0x01 >= Mem91[eax_65 + 0x08:word32])
				Strgrow(eax_65);
			word32 eax_391 = Mem91[eax_65 + 0x04:word32];
			Mem394[Mem91[eax_65 + 0x00:word32] + eax_391:byte] = 0x40;
			Mem397[eax_65 + 0x04:word32] = eax_391 + 0x01;
			Mem403[Mem397[eax_65 + 0x00:word32] + Mem397[eax_65 + 0x04:word32]:byte] = 0x00;
		}
		if (Mem91[dwArg04 + 0x0C:word32] != 0x00)
		{
			Strcat_charp(eax_65, Mem91[dwArg04 + 0x0C:word32]);
			if (Mem91[dwArg04 + 0x10:word32] != 0x080D80A0[Mem91[dwArg04 + 0x00:word32] * 0x04])
			{
				if (Mem91[eax_65 + 0x04:word32] + 0x01 >= Mem91[eax_65 + 0x08:word32])
					Strgrow(eax_65);
				word32 eax_342 = Mem91[eax_65 + 0x04:word32];
				Mem345[Mem91[eax_65 + 0x00:word32] + eax_342:byte] = 0x3A;
				Mem348[eax_65 + 0x04:word32] = eax_342 + 0x01;
				Mem354[Mem348[eax_65 + 0x00:word32] + Mem348[eax_65 + 0x04:word32]:byte] = 0x00;
				byte bpl_359;
				Mem361[fp - 0x28 + 0x00:word32] = Sprintf(0x080CF0C4, out bpl_359);
				Mem363[fp - 44 + 0x00:word32] = Mem361[fp - 0x10 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
		}
		if (Mem91[Mem91[fp + 0x04:word32] + 0x00:word32] != 0x09 && (Mem91[Mem91[fp + 0x04:word32] + 0x00:word32] != 0x0A && (Mem91[Mem91[fp + 0x04:word32] + 0x14:word32] == 0x00 || (byte) ((word32) Mem91[Mem91[Mem91[fp + 0x04:word32] + 0x14:word32] + 0x00:byte]) != 0x2F)))
		{
			if (Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem91[Mem91[(fp - 0x10) + 0x00:word32] + 0x08:word32])
			{
				Mem313[fp - 44 + 0x00:word32] = Mem91[fp - 0x10 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_299 = Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x04:word32];
			Mem302[Mem91[Mem91[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_299:byte] = 0x2F;
			Mem305[Mem302[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_299 + 0x01;
			Mem311[Mem305[Mem305[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem305[Mem305[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		}
		Mem144[fp - 0x28 + 0x00:word32] = Mem91[Mem91[fp + 0x04:word32] + 0x14:word32];
		Mem146[fp - 44 + 0x00:word32] = Mem144[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		if (Mem146[Mem146[fp + 0x04:word32] + 0x00:word32] == 0x03 && (Mem146[Mem146[(fp - 0x10) + 0x00:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem146[Mem146[Mem146[(fp - 0x10) + 0x00:word32] + 0x00:word32] + (Mem146[Mem146[(fp - 0x10) + 0x00:word32] + 0x04:word32] - 0x01):byte]) != 0x2F))
		{
			if (Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem146[Mem146[(fp - 0x10) + 0x00:word32] + 0x08:word32])
			{
				Mem267[fp - 44 + 0x00:word32] = Mem146[fp - 0x10 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_253 = Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x04:word32];
			Mem256[Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_253:byte] = 0x2F;
			Mem259[Mem256[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_253 + 0x01;
			Mem265[Mem259[Mem259[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem259[Mem259[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		}
		if (Mem146[Mem146[fp + 0x04:word32] + 0x1C:word32] != 0x00)
		{
			if (Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem146[Mem146[(fp - 0x10) + 0x00:word32] + 0x08:word32])
			{
				Mem236[fp - 44 + 0x00:word32] = Mem146[fp - 0x10 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_217 = Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x04:word32];
			Mem220[Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_217:byte] = 0x3F;
			Mem223[Mem220[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_217 + 0x01;
			Mem229[Mem223[Mem223[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem223[Mem223[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem232[fp - 0x28 + 0x00:word32] = Mem229[Mem229[fp + 0x04:word32] + 0x1C:word32];
			Mem234[fp - 44 + 0x00:word32] = Mem232[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		if (Mem146[Mem146[fp + 0x04:word32] + 0x20:word32] != 0x00)
		{
			if (Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem146[Mem146[(fp - 0x10) + 0x00:word32] + 0x08:word32])
			{
				Mem206[fp - 44 + 0x00:word32] = Mem146[fp - 0x10 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_187 = Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x04:word32];
			Mem190[Mem146[Mem146[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_187:byte] = 0x23;
			Mem193[Mem190[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_187 + 0x01;
			Mem199[Mem193[Mem193[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem193[Mem193[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem202[fp - 0x28 + 0x00:word32] = Mem199[Mem199[fp + 0x04:word32] + 0x20:word32];
			Mem204[fp - 44 + 0x00:word32] = Mem202[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		eax_101 = Mem146[fp - 0x10 + 0x00:word32];
	}
	return eax_101;
}

// 080A03FA: Register word32 parsedURL2Str(Stack word32 dwArg04, Register out ptr32 bplOut)
word32 parsedURL2Str(word32 dwArg04, ptr32 & bplOut)
{
	word32 eax_12 = _parsedURL2Str(fp - 0x04, dwArg04, 0x00);
	byte bpl_16;
	*bplOut = (byte) Mem0[fp - 0x04 + 0x00:word32];
	return eax_12;
}

// 080A0415: Register word32 getURLScheme(Stack word32 dwArg04)
word32 getURLScheme(word32 dwArg04)
{
	word32 dwLoc10_12 = Mem0[dwArg04 + 0x00:word32] + 0x01;
	word32 dwLoc1C_101 = 0xFE;
	while ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_12 + 0x00:byte])) + 0x080DB700:byte])) & 0x0C) != 0x00 || ((byte) ((word32) Mem0[dwLoc10_12 + 0x00:byte]) == 0x2E || ((byte) ((word32) Mem0[dwLoc10_12 + 0x00:byte]) == 0x2B || (byte) ((word32) Mem0[dwLoc10_12 + 0x00:byte]) == 0x2D))))
		dwLoc10_12 = dwLoc10_12 + 0x01;
	if ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] == 0x3A)
	{
		dwLoc1C_101 = 0xFF;
		word32 dwLoc18_54 = 0x00;
		while (true)
		{
			word32 eax_65 = 0x080D80E0[dwLoc18_54 * 0x08];
			if (eax_65 == 0x00)
				break;
			word32 eax_71 = strlen(eax_65);
			if (strncasecmp(eax_65, Mem0[dwArg04 + 0x00:word32], eax_71) == 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + eax_71:byte]) == 0x3A)
			{
				dwLoc1C_101 = 0x080D80E4[dwLoc18_54 * 0x08];
				Mem105[dwArg04 + 0x00:word32] = dwLoc10_12 + 0x00;
				return dwLoc1C_101;
			}
			dwLoc18_54 = dwLoc18_54 + 0x01;
		}
	}
	return dwLoc1C_101;
}

// 080A0505: Register word32 otherinfo(Register word32 eax, Register word32 ebp, Stack word32 dwArg04)
word32 otherinfo(word32 eax, word32 ebp, word32 dwArg04)
{
	Strnew(eax);
	Strcat_charp(eax, 0x080CF128);
	if (Mem0[135774972:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[135774972:word32] + 0x00:byte]) != 0x00)
		Strcat_charp(eax, Mem0[135774972:word32]);
	else
		Strcat_charp(eax, Mem0[0x080DA7F8:word32]);
	Strcat_charp(eax, 135065909);
	Strcat_m_charp(eax);
	Strcat_m_charp(eax);
	Strcat_m_charp(eax);
	if (Mem0[dwArg04 + 0x0C:word32] != 0x00)
	{
		Strcat_charp(eax, 135065957);
		Strcat_charp(eax, Mem0[dwArg04 + 0x0C:word32]);
		if (Mem0[dwArg04 + 0x10:word32] != 0x080D80A0[Mem0[dwArg04 + 0x00:word32] * 0x04])
		{
			byte bpl_207;
			Mem209[fp - 0x38 + 0x00:word32] = Sprintf(0x080CF16C, out bpl_207);
			Mem211[fp - 0x3C + 0x00:word32] = Mem209[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		Mem200[fp - 0x38 + 0x00:word32] = 135065909;
		Mem202[fp - 0x3C + 0x00:word32] = Mem200[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x24:word32] != 0x00 || (byte) ((word32) Mem0[135774824:byte]) != 0x00)
	{
		Mem171[fp - 0x38 + 0x00:word32] = 0x080CF170;
		Mem173[fp - 0x3C + 0x00:word32] = Mem171[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem174[fp - 0x38 + 0x00:word32] = 0x080CF183;
		Mem176[fp - 0x3C + 0x00:word32] = Mem174[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
	if (Mem0[0x0817C300:word32] == 0x00)
	{
		if (Mem0[fp + 0x0C:word32] == 0x00 && (Mem0[fp + 0x08:word32] != 0x00 && (Mem0[Mem0[fp + 0x08:word32] + 0x00:word32] != 0x04 && (Mem0[Mem0[fp + 0x08:word32] + 0x00:word32] != 0x02 || Mem0[Mem0[fp + 0x08:word32] + 0x04:word32] == 0x00 && Mem0[Mem0[fp + 0x08:word32] + 0x08:word32] == 0x00))))
		{
			Mem138[fp - 0x14 + 0x00:word32] = Mem0[Mem0[fp + 0x08:word32] + 0x20:word32];
			Mem139[fp - 0x38 + 0x00:word32] = 135066013;
			Mem141[fp - 0x3C + 0x00:word32] = Mem139[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem143[Mem141[fp + 0x08:word32] + 0x20:word32] = 0x00;
			Mem145[fp - 0x3C + 0x00:word32] = Mem143[fp + 0x08:word32];
			byte bpl_146;
			Mem148[fp - 0x38 + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_146);
			Mem150[fp - 0x3C + 0x00:word32] = Mem148[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			Mem153[Mem150[fp + 0x08:word32] + 0x20:word32] = Mem150[fp - 0x14 + 0x00:word32];
			Mem154[fp - 0x38 + 0x00:word32] = 135065909;
			Mem156[fp - 0x3C + 0x00:word32] = Mem154[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		else if (Mem0[fp + 0x0C:word32] != 0x00 && Mem0[fp + 0x0C:word32] != ~0x00)
		{
			Mem90[fp - 0x38 + 0x00:word32] = 0x23;
			Mem92[fp - 0x3C + 0x00:word32] = Mem90[fp + 0x0C:word32];
			Mem94[fp - 0x18 + 0x00:word32] = strchr(Mem92[fp - 0x3C + 0x00:(ptr char)], Mem92[fp - 0x38 + 0x00:char]);
			Mem95[fp - 0x38 + 0x00:word32] = 135066013;
			Mem97[fp - 0x3C + 0x00:word32] = Mem95[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (Mem97[fp - 0x18 + 0x00:word32] != 0x00)
			{
				Mem113[fp - 0x34 + 0x00:word32] = Mem97[fp - 0x18 + 0x00:word32] - Mem97[fp + 0x0C:word32];
				Mem115[fp - 0x38 + 0x00:word32] = Mem113[fp + 0x0C:word32];
				Mem117[fp - 0x3C + 0x00:word32] = Mem115[fp - 0x10 + 0x00:word32];
				Strcat_charp_n(dwArg00, dwArg04, dwArg08);
			}
			else
			{
				Mem120[fp - 0x38 + 0x00:word32] = Mem97[fp + 0x0C:word32];
				Mem122[fp - 0x3C + 0x00:word32] = Mem120[fp - 0x10 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			Mem104[fp - 0x38 + 0x00:word32] = 135065909;
			Mem106[fp - 0x3C + 0x00:word32] = Mem104[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
	}
	return Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
}

// 080A07EC: Register word32 HTTPrequestMethod(Stack word32 dwArg04)
word32 HTTPrequestMethod(word32 dwArg04)
{
	word32 eax_12 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	if (eax_12 != 0x02)
	{
		if (eax_12 != 0x03)
		{
			if (eax_12 != 0x01)
				Strnew_charp(eax_12, 135066041);
			else
				Strnew_charp(eax_12, 135066031);
		}
		else
			Strnew_charp(eax_12, 135066036);
	}
	else
		Strnew_charp(eax_12, 135066023);
	return eax_12;
}

// 080A0844: void HTTPrequestURI(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void HTTPrequestURI(word32 eax, word32 ebp, word32 dwArg04, word32 dwArg08)
{
	Strnew(eax);
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x02)
	{
		Strcat_charp(eax, Mem0[dwArg04 + 0x0C:word32]);
		byte bpl_44;
		Mem46[fp - 0x28 + 0x00:word32] = Sprintf(0x080CF16C, out bpl_44);
		Mem48[fp - 44 + 0x00:word32] = Mem46[fp - 0x10 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
	}
	else if ((byte) ((int32) (byte) (word32) Mem0[dwArg08 + 0x01:byte] & 0x01) != 0x00)
	{
		Strcat_charp(eax, Mem0[dwArg04 + 0x14:word32]);
		if (Mem0[dwArg04 + 0x1C:word32] != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_85 = Mem0[eax + 0x04:word32];
			Mem88[Mem0[eax + 0x00:word32] + eax_85:byte] = 0x3F;
			Mem91[eax + 0x04:word32] = eax_85 + 0x01;
			Mem97[Mem91[eax + 0x00:word32] + Mem91[eax + 0x04:word32]:byte] = 0x00;
			Strcat_charp(eax, Mem97[dwArg04 + 0x1C:word32]);
		}
	}
	else
	{
		Mem109[dwArg04 + 0x20:word32] = 0x00;
		Mem114[fp - 0x28 + 0x00:word32] = _parsedURL2Str(fp - 0x04, dwArg04, 0x01);
		Mem116[fp - 44 + 0x00:word32] = Mem114[fp - 0x10 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		Mem119[Mem116[fp + 0x04:word32] + 0x20:word32] = Mem116[fp - 0x14 + 0x00:word32];
	}
}

// 080A0978: void HTTPrequest(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg0C)
void HTTPrequest(word32 ebp, word32 dwArg04, word32 dwArg0C)
{
	Strcat_charp(HTTPrequestMethod(dwArg0C), 135066045);
	HTTPrequestURI(dwArg04, fp - 0x04, dwArg04, dwArg0C);
	Mem26[fp - 0x38 + 0x00:word32] = Mem0[dwArg04 + 0x00:word32];
	Mem28[fp - 0x3C + 0x00:word32] = Mem26[fp - 0x10 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem30[fp - 0x38 + 0x00:word32] = 0x080CF1BF;
	Mem32[fp - 0x3C + 0x00:word32] = Mem30[fp - 0x10 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	if (Mem32[Mem32[fp + 0x0C:word32] + 0x04:word32] == ~0x00)
	{
		Mem216[fp - 0x34 + 0x00:word32] = 0x00;
		Mem217[fp - 0x38 + 0x00:word32] = 0x00;
		word32 eax_218 = Mem217[fp + 0x04:word32];
		Mem219[fp - 0x3C + 0x00:word32] = eax_218;
		Mem221[fp - 0x38 + 0x00:word32] = otherinfo(eax_218, fp - 0x04, dwArg00);
		Mem223[fp - 0x3C + 0x00:word32] = Mem221[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
	else
	{
		Mem226[fp - 0x34 + 0x00:word32] = Mem32[Mem32[fp + 0x0C:word32] + 0x04:word32];
		Mem228[fp - 0x38 + 0x00:word32] = Mem226[fp + 0x08:word32];
		word32 eax_229 = Mem228[fp + 0x04:word32];
		Mem230[fp - 0x3C + 0x00:word32] = eax_229;
		Mem232[fp - 0x38 + 0x00:word32] = otherinfo(eax_229, fp - 0x04, dwArg00);
		Mem234[fp - 0x3C + 0x00:word32] = Mem232[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
	if (Mem32[fp + 0x10:word32] != 0x00)
	{
		Mem182[fp - 0x14 + 0x00:word32] = Mem32[Mem32[fp + 0x10:word32] + 0x00:word32];
		while (Mem182[fp - 0x14 + 0x00:word32] != 0x00)
		{
			word32 eax_189 = Mem182[Mem182[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem190[fp - 0x34 + 0x00:word32] = 0x0E;
			Mem191[fp - 0x38 + 0x00:word32] = 0x080CF1CB;
			Mem192[fp - 0x3C + 0x00:word32] = eax_189;
			if (strncasecmp(Mem192[fp - 0x3C + 0x00:(ptr char)], Mem192[fp - 0x38 + 0x00:(ptr char)], Mem192[fp - 0x34 + 0x00:int32]) == 0x00)
				Mem215[fp - 0x18 + 0x00:word32] = 0x01;
			word32 eax_198 = Mem192[Mem192[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem199[fp - 0x34 + 0x00:word32] = 0x14;
			Mem200[fp - 0x38 + 0x00:word32] = 0x080CF1DA;
			Mem201[fp - 0x3C + 0x00:word32] = eax_198;
			if (strncasecmp(Mem201[fp - 0x3C + 0x00:(ptr char)], Mem201[fp - 0x38 + 0x00:(ptr char)], Mem201[fp - 0x34 + 0x00:int32]) == 0x00)
				Mem214[fp - 0x1C + 0x00:word32] = 0x01;
			Mem208[fp - 0x38 + 0x00:word32] = Mem201[Mem201[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem210[fp - 0x3C + 0x00:word32] = Mem208[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem213[fp - 0x14 + 0x00:word32] = Mem210[Mem210[fp - 0x14 + 0x00:word32] + 0x04:word32];
		}
	}
	if ((byte) (word32) Mem32[Mem32[fp + 0x0C:word32] + 0x00:byte] != 0x02 && Mem32[135775080:word32] != 0x00)
	{
		Mem156[fp - 0x3C + 0x00:word32] = Mem32[fp + 0x04:word32];
		Mem158[fp - 0x20 + 0x00:word32] = find_cookie(fp - 0x04, dwArg00);
		if (Mem158[fp - 0x20 + 0x00:word32] != 0x00)
		{
			Mem161[fp - 0x38 + 0x00:word32] = 0x080CF1EF;
			Mem163[fp - 0x3C + 0x00:word32] = Mem161[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem165[fp - 0x38 + 0x00:word32] = Mem163[fp - 0x20 + 0x00:word32];
			Mem167[fp - 0x3C + 0x00:word32] = Mem165[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			Mem168[fp - 0x38 + 0x00:word32] = 135065909;
			Mem170[fp - 0x3C + 0x00:word32] = Mem168[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if ((byte) (word32) Mem170[Mem170[Mem170[fp - 0x20 + 0x00:word32] + 0x00:word32] + 0x00:byte] != 0x24)
			{
				Mem177[fp - 0x38 + 0x00:word32] = 0x080CF1F8;
				Mem179[fp - 0x3C + 0x00:word32] = Mem177[fp - 0x10 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
		}
	}
	if ((byte) (word32) Mem32[Mem32[fp + 0x0C:word32] + 0x00:byte] == 0x01)
	{
		if (Mem32[Mem32[Mem32[fp + 0x0C:word32] + 0x08:word32] + 0x1C:word32] == 0x01)
		{
			Mem71[fp - 0x38 + 0x00:word32] = 0x080CF210;
			Mem73[fp - 0x3C + 0x00:word32] = Mem71[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem77[fp - 0x38 + 0x00:word32] = Mem73[Mem73[Mem73[fp + 0x0C:word32] + 0x08:word32] + 44:word32];
			Mem79[fp - 0x3C + 0x00:word32] = Mem77[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem80[fp - 0x38 + 0x00:word32] = 135065909;
			Mem82[fp - 0x3C + 0x00:word32] = Mem80[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem86[fp - 0x38 + 0x00:word32] = Mem82[Mem82[Mem82[fp + 0x0C:word32] + 0x08:word32] + 0x30:word32];
			Mem87[fp - 0x3C + 0x00:word32] = 135066173;
			byte bpl_88;
			Mem90[fp - 0x38 + 0x00:word32] = Sprintf(dwArg00, out bpl_88);
			Mem92[fp - 0x3C + 0x00:word32] = Mem90[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			Mem93[fp - 0x38 + 0x00:word32] = 135065909;
			Mem95[fp - 0x3C + 0x00:word32] = Mem93[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		else
		{
			if (Mem32[135774888:word32] == 0x00)
			{
				Mem137[fp - 0x38 + 0x00:word32] = 135066196;
				Mem139[fp - 0x3C + 0x00:word32] = Mem137[fp - 0x10 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			Mem104[fp - 0x38 + 0x00:word32] = Mem32[Mem32[Mem32[fp + 0x0C:word32] + 0x08:word32] + 0x30:word32];
			Mem105[fp - 0x3C + 0x00:word32] = 135066173;
			byte bpl_106;
			Mem108[fp - 0x38 + 0x00:word32] = Sprintf(dwArg00, out bpl_106);
			Mem110[fp - 0x3C + 0x00:word32] = Mem108[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			if (Mem110[135774884:word32] != 0x00)
			{
				Mem134[fp - 0x38 + 0x00:word32] = Mem110[135774884:word32];
				Mem136[fp - 0x3C + 0x00:word32] = Mem134[fp - 0x10 + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
			Mem115[fp - 0x38 + 0x00:word32] = 135065909;
			Mem117[fp - 0x3C + 0x00:word32] = Mem115[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			word32 eax_124 = Mem117[Mem117[Mem117[fp + 0x0C:word32] + 0x08:word32] + 0x28:word32];
			Mem125[fp - 0x34 + 0x00:word32] = Mem117[Mem117[Mem117[fp + 0x0C:word32] + 0x08:word32] + 0x30:word32];
			Mem126[fp - 0x38 + 0x00:word32] = eax_124;
			Mem128[fp - 0x3C + 0x00:word32] = Mem126[fp - 0x10 + 0x00:word32];
			Strcat_charp_n(dwArg00, dwArg04, dwArg08);
			Mem130[fp - 0x38 + 0x00:word32] = 135065909;
			Mem132[fp - 0x3C + 0x00:word32] = Mem130[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
	}
	else
	{
		if (Mem32[135774884:word32] != 0x00)
		{
			Mem148[fp - 0x38 + 0x00:word32] = Mem32[135774884:word32];
			Mem150[fp - 0x3C + 0x00:word32] = Mem148[fp - 0x10 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		Mem144[fp - 0x38 + 0x00:word32] = 135065909;
		Mem146[fp - 0x3C + 0x00:word32] = Mem144[fp - 0x10 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
}

// 080A0CC5: void init_stream(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void init_stream(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	memset(dwArg04, 0x00, 0x20);
	Mem17[dwArg04 + 0x04:word32] = dwArg0C;
	Mem23[dwArg04 + 0x00:byte] = (byte) dwArg08;
	Mem25[dwArg04 + 0x02:byte] = 0x00;
	Mem27[dwArg04 + 0x01:byte] = 0x00;
	Mem29[dwArg04 + 0x0C:word32] = 0x00;
	Mem31[dwArg04 + 0x10:word32] = 0x00;
	Mem33[dwArg04 + 0x14:word32] = 0x00;
	Mem35[dwArg04 + 0x08:word32] = 0x00;
	Mem37[dwArg04 + 0x1C:word32] = ~0x00;
}

// 080A0D3B: Register word32 openURL(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg20, Stack word32 dwArg24, Register out ptr32 ebpOut)
word32 openURL(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg20, word32 dwArg24, ptr32 & ebpOut)
{
	if (dwArg20 == 0x00)
		init_stream(fp - 88, 0xFE, 0x00);
	word32 dwLoc24_222;
	word32 eax_41 = getURLScheme(fp - 0x24);
	if (dwArg10 == 0x00 && (eax_41 == 0xFE && (byte) ((word32) Mem0[135774797:byte]) == 0x00))
		dwLoc24_222 = file_to_url(dwArg08);
	else
		dwLoc24_222 = dwArg08;
	parseURL2(fp - 0x04, dwLoc24_222, dwArg0C, dwArg10);
	if (Mem0[Mem0[fp + 0x0C:word32] + 0x00:word32] == 0x04 && Mem0[Mem0[fp + 0x0C:word32] + 0x14:word32] == 0x00)
	{
		word32 eax_173 = Mem0[Mem0[fp + 0x0C:word32] + 0x20:word32];
		if (eax_173 == 0x00)
		{
			Mem200[dwArg04 + 0x00:word32] = Mem0[fp - 88 + 0x00:word32];
			Mem202[dwArg04 + 0x04:word32] = Mem200[fp - 0x54 + 0x00:word32];
			Mem204[dwArg04 + 0x08:word32] = Mem202[fp - 0x50 + 0x00:word32];
			Mem206[dwArg04 + 0x0C:word32] = Mem204[fp - 0x4C + 0x00:word32];
			Mem208[dwArg04 + 0x10:word32] = Mem206[fp - 0x48 + 0x00:word32];
			Mem210[dwArg04 + 0x14:word32] = Mem208[fp - 0x44 + 0x00:word32];
			Mem212[dwArg04 + 0x18:word32] = Mem210[fp - 0x40 + 0x00:word32];
			Mem214[dwArg04 + 0x1C:word32] = Mem212[fp - 0x3C + 0x00:word32];
			goto l080A1AC8;
		}
		Mem178[fp - 0x6C + 0x00:word32] = 0x080CF286;
		Strnew_charp(eax_173, dwArg00);
		Mem179[fp - 0x28 + 0x00:word32] = eax_173;
		Mem182[fp - 0x68 + 0x00:word32] = Mem179[Mem179[fp + 0x0C:word32] + 0x20:word32];
		Mem184[fp - 0x6C + 0x00:word32] = Mem182[fp - 0x28 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem188[Mem184[fp + 0x0C:word32] + 0x14:word32] = Mem184[Mem184[fp - 0x28 + 0x00:word32] + 0x00:word32];
		Mem191[fp - 0x6C + 0x00:word32] = Mem188[Mem188[fp + 0x0C:word32] + 0x14:word32];
		Mem193[fp - 0x6C + 0x00:word32] = file_unquote(dwArg00);
		Mem196[Mem193[fp + 0x0C:word32] + 0x18:word32] = cleanupName(dwArg00);
		Mem198[Mem196[fp + 0x0C:word32] + 0x20:word32] = 0x00;
	}
	Mem99[fp - 88 + 0x00:byte] = (byte) Mem0[Mem0[fp + 0x0C:word32] + 0x00:word32];
	Mem101[fp - 0x6C + 0x00:word32] = Mem99[fp + 0x0C:word32];
	byte bpl_103;
	Mem106[fp - 0x40 + 0x00:word32] = Mem101[parsedURL2Str(dwArg00, out bpl_103) + 0x00:word32];
	Mem114[Mem106[fp + 0x0C:word32] + 0x24:word32] = Mem106[Mem106[fp + 0x14:word32] + 0x04:word32] & 0x01;
	word32 eax_116 = Mem114[Mem114[fp + 0x0C:word32] + 0x14:word32];
	Mem117[fp - 0x68 + 0x00:word32] = 0x01;
	Mem118[fp - 0x6C + 0x00:word32] = eax_116;
	Mem120[fp - 0x50 + 0x00:word32] = filename_extension(dwArg00, dwArg04);
	Mem122[Mem120[fp + 0x24:word32] + 0x00:byte] = 0x00;
	Mem124[Mem122[fp + 0x24:word32] + 0x01:byte] = 0x00;
	Mem128[Mem124[fp + 0x24:word32] + 0x04:word32] = Mem124[Mem124[fp + 0x14:word32] + 0x00:word32];
	word32 edx_130 = Mem128[fp + 0x18:word32];
	Mem131[Mem128[fp + 0x24:word32] + 0x08:word32] = edx_130;
	word32 eax_133 = Mem131[Mem131[fp + 0x0C:word32] + 0x00:word32];
	if (eax_133 <=u 11)
	{
		word32 eax_137 = 0x080CF2A8[eax_133 * 0x04];
		word32 esp_138;
		word32 ebp_139;
		word32 esi_140;
		word32 ebx_141;
		byte SCZO_142;
		byte Z_143;
		word32 eax_144;
		word32 edx_145;
		byte al_146;
		byte SZO_147;
		byte C_148;
		byte CZ_149;
		byte bpl_150;
		eax_137();
		return esp_138;
	}
	Mem152[dwArg04 + 0x00:word32] = Mem131[fp - 88 + 0x00:word32];
	Mem154[dwArg04 + 0x04:word32] = Mem152[fp - 0x54 + 0x00:word32];
	Mem156[dwArg04 + 0x08:word32] = Mem154[fp - 0x50 + 0x00:word32];
	Mem158[dwArg04 + 0x0C:word32] = Mem156[fp - 0x4C + 0x00:word32];
	Mem160[dwArg04 + 0x10:word32] = Mem158[fp - 0x48 + 0x00:word32];
	Mem162[dwArg04 + 0x14:word32] = Mem160[fp - 0x44 + 0x00:word32];
	Mem164[dwArg04 + 0x18:word32] = Mem162[fp - 0x40 + 0x00:word32];
	Mem166[dwArg04 + 0x1C:word32] = Mem164[fp - 0x3C + 0x00:word32];
l080A1AC8:
	word32 ebp_92;
	*ebpOut = Mem0[fp - 0x04 + 0x00:word32];
	return fp;
}

// 080A1AD3: void add_index_file(Stack word32 dwArg04, Stack word32 dwArg08)
void add_index_file(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[135774852:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[135774852:word32] + 0x00:byte]) != 0x00)
	{
		word32 eax_50 = file_quote(Mem0[135774852:word32]);
		Strnew_m_charp(eax_50, Mem0[dwArg04 + 0x14:word32]);
		examineFile(fp - 0x04, cleanupName(file_unquote(cleanupName(Mem0[eax_50 + 0x00:word32]))), dwArg08);
		if (Mem0[Mem0[fp + 0x08:word32] + 0x04:word32] != 0x00)
		{
			Mem81[Mem0[fp + 0x04:word32] + 0x14:word32] = Mem0[fp - 0x10 + 0x00:word32];
			Mem84[Mem81[fp + 0x04:word32] + 0x18:word32] = Mem81[fp - 0x14 + 0x00:word32];
		}
	}
	else
		Mem34[dwArg08 + 0x04:word32] = 0x00;
}

// 080A1B89: Register word32 guessContentTypeFromTable(Stack word32 dwArg04, Stack word32 dwArg08)
word32 guessContentTypeFromTable(word32 dwArg04, word32 dwArg08)
{
	word32 eax_105;
	if (dwArg04 == 0x00)
		eax_105 = 0x00;
	else
	{
		word32 dwLoc14_116 = strlen(dwArg08) - 0x01 + dwArg08 + 0x01;
		while (dwArg08 <u dwLoc14_116 && (byte) ((word32) Mem0[dwLoc14_116 + 0x00:byte]) != 0x2E)
			dwLoc14_116 = dwLoc14_116 - 0x01;
		if (dwLoc14_116 == dwArg08)
			eax_105 = 0x00;
		else
		{
			word32 v9_52 = dwLoc14_116 + 0x00;
			word32 dwLoc10_108 = dwArg04 + 0x04;
			while (Mem0[dwLoc10_108 + 0x00:word32] != 0x00)
			{
				if (strcmp(v9_52, Mem0[dwLoc10_108 + 0x00:word32]) == 0x00)
				{
					eax_105 = Mem0[dwLoc10_108 + 0x00:word32];
					return eax_105;
				}
				dwLoc10_108 = dwLoc10_108 + 0x08;
			}
			word32 dwLoc10_68 = dwArg04 + 0x04;
			while (Mem0[dwLoc10_68 + 0x00:word32] != 0x00)
			{
				if (strcasecmp(v9_52, Mem0[dwLoc10_68 + 0x00:word32]) == 0x00)
				{
					eax_105 = Mem0[dwLoc10_68 + 0x00:word32];
					return eax_105;
				}
				dwLoc10_68 = dwLoc10_68 + 0x08;
			}
			eax_105 = 0x00;
		}
	}
	return eax_105;
}

// 080A1C4F: Register word32 guessContentType(Stack word32 dwArg04)
word32 guessContentType(word32 dwArg04)
{
	word32 eax_19;
	if (dwArg04 == 0x00)
		eax_19 = 0x00;
	else
	{
		if (Mem0[0x0817E89C:word32] != 0x00)
		{
			word32 dwLoc14_49 = 0x00;
			while ((int32) (word16) (word32) Mem0[Mem0[0x0817E89C:word32] + 0x08:word16] > dwLoc14_49)
			{
				word32 eax_71 = guessContentTypeFromTable(Mem0[0x0817E8A0:word32][dwLoc14_49 * 0x04], dwArg04);
				if (eax_71 != 0x00)
				{
					eax_19 = eax_71;
					return eax_19;
				}
				dwLoc14_49 = dwLoc14_49 + 0x01;
			}
		}
		eax_19 = guessContentTypeFromTable(0x080D8140, dwArg04);
	}
	return eax_19;
}

// 080A1CCB: Register word32 make_domain_list(Stack word32 dwArg04)
word32 make_domain_list(word32 dwArg04)
{
	Strnew_size(dwArg04, 0x40);
	word32 dwLoc18_112 = 0x00;
	word32 dwLoc10_108 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc10_108 + 0x00:byte] != 0x00)
	{
		while ((byte) (word32) Mem0[dwLoc10_108 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_108 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			dwLoc10_108 = dwLoc10_108 + 0x01;
		Strclear(dwArg04);
		while ((byte) (word32) Mem0[dwLoc10_108 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_108 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem0[dwLoc10_108 + 0x00:byte]) != 44))
		{
			if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_150 = Mem0[dwArg04 + 0x04:word32];
			Mem156[Mem0[dwArg04 + 0x00:word32] + eax_150:byte] = (byte) (word32) Mem0[dwLoc10_108 + 0x00:byte];
			Mem159[dwArg04 + 0x04:word32] = eax_150 + 0x01;
			Mem168[Mem159[dwArg04 + 0x00:word32] + Mem159[dwArg04 + 0x04:word32]:byte] = 0x00;
			dwLoc10_108 = dwLoc10_108 + 0x01;
		}
		word32 eax_70 = Mem0[dwArg04 + 0x04:word32];
		if (eax_70 > 0x00)
		{
			if (dwLoc18_112 == 0x00)
			{
				newGeneralList(eax_70);
				dwLoc18_112 = eax_70;
			}
			pushValue(dwLoc18_112, allocStr(Mem0[dwArg04 + 0x00:word32], ~0x00));
		}
		while ((byte) (word32) Mem0[dwLoc10_108 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_108 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			dwLoc10_108 = dwLoc10_108 + 0x01;
		if ((byte) (word32) Mem0[dwLoc10_108 + 0x00:byte] == 44)
			dwLoc10_108 = dwLoc10_108 + 0x01;
	}
	return dwLoc18_112;
}

// 080A1E39: Register word32 domain_match(Stack word32 dwArg04, Stack word32 dwArg08)
word32 domain_match(word32 dwArg04, word32 dwArg08)
{
	word32 eax_19;
	if (dwArg08 == 0x00)
		eax_19 = 0x00;
	else
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x2E)
			dwArg04 = dwArg04 + 0x01;
		while (strcasecmp(dwArg04, dwArg08) != 0x00)
		{
			word32 eax_56 = strchr(dwArg08, '.');
			if (eax_56 == 0x00)
			{
				eax_19 = 0x00;
				return eax_19;
			}
			dwArg08 = eax_56 + 0x01;
		}
		eax_19 = 0x01;
	}
	return eax_19;
}

// 080A1EA2: Register word32 check_no_proxy(Register selector gs, Stack word32 dwArg04)
word32 check_no_proxy(selector gs, word32 dwArg04)
{
	word32 eax_141;
	word32 eax_12 = Mem0[gs:0x14:word32];
	word32 dwLoc58_124 = 0x00;
	word32 dwLoc5C_113 = 0x00;
	if (Mem0[0x08180538:word32] == 0x00 || ((word16) ((word32) Mem0[Mem0[0x08180538:word32] + 0x08:word16]) == 0x00 || dwArg04 == 0x00))
	{
		eax_141 = 0x00;
		goto l080A215D;
	}
	word32 dwLoc54_428 = Mem0[Mem0[0x08180538:word32] + 0x00:word32];
	while (dwLoc54_428 != 0x00)
	{
		if (domain_match(Mem0[dwLoc54_428 + 0x00:word32], dwArg04) != 0x00)
		{
			eax_141 = 0x01;
			goto l080A215D;
		}
		dwLoc54_428 = Mem0[dwLoc54_428 + 0x04:word32];
	}
	word32 eax_87 = Mem0[0x080D52C8:word32];
	if (eax_87 == 0x00)
	{
		eax_141 = 0x00;
		goto l080A215D;
	}
	word32 esp_98;
	word32 ebp_99;
	byte SCZO_100;
	word32 eax_101;
	byte SZO_103;
	byte C_104;
	byte Z_105;
	word16 ax_106;
	word32 edx_107;
	byte al_108;
	word32 ecx_109;
	!__sigsetjmp();
	if (eax_101 != 0x00)
	{
		dwLoc58_124 = 0x00;
		goto l080A2125;
	}
	if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
	{
		dwLoc5C_113 = mySignal(0x02, 0x0809E962);
		if ((byte) (word32) Mem0[135774799:byte] != 0x00)
			term_cbreak(gs);
	}
	word32 dwLoc6C_179 = Mem0[0x0817C264:word32] * 0x0C + 0x080D8040;
	while (true)
	{
		memset(fp - 0x8C, 0x00, 0x20);
		word32 esp_198;
		word32 ebp_199;
		byte SCZO_200;
		word32 eax_201;
		byte SZO_203;
		byte C_204;
		byte Z_205;
		word16 ax_206;
		word32 edx_207;
		byte al_208;
		word32 ecx_209;
		!getaddrinfo();
		if (eax_201 != 0x00)
		{
			if (Mem0[dwLoc6C_179 + 0x00:word32] == 0x00)
				goto l080A2125;
		}
		else
		{
			word32 dwLoc64_240 = dwLoc68;
			while (dwLoc64_240 != 0x00)
			{
				word32 eax_279 = Mem0[dwLoc64_240 + 0x04:word32];
				if (eax_279 != 0x02)
				{
					if (eax_279 != 0x0A)
						goto l080A20F1;
					word32 esp_373;
					word32 ebp_374;
					byte SCZO_375;
					word32 eax_376;
					selector gs_377;
					byte SZO_378;
					byte C_379;
					byte Z_380;
					word16 ax_381;
					word32 edx_382;
					byte al_383;
					word32 ecx_384;
					!inet_ntop();
				}
				else
				{
					word32 esp_393;
					word32 ebp_394;
					byte SCZO_395;
					word32 eax_396;
					selector gs_397;
					byte SZO_398;
					byte C_399;
					byte Z_400;
					word16 ax_401;
					word32 edx_402;
					byte al_403;
					word32 ecx_404;
					!inet_ntop();
				}
				word32 dwLoc54_320 = Mem0[Mem0[0x08180538:word32] + 0x00:word32];
				while (dwLoc54_320 != 0x00)
				{
					word32 eax_334 = strlen(Mem0[dwLoc54_320 + 0x00:word32]);
					word32 edx_336 = Mem0[dwLoc54_320 + 0x00:word32];
					if (strncmp(edx_336, fp - 0x50, eax_334) == 0x00)
					{
						word32 esp_347;
						word32 ebp_348;
						byte SCZO_349;
						word32 eax_350;
						byte SZO_352;
						byte C_353;
						byte Z_354;
						word16 ax_355;
						word32 edx_356;
						byte al_357;
						word32 ecx_358;
						!freeaddrinfo();
						dwLoc58_124 = 0x01;
						goto l080A2125;
					}
					dwLoc54_320 = Mem0[dwLoc54_320 + 0x04:word32];
				}
l080A20F1:
				dwLoc64_240 = Mem0[dwLoc64_240 + 0x1C:word32];
			}
			word32 esp_261;
			word32 ebp_262;
			byte SCZO_263;
			word32 eax_264;
			byte SZO_266;
			byte C_267;
			byte Z_268;
			word16 ax_269;
			word32 edx_270;
			byte al_271;
			word32 ecx_272;
			!freeaddrinfo();
			if (Mem0[dwLoc6C_179 + 0x00:word32] == 0x00)
			{
l080A2125:
				if ((byte) (word32) Mem0[0x080D52C5:byte] != 0x00)
				{
					if ((byte) (word32) Mem0[135774799:byte] != 0x00)
						term_raw(gs);
					if (dwLoc5C_113 != 0x00)
						mySignal(0x02, dwLoc5C_113);
				}
				eax_141 = dwLoc58_124;
l080A215D:
				if ((eax_12 ^ Mem0[gs:0x14:word32]) != 0x00)
					__stack_chk_fail();
				return eax_141;
			}
		}
		dwLoc6C_179 = dwLoc6C_179 + 0x04;
	}
}

// 080A2170: Register word32 filename_extension(Stack word32 dwArg04, Stack word32 dwArg08)
word32 filename_extension(word32 dwArg04, word32 dwArg08)
{
	word32 eax_22;
	word32 dwLoc10_106 = 0x080CF0E8;
	word32 dwLoc14_10 = dwArg04;
	if (dwArg04 == 0x00)
		eax_22 = 0x080CF0E8;
	else
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x2E)
			dwLoc14_10 = dwArg04 + 0x01;
		while ((byte) (word32) Mem0[dwLoc14_10 + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc14_10 + 0x00:byte] == 0x2E)
				dwLoc10_106 = dwLoc14_10;
			else if (dwArg08 != 0x00 && (byte) ((word32) Mem0[dwLoc14_10 + 0x00:byte]) == 0x3F)
				break;
			dwLoc14_10 = dwLoc14_10 + 0x01;
		}
		if ((byte) (word32) Mem0[dwLoc10_106 + 0x00:byte] == 0x2E)
		{
			word32 dwLoc18_54 = 0x01;
			while ((byte) (word32) Mem0[dwLoc18_54 + dwLoc10_106:byte] != 0x00 && (dwLoc18_54 <= 0x07 && (dwArg08 == 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc18_54 + dwLoc10_106:byte])) + 0x080DB700:byte])) & 0x0C) != 0x00)))
				dwLoc18_54 = dwLoc18_54 + 0x01;
			eax_22 = allocStr(dwLoc10_106, dwLoc18_54);
		}
		else
			eax_22 = dwLoc10_106;
	}
	return eax_22;
}

// 080A2240: Register word32 loadURIMethods(Stack word32 dwArg04)
word32 loadURIMethods(word32 dwArg04)
{
	word32 eax_135;
	word32 eax_18 = fopen(expandPath(dwArg04), 0x080CF08E);
	if (eax_18 == 0x00)
		eax_135 = 0x00;
	else
	{
		do
			Strfgets(eax_18, eax_18);
		while (Mem0[eax_18 + 0x04:word32] > 0x00);
		word32 esp_75;
		word32 ebp_76;
		word32 ebx_77;
		byte SCZO_78;
		word32 eax_79;
		byte Z_80;
		byte SZO_81;
		byte C_82;
		byte al_83;
		word32 edx_84;
		word32 ecx_85;
		!fseek();
		word32 esp_93;
		word32 ebp_94;
		word32 ebx_95;
		byte SCZO_96;
		word32 eax_97;
		byte Z_98;
		byte SZO_99;
		byte C_100;
		byte al_101;
		word32 edx_102;
		word32 ecx_103;
		!GC_malloc();
		word32 dwLoc14_105 = 0x00;
		while (true)
		{
			Strfgets(eax_18, eax_18);
			if (Mem0[eax_18 + 0x04:word32] <= 0x00)
				break;
			if ((byte) (word32) Mem0[Mem0[eax_18 + 0x00:word32] + 0x00:byte] != 0x23)
			{
				while (true)
				{
					word32 eax_154;
					if (Mem0[eax_18 + 0x04:word32] > 0x00)
						eax_154 = (word32) (byte) (word32) Mem0[Mem0[eax_18 + 0x00:word32] + (Mem0[eax_18 + 0x04:word32] - 0x01):byte];
					else
						eax_154 = 0x00;
					if (((word32) (byte) (word32) Mem0[eax_154 + 0x080DB700:byte] & 0x02) == 0x00)
						break;
					Strshrink(eax_18, 0x01);
				}
				word32 eax_164 = Mem0[eax_18 + 0x00:word32];
				word32 dwLoc28_165 = eax_164 + 0x01;
				while ((byte) (word32) Mem0[dwLoc28_165 + 0x00:byte] != 0x00)
				{
					if ((byte) (word32) Mem0[dwLoc28_165 + 0x00:byte] == 0x3A)
					{
						word32 edx_245;
						eax_97[dwLoc14_105 * 0x08] = Mem0[Strnew_charp_n(eax_164, eax_164, dwLoc28_165 - eax_164, out edx_245) + 0x00:word32];
						dwLoc28_165 = dwLoc28_165 + 0x00;
						break;
					}
					dwLoc28_165 = dwLoc28_165 + 0x01;
				}
				if ((byte) (word32) Mem0[dwLoc28_165 + 0x00:byte] != 0x00)
				{
					while ((byte) (word32) Mem0[dwLoc28_165 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc28_165 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
						dwLoc28_165 = dwLoc28_165 + 0x01;
					Strnew_charp(dwLoc28_165, dwLoc28_165);
					Mem209[(dwLoc14_105 << 0x03) + eax_97 + 0x04:word32] = Mem0[dwLoc28_165 + 0x00:word32];
					dwLoc14_105 = dwLoc14_105 + 0x01;
				}
			}
		}
		eax_97[dwLoc14_105 * 0x08] = 0x00;
		Mem131[(dwLoc14_105 << 0x03) + eax_97 + 0x04:word32] = 0x00;
		fclose(eax_18);
		eax_135 = eax_97;
	}
	return eax_135;
}

// 080A2445: void initURIMethods()
void initURIMethods()
{
	word32 dwLoc10_11 = 0x00;
	if (non_null(Mem0[0x080D535C:word32]) != 0x00)
		dwLoc10_11 = make_domain_list(Mem0[0x080D535C:word32]);
	if (dwLoc10_11 != 0x00)
	{
		word32 esp_50;
		word32 ebp_51;
		word32 ebx_52;
		byte SCZO_53;
		word32 eax_54;
		byte SZO_55;
		byte C_56;
		byte Z_57;
		word16 ax_58;
		word32 edx_59;
		!GC_malloc();
		Mem60[0x0817E8A4:word32] = eax_54;
		word32 dwLoc18_105 = 0x00;
		word32 dwLoc14_103 = Mem60[dwLoc10_11 + 0x00:word32];
		while (dwLoc14_103 != 0x00)
		{
			Mem60[0x0817E8A4:word32][dwLoc18_105 * 0x04] = loadURIMethods(Mem60[dwLoc14_103 + 0x00:word32]);
			if (Mem90[0x0817E8A4:word32][dwLoc18_105 * 0x04] != 0x00)
				dwLoc18_105 = dwLoc18_105 + 0x01;
			dwLoc14_103 = Mem90[dwLoc14_103 + 0x04:word32];
		}
		Mem60[0x0817E8A4:word32][dwLoc18_105 * 0x04] = 0x00;
	}
}

// 080A2509: Register word32 searchURIMethods(Register word32 ebp, Stack word32 dwArg04)
word32 searchURIMethods(word32 ebp, word32 dwArg04)
{
	word32 eax_102;
	if (Mem0[dwArg04 + 0x00:word32] != 0xFF)
		eax_102 = 0x00;
	else if (Mem0[0x0817E8A4:word32] == 0x00)
		eax_102 = 0x00;
	else
	{
		byte bpl_41;
		Mem43[fp - 0x1C + 0x00:word32] = parsedURL2Str(dwArg04, out bpl_41);
		Mem46[fp - 0x20 + 0x00:word32] = Mem43[Mem43[fp - 0x1C + 0x00:word32] + 0x00:word32];
		while ((byte) (word32) Mem46[Mem46[fp - 0x20 + 0x00:word32] + 0x00:byte] != 0x00)
		{
			if ((byte) (word32) Mem46[Mem46[fp - 0x20 + 0x00:word32] + 0x00:byte] == 0x3A)
			{
				word32 eax_152 = Mem46[Mem46[fp - 0x1C + 0x00:word32] + 0x00:word32];
				Mem153[fp - 0x38 + 0x00:word32] = Mem46[fp - 0x20 + 0x00:word32] - Mem46[Mem46[(fp - 0x1C) + 0x00:word32] + 0x00:word32];
				Mem154[fp - 0x3C + 0x00:word32] = eax_152;
				word32 edx_155;
				Mem157[fp - 0x18 + 0x00:word32] = Strnew_charp_n(eax_152, dwArg00, dwArg04, out edx_155);
				break;
			}
			Mem159[fp - 0x20 + 0x00:word32] = Mem46[fp - 0x20 + 0x00:word32] + 0x01;
		}
		if (Mem46[fp - 0x18 + 0x00:word32] == 0x00)
			eax_102 = 0x00;
		else
		{
			Mem61[fp - 0x14 + 0x00:word32] = 0x00;
			while (true)
			{
				Mem69[fp - 0x10 + 0x00:word32] = Mem61[0x0817E8A4:word32][Mem61[fp - 0x14 + 0x00:word32] * 0x04];
				if (Mem69[fp - 0x10 + 0x00:word32] == 0x00)
					break;
				while (Mem69[Mem69[fp - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
				{
					word32 eax_120 = Mem69[Mem69[fp - 0x10 + 0x00:word32] + 0x00:word32];
					Mem121[fp - 0x38 + 0x00:word32] = Mem69[Mem69[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem122[fp - 0x3C + 0x00:word32] = eax_120;
					if (strcasecmp(Mem122[fp - 0x3C + 0x00:(ptr char)], Mem122[fp - 0x38 + 0x00:(ptr char)]) == 0x00)
					{
						Mem129[fp - 0x3C + 0x00:word32] = Mem122[Mem122[fp - 0x1C + 0x00:word32] + 0x00:word32];
						word32 eax_130 = url_quote(dwArg00);
						word32 edx_132 = Mem129[Mem129[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem133[fp - 0x38 + 0x00:word32] = eax_130;
						Mem134[fp - 0x3C + 0x00:word32] = edx_132;
						byte bpl_135;
						eax_102 = Sprintf(dwArg00, out bpl_135);
						return eax_102;
					}
					Mem139[fp - 0x10 + 0x00:word32] = Mem122[fp - 0x10 + 0x00:word32] + 0x08;
				}
				Mem115[fp - 0x14 + 0x00:word32] = Mem69[fp - 0x14 + 0x00:word32] + 0x01;
			}
			Mem72[fp - 0x10 + 0x00:word32] = 0x080D81E0;
			while (Mem72[Mem72[fp - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
			{
				word32 eax_85 = Mem72[Mem72[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem86[fp - 0x38 + 0x00:word32] = Mem72[Mem72[fp - 0x18 + 0x00:word32] + 0x00:word32];
				Mem87[fp - 0x3C + 0x00:word32] = eax_85;
				if (strcasecmp(Mem87[fp - 0x3C + 0x00:(ptr char)], Mem87[fp - 0x38 + 0x00:(ptr char)]) == 0x00)
				{
					Mem94[fp - 0x3C + 0x00:word32] = Mem87[Mem87[fp - 0x1C + 0x00:word32] + 0x00:word32];
					word32 eax_96 = url_quote(dwArg00);
					word32 edx_98 = Mem94[Mem94[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem99[fp - 0x38 + 0x00:word32] = eax_96;
					Mem100[fp - 0x3C + 0x00:word32] = edx_98;
					byte bpl_101;
					eax_102 = Sprintf(dwArg00, out bpl_101);
					return eax_102;
				}
				Mem105[fp - 0x10 + 0x00:word32] = Mem87[fp - 0x10 + 0x00:word32] + 0x08;
			}
			eax_102 = 0x00;
		}
	}
	return eax_102;
}

// 080A266A: void chkExternalURIBuffer(Register word32 ebp, Register selector gs)
void chkExternalURIBuffer(word32 ebp, selector gs)
{
	while (true)
	{
		Mem21[fp - 0x14 + 0x00:word32] = Mem0[0x0817E8A4:word32][Mem0[fp - 0x10 + 0x00:word32] * 0x04];
		if (Mem21[fp - 0x14 + 0x00:word32] == 0x00)
			break;
		while (Mem21[Mem21[fp - 0x14 + 0x00:word32] + 0x00:word32] != 0x00)
		{
			word32 eax_63 = Mem21[Mem21[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem64[fp - 0x24 + 0x00:word32] = 0x080CF2FC;
			Mem65[fp - 0x28 + 0x00:word32] = eax_63;
			Mem66[fp - 44 + 0x00:word32] = 0x080CF118;
			byte bpl_67;
			Mem70[fp - 0x28 + 0x00:word32] = Mem66[Sprintf(dwArg00, out bpl_67) + 0x00:word32];
			Mem72[fp - 44 + 0x00:word32] = Mem70[fp + 0x04:word32];
			reAnchor(gs, dwArg00, dwArg04);
			Mem74[fp - 0x14 + 0x00:word32] = Mem72[fp - 0x14 + 0x00:word32] + 0x08;
		}
		Mem60[fp - 0x10 + 0x00:word32] = Mem21[fp - 0x10 + 0x00:word32] + 0x01;
	}
	Mem24[fp - 0x14 + 0x00:word32] = 0x080D81E0;
	while (Mem24[Mem24[fp - 0x14 + 0x00:word32] + 0x00:word32] != 0x00)
	{
		word32 eax_36 = Mem24[Mem24[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem37[fp - 0x24 + 0x00:word32] = 0x080CF2FC;
		Mem38[fp - 0x28 + 0x00:word32] = eax_36;
		Mem39[fp - 44 + 0x00:word32] = 0x080CF118;
		byte bpl_41;
		Mem44[fp - 0x28 + 0x00:word32] = Mem39[Sprintf(dwArg00, out bpl_41) + 0x00:word32];
		Mem46[fp - 44 + 0x00:word32] = Mem44[fp + 0x04:word32];
		reAnchor(gs, dwArg00, dwArg04);
		Mem50[fp - 0x14 + 0x00:word32] = Mem46[fp - 0x14 + 0x00:word32] + 0x08;
	}
}

// 080A2719: Register word32 schemeToProxy(Stack word32 dwArg04)
word32 schemeToProxy(word32 dwArg04)
{
	word32 dwLoc08_16 = 0x00;
	if (dwArg04 != 0x01)
	{
		if (dwArg04 != 0x02)
		{
			if (dwArg04 == 0x00)
				dwLoc08_16 = 0x08180640;
		}
		else
			dwLoc08_16 = 0x08180560;
	}
	else
		dwLoc08_16 = 0x08180500;
	return dwLoc08_16;
}

// 080A2758: void KeyAbort()
void KeyAbort()
{
	word32 esp_10;
	word32 ebp_11;
	byte SCZO_12;
	word32 eax_13;
	!siglongjmp();
	ftp_command(ebp_11, 0x0817E8E0, 0x01, dwLoc14);
}

// 080A2772: Register word32 ftp_command(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 ftp_command(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_158;
	word32 ebp_201 = fp - 0x04;
	word32 esp_200 = fp - 44;
	if (Mem0[dwArg04 + 0x00:word32] == 0x00)
		eax_158 = 0x00;
	else
	{
		if (dwArg08 != 0x00)
		{
			if (dwArg0C != 0x00)
			{
				byte bpl_239;
				Mem241[fp - 0x10 + 0x00:word32] = Sprintf(0x080CF340, out bpl_239);
			}
			else
			{
				byte bpl_245;
				Mem247[fp - 0x10 + 0x00:word32] = Sprintf(0x080CF348, out bpl_245);
			}
			word32 eax_221 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
			word32 eax_224 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem225[fp - 0x20 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
			Mem226[fp - 0x24 + 0x00:word32] = eax_221;
			Mem227[fp - 0x28 + 0x00:word32] = 0x01;
			Mem228[fp - 44 + 0x00:word32] = eax_224;
			fwrite(Mem228[fp - 44 + 0x00:(ptr void)], Mem228[fp - 0x28 + 0x00:size_t], Mem228[fp - 0x24 + 0x00:size_t], Mem228[fp - 0x20 + 0x00:(ptr FILE)]);
			Mem232[fp - 44 + 0x00:word32] = Mem228[Mem228[fp + 0x04:word32] + 0x14:word32];
			fflush(Mem232[fp - 44 + 0x00:(ptr FILE)]);
		}
		if (Mem0[fp + 0x10:word32] == 0x00)
			eax_158 = 0x00;
		else
		{
			Mem54[Mem0[fp + 0x10:word32] + 0x00:word32] = ~0x00;
			Mem57[fp - 44 + 0x00:word32] = Mem54[Mem54[fp + 0x04:word32] + 0x10:word32];
			Mem60[fp - 0x10 + 0x00:word32] = StrISgets(dwArg00);
			if (((word32) (byte) (word32) Mem60[(word32) (byte) (word32) Mem60[Mem60[Mem60[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00 && (((word32) ((byte) ((word32) Mem60[(word32) ((byte) ((word32) Mem60[Mem60[Mem60[(fp - 0x10) + 0x00:word32] + 0x00:word32] + 0x01:byte])) + 0x080DB700:byte])) & 0x08) != 0x00 && ((word32) ((byte) ((word32) Mem60[(word32) ((byte) ((word32) Mem60[Mem60[Mem60[(fp - 0x10) + 0x00:word32] + 0x00:word32] + 0x02:byte])) + 0x080DB700:byte])) & 0x08) != 0x00))
			{
				byte al_190 = (byte) (word32) Mem60[Mem60[Mem60[fp - 0x10 + 0x00:word32] + 0x00:word32] + 0x03:byte];
				if (al_190 == 0x20)
				{
					word32 eax_195 = Mem60[Mem60[fp - 0x10 + 0x00:word32] + 0x00:word32];
					word32 ecx_196 = Mem60[fp + 0x10:word32];
					Mem197[fp - 0x24 + 0x00:word32] = ecx_196;
					Mem198[fp - 0x28 + 0x00:word32] = 135066445;
					Mem199[fp - 44 + 0x00:word32] = eax_195;
					byte SCZO_202;
					word32 eax_203;
					byte SZO_204;
					byte C_205;
					byte Z_206;
					word32 ecx_207;
					word32 edx_208;
					byte al_209;
					byte bpl_210;
					!__isoc99_sscanf();
				}
			}
			if ((byte) (word32) Mem60[Mem60[Mem60[ebp_201 - 0x0C + 0x00:word32] + 0x00:word32] + 0x03:byte] != 0x2D)
				eax_158 = Mem60[ebp_201 - 0x0C + 0x00:word32];
			else
			{
				do
				{
					do
					{
						Mem92[esp_200 + 0x00:word32] = Mem60[Mem60[ebp_201 + 0x08:word32] + 0x10:word32];
						Mem94[ebp_201 - 0x0C + 0x00:word32] = StrISgets(dwArg00);
					} while (((word32) (byte) (word32) Mem94[(word32) (byte) (word32) Mem94[Mem94[Mem94[ebp_201 - 0x0C + 0x00:word32] + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x08) == 0x00 || (((word32) ((byte) ((word32) Mem94[(word32) ((byte) ((word32) Mem94[Mem94[Mem94[(ebp_201 - 0x0C) + 0x00:word32] + 0x00:word32] + 0x01:byte])) + 0x080DB700:byte])) & 0x08) == 0x00 || ((word32) ((byte) ((word32) Mem94[(word32) ((byte) ((word32) Mem94[Mem94[Mem94[(ebp_201 - 0x0C) + 0x00:word32] + 0x00:word32] + 0x02:byte])) + 0x080DB700:byte])) & 0x08) == 0x00));
					byte al_137 = (byte) (word32) Mem94[Mem94[Mem94[ebp_201 - 0x0C + 0x00:word32] + 0x00:word32] + 0x03:byte];
				} while (al_137 != 0x20);
				word32 eax_142 = Mem94[Mem94[ebp_201 - 0x0C + 0x00:word32] + 0x00:word32];
				word32 ecx_143 = Mem94[ebp_201 + 0x14:word32];
				Mem144[esp_200 + 0x08:word32] = ecx_143;
				Mem145[esp_200 + 0x04:word32] = 135066445;
				Mem146[esp_200 + 0x00:word32] = eax_142;
				word32 esp_147;
				word32 ebp_148;
				byte SCZO_149;
				word32 eax_150;
				byte SZO_151;
				byte C_152;
				byte Z_153;
				word32 ecx_154;
				word32 edx_155;
				byte al_156;
				byte bpl_157;
				!__isoc99_sscanf();
				eax_158 = Mem146[ebp_148 - 0x0C + 0x00:word32];
			}
		}
	}
	return eax_158;
}

// 080A2972: void ftp_close(Stack word32 dwArg04)
void ftp_close(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x10:word32] != 0x00)
		{
			Mem70[Mem0[dwArg04 + 0x10:word32] + 0x14:byte] = (byte) ((word32) Mem0[Mem0[dwArg04 + 0x10:word32] + 0x14:byte] & ~0x10);
			ISclose(Mem70[dwArg04 + 0x10:word32]);
			Mem76[dwArg04 + 0x10:word32] = 0x00;
		}
		if (Mem0[dwArg04 + 0x14:word32] != 0x00)
		{
			fclose(Mem0[dwArg04 + 0x14:word32]);
			Mem60[dwArg04 + 0x14:word32] = 0x00;
		}
		if (Mem0[dwArg04 + 0x18:word32] != 0x00)
		{
			fclose(Mem0[dwArg04 + 0x18:word32]);
			Mem54[dwArg04 + 0x18:word32] = 0x00;
		}
		Mem48[dwArg04 + 0x00:word32] = 0x00;
	}
}

// 080A2A10: Register word32 ftp_login(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 ftp_login(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_151;
	Mem24[fp - 0x24 + 0x00:word32] = openSocket(fp - 0x04, gs, 0x15);
	word32 ebp_221 = fp - 0x04;
	word32 esp_220 = fp - 0x6C;
	if (Mem24[fp - 0x24 + 0x00:word32] >= 0x00)
	{
		if (Mem24[135090996:word32] != 0x00)
		{
			word32 eax_190 = Mem24[Mem24[fp - 0x40 + 0x00:word32] + 0x08:word32];
			Mem191[fp - 0x68 + 0x00:word32] = 0x080CF354;
			Mem192[fp - 0x6C + 0x00:word32] = eax_190;
			if (strcmp(Mem192[fp - 0x6C + 0x00:(ptr char)], Mem192[fp - 0x68 + 0x00:(ptr char)]) == 0x00)
			{
				Mem199[fp - 0x6C + 0x00:word32] = Mem192[Mem192[fp - 0x40 + 0x00:word32] + 0x0C:word32];
				Mem201[fp - 44 + 0x00:word32] = strlen(Mem199[fp - 0x6C + 0x00:(ptr char)]);
				if (Mem201[fp - 44 + 0x00:word32] != 0x00)
				{
					byte al_210 = (byte) (word32) Mem201[Mem201[Mem201[fp - 0x40 + 0x00:word32] + 0x0C:word32] + (Mem201[(fp - 44) + 0x00:word32] - 0x01):byte];
					if (al_210 == 0x40)
					{
						Mem213[fp - 0x30 + 0x00:word32] = 0x10;
						Mem216[fp - 100 + 0x00:word32] = fp - 0x30;
						Mem217[fp - 0x68 + 0x00:word32] = fp - 0x20;
						word32 eax_218 = Mem217[fp - 0x24 + 0x00:word32];
						Mem219[fp - 0x6C + 0x00:word32] = eax_218;
						byte SCZO_222;
						word32 eax_223;
						selector gs_224;
						byte SZO_225;
						byte C_226;
						byte S_227;
						byte Z_228;
						word32 edx_229;
						byte al_230;
						word16 ax_231;
						byte dl_232;
						byte bpl_233;
						!getsockname();
						if (eax_223 == 0x00)
						{
							word32 eax_238 = Mem219[Mem219[ebp_221 - 0x3C + 0x00:word32] + 0x0C:word32];
							Mem239[esp_220 + 0x00:word32] = eax_238;
							Strnew_charp(eax_238, dwArg00);
							Mem240[ebp_221 - 0x34 + 0x00:word32] = eax_238;
							word16 ax_242 = (word16) (word32) Mem240[ebp_221 - 0x1C + 0x00:word16];
							Mem244[esp_220 + 0x08:word32] = (word32) ax_242;
							Mem245[esp_220 + 0x04:word32] = 0x04;
							Mem249[esp_220 + 0x00:word32] = ebp_221 - 0x18;
							byte SCZO_252;
							word32 eax_253;
							selector gs_254;
							byte SZO_255;
							byte C_256;
							byte S_257;
							byte Z_258;
							word32 edx_259;
							byte al_260;
							word16 ax_261;
							byte dl_262;
							byte bpl_263;
							!gethostbyaddr();
							Mem264[ebp_221 - 0x30 + 0x00:word32] = eax_253;
							if (Mem264[ebp_221 - 0x30 + 0x00:word32] != 0x00)
							{
								Mem285[esp_220 + 0x04:word32] = Mem264[Mem264[ebp_221 - 0x30 + 0x00:word32] + 0x00:word32];
								Mem287[esp_220 + 0x00:word32] = Mem285[ebp_221 - 0x34 + 0x00:word32];
								Strcat_charp(dwArg00, dwArg04);
							}
							else
							{
								word32 eax_288 = Mem264[ebp_221 - 0x18 + 0x00:word32];
								Mem289[esp_220 + 0x00:word32] = eax_288;
								byte SCZO_292;
								word32 eax_293;
								selector gs_294;
								byte SZO_295;
								byte C_296;
								byte S_297;
								byte Z_298;
								word32 edx_299;
								byte al_300;
								word16 ax_301;
								byte dl_302;
								byte bpl_303;
								!inet_ntoa();
								Mem304[esp_220 + 0x10:word32] = 0x00;
								Mem305[esp_220 + 0x0C:word32] = 135066462;
								Mem306[esp_220 + 0x08:word32] = eax_293;
								Mem307[esp_220 + 0x04:word32] = 0x080CF360;
								Mem309[esp_220 + 0x00:word32] = Mem307[ebp_221 - 0x34 + 0x00:word32];
								Strcat_m_charp(dwArg00);
							}
							Mem282[Mem264[ebp_221 - 0x3C + 0x00:word32] + 0x0C:word32] = Mem264[Mem264[ebp_221 - 0x34 + 0x00:word32] + 0x00:word32];
						}
					}
				}
			}
		}
		word32 eax_68 = Mem24[ebp_221 - 0x20 + 0x00:word32];
		Mem69[esp_220 + 0x00:word32] = eax_68;
		word32 eax_70 = newInputStream(eax_68, dwArg00);
		word32 edx_71 = Mem69[ebp_221 - 0x3C + 0x00:word32];
		Mem72[edx_71 + 0x10:word32] = eax_70;
		word32 eax_73 = Mem72[ebp_221 - 0x20 + 0x00:word32];
		Mem74[esp_220 + 0x00:word32] = eax_73;
		byte SCZO_80;
		word32 eax_81;
		byte SZO_83;
		byte C_84;
		byte S_85;
		byte Z_86;
		word32 edx_87;
		byte al_88;
		word16 ax_89;
		byte dl_90;
		byte bpl_91;
		!dup();
		Mem92[esp_220 + 0x04:word32] = 135066466;
		Mem93[esp_220 + 0x00:word32] = eax_81;
		Mem96[Mem93[ebp_221 - 0x3C + 0x00:word32] + 0x14:word32] = fdopen(Mem93[esp_220 + 0x00:int32], Mem93[esp_220 + 0x04:(ptr char)]);
		if (Mem96[Mem96[ebp_221 - 0x3C + 0x00:word32] + 0x10:word32] != 0x00 && Mem96[Mem96[(ebp_221 - 0x3C) + 0x00:word32] + 0x14:word32] != 0x00)
		{
			Mem116[Mem96[Mem96[ebp_221 - 0x3C + 0x00:word32] + 0x10:word32] + 0x14:byte] = (byte) ((word32) Mem96[Mem96[Mem96[ebp_221 - 0x3C + 0x00:word32] + 0x10:word32] + 0x14:byte] | 0x10);
			Mem118[esp_220 + 0x0C:word32] = ebp_221 - 0x24;
			Mem119[esp_220 + 0x08:word32] = 0x00;
			Mem120[esp_220 + 0x04:word32] = 0x00;
			Mem122[esp_220 + 0x00:word32] = Mem120[ebp_221 - 0x3C + 0x00:word32];
			ftp_command(ebp_221, dwArg00, dwArg04, dwArg08);
			if (Mem122[ebp_221 - 0x24 + 0x00:word32] == 220)
			{
				if ((byte) (word32) Mem122[135774799:byte] != 0x00)
				{
					Mem180[esp_220 + 0x04:word32] = Mem122[Mem122[ebp_221 - 0x3C + 0x00:word32] + 0x08:word32];
					Mem181[esp_220 + 0x00:word32] = 0x080CF368;
					byte bpl_182;
					word32 eax_184 = Mem181[Sprintf(dwArg00, out bpl_182) + 0x00:word32];
					Mem185[esp_220 + 0x08:word32] = 0x00;
					Mem186[esp_220 + 0x04:word32] = 0x00;
					Mem187[esp_220 + 0x00:word32] = eax_184;
					message(dwArg00, dwArg04, dwArg08);
					refresh(ebp_221);
				}
				word32 eax_135 = Mem122[Mem122[ebp_221 - 0x3C + 0x00:word32] + 0x08:word32];
				Mem137[esp_220 + 0x0C:word32] = ebp_221 - 0x24;
				Mem138[esp_220 + 0x08:word32] = eax_135;
				Mem139[esp_220 + 0x04:word32] = 135066516;
				Mem141[esp_220 + 0x00:word32] = Mem139[ebp_221 - 0x3C + 0x00:word32];
				ftp_command(ebp_221, dwArg00, dwArg04, dwArg08);
				if (Mem141[ebp_221 - 0x24 + 0x00:word32] == 0xE6)
				{
l080A2CCF:
					eax_151 = 0x01;
l080A2CF0:
					if ((Mem24[ebp_221 - 0x0C + 0x00:word32] ^ Mem24[gs:0x14:word32]) != 0x00)
						__stack_chk_fail();
					return eax_151;
				}
				if (Mem141[ebp_221 - 0x24 + 0x00:word32] == 331)
				{
					if ((byte) (word32) Mem141[135774799:byte] != 0x00)
					{
						Mem174[esp_220 + 0x08:word32] = 0x00;
						Mem175[esp_220 + 0x04:word32] = 0x00;
						Mem176[esp_220 + 0x00:word32] = 0x080CF39C;
						message(dwArg00, dwArg04, dwArg08);
						refresh(ebp_221);
					}
					word32 eax_163 = Mem141[Mem141[ebp_221 - 0x3C + 0x00:word32] + 0x0C:word32];
					Mem165[esp_220 + 0x0C:word32] = ebp_221 - 0x24;
					Mem166[esp_220 + 0x08:word32] = eax_163;
					Mem167[esp_220 + 0x04:word32] = 0x080CF3C3;
					Mem169[esp_220 + 0x00:word32] = Mem167[ebp_221 - 0x3C + 0x00:word32];
					ftp_command(ebp_221, dwArg00, dwArg04, dwArg08);
					if (Mem169[ebp_221 - 0x24 + 0x00:word32] == 0xE6)
						goto l080A2CCF;
				}
			}
		}
	}
	Mem57[esp_220 + 0x00:word32] = Mem24[ebp_221 - 0x3C + 0x00:word32];
	ftp_close(dwArg00);
	eax_151 = 0x00;
	goto l080A2CF0;
}

// 080A2D03: Register word32 ftp_pasv(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 ftp_pasv(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_121;
	word32 eax_30 = fileno(Mem0[dwArg04 + 0x14:word32]);
	word32 esp_34;
	word32 esi_36;
	word32 ebx_37;
	byte SCZO_38;
	word32 eax_39;
	byte SZO_41;
	byte C_42;
	byte S_43;
	word16 ax_44;
	byte Z_45;
	word32 edx_46;
	byte al_47;
	word32 ecx_48;
	byte dl_49;
	byte bpl_50;
	selector gs_107;
	word32 ebp_117;
	!getpeername();
	if (eax_39 < 0x00)
	{
		eax_121 = ~0x00;
		goto l080A30D1;
	}
	word32 esp_118;
	word32 eax_93 = (word32) (word16) (word32) wLocC0;
	if (eax_93 != 0x02)
	{
		if (eax_93 != 0x0A)
		{
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		Mem142[ebp_117 - 232 + 0x00:word32] = ftp_command(ebp_117, dwArg04, 0x080CF3C8, 0x00);
		if (Mem142[ebp_117 - 0xC4 + 0x00:word32] != 229)
		{
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		Mem153[ebp_117 - 228 + 0x00:word32] = Mem142[Mem142[ebp_117 - 232 + 0x00:word32] + 0x00:word32] + 0x04;
		while ((byte) (word32) Mem153[Mem153[ebp_117 - 228 + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem153[Mem153[(ebp_117 - 228) + 0x00:word32] + 0x00:byte]) != 0x28)
			Mem282[ebp_117 - 228 + 0x00:word32] = Mem153[ebp_117 - 228 + 0x00:word32] + 0x01;
		byte al_164 = (byte) (word32) Mem153[Mem153[ebp_117 - 228 + 0x00:word32] + 0x00:byte];
		if (al_164 == 0x00)
		{
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		Mem173[ebp_117 - 228 + 0x00:word32] = Mem153[ebp_117 - 228 + 0x00:word32] + 0x01;
		word32 eax_175 = Mem173[ebp_117 - 228 + 0x00:word32];
		Mem177[esp_34 + 0x18:word32] = ebp_117 - 0xC0;
		Mem179[esp_34 + 0x14:word32] = ebp_117 - 244;
		Mem181[esp_34 + 0x10:word32] = ebp_117 - 191;
		Mem183[esp_34 + 0x0C:word32] = ebp_117 - 0xBE;
		Mem185[esp_34 + 0x08:word32] = ebp_117 - 0xBD;
		Mem186[esp_34 + 0x04:word32] = 0x080CF3CD;
		Mem187[esp_34 + 0x00:word32] = eax_175;
		word32 esp_188;
		word32 esi_190;
		word32 ebx_191;
		byte SCZO_192;
		word32 eax_193;
		byte SZO_195;
		byte C_196;
		byte S_197;
		word16 ax_198;
		byte Z_199;
		word32 edx_200;
		byte al_201;
		word32 ecx_202;
		byte dl_203;
		byte bpl_204;
		!__isoc99_sscanf();
		if (eax_193 != 0x05 || ((byte) ((word32) Mem187[(ebp_117 - 0xBD) + 0x00:byte]) != (byte) ((word32) Mem187[(ebp_117 - 0xBE) + 0x00:byte]) || (byte) ((word32) Mem187[(ebp_117 - 0xBD) + 0x00:byte]) != (byte) ((word32) Mem187[(ebp_117 - 191) + 0x00:byte])))
		{
l080A2EAA:
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		byte dl_227 = (byte) (word32) Mem187[ebp_117 - 0xBD + 0x00:byte];
		byte al_229 = (byte) (word32) Mem187[ebp_117 - 0xC0 + 0x00:byte];
		if (dl_227 != al_229)
			goto l080A2EAA;
		word32 eax_232 = Mem187[ebp_117 - 0xF0 + 0x00:word32];
		Mem235[esp_188 + 0x18:word32] = 0x01;
		Mem236[esp_188 + 0x14:word32] = 0x00;
		Mem237[esp_188 + 0x10:word32] = 0x00;
		Mem238[esp_188 + 0x0C:word32] = 0x2E;
		Mem240[esp_188 + 0x08:word32] = ebp_117 - 0x3A;
		Mem241[esp_188 + 0x04:word32] = eax_232;
		Mem242[esp_188 + 0x00:word32] = ebp_117 - 188;
		word32 esi_245;
		word32 ebx_246;
		byte SCZO_247;
		word32 eax_248;
		byte SZO_250;
		byte C_251;
		byte S_252;
		word16 ax_253;
		byte Z_254;
		word32 edx_255;
		byte al_256;
		word32 ecx_257;
		byte dl_258;
		byte bpl_259;
		!getnameinfo();
		if (eax_248 != 0x00)
		{
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		Mem269[esp_118 + 0x08:word32] = (word32) (word16) Mem242[ebp_117 - 244 + 0x00:word32];
		Mem270[esp_118 + 0x04:word32] = 0x080CF3D8;
		Mem272[esp_118 + 0x00:word32] = ebp_117 - 0x3A;
		Mem275[ebp_117 - 0xE0 + 0x00:word32] = openSocket(ebp_117, gs_107, dwArg08);
	}
	else
	{
		Mem294[ebp_117 - 232 + 0x00:word32] = ftp_command(ebp_117, dwArg04, 135066585, 0x00);
		if (Mem294[ebp_117 - 0xC4 + 0x00:word32] != 227)
		{
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		Mem305[ebp_117 - 228 + 0x00:word32] = Mem294[Mem294[ebp_117 - 232 + 0x00:word32] + 0x00:word32] + 0x04;
		while ((byte) (word32) Mem305[Mem305[ebp_117 - 228 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem305[(word32) ((byte) ((word32) Mem305[Mem305[(ebp_117 - 228) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			Mem395[ebp_117 - 228 + 0x00:word32] = Mem305[ebp_117 - 228 + 0x00:word32] + 0x01;
		byte al_315 = (byte) (word32) Mem305[Mem305[ebp_117 - 228 + 0x00:word32] + 0x00:byte];
		if (al_315 == 0x00)
		{
			eax_121 = ~0x00;
			goto l080A30D1;
		}
		word32 eax_323 = Mem305[ebp_117 - 228 + 0x00:word32];
		Mem325[esp_34 + 0x1C:word32] = ebp_117 - 220;
		Mem327[esp_34 + 0x18:word32] = ebp_117 - 0xD8;
		Mem329[esp_34 + 0x14:word32] = ebp_117 - 212;
		Mem331[esp_34 + 0x10:word32] = ebp_117 - 0xD0;
		Mem333[esp_34 + 0x0C:word32] = ebp_117 - 0xCC;
		Mem335[esp_34 + 0x08:word32] = ebp_117 - 200;
		Mem336[esp_34 + 0x04:word32] = 135066590;
		Mem337[esp_34 + 0x00:word32] = eax_323;
		word32 esi_340;
		word32 ebx_341;
		byte SCZO_342;
		word32 eax_343;
		byte SZO_345;
		byte C_346;
		byte S_347;
		word16 ax_348;
		byte Z_349;
		word32 edx_350;
		byte al_351;
		word32 ecx_352;
		byte dl_353;
		byte bpl_354;
		!__isoc99_sscanf();
		word32 ecx_356 = Mem337[ebp_117 - 0xD0 + 0x00:word32];
		word32 edx_357 = Mem337[ebp_117 - 0xCC + 0x00:word32];
		word32 eax_358 = Mem337[ebp_117 - 200 + 0x00:word32];
		Mem359[esp_118 + 0x10:word32] = Mem337[ebp_117 - 212 + 0x00:word32];
		Mem360[esp_118 + 0x0C:word32] = ecx_356;
		Mem361[esp_118 + 0x08:word32] = edx_357;
		Mem362[esp_118 + 0x04:word32] = eax_358;
		Mem363[esp_118 + 0x00:word32] = 0x080CF3F0;
		byte bpl_365;
		Mem367[ebp_117 - 232 + 0x00:word32] = Sprintf(dwArg00, out bpl_365);
		word32 eax_377 = Mem367[Mem367[ebp_117 - 232 + 0x00:word32] + 0x00:word32];
		Mem378[esp_118 + 0x08:word32] = (word32) (word16) ((Mem367[ebp_117 - 0xD8 + 0x00:word32] << 0x08) + Mem367[(ebp_117 - 220) + 0x00:word32]);
		Mem379[esp_118 + 0x04:word32] = 0x080CF3D8;
		Mem380[esp_118 + 0x00:word32] = eax_377;
		Mem382[ebp_117 - 0xE0 + 0x00:word32] = openSocket(ebp_117, gs_107, dwArg08);
	}
	if (Mem0[ebp_117 - 0xE0 + 0x00:word32] < 0x00)
		eax_121 = ~0x00;
	else
	{
		Mem124[esp_118 + 0x04:word32] = 0x080CF3FC;
		Mem126[esp_118 + 0x00:word32] = Mem124[ebp_117 - 0xE0 + 0x00:word32];
		Mem129[Mem126[ebp_117 - 252 + 0x00:word32] + 0x18:word32] = fdopen(Mem126[esp_118 + 0x00:int32], Mem126[esp_118 + 0x04:(ptr char)]);
		eax_121 = 0x00;
	}
l080A30D1:
	if ((Mem0[ebp_117 - 0x0C + 0x00:word32] ^ Mem0[gs_107:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_121;
}

// 080A30EC: Register word32 ftp_modtime(Stack word32 dwArg04, Stack word32 dwArg08)
word32 ftp_modtime(word32 dwArg04, word32 dwArg08)
{
	word32 eax_157;
	Mem18[fp - 0x14 + 0x00:word32] = ftp_command(fp - 0x04, dwArg04, 0x080CF3FF, dwArg08);
	if (Mem18[fp - 0x10 + 0x00:word32] != 0xD5)
		eax_157 = ~0x00;
	else
	{
		Mem44[fp - 0x18 + 0x00:word32] = Mem18[Mem18[fp - 0x14 + 0x00:word32] + 0x00:word32] + 0x04;
		while (true)
		{
			byte al_48 = (byte) (word32) Mem44[Mem44[fp - 0x18 + 0x00:word32] + 0x00:byte];
			if (al_48 == 0x00 || (byte) ((word32) Mem44[Mem44[(fp - 0x18) + 0x00:word32] + 0x00:byte]) != 0x20)
				break;
			Mem165[fp - 0x18 + 0x00:word32] = Mem44[fp - 0x18 + 0x00:word32] + 0x01;
		}
		Mem52[fp - 116 + 0x00:word32] = 44;
		Mem53[fp - 0x78 + 0x00:word32] = 0x00;
		Mem55[fp - 0x7C + 0x00:word32] = fp - 0x50;
		memset(Mem55[fp - 0x7C + 0x00:(ptr void)], Mem55[fp - 0x78 + 0x00:int32], Mem55[fp - 116 + 0x00:size_t]);
		word32 eax_58 = Mem55[fp - 0x18 + 0x00:word32];
		Mem60[fp - 0x60 + 0x00:word32] = fp - 0x50;
		Mem63[fp - 100 + 0x00:word32] = fp - 0x4C;
		Mem66[fp - 0x68 + 0x00:word32] = fp - 0x48;
		Mem69[fp - 0x6C + 0x00:word32] = fp - 0x44;
		Mem72[fp - 0x70 + 0x00:word32] = fp - 0x40;
		Mem76[fp - 116 + 0x00:word32] = fp - 0x3C;
		Mem77[fp - 0x78 + 0x00:word32] = 0x080CF404;
		Mem78[fp - 0x7C + 0x00:word32] = eax_58;
		word32 esp_79;
		word32 ebp_80;
		byte SCZO_81;
		word32 eax_82;
		byte Z_83;
		byte al_84;
		byte SZO_85;
		byte C_86;
		word32 edx_87;
		word32 ecx_88;
		!__isoc99_sscanf();
		if (eax_82 <= 0x05)
			eax_157 = ~0x00;
		else
		{
			Mem95[ebp_80 - 0x38 + 0x00:word32] = Mem78[ebp_80 - 0x38 + 0x00:word32] - 1900;
			Mem99[ebp_80 - 0x3C + 0x00:word32] = Mem95[ebp_80 - 0x3C + 0x00:word32] - 0x01;
			Mem101[esp_79 + 0x00:word32] = ebp_80 - 0x4C;
			word32 esp_102;
			word32 ebp_103;
			byte SCZO_104;
			word32 eax_105;
			byte Z_106;
			byte al_107;
			byte SZO_108;
			byte C_109;
			word32 edx_110;
			word32 ecx_111;
			!mktime();
			Mem112[ebp_103 - 0x18 + 0x00:word32] = eax_105;
			Mem114[esp_102 + 0x00:word32] = ebp_103 - 0x18;
			word32 eax_115 = localtime(Mem114[esp_102 + 0x00:time_t]);
			Mem116[esp_102 + 0x00:word32] = eax_115;
			word32 esp_117;
			word32 ebp_118;
			byte SCZO_119;
			word32 eax_120;
			byte Z_121;
			byte al_122;
			byte SZO_123;
			byte C_124;
			word32 edx_125;
			word32 ecx_126;
			!mktime();
			Mem127[ebp_118 - 0x1C + 0x00:word32] = eax_120;
			Mem129[esp_117 + 0x00:word32] = ebp_118 - 0x18;
			word32 esp_130;
			word32 ebp_131;
			byte SCZO_132;
			word32 eax_133;
			byte Z_134;
			byte al_135;
			byte SZO_136;
			byte C_137;
			word32 edx_138;
			word32 ecx_139;
			!gmtime();
			Mem140[esp_130 + 0x00:word32] = eax_133;
			word32 esp_141;
			word32 ebp_142;
			byte SCZO_143;
			word32 eax_144;
			byte Z_145;
			byte al_146;
			byte SZO_147;
			byte C_148;
			word32 edx_149;
			word32 ecx_150;
			!mktime();
			Mem151[ebp_142 - 0x20 + 0x00:word32] = eax_144;
			eax_157 = Mem151[ebp_142 - 0x1C + 0x00:word32] - Mem151[(ebp_142 - 0x20) + 0x00:word32] + Mem151[(ebp_142 - 0x18) + 0x00:word32];
		}
	}
	return eax_157;
}

// 080A3221: void ftp_quit(Register word32 ebp, Stack word32 dwArg04)
void ftp_quit(word32 ebp, word32 dwArg04)
{
	ftp_command(fp - 0x04, dwArg04, 135066653, 0x00);
	Mem17[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
	ftp_close(dwArg00);
}

// 080A325C: void closeFTPdata(Stack word32 dwArg04)
void closeFTPdata(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		fclose(dwArg04);
		if (Mem0[0x0817E8D8:word32] == dwArg04)
			Mem28[0x0817E8D8:word32] = 0x00;
	}
	ftp_command(fp - 0x04, 0x0817E8C0, 0x00, 0x00);
}

// 080A32AC: void closeFTP()
void closeFTP()
{
	ftp_close(0x0817E8C0);
}

// 080A32C0: void openFTPStream(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void openFTPStream(word32 ebp, selector gs, word32 dwArg04)
{
	word32 ebp_208 = fp - 0x04;
	word32 esp_209 = fp - 0x5C;
	word32 dwLoc18_10 = 0x00;
	if (Mem0[dwArg04 + 0x0C:word32] == 0x00)
		return;
	if (Mem0[dwArg04 + 0x04:word32] == 0x00 && (Mem0[dwArg04 + 0x08:word32] == 0x00 && find_auth_user_passwd(dwArg04, 0x00, fp - 0x20, fp - 0x24, 0x00) != 0x00))
	{
		if (0x00 != 0x00)
			dwLoc18_10 = Mem0[0x00:word32];
	}
	if (dwLoc18_10 == 0x00)
	{
		if (Mem0[dwArg04 + 0x04:word32] != 0x00)
			dwLoc18_10 = Mem0[dwArg04 + 0x04:word32];
		else
			dwLoc18_10 = 0x080CF354;
	}
	if (Mem0[0x0817E8C0:word32] != 0x00)
	{
		if (strcmp(Mem0[0x0817E8C0:word32], Mem0[dwArg04 + 0x0C:word32]) == 0x00 && (Mem0[135784644:word32] == Mem0[dwArg04 + 0x10:word32] && strcmp(Mem0[0x0817E8C8:word32], dwLoc18_10) == 0x00))
		{
			ftp_command(fp - 0x04, 0x0817E8C0, 135066658, 0x00);
			if (Mem0[fp - 0x14 + 0x00:word32] == 200)
				goto l080A3674;
			Mem448[fp - 0x5C + 0x00:word32] = 0x0817E8C0;
			ftp_close(dwArg00);
		}
		else
			ftp_quit(fp - 0x04, 0x0817E8C0);
	}
	if (Mem0[fp - 0x1C + 0x00:word32] == 0x00)
	{
		if (Mem0[Mem0[fp + 0x04:word32] + 0x08:word32] != 0x00)
			Mem261[fp - 0x1C + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x08:word32];
		else if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] != 0x00)
		{
			Mem267[fp - 0x24 + 0x00:word32] = 0x00;
			Mem268[fp - 0x4C + 0x00:word32] = 0x00;
			Mem270[fp - 0x50 + 0x00:word32] = fp - 0x24;
			Mem272[fp - 0x54 + 0x00:word32] = fp - 0x20;
			Mem273[fp - 88 + 0x00:word32] = 0x00;
			Mem275[fp - 0x5C + 0x00:word32] = Mem273[fp + 0x04:word32];
			find_auth_user_passwd(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
			if (Mem275[fp - 0x24 + 0x00:word32] == 0x00)
			{
				word32 eax_297 = (word32) Mem275[135774799:byte];
				byte al_298 = (byte) eax_297;
				if (al_298 != 0x00)
				{
					term_raw(gs);
					Mem317[fp - 0x4C + 0x00:word32] = 0x00;
					Mem318[fp - 0x50 + 0x00:word32] = 0x00;
					Mem319[fp - 0x54 + 0x00:word32] = 0x40;
					Mem320[fp - 88 + 0x00:word32] = 0x00;
					Mem321[fp - 0x5C + 0x00:word32] = 135066663;
					word32 eax_322 = inputLineHistSearch(fp - 0x04, gs, dwArg00, dwArg04, dwArg08, dwArg0C);
					Mem323[fp - 0x5C + 0x00:word32] = eax_322;
					Strnew_charp(eax_322, dwArg00);
					Mem324[fp - 0x24 + 0x00:word32] = eax_322;
					word32 edx_326 = Mem324[135091052:word32];
					word32 eax_327 = Mem324[fp - 0x24 + 0x00:word32];
					Mem328[fp - 0x54 + 0x00:word32] = Mem324[0x080D5378:word32];
					Mem329[fp - 88 + 0x00:word32] = edx_326;
					Mem330[fp - 0x5C + 0x00:word32] = eax_327;
					word32 ebx_331;
					Mem333[fp - 0x24 + 0x00:word32] = wc_Str_conv_strict(dwArg00, dwArg04, dwArg08, out ebx_331);
					term_cbreak(gs);
				}
				else
				{
					Mem334[fp - 0x5C + 0x00:word32] = 135066663;
					word32 ebx_337;
					byte SCZO_338;
					word32 eax_339;
					byte SZO_340;
					byte C_341;
					byte Z_342;
					word32 edx_343;
					byte S_344;
					byte al_345;
					word32 ecx_346;
					byte SO_347;
					!getpass();
					Mem349[esp_209 + 0x00:word32] = eax_339;
					Strnew_charp(eax_339, dwArg00);
					Mem350[ebp_208 - 0x20 + 0x00:word32] = eax_339;
				}
				Mem316[ebp_208 - 0x24 + 0x00:word32] = 0x01;
			}
			Mem296[ebp_208 - 0x18 + 0x00:word32] = Mem275[Mem275[ebp_208 - 0x20 + 0x00:word32] + 0x00:word32];
		}
		else if (Mem0[0x0817C2F0:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[0x0817C2F0:word32] + 0x00:byte]) != 0x00)
			Mem408[fp - 0x1C + 0x00:word32] = Mem0[0x0817C2F0:word32];
		else
		{
			word32 eax_365;
			Mem359[fp - 0x5C + 0x00:word32] = getuid();
			Mem361[fp - 0x30 + 0x00:word32] = getpwuid(Mem359[fp - 0x5C + 0x00:uid_t]);
			if (Mem361[fp - 0x30 + 0x00:word32] != 0x00)
				eax_365 = Mem361[Mem361[fp - 0x30 + 0x00:word32] + 0x00:word32];
			else
				eax_365 = 0x080CF354;
			Mem366[fp - 0x5C + 0x00:word32] = eax_365;
			Strnew_charp(eax_365, dwArg00);
			Mem367[fp - 0x10 + 0x00:word32] = eax_365;
			if (Mem367[Mem367[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem367[Mem367[(fp - 0x10) + 0x00:word32] + 0x08:word32])
			{
				Mem395[fp - 0x5C + 0x00:word32] = Mem367[fp - 0x10 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_378 = Mem367[Mem367[fp - 0x10 + 0x00:word32] + 0x04:word32];
			Mem381[Mem367[Mem367[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_378:byte] = 0x40;
			Mem384[Mem381[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_378 + 0x01;
			Mem390[Mem384[Mem384[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem384[Mem384[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem393[fp - 0x1C + 0x00:word32] = Mem390[Mem390[fp - 0x10 + 0x00:word32] + 0x00:word32];
		}
	}
	if (Mem0[0x0817E8C0:word32] == 0x00)
	{
		word32 eax_230 = Mem0[Mem0[ebp_208 + 0x08:word32] + 0x0C:word32];
		Mem231[esp_209 + 0x04:word32] = ~0x00;
		Mem232[esp_209 + 0x00:word32] = eax_230;
		Mem234[0x0817E8C0:word32] = allocStr(dwArg00, dwArg04);
		Mem237[135784644:word32] = Mem234[Mem234[ebp_208 + 0x08:word32] + 0x10:word32];
		Mem238[esp_209 + 0x04:word32] = ~0x00;
		Mem240[esp_209 + 0x00:word32] = Mem238[ebp_208 - 0x14 + 0x00:word32];
		Mem242[0x0817E8C8:word32] = allocStr(dwArg00, dwArg04);
		Mem243[esp_209 + 0x04:word32] = ~0x00;
		Mem245[esp_209 + 0x00:word32] = Mem243[ebp_208 - 0x18 + 0x00:word32];
		Mem247[0x0817E8CC:word32] = allocStr(dwArg00, dwArg04);
		Mem248[esp_209 + 0x00:word32] = 0x0817E8C0;
		if (ftp_login(ebp_208, gs, dwArg00) == 0x00)
			return;
	}
	if (Mem0[ebp_208 - 0x24 + 0x00:word32] != 0x00)
	{
		word32 edx_219 = Mem0[ebp_208 - 0x20 + 0x00:word32];
		word32 eax_220 = Mem0[ebp_208 - 0x1C + 0x00:word32];
		Mem221[esp_209 + 0x10:word32] = 0x00;
		Mem222[esp_209 + 0x0C:word32] = edx_219;
		Mem223[esp_209 + 0x08:word32] = eax_220;
		Mem224[esp_209 + 0x04:word32] = 0x00;
		Mem226[esp_209 + 0x00:word32] = Mem224[ebp_208 + 0x08:word32];
		add_auth_user_passwd(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
	}
l080A3674:
	Mem96[esp_209 + 0x0C:word32] = ebp_208 - 0x10;
	Mem97[esp_209 + 0x08:word32] = 135066674;
	Mem98[esp_209 + 0x04:word32] = 135066676;
	Mem99[esp_209 + 0x00:word32] = 0x0817E8C0;
	ftp_command(ebp_208, dwArg00, dwArg04, dwArg08);
	Mem103[esp_209 + 0x00:word32] = 0x0817E8C0;
	if (ftp_pasv(ebp_208, gs, dwArg00) < 0x00)
	{
		Mem108[esp_209 + 0x00:word32] = 0x0817E8C0;
		ftp_quit(ebp_208, dwArg00);
		return;
	}
	if (Mem103[Mem103[ebp_208 + 0x08:word32] + 0x14:word32] != 0x00 && (byte) ((word32) Mem103[Mem103[Mem103[ebp_208 + 0x08:word32] + 0x14:word32] + 0x00:byte]) != 0x00)
	{
		word32 ebx_133 = Mem103[Mem103[ebp_208 + 0x08:word32] + 0x14:word32];
		Mem136[esp_209 + 0x00:word32] = Mem103[Mem103[ebp_208 + 0x08:word32] + 0x14:word32];
		if ((byte) (word32) Mem136[ebx_133 + (strlen(Mem136[esp_209 + 0x00:(ptr char)]) - 0x01):byte] != 0x2F)
		{
			Mem146[esp_209 + 0x00:word32] = Mem136[Mem136[ebp_208 + 0x08:word32] + 0x14:word32];
			Mem148[ebp_208 - 0x28 + 0x00:word32] = file_unquote(dwArg00);
			if ((byte) (word32) Mem148[Mem148[ebp_208 - 0x28 + 0x00:word32] + 0x00:byte] == 0x2F && (byte) ((word32) Mem148[Mem148[(ebp_208 - 0x28) + 0x00:word32] + 0x01:byte]) == 0x7E)
				Mem188[ebp_208 - 0x28 + 0x00:word32] = Mem148[ebp_208 - 0x28 + 0x00:word32] + 0x01;
			Mem156[esp_209 + 0x04:word32] = Mem148[ebp_208 - 0x28 + 0x00:word32];
			Mem157[esp_209 + 0x00:word32] = 0x0817E8C0;
			Mem160[Mem157[ebp_208 + 0x0C:word32] + 0x1C:word32] = ftp_modtime(dwArg00, dwArg04);
			Mem162[esp_209 + 0x0C:word32] = ebp_208 - 0x10;
			Mem164[esp_209 + 0x08:word32] = Mem162[ebp_208 - 0x28 + 0x00:word32];
			Mem165[esp_209 + 0x04:word32] = 135066681;
			Mem166[esp_209 + 0x00:word32] = 0x0817E8C0;
			ftp_command(ebp_208, dwArg00, dwArg04, dwArg08);
			if (Mem166[ebp_208 - 0x10 + 0x00:word32] == 0x7D || Mem166[(ebp_208 - 0x10) + 0x00:word32] == 0x96)
			{
				word32 eax_174 = Mem166[0x0817E8D8:word32];
				Mem175[esp_209 + 0x04:word32] = 134885980;
				Mem176[esp_209 + 0x00:word32] = eax_174;
				newFileStream(eax_174, dwArg00, dwArg04);
				return;
			}
		}
	}
	Mem123[Mem103[ebp_208 + 0x08:word32] + 0x00:word32] = 0x03;
}

// 080A37A6: Register word32 loadFTPDir(Register word32 ebp, Register selector gs, Stack word32 dwArg08, Register out ptr32 bplOut)
word32 loadFTPDir(word32 ebp, selector gs, word32 dwArg08, ptr32 & bplOut)
{
	word32 eax_180;
	Mem20[dwArg08 + 0x00:word32] = 0x0100;
	word32 esp_13 = fp + ~0x8B;
	if (Mem20[0x0817E8D8:word32] == 0x00)
	{
		eax_180 = 0x00;
		goto l080A41A8;
	}
	Mem65[fp - 0x14 + 0x00:word32] = ftp_command(fp - 0x04, 0x0817E8C0, 135066686, 0x00);
	word32 eax_67 = Mem65[Mem65[fp - 0x14 + 0x00:word32] + 0x00:word32];
	Mem68[fp + ~0x87:word32] = 0x080CF443;
	Mem69[fp + ~0x8B:word32] = eax_67;
	if (strstr(Mem69[fp + ~0x8B:(ptr char)], Mem69[fp + ~0x87:(ptr char)]) == 0x00)
	{
		word32 eax_881 = Mem69[Mem69[fp - 0x14 + 0x00:word32] + 0x00:word32];
		Mem883[fp + ~0x83:word32] = 0x0A;
		Mem884[fp + ~0x87:word32] = 0x080CF448;
		Mem885[fp + ~0x8B:word32] = eax_881 + 0x04;
		if (strncmp(Mem885[fp + ~0x8B:(ptr char)], Mem885[fp + ~0x87:(ptr char)], Mem885[fp + ~0x83:int32]) != 0x00)
		{
			Mem890[fp - 0x1C + 0x00:word32] = 0x00;
l080A384C:
			if (Mem69[Mem69[fp + 0x04:word32] + 0x14:word32] != 0x00 && (byte) ((word32) Mem69[Mem69[Mem69[fp + 0x04:word32] + 0x14:word32] + 0x00:byte]) != 0x00)
			{
				Mem831[fp + ~0x8B:word32] = Mem69[Mem69[fp + 0x04:word32] + 0x14:word32];
				Mem833[fp - 0x20 + 0x00:word32] = file_unquote(dwArg00);
				if ((byte) (word32) Mem833[Mem833[fp - 0x20 + 0x00:word32] + 0x00:byte] == 0x2F && (byte) ((word32) Mem833[Mem833[(fp - 0x20) + 0x00:word32] + 0x01:byte]) == 0x7E)
					Mem873[fp - 0x20 + 0x00:word32] = Mem833[fp - 0x20 + 0x00:word32] + 0x01;
				if (Mem833[fp - 0x1C + 0x00:word32] == 0x01)
				{
					Mem844[fp + ~0x7F:word32] = fp - 0x18;
					Mem846[fp + ~0x83:word32] = Mem844[fp - 0x20 + 0x00:word32];
					Mem847[fp + ~0x87:word32] = 0x080CF45F;
					Mem848[fp + ~0x8B:word32] = 0x0817E8C0;
					ftp_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
					if (Mem848[fp - 0x18 + 0x00:word32] == 0xFA)
					{
						Mem854[fp + ~0x7F:word32] = fp - 0x18;
						Mem855[fp + ~0x83:word32] = 0x00;
						Mem856[fp + ~0x87:word32] = 135066707;
						Mem857[fp + ~0x8B:word32] = 0x0817E8C0;
						ftp_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
					}
				}
				else
				{
					Mem860[fp + ~0x7F:word32] = fp - 0x18;
					Mem862[fp + ~0x83:word32] = Mem860[fp - 0x20 + 0x00:word32];
					Mem863[fp + ~0x87:word32] = 0x080CF458;
					Mem864[fp + ~0x8B:word32] = 0x0817E8C0;
					ftp_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
				}
			}
			else
			{
				if (Mem69[fp - 0x1C + 0x00:word32] == 0x01)
				{
					Mem811[fp + ~0x7F:word32] = fp - 0x18;
					Mem812[fp + ~0x83:word32] = 0x00;
					Mem813[fp + ~0x87:word32] = 135066707;
					Mem814[fp + ~0x8B:word32] = 0x0817E8C0;
					ftp_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
				}
				else
				{
					Mem817[fp + ~0x7F:word32] = fp - 0x18;
					Mem818[fp + ~0x83:word32] = 0x00;
					Mem819[fp + ~0x87:word32] = 0x080CF458;
					Mem820[fp + ~0x8B:word32] = 0x0817E8C0;
					ftp_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
				}
				Mem809[Mem69[fp + 0x04:word32] + 0x14:word32] = 135066717;
			}
			if (Mem69[fp - 0x18 + 0x00:word32] != 0x7D && Mem69[(fp - 0x18) + 0x00:word32] != 0x96)
			{
				Mem797[fp + ~0x8B:word32] = Mem69[0x0817E8D8:word32];
				fclose(Mem797[fp + ~0x8B:(ptr FILE)]);
				Mem799[0x0817E8D8:word32] = 0x00;
				eax_180 = 0x00;
			}
			else
			{
				Mem89[fp + ~0x8B:word32] = Mem69[fp + 0x04:word32];
				byte bpl_91;
				Mem93[fp - 0x14 + 0x00:word32] = parsedURL2Str(dwArg00, out bpl_91);
				if (Mem93[Mem93[fp - 0x14 + 0x00:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem93[Mem93[Mem93[(fp - 0x14) + 0x00:word32] + 0x00:word32] + (Mem93[Mem93[(fp - 0x14) + 0x00:word32] + 0x04:word32] - 0x01):byte]) != 0x2F)
				{
					if (Mem93[Mem93[fp - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem93[Mem93[(fp - 0x14) + 0x00:word32] + 0x08:word32])
					{
						Mem782[fp + ~0x8B:word32] = Mem93[fp - 0x14 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_768 = Mem93[Mem93[fp - 0x14 + 0x00:word32] + 0x04:word32];
					Mem771[Mem93[Mem93[fp - 0x14 + 0x00:word32] + 0x00:word32] + eax_768:byte] = 0x2F;
					Mem774[Mem771[fp - 0x14 + 0x00:word32] + 0x04:word32] = eax_768 + 0x01;
					Mem780[Mem774[Mem774[fp - 0x14 + 0x00:word32] + 0x00:word32] + Mem774[Mem774[(fp - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				Mem100[fp + ~0x8B:word32] = Mem93[Mem93[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem102[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
				Mem105[fp + ~0x8B:word32] = Mem102[Mem102[fp - 0x14 + 0x00:word32] + 0x00:word32];
				word32 eax_106 = file_unquote(dwArg00);
				Mem107[fp + ~0x8B:word32] = eax_106;
				Strnew_charp(eax_106, dwArg00);
				Mem109[fp + ~0x7B:word32] = Mem107[fp - 0x40 + 0x00:word32];
				word32 edx_110 = Mem109[fp + 0x08:word32];
				Mem111[fp + ~0x7F:word32] = edx_110;
				Mem112[fp + ~0x83:word32] = 0x00;
				Mem113[fp + ~0x87:word32] = eax_106;
				Mem114[fp + ~0x8B:word32] = 0x00;
				Mem119[fp - 0x14 + 0x00:word32] = convertLine(fp - 0x04, dwArg04, dwArg0C, dwArg10);
				Mem122[fp + ~0x8B:word32] = Mem119[Mem119[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem124[fp - 0x28 + 0x00:word32] = html_quote(dwArg00);
				Mem125[fp + ~0x6F:word32] = 0x00;
				Mem126[fp + ~0x73:word32] = 0x080CF463;
				Mem128[fp + ~0x77:word32] = Mem126[fp - 0x28 + 0x00:word32];
				Mem129[fp + ~0x7B:word32] = 0x080CF46C;
				Mem131[fp + ~0x7F:word32] = Mem129[fp - 0x28 + 0x00:word32];
				Mem132[fp + ~0x83:word32] = 135066770;
				word32 eax_133 = Mem132[fp - 0x24 + 0x00:word32];
				Mem134[fp + ~0x87:word32] = eax_133;
				Mem135[fp + ~0x8B:word32] = 0x080CF49D;
				Strnew_m_charp(eax_133, dwArg00);
				Mem136[fp - 0x10 + 0x00:word32] = eax_133;
				Mem137[fp + ~0x87:word32] = 0x01;
				Mem138[fp + ~0x8B:word32] = 0x0817E8E0;
				word32 esi_141;
				word32 ebx_142;
				byte SCZO_143;
				word32 eax_144;
				byte SZO_145;
				byte C_146;
				byte Z_147;
				byte al_148;
				word32 edx_149;
				byte SO_150;
				word32 ecx_151;
				byte bpl_153;
				selector gs_152;
				word32 ebp_140;
				!__sigsetjmp();
				if (eax_144 != 0x00)
				{
					if (Mem138[ebp_140 - 0x18 + 0x00:word32] == 0x01)
					{
						Mem201[esp_13 + 0x04:word32] = 0x080CF4B8;
						Mem203[esp_13 + 0x00:word32] = Mem201[ebp_140 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					else
					{
						Mem204[esp_13 + 0x04:word32] = 0x080CF4C4;
						Mem206[esp_13 + 0x00:word32] = Mem204[ebp_140 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					Mem198[esp_13 + 0x04:word32] = 0x080CF4CF;
					Mem200[esp_13 + 0x00:word32] = Mem198[ebp_140 - 0x0C + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				else
				{
					if ((byte) (word32) Mem138[0x080D52C5:byte] != 0x00)
					{
						Mem747[esp_13 + 0x04:word32] = 0x080A2758;
						Mem748[esp_13 + 0x00:word32] = 0x02;
						Mem750[ebp_140 - 0x38 + 0x00:word32] = mySignal(dwArg00, dwArg04);
						if ((byte) (word32) Mem750[135774799:byte] != 0x00)
							term_cbreak(gs_152);
					}
					if (Mem138[ebp_140 - 0x18 + 0x00:word32] == 0x01)
					{
						Mem741[esp_13 + 0x04:word32] = 0x080CF4E9;
						Mem743[esp_13 + 0x00:word32] = Mem741[ebp_140 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					else
					{
						Mem744[esp_13 + 0x04:word32] = 0x080CF4F0;
						Mem746[esp_13 + 0x00:word32] = Mem744[ebp_140 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					Mem218[esp_13 + 0x04:word32] = 0x080CF4FC;
					Mem220[esp_13 + 0x00:word32] = Mem218[ebp_140 - 0x0C + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
					Mem221[ebp_140 - 0x34 + 0x00:word32] = 100;
					Mem225[esp_13 + 0x00:word32] = Mem221[ebp_140 - 0x34 + 0x00:word32] << 0x02;
					word32 esi_228;
					word32 ebx_229;
					byte SCZO_230;
					word32 eax_231;
					byte SZO_232;
					byte C_233;
					byte Z_234;
					byte al_235;
					word32 edx_236;
					byte SO_237;
					word32 ecx_238;
					selector gs_239;
					byte bpl_240;
					word32 ebp_227;
					word32 esp_226;
					!GC_malloc();
					Mem241[ebp_227 - 0x28 + 0x00:word32] = eax_231;
					Mem242[ebp_227 - 0x30 + 0x00:word32] = 0x00;
					if (Mem242[ebp_227 - 0x18 + 0x00:word32] == 0x01)
					{
						Mem246[ebp_227 - 88 + 0x00:word32] = 0x14;
						while (true)
						{
							word32 eax_259 = Mem246[0x0817E8D8:word32];
							Mem260[esp_226 + 0x00:word32] = eax_259;
							Strfgets(eax_259, dwArg00);
							Mem261[ebp_227 - 0x10 + 0x00:word32] = eax_259;
							if (Mem261[Mem261[ebp_227 - 0x10 + 0x00:word32] + 0x04:word32] <= 0x00)
								break;
							Mem509[esp_226 + 0x00:word32] = Mem261[ebp_227 - 0x10 + 0x00:word32];
							Strchop(dwArg00);
							word32 eax_511 = Mem509[Mem509[ebp_227 - 0x10 + 0x00:word32] + 0x00:word32];
							Mem513[esp_226 + 0x10:word32] = ebp_227 - 0x4C;
							Mem515[esp_226 + 0x0C:word32] = ebp_227 - 0x48;
							Mem517[esp_226 + 0x08:word32] = ebp_227 - 0x44;
							Mem519[esp_226 + 0x04:word32] = ebp_227 - 0x40;
							Mem520[esp_226 + 0x00:word32] = eax_511;
							Mem522[ebp_227 - 0x54 + 0x00:word32] = ex_ftpdir_name_size_date(ebp_227, dwArg00, dwArg10);
							if (Mem522[ebp_227 - 0x54 + 0x00:word32] != 0x00)
							{
								Mem526[esp_226 + 0x04:word32] = Mem522[ebp_227 - 0x40 + 0x00:word32];
								Mem527[esp_226 + 0x00:word32] = 0x080CF520;
								if (strcmp(Mem527[esp_226 + 0x00:(ptr char)], Mem527[esp_226 + 0x04:(ptr char)]) != 0x00)
								{
									Mem533[esp_226 + 0x04:word32] = Mem527[ebp_227 - 0x40 + 0x00:word32];
									Mem534[esp_226 + 0x00:word32] = 0x080CF522;
									if (strcmp(Mem534[esp_226 + 0x00:(ptr char)], Mem534[esp_226 + 0x04:(ptr char)]) != 0x00)
									{
										Mem540[esp_226 + 0x00:word32] = Mem534[ebp_227 - 0x40 + 0x00:word32];
										Mem542[ebp_227 - 0x5C + 0x00:word32] = strlen(Mem540[esp_226 + 0x00:(ptr char)]);
										if (Mem542[ebp_227 - 0x5C + 0x00:word32] != 0x00)
										{
											if (Mem542[ebp_227 - 0x54 + 0x00:word32] == 0x01)
											{
												Mem603[ebp_227 - 0x5C + 0x00:word32] = Mem542[ebp_227 - 0x5C + 0x00:word32] + 0x01;
												Mem605[ebp_227 - 0x50 + 0x00:word32] = 135066717;
											}
											else if (Mem542[ebp_227 - 0x54 + 0x00:word32] == 0x02)
											{
												Mem609[ebp_227 - 0x5C + 0x00:word32] = Mem542[ebp_227 - 0x5C + 0x00:word32] + 0x01;
												Mem611[ebp_227 - 0x50 + 0x00:word32] = 0x080CF525;
											}
											else
												Mem612[ebp_227 - 0x50 + 0x00:word32] = 135066919;
											if (Mem542[ebp_227 - 88 + 0x00:word32] < Mem542[(ebp_227 - 0x5C) + 0x00:word32])
												Mem601[ebp_227 - 88 + 0x00:word32] = Mem542[ebp_227 - 0x5C + 0x00:word32];
											word32 ebx_554 = (Mem542[ebp_227 - 0x30 + 0x00:word32] << 0x02) + Mem542[(ebp_227 - 0x28) + 0x00:word32];
											word32 esi_556 = Mem542[ebp_227 - 0x44 + 0x00:word32];
											word32 ecx_557 = Mem542[ebp_227 - 0x4C + 0x00:word32];
											word32 edx_558 = Mem542[ebp_227 - 0x48 + 0x00:word32];
											word32 eax_559 = Mem542[ebp_227 - 0x40 + 0x00:word32];
											Mem560[esp_226 + 0x14:word32] = esi_556;
											Mem561[esp_226 + 0x10:word32] = ecx_557;
											Mem562[esp_226 + 0x0C:word32] = edx_558;
											word32 edx_563 = Mem562[ebp_227 - 0x50 + 0x00:word32];
											Mem564[esp_226 + 0x08:word32] = edx_563;
											Mem565[esp_226 + 0x04:word32] = eax_559;
											Mem566[esp_226 + 0x00:word32] = 0x080CF529;
											byte bpl_567;
											Mem570[ebx_554 + 0x00:word32] = Mem566[Sprintf(dwArg00, out bpl_567) + 0x00:word32];
											Mem572[ebp_227 - 0x30 + 0x00:word32] = Mem570[ebp_227 - 0x30 + 0x00:word32] + 0x01;
											if (Mem572[ebp_227 - 0x30 + 0x00:word32] == Mem572[(ebp_227 - 0x34) + 0x00:word32])
											{
												Mem577[ebp_227 - 0x34 + 0x00:word32] = Mem572[ebp_227 - 0x34 + 0x00:word32] << 0x01;
												Mem581[esp_226 + 0x04:word32] = Mem577[ebp_227 - 0x34 + 0x00:word32] << 0x02;
												word32 eax_582 = Mem581[ebp_227 - 0x28 + 0x00:word32];
												Mem583[esp_226 + 0x00:word32] = eax_582;
												word32 esi_586;
												word32 ebx_587;
												byte SCZO_588;
												word32 eax_589;
												byte SZO_590;
												byte C_591;
												byte Z_592;
												byte al_593;
												word32 edx_594;
												byte SO_595;
												word32 ecx_596;
												selector gs_597;
												byte bpl_598;
												!GC_realloc();
												Mem599[ebp_227 - 0x28 + 0x00:word32] = eax_589;
											}
										}
									}
								}
							}
						}
						word32 eax_266 = Mem261[ebp_227 - 0x30 + 0x00:word32];
						Mem267[esp_226 + 0x0C:word32] = 134948483;
						Mem268[esp_226 + 0x08:word32] = 0x04;
						Mem269[esp_226 + 0x04:word32] = eax_266;
						word32 eax_270 = Mem269[ebp_227 - 0x28 + 0x00:word32];
						Mem271[esp_226 + 0x00:word32] = eax_270;
						word32 esi_274;
						word32 ebx_275;
						byte SCZO_276;
						word32 eax_277;
						byte SZO_278;
						byte C_279;
						byte Z_280;
						byte al_281;
						word32 edx_282;
						byte SO_283;
						word32 ecx_284;
						byte bpl_286;
						!qsort();
						Mem287[ebp_140 - 0x60 + 0x00:word32] = 0x00;
						while (Mem287[ebp_140 - 0x60 + 0x00:word32] < Mem287[(ebp_140 - 0x30) + 0x00:word32])
						{
							Mem305[ebp_140 - 0x20 + 0x00:word32] = Mem287[ebp_140 - 0x28 + 0x00:word32][Mem287[ebp_140 - 0x60 + 0x00:word32] * 0x04];
							Mem306[esp_13 + 0x04:word32] = 0x0A;
							Mem308[esp_13 + 0x00:word32] = Mem306[ebp_140 - 0x20 + 0x00:word32];
							Mem310[ebp_140 - 0x48 + 0x00:word32] = strchr(Mem308[esp_13 + 0x00:(ptr char)], Mem308[esp_13 + 0x04:char]);
							if ((byte) (word32) Mem310[Mem310[ebp_140 - 0x48 + 0x00:word32] - 0x01 + 0x00:byte] == 0x2F)
							{
								Mem489[ebp_140 - 0x54 + 0x00:word32] = 0x01;
								Mem491[Mem489[ebp_140 - 0x48 + 0x00:word32] + 0x00:byte] = 0x00;
							}
							else if ((byte) (word32) Mem310[Mem310[ebp_140 - 0x48 + 0x00:word32] - 0x01 + 0x00:byte] == 0x40)
							{
								Mem498[ebp_140 - 0x54 + 0x00:word32] = 0x02;
								Mem502[Mem498[ebp_140 - 0x48 + 0x00:word32] - 0x01 + 0x00:byte] = 0x00;
							}
							else
							{
								Mem503[ebp_140 - 0x54 + 0x00:word32] = 0x03;
								Mem507[Mem503[ebp_140 - 0x48 + 0x00:word32] - 0x01 + 0x00:byte] = 0x00;
							}
							Mem321[ebp_140 - 0x48 + 0x00:word32] = Mem310[ebp_140 - 0x48 + 0x00:word32] + 0x01;
							word32 eax_322 = Mem321[ebp_140 - 0x20 + 0x00:word32];
							Mem323[esp_13 + 0x00:word32] = eax_322;
							Strnew_charp(eax_322, dwArg00);
							Mem325[esp_13 + 0x10:word32] = Mem323[ebp_140 - 0x3C + 0x00:word32];
							Mem327[esp_13 + 0x0C:word32] = Mem325[ebp_140 + 0x0C:word32];
							Mem328[esp_13 + 0x08:word32] = 0x00;
							Mem329[esp_13 + 0x04:word32] = eax_322;
							Mem330[esp_13 + 0x00:word32] = 0x00;
							Mem332[ebp_140 - 0x10 + 0x00:word32] = convertLine(ebp_140, dwArg04, dwArg0C, dwArg10);
							if (Mem332[ebp_140 - 0x54 + 0x00:word32] == 0x02)
							{
								if (Mem332[Mem332[ebp_140 - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem332[Mem332[(ebp_140 - 0x10) + 0x00:word32] + 0x08:word32])
								{
									Mem488[esp_13 + 0x00:word32] = Mem332[ebp_140 - 0x10 + 0x00:word32];
									Strgrow(dwArg00);
								}
								word32 eax_474 = Mem332[Mem332[ebp_140 - 0x10 + 0x00:word32] + 0x04:word32];
								Mem477[Mem332[Mem332[ebp_140 - 0x10 + 0x00:word32] + 0x00:word32] + eax_474:byte] = 0x40;
								Mem480[Mem477[ebp_140 - 0x10 + 0x00:word32] + 0x04:word32] = eax_474 + 0x01;
								Mem486[Mem480[Mem480[ebp_140 - 0x10 + 0x00:word32] + 0x00:word32] + Mem480[Mem480[(ebp_140 - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
							}
							Mem341[esp_13 + 0x00:word32] = Mem332[Mem332[ebp_140 - 0x10 + 0x00:word32] + 0x00:word32];
							word32 eax_342 = html_quote(dwArg00);
							Mem345[esp_13 + 0x00:word32] = Mem341[ebp_140 - 0x20 + 0x00:word32];
							Mem347[esp_13 + 0x00:word32] = file_quote(dwArg00);
							word32 eax_348 = html_quote(dwArg00);
							Mem349[esp_13 + 0x18:word32] = 0x00;
							Mem350[esp_13 + 0x14:word32] = 0x080CF538;
							Mem351[esp_13 + 0x10:word32] = eax_342;
							Mem352[esp_13 + 0x0C:word32] = 0x080CF53D;
							Mem353[esp_13 + 0x08:word32] = eax_348;
							Mem354[esp_13 + 0x04:word32] = 0x080CF540;
							Mem356[esp_13 + 0x00:word32] = Mem354[ebp_140 - 0x0C + 0x00:word32];
							Strcat_m_charp(dwArg00);
							Mem359[esp_13 + 0x00:word32] = Mem356[Mem356[ebp_140 - 0x10 + 0x00:word32] + 0x00:word32];
							Mem361[ebp_140 - 44 + 0x00:word32] = wtf_strwidth(dwArg00);
							while (Mem361[ebp_140 - 44 + 0x00:word32] <= Mem361[(ebp_140 - 88) + 0x00:word32])
							{
								word32 eax_394 = Mem361[ebp_140 - 88 + 0x00:word32];
								word32 edx_397 = eax_394 >> 0x1F >>u 0x1F;
								if ((byte) ((eax_394 + edx_397 & 0x01) - edx_397 + Mem361[(ebp_140 - 44) + 0x00:word32] & 0x01) != 0x00)
								{
									if (Mem361[Mem361[ebp_140 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem361[Mem361[(ebp_140 - 0x0C) + 0x00:word32] + 0x08:word32])
									{
										Mem438[esp_13 + 0x00:word32] = Mem361[ebp_140 - 0x0C + 0x00:word32];
										Strgrow(dwArg00);
									}
									word32 eax_424 = Mem361[Mem361[ebp_140 - 0x0C + 0x00:word32] + 0x04:word32];
									Mem427[Mem361[Mem361[ebp_140 - 0x0C + 0x00:word32] + 0x00:word32] + eax_424:byte] = 0x2E;
									Mem430[Mem427[ebp_140 - 0x0C + 0x00:word32] + 0x04:word32] = eax_424 + 0x01;
									Mem436[Mem430[Mem430[ebp_140 - 0x0C + 0x00:word32] + 0x00:word32] + Mem430[Mem430[(ebp_140 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
								}
								else
								{
									if (Mem361[Mem361[ebp_140 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem361[Mem361[(ebp_140 - 0x0C) + 0x00:word32] + 0x08:word32])
									{
										Mem463[esp_13 + 0x00:word32] = Mem361[ebp_140 - 0x0C + 0x00:word32];
										Strgrow(dwArg00);
									}
									word32 eax_449 = Mem361[Mem361[ebp_140 - 0x0C + 0x00:word32] + 0x04:word32];
									Mem452[Mem361[Mem361[ebp_140 - 0x0C + 0x00:word32] + 0x00:word32] + eax_449:byte] = 0x20;
									Mem455[Mem452[ebp_140 - 0x0C + 0x00:word32] + 0x04:word32] = eax_449 + 0x01;
									Mem461[Mem455[Mem455[ebp_140 - 0x0C + 0x00:word32] + 0x00:word32] + Mem455[Mem455[(ebp_140 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
								}
								Mem412[ebp_140 - 44 + 0x00:word32] = Mem361[ebp_140 - 44 + 0x00:word32] + 0x01;
							}
							word32 eax_371 = Mem361[ebp_140 - 0x48 + 0x00:word32];
							Mem372[esp_13 + 0x00:word32] = eax_371;
							Strnew_charp(eax_371, dwArg00);
							Mem374[esp_13 + 0x10:word32] = Mem372[ebp_140 - 0x3C + 0x00:word32];
							Mem376[esp_13 + 0x0C:word32] = Mem374[ebp_140 + 0x0C:word32];
							Mem377[esp_13 + 0x08:word32] = 0x00;
							Mem378[esp_13 + 0x04:word32] = eax_371;
							Mem379[esp_13 + 0x00:word32] = 0x00;
							Mem381[ebp_140 - 0x10 + 0x00:word32] = convertLine(ebp_140, dwArg04, dwArg0C, dwArg10);
							Mem384[esp_13 + 0x00:word32] = Mem381[Mem381[ebp_140 - 0x10 + 0x00:word32] + 0x00:word32];
							word32 eax_385 = html_quote(dwArg00);
							Mem386[esp_13 + 0x0C:word32] = 0x00;
							Mem387[esp_13 + 0x08:word32] = 0x080CF54A;
							Mem388[esp_13 + 0x04:word32] = eax_385;
							Mem390[esp_13 + 0x00:word32] = Mem388[ebp_140 - 0x0C + 0x00:word32];
							Strcat_m_charp(dwArg00);
							Mem392[ebp_140 - 0x60 + 0x00:word32] = Mem390[ebp_140 - 0x60 + 0x00:word32] + 0x01;
						}
						Mem298[esp_13 + 0x04:word32] = 0x080CF54C;
						Mem300[esp_13 + 0x00:word32] = Mem298[ebp_140 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					else
					{
						while (true)
						{
							word32 eax_625 = Mem242[0x0817E8D8:word32];
							Mem626[esp_226 + 0x00:word32] = eax_625;
							Strfgets(eax_625, dwArg00);
							Mem627[ebp_227 - 0x10 + 0x00:word32] = eax_625;
							if (Mem627[Mem627[ebp_227 - 0x10 + 0x00:word32] + 0x04:word32] <= 0x00)
								break;
							Mem701[esp_226 + 0x00:word32] = Mem627[ebp_227 - 0x10 + 0x00:word32];
							Strchop(dwArg00);
							word32 ebx_705 = (Mem701[ebp_227 - 0x30 + 0x00:word32] << 0x02) + Mem701[(ebp_227 - 0x28) + 0x00:word32];
							Mem709[esp_226 + 0x00:word32] = Mem701[Mem701[ebp_227 - 0x10 + 0x00:word32] + 0x00:word32];
							Mem711[ebx_705 + 0x00:word32] = mybasename(dwArg00);
							Mem713[ebp_227 - 0x30 + 0x00:word32] = Mem711[ebp_227 - 0x30 + 0x00:word32] + 0x01;
							if (Mem713[ebp_227 - 0x30 + 0x00:word32] == Mem713[(ebp_227 - 0x34) + 0x00:word32])
							{
								Mem718[ebp_227 - 0x34 + 0x00:word32] = Mem713[ebp_227 - 0x34 + 0x00:word32] << 0x01;
								Mem722[esp_226 + 0x04:word32] = Mem718[ebp_227 - 0x34 + 0x00:word32] << 0x02;
								word32 eax_723 = Mem722[ebp_227 - 0x28 + 0x00:word32];
								Mem724[esp_226 + 0x00:word32] = eax_723;
								word32 esi_727;
								word32 ebx_728;
								byte SCZO_729;
								word32 eax_730;
								byte SZO_731;
								byte C_732;
								byte Z_733;
								byte al_734;
								word32 edx_735;
								byte SO_736;
								word32 ecx_737;
								selector gs_738;
								byte bpl_739;
								!GC_realloc();
								Mem740[ebp_227 - 0x28 + 0x00:word32] = eax_730;
							}
						}
						word32 eax_632 = Mem627[ebp_227 - 0x30 + 0x00:word32];
						Mem633[esp_226 + 0x0C:word32] = 134948483;
						Mem634[esp_226 + 0x08:word32] = 0x04;
						Mem635[esp_226 + 0x04:word32] = eax_632;
						word32 eax_636 = Mem635[ebp_227 - 0x28 + 0x00:word32];
						Mem637[esp_226 + 0x00:word32] = eax_636;
						word32 esi_640;
						word32 ebx_641;
						byte SCZO_642;
						word32 eax_643;
						byte SZO_644;
						byte C_645;
						byte Z_646;
						byte al_647;
						word32 edx_648;
						byte SO_649;
						word32 ecx_650;
						byte bpl_652;
						!qsort();
						Mem653[ebp_140 - 44 + 0x00:word32] = 0x00;
						while (Mem653[ebp_140 - 44 + 0x00:word32] < Mem653[(ebp_140 - 0x30) + 0x00:word32])
						{
							Mem667[ebp_140 - 0x20 + 0x00:word32] = Mem653[ebp_140 - 0x28 + 0x00:word32][Mem653[ebp_140 - 44 + 0x00:word32] * 0x04];
							word32 eax_668 = Mem667[ebp_140 - 0x20 + 0x00:word32];
							Mem669[esp_13 + 0x00:word32] = eax_668;
							Strnew_charp(eax_668, dwArg00);
							Mem671[esp_13 + 0x10:word32] = Mem669[ebp_140 - 0x3C + 0x00:word32];
							Mem673[esp_13 + 0x0C:word32] = Mem671[ebp_140 + 0x0C:word32];
							Mem674[esp_13 + 0x08:word32] = 0x00;
							Mem675[esp_13 + 0x04:word32] = eax_668;
							Mem676[esp_13 + 0x00:word32] = 0x00;
							Mem678[ebp_140 - 0x10 + 0x00:word32] = convertLine(ebp_140, dwArg04, dwArg0C, dwArg10);
							Mem681[esp_13 + 0x00:word32] = Mem678[Mem678[ebp_140 - 0x10 + 0x00:word32] + 0x00:word32];
							word32 eax_682 = html_quote(dwArg00);
							Mem685[esp_13 + 0x00:word32] = Mem681[ebp_140 - 0x20 + 0x00:word32];
							Mem687[esp_13 + 0x00:word32] = file_quote(dwArg00);
							word32 eax_688 = html_quote(dwArg00);
							Mem689[esp_13 + 0x18:word32] = 0x00;
							Mem690[esp_13 + 0x14:word32] = 0x080CF554;
							Mem691[esp_13 + 0x10:word32] = eax_682;
							Mem692[esp_13 + 0x0C:word32] = 0x080CF53D;
							Mem693[esp_13 + 0x08:word32] = eax_688;
							Mem694[esp_13 + 0x04:word32] = 0x080CF55A;
							Mem696[esp_13 + 0x00:word32] = Mem694[ebp_140 - 0x0C + 0x00:word32];
							Strcat_m_charp(dwArg00);
							Mem698[ebp_140 - 44 + 0x00:word32] = Mem696[ebp_140 - 44 + 0x00:word32] + 0x01;
						}
						Mem659[esp_13 + 0x04:word32] = 0x080CF568;
						Mem661[esp_13 + 0x00:word32] = Mem659[ebp_140 - 0x0C + 0x00:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
				}
				Mem167[esp_13 + 0x04:word32] = 0x080CF56F;
				Mem169[esp_13 + 0x00:word32] = Mem167[ebp_140 - 0x0C + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				if ((byte) (word32) Mem169[0x080D52C5:byte] != 0x00)
				{
					if ((byte) (word32) Mem169[135774799:byte] != 0x00)
						term_raw(gs_152);
					if (Mem169[ebp_140 - 0x38 + 0x00:word32] != 0x00)
					{
						Mem192[esp_13 + 0x04:word32] = Mem169[ebp_140 - 0x38 + 0x00:word32];
						Mem193[esp_13 + 0x00:word32] = 0x02;
						mySignal(dwArg00, dwArg04);
					}
				}
				Mem179[esp_13 + 0x00:word32] = Mem169[0x0817E8D8:word32];
				closeFTPdata(dwArg00);
				eax_180 = Mem179[ebp_140 - 0x0C + 0x00:word32];
			}
l080A41A8:
			byte bpl_46;
			*bplOut = (byte) Mem20[esp_13 - ~0x87 + 0x00:word32];
			return eax_180;
		}
	}
	Mem879[fp - 0x1C + 0x00:word32] = 0x01;
	goto l080A384C;
}

// 080A41AF: void disconnectFTP()
void disconnectFTP()
{
	ftp_quit(fp - 0x04, 0x0817E8C0);
}

// 080A41C3: Register word32 ex_ftpdir_name_size_date(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg14)
word32 ex_ftpdir_name_size_date(word32 ebp, word32 dwArg04, word32 dwArg14)
{
	word32 ebp_259 = fp - 0x04;
	word32 esp_12 = fp - 0x3C;
	if (strlen(dwArg04) >u 0x0A && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg04 + 0x0A:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
	{
		word32 dwLoc14_62 = dwArg04 + 11;
		while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_62 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem0[dwLoc14_62 + 0x00:byte]) != 0x00)
			dwLoc14_62 = dwLoc14_62 + 0x01;
		if ((byte) (word32) Mem0[dwLoc14_62 + 0x00:byte] != 0x00)
		{
			while ((byte) (word32) Mem0[dwLoc14_62 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_62 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
				dwLoc14_62 = dwLoc14_62 + 0x01;
			if ((byte) (word32) Mem0[dwLoc14_62 + 0x00:byte] != 0x00)
			{
				word32 dwLoc14_116 = dwLoc14_62 + 0x01;
				while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_116 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem0[dwLoc14_116 + 0x00:byte]) != 0x00)
					dwLoc14_116 = dwLoc14_116 + 0x01;
				if ((byte) (word32) Mem0[dwLoc14_116 + 0x00:byte] != 0x00)
				{
					while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_116 + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00 && (byte) ((word32) Mem0[dwLoc14_116 + 0x00:byte]) != 0x00)
						dwLoc14_116 = dwLoc14_116 + 0x01;
					if ((byte) (word32) Mem0[dwLoc14_116 + 0x00:byte] != 0x00)
					{
						word32 dwLoc14_157 = dwLoc14_116 + 0x01;
						while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_157 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem0[dwLoc14_157 + 0x00:byte]) != 0x00)
							dwLoc14_157 = dwLoc14_157 + 0x01;
						if ((byte) (word32) Mem0[dwLoc14_157 + 0x00:byte] != 0x00)
						{
							while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_157 + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00 && (byte) ((word32) Mem0[dwLoc14_157 + 0x00:byte]) != 0x00)
								dwLoc14_157 = dwLoc14_157 + 0x01;
							if ((byte) (word32) Mem0[dwLoc14_157 + 0x00:byte] != 0x00)
							{
								word32 dwLoc14_198 = dwLoc14_157 + 0x01;
								while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_198 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem0[dwLoc14_198 + 0x00:byte]) != 0x00)
									dwLoc14_198 = dwLoc14_198 + 0x01;
								if ((byte) (word32) Mem0[dwLoc14_198 + 0x00:byte] != 0x00)
								{
									word32 dwLoc24_221 = 0x00;
									word32 dwLoc20_222 = 0x00;
									dwLoc14_226 = dwLoc14_198;
									while (true)
									{
										word32 dwLoc14_226;
										if ((byte) (word32) Mem0[dwLoc14_226 + 0x00:byte] == 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_226 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
											break;
										word32 ecx_636 = (int32) (byte) (word32) Mem0[dwLoc14_226 + 0x00:byte];
										word64 edx_eax_644 = SEQ(dwLoc20_222 *s 0x0A + dwLoc24_221 *s 0x00 + SLICE(dwLoc24_221 *u 0x0A, word32, 32) + (ecx_636 >> 0x1F) + (ecx_636 <u 0x0A), ecx_636 + ~0x25);
										dwLoc24_221 = (word32) (edx_eax_644 + 0xFFFFFFFFD0);
										dwLoc20_222 = SLICE(edx_eax_644 + 0xFFFFFFFFD0, word32, 32);
										dwLoc14_226 = dwLoc14_226 + 0x01;
									}
									if ((byte) (word32) Mem0[dwLoc14_226 + 0x00:byte] != 0x00)
									{
										if ((byte) (word32) Mem0[dwLoc14_226 + 0x00:byte] != 44)
										{
											word32 edx_608 = Mem0[size_int2str(dwLoc24_221, dwLoc20_222, out esp_12, out ebp_259) + 0x00:word32];
											Mem610[Mem0[ebp_259 + 0x18:word32] + 0x00:word32] = edx_608;
											goto l080A4531;
										}
										word32 dwLoc14_530 = dwLoc14_226 + 0x01;
										while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_530 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem0[dwLoc14_530 + 0x00:byte]) != 0x00)
											dwLoc14_530 = dwLoc14_530 + 0x01;
										if ((byte) (word32) Mem0[dwLoc14_530 + 0x00:byte] != 0x00)
										{
											while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_530 + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00 && (byte) ((word32) Mem0[dwLoc14_530 + 0x00:byte]) != 0x00)
												dwLoc14_530 = dwLoc14_530 + 0x01;
											if ((byte) (word32) Mem0[dwLoc14_530 + 0x00:byte] != 0x00)
											{
												Mem582[dwArg14 + 0x00:word32] = allocStr(dwLoc14_198, dwLoc14_530 - dwLoc14_198);
l080A4531:
												Mem262[ebp_259 - 0x10 + 0x00:word32] = Mem0[ebp_259 - 0x10 + 0x00:word32] + 0x01;
												Mem265[ebp_259 - 0x14 + 0x00:word32] = Mem262[ebp_259 - 0x10 + 0x00:word32];
												while (((word32) (byte) (word32) Mem265[(word32) (byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem265[Mem265[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
													Mem527[ebp_259 - 0x10 + 0x00:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x01;
												if ((byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
												{
													while (((word32) (byte) (word32) Mem265[(word32) (byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00 && (byte) ((word32) Mem265[Mem265[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
														Mem518[ebp_259 - 0x10 + 0x00:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x01;
													if ((byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
													{
														while (((word32) (byte) (word32) Mem265[(word32) (byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem265[Mem265[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
															Mem509[ebp_259 - 0x10 + 0x00:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x01;
														if ((byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
														{
															while (((word32) (byte) (word32) Mem265[(word32) (byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00 && (byte) ((word32) Mem265[Mem265[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
																Mem500[ebp_259 - 0x10 + 0x00:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x01;
															if ((byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
															{
																while (((word32) (byte) (word32) Mem265[(word32) (byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem265[Mem265[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
																	Mem491[ebp_259 - 0x10 + 0x00:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x01;
																if ((byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
																{
																	while (((word32) (byte) (word32) Mem265[(word32) (byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00 && (byte) ((word32) Mem265[Mem265[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
																		Mem482[ebp_259 - 0x10 + 0x00:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x01;
																	if ((byte) (word32) Mem265[Mem265[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
																	{
																		Mem380[esp_12 + 0x04:word32] = Mem265[ebp_259 - 0x10 + 0x00:word32] - Mem265[(ebp_259 - 0x14) + 0x00:word32];
																		Mem382[esp_12 + 0x00:word32] = Mem380[ebp_259 - 0x14 + 0x00:word32];
																		Mem386[Mem382[ebp_259 + 0x14:word32] + 0x00:word32] = allocStr(dwArg00, dwArg04);
																		Mem388[ebp_259 - 0x10 + 0x00:word32] = Mem386[ebp_259 - 0x10 + 0x00:word32] + 0x01;
																		while (((word32) (byte) (word32) Mem388[(word32) (byte) (word32) Mem388[Mem388[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 && (byte) ((word32) Mem388[Mem388[(ebp_259 - 0x10) + 0x00:word32] + 0x00:byte]) != 0x00)
																			Mem473[ebp_259 - 0x10 + 0x00:word32] = Mem388[ebp_259 - 0x10 + 0x00:word32] + 0x01;
																		if ((byte) (word32) Mem388[Mem388[ebp_259 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
																		{
																			word32 eax_411 = (int32) (byte) (word32) Mem388[Mem388[ebp_259 + 0x08:word32] + 0x00:byte];
																			if (eax_411 != 100)
																			{
																				if (eax_411 == 0x6C)
																				{
																					Mem418[ebp_259 - 0x0C + 0x00:word32] = 0x02;
																					Mem419[esp_12 + 0x04:word32] = 0x080CF580;
																					Mem421[esp_12 + 0x00:word32] = Mem419[ebp_259 - 0x10 + 0x00:word32];
																					Mem423[ebp_259 - 0x14 + 0x00:word32] = strstr(Mem421[esp_12 + 0x00:(ptr char)], Mem421[esp_12 + 0x04:(ptr char)]);
																					if (Mem423[ebp_259 - 0x14 + 0x00:word32] != 0x00)
																					{
																						Mem432[esp_12 + 0x04:word32] = Mem423[ebp_259 - 0x14 + 0x00:word32] - Mem423[(ebp_259 - 0x10) + 0x00:word32];
																						Mem434[esp_12 + 0x00:word32] = Mem432[ebp_259 - 0x10 + 0x00:word32];
																						Mem437[Mem434[ebp_259 + 0x0C:word32] + 0x00:word32] = allocStr(dwArg00, dwArg04);
																						Mem438[esp_12 + 0x04:word32] = ~0x00;
																						Mem440[esp_12 + 0x00:word32] = Mem438[ebp_259 - 0x14 + 0x00:word32];
																						Mem443[Mem440[ebp_259 + 0x10:word32] + 0x00:word32] = allocStr(dwArg00, dwArg04);
																						Mem445[Mem443[ebp_259 + 0x18:word32] + 0x00:word32] = 0x080CF3D8;
																					}
																				}
																				else
																				{
																					Mem446[ebp_259 - 0x0C + 0x00:word32] = 0x03;
																					Mem447[esp_12 + 0x04:word32] = ~0x00;
																					Mem449[esp_12 + 0x00:word32] = Mem447[ebp_259 - 0x10 + 0x00:word32];
																					Mem452[Mem449[ebp_259 + 0x0C:word32] + 0x00:word32] = allocStr(dwArg00, dwArg04);
																					Mem454[Mem452[ebp_259 + 0x10:word32] + 0x00:word32] = 0x080CF3D8;
																				}
																			}
																			else
																			{
																				Mem455[ebp_259 - 0x0C + 0x00:word32] = 0x01;
																				Mem456[esp_12 + 0x04:word32] = ~0x00;
																				Mem458[esp_12 + 0x00:word32] = Mem456[ebp_259 - 0x10 + 0x00:word32];
																				Mem461[Mem458[ebp_259 + 0x0C:word32] + 0x00:word32] = allocStr(dwArg00, dwArg04);
																				Mem463[Mem461[ebp_259 + 0x10:word32] + 0x00:word32] = 0x080CF3D8;
																				Mem465[Mem463[ebp_259 + 0x18:word32] + 0x00:word32] = 0x080CF3D8;
																			}
																		}
																	}
																}
															}
														}
													}
												}
												return Mem0[ebp_259 - 0x0C + 0x00:word32];
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	return Mem0[ebp_259 - 0x0C + 0x00:word32];
}

// 080A47D6: Register word32 size_int2str(Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 size_int2str(word32 dwArg04, word32 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	real64 rLoc24_132 = (real64) DPB(qwLoc34, dwArg08, 32);
	word32 dwLoc14_134 = 0x00;
	while (dwLoc14_134 <= 0x02 && Mem0[0x080CF5A0:real64] >u rLoc24_132 == 0x00)
	{
		rLoc24_132 = rLoc24_132 / Mem0[0x080CF5A0:real64];
		dwLoc14_134 = dwLoc14_134 + 0x01;
	}
	word32 dwLoc18_118;
	if (dwLoc14_134 != 0x00 && rLoc24_132 >u Mem0[0x080CF5A8:real64] == 0x00)
	{
		if (rLoc24_132 >u Mem0[0x080CF5B0:real64] != 0x00)
			dwLoc18_118 = 0x080CF58C;
		else
			dwLoc18_118 = 0x080CF593;
	}
	else
		dwLoc18_118 = 0x080CF585;
	byte bpl_65;
	Mem67[fp - 0x10 + 0x00:word32] = Sprintf(dwLoc18_118, out bpl_65);
	word32 ebp_71;
	*ebpOut = Mem67[fp - 0x04 + 0x00:word32];
	word32 esp_73;
	*espOut = fp;
	return Mem67[fp - 0x10 + 0x00:word32];
}

// 080A48C8: Register byte c2e(Stack word32 dwArg04)
byte c2e(word32 dwArg04)
{
	byte al_16;
	byte al_9 = (byte) dwArg04;
	if (al_9 > 0x40 && al_9 <= 0x5A)
		al_16 = (byte) ((word32) al_9 - 0x41);
	else if (al_9 > 0x60 && al_9 <= 122)
		al_16 = (byte) ((word32) al_9 - 0x47);
	else if (al_9 > 0x2F && al_9 <= 0x39)
		al_16 = (byte) ((word32) al_9 + 0x04);
	else if (al_9 == 0x2B)
		al_16 = 0x3E;
	else if (al_9 == 0x2F)
		al_16 = 0x3F;
	else
		al_16 = ~0x00;
	return al_16;
}

// 080A4934: Register byte ha2d(Stack word32 dwArg04, Stack word32 dwArg08)
byte ha2d(word32 dwArg04, word32 dwArg08)
{
	byte dl_9 = (byte) dwArg04;
	byte al_12 = (byte) dwArg08;
	word32 dwLoc08_15 = 0x00;
	if (dl_9 > 0x2F && dl_9 <= 0x39)
		dwLoc08_15 = (int32) dl_9 - 0x30;
	else if (dl_9 > 0x40 && dl_9 <= 0x46)
		dwLoc08_15 = (int32) dl_9 - 55;
	else if (dl_9 > 0x60 && dl_9 <= 0x66)
		dwLoc08_15 = (int32) dl_9 - 0x57;
	word32 v10_20 = dwLoc08_15 << 0x04;
	word32 dwLoc08_21 = v10_20;
	if (al_12 > 0x2F && al_12 <= 0x39)
		dwLoc08_21 = v10_20 + ((int32) al_12 - 0x30);
	else if (al_12 > 0x40 && al_12 <= 0x46)
		dwLoc08_21 = v10_20 + ((int32) al_12 - 55);
	else if (al_12 > 0x60 && al_12 <= 0x66)
		dwLoc08_21 = v10_20 + ((int32) al_12 - 0x57);
	return (byte) dwLoc08_21;
}

// 080A49E2: Register word32 decodeB(Stack word32 dwArg04)
word32 decodeB(word32 dwArg04)
{
	word32 eax_14 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_18 = strlen(eax_14);
	Strnew_size(eax_18, eax_18);
	word32 dwLoc18_15 = eax_14;
	word32 dwLoc20_22 = 0x00;
	do
	{
		word32 dwLoc1C_271 = 0x01;
		while (dwLoc1C_271 <= 0x02)
		{
			Mem241[fp - 0x13 + dwLoc1C_271:byte] = (byte) (word32) Mem0[dwLoc18_15 + 0x00:byte];
			word32 v14_242 = dwLoc18_15 + 0x01;
			dwLoc18_15 = v14_242;
			if ((byte) (word32) Mem241[v14_242 + 0x00:byte] == 0x00 || (byte) ((word32) Mem241[v14_242 + 0x00:byte]) == 0x3F)
			{
				word32 dwLoc1C_254 = dwLoc1C_271 + 0x00;
				while (dwLoc1C_254 <= 0x03)
				{
					Mem261[fp - 0x13 + dwLoc1C_254:byte] = 0x3D;
					dwLoc1C_254 = dwLoc1C_254 + 0x01;
				}
				break;
			}
			dwLoc1C_271 = dwLoc1C_271 + 0x01;
		}
		if (false)
		{
			word32 v10_227 = dwLoc20_22 + 0x01;
			dwLoc20_22 = v10_227;
			if (false)
				dwLoc20_22 = v10_227 + 0x01;
		}
		word32 dwLoc1C_225 = 0x00;
		while (dwLoc1C_225 <= 0x03)
		{
			Mem213[fp - 0x13 + dwLoc1C_225:byte] = c2e((int32) (byte) (word32) Mem0[fp - 0x13 + dwLoc1C_225:byte]);
			if ((byte) (word32) Mem213[fp - 0x13 + dwLoc1C_225:byte] == ~0x00)
			{
				Mem221[dwArg04 + 0x00:word32] = dwLoc18_15;
				return eax_18;
			}
			dwLoc1C_225 = dwLoc1C_225 + 0x01;
		}
		word32 dwLoc1C_141 = 0x00;
		while (0x03 - dwLoc20_22 > dwLoc1C_141)
		{
			if (Mem0[eax_18 + 0x04:word32] + 0x01 >= Mem0[eax_18 + 0x08:word32])
				Strgrow(eax_18);
			word32 eax_185 = Mem0[eax_18 + 0x04:word32];
			Mem191[Mem0[eax_18 + 0x00:word32] + eax_185:byte] = (byte) (word32) Mem0[fp - 0x0F + dwLoc1C_141:byte];
			Mem194[eax_18 + 0x04:word32] = eax_185 + 0x01;
			Mem200[Mem194[eax_18 + 0x00:word32] + Mem194[eax_18 + 0x04:word32]:byte] = 0x00;
			dwLoc1C_141 = dwLoc1C_141 + 0x01;
		}
	} while (dwLoc20_22 == 0x00 && ((byte) ((word32) Mem0[dwLoc18_15 + 0x00:byte]) != 0x00 && (byte) ((word32) Mem0[dwLoc18_15 + 0x00:byte]) != 0x3F));
	Mem160[dwArg04 + 0x00:word32] = dwLoc18_15;
	return eax_18;
}

// 080A4BAB: Register word32 decodeU(Stack word32 dwArg04)
word32 decodeU(word32 dwArg04)
{
	word32 eax_19 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_116 = (word32) Mem0[eax_19 + 0x00:byte];
	if ((byte) eax_116 > 0x20)
	{
		eax_116 = (word32) Mem0[eax_19 + 0x00:byte];
		if ((byte) eax_116 <= 0x5F)
		{
			word32 eax_80 = (int32) (byte) (word32) Mem0[eax_19 + 0x00:byte];
			Strnew_size(eax_80 - 0x20, eax_80 - 0x20);
			word32 dwLoc28_101 = eax_80 - 0x20;
			word32 dwLoc24_196 = eax_19 + 0x01;
			word32 dwLoc2C_100 = 0x02;
			while ((byte) (word32) Mem0[dwLoc24_196 + 0x00:byte] != 0x00 && dwLoc28_101 != 0x00)
			{
				word32 eax_123 = (int32) (byte) (word32) Mem0[dwLoc24_196 + 0x00:byte];
				word32 eax_139 = (int32) (byte) (word32) Mem0[dwLoc24_196 + 0x01:byte];
				word32 eax_126 = eax_123 - 0x20 >> 0x1F;
				word32 eax_142 = eax_139 - 0x20 >> 0x1F;
				byte al_133 = (byte) ((eax_123 - 0x20 + (eax_126 >>u 0x1A) & 0x3F) - (eax_126 >>u 0x1A));
				byte al_149 = (byte) ((eax_139 - 0x20 + (eax_142 >>u 0x1A) & 0x3F) - (eax_142 >>u 0x1A));
				if (Mem0[eax_80 - 0x1C + 0x00:word32] + 0x01 >= Mem0[(eax_80 - 0x18) + 0x00:word32])
					Strgrow(eax_80 - 0x20);
				word32 eax_162 = Mem0[eax_80 - 0x1C + 0x00:word32];
				Mem184[Mem0[eax_80 - 0x20 + 0x00:word32] + eax_162:byte] = (byte) ((word32) al_149 >> (byte) (0x06 - dwLoc2C_100) | (word32) al_133 << (byte) dwLoc2C_100);
				Mem187[eax_80 - 0x1C + 0x00:word32] = eax_162 + 0x01;
				Mem193[Mem187[eax_80 - 0x20 + 0x00:word32] + Mem187[(eax_80 - 0x1C) + 0x00:word32]:byte] = 0x00;
				if (dwLoc2C_100 == 0x06)
				{
					dwLoc24_196 = dwLoc24_196 + 0x02;
					dwLoc2C_100 = 0x02;
				}
				else
				{
					dwLoc24_196 = dwLoc24_196 + 0x01;
					dwLoc2C_100 = dwLoc2C_100 + 0x02;
				}
				dwLoc28_101 = dwLoc28_101 - 0x01;
			}
			eax_116 = eax_80 - 0x20;
			return eax_116;
		}
	}
	Strnew_size(eax_116, 0x00);
	return eax_116;
}

// 080A4D08: Register word32 decodeQ(Stack word32 dwArg04)
word32 decodeQ(word32 dwArg04)
{
	word32 eax_17 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_21 = strlen(eax_17);
	Strnew_size(eax_21, eax_21);
	word32 dwLoc10_123 = eax_17;
	while ((byte) (word32) Mem0[dwLoc10_123 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[dwLoc10_123 + 0x00:byte]) != 0x3F)
	{
		if ((byte) (word32) Mem0[dwLoc10_123 + 0x00:byte] == 0x3D)
		{
			word32 v13_84 = dwLoc10_123 + 0x01;
			if (Mem0[eax_21 + 0x04:word32] + 0x01 >= Mem0[eax_21 + 0x08:word32])
				Strgrow(eax_21);
			word32 ebx_96 = Mem0[eax_21 + 0x04:word32];
			Mem112[Mem0[eax_21 + 0x00:word32] + ebx_96:byte] = ha2d((int32) (byte) (word32) Mem0[v13_84 + 0x00:byte], (int32) (byte) (word32) Mem0[v13_84 + 0x01:byte]);
			Mem115[eax_21 + 0x04:word32] = ebx_96 + 0x01;
			Mem121[Mem115[eax_21 + 0x00:word32] + Mem115[eax_21 + 0x04:word32]:byte] = 0x00;
			dwLoc10_123 = v13_84 + 0x01;
		}
		else if ((byte) (word32) Mem0[dwLoc10_123 + 0x00:byte] == 0x5F)
		{
			if (Mem0[eax_21 + 0x04:word32] + 0x01 >= Mem0[eax_21 + 0x08:word32])
				Strgrow(eax_21);
			word32 eax_143 = Mem0[eax_21 + 0x04:word32];
			Mem146[Mem0[eax_21 + 0x00:word32] + eax_143:byte] = 0x20;
			Mem149[eax_21 + 0x04:word32] = eax_143 + 0x01;
			Mem155[Mem149[eax_21 + 0x00:word32] + Mem149[eax_21 + 0x04:word32]:byte] = 0x00;
		}
		else
		{
			if (Mem0[eax_21 + 0x04:word32] + 0x01 >= Mem0[eax_21 + 0x08:word32])
				Strgrow(eax_21);
			word32 eax_169 = Mem0[eax_21 + 0x04:word32];
			Mem176[Mem0[eax_21 + 0x00:word32] + eax_169:byte] = (byte) (word32) Mem0[dwLoc10_123 + 0x00:byte];
			Mem179[eax_21 + 0x04:word32] = eax_169 + 0x01;
			Mem185[Mem179[eax_21 + 0x00:word32] + Mem179[eax_21 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc10_123 = dwLoc10_123 + 0x01;
	}
	Mem48[dwArg04 + 0x00:word32] = dwLoc10_123;
	return eax_21;
}

// 080A4E89: Register word32 decodeQP(Stack word32 dwArg04)
word32 decodeQP(word32 dwArg04)
{
	word32 eax_17 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_21 = strlen(eax_17);
	Strnew_size(eax_21, eax_21);
	word32 dwLoc10_112 = eax_17;
	while ((byte) (word32) Mem0[dwLoc10_112 + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[dwLoc10_112 + 0x00:byte] == 0x3D)
		{
			word32 v13_84 = dwLoc10_112 + 0x01;
			dwLoc10_112 = v13_84;
			if ((byte) (word32) Mem0[v13_84 + 0x00:byte] != 0x0A && ((byte) ((word32) Mem0[v13_84 + 0x00:byte]) != 0x0D && ((byte) ((word32) Mem0[v13_84 + 0x00:byte]) != 0x20 && (byte) ((word32) Mem0[v13_84 + 0x00:byte]) != 0x09)))
			{
				if ((byte) (word32) Mem0[v13_84 + 0x00:byte] == 0x00 || (byte) ((word32) Mem0[v13_84 + 0x01:byte]) == 0x00)
					break;
				if (Mem0[eax_21 + 0x04:word32] + 0x01 >= Mem0[eax_21 + 0x08:word32])
					Strgrow(eax_21);
				word32 ebx_152 = Mem0[eax_21 + 0x04:word32];
				Mem168[Mem0[eax_21 + 0x00:word32] + ebx_152:byte] = ha2d((int32) (byte) (word32) Mem0[v13_84 + 0x00:byte], (int32) (byte) (word32) Mem0[v13_84 + 0x01:byte]);
				Mem171[eax_21 + 0x04:word32] = ebx_152 + 0x01;
				Mem177[Mem171[eax_21 + 0x00:word32] + Mem171[eax_21 + 0x04:word32]:byte] = 0x00;
				dwLoc10_112 = v13_84 + 0x01;
			}
			else
			{
				while ((byte) (word32) Mem0[dwLoc10_112 + 0x00:byte] != 0x0A && (byte) ((word32) Mem0[dwLoc10_112 + 0x00:byte]) != 0x00)
					dwLoc10_112 = dwLoc10_112 + 0x01;
				if ((byte) (word32) Mem0[dwLoc10_112 + 0x00:byte] == 0x00)
					break;
			}
		}
		else
		{
			if (Mem0[eax_21 + 0x04:word32] + 0x01 >= Mem0[eax_21 + 0x08:word32])
				Strgrow(eax_21);
			word32 eax_194 = Mem0[eax_21 + 0x04:word32];
			Mem201[Mem0[eax_21 + 0x00:word32] + eax_194:byte] = (byte) (word32) Mem0[dwLoc10_112 + 0x00:byte];
			Mem204[eax_21 + 0x04:word32] = eax_194 + 0x01;
			Mem210[Mem204[eax_21 + 0x00:word32] + Mem204[eax_21 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc10_112 = dwLoc10_112 + 0x01;
	}
	Mem51[dwArg04 + 0x00:word32] = dwLoc10_112;
	return eax_21;
}

// 080A502A: Register word32 decodeWord(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 decodeWord(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_11 = Mem0[dwArg04 + 0x00:word32];
	Strnew(eax_11);
	Strnew(eax_11);
	word32 eax_100 = (word32) Mem0[eax_11 + 0x00:byte];
	if ((byte) eax_100 == 0x3D)
	{
		eax_100 = (word32) Mem0[eax_11 + 0x01:byte];
		if ((byte) eax_100 != 0x3F)
			goto l080A51D9;
		word32 dwLoc1C_212 = eax_11 + 0x02;
		while ((byte) (word32) Mem0[dwLoc1C_212 + 0x00:byte] != 0x3F)
		{
			eax_100 = (word32) Mem0[dwLoc1C_212 + 0x00:byte];
			if ((byte) eax_100 == 0x00)
				goto l080A51D9;
			if (Mem0[eax_11 + 0x04:word32] + 0x01 >= Mem0[eax_11 + 0x08:word32])
				Strgrow(eax_11);
			word32 eax_193 = Mem0[eax_11 + 0x04:word32];
			Mem199[Mem0[eax_11 + 0x00:word32] + eax_193:byte] = (byte) (word32) Mem0[dwLoc1C_212 + 0x00:byte];
			Mem202[eax_11 + 0x04:word32] = eax_193 + 0x01;
			Mem208[Mem202[eax_11 + 0x00:word32] + Mem202[eax_11 + 0x04:word32]:byte] = 0x00;
			dwLoc1C_212 = dwLoc1C_212 + 0x01;
		}
		eax_100 = wc_guess_charset(gs, Mem0[eax_11 + 0x00:word32], 0x00);
		Mem87[fp - 0x14 + 0x00:word32] = eax_100;
		if (Mem87[fp - 0x14 + 0x00:word32] != 0x00)
		{
			Mem92[fp - 0x1C + 0x00:word32] = Mem87[fp - 0x1C + 0x00:word32] + 0x01;
			word32 eax_93 = Mem92[fp - 0x1C + 0x00:word32];
			Mem96[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem92[eax_93 + 0x00:byte];
			Mem98[fp - 0x1C + 0x00:word32] = eax_93 + 0x01;
			eax_100 = (word32) Mem98[Mem98[fp - 0x1C + 0x00:word32] + 0x00:byte];
			if ((byte) eax_100 != 0x3F)
				goto l080A51D9;
			Mem106[fp - 0x1C + 0x00:word32] = Mem98[fp - 0x1C + 0x00:word32] + 0x01;
			Mem108[fp - 0x18 + 0x00:word32] = Mem106[fp - 0x1C + 0x00:word32];
			if (((word32) (byte) (word32) Mem108[(word32) (byte) (word32) Mem108[fp - 0x0D + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
				eax_100 = (int32) (byte) ((word32) Mem108[fp - 0x0D + 0x00:byte] & ~0x20);
			else
				eax_100 = (int32) Mem108[fp - 0x0D + 0x00:byte];
			if (eax_100 != 66)
			{
				if (eax_100 != 0x51)
					goto l080A51D9;
				Mem159[fp - 0x3C + 0x00:word32] = fp - 0x1C;
				Mem162[fp - 0x20 + 0x00:word32] = decodeQ(dwArg00);
			}
			else
			{
				Mem164[fp - 0x3C + 0x00:word32] = fp - 0x1C;
				Mem166[fp - 0x20 + 0x00:word32] = decodeB(dwArg00);
			}
			eax_100 = Mem108[fp - 0x1C + 0x00:word32];
			if (Mem108[fp - 0x18 + 0x00:word32] != eax_100)
			{
				if ((byte) (word32) Mem108[Mem108[fp - 0x1C + 0x00:word32] + 0x00:byte] == 0x3F)
				{
					Mem146[fp - 0x1C + 0x00:word32] = Mem108[fp - 0x1C + 0x00:word32] + 0x01;
					if ((byte) (word32) Mem146[Mem146[fp - 0x1C + 0x00:word32] + 0x00:byte] == 0x3D)
						Mem155[fp - 0x1C + 0x00:word32] = Mem146[fp - 0x1C + 0x00:word32] + 0x01;
				}
				Mem138[Mem108[fp + 0x04:word32] + 0x00:word32] = Mem108[fp - 0x1C + 0x00:word32];
				Mem141[Mem138[fp + 0x08:word32] + 0x00:word32] = Mem138[fp - 0x14 + 0x00:word32];
				eax_100 = Mem141[fp - 0x20 + 0x00:word32];
				return eax_100;
			}
		}
	}
l080A51D9:
	Strnew(eax_100);
	return eax_100;
}

// 080A51E0: Register word32 decodeMIME(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 decodeMIME(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	Mem21[dwArg08 + 0x00:word32] = 0x00;
l080A536D:
	while (true)
	{
		word32 eax_133;
		if (Mem21[fp - 0x10 + 0x00:word32] >=u Mem21[(fp - 0x14) + 0x00:word32])
		{
			if (Mem21[fp - 0x20 + 0x00:word32] == 0x00)
				eax_133 = Mem21[fp + 0x04:word32];
			else
				eax_133 = Mem21[fp - 0x20 + 0x00:word32];
			return eax_133;
		}
		if ((byte) (word32) Mem21[Mem21[fp - 0x10 + 0x00:word32] + 0x00:byte] == 0x3D && (byte) ((word32) Mem21[Mem21[(fp - 0x10) + 0x00:word32] + 0x01:byte]) == 0x3F)
			break;
		if (Mem21[fp - 0x20 + 0x00:word32] != 0x00)
		{
			if (Mem21[Mem21[fp - 0x20 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem21[Mem21[(fp - 0x20) + 0x00:word32] + 0x08:word32])
			{
				Mem101[fp - 0x3C + 0x00:word32] = Mem21[fp - 0x20 + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_83 = Mem21[Mem21[fp - 0x20 + 0x00:word32] + 0x04:word32];
			Mem90[Mem21[Mem21[fp - 0x20 + 0x00:word32] + 0x00:word32] + eax_83:byte] = (byte) (word32) Mem21[Mem21[fp - 0x10 + 0x00:word32] + 0x00:byte];
			Mem93[Mem90[fp - 0x20 + 0x00:word32] + 0x04:word32] = eax_83 + 0x01;
			Mem99[Mem93[Mem93[fp - 0x20 + 0x00:word32] + 0x00:word32] + Mem93[Mem93[(fp - 0x20) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
		}
		Mem72[fp - 0x10 + 0x00:word32] = Mem21[fp - 0x10 + 0x00:word32] + 0x01;
	}
	if (Mem21[fp - 0x20 + 0x00:word32] == 0x00)
	{
		word32 eax_171 = Mem21[Mem21[fp + 0x04:word32] + 0x04:word32];
		Mem172[fp - 0x3C + 0x00:word32] = eax_171;
		Strnew_size(eax_171, dwArg00);
		Mem174[fp - 0x20 + 0x00:word32] = eax_171;
		word32 eax_182 = Mem174[Mem174[fp + 0x04:word32] + 0x00:word32];
		Mem183[fp - 0x34 + 0x00:word32] = Mem174[fp - 0x10 + 0x00:word32] - Mem174[Mem174[fp + 0x04:word32] + 0x00:word32];
		Mem184[fp - 0x38 + 0x00:word32] = eax_182;
		Mem186[fp - 0x3C + 0x00:word32] = Mem184[fp - 0x20 + 0x00:word32];
		Strcat_charp_n(dwArg00, dwArg04, dwArg08);
	}
	while (true)
	{
		Mem116[fp - 0x1C + 0x00:word32] = Mem21[fp - 0x10 + 0x00:word32];
		Mem118[fp - 0x38 + 0x00:word32] = Mem116[fp + 0x08:word32];
		Mem120[fp - 0x3C + 0x00:word32] = fp - 0x10;
		Mem123[fp - 0x38 + 0x00:word32] = decodeWord(fp - 0x04, gs, dwArg00);
		Mem125[fp - 0x3C + 0x00:word32] = Mem123[fp - 0x20 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		if (Mem125[fp - 0x10 + 0x00:word32] == Mem125[(fp - 0x1C) + 0x00:word32])
		{
			Mem130[fp - 0x38 + 0x00:word32] = Mem125[fp - 0x10 + 0x00:word32];
			Mem132[fp - 0x3C + 0x00:word32] = Mem130[fp - 0x20 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			eax_133 = Mem132[fp - 0x20 + 0x00:word32];
			return eax_133;
		}
		Mem136[fp - 0x18 + 0x00:word32] = Mem125[fp - 0x10 + 0x00:word32];
l080A52BB:
		word32 eax_142 = (int32) (byte) (word32) Mem136[Mem136[fp - 0x18 + 0x00:word32] + 0x00:byte];
		if (eax_142 == 0x0D)
			break;
		if (eax_142 <= 0x0D)
		{
			if (eax_142 <=u 0x0A)
				break;
			goto l080A536D;
		}
		if (eax_142 == 0x20)
			break;
		if (eax_142 != 0x3D || (byte) ((word32) Mem136[Mem136[(fp - 0x18) + 0x00:word32] + 0x01:byte]) != 0x3F)
			goto l080A536D;
		Mem169[fp - 0x10 + 0x00:word32] = Mem136[fp - 0x18 + 0x00:word32];
	}
	Mem151[fp - 0x18 + 0x00:word32] = Mem136[fp - 0x18 + 0x00:word32] + 0x01;
	goto l080A52BB;
}

// 080A5389: void encodeB(Register word32 eax, Stack word32 dwArg04)
void encodeB(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 dwLoc1C_281 = 0x00;
		word32 dwLoc18_283 = 0x00;
		while (dwLoc18_283 <= 0x02)
		{
			Mem270[fp - 0x13 + dwLoc18_283:byte] = (byte) (word32) Mem0[dwLoc18_283 + dwArg04:byte];
			if ((byte) (word32) Mem270[dwLoc18_283 + dwArg04:byte] == 0x00)
			{
				dwLoc1C_281 = 0x03 - dwLoc18_283;
				break;
			}
			dwLoc18_283 = dwLoc18_283 + 0x01;
		}
		byte bLoc0F_110;
		byte bLoc10_109;
		byte al_88 = (byte) (word32) bLoc13;
		byte al_102 = (byte) ((word32) (byte) (word32) bLoc13 << 0x04 & 0x3F);
		if (dwLoc1C_281 == 0x02)
		{
			bLoc10_109 = 0x40;
			bLoc0F_110 = 0x40;
		}
		else if (dwLoc1C_281 == 0x01)
		{
			bLoc0F_110 = 0x00;
			bLoc10_109 = 0x40;
		}
		else
		{
			bLoc0F_110 = 0x00;
			bLoc10_109 = 0x00;
		}
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_123 = Mem0[eax + 0x04:word32];
		Mem129[Mem0[eax + 0x00:word32] + eax_123:byte] = (byte) (word32) Mem0[(word32) (al_88 >>u 0x02) + 0x080D8240:byte];
		Mem132[eax + 0x04:word32] = eax_123 + 0x01;
		Mem138[Mem132[eax + 0x00:word32] + Mem132[eax + 0x04:word32]:byte] = 0x00;
		if (Mem138[eax + 0x04:word32] + 0x01 >= Mem138[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_150 = Mem138[eax + 0x04:word32];
		Mem156[Mem138[eax + 0x00:word32] + eax_150:byte] = (byte) (word32) Mem138[(word32) al_102 + 0x080D8240:byte];
		Mem159[eax + 0x04:word32] = eax_150 + 0x01;
		Mem165[Mem159[eax + 0x00:word32] + Mem159[eax + 0x04:word32]:byte] = 0x00;
		if (Mem165[eax + 0x04:word32] + 0x01 >= Mem165[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_177 = Mem165[eax + 0x04:word32];
		Mem183[Mem165[eax + 0x00:word32] + eax_177:byte] = (byte) (word32) Mem165[(word32) bLoc0F_110 + 0x080D8240:byte];
		Mem186[eax + 0x04:word32] = eax_177 + 0x01;
		Mem192[Mem186[eax + 0x00:word32] + Mem186[eax + 0x04:word32]:byte] = 0x00;
		if (Mem192[eax + 0x04:word32] + 0x01 >= Mem192[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_204 = Mem192[eax + 0x04:word32];
		Mem210[Mem192[eax + 0x00:word32] + eax_204:byte] = (byte) (word32) Mem192[(word32) bLoc10_109 + 0x080D8240:byte];
		Mem213[eax + 0x04:word32] = eax_204 + 0x01;
		Mem219[Mem213[eax + 0x00:word32] + Mem213[eax + 0x04:word32]:byte] = 0x00;
		if (dwLoc1C_281 != 0x00)
			return;
		dwArg04 = dwArg04 + 0x03;
	}
}

// 080A55D8: void set_longchar(Stack word32 dwArg04, Stack word32 dwArg08)
void set_longchar(word32 dwArg04, word32 dwArg08)
{
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] < 0x00)
	{
		word32 esp_45;
		word32 ebp_46;
		word32 ebx_47 = wtf_parse1(fp - 0x34, fp - 0x10, out esp_45, out ebp_46);
		word32 edx_51 = Mem0[ebp_46 - 44 + 0x00:word32];
		Mem52[ebp_46 - 0x18 + 0x00:word32] = Mem0[ebp_46 - 0x30 + 0x00:word32];
		Mem53[ebp_46 - 0x14 + 0x00:word32] = edx_51;
		if (Mem53[ebp_46 - 0x18 + 0x00:word32] != 0x0800 && Mem53[(ebp_46 - 0x18) + 0x00:word32] != 0x8800)
		{
			if ((Mem53[ebp_46 - 0x18 + 0x00:word32] & 0xFFFF) != 0x1000 && ((Mem53[(ebp_46 - 0x18) + 0x00:word32] & 0xFFFF) != 0x2000 && (Mem53[(ebp_46 - 0x18) + 0x00:word32] & 0xFFFF) != 0x2001))
				Mem117[ebp_46 - 0x18 + 0x00:word32] = Mem53[ebp_46 - 0x18 + 0x00:word32] & 0xFFFF;
			else
			{
				if ((Mem53[ebp_46 - 0x18 + 0x00:word32] & 0xFFFF) == 0x2001)
					Mem104[ebp_46 - 0x14 + 0x00:word32] = Mem53[ebp_46 - 0x14 + 0x00:word32] & 0x001FFFFF;
				Mem99[ebp_46 - 0x18 + 0x00:word32] = 0x2000;
			}
			Mem83[ebp_46 - 0x1C + 0x00:byte] = 0x02;
			Mem85[ebx_47 + 0x00:word32] = Mem83[ebp_46 - 0x1C + 0x00:word32];
			Mem87[ebx_47 + 0x04:word32] = Mem85[ebp_46 - 0x18 + 0x00:word32];
			Mem89[ebx_47 + 0x08:word32] = Mem87[ebp_46 - 0x14 + 0x00:word32];
			Mem91[ebx_47 + 0x0C:word32] = Mem89[ebp_46 - 0x10 + 0x00:word32];
		}
		else
		{
			Mem59[ebp_46 - 0x1C + 0x00:byte] = 0x04;
			Mem61[ebx_47 + 0x00:word32] = Mem59[ebp_46 - 0x1C + 0x00:word32];
			Mem63[ebx_47 + 0x04:word32] = Mem61[ebp_46 - 0x18 + 0x00:word32];
			Mem65[ebx_47 + 0x08:word32] = Mem63[ebp_46 - 0x14 + 0x00:word32];
			Mem67[ebx_47 + 0x0C:word32] = Mem65[ebp_46 - 0x10 + 0x00:word32];
		}
	}
	else
	{
		word32 dwLoc14_122 = DPB(dwLoc14, (byte) (word32) Mem0[dwArg08 + 0x00:byte], 0);
		Mem126[dwArg04 + 0x00:word32] = DPB(dwLoc20, 0x01, 0);
		Mem129[dwArg04 + 0x04:word32] = dwLoc1C;
		Mem132[dwArg04 + 0x08:word32] = dwLoc18;
		Mem134[dwArg04 + 0x0C:word32] = dwLoc14_122;
	}
}

// 080A56F0: Register word32 regexCompile(Stack word32 dwArg04, Stack word32 dwArg08)
word32 regexCompile(word32 dwArg04, word32 dwArg08)
{
	newRegex(dwArg08, 0x0817E980, fp - 0x10);
	return Mem0[fp - 0x10 + 0x00:word32];
}

// 080A571C: Register word32 newRegex0(Register word32 eax, Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg0C, Register out ptr32 ebpOut)
word32 newRegex0(word32 eax, word32 ebp, word32 dwArg04, word32 dwArg0C, ptr32 & ebpOut)
{
	word32 ebp_205 = fp - 0x04;
	word32 esp_204 = fp - 0x5C;
	if (dwArg0C == 0x00)
	{
		word32 ebx_206;
		byte SCZO_207;
		byte Z_208;
		word32 eax_209;
		byte al_210;
		byte SZO_211;
		byte C_212;
		word32 edx_213;
		byte dl_214;
		byte CZ_215;
		!GC_malloc();
		dwArg0C = eax_209;
	}
	Mem33[dwArg0C + 4616:word32] = 0x00;
	while (true)
	{
		word32 eax_178;
		if ((byte) (word32) Mem33[Mem33[ebp_205 - 0x0C + 0x00:word32] + 0x00:byte] == 0x00)
			break;
		Mem99[Mem33[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] = 0x00;
		word32 eax_103 = (int32) (byte) (word32) Mem99[Mem99[ebp_205 - 0x0C + 0x00:word32] + 0x00:byte];
		if (eax_103 <=u 0x7C)
		{
			word32 eax_108 = 0x080CF608[(eax_103 - 0x24) * 0x04];
			word32 esp_110;
			word32 ebp_111;
			word32 ebx_112;
			byte SCZO_113;
			byte Z_114;
			word32 eax_115;
			byte al_116;
			byte SZO_117;
			byte C_118;
			word32 edx_119;
			byte dl_120;
			byte CZ_121;
			eax_108();
			return eax_115;
		}
		word32 ebx_123 = Mem99[ebp_205 - 0x1C + 0x00:word32];
		Mem125[esp_204 + 0x04:word32] = Mem99[ebp_205 - 0x0C + 0x00:word32];
		Mem126[esp_204 + 0x00:word32] = ebp_205 - 0x38;
		set_longchar(dwArg00, dwArg04);
		Mem131[ebx_123 + 0x00:word32] = Mem126[ebp_205 - 0x38 + 0x00:word32];
		Mem133[ebx_123 + 0x04:word32] = Mem131[ebp_205 - 0x34 + 0x00:word32];
		Mem135[ebx_123 + 0x08:word32] = Mem133[ebp_205 - 0x30 + 0x00:word32];
		Mem137[ebx_123 + 0x0C:word32] = Mem135[ebp_205 - 44 + 0x00:word32];
		Mem148[ebp_205 - 0x0C + 0x00:word32] = Mem137[ebp_205 - 0x0C + 0x00:word32] + ((word32) ((byte) ((word32) Mem137[(word32) ((byte) ((word32) Mem137[Mem137[(ebp_205 - 0x0C) + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte])) - 0x01);
		Mem151[Mem148[ebp_205 - 0x14 + 0x00:word32] + 0x00:word32] = Mem148[ebp_205 - 0x1C + 0x00:word32];
		Mem153[ebp_205 - 0x1C + 0x00:word32] = Mem151[ebp_205 - 0x1C + 0x00:word32] + 0x10;
		Mem160[Mem153[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] = (byte) ((word32) Mem153[Mem153[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] & ~0x07);
		if (Mem160[ebp_205 + 0x0C:word32] != 0x00)
			Mem198[Mem160[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] = (byte) ((word32) Mem160[Mem160[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] | 0x40);
		Mem168[ebp_205 - 0x14 + 0x00:word32] = Mem160[ebp_205 - 0x14 + 0x00:word32] + 0x08;
		if (Mem168[ebp_205 + 0x10:word32] + 0x1200 <=u Mem168[(ebp_205 - 0x1C) + 0x00:word32] || Mem168[ebp_205 + 0x10:word32] + 0x0200 <=u Mem168[(ebp_205 - 0x14) + 0x00:word32])
		{
			if (Mem168[ebp_205 + 0x14:word32] != 0x00)
				Mem181[Mem168[ebp_205 + 0x14:word32] + 0x00:word32] = 0x080CF5DD;
			eax_178 = 0x00;
			goto l080A5D66;
		}
		Mem189[ebp_205 - 0x0C + 0x00:word32] = Mem168[ebp_205 - 0x0C + 0x00:word32] + 0x01;
	}
	Mem88[Mem33[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] = (byte) ((word32) Mem33[Mem33[ebp_205 - 0x14 + 0x00:word32] + 0x04:byte] | 0x07);
	if (Mem88[ebp_205 + 0x14:word32] != 0x00)
		Mem97[Mem88[ebp_205 + 0x14:word32] + 0x00:word32] = 0x00;
	Mem93[Mem88[ebp_205 + 0x08:word32] + 0x00:word32] = Mem88[ebp_205 - 0x0C + 0x00:word32];
	eax_178 = Mem93[ebp_205 + 0x10:word32];
l080A5D66:
	word32 ebp_80;
	*ebpOut = Mem33[ebp_205 + 0x00:word32];
	return eax_178;
}

// 080A5D6B: Register word32 newRegex(Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 newRegex(word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 ebp_20;
	return newRegex0(fp + 0x04, fp - 0x04, fp + 0x04, dwArg0C, out ebp_20);
}

// 080A5D9B: Register word32 regexMatch(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 regexMatch(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	return RegexMatch(fp - 0x04, 0x0817E980, dwArg04, dwArg08);
}

// 080A5DC4: Register word32 RegexMatch(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 RegexMatch(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_145;
	if (dwArg08 == 0x00)
		eax_145 = 0x00;
	else
	{
		if (dwArg0C < 0x00)
			strlen(dwArg08);
		Mem46[dwArg04 + 0x1200:word32] = 0x00;
		while (Mem46[fp - 0x10 + 0x00:word32] <=u Mem46[(fp - 0x14) + 0x00:word32])
		{
			Mem65[fp - 0x18 + 0x00:word32] = 0x00;
			Mem67[Mem65[fp + 0x04:word32] + 0x1204:word32] = 0x00;
			Mem69[fp - 0x1C + 0x00:word32] = Mem67[fp + 0x04:word32];
			while (Mem69[fp - 0x1C + 0x00:word32] != 0x00)
			{
				word32 eax_100;
				if (Mem69[fp + 0x10:word32] != 0x00 && Mem69[(fp - 0x10) + 0x00:word32] == Mem69[fp + 0x08:word32])
					eax_100 = 0x01;
				else
					eax_100 = 0x00;
				word32 edx_101 = Mem69[fp - 0x1C + 0x00:word32];
				Mem103[fp - 44 + 0x00:word32] = fp - 0x18;
				Mem104[fp - 0x30 + 0x00:word32] = eax_100;
				Mem106[fp - 0x34 + 0x00:word32] = Mem104[fp - 0x14 + 0x00:word32];
				Mem108[fp - 0x38 + 0x00:word32] = Mem106[fp - 0x10 + 0x00:word32];
				Mem109[fp - 0x3C + 0x00:word32] = edx_101;
				word32 eax_111 = regmatch(fp - 0x04, dwArg10);
				if (eax_111 == ~0x00)
				{
					Mem144[Mem109[fp + 0x04:word32] + 0x1200:word32] = 0x00;
					eax_145 = ~0x00;
					return eax_145;
				}
				if (eax_111 == 0x01)
				{
					Mem127[Mem109[fp + 0x04:word32] + 0x1200:word32] = Mem109[fp - 0x10 + 0x00:word32];
					if (Mem127[Mem127[fp + 0x04:word32] + 0x1204:word32] == 0x00 || Mem127[Mem127[fp + 0x04:word32] + 0x1204:word32] <u Mem127[(fp - 0x18) + 0x00:word32])
						Mem137[Mem127[fp + 0x04:word32] + 0x1204:word32] = Mem127[fp - 0x18 + 0x00:word32];
				}
				Mem124[fp - 0x1C + 0x00:word32] = Mem109[Mem109[fp - 0x1C + 0x00:word32] + 4616:word32];
			}
			if (Mem69[Mem69[fp + 0x04:word32] + 0x1204:word32] != 0x00)
			{
				eax_145 = 0x01;
				return eax_145;
			}
			Mem94[fp - 0x10 + 0x00:word32] = Mem69[fp - 0x10 + 0x00:word32] + ((word32) ((byte) ((word32) Mem69[(word32) ((byte) ((word32) Mem69[Mem69[(fp - 0x10) + 0x00:word32] + 0x00:byte])) + 0x08179AE0:byte])) - 0x01);
			Mem96[fp - 0x10 + 0x00:word32] = Mem94[fp - 0x10 + 0x00:word32] + 0x01;
		}
		eax_145 = 0x00;
	}
	return eax_145;
}

// 080A5F1C: void MatchedPosition(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void MatchedPosition(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem12[dwArg08 + 0x00:word32] = Mem0[dwArg04 + 0x1200:word32];
	Mem17[dwArg0C + 0x00:word32] = Mem12[dwArg04 + 0x1204:word32];
}

// 080A5F3D: void matchedPosition(Stack word32 dwArg04, Stack word32 dwArg08)
void matchedPosition(word32 dwArg04, word32 dwArg08)
{
	Mem10[dwArg04 + 0x00:word32] = Mem0[0x0817FB80:word32];
	Mem14[dwArg08 + 0x00:word32] = Mem10[135789444:word32];
}

// 080A5F58: Register word32 regmatch_sub_anytime(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg10, Stack word32 dwArg1C)
word32 regmatch_sub_anytime(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg10, word32 dwArg1C)
{
	word32 eax_121;
	word32 ebp_148 = fp - 0x04;
	word32 esp_149 = fp - 44;
	word32 eax_13 = Mem0[dwArg04 + 0x00:word32];
	if (eax_13 != 0x02)
	{
		if (eax_13 == 0x03)
			goto l080A60E2;
		if (eax_13 != 0x01)
		{
			word32 esp_211;
			word32 ebp_212;
			word32 ebx_213;
			byte SCZO_214;
			word32 eax_215;
			byte Z_216;
			word32 edx_217;
			word32 ecx_218;
			byte SZO_219;
			byte C_220;
			byte al_221;
			!GC_malloc();
			Mem224[dwArg04 + 0x0C:word32] = eax_215;
			word32 ebx_228;
			byte SCZO_229;
			word32 eax_230;
			byte Z_231;
			word32 edx_232;
			word32 ecx_233;
			byte SZO_234;
			byte C_235;
			byte al_236;
			!GC_malloc();
			Mem239[dwArg04 + 0x10:word32] = eax_230;
			Mem242[Mem239[dwArg04 + 0x0C:word32] + 0x00:word32] = 0x00;
			Mem245[dwArg04 + 0x04:word32] = dwArg08;
			Mem247[dwArg04 + 0x18:word32] = 0x00;
			Mem250[dwArg04 + 0x14:word32] = dwArg10;
			Mem254[dwArg04 + 0x1C:word32] = dwArg1C;
l080A5FDA:
			Mem45[Mem0[Mem0[ebp_148 + 0x08:word32] + 0x0C:word32] + 0x00:word32] = 0x00;
l080A6135:
			do
			{
				word32 ecx_54 = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x14:word32];
				word32 eax_56 = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x04:word32];
				word32 eax_59 = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x0C:word32];
				Mem60[esp_149 + 0x10:word32] = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x1C:word32];
				Mem62[esp_149 + 0x0C:word32] = Mem60[ebp_148 + 0x18:word32];
				Mem63[esp_149 + 0x08:word32] = ecx_54;
				Mem64[esp_149 + 0x04:word32] = eax_56;
				Mem65[esp_149 + 0x00:word32] = eax_59;
				if (regmatch_iter(ebp_148, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out esp_149, out ebp_148) == 0x00)
				{
					if (Mem65[Mem65[Mem65[ebp_148 + 0x08:word32] + 0x04:word32] + 4616:word32] != 0x00)
					{
						Mem88[Mem65[ebp_148 + 0x08:word32] + 0x04:word32] = Mem65[Mem65[Mem65[ebp_148 + 0x08:word32] + 0x04:word32] + 4616:word32];
						goto l080A5FDA;
					}
					else
					{
						eax_121 = 0x00;
						return eax_121;
					}
				}
				Mem97[Mem65[ebp_148 + 0x08:word32] + 0x18:word32] = Mem65[Mem65[Mem65[ebp_148 + 0x08:word32] + 0x0C:word32] + 0x08:word32] - Mem65[Mem65[ebp_148 + 0x08:word32] + 0x14:word32];
			} while (Mem97[Mem97[ebp_148 + 0x08:word32] + 0x18:word32] <= 0x00);
			Mem103[Mem97[ebp_148 + 0x08:word32] + 0x1C:word32] = 0x00;
			if (((word32) (byte) (word32) Mem103[Mem103[ebp_148 + 0x10:word32] + 0x04:byte] & 0x07) == 0x07)
			{
				Mem118[Mem103[ebp_148 + 0x08:word32] + 0x08:word32] = Mem103[Mem103[ebp_148 + 0x08:word32] + 0x14:word32] + Mem103[Mem103[ebp_148 + 0x08:word32] + 0x18:word32];
				Mem120[Mem118[ebp_148 + 0x08:word32] + 0x00:word32] = 0x01;
				eax_121 = 0x01;
				return eax_121;
			}
			word32 eax_126 = Mem103[Mem103[ebp_148 + 0x08:word32] + 0x1C:word32];
			word32 edx_131 = Mem103[Mem103[ebp_148 + 0x08:word32] + 0x14:word32] + Mem103[Mem103[ebp_148 + 0x08:word32] + 0x18:word32];
			Mem132[esp_149 + 0x10:word32] = Mem103[ebp_148 + 0x08:word32] + 0x08;
			Mem133[esp_149 + 0x0C:word32] = eax_126;
			Mem135[esp_149 + 0x08:word32] = Mem133[ebp_148 + 0x18:word32];
			Mem136[esp_149 + 0x04:word32] = edx_131;
			Mem138[esp_149 + 0x00:word32] = Mem136[ebp_148 + 0x10:word32];
			if (regmatch(ebp_148, dwArg10) == 0x01)
			{
				Mem143[Mem138[ebp_148 + 0x08:word32] + 0x00:word32] = 0x02;
				eax_121 = 0x01;
				return eax_121;
			}
			goto l080A60A7;
		}
	}
l080A60A7:
	if (Mem0[ebp_148 + 0x1C:word32] == 0x01)
		goto l080A6135;
	Mem200[Mem0[Mem0[ebp_148 + 0x08:word32] + 0x10:word32] + 0x00:word32] = 0x00;
l080A60E2:
	word32 eax_152 = Mem0[ebp_148 + 0x1C:word32];
	word32 ecx_158 = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x14:word32] + Mem0[Mem0[ebp_148 + 0x08:word32] + 0x18:word32];
	word32 eax_161 = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x10:word32];
	Mem162[esp_149 + 0x18:word32] = Mem0[Mem0[ebp_148 + 0x08:word32] + 0x1C:word32];
	Mem163[esp_149 + 0x14:word32] = eax_152 - 0x01;
	Mem165[esp_149 + 0x10:word32] = Mem163[ebp_148 + 0x18:word32];
	Mem166[esp_149 + 0x0C:word32] = ecx_158;
	Mem168[esp_149 + 0x08:word32] = Mem166[ebp_148 + 0x10:word32];
	Mem170[esp_149 + 0x04:word32] = Mem168[ebp_148 + 0x0C:word32];
	Mem171[esp_149 + 0x00:word32] = eax_161;
	if (regmatch_sub_anytime(ebp_148, dwArg00, dwArg04, dwArg0C, dwArg18) != 0x00)
	{
		Mem181[Mem171[ebp_148 + 0x08:word32] + 0x08:word32] = Mem171[Mem171[Mem171[ebp_148 + 0x08:word32] + 0x10:word32] + 0x08:word32];
		Mem183[Mem181[ebp_148 + 0x08:word32] + 0x00:word32] = 0x03;
		eax_121 = 0x01;
		return eax_121;
	}
	goto l080A6135;
}

// 080A61A6: Register word32 regmatch_iter(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 regmatch_iter(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 ebp_259 = fp - 0x04;
	word32 eax_19 = Mem0[dwArg04 + 0x00:word32];
	if (eax_19 >u 0x07)
	{
		word32 eax_100;
		if (((word32) (byte) (word32) Mem0[dwArg08 + 0x04:byte] & 0x07) == 0x07)
			eax_100 = 0x00;
		else
		{
			Mem104[dwArg04 + 0x04:word32] = dwArg08;
			Mem108[dwArg04 + 0x18:word32] = dwArg14;
			Mem112[dwArg04 + 0x0C:word32] = dwArg0C;
			Mem116[dwArg04 + 0x1C:word32] = dwArg10;
			Mem118[dwArg04 + 0x24:word32] = 0x00;
			Mem120[dwArg04 + 0x08:word32] = 0x00;
			do
			{
				word32 esp_125 = fp - 0x6C;
				if (((word32) (byte) (word32) Mem120[Mem120[Mem120[fp + 0x04:word32] + 0x04:word32] + 0x04:byte] & 0x07) == 0x07)
				{
					Mem137[Mem120[fp + 0x04:word32] + 0x08:word32] = Mem120[Mem120[fp + 0x04:word32] + 0x0C:word32];
					Mem139[Mem137[fp + 0x04:word32] + 0x00:word32] = 0x07;
					eax_100 = 0x01;
					goto l080A67C7;
				}
				if (((word32) (byte) (word32) Mem120[Mem120[Mem120[fp + 0x04:word32] + 0x04:word32] + 0x04:byte] & 0x18) != 0x00)
				{
					if (((word32) (byte) (word32) Mem120[Mem120[Mem120[fp + 0x04:word32] + 0x04:word32] + 0x04:byte] & 0x10) != 0x00)
						Mem394[Mem120[fp + 0x04:word32] + 0x10:word32] = 0xFFFF;
					else
						Mem396[Mem120[fp + 0x04:word32] + 0x10:word32] = 0x01;
					Mem161[Mem120[fp + 0x04:word32] + 0x14:word32] = ~0x00;
					do
					{
						if (Mem161[Mem161[fp + 0x04:word32] + 0x14:word32] >= Mem161[Mem161[fp + 0x04:word32] + 0x10:word32])
						{
							eax_100 = 0x00;
							goto l080A67C7;
						}
						word32 edx_183 = Mem161[Mem161[fp + 0x04:word32] + 0x0C:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x14:word32];
						if (edx_183 >=u Mem161[Mem161[fp + 0x04:word32] + 0x1C:word32])
						{
							eax_100 = 0x00;
							goto l080A67C7;
						}
						if (Mem161[Mem161[fp + 0x04:word32] + 0x14:word32] >= 0x00)
						{
							if (((word32) (byte) (word32) Mem161[Mem161[Mem161[fp + 0x04:word32] + 0x04:word32] + 0x04:byte] & 0x07) == 0x04)
							{
								Mem257[fp - 0x6C + 0x00:word32] = 0x20;
								word32 esp_258;
								word32 edi_260;
								word32 esi_261;
								word32 ebx_262;
								byte SCZO_263;
								word32 eax_264;
								byte CZ_265;
								bcuiposr0 None_266;
								byte al_267;
								byte SZO_268;
								byte C_269;
								byte Z_270;
								word32 edx_271;
								byte SO_272;
								byte S_273;
								word32 ecx_274;
								!GC_malloc();
								Mem277[Mem257[ebp_259 + 0x08:word32] + 0x28:word32] = eax_264;
								Mem280[Mem277[Mem277[ebp_259 + 0x08:word32] + 0x28:word32] + 0x00:word32] = 0x00;
								word32 esi_282 = Mem280[Mem280[ebp_259 + 0x08:word32] + 0x18:word32];
								word32 ebx_284 = Mem280[Mem280[ebp_259 + 0x08:word32] + 0x10:word32];
								word32 ecx_286 = Mem280[Mem280[ebp_259 + 0x08:word32] + 0x1C:word32];
								Mem293[ebp_259 - 0x3C + 0x00:word32] = Mem280[Mem280[ebp_259 + 0x08:word32] + 0x0C:word32] + Mem280[Mem280[ebp_259 + 0x08:word32] + 0x14:word32];
								word32 eax_295 = Mem293[Mem293[ebp_259 + 0x08:word32] + 0x04:word32];
								word32 edx_299 = Mem293[Mem293[Mem293[ebp_259 + 0x08:word32] + 0x04:word32] + 0x00:word32];
								word32 eax_301 = Mem293[Mem293[ebp_259 + 0x08:word32] + 0x28:word32];
								Mem302[esp_258 + 0x18:word32] = esi_282;
								Mem303[esp_258 + 0x14:word32] = ebx_284;
								Mem304[esp_258 + 0x10:word32] = ecx_286;
								Mem306[esp_258 + 0x0C:word32] = Mem304[ebp_259 - 0x3C + 0x00:word32];
								Mem307[esp_258 + 0x08:word32] = eax_295 + 0x08;
								Mem308[esp_258 + 0x04:word32] = edx_299;
								Mem309[esp_258 + 0x00:word32] = eax_301;
								if (regmatch_sub_anytime(ebp_259, dwArg00, dwArg04, dwArg0C, dwArg18) == 0x00)
									eax_100 = 0x00;
								else
								{
									Mem327[Mem309[ebp_259 + 0x08:word32] + 0x14:word32] = Mem309[Mem309[Mem309[ebp_259 + 0x08:word32] + 0x28:word32] + 0x08:word32] - Mem309[Mem309[ebp_259 + 0x08:word32] + 0x0C:word32];
									Mem332[Mem327[ebp_259 + 0x08:word32] + 0x08:word32] = Mem327[Mem327[Mem327[ebp_259 + 0x08:word32] + 0x28:word32] + 0x08:word32];
									Mem334[Mem332[ebp_259 + 0x08:word32] + 0x00:word32] = 0x01;
									eax_100 = 0x01;
								}
								goto l080A67C7;
							}
							Mem344[fp - 0x68 + 0x00:word32] = Mem161[Mem161[fp + 0x04:word32] + 0x0C:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x14:word32];
							Mem345[fp - 0x6C + 0x00:word32] = fp - 0x3C;
							set_longchar(dwArg00, dwArg04);
							Mem350[fp - 44 + 0x00:word32] = Mem345[fp - 0x3C + 0x00:word32];
							Mem352[fp - 0x28 + 0x00:word32] = Mem350[fp - 0x38 + 0x00:word32];
							Mem354[fp - 0x24 + 0x00:word32] = Mem352[fp - 0x34 + 0x00:word32];
							Mem356[fp - 0x20 + 0x00:word32] = Mem354[fp - 0x30 + 0x00:word32];
							word32 eax_358 = Mem356[Mem356[fp + 0x04:word32] + 0x04:word32];
							Mem360[fp - 0x68 + 0x00:word32] = fp - 44;
							Mem361[fp - 0x6C + 0x00:word32] = eax_358;
							if (regmatch1(dwArg00, dwArg04) == 0x00)
							{
								eax_100 = 0x00;
								goto l080A67C7;
							}
							Mem383[Mem361[fp + 0x04:word32] + 0x14:word32] = Mem361[Mem361[fp + 0x04:word32] + 0x14:word32] + (word32) ((byte) ((word32) Mem361[(word32) ((byte) ((word32) Mem361[Mem361[Mem361[fp + 0x04:word32] + 0x0C:word32] + Mem361[Mem361[fp + 0x04:word32] + 0x14:word32]:byte])) + 0x08179AE0:byte]));
							Mem385[Mem383[fp + 0x04:word32] + 0x18:word32] = 0x00;
						}
						else
							Mem392[Mem161[fp + 0x04:word32] + 0x14:word32] = Mem161[Mem161[fp + 0x04:word32] + 0x14:word32] + 0x01;
						if (((word32) (byte) (word32) Mem161[Mem161[Mem161[fp + 0x04:word32] + 0x04:word32] + 0x0C:byte] & 0x07) == 0x07)
						{
							Mem216[Mem161[fp + 0x04:word32] + 0x08:word32] = Mem161[Mem161[fp + 0x04:word32] + 0x0C:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x14:word32];
							Mem218[Mem216[fp + 0x04:word32] + 0x00:word32] = 0x02;
							eax_100 = 0x01;
							goto l080A67C7;
						}
						word32 edx_224 = Mem161[Mem161[fp + 0x04:word32] + 0x18:word32];
						word32 eax_226 = Mem161[Mem161[fp + 0x04:word32] + 0x1C:word32];
						word32 ebx_231 = Mem161[Mem161[fp + 0x04:word32] + 0x0C:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x14:word32];
						word32 ecx_233 = Mem161[Mem161[fp + 0x04:word32] + 0x04:word32];
						Mem236[fp - 0x5C + 0x00:word32] = Mem161[fp + 0x04:word32] + 0x08;
						Mem237[fp - 0x60 + 0x00:word32] = edx_224;
						Mem238[fp - 100 + 0x00:word32] = eax_226;
						Mem239[fp - 0x68 + 0x00:word32] = ebx_231;
						Mem240[fp - 0x6C + 0x00:word32] = ecx_233 + 0x08;
					} while (regmatch(fp - 0x04, dwArg10) != 0x01);
					Mem245[Mem240[fp + 0x04:word32] + 0x00:word32] = 0x03;
					eax_100 = 0x01;
					goto l080A67C7;
				}
				word32 eax_401 = (word32) (byte) (word32) Mem120[Mem120[Mem120[fp + 0x04:word32] + 0x04:word32] + 0x04:byte];
				if ((eax_401 & 0x07) != 0x05)
				{
					if ((eax_401 & 0x07) == 0x06)
					{
						if (Mem120[Mem120[fp + 0x04:word32] + 0x0C:word32] >=u Mem120[Mem120[fp + 0x04:word32] + 0x1C:word32])
						{
							Mem631[Mem120[fp + 0x04:word32] + 0x08:word32] = Mem120[Mem120[fp + 0x04:word32] + 0x0C:word32];
							Mem636[Mem631[fp + 0x04:word32] + 0x04:word32] = Mem631[Mem631[fp + 0x04:word32] + 0x04:word32] + 0x08;
							Mem638[Mem636[fp + 0x04:word32] + 0x00:word32] = 0x04;
							eax_100 = 0x01;
						}
						else
						{
							Mem642[Mem120[fp + 0x04:word32] + 0x08:word32] = 0x00;
							eax_100 = 0x00;
						}
						goto l080A67C7;
					}
					if ((eax_401 & 0x07) == 0x04)
					{
						word32 eax_471 = Mem120[Mem120[fp + 0x04:word32] + 0x24:word32];
						if (eax_471 == 0x00)
						{
							Mem601[fp - 0x6C + 0x00:word32] = 44;
							word32 edi_604;
							word32 esi_605;
							word32 ebx_606;
							byte SCZO_607;
							word32 eax_608;
							byte CZ_609;
							bcuiposr0 None_610;
							byte al_611;
							byte SZO_612;
							byte C_613;
							byte Z_614;
							word32 edx_615;
							byte SO_616;
							byte S_617;
							word32 ecx_618;
							!GC_malloc();
							Mem621[Mem601[ebp_259 + 0x08:word32] + 0x24:word32] = eax_608;
						}
						Mem495[Mem120[ebp_259 + 0x08:word32] + 0x20:word32] = Mem120[Mem120[Mem120[ebp_259 + 0x08:word32] + 0x04:word32] + 0x00:word32];
l080A65BA:
						Mem509[Mem495[Mem495[ebp_259 + 0x08:word32] + 0x24:word32] + 0x00:word32] = 0x00;
						do
						{
							word32 ebx_517 = Mem509[Mem509[ebp_259 + 0x08:word32] + 0x1C:word32];
							word32 ecx_519 = Mem509[Mem509[ebp_259 + 0x08:word32] + 0x0C:word32];
							word32 eax_521 = Mem509[Mem509[ebp_259 + 0x08:word32] + 0x20:word32];
							word32 eax_524 = Mem509[Mem509[ebp_259 + 0x08:word32] + 0x24:word32];
							Mem525[esp_125 + 0x10:word32] = Mem509[Mem509[ebp_259 + 0x08:word32] + 0x18:word32];
							Mem526[esp_125 + 0x0C:word32] = ebx_517;
							Mem527[esp_125 + 0x08:word32] = ecx_519;
							Mem528[esp_125 + 0x04:word32] = eax_521;
							Mem529[esp_125 + 0x00:word32] = eax_524;
							if (regmatch_iter(ebp_259, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out esp_125, out ebp_259) == 0x00)
							{
								if (Mem529[Mem529[Mem529[ebp_259 + 0x08:word32] + 0x20:word32] + 4616:word32] != 0x00)
								{
									Mem548[Mem529[ebp_259 + 0x08:word32] + 0x20:word32] = Mem529[Mem529[Mem529[ebp_259 + 0x08:word32] + 0x20:word32] + 4616:word32];
									goto l080A65BA;
								}
								else
								{
									eax_100 = 0x00;
									goto l080A67C7;
								}
							}
							if (Mem529[Mem529[Mem529[ebp_259 + 0x08:word32] + 0x24:word32] + 0x08:word32] != Mem529[Mem529[ebp_259 + 0x08:word32] + 0x0C:word32])
								Mem600[Mem529[ebp_259 + 0x08:word32] + 0x18:word32] = 0x00;
							if (((word32) (byte) (word32) Mem529[Mem529[Mem529[ebp_259 + 0x08:word32] + 0x04:word32] + 0x0C:byte] & 0x07) == 0x07)
							{
								Mem569[Mem529[ebp_259 + 0x08:word32] + 0x08:word32] = Mem529[Mem529[Mem529[ebp_259 + 0x08:word32] + 0x24:word32] + 0x08:word32];
								Mem571[Mem569[ebp_259 + 0x08:word32] + 0x00:word32] = 0x05;
								eax_100 = 0x01;
								goto l080A67C7;
							}
							word32 ecx_577 = Mem529[Mem529[ebp_259 + 0x08:word32] + 0x18:word32];
							word32 edx_579 = Mem529[Mem529[ebp_259 + 0x08:word32] + 0x1C:word32];
							word32 eax_582 = Mem529[Mem529[Mem529[ebp_259 + 0x08:word32] + 0x24:word32] + 0x08:word32];
							word32 ebx_584 = Mem529[Mem529[ebp_259 + 0x08:word32] + 0x04:word32];
							Mem587[esp_125 + 0x10:word32] = Mem529[ebp_259 + 0x08:word32] + 0x08;
							Mem588[esp_125 + 0x0C:word32] = ecx_577;
							Mem589[esp_125 + 0x08:word32] = edx_579;
							Mem590[esp_125 + 0x04:word32] = eax_582;
							Mem591[esp_125 + 0x00:word32] = ebx_584 + 0x08;
						} while (regmatch(ebp_259, dwArg10) != 0x01);
						Mem596[Mem591[ebp_259 + 0x08:word32] + 0x00:word32] = 0x06;
						eax_100 = 0x01;
						goto l080A67C7;
					}
					Mem426[fp - 0x68 + 0x00:word32] = Mem120[Mem120[fp + 0x04:word32] + 0x0C:word32];
					Mem427[fp - 0x6C + 0x00:word32] = fp - 0x3C;
					set_longchar(dwArg00, dwArg04);
					Mem431[fp - 44 + 0x00:word32] = Mem427[fp - 0x3C + 0x00:word32];
					Mem433[fp - 0x28 + 0x00:word32] = Mem431[fp - 0x38 + 0x00:word32];
					Mem435[fp - 0x24 + 0x00:word32] = Mem433[fp - 0x34 + 0x00:word32];
					Mem437[fp - 0x20 + 0x00:word32] = Mem435[fp - 0x30 + 0x00:word32];
					Mem451[Mem437[fp + 0x04:word32] + 0x0C:word32] = Mem437[Mem437[fp + 0x04:word32] + 0x0C:word32] + (word32) ((byte) ((word32) Mem437[(word32) ((byte) ((word32) Mem437[Mem437[Mem437[fp + 0x04:word32] + 0x0C:word32] + 0x00:byte])) + 0x08179AE0:byte]));
					word32 eax_453 = Mem451[Mem451[fp + 0x04:word32] + 0x04:word32];
					Mem455[fp - 0x68 + 0x00:word32] = fp - 44;
					Mem456[fp - 0x6C + 0x00:word32] = eax_453;
					if (regmatch1(dwArg00, dwArg04) == 0x00)
					{
						eax_100 = 0x00;
						goto l080A67C7;
					}
					Mem467[Mem456[fp + 0x04:word32] + 0x04:word32] = Mem456[Mem456[fp + 0x04:word32] + 0x04:word32] + 0x08;
					Mem469[Mem467[fp + 0x04:word32] + 0x18:word32] = 0x00;
				}
				else
				{
					if (Mem120[Mem120[fp + 0x04:word32] + 0x18:word32] == 0x00)
					{
						eax_100 = 0x00;
						goto l080A67C7;
					}
					Mem656[Mem120[fp + 0x04:word32] + 0x04:word32] = Mem120[Mem120[fp + 0x04:word32] + 0x04:word32] + 0x08;
				}
			} while (Mem120[Mem120[fp + 0x04:word32] + 0x0C:word32] <=u Mem120[Mem120[fp + 0x04:word32] + 0x1C:word32]);
			eax_100 = 0x00;
		}
l080A67C7:
		word32 esp_89 = ebp_259 - 0x0C;
		word32 ebp_98;
		*ebpOut = Mem0[esp_89 + 0x0C:word32];
		word32 esp_99;
		*espOut = esp_89 + 0x10;
		return eax_100;
	}
	else
	{
		word32 eax_42 = 0x080CF76C[eax_19 * 0x04];
		word32 esp_52;
		word32 ebp_53;
		word32 edi_54;
		word32 esi_55;
		word32 ebx_56;
		byte SCZO_57;
		word32 eax_58;
		byte CZ_59;
		bcuiposr0 None_60;
		byte al_61;
		byte SZO_62;
		byte C_63;
		byte Z_64;
		word32 edx_65;
		byte SO_66;
		byte S_67;
		word32 ecx_68;
		eax_42();
		return eax_58;
	}
}

// 080A67D2: Register word32 regmatch(Register word32 ebp, Stack word32 dwArg14)
word32 regmatch(word32 ebp, word32 dwArg14)
{
	Mem10[dwArg14 + 0x00:word32] = 0x00;
	word32 ebp_15 = fp - 0x04;
	word32 esp_16 = fp - 0x5C;
	while (true)
	{
		Mem18[esp_16 + 0x10:word32] = Mem10[ebp_15 + 0x14:word32];
		Mem20[esp_16 + 0x0C:word32] = Mem18[ebp_15 + 0x10:word32];
		Mem22[esp_16 + 0x08:word32] = Mem20[ebp_15 + 0x0C:word32];
		Mem24[esp_16 + 0x04:word32] = Mem22[ebp_15 + 0x08:word32];
		Mem26[esp_16 + 0x00:word32] = ebp_15 - 0x34;
		if (regmatch_iter(ebp_15, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out esp_16, out ebp_15) == 0x00)
			break;
		if (Mem26[Mem26[ebp_15 + 0x18:word32] + 0x00:word32] == 0x00 || Mem26[Mem26[ebp_15 + 0x18:word32] + 0x00:word32] <u Mem26[(ebp_15 - 44) + 0x00:word32])
			Mem58[Mem26[ebp_15 + 0x18:word32] + 0x00:word32] = Mem26[ebp_15 - 44 + 0x00:word32];
	}
	word32 eax_43;
	if (Mem26[Mem26[ebp_15 + 0x18:word32] + 0x00:word32] == 0x00)
		eax_43 = 0x00;
	else
		eax_43 = 0x01;
	return eax_43;
}

// 080A6849: Register word32 regmatch1(Stack word32 dwArg04, Stack word32 dwArg08)
word32 regmatch1(word32 dwArg04, word32 dwArg08)
{
	word32 eax_114;
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x04)
	{
		eax_114 = 0x00;
		return eax_114;
	}
	word32 eax_41 = (word32) (byte) (word32) Mem0[dwArg04 + 0x04:byte];
	if ((eax_41 & 0x07) == 0x01)
	{
		eax_114 = 0x01;
		return eax_114;
	}
	if ((eax_41 & 0x07) > 0x01)
	{
		if ((eax_41 & 0x07) != 0x02)
		{
			if ((eax_41 & 0x07) != 0x03)
			{
l080A6925:
				eax_114 = 0x00;
				return eax_114;
			}
			eax_114 = (word32) (matchWhich(Mem0[dwArg04 + 0x00:word32], dwArg08, (word32) (byte) (word32) Mem0[dwArg04 + 0x04:byte] & 0x40) == 0x00);
		}
		else
			eax_114 = matchWhich(Mem0[dwArg04 + 0x00:word32], dwArg08, (word32) (byte) (word32) Mem0[dwArg04 + 0x04:byte] & 0x40);
		return eax_114;
	}
	else
	{
		if ((eax_41 & 0x07) == 0x00)
		{
			eax_114 = match_longchar(Mem0[dwArg04 + 0x00:word32], dwArg08, (word32) (byte) (word32) Mem0[dwArg04 + 0x04:byte] & 0x40);
			return eax_114;
		}
		goto l080A6925;
	}
}

// 080A692C: Register word32 matchWhich(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 matchWhich(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc10_10 = dwArg04;
	word32 dwLoc14_11 = 0x00;
	while ((byte) (word32) Mem0[dwLoc10_10 + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[dwLoc10_10 + 0x10:byte] != 0x03 || (byte) ((word32) Mem0[dwLoc10_10 + 0x20:byte]) == 0x00)
		{
			if (match_longchar(dwLoc10_10, dwArg08, dwArg0C) == 0x00)
			{
				dwLoc10_10 = dwLoc10_10 + 0x10;
				continue;
			}
			else
			{
				dwLoc14_11 = 0x01;
				return dwLoc14_11;
			}
		}
		if (match_range_longchar(dwLoc10_10, dwLoc10_10 + 0x20, dwArg08, dwArg0C) != 0x00)
		{
			dwLoc14_11 = 0x01;
			return dwLoc14_11;
		}
		dwLoc10_10 = dwLoc10_10 + 0x30;
	}
	return dwLoc14_11;
}

// 080A69CE: Register word32 match_longchar(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 match_longchar(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_115;
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != (byte) ((word32) Mem0[dwArg08 + 0x00:byte]))
	{
		eax_115 = 0x00;
		return eax_115;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x02)
	{
		if (Mem0[dwArg04 + 0x04:word32] == Mem0[dwArg08 + 0x04:word32] && Mem0[dwArg04 + 0x08:word32] == Mem0[dwArg08 + 0x08:word32])
			eax_115 = 0x01;
		else
			eax_115 = 0x00;
		return eax_115;
	}
	if (dwArg0C == 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg08 + 0x0C:byte])) + 0x080DB700:byte])) & 0x04) == 0x00)
	{
		eax_115 = (word32) ((byte) (word32) Mem0[dwArg04 + 0x0C:byte] == (byte) ((word32) Mem0[dwArg08 + 0x0C:byte]));
		return eax_115;
	}
	word32 eax_105;
	word32 edx_90 = (word32) (byte) (word32) Mem0[dwArg04 + 0x0C:byte];
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08 + 0x0C:byte] + 0x080DB700:byte] & 0x04) != 0x00)
		eax_105 = (word32) (byte) ((word32) Mem0[dwArg08 + 0x0C:byte] | 0x20);
	else
		eax_105 = (word32) (byte) (word32) Mem0[dwArg08 + 0x0C:byte];
	if (edx_90 != eax_105)
	{
		word32 eax_143;
		word32 edx_128 = (word32) (byte) (word32) Mem0[dwArg04 + 0x0C:byte];
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08 + 0x0C:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_143 = (word32) (byte) (word32) Mem0[dwArg08 + 0x0C:byte] & ~0x20;
		else
			eax_143 = (word32) (byte) (word32) Mem0[dwArg08 + 0x0C:byte];
		if (edx_128 != eax_143)
		{
			eax_115 = 0x00;
			return eax_115;
		}
	}
	eax_115 = 0x01;
	return eax_115;
}

// 080A6AF9: Register word32 match_range_longchar(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 match_range_longchar(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_107;
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) || (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != (byte) ((word32) Mem0[dwArg0C + 0x00:byte]))
	{
		eax_107 = 0x00;
		return eax_107;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x02)
	{
		if (Mem0[dwArg04 + 0x04:word32] == Mem0[dwArg0C + 0x04:word32] && (Mem0[dwArg0C + 0x04:word32] == Mem0[dwArg08 + 0x04:word32] && (Mem0[dwArg04 + 0x08:word32] <=u Mem0[dwArg0C + 0x08:word32] && Mem0[dwArg0C + 0x08:word32] <=u Mem0[dwArg08 + 0x08:word32])))
			eax_107 = 0x01;
		else
			eax_107 = 0x00;
		return eax_107;
	}
	if (dwArg10 == 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg0C + 0x0C:byte])) + 0x080DB700:byte])) & 0x04) == 0x00)
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x0C:byte] <=u (byte) ((word32) Mem0[dwArg0C + 0x0C:byte]) && (byte) ((word32) Mem0[dwArg0C + 0x0C:byte]) <=u (byte) ((word32) Mem0[dwArg08 + 0x0C:byte]))
			eax_107 = 0x01;
		else
			eax_107 = 0x00;
		return eax_107;
	}
	word32 eax_147;
	word32 edx_133 = (word32) (byte) (word32) Mem0[dwArg04 + 0x0C:byte];
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] + 0x080DB700:byte] & 0x04) != 0x00)
		eax_147 = (word32) (byte) ((word32) Mem0[dwArg0C + 0x0C:byte] | 0x20);
	else
		eax_147 = (word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte];
	if (edx_133 <= eax_147)
	{
		word32 eax_255;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_255 = (word32) (byte) ((word32) Mem0[dwArg0C + 0x0C:byte] | 0x20);
		else
			eax_255 = (word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte];
		if (eax_255 <= (word32) ((byte) ((word32) Mem0[dwArg08 + 0x0C:byte])))
		{
l080A6CB6:
			eax_107 = 0x01;
			return eax_107;
		}
	}
	word32 eax_185;
	word32 edx_171 = (word32) (byte) (word32) Mem0[dwArg04 + 0x0C:byte];
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] + 0x080DB700:byte] & 0x04) != 0x00)
		eax_185 = (word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] & ~0x20;
	else
		eax_185 = (word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte];
	if (edx_171 <= eax_185)
	{
		word32 eax_209;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_209 = (word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte] & ~0x20;
		else
			eax_209 = (word32) (byte) (word32) Mem0[dwArg0C + 0x0C:byte];
		if (eax_209 <= (word32) ((byte) ((word32) Mem0[dwArg08 + 0x0C:byte])))
			goto l080A6CB6;
	}
	eax_107 = 0x00;
	return eax_107;
}

// 080A6CF8: void KeyAbort()
void KeyAbort()
{
	word32 esp_10;
	word32 ebp_11;
	byte SCZO_12;
	word32 eax_13;
	!siglongjmp();
	news_command(ebp_11, 0x0817FBC0, 0x01, dwLoc14);
}

// 080A6D12: Register word32 news_command(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 news_command(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_25;
	word32 ebp_5 = fp - 0x04;
	if (Mem0[dwArg04 + 0x00:word32] == 0x00)
		eax_25 = 0x00;
	else
	{
		if (dwArg08 != 0x00)
		{
			if (dwArg0C != 0x00)
			{
				byte bpl_118;
				Mem120[fp - 0x10 + 0x00:word32] = Sprintf(0x080CF78C, out bpl_118);
			}
			else
			{
				byte bpl_124;
				Mem126[fp - 0x10 + 0x00:word32] = Sprintf(0x080CF794, out bpl_124);
			}
			word32 eax_100 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
			word32 eax_103 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem104[fp - 0x20 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x10:word32];
			Mem105[fp - 0x24 + 0x00:word32] = eax_100;
			Mem106[fp - 0x28 + 0x00:word32] = 0x01;
			Mem107[fp - 44 + 0x00:word32] = eax_103;
			fwrite(Mem107[fp - 44 + 0x00:(ptr void)], Mem107[fp - 0x28 + 0x00:size_t], Mem107[fp - 0x24 + 0x00:size_t], Mem107[fp - 0x20 + 0x00:(ptr FILE)]);
			Mem111[fp - 44 + 0x00:word32] = Mem107[Mem107[fp + 0x04:word32] + 0x10:word32];
			fflush(Mem111[fp - 44 + 0x00:(ptr FILE)]);
		}
		if (Mem0[fp + 0x10:word32] == 0x00)
			eax_25 = 0x00;
		else
		{
			Mem51[Mem0[fp + 0x10:word32] + 0x00:word32] = ~0x00;
			Mem54[fp - 44 + 0x00:word32] = Mem51[Mem51[fp + 0x04:word32] + 0x0C:word32];
			Mem57[fp - 0x10 + 0x00:word32] = StrISgets(dwArg00);
			if (Mem57[Mem57[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00)
			{
				word32 eax_75 = Mem57[Mem57[fp - 0x10 + 0x00:word32] + 0x00:word32];
				word32 ecx_76 = Mem57[fp + 0x10:word32];
				Mem77[fp - 0x24 + 0x00:word32] = ecx_76;
				Mem78[fp - 0x28 + 0x00:word32] = 0x080CF799;
				Mem79[fp - 44 + 0x00:word32] = eax_75;
				word32 esp_80;
				byte SCZO_82;
				word32 eax_83;
				byte SZO_84;
				byte C_85;
				byte Z_86;
				word32 ecx_87;
				word32 edx_88;
				byte bpl_89;
				!sscanf();
			}
			eax_25 = Mem57[ebp_5 - 0x0C + 0x00:word32];
		}
	}
	return eax_25;
}

// 080A6DF8: void news_close(Stack word32 dwArg04)
void news_close(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x0C:word32] != 0x00)
		{
			Mem58[Mem0[dwArg04 + 0x0C:word32] + 0x14:byte] = (byte) ((word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + 0x14:byte] & ~0x10);
			ISclose(Mem58[dwArg04 + 0x0C:word32]);
			Mem64[dwArg04 + 0x0C:word32] = 0x00;
		}
		if (Mem0[dwArg04 + 0x10:word32] != 0x00)
		{
			fclose(Mem0[dwArg04 + 0x10:word32]);
			Mem48[dwArg04 + 0x10:word32] = 0x00;
		}
		Mem42[dwArg04 + 0x00:word32] = 0x00;
	}
}

// 080A6E6F: Register word32 news_open(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 news_open(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_121;
	word16 ax_12 = (word16) Mem0[dwArg04 + 0x04:word32];
	Mem21[fp - 0x10 + 0x00:word32] = openSocket(fp - 0x04, gs, (word32) ax_12);
	word32 ebp_46 = fp - 0x04;
	word32 esp_47 = fp - 44;
	if (Mem21[fp - 0x10 + 0x00:word32] >= 0x00)
	{
		word32 eax_53 = Mem21[fp - 0x10 + 0x00:word32];
		Mem54[fp - 44 + 0x00:word32] = eax_53;
		word32 eax_55 = newInputStream(eax_53, dwArg00);
		word32 edx_56 = Mem54[fp + 0x04:word32];
		Mem57[edx_56 + 0x0C:word32] = eax_55;
		word32 eax_58 = Mem57[fp - 0x10 + 0x00:word32];
		Mem59[fp - 44 + 0x00:word32] = eax_58;
		byte SCZO_66;
		word32 eax_67;
		word32 edx_68;
		word16 ax_69;
		byte S_70;
		byte SZO_71;
		byte C_72;
		byte Z_73;
		byte dl_74;
		selector gs_75;
		!dup();
		Mem76[esp_47 + 0x04:word32] = 135067553;
		Mem77[esp_47 + 0x00:word32] = eax_67;
		Mem80[Mem77[ebp_46 + 0x08:word32] + 0x10:word32] = fdopen(Mem77[esp_47 + 0x00:int32], Mem77[esp_47 + 0x04:(ptr char)]);
		if (Mem80[Mem80[ebp_46 + 0x08:word32] + 0x0C:word32] == 0x00 || Mem80[Mem80[ebp_46 + 0x08:word32] + 0x10:word32] == 0x00)
			goto l080A6F8E;
		Mem100[Mem80[Mem80[ebp_46 + 0x08:word32] + 0x0C:word32] + 0x14:byte] = (byte) ((word32) Mem80[Mem80[Mem80[ebp_46 + 0x08:word32] + 0x0C:word32] + 0x14:byte] | 0x10);
		Mem102[esp_47 + 0x0C:word32] = ebp_46 - 0x10;
		Mem103[esp_47 + 0x08:word32] = 0x00;
		Mem104[esp_47 + 0x04:word32] = 0x00;
		Mem106[esp_47 + 0x00:word32] = Mem104[ebp_46 + 0x08:word32];
		news_command(ebp_46, dwArg00, dwArg04, dwArg08);
		if (Mem106[ebp_46 - 0x10 + 0x00:word32] == 200 || Mem106[(ebp_46 - 0x10) + 0x00:word32] == 0xC9)
		{
			if (Mem106[Mem106[ebp_46 + 0x08:word32] + 0x08:word32] != 0x00)
			{
				word32 eax_124 = Mem106[Mem106[ebp_46 + 0x08:word32] + 0x08:word32];
				Mem126[esp_47 + 0x0C:word32] = ebp_46 - 0x10;
				Mem127[esp_47 + 0x08:word32] = eax_124;
				Mem128[esp_47 + 0x04:word32] = 135067556;
				Mem130[esp_47 + 0x00:word32] = Mem128[ebp_46 + 0x08:word32];
				news_command(ebp_46, dwArg00, dwArg04, dwArg08);
				if (Mem130[ebp_46 - 0x10 + 0x00:word32] != 200 && Mem130[(ebp_46 - 0x10) + 0x00:word32] != 0xC9)
					goto l080A6F8E;
			}
			eax_121 = 0x01;
			return eax_121;
		}
	}
l080A6F8E:
	Mem49[esp_47 + 0x00:word32] = Mem21[ebp_46 + 0x08:word32];
	news_close(dwArg00);
	eax_121 = 0x00;
	return eax_121;
}

// 080A6FA0: void news_quit(Register word32 ebp, Stack word32 dwArg04)
void news_quit(word32 ebp, word32 dwArg04)
{
	news_command(fp - 0x04, dwArg04, 135067561, 0x00);
	Mem17[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
	news_close(dwArg00);
}

// 080A6FD6: Register word32 name_from_address(Stack word32 dwArg04, Stack word32 dwArg08)
word32 name_from_address(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc1C_102 = 0x01;
	word32 dwLoc10_14 = allocStr(dwArg04, ~0x00) + 0x01;
	while ((byte) (word32) Mem0[dwLoc10_14 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_14 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc10_14 = dwLoc10_14 + 0x01;
	if ((byte) (word32) Mem0[dwLoc10_14 + 0x00:byte] == 0x3C)
	{
		word32 eax_204 = strchr(dwLoc10_14, '>');
		if (eax_204 != 0x00)
		{
			Mem209[eax_204 + 0x00:byte] = 0x00;
			word32 dwLoc14_211 = eax_204 + 0x01;
			while ((byte) (word32) Mem209[dwLoc14_211 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem209[(word32) ((byte) ((word32) Mem209[dwLoc14_211 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				dwLoc14_211 = dwLoc14_211 + 0x01;
			if ((byte) (word32) Mem209[dwLoc14_211 + 0x00:byte] == 0x00)
				dwLoc10_14 = dwLoc10_14 + 0x00;
			else
				dwLoc10_14 = dwLoc14_211;
			goto l080A70DB;
		}
	}
	word32 eax_184 = strchr(dwLoc10_14, '<');
	if (eax_184 != 0x00)
		Mem189[eax_184 + 0x00:byte] = 0x00;
	else
	{
		word32 eax_194 = strchr(dwLoc10_14, '(');
		if (eax_194 != 0x00)
			dwLoc10_14 = eax_194;
	}
l080A70DB:
	if ((byte) (word32) Mem0[dwLoc10_14 + 0x00:byte] == 0x22)
	{
		word32 eax_171 = strchr(dwLoc10_14 + 0x01, '"');
		if (eax_171 != 0x00)
		{
			Mem176[eax_171 + 0x00:byte] = 0x00;
			dwLoc10_14 = dwLoc10_14 + 0x01;
l080A7143:
			word32 dwLoc14_100 = dwLoc10_14;
			word32 dwLoc18_114 = 0x00;
			while ((byte) (word32) Mem0[dwLoc14_100 + 0x00:byte] != 0x00)
			{
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_100 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
				{
					if (dwLoc1C_102 != 0x00)
						goto l080A71CB;
					dwLoc1C_102 = 0x01;
				}
				else
					dwLoc1C_102 = 0x00;
				word32 eax_111;
				if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
					eax_111 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_100 + 0x00:byte] + 0x081799E0:byte];
				else
					eax_111 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_100 + 0x00:byte] + 0x081799E0:byte] != 0x00);
				word32 v16_113 = dwLoc18_114 + eax_111;
				dwLoc18_114 = v16_113;
				if (v16_113 > dwArg08)
					break;
l080A71CB:
				dwLoc14_100 = dwLoc14_100 + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_100 + 0x00:byte])) + 0x08179AE0:byte]));
			}
			Mem70[dwLoc14_100 + 0x00:byte] = 0x00;
			return dwLoc10_14;
		}
	}
	if ((byte) (word32) Mem0[dwLoc10_14 + 0x00:byte] == 0x28)
	{
		word32 eax_157 = strchr(dwLoc10_14 + 0x01, ')');
		if (eax_157 != 0x00)
		{
			Mem162[eax_157 + 0x00:byte] = 0x00;
			dwLoc10_14 = dwLoc10_14 + 0x01;
		}
	}
	goto l080A7143;
}

// 080A71FD: void html_quote_s(Stack word32 dwArg04)
void html_quote_s(word32 dwArg04)
{
	word32 dwLoc10_104 = 0x00;
	word32 dwLoc1C_140 = 0x01;
	word32 dwLoc14_12 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] != 0x00)
	{
		word32 dwLoc18_139;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00)
		{
			if (dwLoc1C_140 != 0x00)
				goto l080A730D;
			dwLoc18_139 = 135067566;
			dwLoc1C_140 = 0x01;
		}
		else
		{
			dwLoc18_139 = 0x080DB6C0[((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] + 0x080DB5C0:byte] & 0x07) * 0x04];
			dwLoc1C_140 = 0x00;
		}
		if (dwLoc18_139 != 0x00)
		{
			if (dwLoc10_104 == 0x00)
			{
				word32 edx_102;
				dwLoc10_104 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_12 - dwArg04, out edx_102);
			}
			Strcat_charp(dwLoc10_104, dwLoc18_139);
		}
		else if (dwLoc10_104 != 0x00)
		{
			if (Mem0[dwLoc10_104 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_104 + 0x08:word32])
				Strgrow(dwLoc10_104);
			word32 eax_118 = Mem0[dwLoc10_104 + 0x04:word32];
			Mem125[Mem0[dwLoc10_104 + 0x00:word32] + eax_118:byte] = (byte) (word32) Mem0[dwLoc14_12 + 0x00:byte];
			Mem128[dwLoc10_104 + 0x04:word32] = eax_118 + 0x01;
			Mem134[Mem128[dwLoc10_104 + 0x00:word32] + Mem128[dwLoc10_104 + 0x04:word32]:byte] = 0x00;
		}
l080A730D:
		dwLoc14_12 = dwLoc14_12 + 0x01;
	}
}

// 080A7331: void add_news_message(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void add_news_message(word32 ebp, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_16 = name_from_address(dwArg10, 0x10);
	mymktime(dwArg0C);
	localtime(fp - 0x10);
	html_quote_s(eax_16);
	byte bpl_43;
	Mem45[fp - 0x38 + 0x00:word32] = Sprintf(0x080CF7B8, out bpl_43);
	Mem47[fp - 0x3C + 0x00:word32] = Mem45[fp + 0x04:word32];
	Strcat(dwArg00, dwArg04);
	if (Mem47[fp + 0x20:word32] != 0x00)
	{
		Mem61[fp - 0x3C + 0x00:word32] = Mem47[fp + 0x14:word32];
		Mem63[fp - 44 + 0x00:word32] = html_quote(dwArg00);
		Mem65[fp - 0x30 + 0x00:word32] = Mem63[fp + 0x08:word32];
		Mem67[fp - 0x34 + 0x00:word32] = Mem65[fp + 0x20:word32];
		Mem69[fp - 0x38 + 0x00:word32] = Mem67[fp + 0x1C:word32];
		Mem70[fp - 0x3C + 0x00:word32] = 0x080CF7F1;
		byte bpl_71;
		Mem73[fp - 0x38 + 0x00:word32] = Sprintf(dwArg00, out bpl_71);
		Mem75[fp - 0x3C + 0x00:word32] = Mem73[fp + 0x04:word32];
		Strcat(dwArg00, dwArg04);
	}
	else
	{
		Mem77[fp - 0x3C + 0x00:word32] = Mem47[fp + 0x14:word32];
		word32 eax_78 = html_quote(dwArg00);
		Mem81[fp - 0x3C + 0x00:word32] = Mem77[fp + 0x18:word32];
		Mem83[fp - 0x3C + 0x00:word32] = file_quote(dwArg00);
		word32 eax_84 = html_quote(dwArg00);
		Mem85[fp - 0x30 + 0x00:word32] = eax_78;
		Mem86[fp - 0x34 + 0x00:word32] = eax_84;
		Mem88[fp - 0x38 + 0x00:word32] = Mem86[fp + 0x1C:word32];
		Mem89[fp - 0x3C + 0x00:word32] = 0x080CF80F;
		byte bpl_90;
		Mem92[fp - 0x38 + 0x00:word32] = Sprintf(dwArg00, out bpl_90);
		Mem94[fp - 0x3C + 0x00:word32] = Mem92[fp + 0x04:word32];
		Strcat(dwArg00, dwArg04);
	}
}

// 080A7449: void openNewsStream(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void openNewsStream(word32 ebp, selector gs, word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x14:word32] == 0x00 || (byte) ((word32) Mem0[Mem0[dwArg04 + 0x14:word32] + 0x00:byte]) == 0x00)
		return;
	word32 dwLoc10_314;
	if (Mem0[dwArg04 + 0x00:word32] != 0x07 && Mem0[dwArg04 + 0x00:word32] != 0x08)
		dwLoc10_314 = Mem0[0x0817C270:word32];
	else
		dwLoc10_314 = Mem0[dwArg04 + 0x0C:word32];
	if (dwLoc10_314 == 0x00 || (byte) ((word32) Mem0[dwLoc10_314 + 0x00:byte]) == 0x00)
	{
		if (Mem0[0x0817FBA0:word32] != 0x00)
			news_quit(fp - 0x04, 0x0817FBA0);
		return;
	}
	word32 dwLoc24_291;
	if (Mem0[dwArg04 + 0x00:word32] != 0x07 && Mem0[dwArg04 + 0x00:word32] != 0x08)
	{
		word32 eax_300 = strchr(dwLoc10_314, ':');
		if (eax_300 != 0x00)
		{
			dwLoc10_314 = allocStr(dwLoc10_314, eax_300 - dwLoc10_314);
			dwLoc24_291 = atoi(eax_300 + 0x01);
l080A7530:
			word32 dwLoc14_100;
			if (Mem0[0x0817C274:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[0x0817C274:word32] + 0x00:byte]) != 0x00)
				dwLoc14_100 = Mem0[0x0817C274:word32];
			else
				dwLoc14_100 = 0x00;
			if (Mem0[0x0817FBA0:word32] != 0x00)
			{
				if (strcmp(Mem0[0x0817FBA0:word32], dwLoc10_314) == 0x00 && Mem0[0x0817FBA4:word32] == dwLoc24_291)
				{
					word32 eax_250;
					if (dwLoc14_100 != 0x00)
						eax_250 = dwLoc14_100;
					else
						eax_250 = 0x080CF82A;
					Mem257[fp - 0x20 + 0x00:word32] = news_command(fp - 0x04, 0x0817FBA0, 135067556, eax_250);
					if (Mem257[fp - 0x28 + 0x00:word32] != 200 && Mem257[(fp - 0x28) + 0x00:word32] != 0xC9)
					{
						Mem264[fp - 0x3C + 0x00:word32] = 0x0817FBA0;
						news_close(dwArg00);
					}
				}
				else
					news_quit(fp - 0x04, 0x0817FBA0);
			}
			if (Mem0[0x0817FBA0:word32] == 0x00)
			{
				word32 eax_216;
				Mem206[fp - 0x38 + 0x00:word32] = ~0x00;
				Mem208[fp - 0x3C + 0x00:word32] = Mem206[fp - 0x10 + 0x00:word32];
				Mem210[0x0817FBA0:word32] = allocStr(dwArg00, dwArg04);
				Mem212[0x0817FBA4:word32] = Mem210[fp - 0x24 + 0x00:word32];
				if (Mem212[fp - 0x14 + 0x00:word32] != 0x00)
				{
					Mem225[fp - 0x38 + 0x00:word32] = ~0x00;
					Mem227[fp - 0x3C + 0x00:word32] = Mem225[fp - 0x14 + 0x00:word32];
					eax_216 = allocStr(dwArg00, dwArg04);
				}
				else
					eax_216 = 0x00;
				Mem217[0x0817FBA8:word32] = eax_216;
				Mem218[fp - 0x3C + 0x00:word32] = 0x0817FBA0;
				if (news_open(fp - 0x04, gs, dwArg00) == 0x00)
					return;
			}
			if (Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] != 0x07 && Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] != 0x09)
				return;
			word32 eax_125 = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
			Mem126[fp - 0x38 + 0x00:word32] = ~0x00;
			Mem127[fp - 0x3C + 0x00:word32] = eax_125;
			Mem130[fp - 0x3C + 0x00:word32] = allocStr(dwArg00, dwArg04);
			Mem132[fp - 0x18 + 0x00:word32] = file_unquote(dwArg00);
			Mem133[fp - 0x38 + 0x00:word32] = 0x2F;
			Mem135[fp - 0x3C + 0x00:word32] = Mem133[fp - 0x18 + 0x00:word32];
			Mem137[fp - 0x1C + 0x00:word32] = strchr(Mem135[fp - 0x3C + 0x00:(ptr char)], Mem135[fp - 0x38 + 0x00:char]);
			if (Mem137[fp - 0x1C + 0x00:word32] == 0x00)
			{
				Mem175[fp - 0x38 + 0x00:word32] = 0x40;
				Mem177[fp - 0x3C + 0x00:word32] = Mem175[fp - 0x18 + 0x00:word32];
				if (strchr(Mem177[fp - 0x3C + 0x00:(ptr char)], Mem177[fp - 0x38 + 0x00:char]) == 0x00)
					return;
				Mem184[fp - 0x1C + 0x00:word32] = Mem177[fp - 0x18 + 0x00:word32];
			}
			else
			{
				Mem186[Mem137[fp - 0x1C + 0x00:word32] + 0x00:byte] = 0x00;
				Mem188[fp - 0x1C + 0x00:word32] = Mem186[fp - 0x1C + 0x00:word32] + 0x01;
				Mem191[fp - 0x30 + 0x00:word32] = fp - 0x28;
				Mem193[fp - 0x34 + 0x00:word32] = Mem191[fp - 0x18 + 0x00:word32];
				Mem194[fp - 0x38 + 0x00:word32] = 0x080CF831;
				Mem195[fp - 0x3C + 0x00:word32] = 0x0817FBA0;
				news_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
				if (Mem195[fp - 0x28 + 0x00:word32] != 211)
					return;
			}
			Mem141[fp - 0x38 + 0x00:word32] = 0x40;
			Mem143[fp - 0x3C + 0x00:word32] = Mem141[fp - 0x1C + 0x00:word32];
			if (strchr(Mem143[fp - 0x3C + 0x00:(ptr char)], Mem143[fp - 0x38 + 0x00:char]) != 0x00)
			{
				Mem156[fp - 0x38 + 0x00:word32] = Mem143[fp - 0x1C + 0x00:word32];
				Mem157[fp - 0x3C + 0x00:word32] = 0x080CF837;
				byte bpl_158;
				word32 eax_160 = Mem157[Sprintf(dwArg00, out bpl_158) + 0x00:word32];
				Mem162[fp - 0x30 + 0x00:word32] = fp - 0x28;
				Mem163[fp - 0x34 + 0x00:word32] = eax_160;
				Mem164[fp - 0x38 + 0x00:word32] = 0x080CF83C;
				Mem165[fp - 0x3C + 0x00:word32] = 0x0817FBA0;
				news_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
			}
			else
			{
				Mem169[fp - 0x30 + 0x00:word32] = fp - 0x28;
				Mem171[fp - 0x34 + 0x00:word32] = Mem169[fp - 0x1C + 0x00:word32];
				Mem172[fp - 0x38 + 0x00:word32] = 0x080CF83C;
				Mem173[fp - 0x3C + 0x00:word32] = 0x0817FBA0;
				news_command(fp - 0x04, dwArg00, dwArg04, dwArg08);
			}
			return;
		}
	}
	dwLoc24_291 = Mem0[dwArg04 + 0x10:word32];
	goto l080A7530;
}

// 080A779F: Register word32 loadNewsgroup(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 bplOut)
word32 loadNewsgroup(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, ptr32 & bplOut)
{
	word32 eax_189;
	Mem26[dwArg08 + 0x00:word32] = 0x0100;
	word32 esp_146 = fp - 0xCC;
	if (Mem26[0x0817FBA0:word32] != 0x00 && (Mem26[dwArg04 + 0x14:word32] != 0x00 && (byte) ((word32) Mem26[Mem26[dwArg04 + 0x14:word32] + 0x00:byte]) != 0x00))
	{
		word32 eax_93 = allocStr(Mem26[dwArg04 + 0x14:word32], ~0x00);
		word32 eax_104 = strchr(eax_93, '/');
		if (eax_104 != 0x00)
			Mem1142[eax_104 + 0x00:byte] = 0x00;
		byte al_113 = (byte) (word32) Mem26[135774799:byte];
		if (al_113 != 0x00)
		{
			byte bpl_1134;
			word32 eax_1136 = Mem26[Sprintf(0x080CF84C, out bpl_1134) + 0x00:word32];
			Mem1137[fp - 0xC4 + 0x00:word32] = 0x00;
			Mem1138[fp - 200 + 0x00:word32] = 0x00;
			Mem1139[fp - 0xCC + 0x00:word32] = eax_1136;
			message(dwArg00, dwArg04, dwArg08);
			refresh(fp - 0x04);
		}
		Mem120[fp - 0xCC + 0x00:word32] = Mem26[fp - 0x48 + 0x00:word32];
		Mem123[fp - 44 + 0x00:word32] = html_quote(dwArg00);
		Mem125[fp - 0xCC + 0x00:word32] = Mem123[fp - 0x48 + 0x00:word32];
		Mem127[fp - 0x48 + 0x00:word32] = file_unquote(dwArg00);
		Mem129[fp - 0xCC + 0x00:word32] = Mem127[fp + 0x04:word32];
		byte bpl_130;
		word32 eax_132 = Mem129[parsedURL2Str(dwArg00, out bpl_130) + 0x00:word32];
		Mem133[fp - 0xB0 + 0x00:word32] = 0x00;
		Mem134[fp - 0xB4 + 0x00:word32] = 0x080CF864;
		Mem136[fp - 0xB8 + 0x00:word32] = Mem134[fp - 44 + 0x00:word32];
		Mem137[fp - 188 + 0x00:word32] = 0x080CF870;
		word32 edx_138 = Mem137[fp - 44 + 0x00:word32];
		Mem139[fp - 0xC0 + 0x00:word32] = edx_138;
		Mem140[fp - 0xC4 + 0x00:word32] = 0x080CF898;
		Mem141[fp - 200 + 0x00:word32] = eax_132;
		Mem142[fp - 0xCC + 0x00:word32] = 0x080CF8AE;
		Strnew_m_charp(eax_132, dwArg00);
		Mem143[fp - 0x20 + 0x00:word32] = eax_132;
		Mem144[fp - 200 + 0x00:word32] = 0x01;
		Mem145[fp - 0xCC + 0x00:word32] = 0x0817FBC0;
		word32 edi_148;
		word32 esi_149;
		word32 ebx_150;
		byte SCZO_151;
		word32 eax_152;
		byte SZO_153;
		byte C_154;
		byte Z_155;
		byte al_156;
		word32 edx_157;
		word32 ecx_158;
		byte SO_159;
		byte S_160;
		byte bpl_162;
		selector gs_161;
		word32 ebp_147;
		!__sigsetjmp();
		if (eax_152 != 0x00)
		{
			Mem204[esp_146 + 0x00:word32] = 0x0817FBA0;
			news_close(dwArg00);
			word32 eax_205 = Mem204[ebp_147 - 0x1C + 0x00:word32];
			Mem206[esp_146 + 0x04:word32] = 0x080CF8CC;
			Mem207[esp_146 + 0x00:word32] = eax_205;
			Strcat_charp(dwArg00, dwArg04);
		}
		else
		{
			if ((byte) (word32) Mem145[0x080D52C5:byte] != 0x00)
			{
				Mem1122[esp_146 + 0x04:word32] = 0x080A6CF8;
				Mem1123[esp_146 + 0x00:word32] = 0x02;
				Mem1125[ebp_147 - 0x68 + 0x00:word32] = mySignal(dwArg00, dwArg04);
				if ((byte) (word32) Mem1125[135774799:byte] != 0x00)
					term_cbreak(gs_161);
			}
			word32 eax_216 = Mem145[ebp_147 - 0x44 + 0x00:word32];
			Mem218[esp_146 + 0x0C:word32] = ebp_147 - 0x4C;
			Mem219[esp_146 + 0x08:word32] = eax_216;
			Mem220[esp_146 + 0x04:word32] = 0x080CF831;
			Mem221[esp_146 + 0x00:word32] = 0x0817FBA0;
			Mem223[ebp_147 - 0x20 + 0x00:word32] = news_command(ebp_147, dwArg00, dwArg04, dwArg08);
			if (Mem223[ebp_147 - 0x4C + 0x00:word32] == 211)
			{
				word32 eax_456 = Mem223[Mem223[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32];
				Mem458[esp_146 + 0x14:word32] = ebp_147 - 88;
				Mem460[esp_146 + 0x10:word32] = ebp_147 - 0x54;
				Mem462[esp_146 + 0x0C:word32] = ebp_147 - 0x50;
				Mem464[esp_146 + 0x08:word32] = ebp_147 - 0x4C;
				Mem465[esp_146 + 0x04:word32] = 0x080CF8EF;
				Mem466[esp_146 + 0x00:word32] = eax_456;
				word32 edi_469;
				word32 esi_470;
				word32 ebx_471;
				byte SCZO_472;
				word32 eax_473;
				byte SZO_474;
				byte C_475;
				byte Z_476;
				byte al_477;
				word32 edx_478;
				word32 ecx_479;
				byte SO_480;
				byte S_481;
				byte bpl_483;
				!sscanf();
				if (eax_473 == 0x04)
				{
					if (Mem466[ebp_147 - 0x48 + 0x00:word32] != 0x00 && (byte) ((word32) Mem466[Mem466[(ebp_147 - 0x48) + 0x00:word32] + 0x00:byte]) != 0x00)
					{
						word32 eax_1083 = Mem466[ebp_147 - 0x48 + 0x00:word32];
						Mem1084[esp_146 + 0x04:word32] = 0x2D;
						Mem1085[esp_146 + 0x00:word32] = eax_1083;
						Mem1087[ebp_147 - 44 + 0x00:word32] = strchr(Mem1085[esp_146 + 0x00:(ptr char)], Mem1085[esp_146 + 0x04:char]);
						if (Mem1087[ebp_147 - 44 + 0x00:word32] != 0x00)
						{
							Mem1114[Mem1087[ebp_147 - 44 + 0x00:word32] + 0x00:byte] = 0x00;
							Mem1116[ebp_147 - 44 + 0x00:word32] = Mem1114[ebp_147 - 44 + 0x00:word32] + 0x01;
							Mem1119[esp_146 + 0x00:word32] = Mem1116[ebp_147 - 44 + 0x00:word32];
							Mem1121[ebp_147 - 100 + 0x00:word32] = atoi(Mem1119[esp_146 + 0x00:(ptr char)]);
						}
						Mem1092[esp_146 + 0x00:word32] = Mem1087[ebp_147 - 0x48 + 0x00:word32];
						Mem1094[ebp_147 - 0x60 + 0x00:word32] = atoi(Mem1092[esp_146 + 0x00:(ptr char)]);
						if (Mem1094[ebp_147 - 0x60 + 0x00:word32] > 0x00)
						{
							if (Mem1094[ebp_147 - 0x60 + 0x00:word32] < Mem1094[(ebp_147 - 0x54) + 0x00:word32])
								Mem1112[ebp_147 - 0x60 + 0x00:word32] = Mem1094[ebp_147 - 0x54 + 0x00:word32];
							if (Mem1094[ebp_147 - 100 + 0x00:word32] <= 0x00)
								Mem1110[ebp_147 - 100 + 0x00:word32] = Mem1094[ebp_147 - 0x60 + 0x00:word32] + Mem1094[0x080D52D0:word32] - 0x01;
						}
					}
					if (Mem466[ebp_147 - 0x60 + 0x00:word32] <= 0x00)
					{
						Mem1059[ebp_147 - 0x60 + 0x00:word32] = Mem466[ebp_147 - 0x54 + 0x00:word32];
						Mem1061[ebp_147 - 100 + 0x00:word32] = Mem1059[ebp_147 - 88 + 0x00:word32];
						if (Mem1061[ebp_147 - 100 + 0x00:word32] - Mem1061[(ebp_147 - 0x60) + 0x00:word32] > Mem1061[0x080D52D0:word32] - 0x01)
							Mem1076[ebp_147 - 0x60 + 0x00:word32] = Mem1061[ebp_147 - 100 + 0x00:word32] - Mem1061[0x080D52D0:word32] + 0x01;
					}
					Mem500[ebp_147 - 0x9C + 0x00:word32] = Mem466[ebp_147 - 100 + 0x00:word32];
					word32 edi_501 = Mem500[ebp_147 - 0x60 + 0x00:word32];
					word32 esi_502 = Mem500[ebp_147 - 100 + 0x00:word32];
					word32 ebx_503 = Mem500[ebp_147 - 0x60 + 0x00:word32];
					Mem505[esp_146 + 0x00:word32] = Mem500[ebp_147 + 0x08:word32];
					byte bpl_506;
					word32 eax_508 = Mem505[parsedURL2Str(dwArg00, out bpl_506) + 0x00:word32];
					Mem510[esp_146 + 0x1C:word32] = Mem505[ebp_147 - 0x9C + 0x00:word32];
					Mem511[esp_146 + 0x18:word32] = edi_501;
					Mem513[esp_146 + 0x14:word32] = Mem511[ebp_147 - 0x28 + 0x00:word32];
					Mem514[esp_146 + 0x10:word32] = esi_502;
					Mem515[esp_146 + 0x0C:word32] = ebx_503;
					Mem517[esp_146 + 0x08:word32] = Mem515[ebp_147 - 0x28 + 0x00:word32];
					Mem518[esp_146 + 0x04:word32] = eax_508;
					Mem519[esp_146 + 0x00:word32] = 0x080CF8FC;
					byte bpl_520;
					Mem522[ebp_147 - 0x1C + 0x00:word32] = Sprintf(dwArg00, out bpl_520);
					if (Mem522[ebp_147 - 0x60 + 0x00:word32] > Mem522[(ebp_147 - 0x54) + 0x00:word32])
					{
						Mem1031[ebp_147 - 0x50 + 0x00:word32] = Mem522[ebp_147 - 0x60 + 0x00:word32] - Mem522[0x080D52D0:word32];
						if (Mem1031[ebp_147 - 0x50 + 0x00:word32] < Mem1031[(ebp_147 - 0x54) + 0x00:word32])
							Mem1057[ebp_147 - 0x50 + 0x00:word32] = Mem1031[ebp_147 - 0x54 + 0x00:word32];
						word32 ecx_1038 = Mem1031[ebp_147 - 0x50 + 0x00:word32];
						word32 eax_1039 = Mem1031[ebp_147 - 0x60 + 0x00:word32];
						word32 edx_1041 = Mem1031[ebp_147 - 0x50 + 0x00:word32];
						word32 eax_1042 = Mem1031[ebp_147 - 0x40 + 0x00:word32];
						Mem1043[esp_146 + 0x18:word32] = Mem1031[ebp_147 - 0x60 + 0x00:word32] - 0x01;
						Mem1044[esp_146 + 0x14:word32] = ecx_1038;
						Mem1045[esp_146 + 0x10:word32] = eax_1039 - 0x01;
						Mem1046[esp_146 + 0x0C:word32] = edx_1041;
						Mem1048[esp_146 + 0x08:word32] = Mem1046[ebp_147 - 0x28 + 0x00:word32];
						Mem1049[esp_146 + 0x04:word32] = eax_1042;
						Mem1050[esp_146 + 0x00:word32] = 0x080CF970;
						byte bpl_1051;
						word32 eax_1052 = Sprintf(dwArg00, out bpl_1051);
						word32 edx_1053 = Mem1050[ebp_147 - 0x1C + 0x00:word32];
						Mem1054[esp_146 + 0x04:word32] = eax_1052;
						Mem1055[esp_146 + 0x00:word32] = edx_1053;
						Strcat(dwArg00, dwArg04);
					}
					word32 eax_531 = Mem522[ebp_147 - 0x1C + 0x00:word32];
					Mem532[esp_146 + 0x04:word32] = 0x080CF992;
					Mem533[esp_146 + 0x00:word32] = eax_531;
					Strcat_charp(dwArg00, dwArg04);
					word32 eax_535 = Mem533[ebp_147 - 0x60 + 0x00:word32];
					Mem536[esp_146 + 0x08:word32] = Mem533[ebp_147 - 100 + 0x00:word32];
					Mem537[esp_146 + 0x04:word32] = eax_535;
					Mem538[esp_146 + 0x00:word32] = 0x080CF99B;
					byte bpl_539;
					word32 eax_541 = Mem538[Sprintf(dwArg00, out bpl_539) + 0x00:word32];
					Mem543[esp_146 + 0x0C:word32] = ebp_147 - 0x4C;
					Mem544[esp_146 + 0x08:word32] = eax_541;
					Mem545[esp_146 + 0x04:word32] = 135068065;
					Mem546[esp_146 + 0x00:word32] = 0x0817FBA0;
					news_command(ebp_147, dwArg00, dwArg04, dwArg08);
					if (Mem546[ebp_147 - 0x4C + 0x00:word32] == 0xE0)
					{
						Mem610[ebp_147 - 0x90 + 0x00:byte] = 0x09;
						while (true)
						{
							Mem625[esp_146 + 0x00:word32] = Mem610[135789484:word32];
							Mem627[ebp_147 - 0x20 + 0x00:word32] = StrISgets(dwArg00);
							if ((byte) (word32) Mem627[Mem627[Mem627[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x2E && ((byte) ((word32) Mem627[Mem627[Mem627[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x0A || ((byte) ((word32) Mem627[Mem627[Mem627[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x0D || (byte) ((word32) Mem627[Mem627[Mem627[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x00)) || ((byte) ((word32) Mem627[Mem627[Mem627[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x0A || (byte) ((word32) Mem627[Mem627[Mem627[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x0D))
								break;
							byte al_651 = (byte) (word32) Mem627[Mem627[Mem627[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32] + 0x00:byte];
							if (al_651 == 0x00)
								break;
							word32 eax_657 = Mem627[Mem627[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32];
							word32 ecx_658 = ebp_147 - 0x50;
							Mem659[esp_146 + 0x08:word32] = ecx_658;
							Mem660[esp_146 + 0x04:word32] = 0x080CF799;
							Mem661[esp_146 + 0x00:word32] = eax_657;
							word32 edi_664;
							word32 esi_665;
							word32 ebx_666;
							byte SCZO_667;
							word32 eax_668;
							byte SZO_669;
							byte C_670;
							byte Z_671;
							byte al_672;
							word32 edx_673;
							word32 ecx_674;
							byte SO_675;
							byte S_676;
							byte bpl_678;
							!sscanf();
							if (eax_668 == 0x01)
							{
								word32 eax_686 = Mem661[Mem661[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32];
								Mem687[esp_146 + 0x04:word32] = 0x09;
								Mem688[esp_146 + 0x00:word32] = eax_686;
								Mem690[ebp_147 - 0x34 + 0x00:word32] = strchr(Mem688[esp_146 + 0x00:(ptr char)], Mem688[esp_146 + 0x04:char]);
								if (Mem690[ebp_147 - 0x34 + 0x00:word32] == 0x00)
									goto l080A7E8E;
								Mem694[ebp_147 - 0x34 + 0x00:word32] = Mem690[ebp_147 - 0x34 + 0x00:word32] + 0x01;
								Mem695[esp_146 + 0x04:word32] = 0x09;
								Mem697[esp_146 + 0x00:word32] = Mem695[ebp_147 - 0x34 + 0x00:word32];
								Mem699[ebp_147 - 0x3C + 0x00:word32] = strchr(Mem697[esp_146 + 0x00:(ptr char)], Mem697[esp_146 + 0x04:char]);
								if (Mem699[ebp_147 - 0x3C + 0x00:word32] == 0x00)
									goto l080A7E8E;
								Mem703[Mem699[ebp_147 - 0x3C + 0x00:word32] + 0x00:byte] = 0x00;
								Mem705[ebp_147 - 0x3C + 0x00:word32] = Mem703[ebp_147 - 0x3C + 0x00:word32] + 0x01;
								Mem706[esp_146 + 0x04:word32] = 0x09;
								Mem708[esp_146 + 0x00:word32] = Mem706[ebp_147 - 0x3C + 0x00:word32];
								Mem710[ebp_147 - 0x38 + 0x00:word32] = strchr(Mem708[esp_146 + 0x00:(ptr char)], Mem708[esp_146 + 0x04:char]);
								if (Mem710[ebp_147 - 0x38 + 0x00:word32] == 0x00)
									goto l080A7E8E;
								Mem714[Mem710[ebp_147 - 0x38 + 0x00:word32] + 0x00:byte] = 0x00;
								Mem716[ebp_147 - 0x38 + 0x00:word32] = Mem714[ebp_147 - 0x38 + 0x00:word32] + 0x01;
								Mem717[esp_146 + 0x04:word32] = 0x09;
								Mem719[esp_146 + 0x00:word32] = Mem717[ebp_147 - 0x38 + 0x00:word32];
								Mem721[ebp_147 - 44 + 0x00:word32] = strchr(Mem719[esp_146 + 0x00:(ptr char)], Mem719[esp_146 + 0x04:char]);
								if (Mem721[ebp_147 - 44 + 0x00:word32] == 0x00)
									goto l080A7E8E;
								Mem725[Mem721[ebp_147 - 44 + 0x00:word32] + 0x00:byte] = 0x00;
								Mem727[ebp_147 - 44 + 0x00:word32] = Mem725[ebp_147 - 44 + 0x00:word32] + 0x01;
								if ((byte) (word32) Mem727[Mem727[ebp_147 - 44 + 0x00:word32] + 0x00:byte] == 0x3C)
									Mem846[ebp_147 - 44 + 0x00:word32] = Mem727[ebp_147 - 44 + 0x00:word32] + 0x01;
								Mem733[esp_146 + 0x04:word32] = 0x3E;
								Mem735[esp_146 + 0x00:word32] = Mem733[ebp_147 - 44 + 0x00:word32];
								Mem737[ebp_147 - 0x30 + 0x00:word32] = strchr(Mem735[esp_146 + 0x00:(ptr char)], Mem735[esp_146 + 0x04:char]);
								if (Mem737[ebp_147 - 0x30 + 0x00:word32] == 0x00)
								{
									Mem838[esp_146 + 0x04:word32] = 0x09;
									Mem840[esp_146 + 0x00:word32] = Mem838[ebp_147 - 44 + 0x00:word32];
									Mem842[ebp_147 - 0x30 + 0x00:word32] = strchr(Mem840[esp_146 + 0x00:(ptr char)], Mem840[esp_146 + 0x04:char]);
									if (Mem842[ebp_147 - 0x30 + 0x00:word32] == 0x00)
										goto l080A7E8E;
								}
								word32 edx_754;
								Mem742[Mem737[ebp_147 - 0x30 + 0x00:word32] + 0x00:byte] = 0x00;
								word32 eax_743 = Mem742[ebp_147 - 0x34 + 0x00:word32];
								Mem744[esp_146 + 0x00:word32] = eax_743;
								Strnew_charp(eax_743, dwArg00);
								Mem746[esp_146 + 0x04:word32] = ebp_147 - 0x70;
								Mem747[esp_146 + 0x00:word32] = eax_743;
								Mem749[ebp_147 - 0x20 + 0x00:word32] = decodeMIME(ebp_147, gs_161, dwArg00, dwArg04);
								if (Mem749[ebp_147 - 0x70 + 0x00:word32] != 0x00)
									edx_754 = Mem749[ebp_147 - 0x70 + 0x00:word32];
								else
									edx_754 = Mem749[ebp_147 - 0x6C + 0x00:word32];
								word32 eax_759;
								if (Mem749[ebp_147 - 0x70 + 0x00:word32] != 0x00)
									eax_759 = ebp_147 - 0x70;
								else
									eax_759 = Mem749[ebp_147 + 0x0C:word32];
								word32 edx_784;
								Mem761[esp_146 + 0x10:word32] = edx_754;
								Mem762[esp_146 + 0x0C:word32] = eax_759;
								Mem763[esp_146 + 0x08:word32] = 0x03;
								Mem765[esp_146 + 0x04:word32] = Mem763[ebp_147 - 0x20 + 0x00:word32];
								Mem767[esp_146 + 0x00:word32] = ebp_147 - 0x90;
								Mem772[ebp_147 - 0x34 + 0x00:word32] = Mem767[convertLine(ebp_147, dwArg04, dwArg0C, dwArg10) + 0x00:word32];
								word32 eax_773 = Mem772[ebp_147 - 0x3C + 0x00:word32];
								Mem774[esp_146 + 0x00:word32] = eax_773;
								Strnew_charp(eax_773, dwArg00);
								Mem776[esp_146 + 0x04:word32] = ebp_147 - 0x70;
								Mem777[esp_146 + 0x00:word32] = eax_773;
								Mem779[ebp_147 - 0x20 + 0x00:word32] = decodeMIME(ebp_147, gs_161, dwArg00, dwArg04);
								if (Mem779[ebp_147 - 0x70 + 0x00:word32] != 0x00)
									edx_784 = Mem779[ebp_147 - 0x70 + 0x00:word32];
								else
									edx_784 = Mem779[ebp_147 - 0x6C + 0x00:word32];
								word32 eax_789;
								if (Mem779[ebp_147 - 0x70 + 0x00:word32] != 0x00)
									eax_789 = ebp_147 - 0x70;
								else
									eax_789 = Mem779[ebp_147 + 0x0C:word32];
								word32 eax_805;
								Mem791[esp_146 + 0x10:word32] = edx_784;
								Mem792[esp_146 + 0x0C:word32] = eax_789;
								Mem793[esp_146 + 0x08:word32] = 0x03;
								Mem795[esp_146 + 0x04:word32] = Mem793[ebp_147 - 0x20 + 0x00:word32];
								Mem797[esp_146 + 0x00:word32] = ebp_147 - 0x90;
								Mem800[ebp_147 - 0x3C + 0x00:word32] = Mem797[convertLine(ebp_147, dwArg04, dwArg0C, dwArg10) + 0x00:word32];
								if (Mem800[Mem800[ebp_147 + 0x08:word32] + 0x00:word32] == 0x08)
									eax_805 = Mem800[ebp_147 - 0x28 + 0x00:word32];
								else
									eax_805 = 0x00;
								word32 ebx_807 = Mem800[ebp_147 - 0x40 + 0x00:word32];
								word32 ecx_808 = Mem800[ebp_147 - 0x50 + 0x00:word32];
								word32 edx_809 = Mem800[ebp_147 - 0x1C + 0x00:word32];
								Mem810[esp_146 + 0x1C:word32] = eax_805;
								Mem811[esp_146 + 0x18:word32] = ebx_807;
								Mem813[esp_146 + 0x14:word32] = Mem811[ebp_147 - 44 + 0x00:word32];
								Mem815[esp_146 + 0x10:word32] = Mem813[ebp_147 - 0x34 + 0x00:word32];
								Mem817[esp_146 + 0x0C:word32] = Mem815[ebp_147 - 0x3C + 0x00:word32];
								Mem819[esp_146 + 0x08:word32] = Mem817[ebp_147 - 0x38 + 0x00:word32];
								Mem820[esp_146 + 0x04:word32] = ecx_808;
								Mem821[esp_146 + 0x00:word32] = edx_809;
								add_news_message(ebp_147, dwArg04, dwArg08, dwArg0C);
								continue;
							}
l080A7E8E:
						}
					}
					else
					{
						word32 eax_1022;
						Mem871[esp_146 + 0x08:word32] = Mem546[135789484:word32];
						Mem872[esp_146 + 0x04:word32] = 0x09;
						Mem874[esp_146 + 0x00:word32] = ebp_147 - 0x90;
						init_stream(dwArg00, dwArg04, dwArg08);
						word32 edx_875 = Mem874[0x081807A0:word32];
						if (Mem874[0x0817C2D8:word32] != 0x00)
							eax_1022 = 0x06;
						else
							eax_1022 = 0x01;
						word32 ecx_882 = edx_875 - eax_1022;
						word32 eax_1020 = ecx_882;
						if (ecx_882 < 0x00)
							eax_1020 = 0x00;
						Mem891[esp_146 + 0x00:word32] = eax_1020;
						Mem893[ebp_147 - 0x24 + 0x00:word32] = newBuffer(eax_1020, dwArg00);
						Mem895[ebp_147 - 0x50 + 0x00:word32] = Mem893[ebp_147 - 0x60 + 0x00:word32];
						while (Mem895[ebp_147 - 0x50 + 0x00:word32] <= Mem895[(ebp_147 - 100) + 0x00:word32] && Mem895[(ebp_147 - 0x50) + 0x00:word32] <= Mem895[(ebp_147 - 88) + 0x00:word32])
						{
							Mem910[esp_146 + 0x04:word32] = Mem895[ebp_147 - 0x50 + 0x00:word32];
							Mem911[esp_146 + 0x00:word32] = 0x080CF799;
							byte bpl_912;
							word32 eax_914 = Mem911[Sprintf(dwArg00, out bpl_912) + 0x00:word32];
							Mem916[esp_146 + 0x0C:word32] = ebp_147 - 0x4C;
							Mem917[esp_146 + 0x08:word32] = eax_914;
							Mem918[esp_146 + 0x04:word32] = 0x080CF9A7;
							Mem919[esp_146 + 0x00:word32] = 0x0817FBA0;
							news_command(ebp_147, dwArg00, dwArg04, dwArg08);
							if (Mem919[ebp_147 - 0x4C + 0x00:word32] == 0xDD)
							{
								Mem933[esp_146 + 0x0C:word32] = 0x00;
								Mem934[esp_146 + 0x08:word32] = 0x00;
								Mem936[esp_146 + 0x04:word32] = Mem934[ebp_147 - 0x24 + 0x00:word32];
								Mem938[esp_146 + 0x00:word32] = ebp_147 - 0x90;
								readHeader(ebp_147 - 0x90, ebp_147, gs_161, dwArg00, dwArg04, dwArg08);
								Mem939[esp_146 + 0x04:word32] = 0x080CF9AC;
								Mem941[esp_146 + 0x00:word32] = Mem939[ebp_147 - 0x24 + 0x00:word32];
								word32 edx_942;
								Mem944[ebp_147 - 44 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_942);
								if (Mem944[ebp_147 - 44 + 0x00:word32] != 0x00)
								{
									if ((byte) (word32) Mem944[Mem944[ebp_147 - 44 + 0x00:word32] + 0x00:byte] == 0x3C)
										Mem1018[ebp_147 - 44 + 0x00:word32] = Mem944[ebp_147 - 44 + 0x00:word32] + 0x01;
									Mem952[esp_146 + 0x04:word32] = 0x3E;
									Mem954[esp_146 + 0x00:word32] = Mem952[ebp_147 - 44 + 0x00:word32];
									Mem956[ebp_147 - 0x30 + 0x00:word32] = strchr(Mem954[esp_146 + 0x00:(ptr char)], Mem954[esp_146 + 0x04:char]);
									if (Mem956[ebp_147 - 0x30 + 0x00:word32] == 0x00)
									{
										Mem1008[esp_146 + 0x04:word32] = 0x09;
										Mem1010[esp_146 + 0x00:word32] = Mem1008[ebp_147 - 44 + 0x00:word32];
										Mem1012[ebp_147 - 0x30 + 0x00:word32] = strchr(Mem1010[esp_146 + 0x00:(ptr char)], Mem1010[esp_146 + 0x04:char]);
										if (Mem1012[ebp_147 - 0x30 + 0x00:word32] == 0x00)
											Mem1016[Mem1012[ebp_147 - 0x30 + 0x00:word32] + 0x00:byte] = 0x00;
									}
									Mem959[esp_146 + 0x04:word32] = 135068088;
									Mem961[esp_146 + 0x00:word32] = Mem959[ebp_147 - 0x24 + 0x00:word32];
									word32 edx_962;
									Mem964[ebp_147 - 0x34 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_962);
									if (Mem964[ebp_147 - 0x34 + 0x00:word32] != 0x00)
									{
										Mem967[esp_146 + 0x04:word32] = 0x080CF9C1;
										Mem969[esp_146 + 0x00:word32] = Mem967[ebp_147 - 0x24 + 0x00:word32];
										word32 edx_970;
										Mem972[ebp_147 - 0x3C + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_970);
										if (Mem972[ebp_147 - 0x3C + 0x00:word32] != 0x00)
										{
											Mem975[esp_146 + 0x04:word32] = 0x080CF9C7;
											Mem977[esp_146 + 0x00:word32] = Mem975[ebp_147 - 0x24 + 0x00:word32];
											word32 edx_978;
											Mem980[ebp_147 - 0x38 + 0x00:word32] = checkHeader(dwArg00, dwArg04, out edx_978);
											if (Mem980[ebp_147 - 0x38 + 0x00:word32] != 0x00)
											{
												word32 eax_1004;
												if (Mem980[Mem980[ebp_147 + 0x08:word32] + 0x00:word32] == 0x08)
													eax_1004 = Mem980[ebp_147 - 0x28 + 0x00:word32];
												else
													eax_1004 = 0x00;
												word32 ebx_989 = Mem980[ebp_147 - 0x40 + 0x00:word32];
												word32 ecx_990 = Mem980[ebp_147 - 0x50 + 0x00:word32];
												word32 edx_991 = Mem980[ebp_147 - 0x1C + 0x00:word32];
												Mem992[esp_146 + 0x1C:word32] = eax_1004;
												Mem993[esp_146 + 0x18:word32] = ebx_989;
												Mem995[esp_146 + 0x14:word32] = Mem993[ebp_147 - 44 + 0x00:word32];
												Mem997[esp_146 + 0x10:word32] = Mem995[ebp_147 - 0x34 + 0x00:word32];
												Mem999[esp_146 + 0x0C:word32] = Mem997[ebp_147 - 0x3C + 0x00:word32];
												Mem1001[esp_146 + 0x08:word32] = Mem999[ebp_147 - 0x38 + 0x00:word32];
												Mem1002[esp_146 + 0x04:word32] = ecx_990;
												Mem1003[esp_146 + 0x00:word32] = edx_991;
												add_news_message(ebp_147, dwArg04, dwArg08, dwArg0C);
											}
										}
									}
								}
							}
							Mem932[ebp_147 - 0x50 + 0x00:word32] = Mem919[ebp_147 - 0x50 + 0x00:word32] + 0x01;
						}
					}
					word32 eax_564 = Mem546[ebp_147 - 0x1C + 0x00:word32];
					Mem565[esp_146 + 0x04:word32] = 0x080CF9CD;
					Mem566[esp_146 + 0x00:word32] = eax_564;
					Strcat_charp(dwArg00, dwArg04);
					if (Mem566[ebp_147 - 100 + 0x00:word32] < Mem566[(ebp_147 - 88) + 0x00:word32])
					{
						Mem583[ebp_147 - 0x50 + 0x00:word32] = Mem566[ebp_147 - 100 + 0x00:word32] + Mem566[0x080D52D0:word32];
						if (Mem583[ebp_147 - 0x50 + 0x00:word32] > Mem583[(ebp_147 - 88) + 0x00:word32])
							Mem609[ebp_147 - 0x50 + 0x00:word32] = Mem583[ebp_147 - 88 + 0x00:word32];
						word32 eax_589 = Mem583[ebp_147 - 100 + 0x00:word32];
						word32 edx_591 = Mem583[ebp_147 - 0x50 + 0x00:word32];
						word32 eax_592 = Mem583[ebp_147 - 100 + 0x00:word32];
						word32 eax_594 = Mem583[ebp_147 - 0x40 + 0x00:word32];
						Mem595[esp_146 + 0x18:word32] = Mem583[ebp_147 - 0x50 + 0x00:word32];
						Mem596[esp_146 + 0x14:word32] = eax_589 + 0x01;
						Mem597[esp_146 + 0x10:word32] = edx_591;
						Mem598[esp_146 + 0x0C:word32] = eax_592 + 0x01;
						Mem600[esp_146 + 0x08:word32] = Mem598[ebp_147 - 0x28 + 0x00:word32];
						Mem601[esp_146 + 0x04:word32] = eax_594;
						Mem602[esp_146 + 0x00:word32] = 0x080CF970;
						byte bpl_603;
						word32 eax_604 = Sprintf(dwArg00, out bpl_603);
						word32 edx_605 = Mem602[ebp_147 - 0x1C + 0x00:word32];
						Mem606[esp_146 + 0x04:word32] = eax_604;
						Mem607[esp_146 + 0x00:word32] = edx_605;
						Strcat(dwArg00, dwArg04);
					}
					Mem579[ebp_147 - 0x5C + 0x00:word32] = 0x01;
				}
			}
			Mem240[esp_146 + 0x04:word32] = Mem223[ebp_147 - 0x44 + 0x00:word32];
			Mem241[esp_146 + 0x00:word32] = 0x080CF9D7;
			byte bpl_242;
			Mem244[ebp_147 - 0x20 + 0x00:word32] = Sprintf(dwArg00, out bpl_242);
			word32 eax_245 = Mem244[ebp_147 - 0x44 + 0x00:word32];
			Mem246[esp_146 + 0x04:word32] = 0x2A;
			Mem247[esp_146 + 0x00:word32] = eax_245;
			if (strchr(Mem247[esp_146 + 0x00:(ptr char)], Mem247[esp_146 + 0x04:char]) == 0x00)
			{
				Mem451[esp_146 + 0x04:word32] = 0x080CF9E1;
				Mem453[esp_146 + 0x00:word32] = Mem451[ebp_147 - 0x20 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			word32 eax_253 = Mem247[Mem247[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32];
			Mem255[esp_146 + 0x0C:word32] = ebp_147 - 0x4C;
			Mem256[esp_146 + 0x08:word32] = eax_253;
			Mem257[esp_146 + 0x04:word32] = 0x080CF9E4;
			Mem258[esp_146 + 0x00:word32] = 0x0817FBA0;
			news_command(ebp_147, dwArg00, dwArg04, dwArg08);
			if (Mem258[ebp_147 - 0x4C + 0x00:word32] == 0xD7)
			{
				while (true)
				{
					Mem277[esp_146 + 0x00:word32] = Mem258[135789484:word32];
					Mem279[ebp_147 - 0x20 + 0x00:word32] = StrISgets(dwArg00);
					if ((byte) (word32) Mem279[Mem279[Mem279[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32] + 0x00:byte] == 0x2E && ((byte) ((word32) Mem279[Mem279[Mem279[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x0A || ((byte) ((word32) Mem279[Mem279[Mem279[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x0D || (byte) ((word32) Mem279[Mem279[Mem279[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x01:byte]) == 0x00)) || ((byte) ((word32) Mem279[Mem279[Mem279[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x0A || ((byte) ((word32) Mem279[Mem279[Mem279[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x0D || (byte) ((word32) Mem279[Mem279[Mem279[(ebp_147 - 0x20) + 0x00:word32] + 0x00:word32] + 0x00:byte]) == 0x00)))
						break;
					if (Mem279[ebp_147 - 0x5C + 0x00:word32] <= 0x01)
					{
						if (Mem279[ebp_147 - 0x5C + 0x00:word32] == 0x01)
						{
							word32 eax_426 = Mem279[ebp_147 - 0x1C + 0x00:word32];
							Mem427[esp_146 + 0x04:word32] = 0x080CF9E9;
							Mem428[esp_146 + 0x00:word32] = eax_426;
							Strcat_charp(dwArg00, dwArg04);
						}
						word32 eax_422 = Mem279[ebp_147 - 0x1C + 0x00:word32];
						Mem423[esp_146 + 0x04:word32] = 0x080CF992;
						Mem424[esp_146 + 0x00:word32] = eax_422;
						Strcat_charp(dwArg00, dwArg04);
						Mem425[ebp_147 - 0x5C + 0x00:word32] = 0x02;
					}
					Mem323[ebp_147 - 44 + 0x00:word32] = Mem279[Mem279[ebp_147 - 0x20 + 0x00:word32] + 0x00:word32];
					Mem325[ebp_147 - 0x30 + 0x00:word32] = Mem323[ebp_147 - 44 + 0x00:word32];
					while (true)
					{
						byte al_329 = (byte) (word32) Mem325[Mem325[ebp_147 - 0x30 + 0x00:word32] + 0x00:byte];
						if (al_329 == 0x00 || ((word32) ((byte) ((word32) Mem325[(word32) ((byte) ((word32) Mem325[Mem325[(ebp_147 - 0x30) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
							break;
						Mem417[ebp_147 - 0x30 + 0x00:word32] = Mem325[ebp_147 - 0x30 + 0x00:word32] + 0x01;
					}
					Mem334[Mem325[ebp_147 - 0x30 + 0x00:word32] + 0x00:byte] = 0x00;
					Mem336[ebp_147 - 0x30 + 0x00:word32] = Mem334[ebp_147 - 0x30 + 0x00:word32] + 0x01;
					word32 eax_339 = Mem336[ebp_147 - 0x30 + 0x00:word32];
					Mem341[esp_146 + 0x0C:word32] = ebp_147 - 0x54;
					word32 ecx_342 = ebp_147 - 88;
					Mem343[esp_146 + 0x08:word32] = ecx_342;
					Mem344[esp_146 + 0x04:word32] = 0x080CF9EF;
					Mem345[esp_146 + 0x00:word32] = eax_339;
					word32 edi_348;
					word32 esi_349;
					word32 ebx_350;
					byte SCZO_351;
					word32 eax_352;
					byte SZO_353;
					byte C_354;
					byte Z_355;
					byte al_356;
					word32 edx_357;
					word32 ecx_358;
					byte SO_359;
					byte S_360;
					byte bpl_362;
					!sscanf();
					if (eax_352 == 0x02 && Mem345[(ebp_147 - 88) + 0x00:word32] >= Mem345[(ebp_147 - 0x54) + 0x00:word32])
						Mem404[ebp_147 - 0x50 + 0x00:word32] = Mem345[ebp_147 - 88 + 0x00:word32] - Mem345[(ebp_147 - 0x54) + 0x00:word32] + 0x01;
					else
						Mem392[ebp_147 - 0x50 + 0x00:word32] = 0x00;
					Mem368[esp_146 + 0x00:word32] = Mem345[ebp_147 - 44 + 0x00:word32];
					word32 eax_369 = html_quote(dwArg00);
					Mem372[esp_146 + 0x00:word32] = Mem368[ebp_147 - 44 + 0x00:word32];
					Mem374[esp_146 + 0x00:word32] = file_quote(dwArg00);
					word32 eax_375 = html_quote(dwArg00);
					word32 ecx_376 = Mem374[ebp_147 - 0x40 + 0x00:word32];
					word32 edx_377 = Mem374[ebp_147 - 0x50 + 0x00:word32];
					Mem378[esp_146 + 0x10:word32] = eax_369;
					Mem379[esp_146 + 0x0C:word32] = eax_375;
					Mem380[esp_146 + 0x08:word32] = ecx_376;
					Mem381[esp_146 + 0x04:word32] = edx_377;
					Mem382[esp_146 + 0x00:word32] = 0x080CF9F8;
					byte bpl_383;
					word32 eax_384 = Sprintf(dwArg00, out bpl_383);
					word32 edx_385 = Mem382[ebp_147 - 0x1C + 0x00:word32];
					Mem386[esp_146 + 0x04:word32] = eax_384;
					Mem387[esp_146 + 0x00:word32] = edx_385;
					Strcat(dwArg00, dwArg04);
				}
				if (Mem279[ebp_147 - 0x5C + 0x00:word32] == 0x02)
				{
					word32 eax_292 = Mem279[ebp_147 - 0x1C + 0x00:word32];
					Mem293[esp_146 + 0x04:word32] = 0x080CF9CD;
					Mem294[esp_146 + 0x00:word32] = eax_292;
					Strcat_charp(dwArg00, dwArg04);
				}
			}
		}
		word32 eax_178 = Mem145[ebp_147 - 0x1C + 0x00:word32];
		Mem179[esp_146 + 0x04:word32] = 0x080CFA29;
		Mem180[esp_146 + 0x00:word32] = eax_178;
		Strcat_charp(dwArg00, dwArg04);
		if ((byte) (word32) Mem180[0x080D52C5:byte] != 0x00)
		{
			if ((byte) (word32) Mem180[135774799:byte] != 0x00)
				term_raw(gs_161);
			if (Mem180[ebp_147 - 0x68 + 0x00:word32] != 0x00)
			{
				Mem201[esp_146 + 0x04:word32] = Mem180[ebp_147 - 0x68 + 0x00:word32];
				Mem202[esp_146 + 0x00:word32] = 0x02;
				mySignal(dwArg00, dwArg04);
			}
		}
		eax_189 = Mem180[ebp_147 - 0x1C + 0x00:word32];
	}
	else
		eax_189 = 0x00;
	byte bpl_57;
	*bplOut = (byte) Mem26[esp_146 + 200:word32];
	return eax_189;
}

// 080A83BA: void closeNews()
void closeNews()
{
	news_close(0x0817FBA0);
}

// 080A83CE: void disconnectNews()
void disconnectNews()
{
	news_quit(fp - 0x04, 0x0817FBA0);
}

// 080A83E4: void setKeymap(Register word32 ebp, Register selector gs)
void setKeymap(word32 ebp, selector gs)
{
	getQWord(fp + 0x04, fp + 0x04);
	Mem20[fp - 0x1C + 0x00:word32] = getKey(fp - 0x04);
	word32 ebp_125 = fp - 0x04;
	word32 esp_10 = fp - 0x5C;
	if (Mem20[fp - 0x1C + 0x00:word32] < 0x00)
	{
		if (Mem20[fp + 0x08:word32] > 0x00)
		{
			Mem61[fp - 0x54 + 0x00:word32] = Mem20[fp - 0x14 + 0x00:word32];
			Mem63[fp - 88 + 0x00:word32] = Mem61[fp + 0x08:word32];
			Mem64[fp - 0x5C + 0x00:word32] = 0x080CFF93;
			byte bpl_65;
			Mem68[fp - 0x18 + 0x00:word32] = Mem64[Sprintf(dwArg00, out bpl_65) + 0x00:word32];
		}
		else
		{
			Mem70[fp - 88 + 0x00:word32] = Mem20[fp - 0x14 + 0x00:word32];
			Mem71[fp - 0x5C + 0x00:word32] = 0x080CFFAD;
			byte bpl_72;
			Mem75[fp - 0x18 + 0x00:word32] = Mem71[Sprintf(dwArg00, out bpl_72) + 0x00:word32];
		}
		Mem44[fp - 0x5C + 0x00:word32] = Mem20[fp - 0x18 + 0x00:word32];
		record_err_message(dwArg00);
		if (Mem44[fp + 0x0C:word32] != 0x00)
		{
			Mem48[fp - 0x4C + 0x00:word32] = 0x00;
			Mem49[fp - 0x50 + 0x00:word32] = 0x01;
			Mem50[fp - 0x54 + 0x00:word32] = 0x01;
			Mem51[fp - 88 + 0x00:word32] = 0x00;
			Mem53[fp - 0x5C + 0x00:word32] = Mem51[fp - 0x18 + 0x00:word32];
			disp_message_nsec(fp - 0x04, gs, dwArg00);
		}
	}
	else
	{
		Mem77[fp - 0x5C + 0x00:word32] = fp + 0x04;
		Mem79[fp - 0x14 + 0x00:word32] = getWord(dwArg00);
		Mem81[fp - 0x5C + 0x00:word32] = Mem79[fp - 0x14 + 0x00:word32];
		Mem83[fp - 0x20 + 0x00:word32] = getFuncList(dwArg00);
		if (Mem83[fp - 0x20 + 0x00:word32] < 0x00)
		{
			if (Mem83[fp + 0x08:word32] > 0x00)
			{
				Mem101[fp - 0x54 + 0x00:word32] = Mem83[fp - 0x14 + 0x00:word32];
				Mem103[fp - 88 + 0x00:word32] = Mem101[fp + 0x08:word32];
				Mem104[fp - 0x5C + 0x00:word32] = 0x080CFFC6;
				byte bpl_105;
				Mem108[fp - 0x18 + 0x00:word32] = Mem104[Sprintf(dwArg00, out bpl_105) + 0x00:word32];
			}
			else
			{
				Mem110[fp - 88 + 0x00:word32] = Mem83[fp - 0x14 + 0x00:word32];
				Mem111[fp - 0x5C + 0x00:word32] = 0x080CFFE4;
				byte bpl_112;
				Mem115[fp - 0x18 + 0x00:word32] = Mem111[Sprintf(dwArg00, out bpl_112) + 0x00:word32];
			}
			Mem90[fp - 0x5C + 0x00:word32] = Mem83[fp - 0x18 + 0x00:word32];
			record_err_message(dwArg00);
			if (Mem90[fp + 0x0C:word32] != 0x00)
			{
				Mem93[fp - 0x4C + 0x00:word32] = 0x00;
				Mem94[fp - 0x50 + 0x00:word32] = 0x01;
				Mem95[fp - 0x54 + 0x00:word32] = 0x01;
				Mem96[fp - 88 + 0x00:word32] = 0x00;
				Mem98[fp - 0x5C + 0x00:word32] = Mem96[fp - 0x18 + 0x00:word32];
				disp_message_nsec(fp - 0x04, gs, dwArg00);
			}
		}
		else
		{
			if ((Mem83[fp - 0x1C + 0x00:word32] & 0x10000000) != 0x00)
			{
				Mem170[fp - 0x24 + 0x00:word32] = 0x00;
				Mem174[fp - 0x30 + 0x00:word32] = Mem170[fp - 0x1C + 0x00:word32] >> 0x10 & 1919;
				if ((Mem174[fp - 0x30 + 0x00:word32] & 0x0400) != 0x00)
					Mem344[fp - 0x10 + 0x00:word32] = 0x080D9360;
				else if ((Mem174[fp - 0x30 + 0x00:word32] & 0x0200) != 0x00)
					Mem350[fp - 0x10 + 0x00:word32] = 0x080D92E0;
				else if ((Mem174[fp - 0x30 + 0x00:word32] & 0x0100) != 0x00)
					Mem356[fp - 0x10 + 0x00:word32] = 0x080D9260;
				else
					Mem357[fp - 0x10 + 0x00:word32] = 0x080D91E0;
				if ((byte) (word32) Mem174[(Mem174[fp - 0x30 + 0x00:word32] & 0x7F) + Mem174[(fp - 0x10) + 0x00:word32]:byte] == 0x4A)
				{
					Mem334[fp - 0x5C + 0x00:word32] = Mem174[fp - 0x30 + 0x00:word32];
					Mem337[fp - 0x24 + 0x00:word32] = getKeyData(dwArg00);
				}
				else
					Mem343[(Mem174[fp - 0x30 + 0x00:word32] & 0x7F) + Mem174[(fp - 0x10) + 0x00:word32]:byte] = 0x4A;
				if (Mem174[fp - 0x24 + 0x00:word32] == 0x00)
				{
					Mem248[fp - 0x5C + 0x00:word32] = 0x10;
					word32 ebx_251;
					byte SCZO_252;
					word32 eax_253;
					byte S_254;
					byte SZO_255;
					byte Z_256;
					byte C_257;
					byte al_258;
					word32 edx_259;
					byte dl_260;
					selector gs_261;
					byte bpl_262;
					!GC_malloc();
					Mem263[ebp_125 - 0x20 + 0x00:word32] = eax_253;
					Mem264[ebp_125 - 0x24 + 0x00:word32] = 0x00;
					while (Mem264[ebp_125 - 0x24 + 0x00:word32] <= 0x03)
					{
						Mem299[esp_10 + 0x00:word32] = 0x80;
						word32 ebx_302;
						byte SCZO_303;
						word32 eax_304;
						byte S_305;
						byte SZO_306;
						byte Z_307;
						byte C_308;
						byte al_309;
						word32 edx_310;
						byte dl_311;
						selector gs_312;
						byte bpl_313;
						!GC_malloc();
						Mem314[ebx_302 + 0x00:word32] = eax_304;
						Mem315[ebp_125 - 0x28 + 0x00:word32] = 0x00;
						while (Mem315[ebp_125 - 0x28 + 0x00:word32] <= 0x7F)
						{
							Mem329[Mem315[ebp_125 - 0x20 + 0x00:word32][Mem315[ebp_125 - 0x24 + 0x00:word32] * 0x04] + Mem315[(ebp_125 - 0x28) + 0x00:word32]:byte] = 0x00;
							Mem331[ebp_125 - 0x28 + 0x00:word32] = Mem329[ebp_125 - 0x28 + 0x00:word32] + 0x01;
						}
						Mem321[ebp_125 - 0x24 + 0x00:word32] = Mem315[ebp_125 - 0x24 + 0x00:word32] + 0x01;
					}
					Mem282[Mem264[Mem264[ebp_125 - 0x20 + 0x00:word32] + 0x00:word32] + 0x1B:byte] = 0x1C;
					Mem287[Mem282[Mem282[ebp_125 - 0x20 + 0x00:word32] + 0x04:word32] + 0x5B:byte] = 0x1B;
					Mem293[Mem287[Mem287[ebp_125 - 0x20 + 0x00:word32] + 0x04:word32] + 0x4F:byte] = 0x1B;
				}
				word32 eax_202 = Mem174[0x0817FC60:word32];
				if (eax_202 == 0x00)
				{
					Mem246[esp_10 + 0x00:word32] = 0x10;
					newHash_iv(eax_202, dwArg00);
					Mem247[0x0817FC60:word32] = eax_202;
				}
				word32 eax_207 = Mem174[0x0817FC60:word32];
				Mem209[esp_10 + 0x08:word32] = Mem174[ebp_125 - 0x20 + 0x00:word32];
				Mem211[esp_10 + 0x04:word32] = Mem209[ebp_125 - 44 + 0x00:word32];
				Mem212[esp_10 + 0x00:word32] = eax_207;
				putHash_iv(dwArg00, dwArg04, dwArg08);
				if ((Mem212[ebp_125 - 0x18 + 0x00:word32] & 0x0400) != 0x00)
					Mem222[ebp_125 - 0x0C + 0x00:word32] = Mem212[Mem212[ebp_125 - 0x20 + 0x00:word32] + 0x0C:word32];
				else if ((Mem212[ebp_125 - 0x18 + 0x00:word32] & 0x0200) != 0x00)
					Mem232[ebp_125 - 0x0C + 0x00:word32] = Mem212[Mem212[ebp_125 - 0x20 + 0x00:word32] + 0x08:word32];
				else if ((Mem212[ebp_125 - 0x18 + 0x00:word32] & 0x0100) != 0x00)
					Mem242[ebp_125 - 0x0C + 0x00:word32] = Mem212[Mem212[ebp_125 - 0x20 + 0x00:word32] + 0x04:word32];
				else
					Mem245[ebp_125 - 0x0C + 0x00:word32] = Mem212[Mem212[ebp_125 - 0x20 + 0x00:word32] + 0x00:word32];
			}
			else if ((Mem83[fp - 0x1C + 0x00:word32] & 0x0400) != 0x00)
				Mem363[fp - 0x10 + 0x00:word32] = 0x080D9360;
			else if ((Mem83[fp - 0x1C + 0x00:word32] & 0x0200) != 0x00)
				Mem369[fp - 0x10 + 0x00:word32] = 0x080D92E0;
			else if ((Mem83[fp - 0x1C + 0x00:word32] & 0x0100) != 0x00)
				Mem375[fp - 0x10 + 0x00:word32] = 0x080D9260;
			else
				Mem376[fp - 0x10 + 0x00:word32] = 0x080D91E0;
			Mem133[(Mem83[ebp_125 - 0x18 + 0x00:word32] & 0x7F) + Mem83[(ebp_125 - 0x0C) + 0x00:word32]:byte] = (byte) Mem83[ebp_125 - 0x1C + 0x00:word32];
			word32 eax_134 = ebp_125 + 0x08;
			Mem135[esp_10 + 0x00:word32] = eax_134;
			Mem137[ebp_125 - 0x10 + 0x00:word32] = getQWord(eax_134, dwArg00);
			if ((byte) (word32) Mem137[Mem137[ebp_125 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
			{
				word32 eax_144 = Mem137[0x0817FC60:word32];
				if (eax_144 == 0x00)
				{
					Mem157[esp_10 + 0x00:word32] = 0x10;
					newHash_iv(eax_144, dwArg00);
					Mem158[0x0817FC60:word32] = eax_144;
				}
				word32 eax_149 = Mem137[0x0817FC60:word32];
				Mem151[esp_10 + 0x08:word32] = Mem137[ebp_125 - 0x10 + 0x00:word32];
				Mem153[esp_10 + 0x04:word32] = Mem151[ebp_125 - 0x18 + 0x00:word32];
				Mem154[esp_10 + 0x00:word32] = eax_149;
				putHash_iv(dwArg00, dwArg04, dwArg08);
			}
			else
			{
				Mem160[esp_10 + 0x00:word32] = Mem137[ebp_125 - 0x18 + 0x00:word32];
				if (getKeyData(dwArg00) != 0x00)
				{
					word32 eax_165 = Mem160[0x0817FC60:word32];
					Mem166[esp_10 + 0x08:word32] = 0x00;
					Mem168[esp_10 + 0x04:word32] = Mem166[ebp_125 - 0x18 + 0x00:word32];
					Mem169[esp_10 + 0x00:word32] = eax_165;
					putHash_iv(dwArg00, dwArg04, dwArg08);
				}
			}
		}
	}
}

// 080A87D7: void interpret_keymap(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void interpret_keymap(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_24 = fileno(dwArg04);
	if (eax_24 >= 0x00 && (fstat(eax_24, fp - 0x94) == 0x00 && (dwArg0C != 0x00 || (dwLoc54 != Mem0[dwArg08 + 0x40:word32] || ((Mem0[dwArg08 + 0x00:word32] ^ dwLoc94 | dwLoc90 ^ Mem0[dwArg08 + 0x04:word32]) != 0x00 || (dwLoc88 != Mem0[dwArg08 + 0x0C:word32] || dwLoc68 != Mem0[dwArg08 + 44:word32]))))))
	{
		word32 edi_69 = dwArg08;
		word32 esi_70 = fp - 0x94;
		word32 ecx_71 = 22;
		while (ecx_71 != 0x00)
		{
			Mem76[edi_69 + 0x00:word32] = Mem0[esi_70 + 0x00:word32];
			esi_70 = esi_70 + 0x04;
			edi_69 = edi_69 + 0x04;
			ecx_71 = ecx_71 - 0x01;
		}
		while (true)
		{
			Mem88[fp - 188 + 0x00:word32] = Mem0[fp + 0x04:word32];
			if (feof(Mem88[fp - 188 + 0x00:(ptr FILE)]) != 0x00)
				break;
			word32 eax_93 = Mem88[fp + 0x04:word32];
			Mem94[fp - 188 + 0x00:word32] = eax_93;
			Strfgets(eax_93, dwArg00);
			Mem96[fp - 0x24 + 0x00:word32] = eax_93;
			Mem98[fp - 0x34 + 0x00:word32] = Mem96[fp - 0x34 + 0x00:word32] + 0x01;
			Mem101[fp - 188 + 0x00:word32] = Mem98[fp - 0x24 + 0x00:word32];
			Strchop(dwArg00);
			Mem103[fp - 188 + 0x00:word32] = Mem101[fp - 0x24 + 0x00:word32];
			Strremovefirstspaces(dwArg00);
			if (Mem103[Mem103[fp - 0x24 + 0x00:word32] + 0x04:word32] == 0x00)
				continue;
			Mem110[fp - 0xB4 + 0x00:word32] = Mem103[135091052:word32];
			Mem112[fp - 0xB8 + 0x00:word32] = Mem110[fp - 0x38 + 0x00:word32];
			Mem114[fp - 188 + 0x00:word32] = Mem112[fp - 0x24 + 0x00:word32];
			word32 ebx_115;
			Mem117[fp - 0x24 + 0x00:word32] = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_115);
			Mem120[fp - 0x28 + 0x00:word32] = Mem117[Mem117[fp - 0x24 + 0x00:word32] + 0x00:word32];
			Mem122[fp - 188 + 0x00:word32] = fp - 0x28;
			Mem124[fp - 44 + 0x00:word32] = getWord(dwArg00);
			if ((byte) (word32) Mem124[Mem124[fp - 44 + 0x00:word32] + 0x00:byte] == 0x23)
				continue;
			Mem130[fp - 0xB8 + 0x00:word32] = 0x080D0001;
			Mem132[fp - 188 + 0x00:word32] = Mem130[fp - 44 + 0x00:word32];
			if (strcmp(Mem132[fp - 188 + 0x00:(ptr char)], Mem132[fp - 0xB8 + 0x00:(ptr char)]) != 0x00)
			{
				Mem137[fp - 0xB8 + 0x00:word32] = 0x080D0008;
				Mem139[fp - 188 + 0x00:word32] = Mem137[fp - 44 + 0x00:word32];
				if (strcmp(Mem139[fp - 188 + 0x00:(ptr char)], Mem139[fp - 0xB8 + 0x00:(ptr char)]) != 0x00)
				{
					Mem161[fp - 0xB8 + 0x00:word32] = 0x080D0010;
					Mem163[fp - 188 + 0x00:word32] = Mem161[fp - 44 + 0x00:word32];
					if (strcmp(Mem163[fp - 188 + 0x00:(ptr char)], Mem163[fp - 0xB8 + 0x00:(ptr char)]) != 0x00)
					{
						Mem168[fp - 0xB8 + 0x00:word32] = 0x080D0019;
						Mem170[fp - 188 + 0x00:word32] = Mem168[fp - 44 + 0x00:word32];
						if (strcmp(Mem170[fp - 188 + 0x00:(ptr char)], Mem170[fp - 0xB8 + 0x00:(ptr char)]) == 0x00)
						{
							Mem176[fp - 188 + 0x00:word32] = fp - 0x28;
							Mem178[fp - 44 + 0x00:word32] = getWord(dwArg00);
							if ((byte) (word32) Mem178[Mem178[fp - 44 + 0x00:word32] + 0x00:byte] != 0x00)
							{
								Mem186[fp - 0xB8 + 0x00:word32] = Mem178[fp - 0x3C + 0x00:word32];
								Mem188[fp - 188 + 0x00:word32] = Mem186[fp - 44 + 0x00:word32];
								Mem190[fp - 0x3C + 0x00:word32] = str_to_bool(dwArg00);
							}
						}
						else
						{
							Mem192[fp - 0xB4 + 0x00:word32] = Mem170[fp - 44 + 0x00:word32];
							Mem194[fp - 0xB8 + 0x00:word32] = Mem192[fp - 0x34 + 0x00:word32];
							Mem195[fp - 188 + 0x00:word32] = 0x080D0021;
							byte bpl_196;
							Mem199[fp - 0x30 + 0x00:word32] = Mem195[Sprintf(dwArg00, out bpl_196) + 0x00:word32];
							Mem201[fp - 188 + 0x00:word32] = Mem199[fp - 0x30 + 0x00:word32];
							record_err_message(dwArg00);
							if (Mem201[fp - 0x3C + 0x00:word32] != 0x00)
							{
								Mem204[fp - 0xAC + 0x00:word32] = 0x00;
								Mem205[fp - 0xB0 + 0x00:word32] = 0x01;
								Mem206[fp - 0xB4 + 0x00:word32] = 0x01;
								Mem207[fp - 0xB8 + 0x00:word32] = 0x00;
								Mem209[fp - 188 + 0x00:word32] = Mem207[fp - 0x30 + 0x00:word32];
								disp_message_nsec(fp - 0x04, gs, dwArg00);
							}
						}
						continue;
					}
				}
				Mem145[fp - 188 + 0x00:word32] = fp - 0x28;
				Mem147[fp - 44 + 0x00:word32] = getQWord(fp - 0x28, dwArg00);
				if ((byte) (word32) Mem147[Mem147[fp - 44 + 0x00:word32] + 0x00:byte] != 0x00)
				{
					Mem155[fp - 0xB8 + 0x00:word32] = Mem147[fp - 0x38 + 0x00:word32];
					Mem157[fp - 188 + 0x00:word32] = Mem155[fp - 44 + 0x00:word32];
					Mem160[fp - 0x38 + 0x00:word32] = wc_guess_charset(gs, dwArg00, dwArg04);
				}
				continue;
			}
			word32 eax_211 = Mem132[fp - 0x28 + 0x00:word32];
			Mem213[fp - 0xB4 + 0x00:word32] = Mem132[fp - 0x3C + 0x00:word32];
			Mem215[fp - 0xB8 + 0x00:word32] = Mem213[fp - 0x34 + 0x00:word32];
			Mem216[fp - 188 + 0x00:word32] = eax_211;
			setKeymap(fp - 0x04, gs);
		}
	}
}

// 080A8A8F: Register word32 initKeymap(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 initKeymap(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_16 = fopen(confFile(0x080D0001), 0x080D003C);
	if (eax_16 != 0x00)
	{
		word32 eax_106;
		if (dwArg04 == 0x00 && (byte) ((word32) Mem0[135789668:byte]) != 0x00)
			eax_106 = 0x00;
		else
			eax_106 = 0x01;
		interpret_keymap(fp - 0x04, gs, eax_16, 0x0817FC80, eax_106);
		Mem94[fp - 44 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
		fclose(Mem94[fp - 44 + 0x00:(ptr FILE)]);
	}
	Mem31[fp - 44 + 0x00:word32] = Mem0[0x080D53B8:word32];
	word32 eax_33 = rcFile(dwArg00);
	Mem34[fp - 0x28 + 0x00:word32] = 0x080D003C;
	Mem35[fp - 44 + 0x00:word32] = eax_33;
	word32 eax_36 = fopen(Mem35[fp - 44 + 0x00:(ptr char)], Mem35[fp - 0x28 + 0x00:(ptr char)]);
	Mem38[fp - 0x10 + 0x00:word32] = eax_36;
	if (Mem38[fp - 0x10 + 0x00:word32] != 0x00)
	{
		word32 eax_58;
		if (Mem38[fp + 0x04:word32] == 0x00 && (byte) ((word32) Mem38[135789668:byte]) != 0x00)
			eax_58 = 0x00;
		else
			eax_58 = 0x01;
		Mem59[fp - 0x24 + 0x00:word32] = eax_58;
		Mem60[fp - 0x28 + 0x00:word32] = 0x0817FCE0;
		Mem62[fp - 44 + 0x00:word32] = Mem60[fp - 0x10 + 0x00:word32];
		interpret_keymap(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
		Mem67[fp - 44 + 0x00:word32] = Mem62[fp - 0x10 + 0x00:word32];
		eax_36 = fclose(Mem67[fp - 44 + 0x00:(ptr FILE)]);
	}
	Mem46[135789668:byte] = 0x01;
	return eax_36;
}

// 080A8B6E: Register word32 getFuncList(Stack word32 dwArg04)
word32 getFuncList(word32 dwArg04)
{
	return getHash_si(0x080D9010, dwArg04, ~0x00);
}

// 080A8B91: Register word32 getKeyData(Stack word32 dwArg04)
word32 getKeyData(word32 dwArg04)
{
	word32 eax_16;
	if (Mem0[0x0817FC60:word32] == 0x00)
		eax_16 = 0x00;
	else
		eax_16 = getHash_iv(Mem0[0x0817FC60:word32], dwArg04, 0x00);
	return eax_16;
}

// 080A8BC5: Register word32 getKey2(Stack word32 dwArg04)
word32 getKey2(word32 dwArg04)
{
	word32 eax_112;
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 dwLoc10_11 = eax_10;
	word32 dwLoc18_12 = 0x00;
	word32 dwLoc1C_13 = 0x00;
	if (eax_10 != 0x00 && (byte) ((word32) Mem0[eax_10 + 0x00:byte]) != 0x00)
	{
		if (strcasecmp(eax_10, 0x080CFF56) == 0x00)
		{
			Mem83[dwArg04 + 0x00:word32] = eax_10 + 0x02;
			eax_112 = 577;
		}
		else if (strcasecmp(eax_10, 0x080CFB09) == 0x00)
		{
			Mem97[dwArg04 + 0x00:word32] = eax_10 + 0x04;
			eax_112 = 0x0242;
		}
		else if (strcasecmp(eax_10, 0x080CFE41) == 0x00)
		{
			Mem111[dwArg04 + 0x00:word32] = eax_10 + 0x05;
			eax_112 = 0x0243;
		}
		else if (strcasecmp(eax_10, 0x080CFBCA) == 0x00)
		{
			Mem125[dwArg04 + 0x00:word32] = eax_10 + 0x04;
			eax_112 = 0x0244;
		}
		else
		{
			if (strncasecmp(eax_10, 0x080D003F, 0x04) != 0x00 && strncasecmp(eax_10, 0x080D0044, 0x04) != 0x00)
			{
				if (strncasecmp(eax_10, 0x080D0049, 0x02) != 0x00 && strncasecmp(eax_10, 0x080D004C, 0x02) != 0x00)
				{
					if ((byte) (word32) Mem0[eax_10 + 0x00:byte] == 0x1B)
					{
						dwLoc10_11 = eax_10 + 0x01;
						dwLoc18_12 = 0x0100;
					}
				}
				else
				{
					dwLoc10_11 = eax_10 + 0x02;
					dwLoc18_12 = 0x0100;
				}
			}
			else
			{
				dwLoc10_11 = eax_10 + 0x04;
				dwLoc18_12 = 0x0100;
			}
			if (strncasecmp(dwLoc10_11, 0x080D004F, 0x02) == 0x00)
			{
				dwLoc10_11 = dwLoc10_11 + 0x02;
				dwLoc1C_13 = 0x01;
			}
			else if ((byte) (word32) Mem0[dwLoc10_11 + 0x00:byte] == 0x5E && (byte) ((word32) Mem0[dwLoc10_11 + 0x01:byte]) != 0x00)
			{
				dwLoc10_11 = dwLoc10_11 + 0x01;
				dwLoc1C_13 = 0x01;
			}
			if (dwLoc18_12 == 0x00 && (dwLoc1C_13 != 0x00 && (byte) ((word32) Mem0[dwLoc10_11 + 0x00:byte]) == 0x5B))
			{
				dwLoc10_11 = dwLoc10_11 + 0x01;
				dwLoc1C_13 = 0x00;
				dwLoc18_12 = 0x0100;
			}
			if (dwLoc18_12 != 0x00 && dwLoc1C_13 == 0x00)
			{
				if ((byte) (word32) Mem0[dwLoc10_11 + 0x00:byte] == 0x5B || (byte) ((word32) Mem0[dwLoc10_11 + 0x00:byte]) == 0x4F)
				{
					dwLoc10_11 = dwLoc10_11 + 0x01;
					dwLoc18_12 = 0x0200;
				}
				if (strncasecmp(dwLoc10_11, 0x080D004F, 0x02) == 0x00)
				{
					dwLoc10_11 = dwLoc10_11 + 0x02;
					dwLoc1C_13 = 0x01;
				}
				else if ((byte) (word32) Mem0[dwLoc10_11 + 0x00:byte] == 0x5E && (byte) ((word32) Mem0[dwLoc10_11 + 0x01:byte]) != 0x00)
				{
					dwLoc10_11 = dwLoc10_11 + 0x01;
					dwLoc1C_13 = 0x01;
				}
			}
			if (dwLoc1C_13 != 0x00)
			{
				Mem179[dwArg04 + 0x00:word32] = dwLoc10_11 + 0x01;
				if ((byte) (word32) Mem179[dwLoc10_11 + 0x00:byte] > 0x3F && (byte) ((word32) Mem179[dwLoc10_11 + 0x00:byte]) <= 0x5F)
					eax_112 = (int32) (byte) (word32) Mem179[dwLoc10_11 + 0x00:byte] - 0x40 | dwLoc18_12;
				else if ((byte) (word32) Mem179[dwLoc10_11 + 0x00:byte] > 0x60 && (byte) ((word32) Mem179[dwLoc10_11 + 0x00:byte]) <= 122)
					eax_112 = (int32) (byte) (word32) Mem179[dwLoc10_11 + 0x00:byte] - 0x60 | dwLoc18_12;
				else if ((byte) (word32) Mem179[dwLoc10_11 + 0x00:byte] == 0x3F)
					eax_112 = dwLoc18_12 | 0x7F;
				else
					eax_112 = ~0x00;
			}
			else if (dwLoc18_12 == 0x0200 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_11 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
			{
				word32 eax_377 = (int32) (byte) (word32) Mem0[dwLoc10_11 + 0x00:byte];
				word32 v20_380 = dwLoc10_11 + 0x01;
				word32 dwLoc14_379 = eax_377 - 0x30;
				word32 dwLoc10_381 = v20_380;
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[v20_380 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
				{
					dwLoc14_379 = ((eax_377 - 0x30 << 0x02) + (eax_377 - 0x30)) * 0x02 + ((int32) ((byte) ((word32) Mem0[v20_380 + 0x00:byte])) - 0x30);
					dwLoc10_381 = v20_380 + 0x01;
				}
				Mem398[dwArg04 + 0x00:word32] = dwLoc10_381 + 0x01;
				if ((byte) (word32) Mem398[dwLoc10_381 + 0x00:byte] == 0x7E)
					eax_112 = DPB(dwLoc14_379, SLICE(dwLoc14_379, byte, 8) | 0x04, 8);
				else
					eax_112 = ~0x00;
			}
			else if (strncasecmp(dwLoc10_11, 0x080D0052, 0x03) == 0x00)
			{
				Mem249[dwArg04 + 0x00:word32] = dwLoc10_11 + 0x03;
				eax_112 = dwLoc18_12 | 0x20;
			}
			else if (strncasecmp(dwLoc10_11, 0x080D0056, 0x03) == 0x00)
			{
				Mem267[dwArg04 + 0x00:word32] = dwLoc10_11 + 0x03;
				eax_112 = dwLoc18_12 | 0x09;
			}
			else if (strncasecmp(dwLoc10_11, 0x080D005A, 0x03) == 0x00)
			{
				Mem285[dwArg04 + 0x00:word32] = dwLoc10_11 + 0x03;
				eax_112 = dwLoc18_12 | 0x7F;
			}
			else if ((byte) (word32) Mem0[dwLoc10_11 + 0x00:byte] == 0x5C && (byte) ((word32) Mem0[dwLoc10_11 + 0x01:byte]) != 0x00)
			{
				word32 v23_331 = dwLoc10_11 + 0x01;
				Mem336[dwArg04 + 0x00:word32] = v23_331 + 0x01;
				word32 eax_340 = (int32) (byte) (word32) Mem336[v23_331 + 0x00:byte];
				if (eax_340 <=u 116)
				{
					word32 eax_346 = 0x080D0060[(eax_340 - 0x5C) * 0x04];
					word32 esp_349;
					word32 ebp_350;
					byte SCZO_351;
					word32 eax_352;
					byte Z_353;
					byte al_354;
					byte SZO_355;
					byte C_356;
					word32 edx_357;
					byte ah_358;
					byte CZ_359;
					eax_346();
					return eax_352;
				}
				eax_112 = ~0x00;
			}
			else
			{
				Mem300[dwArg04 + 0x00:word32] = dwLoc10_11 + 0x01;
				if (((word32) (byte) (word32) Mem300[(word32) (byte) (word32) Mem300[dwLoc10_11 + 0x00:byte] + 0x080DB700:byte] & 0x11) != 0x00)
					eax_112 = (int32) (byte) (word32) Mem300[dwLoc10_11 + 0x00:byte] | dwLoc18_12;
				else
					eax_112 = ~0x00;
			}
		}
	}
	else
		eax_112 = ~0x00;
	return eax_112;
}

// 080A90C7: Register word32 getKey(Register word32 ebp)
word32 getKey(word32 ebp)
{
	word32 eax_19;
	Mem11[fp - 0x10 + 0x00:word32] = getKey2(fp + 0x04);
	if (Mem11[fp - 0x10 + 0x00:word32] < 0x00)
	{
		eax_19 = ~0x00;
		return eax_19;
	}
	if ((byte) (word32) Mem11[Mem11[fp + 0x04:word32] + 0x00:byte] == 0x20 || (byte) ((word32) Mem11[Mem11[fp + 0x04:word32] + 0x00:byte]) == 0x2D)
		Mem68[fp + 0x04:word32] = Mem11[fp + 0x04:word32] + 0x01;
	if ((byte) (word32) Mem11[Mem11[fp + 0x04:word32] + 0x00:byte] != 0x00)
	{
		Mem48[fp - 44 + 0x00:word32] = fp + 0x04;
		Mem51[fp - 0x14 + 0x00:word32] = getKey2(dwArg00);
		if (Mem51[fp - 0x14 + 0x00:word32] < 0x00)
		{
			eax_19 = ~0x00;
			return eax_19;
		}
		Mem62[fp - 0x10 + 0x00:word32] = Mem51[fp - 0x10 + 0x00:word32] << 0x10 | 0x10000000 | Mem51[(fp - 0x14) + 0x00:word32];
	}
	eax_19 = Mem11[fp - 0x10 + 0x00:word32];
	return eax_19;
}

// 080A9140: Register word32 getWord(Stack word32 dwArg04)
word32 getWord(word32 dwArg04)
{
	word32 dwLoc10_12 = Mem0[dwArg04 + 0x00:word32];
	while ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_12 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc10_12 = dwLoc10_12 + 0x01;
	dwLoc10_27 = dwLoc10_12;
	while (true)
	{
		word32 dwLoc10_27;
		if ((byte) (word32) Mem0[dwLoc10_27 + 0x00:byte] == 0x00 || (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_27 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00 || (byte) ((word32) Mem0[dwLoc10_27 + 0x00:byte]) == 0x3B))
			break;
		dwLoc10_27 = dwLoc10_27 + 0x01;
	}
	Mem40[dwArg04 + 0x00:word32] = dwLoc10_27;
	word32 edx_50;
	return Mem40[Strnew_charp_n(dwLoc10_12, dwLoc10_12, dwLoc10_27 - dwLoc10_12, out edx_50) + 0x00:word32];
}

// 080A91D9: Register word32 getQWord(Register word32 eax, Stack word32 dwArg04)
word32 getQWord(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	word32 dwLoc18_10 = 0x00;
	word32 dwLoc1C_11 = 0x00;
	word32 dwLoc20_109 = 0x00;
	word32 dwLoc14_17 = Mem0[dwArg04 + 0x00:word32];
	while ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc14_17 = dwLoc14_17 + 0x01;
	while ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] != 0x00)
	{
		if (dwLoc20_109 != 0x00)
		{
			if (dwLoc18_10 != 0x00)
			{
				if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] != 0x5C && (byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte]) != 0x27)
				{
					if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
						Strgrow(eax);
					word32 eax_133 = Mem0[eax + 0x04:word32];
					Mem136[Mem0[eax + 0x00:word32] + eax_133:byte] = 0x5C;
					Mem139[eax + 0x04:word32] = eax_133 + 0x01;
					Mem145[Mem139[eax + 0x00:word32] + Mem139[eax + 0x04:word32]:byte] = 0x00;
				}
			}
			else if (dwLoc1C_11 != 0x00)
			{
				if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] != 0x5C && (byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte]) != 0x22)
				{
					if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
						Strgrow(eax);
					word32 eax_171 = Mem0[eax + 0x04:word32];
					Mem174[Mem0[eax + 0x00:word32] + eax_171:byte] = 0x5C;
					Mem177[eax + 0x04:word32] = eax_171 + 0x01;
					Mem183[Mem177[eax + 0x00:word32] + Mem177[eax + 0x04:word32]:byte] = 0x00;
				}
			}
			else if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] != 0x5C && ((byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte]) != 0x27 && ((byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte]) != 0x22 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00)))
			{
				if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
					Strgrow(eax);
				word32 eax_223 = Mem0[eax + 0x04:word32];
				Mem226[Mem0[eax + 0x00:word32] + eax_223:byte] = 0x5C;
				Mem229[eax + 0x04:word32] = eax_223 + 0x01;
				Mem235[Mem229[eax + 0x00:word32] + Mem229[eax + 0x04:word32]:byte] = 0x00;
			}
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_92 = Mem0[eax + 0x04:word32];
			Mem99[Mem0[eax + 0x00:word32] + eax_92:byte] = (byte) (word32) Mem0[dwLoc14_17 + 0x00:byte];
			Mem102[eax + 0x04:word32] = eax_92 + 0x01;
			Mem108[Mem102[eax + 0x00:word32] + Mem102[eax + 0x04:word32]:byte] = 0x00;
			dwLoc20_109 = 0x00;
		}
		else if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] == 0x5C)
			dwLoc20_109 = 0x01;
		else if (dwLoc18_10 != 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] == 0x27)
				dwLoc18_10 = 0x00;
			else
			{
				if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
					Strgrow(eax);
				word32 eax_263 = Mem0[eax + 0x04:word32];
				Mem270[Mem0[eax + 0x00:word32] + eax_263:byte] = (byte) (word32) Mem0[dwLoc14_17 + 0x00:byte];
				Mem273[eax + 0x04:word32] = eax_263 + 0x01;
				Mem279[Mem273[eax + 0x00:word32] + Mem273[eax + 0x04:word32]:byte] = 0x00;
			}
		}
		else if (dwLoc1C_11 != 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] == 0x22)
				dwLoc1C_11 = 0x00;
			else
			{
				if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
					Strgrow(eax);
				word32 eax_301 = Mem0[eax + 0x04:word32];
				Mem308[Mem0[eax + 0x00:word32] + eax_301:byte] = (byte) (word32) Mem0[dwLoc14_17 + 0x00:byte];
				Mem311[eax + 0x04:word32] = eax_301 + 0x01;
				Mem317[Mem311[eax + 0x00:word32] + Mem311[eax + 0x04:word32]:byte] = 0x00;
			}
		}
		else if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] == 0x27)
			dwLoc18_10 = 0x01;
		else if ((byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] == 0x22)
			dwLoc1C_11 = 0x01;
		else
		{
			if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_17 + 0x00:byte] + 0x080DB700:byte] & 0x02) != 0x00 || (byte) ((word32) Mem0[dwLoc14_17 + 0x00:byte]) == 0x3B)
				break;
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_359 = Mem0[eax + 0x04:word32];
			Mem366[Mem0[eax + 0x00:word32] + eax_359:byte] = (byte) (word32) Mem0[dwLoc14_17 + 0x00:byte];
			Mem369[eax + 0x04:word32] = eax_359 + 0x01;
			Mem375[Mem369[eax + 0x00:word32] + Mem369[eax + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_17 = dwLoc14_17 + 0x01;
	}
	Mem48[dwArg04 + 0x00:word32] = dwLoc14_17;
	return Mem48[eax + 0x00:word32];
}

// 080A95B9: void setMouseAction0(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void setMouseAction0(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_13 = getQWord(fp + 0x10, fp + 0x10);
	if ((byte) (word32) Mem0[eax_13 + 0x00:byte] == 0x00)
	{
		Mem42[dwArg04 + 0x00:word32] = 0x00;
		word32 dwLoc14_44 = 0x00;
		while (dwLoc14_44 <= 0x02)
		{
			dwArg0C[dwLoc14_44 * 0x04] = 0x00;
			dwLoc14_44 = dwLoc14_44 + 0x01;
		}
	}
	else
	{
		word32 eax_63 = Mem0[dwArg08 + 0x00:word32];
		Mem67[dwArg04 + 0x00:word32] = eax_13;
		Mem72[dwArg08 + 0x00:word32] = wtf_strwidth(eax_13);
		if (Mem72[dwArg08 + 0x00:word32] > 99)
			Mem174[dwArg08 + 0x00:word32] = 100;
		if (Mem72[dwArg08 + 0x00:word32] > eax_63)
		{
			word32 dwLoc14_116 = 0x00;
			while (dwLoc14_116 <= 0x02)
			{
				if (dwArg0C[dwLoc14_116 * 0x04] != 0x00)
				{
					word32 esp_132;
					word32 ebp_133;
					word32 ebx_134;
					byte SCZO_135;
					word32 eax_136;
					byte al_137;
					byte SZO_138;
					byte C_139;
					byte Z_140;
					word32 edx_141;
					!GC_realloc();
					Mem142[ebx_134 + 0x00:word32] = eax_136;
					word32 dwLoc1C_146 = eax_63 + 0x01;
					while (Mem142[dwArg08 + 0x00:word32] > dwLoc1C_146)
					{
						dwArg0C[dwLoc14_116 * 0x04][dwLoc1C_146 * 0x08] = 0x00;
						Mem168[dwArg0C[dwLoc14_116 * 0x04] + (dwLoc1C_146 << 0x03) + 0x04:word32] = 0x00;
						dwLoc1C_146 = dwLoc1C_146 + 0x01;
					}
				}
				dwLoc14_116 = dwLoc14_116 + 0x01;
			}
		}
	}
}

// 080A9701: void setMouseAction1(Stack word32 dwArg04, Stack word32 dwArg08)
void setMouseAction1(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x00:word32] == 0x00)
	{
		word32 esp_151;
		word32 ebp_152;
		byte SCZO_153;
		word32 eax_154;
		byte SZO_155;
		byte C_156;
		byte Z_157;
		word32 edx_158;
		byte al_159;
		byte S_160;
		byte SO_161;
		!GC_malloc();
		Mem164[dwArg04 + 0x00:word32] = eax_154;
		word32 dwLoc14_165 = 0x00;
		while (dwLoc14_165 < dwArg08)
		{
			Mem164[dwArg04 + 0x00:word32][dwLoc14_165 * 0x08] = 0x00;
			Mem182[Mem176[dwArg04 + 0x00:word32] + (dwLoc14_165 << 0x03) + 0x04:word32] = 0x00;
			dwLoc14_165 = dwLoc14_165 + 0x01;
		}
	}
	word32 eax_26 = getWord(fp + 0x0C);
	word32 eax_30 = atoi(eax_26);
	word32 dwLoc14_112 = eax_30;
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[eax_26 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00 && (eax_30 >= 0x00 && eax_30 < dwArg08))
	{
		word32 eax_68 = getWord(fp + 0x0C);
		word32 eax_72 = atoi(eax_68);
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[eax_68 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00 && (eax_72 >= 0x00 && eax_72 < dwArg08))
		{
			word32 eax_96 = getFuncList(getWord(fp + 0x0C));
			word32 eax_100 = getQWord(fp + 0x0C, fp + 0x0C);
			word32 dwLoc10_101 = eax_100;
			if ((byte) (word32) Mem0[eax_100 + 0x00:byte] == 0x00)
				dwLoc10_101 = 0x00;
			while (dwLoc14_112 <= eax_72)
			{
				word32 eax_124;
				word32 edx_120 = Mem0[dwArg04 + 0x00:word32] + (dwLoc14_112 << 0x03);
				if (eax_96 >= 0x00)
					eax_124 = 135103140[eax_96 * 0x08];
				else
					eax_124 = 0x00;
				Mem125[edx_120 + 0x00:word32] = eax_124;
				Mem132[Mem125[dwArg04 + 0x00:word32] + (dwLoc14_112 << 0x03) + 0x04:word32] = dwLoc10_101;
				dwLoc14_112 = dwLoc14_112 + 0x01;
			}
		}
	}
}

// 080A9899: void setMouseAction2(Stack word32 dwArg04)
void setMouseAction2(word32 dwArg04)
{
	word32 eax_14 = getFuncList(getWord(fp + 0x08));
	word32 eax_18 = getQWord(fp + 0x08, fp + 0x08);
	word32 dwLoc10_19 = eax_18;
	if ((byte) (word32) Mem0[eax_18 + 0x00:byte] == 0x00)
		dwLoc10_19 = 0x00;
	word32 eax_31;
	if (eax_14 >= 0x00)
		eax_31 = 135103140[eax_14 * 0x08];
	else
		eax_31 = 0x00;
	Mem34[dwArg04 + 0x00:word32] = eax_31;
	Mem37[dwArg04 + 0x04:word32] = dwLoc10_19;
}

// 080A9901: void interpret_mouse_action(Register word32 ebp)
void interpret_mouse_action(word32 ebp)
{
	while (true)
	{
		Mem27[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		if (feof(Mem27[fp - 44 + 0x00:(ptr FILE)]) != 0x00)
			break;
		word32 eax_40 = Mem27[fp + 0x04:word32];
		Mem41[fp - 44 + 0x00:word32] = eax_40;
		Strfgets(eax_40, dwArg00);
		Mem43[fp - 0x10 + 0x00:word32] = eax_40;
		Mem45[fp - 44 + 0x00:word32] = Mem43[fp - 0x10 + 0x00:word32];
		Strchop(dwArg00);
		Mem47[fp - 44 + 0x00:word32] = Mem45[fp - 0x10 + 0x00:word32];
		Strremovefirstspaces(dwArg00);
		if (Mem47[Mem47[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00)
		{
			word32 esi_53 = Mem47[135091052:word32];
			word32 ebx_54 = Mem47[0x080D5378:word32];
			word32 eax_56 = Mem47[Mem47[fp - 0x10 + 0x00:word32] + 0x00:word32];
			Mem57[fp - 44 + 0x00:word32] = eax_56;
			Strnew_charp(eax_56, dwArg00);
			Mem58[fp - 0x24 + 0x00:word32] = esi_53;
			Mem59[fp - 0x28 + 0x00:word32] = ebx_54;
			Mem60[fp - 44 + 0x00:word32] = eax_56;
			word32 ebx_63;
			Mem66[fp - 0x14 + 0x00:word32] = Mem60[wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_63) + 0x00:word32];
			Mem68[fp - 44 + 0x00:word32] = fp - 0x14;
			Mem70[fp - 0x18 + 0x00:word32] = getWord(dwArg00);
			if ((byte) (word32) Mem70[Mem70[fp - 0x18 + 0x00:word32] + 0x00:byte] != 0x23)
			{
				Mem76[fp - 0x28 + 0x00:word32] = 0x080D00CB;
				Mem78[fp - 44 + 0x00:word32] = Mem76[fp - 0x18 + 0x00:word32];
				if (strcmp(Mem78[fp - 44 + 0x00:(ptr char)], Mem78[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
				{
					Mem84[fp - 0x20 + 0x00:word32] = Mem78[fp - 0x14 + 0x00:word32];
					Mem85[fp - 0x24 + 0x00:word32] = 0x081806FC;
					Mem86[fp - 0x28 + 0x00:word32] = 0x08180688;
					Mem87[fp - 44 + 0x00:word32] = 0x08180680;
					setMouseAction0(dwArg00, dwArg04, dwArg08);
				}
				else
				{
					Mem88[fp - 0x28 + 0x00:word32] = 0x080D00D0;
					Mem90[fp - 44 + 0x00:word32] = Mem88[fp - 0x18 + 0x00:word32];
					if (strcmp(Mem90[fp - 44 + 0x00:(ptr char)], Mem90[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
					{
						Mem96[fp - 0x20 + 0x00:word32] = Mem90[fp - 0x14 + 0x00:word32];
						Mem97[fp - 0x24 + 0x00:word32] = 0x08180708;
						Mem98[fp - 0x28 + 0x00:word32] = 0x0818068C;
						Mem99[fp - 44 + 0x00:word32] = 0x08180684;
						setMouseAction0(dwArg00, dwArg04, dwArg08);
					}
					else
					{
						Mem100[fp - 0x28 + 0x00:word32] = 0x080D00D9;
						Mem102[fp - 44 + 0x00:word32] = Mem100[fp - 0x18 + 0x00:word32];
						if (strcmp(Mem102[fp - 44 + 0x00:(ptr char)], Mem102[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
						{
							Mem108[fp - 44 + 0x00:word32] = fp - 0x14;
							Mem110[fp - 0x18 + 0x00:word32] = getWord(dwArg00);
							Mem112[fp - 44 + 0x00:word32] = Mem110[fp - 0x18 + 0x00:word32];
							Mem115[fp - 0x1C + 0x00:word32] = atoi(Mem112[fp - 44 + 0x00:(ptr char)]) - 0x01;
							if (Mem115[fp - 0x1C + 0x00:word32] >= 0x00 && Mem115[(fp - 0x1C) + 0x00:word32] <= 0x02)
							{
								while ((byte) (word32) Mem115[Mem115[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem115[(word32) ((byte) ((word32) Mem115[Mem115[(fp - 0x14) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
									Mem253[fp - 0x14 + 0x00:word32] = Mem115[fp - 0x14 + 0x00:word32] + 0x01;
								if (((word32) (byte) (word32) Mem115[(word32) (byte) (word32) Mem115[Mem115[fp - 0x14 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
									Mem234[fp - 0x18 + 0x00:word32] = 0x080D00CB;
								else
								{
									Mem236[fp - 44 + 0x00:word32] = fp - 0x14;
									Mem238[fp - 0x18 + 0x00:word32] = getWord(dwArg00);
								}
								Mem138[fp - 0x28 + 0x00:word32] = 0x080D00CB;
								Mem140[fp - 44 + 0x00:word32] = Mem138[fp - 0x18 + 0x00:word32];
								if (strcasecmp(Mem140[fp - 44 + 0x00:(ptr char)], Mem140[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
								{
									if (Mem140[0x08180680:word32] != 0x00)
									{
										word32 eax_150 = Mem140[0x08180688:word32];
										word32 ecx_153 = (Mem140[fp - 0x1C + 0x00:word32] << 0x02) + 0x081806FC;
										Mem155[fp - 0x24 + 0x00:word32] = Mem140[fp - 0x14 + 0x00:word32];
										Mem156[fp - 0x28 + 0x00:word32] = eax_150;
										Mem157[fp - 44 + 0x00:word32] = ecx_153;
										setMouseAction1(dwArg00, dwArg04);
									}
								}
								else
								{
									Mem158[fp - 0x28 + 0x00:word32] = 0x080D00D0;
									Mem160[fp - 44 + 0x00:word32] = Mem158[fp - 0x18 + 0x00:word32];
									if (strcasecmp(Mem160[fp - 44 + 0x00:(ptr char)], Mem160[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
									{
										if (Mem160[0x08180684:word32] != 0x00)
										{
											word32 eax_170 = Mem160[0x0818068C:word32];
											word32 ecx_173 = (Mem160[fp - 0x1C + 0x00:word32] << 0x02) + 0x08180708;
											Mem175[fp - 0x24 + 0x00:word32] = Mem160[fp - 0x14 + 0x00:word32];
											Mem176[fp - 0x28 + 0x00:word32] = eax_170;
											Mem177[fp - 44 + 0x00:word32] = ecx_173;
											setMouseAction1(dwArg00, dwArg04);
										}
									}
									else
									{
										Mem178[fp - 0x28 + 0x00:word32] = 0x080D00E0;
										Mem180[fp - 44 + 0x00:word32] = Mem178[fp - 0x18 + 0x00:word32];
										if (strcasecmp(Mem180[fp - 44 + 0x00:(ptr char)], Mem180[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
										{
											word32 edx_188 = (Mem180[fp - 0x1C + 0x00:word32] << 0x03) + 0x0818069C;
											Mem190[fp - 0x28 + 0x00:word32] = Mem180[fp - 0x14 + 0x00:word32];
											Mem191[fp - 44 + 0x00:word32] = edx_188;
											setMouseAction2(dwArg00);
										}
										else
										{
											Mem192[fp - 0x28 + 0x00:word32] = 0x080D00E8;
											Mem194[fp - 44 + 0x00:word32] = Mem192[fp - 0x18 + 0x00:word32];
											if (strcasecmp(Mem194[fp - 44 + 0x00:(ptr char)], Mem194[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
											{
												word32 edx_202 = (Mem194[fp - 0x1C + 0x00:word32] << 0x03) + 0x081806B4;
												Mem204[fp - 0x28 + 0x00:word32] = Mem194[fp - 0x14 + 0x00:word32];
												Mem205[fp - 44 + 0x00:word32] = edx_202;
												setMouseAction2(dwArg00);
											}
											else
											{
												Mem206[fp - 0x28 + 0x00:word32] = 0x080D00EF;
												Mem208[fp - 44 + 0x00:word32] = Mem206[fp - 0x18 + 0x00:word32];
												if (strcasecmp(Mem208[fp - 44 + 0x00:(ptr char)], Mem208[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
												{
													word32 edx_216 = (Mem208[fp - 0x1C + 0x00:word32] << 0x03) + 0x081806CC;
													Mem218[fp - 0x28 + 0x00:word32] = Mem208[fp - 0x14 + 0x00:word32];
													Mem219[fp - 44 + 0x00:word32] = edx_216;
													setMouseAction2(dwArg00);
												}
												else
												{
													Mem220[fp - 0x28 + 0x00:word32] = 0x080D00F6;
													Mem222[fp - 44 + 0x00:word32] = Mem220[fp - 0x18 + 0x00:word32];
													if (strcasecmp(Mem222[fp - 44 + 0x00:(ptr char)], Mem222[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
													{
														word32 edx_230 = (Mem222[fp - 0x1C + 0x00:word32] << 0x03) + 0x081806E4;
														Mem232[fp - 0x28 + 0x00:word32] = Mem222[fp - 0x14 + 0x00:word32];
														Mem233[fp - 44 + 0x00:word32] = edx_230;
														setMouseAction2(dwArg00);
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

// 080A9C4C: Register word32 initMouseAction(Register word32 eax, Register word32 ebp)
word32 initMouseAction(word32 eax, word32 ebp)
{
	word32 esp_14;
	word32 ebp_15;
	word32 ebx_16;
	byte SCZO_17;
	word32 eax_18;
	word32 edx_19;
	byte Z_20;
	!bcopy();
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	word32 edx_27;
	byte Z_28;
	!GC_malloc();
	Mem29[0x08180708:word32] = eax_26;
	word32 esp_34;
	word32 ebp_35;
	word32 ebx_36;
	byte SCZO_37;
	word32 eax_38;
	word32 edx_39;
	byte Z_40;
	!bcopy();
	Mem47[ebp_35 - 0x14 + 0x00:word32] = get_symbol(Mem29[0x080D5370:word32], fp - 0x14);
	word32 eax_51 = Mem47[Mem47[ebp_35 - 0x14 + 0x00:word32] + 0xB4:word32];
	Mem52[esp_34 + 0x00:word32] = eax_51;
	Strnew_charp(eax_51, dwArg00);
	Mem55[0x08180684:word32] = Mem52[eax_51 + 0x00:word32];
	Mem57[esp_34 + 0x00:word32] = 0x080D00FA;
	word32 eax_58 = confFile(dwArg00);
	Mem59[esp_34 + 0x04:word32] = 0x080D003C;
	Mem60[esp_34 + 0x00:word32] = eax_58;
	Mem62[ebp_35 - 0x0C + 0x00:word32] = fopen(Mem60[esp_34 + 0x00:(ptr char)], Mem60[esp_34 + 0x04:(ptr char)]);
	if (Mem62[ebp_35 - 0x0C + 0x00:word32] != 0x00)
	{
		Mem87[esp_34 + 0x00:word32] = Mem62[ebp_35 - 0x0C + 0x00:word32];
		interpret_mouse_action(ebp_35);
		Mem89[esp_34 + 0x00:word32] = Mem87[ebp_35 - 0x0C + 0x00:word32];
		fclose(Mem89[esp_34 + 0x00:(ptr FILE)]);
	}
	Mem66[esp_34 + 0x00:word32] = 0x080D00FA;
	word32 eax_67 = rcFile(dwArg00);
	Mem68[esp_34 + 0x04:word32] = 0x080D003C;
	Mem69[esp_34 + 0x00:word32] = eax_67;
	word32 eax_70 = fopen(Mem69[esp_34 + 0x00:(ptr char)], Mem69[esp_34 + 0x04:(ptr char)]);
	Mem71[ebp_35 - 0x0C + 0x00:word32] = eax_70;
	if (Mem71[ebp_35 - 0x0C + 0x00:word32] != 0x00)
	{
		Mem82[esp_34 + 0x00:word32] = Mem71[ebp_35 - 0x0C + 0x00:word32];
		interpret_mouse_action(ebp_35);
		Mem84[esp_34 + 0x00:word32] = Mem82[ebp_35 - 0x0C + 0x00:word32];
		eax_70 = fclose(Mem84[esp_34 + 0x00:(ptr FILE)]);
	}
	return eax_70;
}

// 080A9D54: Register word32 total_dot_number(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 total_dot_number(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc10_19 = 0x00;
	if (dwArg08 == 0x00)
		dwArg08 = strlen(dwArg04) + dwArg04;
	while (dwArg04 <u dwArg08 && dwLoc10_19 < dwArg0C)
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x2E)
			dwLoc10_19 = dwLoc10_19 + 0x01;
		dwArg04 = dwArg04 + 0x01;
	}
	return dwLoc10_19;
}

// 080A9DA1: Register word32 domain_match(Register word32 ebp)
word32 domain_match(word32 ebp)
{
	word32 eax_133;
	regexCompile(0x080D0100, 0x00);
	Mem14[fp - 0x24 + 0x00:word32] = 0x01;
	Mem15[fp - 0x28 + 0x00:word32] = ~0x00;
	Mem17[fp - 44 + 0x00:word32] = Mem15[fp + 0x04:word32];
	Mem22[fp - 0x10 + 0x00:word32] = regexMatch(dwArg00, dwArg04, dwArg08);
	Mem23[fp - 0x24 + 0x00:word32] = 0x01;
	Mem24[fp - 0x28 + 0x00:word32] = ~0x00;
	Mem26[fp - 44 + 0x00:word32] = Mem24[fp + 0x08:word32];
	Mem28[fp - 0x14 + 0x00:word32] = regexMatch(dwArg00, dwArg04, dwArg08);
	if (Mem28[fp - 0x10 + 0x00:word32] != 0x00 && Mem28[(fp - 0x14) + 0x00:word32] != 0x00)
	{
		Mem163[fp - 0x28 + 0x00:word32] = Mem28[fp + 0x08:word32];
		Mem165[fp - 44 + 0x00:word32] = Mem163[fp + 0x04:word32];
		if (strcasecmp(Mem165[fp - 44 + 0x00:(ptr char)], Mem165[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
		{
			eax_133 = Mem165[fp + 0x04:word32];
			return eax_133;
		}
		goto l080A9F3E;
	}
	if (Mem28[fp - 0x10 + 0x00:word32] != 0x00 || Mem28[(fp - 0x14) + 0x00:word32] != 0x00)
		goto l080A9F3E;
	Mem61[fp - 0x28 + 0x00:word32] = 0x080D011F;
	Mem63[fp - 44 + 0x00:word32] = Mem61[fp + 0x08:word32];
	if (strcasecmp(Mem63[fp - 44 + 0x00:(ptr char)], Mem63[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
	{
l080A9E68:
		Mem69[fp - 44 + 0x00:word32] = Mem63[fp + 0x04:word32];
		Mem71[fp - 0x18 + 0x00:word32] = strlen(Mem69[fp - 44 + 0x00:(ptr char)]);
		Mem74[fp - 0x1C + 0x00:word32] = Mem71[fp - 0x18 + 0x00:word32] + Mem71[fp + 0x04:word32];
		if ((byte) (word32) Mem74[Mem74[fp + 0x08:word32] + 0x01:byte] == 0x00)
		{
l080A9EAE:
			eax_133 = Mem74[fp - 0x1C + 0x00:word32];
			return eax_133;
		}
		Mem87[fp - 0x24 + 0x00:word32] = 0x01;
		Mem89[fp - 0x28 + 0x00:word32] = Mem87[fp - 0x1C + 0x00:word32];
		Mem91[fp - 44 + 0x00:word32] = Mem89[fp + 0x04:word32];
		if (total_dot_number(dwArg00, dwArg04, dwArg08) == 0x00)
			goto l080A9EAE;
l080A9F3E:
		eax_133 = 0x00;
		return eax_133;
	}
	Mem96[fp - 0x28 + 0x00:word32] = 0x080D0121;
	Mem98[fp - 44 + 0x00:word32] = Mem96[fp + 0x08:word32];
	if (strcasecmp(Mem98[fp - 44 + 0x00:(ptr char)], Mem98[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
		goto l080A9E68;
	if ((byte) (word32) Mem98[Mem98[fp + 0x08:word32] + 0x00:byte] == 0x2E)
	{
		Mem151[fp - 0x28 + 0x00:word32] = Mem98[fp + 0x08:word32] + 0x01;
		Mem153[fp - 44 + 0x00:word32] = Mem151[fp + 0x04:word32];
		if (strcasecmp(Mem153[fp - 44 + 0x00:(ptr char)], Mem153[fp - 0x28 + 0x00:(ptr char)]) == 0x00)
		{
			eax_133 = Mem153[fp + 0x04:word32];
			return eax_133;
		}
	}
	word32 eax_116;
	if ((byte) (word32) Mem98[Mem98[fp + 0x08:word32] + 0x00:byte] == 0x2E)
	{
		Mem136[fp - 44 + 0x00:word32] = Mem98[fp + 0x04:word32];
		word32 eax_137 = strlen(Mem136[fp - 44 + 0x00:(ptr char)]);
		Mem140[fp - 44 + 0x00:word32] = Mem136[fp + 0x08:word32];
		eax_116 = eax_137 - strlen(Mem140[(fp - 44) + 0x00:(ptr char)]);
	}
	else
		eax_116 = 0x00;
	Mem119[fp - 0x18 + 0x00:word32] = eax_116;
	Mem122[fp - 0x1C + 0x00:word32] = Mem119[fp - 0x18 + 0x00:word32] + Mem119[fp + 0x04:word32];
	if (Mem122[fp - 0x18 + 0x00:word32] < 0x00)
		goto l080A9F3E;
	Mem126[fp - 0x28 + 0x00:word32] = Mem122[fp + 0x08:word32];
	Mem128[fp - 44 + 0x00:word32] = Mem126[fp - 0x1C + 0x00:word32];
	if (strcasecmp(Mem128[fp - 44 + 0x00:(ptr char)], Mem128[fp - 0x28 + 0x00:(ptr char)]) != 0x00)
		goto l080A9F3E;
	eax_133 = Mem128[fp - 0x1C + 0x00:word32];
	return eax_133;
}

// 080A9F49: Register word32 make_portlist(Register word32 eax, Stack word32 dwArg04)
word32 make_portlist(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	word32 dwLoc10_116 = 0x00;
	word32 dwLoc18_15 = Mem0[dwArg04 + 0x00:word32];
	while ((byte) (word32) Mem0[dwLoc18_15 + 0x00:byte] != 0x00)
	{
		while ((byte) (word32) Mem0[dwLoc18_15 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc18_15 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) == 0x00)
			dwLoc18_15 = dwLoc18_15 + 0x01;
		Strclear(eax);
		while ((byte) (word32) Mem0[dwLoc18_15 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc18_15 + 0x00:byte])) + 0x080DB700:byte])) & 0x08) != 0x00)
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_139 = Mem0[eax + 0x04:word32];
			Mem145[Mem0[eax + 0x00:word32] + eax_139:byte] = (byte) (word32) Mem0[dwLoc18_15 + 0x00:byte];
			Mem148[eax + 0x04:word32] = eax_139 + 0x01;
			Mem157[Mem148[eax + 0x00:word32] + Mem148[eax + 0x04:word32]:byte] = 0x00;
			dwLoc18_15 = dwLoc18_15 + 0x01;
		}
		word32 eax_84 = Mem0[eax + 0x04:word32];
		if (eax_84 == 0x00)
			return dwLoc10_116;
		word32 esp_90;
		word32 ebp_91;
		byte SCZO_92;
		word32 eax_93;
		byte al_94;
		byte SZO_95;
		byte C_96;
		byte Z_97;
		word32 edx_98;
		word16 dx_99;
		byte SO_100;
		word32 ecx_101;
		byte dl_102;
		!GC_malloc();
		Mem111[eax_93 + 0x00:word16] = (word16) atoi(Mem0[eax + 0x00:word32]);
		Mem114[eax_93 + 0x04:word32] = dwLoc10_116;
		dwLoc10_116 = eax_93;
	}
	return dwLoc10_116;
}

// 080AA06D: Register word32 portlist2str(Register word32 ebp, Stack word32 dwArg04)
word32 portlist2str(word32 ebp, word32 dwArg04)
{
	byte bpl_17;
	Mem19[fp - 0x14 + 0x00:word32] = Sprintf(0x080D0128, out bpl_17);
	Mem22[fp - 0x10 + 0x00:word32] = Mem19[Mem19[fp + 0x04:word32] + 0x04:word32];
	while (Mem22[fp - 0x10 + 0x00:word32] != 0x00)
	{
		Mem37[fp - 0x28 + 0x00:word32] = (word32) (word16) (word32) Mem22[Mem22[fp - 0x10 + 0x00:word32] + 0x00:word16];
		Mem38[fp - 44 + 0x00:word32] = 0x080D012B;
		byte bpl_40;
		Mem42[fp - 0x28 + 0x00:word32] = Sprintf(dwArg00, out bpl_40);
		Mem44[fp - 44 + 0x00:word32] = Mem42[fp - 0x14 + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		Mem47[fp - 0x10 + 0x00:word32] = Mem44[Mem44[fp - 0x10 + 0x00:word32] + 0x04:word32];
	}
	return Mem22[fp - 0x14 + 0x00:word32];
}

// 080AA0D6: Register word32 port_match(Stack word32 dwArg04, Stack word32 dwArg08)
word32 port_match(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_10 = dwArg04;
	while (true)
	{
		word32 eax_19;
		if (dwLoc08_10 == 0x00)
			break;
		if ((word32) (word16) (word32) Mem0[dwLoc08_10 + 0x00:word16] == dwArg08)
		{
			eax_19 = 0x01;
			return eax_19;
		}
		dwLoc08_10 = Mem0[dwLoc08_10 + 0x04:word32];
	}
	eax_19 = 0x00;
	return eax_19;
}

// 080AA10F: void check_expired_cookies()
void check_expired_cookies()
{
	word32 eax_8 = time(0x00);
	if (Mem0[135775048:word32] != 0x00)
	{
		if (Mem0[Mem0[135775048:word32] + 0x30:word32] != ~0x00 && Mem0[Mem0[135775048:word32] + 0x30:word32] < eax_8)
		{
			if (((int32) (byte) (word32) Mem0[Mem0[135775048:word32] + 0x49:byte] & 0x10) == 0x00)
				Mem110[0x080D9100:word32] = 0x00;
			Mem109[135775048:word32] = Mem0[Mem0[135775048:word32] + 0x4C:word32];
		}
		word32 dwLoc10_41 = Mem0[135775048:word32];
		while (dwLoc10_41 != 0x00 && Mem0[dwLoc10_41 + 0x4C:word32] != 0x00)
		{
			word32 eax_60 = Mem0[dwLoc10_41 + 0x4C:word32];
			word32 dwLoc14_61 = eax_60;
			if (Mem0[eax_60 + 0x30:word32] != ~0x00 && Mem0[eax_60 + 0x30:word32] < eax_8)
			{
				if (((int32) (byte) (word32) Mem0[eax_60 + 0x49:byte] & 0x10) == 0x00)
					Mem94[0x080D9100:word32] = 0x00;
				Mem91[dwLoc10_41 + 0x4C:word32] = Mem0[eax_60 + 0x4C:word32];
				dwLoc14_61 = dwLoc10_41;
			}
			dwLoc10_41 = dwLoc14_61;
		}
	}
}

// 080AA1E6: Register word32 make_cookie(Stack word32 dwArg04)
word32 make_cookie(word32 dwArg04)
{
	word32 eax_13 = Strdup(Mem0[dwArg04 + 0x28:word32]);
	if (Mem0[eax_13 + 0x04:word32] + 0x01 >= Mem0[eax_13 + 0x08:word32])
		Strgrow(eax_13);
	word32 eax_25 = Mem0[eax_13 + 0x04:word32];
	Mem28[Mem0[eax_13 + 0x00:word32] + eax_25:byte] = 0x3D;
	Mem31[eax_13 + 0x04:word32] = eax_25 + 0x01;
	Mem37[Mem31[eax_13 + 0x00:word32] + Mem31[eax_13 + 0x04:word32]:byte] = 0x00;
	Strcat(eax_13, Mem37[dwArg04 + 44:word32]);
	return eax_13;
}

// 080AA262: Register word32 match_cookie(Register word32 ebp, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 match_cookie(word32 ebp, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_17;
	if (dwArg0C == 0x00)
	{
		eax_17 = 0x00;
		return eax_17;
	}
	if (domain_match(fp - 0x04) == 0x00)
	{
		eax_17 = 0x00;
		return eax_17;
	}
	word32 edx_49 = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
	word32 eax_52 = Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x34:word32] + 0x00:word32];
	Mem53[fp - 0x14 + 0x00:word32] = Mem0[Mem0[Mem0[fp + 0x08:word32] + 0x34:word32] + 0x04:word32];
	Mem54[fp - 0x18 + 0x00:word32] = edx_49;
	Mem55[fp - 0x1C + 0x00:word32] = eax_52;
	if (strncmp(Mem55[fp - 0x1C + 0x00:(ptr char)], Mem55[fp - 0x18 + 0x00:(ptr char)], Mem55[fp - 0x14 + 0x00:int32]) != 0x00)
	{
		eax_17 = 0x00;
		return eax_17;
	}
	if (((int32) (byte) (word32) Mem55[Mem55[fp + 0x08:word32] + 0x49:byte] & 0x02) != 0x00)
	{
		eax_17 = 0x00;
		return eax_17;
	}
	if (Mem55[Mem55[fp + 0x08:word32] + 0x44:word32] != 0x00)
	{
		word32 eax_86 = Mem55[Mem55[fp + 0x08:word32] + 0x44:word32];
		Mem87[fp - 0x18 + 0x00:word32] = Mem55[Mem55[fp + 0x04:word32] + 0x10:word32];
		Mem88[fp - 0x1C + 0x00:word32] = eax_86;
		if (port_match(dwArg00, dwArg04) == 0x00)
		{
			eax_17 = 0x00;
			return eax_17;
		}
	}
	eax_17 = 0x01;
	return eax_17;
}

// 080AA31A: Register word32 get_cookie_info(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 get_cookie_info(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc10_10 = Mem0[135775048:word32];
	while (true)
	{
		word32 eax_31;
		if (dwLoc10_10 == 0x00)
			break;
		if (strcasecmp(Mem0[Mem0[dwLoc10_10 + 0x38:word32] + 0x00:word32], Mem0[dwArg04 + 0x00:word32]) == 0x00 && (strcmp(Mem0[Mem0[dwLoc10_10 + 0x34:word32] + 0x00:word32], Mem0[dwArg08 + 0x00:word32]) == 0x00 && strcasecmp(Mem0[Mem0[dwLoc10_10 + 0x28:word32] + 0x00:word32], Mem0[dwArg0C + 0x00:word32]) == 0x00))
		{
			eax_31 = dwLoc10_10;
			return eax_31;
		}
		dwLoc10_10 = Mem0[dwLoc10_10 + 0x4C:word32];
	}
	eax_31 = 0x00;
	return eax_31;
}

// 080AA39C: Register word32 find_cookie(Register word32 ebp, Stack word32 dwArg04)
word32 find_cookie(word32 ebp, word32 dwArg04)
{
	FQDN(Mem0[dwArg04 + 0x0C:word32]);
	check_expired_cookies();
	word32 ebp_175 = fp - 0x04;
	word32 esp_176 = fp - 0x3C;
	word32 eax_178 = Mem0[135775048:word32];
	while (Mem0[ebp_175 - 0x10 + 0x00:word32] != 0x00)
	{
		word32 eax_158;
		if ((byte) (word32) Mem0[Mem0[ebp_175 - 0x10 + 0x00:word32] + 0x48:byte] != 0x00)
			eax_158 = Mem0[Mem0[ebp_175 + 0x08:word32] + 0x0C:word32];
		else
			eax_158 = Mem0[ebp_175 - 0x20 + 0x00:word32];
		Mem159[ebp_175 - 0x24 + 0x00:word32] = eax_158;
		if ((byte) ((int32) (byte) (word32) Mem159[Mem159[ebp_175 - 0x10 + 0x00:word32] + 0x49:byte] & 0x01) != 0x00)
		{
			Mem182[esp_176 + 0x08:word32] = Mem159[ebp_175 - 0x24 + 0x00:word32];
			Mem184[esp_176 + 0x04:word32] = Mem182[ebp_175 - 0x10 + 0x00:word32];
			Mem186[esp_176 + 0x00:word32] = Mem184[ebp_175 + 0x08:word32];
			if (match_cookie(ebp_175, dwArg04, dwArg08) != 0x00)
			{
				Mem194[ebp_175 - 0x14 + 0x00:word32] = Mem186[ebp_175 - 0x18 + 0x00:word32];
				while (Mem194[ebp_175 - 0x14 + 0x00:word32] != 0x00)
				{
					word32 eax_257 = Mem194[Mem194[Mem194[ebp_175 - 0x14 + 0x00:word32] + 0x28:word32] + 0x00:word32];
					Mem258[esp_176 + 0x04:word32] = Mem194[Mem194[Mem194[ebp_175 - 0x10 + 0x00:word32] + 0x28:word32] + 0x00:word32];
					Mem259[esp_176 + 0x00:word32] = eax_257;
					if (strcasecmp(Mem259[esp_176 + 0x00:(ptr char)], Mem259[esp_176 + 0x04:(ptr char)]) == 0x00)
						break;
					Mem268[ebp_175 - 0x14 + 0x00:word32] = Mem259[Mem259[ebp_175 - 0x14 + 0x00:word32] + 0x4C:word32];
				}
				if (Mem194[ebp_175 - 0x14 + 0x00:word32] == 0x00)
				{
					Mem209[esp_176 + 0x00:word32] = 0x50;
					word32 esp_210;
					word32 ebp_211;
					byte SCZO_212;
					word32 eax_213;
					byte Z_214;
					byte al_215;
					byte SZO_216;
					byte C_217;
					word32 edx_218;
					byte bpl_219;
					!GC_malloc();
					Mem220[ebp_211 - 0x14 + 0x00:word32] = eax_213;
					Mem221[esp_210 + 0x08:word32] = 0x50;
					Mem223[esp_210 + 0x04:word32] = Mem221[ebp_211 - 0x14 + 0x00:word32];
					word32 eax_224 = Mem223[ebp_211 - 0x10 + 0x00:word32];
					Mem225[esp_210 + 0x00:word32] = eax_224;
					byte SCZO_228;
					word32 eax_229;
					byte Z_230;
					byte al_231;
					byte SZO_232;
					byte C_233;
					word32 edx_234;
					byte bpl_235;
					!bcopy();
					Mem238[Mem225[ebp_175 - 0x14 + 0x00:word32] + 0x4C:word32] = Mem225[ebp_175 - 0x18 + 0x00:word32];
					Mem240[ebp_175 - 0x18 + 0x00:word32] = Mem238[ebp_175 - 0x14 + 0x00:word32];
					if ((int32) (byte) (word32) Mem240[Mem240[ebp_175 - 0x14 + 0x00:word32] + 0x48:byte] > Mem240[(ebp_175 - 0x1C) + 0x00:word32])
						Mem251[ebp_175 - 0x1C + 0x00:word32] = (int32) (byte) (word32) Mem240[Mem240[ebp_175 - 0x14 + 0x00:word32] + 0x48:byte];
				}
			}
		}
		eax_178 = Mem159[Mem159[ebp_175 - 0x10 + 0x00:word32] + 0x4C:word32];
		Mem180[ebp_175 - 0x10 + 0x00:word32] = eax_178;
	}
	word32 eax_41;
	if (Mem0[ebp_175 - 0x18 + 0x00:word32] == 0x00)
		eax_41 = 0x00;
	else
	{
		Strnew(eax_178);
		Mem48[ebp_175 - 0x0C + 0x00:word32] = eax_178;
		if (Mem48[ebp_175 - 0x1C + 0x00:word32] > 0x00)
		{
			Mem145[esp_176 + 0x04:word32] = Mem48[ebp_175 - 0x1C + 0x00:word32];
			Mem146[esp_176 + 0x00:word32] = 0x080D0130;
			byte bpl_147;
			Mem149[esp_176 + 0x04:word32] = Sprintf(dwArg00, out bpl_147);
			Mem151[esp_176 + 0x00:word32] = Mem149[ebp_175 - 0x0C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
		}
		Mem53[esp_176 + 0x00:word32] = Mem48[ebp_175 - 0x18 + 0x00:word32];
		Mem56[esp_176 + 0x04:word32] = make_cookie(dwArg00);
		Mem58[esp_176 + 0x00:word32] = Mem56[ebp_175 - 0x0C + 0x00:word32];
		Strcat(dwArg00, dwArg04);
		Mem61[ebp_175 - 0x14 + 0x00:word32] = Mem58[Mem58[ebp_175 - 0x18 + 0x00:word32] + 0x4C:word32];
		while (Mem61[ebp_175 - 0x14 + 0x00:word32] != 0x00)
		{
			Mem71[esp_176 + 0x04:word32] = 0x080D0140;
			Mem73[esp_176 + 0x00:word32] = Mem71[ebp_175 - 0x0C + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem75[esp_176 + 0x00:word32] = Mem73[ebp_175 - 0x14 + 0x00:word32];
			Mem77[esp_176 + 0x04:word32] = make_cookie(dwArg00);
			Mem79[esp_176 + 0x00:word32] = Mem77[ebp_175 - 0x0C + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			if (Mem79[ebp_175 - 0x1C + 0x00:word32] > 0x00)
			{
				if (((int32) (byte) (word32) Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x49:byte] & 0x08) != 0x00)
				{
					Mem137[esp_176 + 0x04:word32] = Mem79[Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x34:word32] + 0x00:word32];
					Mem138[esp_176 + 0x00:word32] = 0x080D0143;
					byte bpl_139;
					Mem141[esp_176 + 0x04:word32] = Sprintf(dwArg00, out bpl_139);
					Mem143[esp_176 + 0x00:word32] = Mem141[ebp_175 - 0x0C + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
				if (((int32) (byte) (word32) Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x49:byte] & 0x04) != 0x00)
				{
					Mem127[esp_176 + 0x04:word32] = Mem79[Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x38:word32] + 0x00:word32];
					Mem128[esp_176 + 0x00:word32] = 0x080D0150;
					byte bpl_129;
					Mem131[esp_176 + 0x04:word32] = Sprintf(dwArg00, out bpl_129);
					Mem133[esp_176 + 0x00:word32] = Mem131[ebp_175 - 0x0C + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
				if (Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x44:word32] != 0x00)
				{
					Mem115[esp_176 + 0x00:word32] = Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x44:word32];
					Mem117[esp_176 + 0x04:word32] = portlist2str(ebp_175, dwArg00);
					Mem118[esp_176 + 0x00:word32] = 0x080D015F;
					byte bpl_119;
					Mem121[esp_176 + 0x04:word32] = Sprintf(dwArg00, out bpl_119);
					Mem123[esp_176 + 0x00:word32] = Mem121[ebp_175 - 0x0C + 0x00:word32];
					Strcat(dwArg00, dwArg04);
				}
			}
			Mem89[ebp_175 - 0x14 + 0x00:word32] = Mem79[Mem79[ebp_175 - 0x14 + 0x00:word32] + 0x4C:word32];
		}
		eax_41 = Mem61[ebp_175 - 0x0C + 0x00:word32];
	}
	return eax_41;
}

// 080AA627: Register word32 add_cookie(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg24)
word32 add_cookie(word32 ebp, word32 dwArg04, word32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg24)
{
	word32 eax_15;
	word32 ebp_114 = fp - 0x04;
	word32 esp_10 = fp - 0x4C;
	if (dwArg24 == 0x00)
		eax_15 = FQDN(Mem0[dwArg04 + 0x0C:word32]);
	else
		eax_15 = Mem0[dwArg04 + 0x0C:word32];
	word32 eax_181;
	if (eax_15 == 0x00)
	{
		eax_181 = 0x25;
		return eax_181;
	}
	if (dwArg14 != 0x00)
	{
		if ((byte) (word32) Mem0[Mem0[dwArg14 + 0x00:word32] + 0x00:byte] != 0x2E && (dwArg24 > 0x00 || strcasecmp(eax_15, Mem0[dwArg14 + 0x00:word32]) != 0x00))
		{
			byte bpl_553;
			Mem555[fp + 0x14:word32] = Sprintf(0x080D018F, out bpl_553);
		}
		if (Mem0[fp + 0x24:word32] == 0x00)
		{
			word32 edx_445 = Mem0[Mem0[fp + 0x14:word32] + 0x00:word32] + Mem0[Mem0[fp + 0x14:word32] + 0x04:word32];
			word32 eax_448 = Mem0[Mem0[fp + 0x14:word32] + 0x00:word32];
			Mem449[fp - 0x44 + 0x00:word32] = 0x03;
			Mem450[fp - 0x48 + 0x00:word32] = edx_445;
			Mem451[fp - 0x4C + 0x00:word32] = eax_448;
			Mem453[fp - 44 + 0x00:word32] = total_dot_number(dwArg00, dwArg04, dwArg08);
			if (Mem453[fp - 44 + 0x00:word32] <= 0x01)
			{
				eax_181 = 0x03;
				return eax_181;
			}
			if (Mem453[fp - 44 + 0x00:word32] == 0x02)
			{
				Mem460[fp - 0x34 + 0x00:word32] = 0x00;
				Mem461[fp - 0x30 + 0x00:word32] = 0x080D9120;
				while (Mem461[fp - 0x34 + 0x00:word32] == 0x00 && Mem461[Mem461[(fp - 0x30) + 0x00:word32] + 0x00:word32] != 0x00)
				{
					word32 eax_483 = Mem461[Mem461[fp + 0x14:word32] + 0x04:word32];
					Mem487[fp - 0x4C + 0x00:word32] = Mem461[Mem461[fp - 0x30 + 0x00:word32] + 0x00:word32];
					Mem492[fp - 0x38 + 0x00:word32] = eax_483 - strlen(Mem487[(fp - 0x4C) + 0x00:(ptr char)]);
					if (Mem492[fp - 0x38 + 0x00:word32] >= 0x00)
					{
						word32 eax_508 = Mem492[Mem492[fp - 0x30 + 0x00:word32] + 0x00:word32];
						Mem509[fp - 0x48 + 0x00:word32] = Mem492[Mem492[fp + 0x14:word32] + 0x00:word32] + Mem492[(fp - 0x38) + 0x00:word32];
						Mem510[fp - 0x4C + 0x00:word32] = eax_508;
						if (strcasecmp(Mem510[fp - 0x4C + 0x00:(ptr char)], Mem510[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
							Mem515[fp - 0x34 + 0x00:word32] = 0x01;
					}
					Mem501[fp - 0x30 + 0x00:word32] = Mem492[fp - 0x30 + 0x00:word32] + 0x04;
				}
				if (Mem461[fp - 0x34 + 0x00:word32] == 0x00)
				{
					eax_181 = 0x03;
					return eax_181;
				}
			}
		}
		else
		{
			word32 eax_517 = Mem0[Mem0[fp + 0x14:word32] + 0x00:word32];
			Mem518[fp - 0x48 + 0x00:word32] = 0x080D0121;
			Mem519[fp - 0x4C + 0x00:word32] = eax_517;
			if (strcasecmp(Mem519[fp - 0x4C + 0x00:(ptr char)], Mem519[fp - 0x48 + 0x00:(ptr char)]) != 0x00)
			{
				word32 edx_528 = Mem519[Mem519[fp + 0x14:word32] + 0x00:word32] + Mem519[Mem519[fp + 0x14:word32] + 0x04:word32];
				word32 eax_530 = Mem519[Mem519[fp + 0x14:word32] + 0x00:word32];
				Mem533[fp - 0x44 + 0x00:word32] = 0x01;
				Mem534[fp - 0x48 + 0x00:word32] = edx_528;
				Mem535[fp - 0x4C + 0x00:word32] = eax_530 + 0x01;
				if (total_dot_number(dwArg00, dwArg04, dwArg08) == 0x00 && Mem535[(fp - 0x24) + 0x00:word32] != 0x00)
				{
					eax_181 = 0x25;
					return eax_181;
				}
			}
		}
		Mem414[fp - 0x48 + 0x00:word32] = Mem0[Mem0[fp + 0x14:word32] + 0x00:word32];
		Mem416[fp - 0x4C + 0x00:word32] = Mem414[fp - 0x14 + 0x00:word32];
		Mem418[fp - 0x28 + 0x00:word32] = domain_match(fp - 0x04);
		if (Mem418[fp - 0x28 + 0x00:word32] == 0x00 && Mem418[(fp - 0x24) + 0x00:word32] != 0x00)
		{
			eax_181 = 0x27;
			return eax_181;
		}
		if (Mem418[fp + 0x24:word32] > 0x00)
		{
			Mem424[fp - 0x44 + 0x00:word32] = 0x01;
			Mem426[fp - 0x48 + 0x00:word32] = Mem424[fp - 0x28 + 0x00:word32];
			Mem428[fp - 0x4C + 0x00:word32] = Mem426[fp - 0x14 + 0x00:word32];
			if (total_dot_number(dwArg00, dwArg04, dwArg08) != 0x00 && Mem428[(fp - 0x24) + 0x00:word32] != 0x00)
			{
				eax_181 = 0x28;
				return eax_181;
			}
		}
	}
	if (Mem0[fp + 0x18:word32] != 0x00 && Mem0[fp + 0x24:word32] > 0x00)
	{
		word32 edx_381 = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
		word32 eax_383 = Mem0[Mem0[fp + 0x18:word32] + 0x00:word32];
		Mem384[fp - 0x44 + 0x00:word32] = Mem0[Mem0[fp + 0x18:word32] + 0x04:word32];
		Mem385[fp - 0x48 + 0x00:word32] = edx_381;
		Mem386[fp - 0x4C + 0x00:word32] = eax_383;
		if (strncmp(Mem386[fp - 0x4C + 0x00:(ptr char)], Mem386[fp - 0x48 + 0x00:(ptr char)], Mem386[fp - 0x44 + 0x00:int32]) != 0x00)
		{
			eax_181 = 0x04;
			return eax_181;
		}
	}
	if (Mem0[fp + 0x28:word32] != 0x00)
	{
		word32 eax_358 = Mem0[fp + 0x28:word32];
		Mem359[fp - 0x4C + 0x00:word32] = eax_358;
		Mem361[fp - 0x20 + 0x00:word32] = make_portlist(eax_358, dwArg00);
		if (Mem361[fp - 0x20 + 0x00:word32] != 0x00)
		{
			Mem366[fp - 0x48 + 0x00:word32] = Mem361[Mem361[fp + 0x04:word32] + 0x10:word32];
			Mem368[fp - 0x4C + 0x00:word32] = Mem366[fp - 0x20 + 0x00:word32];
			if (port_match(dwArg00, dwArg04) == 0x00)
			{
				eax_181 = 0x09;
				return eax_181;
			}
		}
	}
	if (Mem0[fp + 0x14:word32] == 0x00)
	{
		word32 eax_355 = Mem0[fp - 0x14 + 0x00:word32];
		Mem356[fp - 0x4C + 0x00:word32] = eax_355;
		Strnew_charp(eax_355, dwArg00);
		Mem357[fp + 0x14:word32] = eax_355;
	}
	if (Mem0[fp + 0x18:word32] == 0x00)
	{
		word32 eax_302 = Mem0[Mem0[fp + 0x04:word32] + 0x14:word32];
		Mem303[fp - 0x4C + 0x00:word32] = eax_302;
		Strnew_charp(eax_302, dwArg00);
		Mem304[fp + 0x18:word32] = eax_302;
		while (Mem304[Mem304[fp + 0x18:word32] + 0x04:word32] > 0x00 && (Mem304[Mem304[fp + 0x18:word32] + 0x04:word32] <= 0x00 || (byte) ((word32) Mem304[Mem304[Mem304[fp + 0x18:word32] + 0x00:word32] + (Mem304[Mem304[fp + 0x18:word32] + 0x04:word32] - 0x01):byte]) != 0x2F))
		{
			Mem342[fp - 0x48 + 0x00:word32] = 0x01;
			Mem344[fp - 0x4C + 0x00:word32] = Mem342[fp + 0x18:word32];
			Strshrink(dwArg00, dwArg04);
		}
		if (Mem304[Mem304[fp + 0x18:word32] + 0x04:word32] > 0x00 && (byte) ((word32) Mem304[Mem304[Mem304[fp + 0x18:word32] + 0x00:word32] + (Mem304[Mem304[fp + 0x18:word32] + 0x04:word32] - 0x01):byte]) == 0x2F)
		{
			Mem331[fp - 0x48 + 0x00:word32] = 0x01;
			Mem333[fp - 0x4C + 0x00:word32] = Mem331[fp + 0x18:word32];
			Strshrink(dwArg00, dwArg04);
		}
	}
	Mem95[fp - 0x44 + 0x00:word32] = Mem0[fp + 0x08:word32];
	Mem97[fp - 0x48 + 0x00:word32] = Mem95[fp + 0x18:word32];
	Mem99[fp - 0x4C + 0x00:word32] = Mem97[fp + 0x14:word32];
	word32 eax_103 = get_cookie_info(dwArg00, dwArg04, dwArg08);
	Mem105[fp - 0x10 + 0x00:word32] = eax_103;
	if (Mem105[fp - 0x10 + 0x00:word32] == 0x00)
	{
		Mem262[fp - 0x4C + 0x00:word32] = 0x50;
		word32 ebx_265;
		byte SCZO_266;
		byte Z_267;
		word32 eax_268;
		byte SZO_269;
		byte C_270;
		byte al_271;
		word32 edx_272;
		word32 ecx_273;
		byte S_274;
		byte dl_275;
		byte bpl_276;
		!GC_malloc();
		Mem277[ebp_114 - 0x0C + 0x00:word32] = eax_268;
		Mem279[Mem277[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = 0x00;
		if (Mem279[0x080D5390:word32] != 0x00)
			Mem300[Mem279[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem279[Mem279[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] | 0x01);
		Mem289[Mem279[ebp_114 - 0x0C + 0x00:word32] + 0x4C:word32] = Mem279[135775048:word32];
		Mem291[135775048:word32] = Mem289[ebp_114 - 0x0C + 0x00:word32];
	}
	word32 eax_116 = Mem105[ebp_114 - 0x0C + 0x00:word32];
	Mem118[esp_10 + 0x04:word32] = Mem105[ebp_114 + 0x08:word32];
	Mem119[esp_10 + 0x00:word32] = eax_116;
	copyParsedURL(dwArg00, dwArg04);
	Mem122[Mem119[ebp_114 - 0x0C + 0x00:word32] + 0x28:word32] = Mem119[ebp_114 + 0x0C:word32];
	Mem125[Mem122[ebp_114 - 0x0C + 0x00:word32] + 44:word32] = Mem122[ebp_114 + 0x10:word32];
	Mem128[Mem125[ebp_114 - 0x0C + 0x00:word32] + 0x30:word32] = Mem125[ebp_114 + 0x14:word32];
	Mem131[Mem128[ebp_114 - 0x0C + 0x00:word32] + 0x38:word32] = Mem128[ebp_114 + 0x18:word32];
	Mem134[Mem131[ebp_114 - 0x0C + 0x00:word32] + 0x34:word32] = Mem131[ebp_114 + 0x1C:word32];
	Mem137[Mem134[ebp_114 - 0x0C + 0x00:word32] + 0x3C:word32] = Mem134[ebp_114 + 0x24:word32];
	Mem142[Mem137[ebp_114 - 0x0C + 0x00:word32] + 0x48:byte] = (byte) Mem137[ebp_114 + 0x28:word32];
	Mem145[Mem142[ebp_114 - 0x0C + 0x00:word32] + 0x44:word32] = Mem142[ebp_114 - 0x1C + 0x00:word32];
	Mem148[Mem145[ebp_114 - 0x0C + 0x00:word32] + 0x40:word32] = Mem145[ebp_114 + 0x30:word32];
	if ((Mem148[ebp_114 + 0x20:word32] & 0x02) != 0x00)
		Mem252[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] | 0x02);
	else
		Mem261[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] & ~0x02);
	if (Mem148[ebp_114 - 0x14 + 0x00:word32] != 0x00)
		Mem234[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] | 0x04);
	else
		Mem243[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] & ~0x04);
	if (Mem148[ebp_114 - 0x18 + 0x00:word32] != 0x00)
		Mem216[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] | 0x08);
	else
		Mem225[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] & ~0x08);
	if ((Mem148[ebp_114 + 0x20:word32] & 0x10) == 0x00 && Mem148[Mem148[(ebp_114 - 0x0C) + 0x00:word32] + 0x30:word32] != ~0x00)
	{
		Mem206[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] & ~0x10);
		Mem207[0x080D9100:word32] = 0x00;
	}
	else
		Mem193[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) ((word32) Mem148[Mem148[ebp_114 - 0x0C + 0x00:word32] + 0x49:byte] | 0x10);
	check_expired_cookies();
	eax_181 = 0x00;
	return eax_181;
}

// 080AAB16: Register word32 nth_cookie(Stack word32 dwArg04)
word32 nth_cookie(word32 dwArg04)
{
	word32 dwLoc08_10 = Mem0[135775048:word32];
	word32 dwLoc0C_11 = 0x00;
	while (true)
	{
		word32 eax_19;
		if (dwLoc08_10 == 0x00)
			break;
		if (dwLoc0C_11 == dwArg04)
		{
			eax_19 = dwLoc08_10;
			return eax_19;
		}
		dwLoc08_10 = Mem0[dwLoc08_10 + 0x4C:word32];
		dwLoc0C_11 = dwLoc0C_11 + 0x01;
	}
	eax_19 = 0x00;
	return eax_19;
}

// 080AAB54: void save_cookies(Register word32 ebp)
void save_cookies(word32 ebp)
{
	check_expired_cookies();
	if (Mem0[135775048:word32] != 0x00 && (Mem0[0x080D9100:word32] == 0x00 && (Mem0[135775060:word32] == 0x00 && fopen(rcFile(0x080D0193), 0x080D019A) != 0x00)))
	{
		while (Mem0[fp - 0x20 + 0x00:word32] != 0x00)
		{
			if (((int32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x49:byte] & 0x01) != 0x00 && ((int32) ((byte) ((word32) Mem0[Mem0[(fp - 0x20) + 0x00:word32] + 0x49:byte])) & 0x10) == 0x00)
			{
				word32 ebx_122;
				if (Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x40:word32] != 0x00)
					ebx_122 = Mem0[Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x40:word32] + 0x00:word32];
				else
					ebx_122 = 0x080D019C;
				word32 edi_128;
				if (Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x44:word32] != 0x00)
				{
					Mem198[fp - 0x8C + 0x00:word32] = Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x44:word32];
					edi_128 = Mem198[portlist2str(fp - 0x04, dwArg00) + 0x00:word32];
				}
				else
					edi_128 = 0x080D019C;
				if (Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x3C:word32] != 0x00)
					Mem194[fp - 0x48 + 0x00:word32] = Mem0[Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x3C:word32] + 0x00:word32];
				else
					Mem195[fp - 0x48 + 0x00:word32] = 0x080D019C;
				Mem138[fp - 0x44 + 0x00:word32] = (int32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x48:byte];
				Mem143[fp - 0x40 + 0x00:word32] = (int32) (byte) (word32) Mem138[Mem138[fp - 0x20 + 0x00:word32] + 0x49:byte];
				Mem147[fp - 0x3C + 0x00:word32] = Mem143[Mem143[Mem143[fp - 0x20 + 0x00:word32] + 0x34:word32] + 0x00:word32];
				Mem151[fp - 0x38 + 0x00:word32] = Mem147[Mem147[Mem147[fp - 0x20 + 0x00:word32] + 0x38:word32] + 0x00:word32];
				Mem154[fp - 0x34 + 0x00:word32] = Mem151[Mem151[fp - 0x20 + 0x00:word32] + 0x30:word32];
				Mem158[fp - 0x30 + 0x00:word32] = Mem154[Mem154[Mem154[fp - 0x20 + 0x00:word32] + 44:word32] + 0x00:word32];
				word32 esi_161 = Mem158[Mem158[Mem158[fp - 0x20 + 0x00:word32] + 0x28:word32] + 0x00:word32];
				Mem163[fp - 0x8C + 0x00:word32] = Mem158[fp - 0x20 + 0x00:word32];
				byte bpl_165;
				word32 edx_167 = Mem163[parsedURL2Str(dwArg00, out bpl_165) + 0x00:word32];
				Mem169[fp - 0x5C + 0x00:word32] = ebx_122;
				Mem170[fp - 0x60 + 0x00:word32] = edi_128;
				Mem172[fp - 100 + 0x00:word32] = Mem170[fp - 0x48 + 0x00:word32];
				Mem174[fp - 0x68 + 0x00:word32] = Mem172[fp - 0x44 + 0x00:word32];
				Mem176[fp - 0x6C + 0x00:word32] = Mem174[fp - 0x40 + 0x00:word32];
				Mem178[fp - 0x70 + 0x00:word32] = Mem176[fp - 0x3C + 0x00:word32];
				Mem180[fp - 116 + 0x00:word32] = Mem178[fp - 0x38 + 0x00:word32];
				Mem182[fp - 0x78 + 0x00:word32] = Mem180[fp - 0x34 + 0x00:word32];
				Mem184[fp - 0x7C + 0x00:word32] = Mem182[fp - 0x30 + 0x00:word32];
				Mem185[fp - 0x80 + 0x00:word32] = esi_161;
				Mem186[fp - 0x84 + 0x00:word32] = edx_167;
				Mem187[fp - 0x88 + 0x00:word32] = 0x080D01A0;
				Mem189[fp - 0x8C + 0x00:word32] = Mem187[fp - 0x28 + 0x00:word32];
				fprintf(Mem189[fp - 0x8C + 0x00:(ptr FILE)], Mem189[fp - 0x88 + 0x00:(ptr char)], Mem189[fp - 0x84 + 0x00:(ptr char)], Mem189[fp - 0x80 + 0x00:(ptr char)], Mem189[fp - 0x7C + 0x00:(ptr char)], Mem189[fp - 0x78 + 0x00:int32], Mem189[fp - 116 + 0x00:(ptr char)], Mem189[fp - 0x70 + 0x00:(ptr char)], Mem189[fp - 0x6C + 0x00:int32], Mem189[fp - 0x68 + 0x00:int32], Mem189[fp - 100 + 0x00:(ptr char)], Mem189[fp - 0x60 + 0x00:(ptr char)], Mem189[fp - 0x5C + 0x00:(ptr char)]);
			}
			Mem108[fp - 0x20 + 0x00:word32] = Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x4C:word32];
		}
		Mem82[fp - 0x8C + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32];
		fclose(Mem82[fp - 0x8C + 0x00:(ptr FILE)]);
		Mem84[fp - 0x88 + 0x00:word32] = 0x0180;
		Mem86[fp - 0x8C + 0x00:word32] = Mem84[fp - 0x24 + 0x00:word32];
		chmod(Mem86[fp - 0x8C + 0x00:(ptr char)], Mem86[fp - 0x88 + 0x00:mode_t]);
	}
}

// 080AAD41: void readcol(Register word32 eax, Stack word32 dwArg04)
void readcol(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	while ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x0A && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x0D && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x09)))
	{
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 edx_82 = Mem0[eax + 0x04:word32];
		word32 eax_86 = Mem0[dwArg04 + 0x00:word32];
		Mem89[Mem0[eax + 0x00:word32] + edx_82:byte] = (byte) (word32) Mem0[eax_86 + 0x00:byte];
		Mem92[eax + 0x04:word32] = edx_82 + 0x01;
		Mem95[dwArg04 + 0x00:word32] = eax_86 + 0x01;
		Mem101[Mem95[eax + 0x00:word32] + Mem95[eax + 0x04:word32]:byte] = 0x00;
	}
	if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte] == 0x09)
		Mem52[dwArg04 + 0x00:word32] = Mem0[dwArg04 + 0x00:word32] + 0x01;
}

// 080AAE02: void load_cookies(Register word32 ebp)
void load_cookies(word32 ebp)
{
	word32 ebp_46 = fp - 0x04;
	word32 esp_100 = fp - 0x3C;
	if (fopen(rcFile(0x080D0193), 0x080D01C3) != 0x00)
	{
		if (Mem0[135775048:word32] != 0x00)
		{
			word32 dwLoc14_244 = Mem0[135775048:word32];
			while (Mem0[dwLoc14_244 + 0x4C:word32] != 0x00)
				dwLoc14_244 = Mem0[dwLoc14_244 + 0x4C:word32];
		}
		while (true)
		{
			word32 eax_48 = Mem0[ebp_46 - 0x14 + 0x00:word32];
			Mem49[esp_100 + 0x00:word32] = eax_48;
			Strfgets(eax_48, dwArg00);
			Mem51[ebp_46 - 0x18 + 0x00:word32] = eax_48;
			if (Mem51[Mem51[ebp_46 - 0x18 + 0x00:word32] + 0x04:word32] == 0x00)
				break;
			word32 eax_61 = Mem51[Mem51[ebp_46 - 0x18 + 0x00:word32] + 0x00:word32];
			Mem62[ebp_46 - 0x1C + 0x00:word32] = eax_61;
			Mem63[esp_100 + 0x00:word32] = 0x50;
			word32 esp_64;
			word32 ebp_65;
			word32 ebx_66;
			byte SCZO_67;
			word32 eax_68;
			byte Z_69;
			byte SZO_70;
			byte C_71;
			byte al_72;
			word32 edx_73;
			byte dl_74;
			!GC_malloc();
			Mem75[ebp_65 - 0x0C + 0x00:word32] = eax_68;
			Mem77[Mem75[ebp_65 - 0x0C + 0x00:word32] + 0x4C:word32] = 0x00;
			Mem79[Mem77[ebp_65 - 0x0C + 0x00:word32] + 0x49:byte] = 0x00;
			Mem81[Mem79[ebp_65 - 0x0C + 0x00:word32] + 0x48:byte] = 0x00;
			Mem83[Mem81[ebp_65 - 0x0C + 0x00:word32] + 0x30:word32] = ~0x00;
			Mem85[Mem83[ebp_65 - 0x0C + 0x00:word32] + 0x3C:word32] = 0x00;
			Mem87[Mem85[ebp_65 - 0x0C + 0x00:word32] + 0x44:word32] = 0x00;
			Mem89[Mem87[ebp_65 - 0x0C + 0x00:word32] + 0x40:word32] = 0x00;
			word32 ebx_90 = Mem89[ebp_65 - 0x0C + 0x00:word32];
			Mem92[esp_64 + 0x00:word32] = ebp_65 - 0x1C;
			readcol(ebp_65 - 0x1C, dwArg00);
			word32 eax_93 = Mem92[ebp_65 - 0x1C + 0x00:word32];
			Mem94[esp_64 + 0x08:word32] = 0x00;
			Mem95[esp_64 + 0x04:word32] = ebx_90;
			Mem96[esp_64 + 0x00:word32] = eax_93;
			esp_100 = parseURL(dwArg00, dwArg04, dwArg08, out ebp_46);
			if ((byte) (word32) Mem96[Mem96[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem108[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem110[Mem108[ebp_46 - 0x0C + 0x00:word32] + 0x28:word32] = ebp_46 - 0x1C;
			if ((byte) (word32) Mem110[Mem110[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem118[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem120[Mem118[ebp_46 - 0x0C + 0x00:word32] + 44:word32] = ebp_46 - 0x1C;
			if ((byte) (word32) Mem120[Mem120[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem128[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem130[esp_100 + 0x00:word32] = Mem128[ebp_46 - 0x1C + 0x00:word32];
			Mem133[Mem130[ebp_46 - 0x0C + 0x00:word32] + 0x30:word32] = atol(Mem130[esp_100 + 0x00:(ptr char)]);
			if ((byte) (word32) Mem133[Mem133[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem141[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem143[Mem141[ebp_46 - 0x0C + 0x00:word32] + 0x38:word32] = ebp_46 - 0x1C;
			if ((byte) (word32) Mem143[Mem143[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem151[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem153[Mem151[ebp_46 - 0x0C + 0x00:word32] + 0x34:word32] = ebp_46 - 0x1C;
			if ((byte) (word32) Mem153[Mem153[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem161[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem163[esp_100 + 0x00:word32] = Mem161[ebp_46 - 0x1C + 0x00:word32];
			Mem168[Mem163[ebp_46 - 0x0C + 0x00:word32] + 0x49:byte] = (byte) atoi(Mem163[esp_100 + 0x00:(ptr char)]);
			if ((byte) (word32) Mem168[Mem168[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem176[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem178[esp_100 + 0x00:word32] = Mem176[ebp_46 - 0x1C + 0x00:word32];
			Mem183[Mem178[ebp_46 - 0x0C + 0x00:word32] + 0x48:byte] = (byte) atoi(Mem178[esp_100 + 0x00:(ptr char)]);
			if ((byte) (word32) Mem183[Mem183[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem191[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem193[Mem191[ebp_46 - 0x0C + 0x00:word32] + 0x3C:word32] = ebp_46 - 0x1C;
			if (Mem193[Mem193[Mem193[ebp_46 - 0x0C + 0x00:word32] + 0x3C:word32] + 0x04:word32] == 0x00)
				Mem242[Mem193[ebp_46 - 0x0C + 0x00:word32] + 0x3C:word32] = 0x00;
			if ((byte) (word32) Mem193[Mem193[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem207[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem208[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			Mem211[Mem208[ebp_46 - 0x0C + 0x00:word32] + 0x44:word32] = make_portlist(ebp_46 - 0x1C, dwArg00);
			if ((byte) (word32) Mem211[Mem211[ebp_46 - 0x1C + 0x00:word32] + 0x00:byte] == 0x00)
				return;
			Mem219[esp_100 + 0x00:word32] = ebp_46 - 0x1C;
			readcol(ebp_46 - 0x1C, dwArg00);
			Mem221[Mem219[ebp_46 - 0x0C + 0x00:word32] + 0x40:word32] = ebp_46 - 0x1C;
			if (Mem221[Mem221[Mem221[ebp_46 - 0x0C + 0x00:word32] + 0x40:word32] + 0x04:word32] == 0x00)
				Mem240[Mem221[ebp_46 - 0x0C + 0x00:word32] + 0x40:word32] = 0x00;
			if (Mem221[ebp_46 - 0x10 + 0x00:word32] != 0x00)
				Mem236[Mem221[ebp_46 - 0x10 + 0x00:word32] + 0x4C:word32] = Mem221[ebp_46 - 0x0C + 0x00:word32];
			else
				Mem238[135775048:word32] = Mem221[ebp_46 - 0x0C + 0x00:word32];
			Mem233[ebp_46 - 0x10 + 0x00:word32] = Mem221[ebp_46 - 0x0C + 0x00:word32];
		}
		Mem58[esp_100 + 0x00:word32] = Mem51[ebp_46 - 0x14 + 0x00:word32];
		fclose(Mem58[esp_100 + 0x00:(ptr FILE)]);
	}
}

// 080AB0D8: void initCookie()
void initCookie()
{
	load_cookies(fp - 0x04);
	check_expired_cookies();
}

// 080AB0EA: Register word32 cookie_list_panel(Register word32 ebp, Register selector gs)
word32 cookie_list_panel(word32 ebp, selector gs)
{
	word32 eax_28;
	Strnew_charp(0x00, 0x080D01C8);
	word32 ebp_30 = fp - 0x04;
	word32 esp_394 = fp - 0x9C;
	if (Mem0[135775080:word32] != 0x00 && Mem0[135775048:word32] != 0x00)
	{
		Strcat_charp(0x00, 0x080D023E);
		while (Mem0[ebp_30 - 100 + 0x00:word32] != 0x00)
		{
			Mem82[esp_394 + 0x00:word32] = Mem0[ebp_30 - 100 + 0x00:word32];
			byte bpl_83;
			Mem86[esp_394 + 0x00:word32] = Mem82[parsedURL2Str(dwArg00, out bpl_83) + 0x00:word32];
			Mem88[ebp_30 - 0x6C + 0x00:word32] = html_quote(dwArg00);
			if (Mem88[Mem88[ebp_30 - 100 + 0x00:word32] + 0x30:word32] != ~0x00)
			{
				Mem375[esp_394 + 0x00:word32] = Mem88[ebp_30 - 100 + 0x00:word32] + 0x30;
				word32 esp_376;
				word32 ebp_377;
				byte SCZO_378;
				word32 eax_379;
				selector gs_380;
				byte SZO_381;
				byte C_382;
				byte Z_383;
				word32 edx_384;
				byte al_385;
				byte bpl_386;
				!gmtime();
				Mem389[esp_376 + 0x0C:word32] = eax_379;
				Mem390[esp_376 + 0x08:word32] = 0x080D0243;
				Mem391[esp_376 + 0x04:word32] = 0x50;
				Mem393[esp_376 + 0x00:word32] = ebp_377 - 0x5C;
				byte SCZO_396;
				word32 eax_397;
				byte SZO_399;
				byte C_400;
				byte Z_401;
				word32 edx_402;
				byte al_403;
				byte bpl_404;
				!strftime();
			}
			else
				Mem405[ebp_30 - 0x5C + 0x00:byte] = 0x00;
			Mem99[esp_394 + 0x04:word32] = 0x080D025D;
			Mem101[esp_394 + 0x00:word32] = Mem99[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem102[esp_394 + 0x04:word32] = 0x080D0262;
			Mem104[esp_394 + 0x00:word32] = Mem102[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem106[esp_394 + 0x04:word32] = Mem104[ebp_30 - 0x6C + 0x00:word32];
			Mem108[esp_394 + 0x00:word32] = Mem106[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem109[esp_394 + 0x04:word32] = 0x080D0270;
			Mem111[esp_394 + 0x00:word32] = Mem109[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem113[esp_394 + 0x04:word32] = Mem111[ebp_30 - 0x6C + 0x00:word32];
			Mem115[esp_394 + 0x00:word32] = Mem113[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem116[esp_394 + 0x04:word32] = 0x080D0273;
			Mem118[esp_394 + 0x00:word32] = Mem116[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem119[esp_394 + 0x04:word32] = 0x080D027D;
			Mem121[esp_394 + 0x00:word32] = Mem119[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (((int32) (byte) (word32) Mem121[Mem121[ebp_30 - 100 + 0x00:word32] + 0x49:byte] & 0x02) == 0x00)
			{
				Mem357[esp_394 + 0x04:word32] = 0x080D0294;
				Mem359[esp_394 + 0x00:word32] = Mem357[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem361[esp_394 + 0x00:word32] = Mem359[ebp_30 - 100 + 0x00:word32];
				Mem364[esp_394 + 0x00:word32] = Mem361[make_cookie(dwArg00) + 0x00:word32];
				Mem366[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem368[esp_394 + 0x00:word32] = Mem366[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem369[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem371[esp_394 + 0x00:word32] = Mem369[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem121[Mem121[ebp_30 - 100 + 0x00:word32] + 0x3C:word32] != 0x00)
			{
				Mem343[esp_394 + 0x04:word32] = 0x080D02CC;
				Mem345[esp_394 + 0x00:word32] = Mem343[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem349[esp_394 + 0x00:word32] = Mem345[Mem345[Mem345[ebp_30 - 100 + 0x00:word32] + 0x3C:word32] + 0x00:word32];
				Mem351[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem353[esp_394 + 0x00:word32] = Mem351[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem354[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem356[esp_394 + 0x00:word32] = Mem354[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem121[Mem121[ebp_30 - 100 + 0x00:word32] + 0x40:word32] != 0x00)
			{
				Mem312[esp_394 + 0x04:word32] = 0x080D02F8;
				Mem314[esp_394 + 0x00:word32] = Mem312[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem315[esp_394 + 0x04:word32] = 135070503;
				Mem317[esp_394 + 0x00:word32] = Mem315[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem321[esp_394 + 0x00:word32] = Mem317[Mem317[Mem317[ebp_30 - 100 + 0x00:word32] + 0x40:word32] + 0x00:word32];
				Mem323[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem325[esp_394 + 0x00:word32] = Mem323[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem326[esp_394 + 0x04:word32] = 0x080D0270;
				Mem328[esp_394 + 0x00:word32] = Mem326[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem332[esp_394 + 0x00:word32] = Mem328[Mem328[Mem328[ebp_30 - 100 + 0x00:word32] + 0x40:word32] + 0x00:word32];
				Mem334[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem336[esp_394 + 0x00:word32] = Mem334[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem337[esp_394 + 0x04:word32] = 0x080D0331;
				Mem339[esp_394 + 0x00:word32] = Mem337[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem340[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem342[esp_394 + 0x00:word32] = Mem340[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if ((byte) (word32) Mem121[ebp_30 - 0x5C + 0x00:byte] != 0x00)
			{
				Mem291[esp_394 + 0x04:word32] = 0x080D0338;
				Mem293[esp_394 + 0x00:word32] = Mem291[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem295[esp_394 + 0x04:word32] = ebp_30 - 0x5C;
				Mem297[esp_394 + 0x00:word32] = Mem295[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				if (((int32) (byte) (word32) Mem297[Mem297[ebp_30 - 100 + 0x00:word32] + 0x49:byte] & 0x10) != 0x00)
				{
					Mem309[esp_394 + 0x04:word32] = 0x080D0364;
					Mem311[esp_394 + 0x00:word32] = Mem309[ebp_30 - 0x60 + 0x00:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				Mem306[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem308[esp_394 + 0x00:word32] = Mem306[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			Mem145[esp_394 + 0x04:word32] = 0x080D0370;
			Mem147[esp_394 + 0x00:word32] = Mem145[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem152[esp_394 + 0x04:word32] = (int32) (byte) (word32) Mem147[Mem147[ebp_30 - 100 + 0x00:word32] + 0x48:byte];
			Mem153[esp_394 + 0x00:word32] = 0x080D0128;
			byte bpl_154;
			Mem157[esp_394 + 0x04:word32] = Mem153[Sprintf(dwArg00, out bpl_154) + 0x00:word32];
			Mem159[esp_394 + 0x00:word32] = Mem157[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem160[esp_394 + 0x04:word32] = 0x080D039C;
			Mem162[esp_394 + 0x00:word32] = Mem160[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (Mem162[Mem162[ebp_30 - 100 + 0x00:word32] + 0x38:word32] != 0x00)
			{
				Mem277[esp_394 + 0x04:word32] = 0x080D03B0;
				Mem279[esp_394 + 0x00:word32] = Mem277[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem283[esp_394 + 0x00:word32] = Mem279[Mem279[Mem279[ebp_30 - 100 + 0x00:word32] + 0x38:word32] + 0x00:word32];
				Mem285[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem287[esp_394 + 0x00:word32] = Mem285[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem288[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem290[esp_394 + 0x00:word32] = Mem288[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem162[Mem162[ebp_30 - 100 + 0x00:word32] + 0x34:word32] != 0x00)
			{
				Mem263[esp_394 + 0x04:word32] = 0x080D03DC;
				Mem265[esp_394 + 0x00:word32] = Mem263[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem269[esp_394 + 0x00:word32] = Mem265[Mem265[Mem265[ebp_30 - 100 + 0x00:word32] + 0x34:word32] + 0x00:word32];
				Mem271[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem273[esp_394 + 0x00:word32] = Mem271[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem274[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem276[esp_394 + 0x00:word32] = Mem274[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			if (Mem162[Mem162[ebp_30 - 100 + 0x00:word32] + 0x44:word32] != 0x00)
			{
				Mem247[esp_394 + 0x04:word32] = 0x080D0408;
				Mem249[esp_394 + 0x00:word32] = Mem247[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem252[esp_394 + 0x00:word32] = Mem249[Mem249[ebp_30 - 100 + 0x00:word32] + 0x44:word32];
				Mem255[esp_394 + 0x00:word32] = Mem252[portlist2str(ebp_30, dwArg00) + 0x00:word32];
				Mem257[esp_394 + 0x04:word32] = html_quote(dwArg00);
				Mem259[esp_394 + 0x00:word32] = Mem257[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
				Mem260[esp_394 + 0x04:word32] = 0x080D02BF;
				Mem262[esp_394 + 0x00:word32] = Mem260[ebp_30 - 0x60 + 0x00:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			word32 eax_189;
			Mem178[esp_394 + 0x04:word32] = 0x080D0434;
			Mem180[esp_394 + 0x00:word32] = Mem178[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (((int32) (byte) (word32) Mem180[Mem180[ebp_30 - 100 + 0x00:word32] + 0x49:byte] & 0x02) != 0x00)
				eax_189 = 0x080D045F;
			else
				eax_189 = 0x080D0463;
			word32 edx_204;
			Mem190[esp_394 + 0x04:word32] = eax_189;
			Mem192[esp_394 + 0x00:word32] = Mem190[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem193[esp_394 + 0x04:word32] = 0x080D039C;
			Mem195[esp_394 + 0x00:word32] = Mem193[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (((int32) (byte) (word32) Mem195[Mem195[ebp_30 - 100 + 0x00:word32] + 0x49:byte] & 0x01) == 0x00)
				edx_204 = 0x080D0466;
			else
				edx_204 = 0x080D019C;
			word32 eax_214;
			if ((byte) ((int32) (byte) (word32) Mem195[Mem195[ebp_30 - 100 + 0x00:word32] + 0x49:byte] & 0x01) != 0x00)
				eax_214 = 0x080D0466;
			else
				eax_214 = 0x080D019C;
			Mem216[esp_394 + 0x10:word32] = edx_204;
			Mem218[esp_394 + 0x0C:word32] = Mem216[ebp_30 - 0x68 + 0x00:word32];
			Mem219[esp_394 + 0x08:word32] = eax_214;
			Mem221[esp_394 + 0x04:word32] = Mem219[ebp_30 - 0x68 + 0x00:word32];
			Mem222[esp_394 + 0x00:word32] = 0x080D0470;
			byte bpl_223;
			Mem225[esp_394 + 0x04:word32] = Sprintf(dwArg00, out bpl_223);
			Mem227[esp_394 + 0x00:word32] = Mem225[ebp_30 - 0x60 + 0x00:word32];
			Strcat(dwArg00, dwArg04);
			Mem228[esp_394 + 0x04:word32] = 0x080D04F8;
			Mem230[esp_394 + 0x00:word32] = Mem228[ebp_30 - 0x60 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem233[ebp_30 - 100 + 0x00:word32] = Mem230[Mem230[ebp_30 - 100 + 0x00:word32] + 0x4C:word32];
			Mem235[ebp_30 - 0x68 + 0x00:word32] = Mem233[ebp_30 - 0x68 + 0x00:word32] + 0x01;
		}
		Mem72[esp_394 + 0x04:word32] = 0x080D0534;
		Mem74[esp_394 + 0x00:word32] = Mem72[ebp_30 - 0x60 + 0x00:word32];
		Strcat_charp(dwArg00, dwArg04);
		Mem78[esp_394 + 0x00:word32] = Mem74[ebp_30 - 0x60 + 0x00:word32];
		eax_28 = loadHTMLString(ebp_30, gs, dwArg00);
	}
	else
		eax_28 = 0x00;
	if ((Mem0[ebp_30 - 0x0C + 0x00:word32] ^ Mem0[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_28;
}

// 080AB643: void set_cookie_flag(Register selector gs, Stack word32 dwArg04)
void set_cookie_flag(selector gs, word32 dwArg04)
{
	while (dwArg04 != 0x00)
	{
		if (Mem0[dwArg04 + 0x00:word32] != 0x00 && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:byte]) != 0x00 && (Mem0[dwArg04 + 0x04:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x04:word32] + 0x00:byte]) != 0x00)))
		{
			word32 eax_78 = atoi(Mem0[dwArg04 + 0x00:word32]);
			word32 eax_83 = atoi(Mem0[dwArg04 + 0x04:word32]);
			word32 eax_87 = nth_cookie(eax_78);
			if (eax_87 != 0x00)
			{
				if (eax_83 != 0x00 && ((int32) ((byte) ((word32) Mem0[eax_87 + 0x49:byte])) & 0x01) == 0x00)
					Mem145[eax_87 + 0x49:byte] = (byte) ((word32) Mem0[eax_87 + 0x49:byte] | 0x01);
				else if (eax_83 == 0x00 && (byte) ((int32) ((byte) ((word32) Mem0[eax_87 + 0x49:byte])) & 0x01) != 0x00)
					Mem128[eax_87 + 0x49:byte] = (byte) ((word32) Mem0[eax_87 + 0x49:byte] & ~0x01);
				if (((int32) (byte) (word32) Mem0[eax_87 + 0x49:byte] & 0x10) == 0x00)
					Mem104[0x080D9100:word32] = 0x00;
			}
		}
		dwArg04 = Mem0[dwArg04 + 0x08:word32];
	}
	backBf(fp - 0x04, gs);
}

// 080AB748: Register word32 check_cookie_accept_domain(Stack word32 dwArg04)
word32 check_cookie_accept_domain(word32 dwArg04)
{
	word32 eax_15;
	if (dwArg04 == 0x00)
		eax_15 = 0x00;
	else
	{
		if (Mem0[0x081804E4:word32] != 0x00 && (word16) ((word32) Mem0[Mem0[0x081804E4:word32] + 0x08:word16]) > 0x00)
		{
			while (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem86[fp - 0x28 + 0x00:word32] = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem88[fp - 44 + 0x00:word32] = Mem86[fp + 0x04:word32];
				if (domain_match(fp - 0x04) != 0x00)
				{
					eax_15 = 0x01;
					return eax_15;
				}
				Mem97[fp - 0x10 + 0x00:word32] = Mem88[Mem88[fp - 0x10 + 0x00:word32] + 0x04:word32];
			}
		}
		if (Mem0[0x08180714:word32] != 0x00 && (word16) ((word32) Mem0[Mem0[0x08180714:word32] + 0x08:word16]) > 0x00)
		{
			Mem51[fp - 0x10 + 0x00:word32] = Mem0[Mem0[0x08180714:word32] + 0x00:word32];
			while (Mem51[fp - 0x10 + 0x00:word32] != 0x00)
			{
				Mem59[fp - 0x28 + 0x00:word32] = Mem51[Mem51[fp - 0x10 + 0x00:word32] + 0x00:word32];
				Mem61[fp - 44 + 0x00:word32] = Mem59[fp + 0x04:word32];
				if (domain_match(fp - 0x04) != 0x00)
				{
					eax_15 = 0x00;
					return eax_15;
				}
				Mem70[fp - 0x10 + 0x00:word32] = Mem61[Mem61[fp - 0x10 + 0x00:word32] + 0x04:word32];
			}
		}
		eax_15 = 0x01;
	}
	return eax_15;
}

// 080AB808: void historyBuffer(Register word32 eax, Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void historyBuffer(word32 eax, word32 ebp, selector gs, word32 dwArg04)
{
	Strnew(eax);
	Strcat_charp(eax, 0x080D0550);
	Strcat_charp(eax, 0x080D0584);
	Strcat_charp(eax, 0x080D05A7);
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		while (Mem0[fp - 0x14 + 0x00:word32] != 0x00)
		{
			Mem58[fp - 44 + 0x00:word32] = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32];
			Mem60[fp - 0x1C + 0x00:word32] = html_quote(dwArg00);
			if (Mem60[135774932:word32] != 0x00)
			{
				word32 eax_86 = Mem60[Mem60[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem87[fp - 0x28 + 0x00:word32] = 0x00;
				Mem88[fp - 44 + 0x00:word32] = eax_86;
				Mem90[fp - 44 + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
				Mem92[fp - 0x18 + 0x00:word32] = html_quote(dwArg00);
			}
			else
				Mem94[fp - 0x18 + 0x00:word32] = Mem60[fp - 0x1C + 0x00:word32];
			Mem65[fp - 0x28 + 0x00:word32] = 0x080D05AD;
			Mem67[fp - 44 + 0x00:word32] = Mem65[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem69[fp - 0x28 + 0x00:word32] = Mem67[fp - 0x1C + 0x00:word32];
			Mem71[fp - 44 + 0x00:word32] = Mem69[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem72[fp - 0x28 + 0x00:word32] = 0x080D05BB;
			Mem74[fp - 44 + 0x00:word32] = Mem72[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem76[fp - 0x28 + 0x00:word32] = Mem74[fp - 0x18 + 0x00:word32];
			Mem78[fp - 44 + 0x00:word32] = Mem76[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem79[fp - 0x28 + 0x00:word32] = 0x080D05BE;
			Mem81[fp - 44 + 0x00:word32] = Mem79[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem84[fp - 0x14 + 0x00:word32] = Mem81[Mem81[fp - 0x14 + 0x00:word32] + 0x08:word32];
		}
	}
	Mem30[fp - 0x28 + 0x00:word32] = 0x080D05C4;
	Mem32[fp - 44 + 0x00:word32] = Mem30[fp - 0x10 + 0x00:word32];
	Strcat_charp(dwArg00, dwArg04);
	Mem35[fp - 44 + 0x00:word32] = Mem32[fp - 0x10 + 0x00:word32];
	loadHTMLString(fp - 0x04, gs, dwArg00);
}

// 080AB947: void loadHistory(Stack word32 dwArg04)
void loadHistory(word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		word32 eax_32 = fopen(rcFile(0x080D05DD), 0x080D05DA);
		if (eax_32 != 0x00)
		{
			while (feof(eax_32) == 0x00)
			{
				Strfgets(eax_32, eax_32);
				Strchop(eax_32);
				Strremovefirstspaces(eax_32);
				Strremovetrailingspaces(eax_32);
				if (Mem0[eax_32 + 0x04:word32] != 0x00)
					pushHist(dwArg04, url_quote(Mem0[eax_32 + 0x00:word32]));
			}
			fclose(eax_32);
		}
	}
}

// 080AB9FE: void saveHistory(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void saveHistory(word32 ebp, selector gs, word32 dwArg04)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		byte bpl_35;
		Mem38[fp - 0x18 + 0x00:word32] = Mem0[tmpfname(fp - 0x04, 0x00, 0x00, out bpl_35) + 0x00:word32];
		word32 eax_40 = Mem38[fp - 0x18 + 0x00:word32];
		Mem41[fp - 0x28 + 0x00:word32] = 0x080D05E5;
		Mem42[fp - 44 + 0x00:word32] = eax_40;
		Mem44[fp - 0x10 + 0x00:word32] = fopen(Mem42[fp - 44 + 0x00:(ptr char)], Mem42[fp - 0x28 + 0x00:(ptr char)]);
		if (Mem44[fp - 0x10 + 0x00:word32] == 0x00)
		{
			Mem47[fp - 0x28 + 0x00:word32] = 0x00;
			Mem48[fp - 44 + 0x00:word32] = 0x080D05E7;
			byte bpl_51;
			disp_err_message(gs, dwArg00, dwArg04, out bpl_51);
		}
		else
		{
			Mem58[fp - 0x14 + 0x00:word32] = Mem44[Mem44[Mem44[fp + 0x04:word32] + 0x00:word32] + 0x00:word32];
			while (Mem58[fp - 0x14 + 0x00:word32] != 0x00 && (int32) ((word16) ((word32) Mem58[Mem58[Mem58[fp + 0x04:word32] + 0x00:word32] + 0x08:word16])) >u Mem58[fp + 0x08:word32])
			{
				Mem116[fp + 0x08:word32] = Mem58[fp + 0x08:word32] + 0x01;
				Mem120[fp - 0x14 + 0x00:word32] = Mem116[Mem116[fp - 0x14 + 0x00:word32] + 0x04:word32];
			}
			while (Mem58[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem100[fp - 0x24 + 0x00:word32] = Mem58[Mem58[fp - 0x14 + 0x00:word32] + 0x00:word32];
				Mem101[fp - 0x28 + 0x00:word32] = 0x080D05FA;
				Mem103[fp - 44 + 0x00:word32] = Mem101[fp - 0x10 + 0x00:word32];
				fprintf(Mem103[fp - 44 + 0x00:(ptr FILE)], Mem103[fp - 0x28 + 0x00:(ptr char)], Mem103[fp - 0x24 + 0x00:(ptr char)]);
				Mem107[fp - 0x14 + 0x00:word32] = Mem103[Mem103[fp - 0x14 + 0x00:word32] + 0x04:word32];
			}
			Mem71[fp - 44 + 0x00:word32] = Mem58[fp - 0x10 + 0x00:word32];
			if (fclose(Mem71[fp - 44 + 0x00:(ptr FILE)]) == ~0x00)
			{
				Mem75[fp - 0x28 + 0x00:word32] = 0x00;
				Mem76[fp - 44 + 0x00:word32] = 0x080D05FE;
				byte bpl_77;
				disp_err_message(gs, dwArg00, dwArg04, out bpl_77);
			}
			else
			{
				Mem79[fp - 44 + 0x00:word32] = 0x080D05DD;
				Mem81[fp - 0x28 + 0x00:word32] = rcFile(dwArg00);
				word32 eax_82 = Mem81[fp - 0x18 + 0x00:word32];
				Mem83[fp - 44 + 0x00:word32] = eax_82;
				word32 esp_84;
				word32 ebp_85;
				byte SCZO_86;
				byte Z_87;
				word32 eax_88;
				byte SZO_89;
				byte C_90;
				word32 edx_91;
				word16 ax_92;
				byte CZ_93;
				selector gs_94;
				byte bpl_95;
				!rename();
			}
		}
	}
}

// 080ABB11: void newHist(Register word32 eax)
void newHist(word32 eax)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	newGeneralList(eax_12);
	Mem16[eax_12 + 0x00:word32] = eax_12;
	Mem18[eax_12 + 0x04:word32] = 0x00;
	Mem20[eax_12 + 0x08:word32] = 0x00;
}

// 080ABB49: void copyHist(Register word32 eax, Stack word32 dwArg04)
void copyHist(word32 eax, word32 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		newHist(eax);
		word32 dwLoc14_31 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32];
		while (dwLoc14_31 != 0x00)
		{
			pushHist(eax, Mem0[dwLoc14_31 + 0x00:word32]);
			dwLoc14_31 = Mem0[dwLoc14_31 + 0x04:word32];
		}
	}
}

// 080ABB98: void unshiftHist(Stack word32 dwArg04, Stack word32 dwArg08)
void unshiftHist(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		word32 ebx_49 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32];
		word32 eax_54 = allocStr(dwArg08, ~0x00);
		newListItem(eax_54, eax_54, ebx_49, 0x00);
		if (Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32] != 0x00)
			Mem81[Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32] + 0x08:word32] = eax_54;
		else
			Mem85[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = eax_54;
		Mem68[Mem0[dwArg04 + 0x00:word32] + 0x00:word32] = eax_54;
		word32 eax_70 = Mem68[dwArg04 + 0x00:word32];
		Mem75[eax_70 + 0x08:word16] = (word16) ((word32) Mem68[eax_70 + 0x08:word16] + 0x01);
	}
}

// 080ABC2E: Register word32 pushHist(Stack word32 dwArg04, Stack word32 dwArg08)
word32 pushHist(word32 dwArg04, word32 dwArg08)
{
	word32 eax_24;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		word32 ebx_49 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32];
		word32 eax_54 = allocStr(dwArg08, ~0x00);
		newListItem(eax_54, eax_54, 0x00, ebx_49);
		if (Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] != 0x00)
			Mem81[Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] + 0x04:word32] = eax_54;
		else
			Mem85[Mem0[dwArg04 + 0x00:word32] + 0x00:word32] = eax_54;
		Mem68[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = eax_54;
		word32 eax_70 = Mem68[dwArg04 + 0x00:word32];
		Mem75[eax_70 + 0x08:word16] = (word16) ((word32) Mem68[eax_70 + 0x08:word16] + 0x01);
		eax_24 = eax_54;
	}
	else
		eax_24 = 0x00;
	return eax_24;
}

// 080ABCC7: void pushHashHist(Stack word32 dwArg04, Stack word32 dwArg08)
void pushHashHist(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		word32 eax_47 = getHashHist(dwArg04, dwArg08);
		if (eax_47 != 0x00)
		{
			if (Mem0[eax_47 + 0x04:word32] != 0x00)
				Mem102[Mem0[eax_47 + 0x04:word32] + 0x08:word32] = Mem0[eax_47 + 0x08:word32];
			else
				Mem107[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] = Mem0[eax_47 + 0x08:word32];
			if (Mem0[eax_47 + 0x08:word32] != 0x00)
				Mem92[Mem0[eax_47 + 0x08:word32] + 0x04:word32] = Mem0[eax_47 + 0x04:word32];
			else
				Mem97[Mem0[dwArg04 + 0x00:word32] + 0x00:word32] = Mem0[eax_47 + 0x04:word32];
			word32 eax_82 = Mem0[dwArg04 + 0x00:word32];
			Mem87[eax_82 + 0x08:word16] = (word16) ((word32) Mem0[eax_82 + 0x08:word16] - 0x01);
		}
		putHash_sv(Mem0[dwArg04 + 0x08:word32], dwArg08, pushHist(dwArg04, dwArg08));
	}
}

// 080ABD98: Register word32 getHashHist(Stack word32 dwArg04, Stack word32 dwArg08)
word32 getHashHist(word32 dwArg04, word32 dwArg08)
{
	word32 eax_22;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		word32 eax_43 = Mem0[dwArg04 + 0x08:word32];
		if (eax_43 == 0x00)
		{
			newHash_sv(eax_43, 0x7F);
			Mem61[dwArg04 + 0x08:word32] = eax_43;
			word32 dwLoc10_65 = Mem61[Mem61[dwArg04 + 0x00:word32] + 0x00:word32];
			while (dwLoc10_65 != 0x00)
			{
				putHash_sv(Mem61[dwArg04 + 0x08:word32], Mem61[dwLoc10_65 + 0x00:word32], dwLoc10_65);
				dwLoc10_65 = Mem61[dwLoc10_65 + 0x04:word32];
			}
		}
		eax_22 = getHash_sv(Mem0[dwArg04 + 0x08:word32], dwArg08, 0x00);
	}
	else
		eax_22 = 0x00;
	return eax_22;
}

// 080ABE2A: Register word32 lastHist(Stack word32 dwArg04)
word32 lastHist(word32 dwArg04)
{
	word32 eax_15;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		if (Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32] != 0x00)
		{
			Mem39[dwArg04 + 0x04:word32] = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32];
			eax_15 = Mem39[Mem39[dwArg04 + 0x04:word32] + 0x00:word32];
		}
		else
			eax_15 = 0x00;
	}
	else
		eax_15 = 0x00;
	return eax_15;
}

// 080ABE6E: Register word32 nextHist(Stack word32 dwArg04)
word32 nextHist(word32 dwArg04)
{
	word32 eax_15;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x04:word32] != 0x00 && Mem0[Mem0[dwArg04 + 0x04:word32] + 0x04:word32] != 0x00)
		{
			Mem48[dwArg04 + 0x04:word32] = Mem0[Mem0[dwArg04 + 0x04:word32] + 0x04:word32];
			eax_15 = Mem48[Mem48[dwArg04 + 0x04:word32] + 0x00:word32];
		}
		else
			eax_15 = 0x00;
	}
	else
		eax_15 = 0x00;
	return eax_15;
}

// 080ABEBE: Register word32 prevHist(Stack word32 dwArg04)
word32 prevHist(word32 dwArg04)
{
	word32 eax_15;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x04:word32] != 0x00 && Mem0[Mem0[dwArg04 + 0x04:word32] + 0x08:word32] != 0x00)
		{
			Mem48[dwArg04 + 0x04:word32] = Mem0[Mem0[dwArg04 + 0x04:word32] + 0x08:word32];
			eax_15 = Mem48[Mem48[dwArg04 + 0x04:word32] + 0x00:word32];
		}
		else
			eax_15 = 0x00;
	}
	else
		eax_15 = 0x00;
	return eax_15;
}

// 080ABF10: void print_headers(Register word32 ebp, Stack word32 dwArg04)
void print_headers(word32 ebp, word32 dwArg04)
{
	if (Mem0[dwArg04 + 0xD8:word32] != 0x00)
	{
		word32 dwLoc10_80 = Mem0[Mem0[dwArg04 + 0xD8:word32] + 0x00:word32];
		while (dwLoc10_80 != 0x00)
		{
			puts(Mem0[dwLoc10_80 + 0x00:word32]);
			dwLoc10_80 = Mem0[dwLoc10_80 + 0x04:word32];
		}
	}
	byte bpl_20;
	Mem24[fp - 0x28 + 0x00:word32] = Mem0[parsedURL2Str(dwArg04 + 0x84, out bpl_20) + 0x00:word32];
	Mem25[fp - 44 + 0x00:word32] = 135071555;
	printf(Mem25[fp - 44 + 0x00:(ptr char)], Mem25[fp - 0x28 + 0x00:(ptr char)]);
	if (Mem25[Mem25[fp + 0x04:word32] + 0xAC:word32] != 0x00)
	{
		Mem69[fp - 44 + 0x00:word32] = Mem25[Mem25[fp + 0x04:word32] + 0xAC:word32];
		byte bpl_70;
		Mem74[fp - 0x28 + 0x00:word32] = Mem69[parsedURL2Str(dwArg00, out bpl_70) + 0x00:word32];
		Mem75[fp - 44 + 0x00:word32] = 0x080D0758;
		printf(Mem75[fp - 44 + 0x00:(ptr char)], Mem75[fp - 0x28 + 0x00:(ptr char)]);
	}
	Mem36[fp - 0x28 + 0x00:word32] = Mem25[Mem25[fp + 0x04:word32] + 0x34:word32];
	Mem37[fp - 44 + 0x00:word32] = 0x080D076A;
	printf(Mem37[fp - 44 + 0x00:(ptr char)], Mem37[fp - 0x28 + 0x00:(ptr char)]);
	if (Mem37[Mem37[fp + 0x04:word32] + 0xD0:word32] != 0x00)
	{
		Mem60[fp - 44 + 0x00:word32] = Mem37[Mem37[fp + 0x04:word32] + 0xD0:word32];
		Mem64[fp - 0x28 + 0x00:word32] = wc_ces_to_charset(dwArg00);
		Mem65[fp - 44 + 0x00:word32] = 0x080D0780;
		printf(Mem65[fp - 44 + 0x00:(ptr char)], Mem65[fp - 0x28 + 0x00:(ptr char)]);
	}
	if (Mem37[fp + 0x08:word32] > 0x00)
	{
		Mem55[fp - 0x28 + 0x00:word32] = Mem37[fp + 0x08:word32];
		Mem56[fp - 44 + 0x00:word32] = 0x080D0799;
		printf(Mem56[fp - 44 + 0x00:(ptr char)], Mem56[fp - 0x28 + 0x00:int32]);
	}
}

// 080AC005: void internal_get(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void internal_get(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem11[0x0818052C:word32] = 0x00;
	Mem14[135774964:word32] = dwArg08;
	Mem26[fp - 0x10 + 0x00:word32] = loadGeneralFile(fp - 0x04, gs, dwArg04);
	Mem27[135774964:word32] = 0x00;
	if (Mem27[fp - 0x10 + 0x00:word32] != 0x00 && Mem27[(fp - 0x10) + 0x00:word32] != 0x01)
	{
		Mem52[fp - 0x4C + 0x00:word32] = Mem27[Mem27[fp - 0x10 + 0x00:word32] + 0x34:word32];
		if (is_html_type(dwArg00) != 0x00 && Mem52[0x0818052C:word32] != 0x00)
		{
			Mem114[fp - 0x20 + 0x00:word32] = 0x00;
			word32 eax_116 = Mem114[Mem114[0x0818052C:word32] + 0x00:word32];
			Mem118[fp - 0x14 + 0x00:word32] = eax_116;
			while (Mem118[fp - 0x14 + 0x00:word32] != 0x00)
			{
				word32 eax_188;
				word32 ebx_180 = Mem118[Mem118[fp - 0x14 + 0x00:word32] + 0x00:word32];
				if ((byte) (word32) Mem118[135775056:byte] != 0x00)
				{
					word32 edx_204 = Mem118[135091052:word32];
					word32 eax_207 = Mem118[Mem118[Mem118[fp - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32];
					Mem208[fp - 0x44 + 0x00:word32] = Mem118[0x080D5370:word32];
					Mem209[fp - 0x48 + 0x00:word32] = edx_204;
					Mem210[fp - 0x4C + 0x00:word32] = eax_207;
					eax_188 = wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_180);
				}
				else
					eax_188 = Mem118[Mem118[Mem118[fp - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32];
				Mem190[ebx_180 + 0x00:word32] = eax_188;
				Mem197[fp - 0x20 + 0x00:word32] = Mem190[fp - 0x20 + 0x00:word32] + (Mem190[Mem190[Mem190[Mem190[(fp - 0x14) + 0x00:word32] + 0x00:word32] + 0x00:word32] + 0x04:word32] + 0x01);
				eax_116 = Mem197[Mem197[fp - 0x14 + 0x00:word32] + 0x04:word32];
				Mem202[fp - 0x14 + 0x00:word32] = eax_116;
			}
			Mem128[fp - 0x4C + 0x00:word32] = 0x080D07B1;
			Strnew_charp(eax_116, dwArg00);
			Mem129[fp - 0x18 + 0x00:word32] = eax_116;
			Mem132[fp - 0x4C + 0x00:word32] = Mem129[Mem129[fp - 0x10 + 0x00:word32] + 0x04:word32];
			word32 eax_133 = html_quote(dwArg00);
			Mem134[fp - 0x40 + 0x00:word32] = 0x00;
			Mem135[fp - 0x44 + 0x00:word32] = 0x080D07B8;
			Mem136[fp - 0x48 + 0x00:word32] = eax_133;
			Mem137[fp - 0x4C + 0x00:word32] = 0x080D07C2;
			Strnew_m_charp(eax_133, dwArg00);
			Mem138[fp - 0x1C + 0x00:word32] = eax_133;
			Mem147[fp - 0x48 + 0x00:word32] = Mem138[Mem138[fp - 0x18 + 0x00:word32] + 0x04:word32] + Mem138[(fp - 0x20) + 0x00:word32] + Mem138[Mem138[(fp - 0x1C) + 0x00:word32] + 0x04:word32];
			Mem149[fp - 0x4C + 0x00:word32] = Mem147[fp - 0x10 + 0x00:word32];
			print_headers(fp - 0x04, dwArg00);
			Mem150[fp - 0x4C + 0x00:word32] = 0x0A;
			putchar(Mem150[fp - 0x4C + 0x00:int32]);
			Mem155[fp - 0x48 + 0x00:word32] = Mem150[Mem150[fp - 0x18 + 0x00:word32] + 0x00:word32];
			Mem156[fp - 0x4C + 0x00:word32] = 0x080D07D0;
			printf(Mem156[fp - 0x4C + 0x00:(ptr char)], Mem156[fp - 0x48 + 0x00:(ptr char)]);
			Mem160[fp - 0x14 + 0x00:word32] = Mem156[Mem156[0x0818052C:word32] + 0x00:word32];
			while (Mem160[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem174[fp - 0x4C + 0x00:word32] = Mem160[Mem160[Mem160[Mem160[fp - 0x14 + 0x00:word32] + 0x00:word32] + 0x00:word32] + 0x00:word32];
				puts(Mem174[fp - 0x4C + 0x00:(ptr char)]);
				Mem178[fp - 0x14 + 0x00:word32] = Mem174[Mem174[fp - 0x14 + 0x00:word32] + 0x04:word32];
			}
			Mem167[fp - 0x48 + 0x00:word32] = Mem160[Mem160[fp - 0x1C + 0x00:word32] + 0x00:word32];
			Mem168[fp - 0x4C + 0x00:word32] = 0x080D07D0;
			printf(Mem168[fp - 0x4C + 0x00:(ptr char)], Mem168[fp - 0x48 + 0x00:(ptr char)]);
		}
		else
		{
			word32 eax_59 = Mem52[Mem52[fp - 0x10 + 0x00:word32] + 0x34:word32];
			Mem60[fp - 0x48 + 0x00:word32] = 0x080D07D3;
			Mem61[fp - 0x4C + 0x00:word32] = eax_59;
			if (strcasecmp(Mem61[fp - 0x4C + 0x00:(ptr char)], Mem61[fp - 0x48 + 0x00:(ptr char)]) == 0x00)
			{
				Mem66[fp - 0x28 + 0x00:word32] = 0x00;
				Mem69[fp - 0x24 + 0x00:word32] = Mem66[Mem66[fp - 0x10 + 0x00:word32] + 0x08:word32];
				while (Mem69[fp - 0x24 + 0x00:word32] != 0x00)
				{
					Mem89[fp - 0x28 + 0x00:word32] = Mem69[fp - 0x28 + 0x00:word32] + Mem69[Mem69[(fp - 0x24) + 0x00:word32] + 0x14:word32];
					if ((byte) (word32) Mem89[Mem89[Mem89[fp - 0x24 + 0x00:word32] + 0x00:word32] + (Mem89[Mem89[(fp - 0x24) + 0x00:word32] + 0x14:word32] - 0x01):byte] != 0x0A)
						Mem105[fp - 0x28 + 0x00:word32] = Mem89[fp - 0x28 + 0x00:word32] + 0x01;
					Mem103[fp - 0x24 + 0x00:word32] = Mem89[Mem89[fp - 0x24 + 0x00:word32] + 0x0C:word32];
				}
				Mem76[fp - 0x48 + 0x00:word32] = Mem69[fp - 0x28 + 0x00:word32];
				Mem78[fp - 0x4C + 0x00:word32] = Mem76[fp - 0x10 + 0x00:word32];
				print_headers(fp - 0x04, dwArg00);
				Mem79[fp - 0x4C + 0x00:word32] = 0x0A;
				putchar(Mem79[fp - 0x4C + 0x00:int32]);
				word32 eax_81 = Mem79[0x0817C220:word32];
				Mem82[fp - 0x44 + 0x00:word32] = 0x01;
				Mem83[fp - 0x48 + 0x00:word32] = eax_81;
				Mem85[fp - 0x4C + 0x00:word32] = Mem83[fp - 0x10 + 0x00:word32];
				saveBuffer(gs, dwArg00, dwArg04, dwArg08);
			}
			else
			{
				Mem107[fp - 0x48 + 0x00:word32] = 0x00;
				Mem109[fp - 0x4C + 0x00:word32] = Mem107[fp - 0x10 + 0x00:word32];
				print_headers(fp - 0x04, dwArg00);
			}
		}
	}
}

// 080AC281: void get(Register selector gs, Stack word32 dwArg04)
void get(selector gs, word32 dwArg04)
{
	word32 dwLoc14_15 = 0x00;
	word32 dwLoc18_16 = 0x00;
	while (true)
	{
		word32 eax_21 = popValue(dwArg04);
		if (eax_21 == 0x00)
			break;
		if (strcasecmp(eax_21, 0x080D07DE) == 0x00)
			dwLoc18_16 = 0x01;
		else
			dwLoc14_15 = eax_21;
	}
	if (dwLoc14_15 != 0x00)
		internal_get(fp - 0x04, gs, dwLoc14_15, dwLoc18_16, 0x00);
}

// 080AC2F3: void post(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void post(word32 ebp, selector gs, word32 dwArg04)
{
	word32 dwLoc1C_131 = 0x00;
	word32 dwLoc20_10 = 0x00;
	word32 dwLoc2C_13 = 0x00;
	while (true)
	{
		word32 eax_33 = popValue(dwArg04);
		if (eax_33 == 0x00)
			break;
		if (strcasecmp(eax_33, 0x080D07DE) != 0x00)
		{
			if (strcasecmp(eax_33, 0x080D07ED) == 0x00)
				popValue(dwArg04);
			else if (strcasecmp(eax_33, 135071733) == 0x00)
				dwLoc1C_131 = popValue(dwArg04);
			else if (strcasecmp(eax_33, 0x080D07FE) == 0x00)
				dwLoc20_10 = popValue(dwArg04);
			else if (strcasecmp(eax_33, 0x080D0807) == 0x00)
				popValue(dwArg04);
			else if (strcasecmp(eax_33, 0x080D080D) == 0x00)
				popValue(dwArg04);
			else if (strcasecmp(eax_33, 0x080D0817) == 0x00)
				atol(popValue(dwArg04));
			else
				dwLoc2C_13 = eax_33;
		}
	}
	if (dwLoc2C_13 != 0x00)
	{
		word32 eax_100;
		Mem73[fp - 0x10 + 0x00:word32] = newFormList(gs, 0x00, 0x080D063B, dwLoc1C_131, dwLoc20_10);
		Mem76[Mem73[fp - 0x10 + 0x00:word32] + 0x28:word32] = Mem73[fp - 0x24 + 0x00:word32];
		Mem79[Mem76[fp - 0x10 + 0x00:word32] + 44:word32] = Mem76[fp - 0x28 + 0x00:word32];
		if (Mem79[fp - 0x34 + 0x00:word32] > 0x00)
			eax_100 = Mem79[fp - 0x34 + 0x00:word32];
		else if (Mem79[fp - 0x24 + 0x00:word32] != 0x00)
		{
			Mem99[fp - 0x5C + 0x00:word32] = Mem79[fp - 0x24 + 0x00:word32];
			eax_100 = strlen(Mem99[fp - 0x5C + 0x00:(ptr char)]);
		}
		else
			eax_100 = 0x00;
		Mem86[Mem79[fp - 0x10 + 0x00:word32] + 0x30:word32] = eax_100;
		Mem88[fp - 0x54 + 0x00:word32] = Mem86[fp - 0x10 + 0x00:word32];
		Mem90[fp - 88 + 0x00:word32] = Mem88[fp - 0x30 + 0x00:word32];
		Mem92[fp - 0x5C + 0x00:word32] = Mem90[fp - 44 + 0x00:word32];
		internal_get(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
	}
}

// 080AC50E: void set(Stack word32 dwArg04)
void set(word32 dwArg04)
{
	word16 ax_11 = (word16) (word32) Mem0[dwArg04 + 0x08:word16];
	if (ax_11 > 0x01)
	{
		word32 dwLoc10_35 = 0x00;
		while (0x080D91B0[dwLoc10_35 * 0x0C] != 0x00)
		{
			word32 ecx_52 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32];
			if (strcasecmp(0x080D91B0[dwLoc10_35 * 0x0C], ecx_52) == 0x00)
			{
				popValue(dwArg04);
				if (135106996[dwLoc10_35 * 0x0C] != 0x00)
				{
					word32 edx_83 = 135106996[dwLoc10_35 * 0x0C];
					word32 esp_86;
					word32 ebp_87;
					byte SCZO_88;
					word32 eax_89;
					word16 ax_90;
					byte SZO_91;
					word32 edx_92;
					byte C_93;
					byte Z_94;
					word32 ecx_95;
					edx_83();
				}
				return;
			}
			dwLoc10_35 = dwLoc10_35 + 0x01;
		}
	}
}

// 080AC5B3: void show(Stack word32 dwArg04)
void show(word32 dwArg04)
{
	word16 ax_11 = (word16) (word32) Mem0[dwArg04 + 0x08:word16];
	if (ax_11 > 0x00)
	{
		word32 dwLoc10_35 = 0x00;
		while (0x080D91B0[dwLoc10_35 * 0x0C] != 0x00)
		{
			word32 ecx_52 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32];
			if (strcasecmp(0x080D91B0[dwLoc10_35 * 0x0C], ecx_52) == 0x00)
			{
				popValue(dwArg04);
				if (135107000[dwLoc10_35 * 0x0C] != 0x00)
				{
					word32 edx_83 = 135107000[dwLoc10_35 * 0x0C];
					word32 esp_86;
					word32 ebp_87;
					byte SCZO_88;
					word32 eax_89;
					word16 ax_90;
					byte SZO_91;
					byte C_92;
					word32 edx_93;
					byte Z_94;
					word32 ecx_95;
					edx_83();
				}
				return;
			}
			dwLoc10_35 = dwLoc10_35 + 0x01;
		}
	}
}

// 080AC657: void quit(Register selector gs)
void quit(selector gs)
{
	save_cookies(fp - 0x04);
	Mem8[fp - 0x1C + 0x00:word32] = 0x00;
	w3m_exit(gs);
}

// 080AC670: void help()
void help()
{
	word32 dwLoc10_11 = 0x00;
	while (0x080D9140[dwLoc10_11 * 0x10] != 0x00)
	{
		printf(0x080D081F, 0x080D9140[dwLoc10_11 * 0x10], 0x080D9144[dwLoc10_11 * 0x10], 0x080D9148[dwLoc10_11 * 0x10]);
		dwLoc10_11 = dwLoc10_11 + 0x01;
	}
}

// 080AC6D7: void set_column(Stack word32 dwArg04)
void set_column(word32 dwArg04)
{
	if ((word16) (word32) Mem0[dwArg04 + 0x08:word16] == 0x01)
		Mem25[0x081807A0:word32] = atol(Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32]);
}

// 080AC700: void show_column()
void show_column()
{
	fprintf(Mem0[0x0817C220:word32], 0x080D082D, Mem0[0x081807A0:word32]);
}

// 080AC728: void call_command_function(Stack word32 dwArg04)
void call_command_function(word32 dwArg04)
{
	split(dwArg04, dwArg04);
	word16 ax_15 = (word16) (word32) Mem0[dwArg04 + 0x08:word16];
	if (ax_15 > 0x00)
	{
		word32 dwLoc10_35 = 0x00;
		while (0x080D9140[dwLoc10_35 * 0x10] != 0x00)
		{
			if (strcasecmp(0x080D9140[dwLoc10_35 * 0x10], Mem0[Mem0[dwArg04 + 0x00:word32] + 0x00:word32]) == 0x00)
			{
				popValue(dwArg04);
				if (0x080D914C[dwLoc10_35 * 0x10] != 0x00)
				{
					word32 edx_71 = 0x080D914C[dwLoc10_35 * 0x10];
					word32 esp_74;
					word32 ebp_75;
					byte SCZO_76;
					word32 eax_77;
					word16 ax_78;
					byte SZO_79;
					byte C_80;
					byte Z_81;
					word32 edx_82;
					edx_71();
				}
				return;
			}
			dwLoc10_35 = dwLoc10_35 + 0x01;
		}
	}
}

// 080AC7BE: void backend(Register selector gs)
void backend(selector gs)
{
	Mem7[135774876:word32] = 0x00;
	if (Mem7[0x081807A0:word32] == 0x00)
		Mem41[0x081807A0:word32] = 0x50;
	Mem12[0x080D5384:word32] = 0x00;
	if (Mem12[135775124:word32] != 0x00)
	{
		while (true)
		{
			word32 eax_28 = popValue(Mem12[135775124:word32]);
			if (eax_28 == 0x00)
				break;
			call_command_function(eax_28);
		}
	}
	else
	{
		while (true)
		{
			word32 eax_35 = readline(0x080D0838);
			if (eax_35 == 0x00)
				break;
			call_command_function(eax_35);
		}
	}
	quit(gs);
}

// 080AC84F: Register word32 readline(Stack word32 dwArg04)
word32 readline(word32 dwArg04)
{
	word32 eax_31;
	fputs(dwArg04, Mem0[0x0817C220:word32]);
	fflush(Mem0[0x0817C220:word32]);
	word32 eax_19 = Mem0[135774740:word32];
	Strfgets(eax_19, eax_19);
	if (feof(Mem0[135774740:word32]) != 0x00 && (byte) ((word32) Mem0[Mem0[eax_19 + 0x00:word32] + 0x00:byte]) == 0x00)
		eax_31 = 0x00;
	else
		eax_31 = Mem0[eax_19 + 0x00:word32];
	return eax_31;
}

// 080AC8B3: void split(Register word32 eax, Stack word32 dwArg04)
void split(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	newGeneralList(eax);
	word32 dwLoc10_21 = 0x00;
	word32 dwLoc14_22 = 0x00;
	word32 dwLoc18_11 = eax;
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 eax_67 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		if (eax_67 <= 0x0D)
		{
			if (eax_67 < 0x0C && eax_67 >u 0x0A)
				goto l080ACCCB;
			goto l080ACC32;
		}
		if (eax_67 != 0x22)
		{
			if (eax_67 <= 0x22)
			{
				if (eax_67 != 0x20)
					goto l080ACCCB;
l080ACC32:
				if (dwLoc10_21 == 0x00 && dwLoc14_22 == 0x00)
				{
					if (Mem0[dwLoc18_11 + 0x04:word32] > 0x00)
					{
						word32 eax_141 = pushValue(eax, allocStr(Mem0[dwLoc18_11 + 0x00:word32], ~0x00));
						Strnew(eax_141);
						dwLoc18_11 = eax_141;
					}
				}
				else
				{
					if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
						Strgrow(dwLoc18_11);
					word32 eax_108 = Mem0[dwLoc18_11 + 0x04:word32];
					Mem115[Mem0[dwLoc18_11 + 0x00:word32] + eax_108:byte] = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
					Mem118[dwLoc18_11 + 0x04:word32] = eax_108 + 0x01;
					Mem124[Mem118[dwLoc18_11 + 0x00:word32] + Mem118[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
				}
				goto l080ACD1D;
			}
			if (eax_67 != 0x27)
			{
				if (eax_67 != 0x5C)
				{
l080ACCCB:
					if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
						Strgrow(dwLoc18_11);
					word32 eax_157 = Mem0[dwLoc18_11 + 0x04:word32];
					Mem164[Mem0[dwLoc18_11 + 0x00:word32] + eax_157:byte] = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
					Mem167[dwLoc18_11 + 0x04:word32] = eax_157 + 0x01;
					Mem173[Mem167[dwLoc18_11 + 0x00:word32] + Mem167[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
					goto l080ACD1D;
				}
				if (dwLoc14_22 == 0x00)
				{
					word32 v16_193 = dwArg04 + 0x01;
					dwArg04 = v16_193;
					word32 eax_198 = (int32) (byte) (word32) Mem0[v16_193 + 0x00:byte];
					if (eax_198 != 110)
					{
						if (eax_198 <= 110)
						{
							if (eax_198 == 0x00)
								break;
							if (eax_198 != 0x66)
								goto l080ACB85;
							if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
								Strgrow(dwLoc18_11);
							word32 eax_262 = Mem0[dwLoc18_11 + 0x04:word32];
							Mem265[Mem0[dwLoc18_11 + 0x00:word32] + eax_262:byte] = 0x0C;
							Mem268[dwLoc18_11 + 0x04:word32] = eax_262 + 0x01;
							Mem274[Mem268[dwLoc18_11 + 0x00:word32] + Mem268[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
							goto l080ACBD9;
						}
						if (eax_198 != 114)
						{
							if (eax_198 == 116)
							{
								if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
									Strgrow(dwLoc18_11);
								word32 eax_292 = Mem0[dwLoc18_11 + 0x04:word32];
								Mem295[Mem0[dwLoc18_11 + 0x00:word32] + eax_292:byte] = 0x09;
								Mem298[dwLoc18_11 + 0x04:word32] = eax_292 + 0x01;
								Mem304[Mem298[dwLoc18_11 + 0x00:word32] + Mem298[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
								goto l080ACBD9;
							}
l080ACB85:
							if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
								Strgrow(dwLoc18_11);
							word32 eax_227 = Mem0[dwLoc18_11 + 0x04:word32];
							Mem234[Mem0[dwLoc18_11 + 0x00:word32] + eax_227:byte] = (byte) (word32) Mem0[v16_193 + 0x00:byte];
							Mem237[dwLoc18_11 + 0x04:word32] = eax_227 + 0x01;
							Mem243[Mem237[dwLoc18_11 + 0x00:word32] + Mem237[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
							goto l080ACD1D;
						}
						if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
							Strgrow(dwLoc18_11);
						word32 eax_318 = Mem0[dwLoc18_11 + 0x04:word32];
						Mem321[Mem0[dwLoc18_11 + 0x00:word32] + eax_318:byte] = 0x0D;
						Mem324[dwLoc18_11 + 0x04:word32] = eax_318 + 0x01;
						Mem330[Mem324[dwLoc18_11 + 0x00:word32] + Mem324[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
					}
					else
					{
						if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
							Strgrow(dwLoc18_11);
						word32 eax_344 = Mem0[dwLoc18_11 + 0x04:word32];
						Mem347[Mem0[dwLoc18_11 + 0x00:word32] + eax_344:byte] = 0x0A;
						Mem350[dwLoc18_11 + 0x04:word32] = eax_344 + 0x01;
						Mem356[Mem350[dwLoc18_11 + 0x00:word32] + Mem350[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
					}
l080ACBD9:
				}
				else
				{
					if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
						Strgrow(dwLoc18_11);
					word32 eax_370 = Mem0[dwLoc18_11 + 0x04:word32];
					Mem377[Mem0[dwLoc18_11 + 0x00:word32] + eax_370:byte] = (byte) (word32) Mem0[dwArg04 + 0x00:byte];
					Mem380[dwLoc18_11 + 0x04:word32] = eax_370 + 0x01;
					Mem386[Mem380[dwLoc18_11 + 0x00:word32] + Mem380[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
				}
			}
			else if (dwLoc10_21 != 0x00)
			{
				if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
					Strgrow(dwLoc18_11);
				word32 eax_402 = Mem0[dwLoc18_11 + 0x04:word32];
				Mem405[Mem0[dwLoc18_11 + 0x00:word32] + eax_402:byte] = 0x27;
				Mem408[dwLoc18_11 + 0x04:word32] = eax_402 + 0x01;
				Mem414[Mem408[dwLoc18_11 + 0x00:word32] + Mem408[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
			}
			else
				dwLoc14_22 = (word32) (dwLoc14_22 == 0x00);
		}
		else if (dwLoc14_22 != 0x00)
		{
			if (Mem0[dwLoc18_11 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_11 + 0x08:word32])
				Strgrow(dwLoc18_11);
			word32 eax_435 = Mem0[dwLoc18_11 + 0x04:word32];
			Mem438[Mem0[dwLoc18_11 + 0x00:word32] + eax_435:byte] = 0x22;
			Mem441[dwLoc18_11 + 0x04:word32] = eax_435 + 0x01;
			Mem447[Mem441[dwLoc18_11 + 0x00:word32] + Mem441[dwLoc18_11 + 0x04:word32]:byte] = 0x00;
		}
		else
			dwLoc10_21 = (word32) (dwLoc10_21 == 0x00);
l080ACD1D:
		dwArg04 = dwArg04 + 0x01;
	}
	if (Mem0[dwLoc18_11 + 0x04:word32] > 0x00)
		pushValue(eax, allocStr(Mem0[dwLoc18_11 + 0x00:word32], ~0x00));
}

// 080ACD68: Register word32 putAnchor(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20, Stack word32 dwArg24)
word32 putAnchor(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg20, word32 dwArg24)
{
	byte al_15 = (byte) dwArg1C;
	if (dwArg04 == 0x00)
	{
		word32 esp_445;
		word32 ebp_446;
		word32 esi_447;
		word32 ebx_448;
		byte SCZO_449;
		word32 eax_450;
		byte al_451;
		byte Z_452;
		word32 edx_453;
		byte SZO_454;
		byte C_455;
		word32 ecx_456;
		byte S_457;
		byte dl_458;
		byte SO_459;
		!GC_malloc();
		Mem462[eax_450 + 0x00:word32] = 0x00;
		Mem464[eax_450 + 0x08:word32] = 0x00;
		Mem468[eax_450 + 0x04:word32] = Mem464[eax_450 + 0x08:word32];
		Mem470[eax_450 + 0x0C:word32] = ~0x00;
		dwArg04 = eax_450;
	}
	word32 eax_40 = Mem0[dwArg04 + 0x08:word32];
	if (eax_40 == 0x00)
	{
		word32 esp_422;
		word32 ebp_423;
		word32 esi_424;
		word32 ebx_425;
		byte SCZO_426;
		word32 eax_427;
		byte al_428;
		byte Z_429;
		word32 edx_430;
		byte SZO_431;
		byte C_432;
		word32 ecx_433;
		byte S_434;
		byte dl_435;
		byte SO_436;
		!GC_malloc();
		Mem439[dwArg04 + 0x00:word32] = eax_427;
		Mem441[dwArg04 + 0x08:word32] = 0x1E;
	}
	if (Mem0[dwArg04 + 0x04:word32] == Mem0[dwArg04 + 0x08:word32])
	{
		Mem386[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x08:word32] * 0x02;
		word32 esp_403;
		word32 ebp_404;
		word32 esi_405;
		word32 ebx_406;
		byte SCZO_407;
		word32 eax_408;
		byte al_409;
		byte Z_410;
		word32 edx_411;
		byte SZO_412;
		byte C_413;
		word32 ecx_414;
		byte S_415;
		byte dl_416;
		byte SO_417;
		!GC_realloc();
		Mem420[dwArg04 + 0x00:word32] = eax_408;
	}
	word32 dwLoc14_177;
	word32 eax_85 = Mem0[dwArg04 + 0x04:word32];
	if (eax_85 != 0x00)
	{
		word32 eax_183 = eax_85 - 0x01 << 0x02;
		if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_183 << 0x04) - eax_183) + 0x14:word32] != dwArg20)
		{
			word32 eax_348 = eax_85 - 0x01 << 0x02;
			if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_348 << 0x04) - eax_348) + 0x14:word32] - dwArg20 >= 0x00)
			{
l080ACECC:
				dwLoc14_177 = 0x00;
				while (dwLoc14_177 < eax_85)
				{
					byte al_232;
					word32 eax_218 = dwLoc14_177 << 0x02;
					if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_218 << 0x04) - eax_218) + 0x14:word32] != dwArg20)
					{
						word32 eax_309 = dwLoc14_177 << 0x02;
						al_232 = (byte) (~(Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_309 << 0x04) - eax_309) + 0x14:word32] - dwArg20) >>u 0x1F);
					}
					else
					{
						word32 eax_328 = dwLoc14_177 << 0x02;
						al_232 = (byte) (~(Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_328 << 0x04) - eax_328) + 0x18:word32] - dwArg24) >>u 0x1F);
					}
					if (al_232 != 0x00)
					{
						word32 dwLoc18_240 = eax_85;
						while (dwLoc18_240 > dwLoc14_177)
						{
							word32 edx_262 = dwLoc18_240 - 0x01;
							word32 eax_252 = dwLoc18_240 << 0x02;
							word32 edx_269 = Mem0[dwArg04 + 0x00:word32] + ((edx_262 << 0x06) - (edx_262 << 0x02));
							word32 eax_258 = Mem0[dwArg04 + 0x00:word32] + ((eax_252 << 0x04) - eax_252);
							Mem271[eax_258 + 0x00:word32] = Mem0[edx_269 + 0x00:word32];
							Mem273[eax_258 + 0x04:word32] = Mem271[edx_269 + 0x04:word32];
							Mem275[eax_258 + 0x08:word32] = Mem273[edx_269 + 0x08:word32];
							Mem277[eax_258 + 0x0C:word32] = Mem275[edx_269 + 0x0C:word32];
							Mem279[eax_258 + 0x10:word32] = Mem277[edx_269 + 0x10:word32];
							Mem281[eax_258 + 0x14:word32] = Mem279[edx_269 + 0x14:word32];
							Mem283[eax_258 + 0x18:word32] = Mem281[edx_269 + 0x18:word32];
							Mem285[eax_258 + 0x1C:word32] = Mem283[edx_269 + 0x1C:word32];
							Mem287[eax_258 + 0x20:word32] = Mem285[edx_269 + 0x20:word32];
							Mem289[eax_258 + 0x24:word32] = Mem287[edx_269 + 0x24:word32];
							Mem291[eax_258 + 0x28:word32] = Mem289[edx_269 + 0x28:word32];
							Mem293[eax_258 + 44:word32] = Mem291[edx_269 + 44:word32];
							Mem295[eax_258 + 0x30:word32] = Mem293[edx_269 + 0x30:word32];
							Mem297[eax_258 + 0x34:word32] = Mem295[edx_269 + 0x34:word32];
							Mem299[eax_258 + 0x38:word32] = Mem297[edx_269 + 0x38:word32];
							dwLoc18_240 = dwLoc18_240 - 0x01;
						}
						break;
					}
					dwLoc14_177 = dwLoc14_177 + 0x01;
				}
l080AD013:
				word32 eax_100 = dwLoc14_177 << 0x02;
				word32 eax_106 = Mem0[dwArg04 + 0x00:word32] + ((eax_100 << 0x04) - eax_100);
				Mem111[eax_106 + 0x00:word32] = dwArg08;
				Mem115[eax_106 + 0x04:word32] = dwArg0C;
				Mem119[eax_106 + 0x08:word32] = dwArg14;
				Mem123[eax_106 + 0x0C:word32] = dwArg18;
				Mem127[eax_106 + 0x10:byte] = (byte) (word32) al_15;
				Mem129[eax_106 + 0x30:byte] = 0x00;
				Mem132[eax_106 + 0x14:word32] = dwArg20;
				Mem134[eax_106 + 0x18:word32] = dwArg24;
				Mem137[eax_106 + 0x1C:word32] = dwLoc20;
				Mem140[eax_106 + 0x20:word32] = dwArg20;
				Mem142[eax_106 + 0x24:word32] = dwArg24;
				Mem144[eax_106 + 0x28:word32] = dwLoc20;
				Mem149[dwArg04 + 0x04:word32] = Mem144[dwArg04 + 0x04:word32] + 0x01;
				if (dwArg10 != 0x00)
					Mem166[dwArg10 + 0x00:word32] = eax_106;
				return dwArg04;
			}
		}
		else
		{
			word32 eax_367 = eax_85 - 0x01 << 0x02;
			if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_367 << 0x04) - eax_367) + 0x18:word32] - dwArg24 >= 0x00)
				goto l080ACECC;
		}
	}
	dwLoc14_177 = eax_85;
	goto l080AD013;
}

// 080AD0B4: Register word32 registerHref(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20)
word32 registerHref(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C, word32 dwArg20)
{
	Mem41[dwArg04 + 0x60:word32] = putAnchor(Mem0[dwArg04 + 0x60:word32], dwArg08, dwArg0C, fp - 0x10, dwArg10, dwArg14, (word32) (byte) dwArg18, dwArg1C, dwArg20);
	return dwLoc10;
}

// 080AD112: void registerName(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void registerName(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Mem30[dwArg04 + 100:word32] = putAnchor(Mem0[dwArg04 + 100:word32], dwArg08, 0x00, fp - 0x10, 0x00, 0x00, 0x00, dwArg0C, dwArg10);
}

// 080AD16D: Register word32 registerImg(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 registerImg(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	Mem32[dwArg04 + 0x68:word32] = putAnchor(Mem0[dwArg04 + 0x68:word32], dwArg08, 0x00, fp - 0x10, 0x00, dwArg0C, 0x00, dwArg10, dwArg14);
	return dwLoc10;
}

// 080AD1C7: void registerForm(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void registerForm(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 eax_17 = formList_addInput(dwArg08, dwArg08, dwArg0C);
	if (eax_17 != 0x00)
		Mem72[dwArg04 + 0x6C:word32] = putAnchor(Mem0[dwArg04 + 0x6C:word32], eax_17, Mem0[dwArg08 + 0x10:word32], fp - 0x10, 0x00, 0x00, 0x00, dwArg10, dwArg14);
}

// 080AD24B: Register word32 onAnchor(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 onAnchor(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	byte al_24;
	if (dwArg08 != Mem0[dwArg04 + 0x14:word32])
		al_24 = (byte) (dwArg08 - Mem0[dwArg04 + 0x14:word32] >>u 0x1F);
	else
		al_24 = (byte) (dwArg0C - Mem0[dwArg04 + 0x18:word32] >>u 0x1F);
	word32 eax_34;
	if (al_24 != 0x00)
		eax_34 = ~0x00;
	else
	{
		byte al_49;
		if (Mem0[dwArg04 + 0x20:word32] != dwArg08)
			al_49 = Mem0[dwArg04 + 0x20:word32] - dwArg08 <= 0x00;
		else
			al_49 = Mem0[dwArg04 + 0x24:word32] - dwArg0C <= 0x00;
		if (al_49 != 0x00)
			eax_34 = 0x01;
		else
			eax_34 = 0x00;
	}
	return eax_34;
}

// 080AD2E4: Register word32 retrieveAnchor(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 retrieveAnchor(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_114;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		if (Mem0[dwArg04 + 0x0C:word32] < 0x00 || Mem0[dwArg04 + 0x0C:word32] >= Mem0[dwArg04 + 0x04:word32])
			Mem150[dwArg04 + 0x0C:word32] = 0x00;
		word32 dwLoc10_121 = 0x00;
		word32 dwLoc14_120 = Mem0[dwArg04 + 0x04:word32] - 0x01;
		while (dwLoc10_121 <=u dwLoc14_120)
		{
			word32 eax_92 = Mem0[dwArg04 + 0x0C:word32];
			word32 eax_100 = Mem0[dwArg04 + 0x00:word32] + ((eax_92 << 0x06) - (eax_92 << 0x02));
			word32 eax_110 = onAnchor(eax_100, dwArg08, dwArg0C);
			if (eax_110 == 0x00)
			{
				eax_114 = eax_100;
				return eax_114;
			}
			if (eax_110 > 0x00)
				dwLoc10_121 = Mem0[dwArg04 + 0x0C:word32] + 0x01;
			else
			{
				if (Mem0[dwArg04 + 0x0C:word32] == 0x00)
				{
					eax_114 = 0x00;
					return eax_114;
				}
				dwLoc14_120 = Mem0[dwArg04 + 0x0C:word32] - 0x01;
			}
			Mem129[dwArg04 + 0x0C:word32] = dwLoc10_121 + dwLoc14_120 >>u 0x01;
		}
		eax_114 = 0x00;
	}
	else
		eax_114 = 0x00;
	return eax_114;
}

// 080AD3E2: Register word32 retrieveCurrentAnchor(Stack word32 dwArg04)
word32 retrieveCurrentAnchor(word32 dwArg04)
{
	word32 eax_19;
	if (Mem0[dwArg04 + 0x10:word32] == 0x00)
		eax_19 = 0x00;
	else
		eax_19 = retrieveAnchor(Mem0[dwArg04 + 0x60:word32], Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32], Mem0[dwArg04 + 0x4C:word32]);
	return eax_19;
}

// 080AD420: Register word32 retrieveCurrentImg(Stack word32 dwArg04)
word32 retrieveCurrentImg(word32 dwArg04)
{
	word32 eax_19;
	if (Mem0[dwArg04 + 0x10:word32] == 0x00)
		eax_19 = 0x00;
	else
		eax_19 = retrieveAnchor(Mem0[dwArg04 + 0x68:word32], Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32], Mem0[dwArg04 + 0x4C:word32]);
	return eax_19;
}

// 080AD45E: Register word32 retrieveCurrentForm(Stack word32 dwArg04)
word32 retrieveCurrentForm(word32 dwArg04)
{
	word32 eax_19;
	if (Mem0[dwArg04 + 0x10:word32] == 0x00)
		eax_19 = 0x00;
	else
		eax_19 = retrieveAnchor(Mem0[dwArg04 + 0x6C:word32], Mem0[Mem0[dwArg04 + 0x10:word32] + 0x1C:word32], Mem0[dwArg04 + 0x4C:word32]);
	return eax_19;
}

// 080AD49C: Register word32 searchAnchor(Stack word32 dwArg04, Stack word32 dwArg08)
word32 searchAnchor(word32 dwArg04, word32 dwArg08)
{
	word32 eax_23;
	if (dwArg04 == 0x00)
		eax_23 = 0x00;
	else
	{
		word32 dwLoc10_40 = 0x00;
		while (Mem0[dwArg04 + 0x04:word32] > dwLoc10_40)
		{
			word32 eax_60 = dwLoc10_40 << 0x02;
			word32 eax_66 = Mem0[dwArg04 + 0x00:word32] + ((eax_60 << 0x04) - eax_60);
			if (Mem0[eax_66 + 44:word32] >= 0x00 && strcmp(Mem0[eax_66 + 0x00:word32], dwArg08) == 0x00)
			{
				eax_23 = eax_66;
				return eax_23;
			}
			dwLoc10_40 = dwLoc10_40 + 0x01;
		}
		eax_23 = 0x00;
	}
	return eax_23;
}

// 080AD517: Register word32 searchURLLabel(Stack word32 dwArg04, Stack word32 dwArg08)
word32 searchURLLabel(word32 dwArg04, word32 dwArg08)
{
	return searchAnchor(Mem0[dwArg04 + 100:word32], dwArg08);
}

// 080AD534: void _put_anchor_news(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void _put_anchor_news(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x3C)
	{
		dwArg08 = dwArg08 + 0x01;
		if ((byte) (word32) Mem0[dwArg0C - 0x01 + 0x00:byte] == 0x3E)
			dwArg0C = dwArg0C - 0x01;
	}
	word32 edx_38;
	word32 ebx_43;
	Mem45[fp - 0x10 + 0x00:word32] = wc_Str_conv_strict(Strnew_charp_n(dwArg08, dwArg08, dwArg0C - dwArg08, out edx_38), Mem0[135091052:word32], Mem0[dwArg04 + 0xD0:word32], out ebx_43);
	Mem48[fp - 0x3C + 0x00:word32] = Mem45[Mem45[fp - 0x10 + 0x00:word32] + 0x00:word32];
	Mem51[fp - 0x38 + 0x00:word32] = file_quote(dwArg00);
	Mem52[fp - 0x3C + 0x00:word32] = 0x080D0840;
	byte bpl_53;
	Mem55[fp - 0x10 + 0x00:word32] = Sprintf(dwArg00, out bpl_53);
	word32 eax_57 = Mem55[Mem55[fp - 0x10 + 0x00:word32] + 0x00:word32];
	Mem59[fp - 0x20 + 0x00:word32] = Mem55[fp + 0x14:word32];
	Mem61[fp - 0x24 + 0x00:word32] = Mem59[fp + 0x10:word32];
	Mem62[fp - 0x28 + 0x00:word32] = 0x00;
	Mem63[fp - 44 + 0x00:word32] = 0x00;
	Mem64[fp - 0x30 + 0x00:word32] = ~0x00;
	Mem65[fp - 0x34 + 0x00:word32] = 0x00;
	Mem66[fp - 0x38 + 0x00:word32] = eax_57;
	Mem68[fp - 0x3C + 0x00:word32] = Mem66[fp + 0x04:word32];
	registerHref(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
}

// 080AD601: void _put_anchor_all(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void _put_anchor_all(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 edx_29;
	word32 ebx_34;
	Mem36[fp - 0x10 + 0x00:word32] = wc_Str_conv_strict(Strnew_charp_n(dwArg08, dwArg08, dwArg0C - dwArg08, out edx_29), Mem0[135091052:word32], Mem0[dwArg04 + 0xD0:word32], out ebx_34);
	Mem39[fp - 0x3C + 0x00:word32] = Mem36[Mem36[fp - 0x10 + 0x00:word32] + 0x00:word32];
	word32 eax_41 = url_quote(dwArg00);
	Mem43[fp - 0x20 + 0x00:word32] = Mem39[fp + 0x14:word32];
	Mem45[fp - 0x24 + 0x00:word32] = Mem43[fp + 0x10:word32];
	Mem46[fp - 0x28 + 0x00:word32] = 0x00;
	Mem47[fp - 44 + 0x00:word32] = 0x00;
	Mem48[fp - 0x30 + 0x00:word32] = ~0x00;
	Mem49[fp - 0x34 + 0x00:word32] = 0x00;
	Mem50[fp - 0x38 + 0x00:word32] = eax_41;
	Mem52[fp - 0x3C + 0x00:word32] = Mem50[fp + 0x04:word32];
	registerHref(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
}

// 080AD697: void reseq_anchor0(Stack word32 dwArg04, Stack word32 dwArg08)
void reseq_anchor0(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00)
	{
		word32 dwLoc0C_28 = 0x00;
		while (Mem0[dwArg04 + 0x04:word32] > dwLoc0C_28)
		{
			word32 eax_51 = dwLoc0C_28 << 0x02;
			word32 eax_57 = Mem0[dwArg04 + 0x00:word32] + ((eax_51 << 0x04) - eax_51);
			if (Mem0[eax_57 + 44:word32] >= 0x00)
				Mem80[eax_57 + 44:word32] = (int32) (word16) (word32) dwArg08[Mem0[eax_57 + 44:word32] * 0x02];
			dwLoc0C_28 = dwLoc0C_28 + 0x01;
		}
	}
}

// 080AD702: void reseq_anchor(Stack word32 dwArg04)
void reseq_anchor(word32 dwArg04)
{
	word32 eax_21;
	if (Mem0[dwArg04 + 0x7C:word32] != 0x00)
		eax_21 = Mem0[Mem0[dwArg04 + 0x7C:word32] + 0x04:word32];
	else
		eax_21 = 0x00;
	if (Mem0[dwArg04 + 0x60:word32] != 0x00)
	{
		word32 dwLoc18_360 = eax_21;
		word32 dwLoc10_362 = 0x00;
		while (Mem0[Mem0[dwArg04 + 0x60:word32] + 0x04:word32] > dwLoc10_362)
		{
			word32 eax_348 = dwLoc10_362 << 0x02;
			if (Mem0[Mem0[Mem0[dwArg04 + 0x60:word32] + 0x00:word32] + ((eax_348 << 0x04) - eax_348) + 44:word32] == ~0x01)
				dwLoc18_360 = dwLoc18_360 + 0x01;
			dwLoc10_362 = dwLoc10_362 + 0x01;
		}
		if (dwLoc18_360 != eax_21)
		{
			word32 esp_92;
			word32 ebp_93;
			word32 esi_94;
			word32 ebx_95;
			byte SCZO_96;
			word32 eax_97;
			byte SZO_98;
			byte C_99;
			byte Z_100;
			word32 edx_101;
			word32 ecx_102;
			byte SO_103;
			word16 dx_104;
			byte S_105;
			word16 ax_106;
			!GC_malloc_atomic();
			word32 dwLoc10_108 = 0x00;
			while (dwLoc10_108 < dwLoc18_360)
			{
				eax_97[dwLoc10_108 * 0x02] = (word16) dwLoc10_108;
				dwLoc10_108 = dwLoc10_108 + 0x01;
			}
			word32 dwLoc18_116 = eax_21;
			word32 dwLoc10_117 = 0x00;
			while (Mem0[Mem0[dwArg04 + 0x60:word32] + 0x04:word32] > dwLoc10_117)
			{
				word32 eax_210 = dwLoc10_117 << 0x02;
				word32 eax_216 = Mem0[Mem0[dwArg04 + 0x60:word32] + 0x00:word32] + ((eax_210 << 0x04) - eax_210);
				if (Mem0[eax_216 + 44:word32] == ~0x01)
				{
					Mem245[eax_216 + 44:word32] = dwLoc18_116;
					word32 eax_269 = closest_next_anchor(Mem245[dwArg04 + 0x6C:word32], closest_next_anchor(Mem245[dwArg04 + 0x60:word32], 0x00, Mem245[eax_216 + 0x18:word32], Mem245[eax_216 + 0x14:word32]), Mem245[eax_216 + 0x18:word32], Mem245[eax_216 + 0x14:word32]);
					if (eax_269 != 0x00 && Mem245[eax_269 + 44:word32] >= 0x00)
					{
						eax_97[dwLoc18_116 * 0x02] = (word16) (word32) eax_97[Mem245[eax_269 + 44:word32] * 0x02];
						word32 dwLoc14_317 = Mem314[eax_269 + 44:word32];
						while (dwLoc14_317 < eax_21)
						{
							word32 eax_326 = dwLoc14_317 * 0x02 + eax_97;
							Mem330[eax_326 + 0x00:word16] = (word16) ((word32) Mem314[eax_326 + 0x00:word16] + 0x01);
							dwLoc14_317 = dwLoc14_317 + 0x01;
						}
					}
					putHmarker(0x00, 0x00, Mem245[eax_216 + 0x14:word32], Mem245[eax_216 + 0x18:word32], (int32) (word16) (word32) eax_97[dwLoc18_116 * 0x02]);
					dwLoc18_116 = dwLoc18_116 + 0x01;
				}
				dwLoc10_117 = dwLoc10_117 + 0x01;
			}
			word32 dwLoc10_142 = 0x00;
			while (dwLoc10_142 < eax_21)
			{
				putHmarker(0x00, 0x00, Mem0[Mem0[dwArg04 + 0x7C:word32] + 0x00:word32][dwLoc10_142 * 0x0C], Mem0[Mem0[Mem0[dwArg04 + 0x7C:word32] + 0x00:word32] + dwLoc10_142 * 0x0C + 0x04:word32], (int32) (word16) (word32) eax_97[dwLoc10_142 * 0x02]);
				dwLoc10_142 = dwLoc10_142 + 0x01;
			}
			Mem159[dwArg04 + 0x7C:word32] = 0x00;
			reseq_anchor0(Mem159[dwArg04 + 0x60:word32], eax_97);
			reseq_anchor0(Mem159[dwArg04 + 0x6C:word32], eax_97);
		}
	}
}

// 080AD9BB: Register word32 reAnchorPos(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
word32 reAnchorPos(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	word32 ecx_15 = dwArg0C - Mem0[dwArg08 + 0x00:word32];
	word32 ecx_23 = dwArg10 - Mem0[dwArg08 + 0x00:word32];
	word32 dwLoc20_121 = ~0x01;
	word32 dwLoc14_17 = ecx_15;
	word32 dwLoc18_157 = ecx_23;
	word32 dwLoc1C_227 = ecx_15;
	while (dwLoc1C_227 < ecx_23)
	{
		if (((word32) (word16) (word32) Mem0[dwArg08 + 0x04:word32][dwLoc1C_227 * 0x02] & 0x50) != 0x00)
			return dwArg10;
		dwLoc1C_227 = dwLoc1C_227 + 0x01;
	}
	word32 dwLoc1C_205 = ecx_15;
	while (dwLoc1C_205 < ecx_23)
	{
		Mem0[dwArg08 + 0x04:word32][dwLoc1C_205 * 0x02] = (word16) ((word32) Mem0[dwArg08 + 0x04:word32][dwLoc1C_205 * 0x02] | 0x10);
		dwLoc1C_205 = dwLoc1C_205 + 0x01;
	}
	while (Mem0[dwArg08 + 0x14:word32] < dwLoc14_17 && (Mem0[dwArg08 + 0x0C:word32] != 0x00 && Mem0[Mem0[dwArg08 + 0x0C:word32] + 44:word32] != 0x00))
	{
		dwLoc14_17 = dwLoc14_17 - Mem0[dwArg08 + 0x14:word32];
		dwLoc18_157 = dwLoc18_157 - Mem0[dwArg08 + 0x14:word32];
		dwArg08 = Mem0[dwArg08 + 0x0C:word32];
	}
	while (true)
	{
		word32 esp_103;
		word32 ebp_104;
		byte SCZO_105;
		word32 edx_106;
		word32 eax_107;
		word32 ecx_108;
		byte SO_109;
		word16 ax_110;
		byte SZO_111;
		byte C_112;
		byte Z_113;
		dwArg14();
		Mem117[eax_107 + 44:word32] = dwLoc20_121;
		if (dwLoc20_121 == ~0x01)
		{
			reseq_anchor(dwArg04);
			dwLoc20_121 = Mem117[eax_107 + 44:word32];
		}
		Mem125[eax_107 + 0x20:word32] = Mem117[dwArg08 + 0x1C:word32];
		if (Mem125[dwArg08 + 0x14:word32] >= dwLoc18_157 || (Mem125[dwArg08 + 0x0C:word32] == 0x00 || Mem125[Mem125[dwArg08 + 0x0C:word32] + 44:word32] == 0x00))
			break;
		Mem152[eax_107 + 0x24:word32] = Mem125[dwArg08 + 0x14:word32];
		dwLoc18_157 = dwLoc18_157 - Mem152[dwArg08 + 0x14:word32];
		dwArg08 = Mem152[dwArg08 + 0x0C:word32];
	}
	Mem135[eax_107 + 0x24:word32] = dwLoc18_157;
	return dwArg10;
}

// 080ADB4D: void reAnchorWord(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void reAnchorWord(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	reAnchorPos(dwArg04, dwArg08, Mem0[dwArg08 + 0x00:word32] + dwArg0C, Mem0[dwArg08 + 0x00:word32] + dwArg10, 0x080AD601);
}

// 080ADB8C: void reAnchorAny(Register word32 ebp, Register selector gs, Stack word32 dwArg08)
void reAnchorAny(word32 ebp, selector gs, word32 dwArg08)
{
	if (dwArg08 != 0x00 && (byte) ((word32) Mem0[dwArg08 + 0x00:byte]) != 0x00)
	{
		Mem56[fp + 0x08:word32] = regexCompile(dwArg08, 0x01);
		if (Mem56[fp + 0x08:word32] == 0x00)
		{
			word32 eax_203;
			if (Mem56[135775032:word32] != 0x00)
				eax_203 = Mem56[Mem56[fp + 0x04:word32] + 0x08:word32];
			else
				eax_203 = Mem56[Mem56[fp + 0x04:word32] + 0x0C:word32];
			Mem67[fp - 0x10 + 0x00:word32] = eax_203;
			while (Mem67[fp - 0x10 + 0x00:word32] != 0x00 && (Mem67[135775032:word32] != 0x00 || Mem67[Mem67[(fp - 0x10) + 0x00:word32] + 0x1C:word32] < Mem67[Mem67[Mem67[fp + 0x04:word32] + 0x0C:word32] + 0x1C:word32] + (Mem67[0x08180780:word32] - 0x01)))
			{
				if (Mem67[fp - 0x14 + 0x00:word32] == 0x00 || Mem67[Mem67[(fp - 0x10) + 0x00:word32] + 44:word32] == 0x00)
				{
					Mem143[fp - 0x14 + 0x00:word32] = Mem67[Mem67[fp - 0x10 + 0x00:word32] + 0x00:word32];
					while (true)
					{
						word32 ebx_158 = Mem143[Mem143[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem143[Mem143[(fp - 0x10) + 0x00:word32] + 0x28:word32] - Mem143[(fp - 0x14) + 0x00:word32];
						Mem161[fp - 0x34 + 0x00:word32] = (word32) (Mem143[Mem143[fp - 0x10 + 0x00:word32] + 0x00:word32] == Mem143[(fp - 0x14) + 0x00:word32]);
						Mem162[fp - 0x38 + 0x00:word32] = ebx_158;
						Mem164[fp - 0x3C + 0x00:word32] = Mem162[fp - 0x14 + 0x00:word32];
						if (regexMatch(dwArg00, dwArg04, dwArg08) != 0x01)
							break;
						Mem170[fp - 0x38 + 0x00:word32] = fp - 0x1C;
						Mem172[fp - 0x3C + 0x00:word32] = fp - 0x18;
						matchedPosition(dwArg00, dwArg04);
						word32 edx_173 = Mem172[fp - 0x1C + 0x00:word32];
						word32 eax_174 = Mem172[fp - 0x18 + 0x00:word32];
						Mem176[fp - 44 + 0x00:word32] = Mem172[fp + 0x0C:word32];
						Mem177[fp - 0x30 + 0x00:word32] = edx_173;
						Mem178[fp - 0x34 + 0x00:word32] = eax_174;
						Mem180[fp - 0x38 + 0x00:word32] = Mem178[fp - 0x10 + 0x00:word32];
						Mem182[fp - 0x3C + 0x00:word32] = Mem180[fp + 0x04:word32];
						Mem186[fp - 0x14 + 0x00:word32] = reAnchorPos(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
					}
				}
				if (Mem67[135775032:word32] != 0x00 && (Mem67[Mem67[(fp - 0x10) + 0x00:word32] + 0x0C:word32] == 0x00 && (Mem67[Mem67[fp + 0x04:word32] + 0x5C:word32] != 0x00 && ((int32) ((word16) ((word32) Mem67[Mem67[fp + 0x04:word32] + 0x40:word16])) & 0x40) == 0x00)))
				{
					Mem132[fp - 0x38 + 0x00:word32] = Mem67[0x080D52C0:word32];
					Mem134[fp - 0x3C + 0x00:word32] = Mem132[fp + 0x04:word32];
					getNextPage(fp - 0x04, gs, dwArg00);
				}
				Mem112[fp - 0x10 + 0x00:word32] = Mem67[Mem67[fp - 0x10 + 0x00:word32] + 0x0C:word32];
			}
		}
	}
}

// 080ADD1D: void reAnchor(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void reAnchor(selector gs, word32 dwArg04, word32 dwArg08)
{
	reAnchorAny(fp - 0x04, gs, dwArg08);
}

// 080ADD3F: void reAnchorNews(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void reAnchorNews(selector gs, word32 dwArg04, word32 dwArg08)
{
	reAnchorAny(fp - 0x04, gs, dwArg08);
}

// 080ADD61: void reAnchorNewsheader(Register word32 ebp, Stack word32 dwArg04)
void reAnchorNewsheader(word32 ebp, word32 dwArg04)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x08:word32] != 0x00)
	{
		while (Mem0[fp - 0x28 + 0x00:word32] <= 0x01)
		{
			if (Mem0[fp - 0x28 + 0x00:word32] == 0x00)
			{
				Mem198[fp - 0x48 + 0x00:word32] = 0x01;
				Mem199[fp - 0x4C + 0x00:word32] = 0x080D0848;
				regexCompile(dwArg00, dwArg04);
				Mem201[fp - 0x20 + 0x00:word32] = 0x080D93E0;
			}
			else
			{
				Mem202[fp - 0x48 + 0x00:word32] = 0x01;
				Mem203[fp - 0x4C + 0x00:word32] = 0x080D0867;
				regexCompile(dwArg00, dwArg04);
				Mem205[fp - 0x20 + 0x00:word32] = 0x080D93F0;
			}
			Mem62[fp - 0x10 + 0x00:word32] = Mem0[Mem0[fp + 0x04:word32] + 0x08:word32];
			while (Mem62[fp - 0x10 + 0x00:word32] != 0x00 && Mem62[Mem62[(fp - 0x10) + 0x00:word32] + 0x20:word32] == 0x00)
			{
				if (Mem62[Mem62[fp - 0x10 + 0x00:word32] + 44:word32] == 0x00)
				{
					Mem102[fp - 0x14 + 0x00:word32] = Mem62[Mem62[fp - 0x10 + 0x00:word32] + 0x00:word32];
					if (((word32) (byte) (word32) Mem102[(word32) (byte) (word32) Mem102[Mem102[fp - 0x14 + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00)
					{
						Mem162[fp - 44 + 0x00:word32] = 0x00;
						Mem164[fp - 0x24 + 0x00:word32] = Mem162[fp - 0x20 + 0x00:word32];
						while (Mem164[Mem164[fp - 0x24 + 0x00:word32] + 0x00:word32] != 0x00)
						{
							Mem174[fp - 0x4C + 0x00:word32] = Mem164[Mem164[fp - 0x24 + 0x00:word32] + 0x00:word32];
							word32 eax_175 = strlen(Mem174[fp - 0x4C + 0x00:(ptr char)]);
							word32 eax_178 = Mem174[Mem174[fp - 0x24 + 0x00:word32] + 0x00:word32];
							Mem179[fp - 0x44 + 0x00:word32] = eax_175;
							Mem180[fp - 0x48 + 0x00:word32] = eax_178;
							Mem182[fp - 0x4C + 0x00:word32] = Mem180[fp - 0x14 + 0x00:word32];
							if (strncasecmp(Mem182[fp - 0x4C + 0x00:(ptr char)], Mem182[fp - 0x48 + 0x00:(ptr char)], Mem182[fp - 0x44 + 0x00:int32]) == 0x00)
							{
								Mem187[fp - 44 + 0x00:word32] = 0x01;
								Mem188[fp - 0x48 + 0x00:word32] = 0x3A;
								Mem190[fp - 0x4C + 0x00:word32] = Mem188[fp - 0x14 + 0x00:word32];
								Mem194[fp - 0x14 + 0x00:word32] = strchr(Mem190[fp - 0x4C + 0x00:(ptr char)], Mem190[fp - 0x48 + 0x00:char]) + 0x01;
								break;
							}
							Mem196[fp - 0x24 + 0x00:word32] = Mem182[fp - 0x24 + 0x00:word32] + 0x04;
						}
					}
					if (Mem102[fp - 44 + 0x00:word32] != 0x00)
					{
						while (true)
						{
							word32 ebx_134 = Mem102[Mem102[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem102[Mem102[(fp - 0x10) + 0x00:word32] + 0x28:word32] - Mem102[(fp - 0x14) + 0x00:word32];
							Mem137[fp - 0x44 + 0x00:word32] = (word32) (Mem102[Mem102[fp - 0x10 + 0x00:word32] + 0x00:word32] == Mem102[(fp - 0x14) + 0x00:word32]);
							Mem138[fp - 0x48 + 0x00:word32] = ebx_134;
							Mem140[fp - 0x4C + 0x00:word32] = Mem138[fp - 0x14 + 0x00:word32];
							if (regexMatch(dwArg00, dwArg04, dwArg08) != 0x01)
								break;
							Mem146[fp - 0x48 + 0x00:word32] = fp - 0x1C;
							Mem148[fp - 0x4C + 0x00:word32] = fp - 0x18;
							matchedPosition(dwArg00, dwArg04);
							word32 edx_149 = Mem148[fp - 0x1C + 0x00:word32];
							word32 eax_150 = Mem148[fp - 0x18 + 0x00:word32];
							Mem151[fp - 0x3C + 0x00:word32] = 0x080AD534;
							Mem152[fp - 0x40 + 0x00:word32] = edx_149;
							Mem153[fp - 0x44 + 0x00:word32] = eax_150;
							Mem155[fp - 0x48 + 0x00:word32] = Mem153[fp - 0x10 + 0x00:word32];
							Mem157[fp - 0x4C + 0x00:word32] = Mem155[fp + 0x04:word32];
							Mem161[fp - 0x14 + 0x00:word32] = reAnchorPos(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
						}
					}
				}
				Mem99[fp - 0x10 + 0x00:word32] = Mem62[Mem62[fp - 0x10 + 0x00:word32] + 0x0C:word32];
			}
			Mem77[fp - 0x28 + 0x00:word32] = Mem62[fp - 0x28 + 0x00:word32] + 0x01;
		}
		Mem55[fp - 0x4C + 0x00:word32] = Mem0[fp + 0x04:word32];
		reseq_anchor(dwArg00);
	}
}

// 080ADF4A: void putHmarker(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void putHmarker(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	if (dwArg04 == 0x00)
	{
		word32 esp_178;
		word32 ebp_179;
		byte SCZO_180;
		byte Z_181;
		word32 eax_182;
		byte SZO_183;
		byte C_184;
		word32 edx_185;
		byte SO_186;
		word32 ecx_187;
		!GC_malloc();
		Mem190[eax_182 + 0x00:word32] = 0x00;
		Mem192[eax_182 + 0x04:word32] = 0x00;
		Mem194[eax_182 + 0x08:word32] = 0x00;
		Mem196[eax_182 + 0x0C:word32] = ~0x00;
		dwArg04 = eax_182;
	}
	if (Mem0[dwArg04 + 0x08:word32] == 0x00)
	{
		Mem128[dwArg04 + 0x08:word32] = 0x1E;
		word32 esp_138;
		word32 ebp_139;
		byte SCZO_140;
		byte Z_141;
		word32 eax_142;
		byte SZO_143;
		byte C_144;
		word32 edx_145;
		byte SO_146;
		word32 ecx_147;
		!GC_malloc_atomic();
		Mem150[dwArg04 + 0x00:word32] = eax_142;
		word32 esp_164;
		word32 ebp_165;
		byte SCZO_166;
		byte Z_167;
		word32 eax_168;
		byte SZO_169;
		byte C_170;
		word32 edx_171;
		byte SO_172;
		word32 ecx_173;
		!bzero();
	}
	if (dwArg10 + 0x01 > Mem0[dwArg04 + 0x04:word32])
		Mem126[dwArg04 + 0x04:word32] = dwArg10 + 0x01;
	if (Mem0[dwArg04 + 0x04:word32] >= Mem0[dwArg04 + 0x08:word32])
	{
		Mem96[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x04:word32] * 0x02;
		word32 esp_110;
		word32 ebp_111;
		byte SCZO_112;
		byte Z_113;
		word32 eax_114;
		byte SZO_115;
		byte C_116;
		word32 edx_117;
		byte SO_118;
		word32 ecx_119;
		!GC_realloc();
		Mem122[dwArg04 + 0x00:word32] = eax_114;
	}
	Mem0[dwArg04 + 0x00:word32][dwArg10 * 0x0C] = dwArg08;
	Mem77[Mem66[dwArg04 + 0x00:word32] + dwArg10 * 0x0C + 0x04:word32] = dwArg0C;
	Mem87[Mem77[dwArg04 + 0x00:word32] + dwArg10 * 0x0C + 0x08:word32] = 0x00;
}

// 080AE09D: Register word32 closest_next_anchor(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 closest_next_anchor(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_26;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		word32 dwLoc10_50 = 0x00;
		while (Mem0[dwArg04 + 0x04:word32] > dwLoc10_50)
		{
			word32 eax_68 = dwLoc10_50 << 0x02;
			if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_68 << 0x04) - eax_68) + 44:word32] >= 0x00)
			{
				word32 eax_93 = dwLoc10_50 << 0x02;
				if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_93 << 0x04) - eax_93) + 0x14:word32] <= dwArg10)
				{
					word32 eax_175 = dwLoc10_50 << 0x02;
					if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_175 << 0x04) - eax_175) + 0x14:word32] != dwArg10)
						goto l080AE1EF;
					word32 eax_188 = dwLoc10_50 << 0x02;
					if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_188 << 0x04) - eax_188) + 0x18:word32] > dwArg0C)
						goto l080AE158;
					goto l080AE1EF;
				}
l080AE158:
				if (dwArg08 != 0x00)
				{
					word32 eax_132 = dwLoc10_50 << 0x02;
					if (Mem0[dwArg08 + 0x14:word32] > Mem0[(Mem0[dwArg04 + 0x00:word32] + ((eax_132 << 0x04) - eax_132)) + 0x14:word32])
						goto l080AE1D0;
					word32 eax_147 = dwLoc10_50 << 0x02;
					if (Mem0[dwArg08 + 0x14:word32] != Mem0[(Mem0[dwArg04 + 0x00:word32] + ((eax_147 << 0x04) - eax_147)) + 0x14:word32])
						goto l080AE1EF;
					word32 eax_162 = dwLoc10_50 << 0x02;
					if (Mem0[dwArg08 + 0x18:word32] > Mem0[(Mem0[dwArg04 + 0x00:word32] + ((eax_162 << 0x04) - eax_162)) + 0x18:word32])
						goto l080AE1D0;
				}
				else
				{
l080AE1D0:
					word32 eax_118 = dwLoc10_50 << 0x02;
					dwArg08 = Mem0[dwArg04 + 0x00:word32] + ((eax_118 << 0x04) - eax_118);
				}
			}
l080AE1EF:
			dwLoc10_50 = dwLoc10_50 + 0x01;
		}
		eax_26 = dwArg08;
	}
	else
		eax_26 = dwArg08;
	return eax_26;
}

// 080AE20C: Register word32 closest_prev_anchor(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 closest_prev_anchor(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 eax_27;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		word32 dwLoc10_52 = 0x00;
		while (Mem0[dwArg04 + 0x04:word32] > dwLoc10_52)
		{
			word32 eax_71 = dwLoc10_52 << 0x02;
			if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_71 << 0x04) - eax_71) + 44:word32] >= 0x00)
			{
				word32 eax_97 = dwLoc10_52 << 0x02;
				if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_97 << 0x04) - eax_97) + 0x20:word32] >= dwArg10)
				{
					word32 eax_179 = dwLoc10_52 << 0x02;
					if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_179 << 0x04) - eax_179) + 0x20:word32] != dwArg10)
						goto l080AE35E;
					word32 eax_192 = dwLoc10_52 << 0x02;
					if (Mem0[Mem0[dwArg04 + 0x00:word32] + ((eax_192 << 0x04) - eax_192) + 0x24:word32] <= dwArg0C)
						goto l080AE2C7;
					goto l080AE35E;
				}
l080AE2C7:
				if (dwArg08 != 0x00)
				{
					word32 eax_136 = dwLoc10_52 << 0x02;
					if (Mem0[dwArg08 + 0x20:word32] < Mem0[(Mem0[dwArg04 + 0x00:word32] + ((eax_136 << 0x04) - eax_136)) + 0x20:word32])
						goto l080AE33F;
					word32 eax_151 = dwLoc10_52 << 0x02;
					if (Mem0[dwArg08 + 0x20:word32] != Mem0[(Mem0[dwArg04 + 0x00:word32] + ((eax_151 << 0x04) - eax_151)) + 0x20:word32])
						goto l080AE35E;
					word32 eax_166 = dwLoc10_52 << 0x02;
					if (Mem0[dwArg08 + 0x24:word32] < Mem0[(Mem0[dwArg04 + 0x00:word32] + ((eax_166 << 0x04) - eax_166)) + 0x24:word32])
						goto l080AE33F;
				}
				else
				{
l080AE33F:
					word32 eax_122 = dwLoc10_52 << 0x02;
					dwArg08 = Mem0[dwArg04 + 0x00:word32] + ((eax_122 << 0x04) - eax_122);
				}
			}
l080AE35E:
			dwLoc10_52 = dwLoc10_52 + 0x01;
		}
		eax_27 = dwArg08;
	}
	else
		eax_27 = dwArg08;
	return eax_27;
}

// 080AE37B: void shiftAnchorPosition(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void shiftAnchorPosition(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		word32 eax_43 = Mem0[dwArg04 + 0x04:word32];
		word32 dwLoc18_124 = (eax_43 >>u 0x1F) + eax_43 >> 0x01;
		word32 dwLoc10_197 = 0x00;
		word32 dwLoc14_196 = Mem0[dwArg04 + 0x04:word32] - 0x01;
		while (dwLoc10_197 <=u dwLoc14_196)
		{
			word32 eax_172 = dwLoc18_124 << 0x02;
			word32 eax_187 = onAnchor(Mem0[dwArg04 + 0x00:word32] + ((eax_172 << 0x04) - eax_172), dwArg0C, dwArg10);
			if (eax_187 == 0x00)
			{
l080AE449:
				break;
			}
			if (eax_187 > 0x00)
			{
				dwLoc10_197 = dwLoc18_124 + 0x01;
				goto l080AE42B;
			}
			if (dwLoc18_124 == 0x00)
				goto l080AE449;
			dwLoc14_196 = dwLoc18_124 - 0x01;
l080AE42B:
			dwLoc18_124 = dwLoc10_197 + dwLoc14_196 + 0x01 >>u 0x01;
		}
		while (Mem0[dwArg04 + 0x04:word32] >u dwLoc18_124)
		{
			word32 eax_96 = dwLoc18_124 << 0x02;
			word32 eax_102 = Mem0[dwArg04 + 0x00:word32] + ((eax_96 << 0x04) - eax_96);
			if (Mem0[eax_102 + 0x14:word32] > dwArg0C)
				return;
			if (Mem0[eax_102 + 0x18:word32] > dwArg10)
			{
				Mem139[eax_102 + 0x18:word32] = Mem0[eax_102 + 0x18:word32] + dwArg14;
				if (Mem139[dwArg08 + 0x00:word32][Mem139[eax_102 + 44:word32] * 0x0C] == dwArg0C)
					Mem167[Mem139[dwArg08 + 0x00:word32] + Mem139[eax_102 + 44:word32] * 0x0C + 0x04:word32] = Mem139[eax_102 + 0x18:word32];
			}
			if (Mem0[eax_102 + 0x24:word32] >= dwArg10)
				Mem133[eax_102 + 0x24:word32] = Mem0[eax_102 + 0x24:word32] + dwArg14;
			dwLoc18_124 = dwLoc18_124 + 0x01;
		}
	}
}

// 080AE515: void addMultirowsImg(Stack word32 dwArg04, Stack word32 dwArg08)
void addMultirowsImg(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 != 0x00 && Mem0[dwArg08 + 0x04:word32] != 0x00)
	{
		word32 dwLoc20_111 = 0x00;
		while (Mem0[dwArg08 + 0x04:word32] > dwLoc20_111)
		{
			word32 eax_267 = dwLoc20_111 << 0x02;
			word32 eax_273 = Mem0[dwArg08 + 0x00:word32] + ((eax_267 << 0x04) - eax_267);
			word32 edx_274 = Mem0[eax_273 + 0x00:word32];
			word32 edx_280 = Mem0[eax_273 + 0x0C:word32];
			word32 edx_284 = Mem0[eax_273 + 0x14:word32];
			word32 edx_286 = Mem0[eax_273 + 0x18:word32];
			word32 edx_292 = Mem0[eax_273 + 0x24:word32];
			word32 edx_296 = Mem0[eax_273 + 44:word32];
			word32 eax_302 = Mem0[eax_273 + 0x38:word32];
			if (edx_296 >= 0x00 && (eax_302 != 0x00 && (word16) ((word32) Mem0[eax_302 + 0x12:word16]) > 0x01))
			{
				word32 dwLoc40_384 = Mem0[dwArg04 + 0x08:word32];
				while (dwLoc40_384 != 0x00 && Mem0[dwLoc40_384 + 0x1C:word32] != (int32) ((word16) ((word32) Mem0[eax_302 + 0x10:word16])))
					dwLoc40_384 = Mem0[dwLoc40_384 + 0x0C:word32];
				if (dwLoc40_384 == 0x00)
					goto l080AEACB;
				word32 dwLoc44_404;
				if ((int32) (word16) (word32) wLoc4E == edx_284)
				{
					dwLoc44_404 = dwLoc40_384;
					goto l080AE679;
				}
				dwLoc44_404 = dwLoc40_384;
				while (dwLoc44_404 != 0x00 && Mem0[dwLoc44_404 + 0x1C:word32] != edx_284)
				{
					word32 eax_847;
					if ((int32) (word16) (word32) wLoc4E < edx_284)
						eax_847 = Mem0[dwLoc44_404 + 0x0C:word32];
					else
						eax_847 = Mem0[dwLoc44_404 + 0x10:word32];
					dwLoc44_404 = eax_847;
				}
				if (dwLoc44_404 != 0x00)
				{
l080AE679:
					word32 dwLocBC_421;
					word32 eax_415 = retrieveAnchor(Mem0[dwArg04 + 0x60:word32], edx_284, edx_286);
					if (eax_415 != 0x00)
					{
						dwLocBC_421 = Mem0[eax_415 + 0x00:word32];
						dwLocB8 = Mem0[eax_415 + 0x04:word32];
						dwLocB4 = Mem0[eax_415 + 0x08:word32];
						dwLocB0 = Mem0[eax_415 + 0x0C:word32];
						dwLoc90 = Mem0[eax_415 + 44:word32];
					}
					else
						dwLocBC_421 = 0x00;
					word32 dwLocF8_449;
					word32 eax_443 = retrieveAnchor(Mem0[dwArg04 + 0x6C:word32], edx_284, edx_286);
					if (eax_443 != 0x00)
					{
						dwLocF8_449 = Mem0[eax_443 + 0x00:word32];
						dwLocF4 = Mem0[eax_443 + 0x04:word32];
						dwLocCC = Mem0[eax_443 + 44:word32];
					}
					else
						dwLocF8_449 = 0x00;
					word32 eax_477 = calcPosition(Mem0[dwLoc44_404 + 0x00:word32], Mem0[dwLoc44_404 + 0x04:word32], Mem0[dwLoc44_404 + 0x14:word32], edx_286, 0x00, 0x00);
					word32 eax_492 = calcPosition(Mem0[dwLoc44_404 + 0x00:word32], Mem0[dwLoc44_404 + 0x04:word32], Mem0[dwLoc44_404 + 0x14:word32], edx_292, 0x00, 0x00);
					word32 dwLoc24_494 = 0x00;
					while (dwLoc40_384 != 0x00 && (int32) ((word16) ((word32) Mem0[eax_302 + 0x12:word16])) > dwLoc24_494)
					{
						if (edx_284 != Mem0[dwLoc40_384 + 0x1C:word32])
						{
							word32 eax_573 = columnPos(dwLoc40_384, eax_477);
							word32 eax_586 = registerImg(dwArg04, edx_274, edx_280, Mem0[dwLoc40_384 + 0x1C:word32], eax_573);
							Mem591[eax_586 + 44:word32] = -edx_296;
							Mem593[eax_586 + 0x30:byte] = 0x01;
							Mem596[eax_586 + 0x38:word32] = eax_302;
							Mem603[eax_586 + 0x24:word32] = eax_573 + eax_492 - eax_477;
							word32 dwLoc3C_587 = eax_586;
							word32 dwLoc28_605 = eax_573;
							while (Mem603[eax_586 + 0x24:word32] > dwLoc28_605)
							{
								Mem603[dwLoc40_384 + 0x04:word32][dwLoc28_605 * 0x02] = (word16) ((word32) Mem603[dwLoc40_384 + 0x04:word32][dwLoc28_605 * 0x02] | 0x20);
								dwLoc28_605 = dwLoc28_605 + 0x01;
							}
							if (dwLocBC_421 != 0x00)
							{
								word32 eax_696 = registerHref(dwArg04, dwLocBC_421, dwLocB8, dwLocB4, dwLocB0, (word32) (byte) (word32) bLocAC, Mem603[dwLoc40_384 + 0x1C:word32], eax_573);
								Mem700[eax_696 + 44:word32] = dwLoc90;
								Mem702[eax_696 + 0x30:byte] = 0x01;
								Mem709[eax_696 + 0x24:word32] = eax_573 + eax_492 - eax_477;
								dwLoc3C_587 = eax_696;
								word32 dwLoc28_711 = eax_573;
								while (Mem709[eax_696 + 0x24:word32] > dwLoc28_711)
								{
									Mem709[dwLoc40_384 + 0x04:word32][dwLoc28_711 * 0x02] = (word16) ((word32) Mem709[dwLoc40_384 + 0x04:word32][dwLoc28_711 * 0x02] | 0x10);
									dwLoc28_711 = dwLoc28_711 + 0x01;
								}
							}
							if (dwLocF8_449 != 0x00)
							{
								Mem661[dwArg04 + 0x6C:word32] = putAnchor(Mem603[dwArg04 + 0x6C:word32], dwLocF8_449, dwLocF4, fp - 0x3C, 0x00, 0x00, 0x00, Mem603[dwLoc40_384 + 0x1C:word32], eax_573);
								Mem664[dwLoc3C_587 + 44:word32] = dwLocCC;
								Mem671[dwLoc3C_587 + 0x24:word32] = eax_573 + eax_492 - eax_477;
							}
						}
						dwLoc40_384 = Mem0[dwLoc40_384 + 0x0C:word32];
						dwLoc24_494 = dwLoc24_494 + 0x01;
					}
					Mem527[eax_302 + 0x12:word16] = 0x00;
				}
			}
l080AEACB:
			dwLoc20_111 = dwLoc20_111 + 0x01;
		}
	}
}

// 080AEAEF: void addMultirowsForm(Stack word32 dwArg04, Stack word32 dwArg08)
void addMultirowsForm(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 != 0x00 && Mem0[dwArg08 + 0x04:word32] != 0x00)
	{
		word32 dwLoc10_152 = 0x00;
		while (Mem0[dwArg08 + 0x04:word32] > dwLoc10_152)
		{
			word32 eax_162 = dwLoc10_152 << 0x02;
			word32 eax_168 = Mem0[dwArg08 + 0x00:word32] + ((eax_162 << 0x04) - eax_162);
			word32 eax_202 = dwLoc10_152 << 0x02;
			word32 edx_169 = Mem0[eax_168 + 0x00:word32];
			word32 edx_171 = Mem0[eax_168 + 0x04:word32];
			word32 edx_179 = Mem0[eax_168 + 0x14:word32];
			word32 edx_181 = Mem0[eax_168 + 0x18:word32];
			word32 edx_187 = Mem0[eax_168 + 0x24:word32];
			word32 edx_191 = Mem0[eax_168 + 44:word32];
			Mem209[Mem0[dwArg08 + 0x00:word32] + ((eax_202 << 0x04) - eax_202) + 0x34:word16] = 0x01;
			if (edx_191 >= 0x00 && (word16) ((word32) wLoc3C) > 0x01)
			{
				word32 dwLoc30_252 = Mem209[dwArg04 + 0x08:word32];
				while (dwLoc30_252 != 0x00 && Mem209[dwLoc30_252 + 0x1C:word32] != (int32) ((word16) ((word32) wLoc3E)))
					dwLoc30_252 = Mem209[dwLoc30_252 + 0x0C:word32];
				if (dwLoc30_252 == 0x00)
					goto l080AEE53;
				word32 dwLoc34_272;
				if ((int32) (word16) (word32) wLoc3E == edx_179)
				{
					dwLoc34_272 = dwLoc30_252;
					goto l080AEC5B;
				}
				dwLoc34_272 = dwLoc30_252;
				while (dwLoc34_272 != 0x00 && Mem209[dwLoc34_272 + 0x1C:word32] != edx_179)
				{
					word32 eax_501;
					if ((int32) (word16) (word32) wLoc3E < edx_179)
						eax_501 = Mem209[dwLoc34_272 + 0x0C:word32];
					else
						eax_501 = Mem209[dwLoc34_272 + 0x10:word32];
					dwLoc34_272 = eax_501;
				}
				if (dwLoc34_272 != 0x00)
				{
l080AEC5B:
					word32 eax_291 = calcPosition(Mem209[dwLoc34_272 + 0x00:word32], Mem209[dwLoc34_272 + 0x04:word32], Mem209[dwLoc34_272 + 0x14:word32], edx_181, 0x00, 0x00);
					word32 eax_306 = calcPosition(Mem209[dwLoc34_272 + 0x00:word32], Mem209[dwLoc34_272 + 0x04:word32], Mem209[dwLoc34_272 + 0x14:word32], edx_187, 0x00, 0x00);
					word32 dwLoc14_308 = 0x00;
					while (dwLoc30_252 != 0x00 && (int32) ((word16) ((word32) wLoc3C)) > dwLoc14_308)
					{
						word32 eax_341 = columnPos(dwLoc30_252, eax_291);
						if (dwLoc14_308 == 0x00)
						{
							Mem209[Mem209[dwArg04 + 0x7C:word32] + 0x00:word32][edx_191 * 0x0C] = Mem209[dwLoc30_252 + 0x1C:word32];
							Mem473[Mem460[Mem460[dwArg04 + 0x7C:word32] + 0x00:word32] + edx_191 * 0x0C + 0x04:word32] = eax_341;
						}
						if (edx_179 != Mem209[dwLoc30_252 + 0x1C:word32])
						{
							Mem393[dwArg04 + 0x6C:word32] = putAnchor(Mem209[dwArg04 + 0x6C:word32], edx_169, edx_171, fp - 0x28, 0x00, 0x00, 0x00, Mem209[dwLoc30_252 + 0x1C:word32], eax_341);
							Mem397[dwLoc28 + 44:word32] = edx_191;
							Mem401[dwLoc28 + 0x32:word16] = (word16) (word32) wLoc3E;
							Mem407[dwLoc28 + 0x24:word32] = eax_341 + eax_306 - eax_291;
							Mem414[Mem407[dwLoc30_252 + 0x00:word32] + (eax_341 - 0x01):byte] = 0x5B;
							Mem420[Mem414[dwLoc30_252 + 0x00:word32] + Mem414[dwLoc28 + 0x24:word32]:byte] = 0x5D;
							word32 dwLoc18_422 = eax_341;
							while (Mem420[dwLoc28 + 0x24:word32] > dwLoc18_422)
							{
								Mem420[dwLoc30_252 + 0x04:word32][dwLoc18_422 * 0x02] = (word16) ((word32) Mem420[dwLoc30_252 + 0x04:word32][dwLoc18_422 * 0x02] | 0x40);
								dwLoc18_422 = dwLoc18_422 + 0x01;
							}
						}
						dwLoc30_252 = Mem209[dwLoc30_252 + 0x0C:word32];
						dwLoc14_308 = dwLoc14_308 + 0x01;
					}
				}
			}
l080AEE53:
			dwLoc10_152 = dwLoc10_152 + 0x01;
		}
	}
}

// 080AEE76: Register word32 getAnchorText(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 getAnchorText(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_103;
	word32 dwLoc1C_10 = 0x00;
	if (dwArg0C != 0x00 && Mem0[dwArg0C + 44:word32] >= 0x00)
	{
		word32 eax_65 = Mem0[dwArg0C + 44:word32];
		word32 dwLoc18_122 = Mem0[dwArg04 + 0x08:word32];
		word32 dwLoc14_139 = 0x00;
		while (Mem0[dwArg08 + 0x04:word32] > dwLoc14_139)
		{
			word32 eax_110 = dwLoc14_139 << 0x02;
			word32 eax_116 = Mem0[dwArg08 + 0x00:word32] + ((eax_110 << 0x04) - eax_110);
			if (Mem0[eax_116 + 44:word32] == eax_65)
			{
				while (dwLoc18_122 != 0x00 && Mem0[dwLoc18_122 + 0x1C:word32] != Mem0[eax_116 + 0x14:word32])
					dwLoc18_122 = Mem0[dwLoc18_122 + 0x0C:word32];
				if (dwLoc18_122 == 0x00)
					break;
				word32 dwLoc20_155 = Mem0[dwLoc18_122 + 0x00:word32] + Mem0[eax_116 + 0x18:word32];
				word32 eax_160 = Mem0[dwLoc18_122 + 0x00:word32] + Mem0[eax_116 + 0x24:word32];
				while (dwLoc20_155 <u eax_160 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc20_155 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					dwLoc20_155 = dwLoc20_155 + 0x01;
				if (dwLoc20_155 != eax_160)
				{
					if (dwLoc1C_10 == 0x00)
					{
						word32 ecx_194 = eax_160 - dwLoc20_155;
						Strnew_size(ecx_194, ecx_194);
						dwLoc1C_10 = ecx_194;
					}
					else
					{
						if (Mem0[dwLoc1C_10 + 0x04:word32] + 0x01 >= Mem0[dwLoc1C_10 + 0x08:word32])
							Strgrow(dwLoc1C_10);
						word32 eax_211 = Mem0[dwLoc1C_10 + 0x04:word32];
						Mem214[Mem0[dwLoc1C_10 + 0x00:word32] + eax_211:byte] = 0x20;
						Mem217[dwLoc1C_10 + 0x04:word32] = eax_211 + 0x01;
						Mem223[Mem217[dwLoc1C_10 + 0x00:word32] + Mem217[dwLoc1C_10 + 0x04:word32]:byte] = 0x00;
					}
					Strcat_charp_n(dwLoc1C_10, dwLoc20_155, eax_160 - dwLoc20_155);
				}
			}
			dwLoc14_139 = dwLoc14_139 + 0x01;
		}
		if (dwLoc1C_10 != 0x00)
			eax_103 = Mem0[dwLoc1C_10 + 0x00:word32];
		else
			eax_103 = 0x00;
	}
	else
		eax_103 = 0x00;
	return eax_103;
}

// 080AF027: Register word32 link_list_panel(Register word32 eax, Register word32 ebp, Register selector gs, Stack word32 dwArg04)
word32 link_list_panel(word32 eax, word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_104;
	Strnew_charp(eax, 0x080D087C);
	if (((int32) (word16) (word32) Mem0[dwArg04 + 0x40:word16] & 0x08) == 0x00 && (Mem0[dwArg04 + 0x70:word32] != 0x00 || (Mem0[dwArg04 + 0x60:word32] != 0x00 || Mem0[dwArg04 + 0x68:word32] != 0x00)))
	{
		if (Mem0[dwArg04 + 0x70:word32] != 0x00)
		{
			Strcat_charp(eax, 0x080D08B5);
			while (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
			{
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] != 0x00)
				{
					Mem626[fp - 0x9C + 0x00:word32] = Mem0[fp + 0x04:word32];
					word32 eax_627 = baseURL(dwArg00);
					word32 edx_629 = Mem626[Mem626[fp - 0x10 + 0x00:word32] + 0x00:word32];
					Mem630[fp - 0x94 + 0x00:word32] = eax_627;
					Mem632[fp - 0x98 + 0x00:word32] = fp - 100;
					Mem633[fp - 0x9C + 0x00:word32] = edx_629;
					parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
					Mem635[fp - 0x9C + 0x00:word32] = fp - 100;
					byte bpl_636;
					Mem639[fp - 44 + 0x00:word32] = Mem635[parsedURL2Str(dwArg00, out bpl_636) + 0x00:word32];
					Mem641[fp - 0x9C + 0x00:word32] = Mem639[fp - 44 + 0x00:word32];
					Mem643[fp - 0x28 + 0x00:word32] = html_quote(dwArg00);
					if (Mem643[135774932:word32] != 0x00)
					{
						Mem650[fp - 0x98 + 0x00:word32] = Mem643[Mem643[fp + 0x04:word32] + 0xD0:word32];
						Mem652[fp - 0x9C + 0x00:word32] = Mem650[fp - 44 + 0x00:word32];
						Mem654[fp - 0x9C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
						Mem656[fp - 44 + 0x00:word32] = html_quote(dwArg00);
					}
					else
						Mem658[fp - 44 + 0x00:word32] = Mem643[fp - 0x28 + 0x00:word32];
				}
				else
				{
					Mem659[fp - 44 + 0x00:word32] = 0x080D08CE;
					Mem661[fp - 0x28 + 0x00:word32] = Mem659[fp - 44 + 0x00:word32];
				}
				if ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x0C:byte] == 0x01)
					Mem617[fp - 0x24 + 0x00:word32] = 0x080D08CF;
				else if ((byte) (word32) Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x0C:byte] == 0x02)
					Mem623[fp - 0x24 + 0x00:word32] = 0x080D08D6;
				else
					Mem624[fp - 0x24 + 0x00:word32] = 0x080D08CE;
				word32 eax_579;
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] != 0x00)
					eax_579 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				else
					eax_579 = 0x080D08CE;
				Mem583[fp - 0x94 + 0x00:word32] = Mem0[fp - 0x24 + 0x00:word32];
				Mem584[fp - 0x98 + 0x00:word32] = eax_579;
				Mem585[fp - 0x9C + 0x00:word32] = 0x080D08DD;
				byte bpl_586;
				Mem589[fp - 0x24 + 0x00:word32] = Mem585[Sprintf(dwArg00, out bpl_586) + 0x00:word32];
				Mem591[fp - 0x9C + 0x00:word32] = Mem589[fp - 0x24 + 0x00:word32];
				Mem593[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
				Mem594[fp - 0x7C + 0x00:word32] = 0x00;
				Mem595[fp - 0x80 + 0x00:word32] = 0x080D08E3;
				Mem597[fp - 0x84 + 0x00:word32] = Mem595[fp - 44 + 0x00:word32];
				Mem598[fp - 0x88 + 0x00:word32] = 0x080D08E5;
				Mem600[fp - 0x8C + 0x00:word32] = Mem598[fp - 0x24 + 0x00:word32];
				Mem601[fp - 0x90 + 0x00:word32] = 0x080D08EE;
				Mem603[fp - 0x94 + 0x00:word32] = Mem601[fp - 0x28 + 0x00:word32];
				Mem604[fp - 0x98 + 0x00:word32] = 0x080D08F1;
				Mem606[fp - 0x9C + 0x00:word32] = Mem604[fp - 0x30 + 0x00:word32];
				Strcat_m_charp(dwArg00);
				Mem609[fp - 0x10 + 0x00:word32] = Mem606[Mem606[fp - 0x10 + 0x00:word32] + 0x10:word32];
			}
			Mem555[fp - 0x98 + 0x00:word32] = 0x080D08FF;
			Mem557[fp - 0x9C + 0x00:word32] = Mem555[fp - 0x30 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x60:word32] != 0x00)
		{
			Mem415[fp - 0x98 + 0x00:word32] = 0x080D0906;
			Mem417[fp - 0x9C + 0x00:word32] = Mem415[fp - 0x30 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem420[fp - 0x14 + 0x00:word32] = Mem417[Mem417[fp + 0x04:word32] + 0x60:word32];
			Mem421[fp - 0x20 + 0x00:word32] = 0x00;
			while (Mem421[Mem421[fp - 0x14 + 0x00:word32] + 0x04:word32] > Mem421[(fp - 0x20) + 0x00:word32])
			{
				word32 eax_440 = Mem421[fp - 0x20 + 0x00:word32];
				Mem448[fp - 0x18 + 0x00:word32] = Mem421[Mem421[fp - 0x14 + 0x00:word32] + 0x00:word32] + ((eax_440 << 0x06) - (eax_440 << 0x02));
				if (Mem448[Mem448[fp - 0x18 + 0x00:word32] + 44:word32] >= 0x00 && (byte) ((word32) Mem448[Mem448[(fp - 0x18) + 0x00:word32] + 0x30:byte]) == 0x00)
				{
					Mem472[fp - 0x9C + 0x00:word32] = Mem448[fp + 0x04:word32];
					word32 eax_473 = baseURL(dwArg00);
					word32 edx_475 = Mem472[Mem472[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem476[fp - 0x94 + 0x00:word32] = eax_473;
					Mem478[fp - 0x98 + 0x00:word32] = fp - 100;
					Mem479[fp - 0x9C + 0x00:word32] = edx_475;
					parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
					Mem481[fp - 0x9C + 0x00:word32] = fp - 100;
					byte bpl_482;
					Mem485[fp - 44 + 0x00:word32] = Mem481[parsedURL2Str(dwArg00, out bpl_482) + 0x00:word32];
					Mem487[fp - 0x9C + 0x00:word32] = Mem485[fp - 44 + 0x00:word32];
					Mem489[fp - 0x28 + 0x00:word32] = html_quote(dwArg00);
					if (Mem489[135774932:word32] != 0x00)
					{
						Mem531[fp - 0x98 + 0x00:word32] = Mem489[Mem489[fp + 0x04:word32] + 0xD0:word32];
						Mem533[fp - 0x9C + 0x00:word32] = Mem531[fp - 44 + 0x00:word32];
						Mem535[fp - 0x9C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
						Mem537[fp - 44 + 0x00:word32] = html_quote(dwArg00);
					}
					else
						Mem539[fp - 44 + 0x00:word32] = Mem489[fp - 0x28 + 0x00:word32];
					word32 eax_504;
					Mem495[fp - 0x94 + 0x00:word32] = Mem489[fp - 0x18 + 0x00:word32];
					Mem497[fp - 0x98 + 0x00:word32] = Mem495[fp - 0x14 + 0x00:word32];
					Mem499[fp - 0x9C + 0x00:word32] = Mem497[fp + 0x04:word32];
					Mem501[fp - 0x24 + 0x00:word32] = getAnchorText(dwArg00, dwArg04, dwArg08);
					if (Mem501[fp - 0x24 + 0x00:word32] != 0x00)
					{
						Mem522[fp - 0x9C + 0x00:word32] = Mem501[fp - 0x24 + 0x00:word32];
						eax_504 = html_quote(dwArg00);
					}
					else
						eax_504 = 0x080D08CE;
					Mem507[fp - 0x24 + 0x00:word32] = eax_504;
					Mem508[fp - 0x7C + 0x00:word32] = 0x00;
					Mem509[fp - 0x80 + 0x00:word32] = 0x080D08E3;
					Mem511[fp - 0x84 + 0x00:word32] = Mem509[fp - 44 + 0x00:word32];
					Mem512[fp - 0x88 + 0x00:word32] = 0x080D08E5;
					Mem514[fp - 0x8C + 0x00:word32] = Mem512[fp - 0x24 + 0x00:word32];
					Mem515[fp - 0x90 + 0x00:word32] = 0x080D08EE;
					Mem517[fp - 0x94 + 0x00:word32] = Mem515[fp - 0x28 + 0x00:word32];
					Mem518[fp - 0x98 + 0x00:word32] = 0x080D08F1;
					Mem520[fp - 0x9C + 0x00:word32] = Mem518[fp - 0x30 + 0x00:word32];
					Strcat_m_charp(dwArg00);
				}
				Mem463[fp - 0x20 + 0x00:word32] = Mem448[fp - 0x20 + 0x00:word32] + 0x01;
			}
			Mem435[fp - 0x98 + 0x00:word32] = 0x080D08FF;
			Mem437[fp - 0x9C + 0x00:word32] = Mem435[fp - 0x30 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x68:word32] != 0x00)
		{
			Mem107[fp - 0x98 + 0x00:word32] = 0x080D0921;
			Mem109[fp - 0x9C + 0x00:word32] = Mem107[fp - 0x30 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			Mem112[fp - 0x14 + 0x00:word32] = Mem109[Mem109[fp + 0x04:word32] + 0x68:word32];
			Mem113[fp - 0x20 + 0x00:word32] = 0x00;
			while (Mem113[Mem113[fp - 0x14 + 0x00:word32] + 0x04:word32] > Mem113[(fp - 0x20) + 0x00:word32])
			{
				word32 eax_130 = Mem113[fp - 0x20 + 0x00:word32];
				Mem138[fp - 0x18 + 0x00:word32] = Mem113[Mem113[fp - 0x14 + 0x00:word32] + 0x00:word32] + ((eax_130 << 0x06) - (eax_130 << 0x02));
				if ((byte) (word32) Mem138[Mem138[fp - 0x18 + 0x00:word32] + 0x30:byte] == 0x00)
				{
					Mem157[fp - 0x9C + 0x00:word32] = Mem138[fp + 0x04:word32];
					word32 eax_158 = baseURL(dwArg00);
					word32 edx_160 = Mem157[Mem157[fp - 0x18 + 0x00:word32] + 0x00:word32];
					Mem161[fp - 0x94 + 0x00:word32] = eax_158;
					Mem163[fp - 0x98 + 0x00:word32] = fp - 100;
					Mem164[fp - 0x9C + 0x00:word32] = edx_160;
					parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
					Mem167[fp - 0x9C + 0x00:word32] = fp - 100;
					byte bpl_168;
					Mem171[fp - 44 + 0x00:word32] = Mem167[parsedURL2Str(dwArg00, out bpl_168) + 0x00:word32];
					Mem173[fp - 0x9C + 0x00:word32] = Mem171[fp - 44 + 0x00:word32];
					Mem175[fp - 0x28 + 0x00:word32] = html_quote(dwArg00);
					if (Mem175[135774932:word32] != 0x00)
					{
						Mem406[fp - 0x98 + 0x00:word32] = Mem175[Mem175[fp + 0x04:word32] + 0xD0:word32];
						Mem408[fp - 0x9C + 0x00:word32] = Mem406[fp - 44 + 0x00:word32];
						Mem410[fp - 0x9C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
						Mem412[fp - 44 + 0x00:word32] = html_quote(dwArg00);
					}
					else
						Mem414[fp - 44 + 0x00:word32] = Mem175[fp - 0x28 + 0x00:word32];
					if (Mem175[Mem175[fp - 0x18 + 0x00:word32] + 0x0C:word32] != 0x00 && (byte) ((word32) Mem175[Mem175[Mem175[(fp - 0x18) + 0x00:word32] + 0x0C:word32] + 0x00:byte]) != 0x00)
					{
						Mem401[fp - 0x9C + 0x00:word32] = Mem175[Mem175[fp - 0x18 + 0x00:word32] + 0x0C:word32];
						Mem403[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
					}
					else if (Mem175[135774932:word32] != 0x00)
					{
						word32 eax_380 = Mem175[Mem175[fp - 0x18 + 0x00:word32] + 0x00:word32];
						Mem381[fp - 0x98 + 0x00:word32] = Mem175[Mem175[fp + 0x04:word32] + 0xD0:word32];
						Mem382[fp - 0x9C + 0x00:word32] = eax_380;
						Mem384[fp - 0x9C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
						Mem386[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
					}
					else
					{
						Mem389[fp - 0x9C + 0x00:word32] = Mem175[Mem175[fp - 0x18 + 0x00:word32] + 0x00:word32];
						Mem391[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
					}
					Mem188[fp - 0x7C + 0x00:word32] = 0x00;
					Mem189[fp - 0x80 + 0x00:word32] = 0x080D08E3;
					Mem191[fp - 0x84 + 0x00:word32] = Mem189[fp - 44 + 0x00:word32];
					Mem192[fp - 0x88 + 0x00:word32] = 0x080D08E5;
					Mem194[fp - 0x8C + 0x00:word32] = Mem192[fp - 0x24 + 0x00:word32];
					Mem195[fp - 0x90 + 0x00:word32] = 0x080D08EE;
					Mem197[fp - 0x94 + 0x00:word32] = Mem195[fp - 0x28 + 0x00:word32];
					Mem198[fp - 0x98 + 0x00:word32] = 0x080D08F1;
					Mem200[fp - 0x9C + 0x00:word32] = Mem198[fp - 0x30 + 0x00:word32];
					Strcat_m_charp(dwArg00);
					word32 edx_204 = Mem200[Mem200[fp - 0x18 + 0x00:word32] + 0x14:word32];
					word32 eax_206 = Mem200[Mem200[fp + 0x04:word32] + 0x6C:word32];
					Mem207[fp - 0x94 + 0x00:word32] = Mem200[Mem200[fp - 0x18 + 0x00:word32] + 0x18:word32];
					Mem208[fp - 0x98 + 0x00:word32] = edx_204;
					Mem209[fp - 0x9C + 0x00:word32] = eax_206;
					Mem211[fp - 0x18 + 0x00:word32] = retrieveAnchor(dwArg00, dwArg04, dwArg08);
					if (Mem211[fp - 0x18 + 0x00:word32] != 0x00)
					{
						Mem216[fp - 0x1C + 0x00:word32] = Mem211[Mem211[fp - 0x18 + 0x00:word32] + 0x00:word32];
						Mem220[fp - 0x1C + 0x00:word32] = Mem216[Mem216[Mem216[fp - 0x1C + 0x00:word32] + 0x40:word32] + 0x00:word32];
						if (Mem220[Mem220[Mem220[fp - 0x1C + 0x00:word32] + 0x40:word32] + 0x08:word32] == 0x02)
						{
							word32 eax_229 = Mem220[Mem220[Mem220[Mem220[fp - 0x1C + 0x00:word32] + 0x40:word32] + 0x0C:word32] + 0x00:word32];
							Mem230[fp - 0x98 + 0x00:word32] = 0x080D093B;
							Mem231[fp - 0x9C + 0x00:word32] = eax_229;
							if (strcmp(Mem231[fp - 0x9C + 0x00:(ptr char)], Mem231[fp - 0x98 + 0x00:(ptr char)]) == 0x00 && Mem231[Mem231[(fp - 0x1C) + 0x00:word32] + 0x08:word32] != 0x00)
							{
								Mem244[fp - 0x98 + 0x00:word32] = Mem231[Mem231[Mem231[fp - 0x1C + 0x00:word32] + 0x08:word32] + 0x00:word32];
								Mem246[fp - 0x9C + 0x00:word32] = Mem244[fp + 0x04:word32];
								Mem248[fp - 0x34 + 0x00:word32] = searchMapList(dwArg00, dwArg04);
								if (Mem248[fp - 0x34 + 0x00:word32] != 0x00)
								{
									Mem251[fp - 0x98 + 0x00:word32] = 0x080D093F;
									Mem253[fp - 0x9C + 0x00:word32] = Mem251[fp - 0x30 + 0x00:word32];
									Strcat_charp(dwArg00, dwArg04);
									Mem257[fp - 0x38 + 0x00:word32] = Mem253[Mem253[Mem253[fp - 0x34 + 0x00:word32] + 0x04:word32] + 0x00:word32];
									while (Mem257[fp - 0x38 + 0x00:word32] != 0x00)
									{
										Mem271[fp - 0x3C + 0x00:word32] = Mem257[Mem257[fp - 0x38 + 0x00:word32] + 0x00:word32];
										if (Mem271[fp - 0x3C + 0x00:word32] != 0x00)
										{
											Mem284[fp - 0x9C + 0x00:word32] = Mem271[fp + 0x04:word32];
											word32 eax_285 = baseURL(dwArg00);
											word32 edx_287 = Mem284[Mem284[fp - 0x3C + 0x00:word32] + 0x00:word32];
											Mem288[fp - 0x94 + 0x00:word32] = eax_285;
											Mem290[fp - 0x98 + 0x00:word32] = fp - 100;
											Mem291[fp - 0x9C + 0x00:word32] = edx_287;
											parseURL2(fp - 0x04, dwArg00, dwArg04, dwArg08);
											Mem293[fp - 0x9C + 0x00:word32] = fp - 100;
											byte bpl_294;
											Mem297[fp - 44 + 0x00:word32] = Mem293[parsedURL2Str(dwArg00, out bpl_294) + 0x00:word32];
											Mem299[fp - 0x9C + 0x00:word32] = Mem297[fp - 44 + 0x00:word32];
											Mem301[fp - 0x28 + 0x00:word32] = html_quote(dwArg00);
											if (Mem301[135774932:word32] != 0x00)
											{
												Mem363[fp - 0x98 + 0x00:word32] = Mem301[Mem301[fp + 0x04:word32] + 0xD0:word32];
												Mem365[fp - 0x9C + 0x00:word32] = Mem363[fp - 44 + 0x00:word32];
												Mem367[fp - 0x9C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
												Mem369[fp - 44 + 0x00:word32] = html_quote(dwArg00);
											}
											else
												Mem371[fp - 44 + 0x00:word32] = Mem301[fp - 0x28 + 0x00:word32];
											if (Mem301[Mem301[fp - 0x3C + 0x00:word32] + 0x08:word32] != 0x00 && (byte) ((word32) Mem301[Mem301[Mem301[(fp - 0x3C) + 0x00:word32] + 0x08:word32] + 0x00:byte]) != 0x00)
											{
												Mem358[fp - 0x9C + 0x00:word32] = Mem301[Mem301[fp - 0x3C + 0x00:word32] + 0x08:word32];
												Mem360[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
											}
											else if (Mem301[135774932:word32] != 0x00)
											{
												word32 eax_337 = Mem301[Mem301[fp - 0x3C + 0x00:word32] + 0x00:word32];
												Mem338[fp - 0x98 + 0x00:word32] = Mem301[Mem301[fp + 0x04:word32] + 0xD0:word32];
												Mem339[fp - 0x9C + 0x00:word32] = eax_337;
												Mem341[fp - 0x9C + 0x00:word32] = url_unquote_conv(dwArg00, dwArg04);
												Mem343[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
											}
											else
											{
												Mem346[fp - 0x9C + 0x00:word32] = Mem301[Mem301[fp - 0x3C + 0x00:word32] + 0x00:word32];
												Mem348[fp - 0x24 + 0x00:word32] = html_quote(dwArg00);
											}
											Mem316[fp - 0x7C + 0x00:word32] = 0x00;
											Mem317[fp - 0x80 + 0x00:word32] = 0x080D08E3;
											Mem319[fp - 0x84 + 0x00:word32] = Mem317[fp - 44 + 0x00:word32];
											Mem320[fp - 0x88 + 0x00:word32] = 0x080D08E5;
											Mem322[fp - 0x8C + 0x00:word32] = Mem320[fp - 0x24 + 0x00:word32];
											Mem323[fp - 0x90 + 0x00:word32] = 0x080D08EE;
											Mem325[fp - 0x94 + 0x00:word32] = Mem323[fp - 0x28 + 0x00:word32];
											Mem326[fp - 0x98 + 0x00:word32] = 0x080D08F1;
											Mem328[fp - 0x9C + 0x00:word32] = Mem326[fp - 0x30 + 0x00:word32];
											Strcat_m_charp(dwArg00);
										}
										Mem282[fp - 0x38 + 0x00:word32] = Mem271[Mem271[fp - 0x38 + 0x00:word32] + 0x04:word32];
									}
									Mem266[fp - 0x98 + 0x00:word32] = 0x080D08FF;
									Mem268[fp - 0x9C + 0x00:word32] = Mem266[fp - 0x30 + 0x00:word32];
									Strcat_charp(dwArg00, dwArg04);
								}
							}
						}
					}
				}
				Mem154[fp - 0x20 + 0x00:word32] = Mem138[fp - 0x20 + 0x00:word32] + 0x01;
			}
			Mem125[fp - 0x98 + 0x00:word32] = 0x080D08FF;
			Mem127[fp - 0x9C + 0x00:word32] = Mem125[fp - 0x30 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		Mem101[fp - 0x9C + 0x00:word32] = Mem0[fp - 0x30 + 0x00:word32];
		eax_104 = loadHTMLString(fp - 0x04, gs, dwArg00);
	}
	else
		eax_104 = 0x00;
	return eax_104;
}

// 080AF79C: void noConv(Stack word32 dwArg04, Stack word32 dwArg08)
void noConv(word32 dwArg04, word32 dwArg08)
{
	Mem10[dwArg08 + 0x00:word32] = dwArg04;
}

// 080AF7AE: void toNumber(Stack word32 dwArg04, Stack word32 dwArg08)
void toNumber(word32 dwArg04, word32 dwArg08)
{
	word32 eax_13 = strtol(dwArg04);
	if (dwLoc10 >u dwArg04)
		Mem27[dwArg08 + 0x00:word32] = eax_13;
}

// 080AF7EF: void toLength(Stack word32 dwArg04, Stack word32 dwArg08)
void toLength(word32 dwArg04, word32 dwArg08)
{
	if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
	{
		word32 eax_40 = atoi(dwArg04);
		word32 dwLoc10_41 = eax_40;
		if (eax_40 >= 0x00)
		{
			if (eax_40 == 0x00)
				dwLoc10_41 = 0x01;
			if ((byte) (word32) Mem0[strlen(dwArg04) - 0x01 + dwArg04:byte] == 0x25)
				Mem68[dwArg08 + 0x00:word32] = -dwLoc10_41;
			else
				Mem71[dwArg08 + 0x00:word32] = dwLoc10_41;
		}
	}
}

// 080AF873: void toAlign(Stack word32 dwArg04, Stack word32 dwArg08)
void toAlign(word32 dwArg04, word32 dwArg08)
{
	if (strcasecmp(dwArg04, 0x080D0EB7) == 0x00)
		Mem32[dwArg08 + 0x00:word32] = 0x01;
	else if (strcasecmp(dwArg04, 0x080D0EBC) == 0x00)
		Mem41[dwArg08 + 0x00:word32] = 0x02;
	else if (strcasecmp(dwArg04, 0x080D0A44) == 0x00)
		Mem50[dwArg08 + 0x00:word32] = 0x00;
	else if (strcasecmp(dwArg04, 0x080D0EC2) == 0x00)
		Mem59[dwArg08 + 0x00:word32] = 0x05;
	else if (strcasecmp(dwArg04, 0x080D0EC6) == 0x00)
		Mem68[dwArg08 + 0x00:word32] = 0x06;
	else
	{
		if (strcasecmp(dwArg04, 0x080D0ECD) != 0x00)
			return;
		Mem77[dwArg08 + 0x00:word32] = 0x04;
	}
}

// 080AF959: void toVAlign(Stack word32 dwArg04, Stack word32 dwArg08)
void toVAlign(word32 dwArg04, word32 dwArg08)
{
	if (strcasecmp(dwArg04, 0x080D0EC2) != 0x00 && strcasecmp(dwArg04, 0x080D0ED4) != 0x00)
	{
		if (strcasecmp(dwArg04, 0x080D0EC6) == 0x00)
			Mem53[dwArg08 + 0x00:word32] = 0x02;
		else
		{
			if (strcasecmp(dwArg04, 0x080D0ECD) != 0x00)
				return;
			Mem62[dwArg08 + 0x00:word32] = 0x00;
		}
	}
	else
		Mem37[dwArg08 + 0x00:word32] = 0x01;
}

// 080AF9EA: Register word32 parse_tag(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 parse_tag(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_21 = Mem0[dwArg04 + 0x00:word32];
	word32 ebp_158 = fp - 0x04;
	word32 dwLocA0_1068 = eax_21 + 0x01;
	word32 dwLoc9C_1120 = fp - 0x50;
	if ((byte) (word32) Mem0[eax_21 + 0x01:byte] == 0x2F)
	{
		bLoc50 = (byte) (word32) Mem0[eax_21 + 0x01:byte];
		dwLoc9C_1120 = fp - 0x4F;
		dwLocA0_1068 = eax_21 + 0x02;
		while ((byte) (word32) Mem0[dwLocA0_1068 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLocA0_1068 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			dwLocA0_1068 = dwLocA0_1068 + 0x01;
	}
	while ((byte) (word32) Mem0[dwLocA0_1068 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLocA0_1068 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && ((byte) ((word32) bLoc50) == 0x2F || (byte) ((word32) Mem0[dwLocA0_1068 + 0x00:byte]) != 0x2F)) && ((byte) ((word32) Mem0[dwLocA0_1068 + 0x00:byte]) != 0x3E && dwLoc9C_1120 - (fp - 0x50) <= 0x3E))
	{
		byte al_1115;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLocA0_1068 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			al_1115 = (byte) ((word32) Mem0[dwLocA0_1068 + 0x00:byte] | 0x20);
		else
			al_1115 = (byte) (word32) Mem0[dwLocA0_1068 + 0x00:byte];
		Mem1118[dwLoc9C_1120 + 0x00:byte] = al_1115;
		dwLoc9C_1120 = dwLoc9C_1120 + 0x01;
		dwLocA0_1068 = dwLocA0_1068 + 0x01;
	}
	Mem52[dwLoc9C_1120 + 0x00:byte] = 0x00;
	while ((byte) (word32) Mem52[dwLocA0_1068 + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem52[(word32) ((byte) ((word32) Mem52[dwLocA0_1068 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && ((byte) ((word32) bLoc50) == 0x2F || (byte) ((word32) Mem52[dwLocA0_1068 + 0x00:byte]) != 0x2F)) && (byte) ((word32) Mem52[dwLocA0_1068 + 0x00:byte]) != 0x3E)
		dwLocA0_1068 = dwLocA0_1068 + 0x01;
	word32 eax_67 = getHash_si(0x080DA7F0, fp - 0x50, 0x00);
	if (eax_67 != 0x00 && (dwArg08 != 0x00 || ((word32) ((byte) ((word32) 0x080D94C9[eax_67 * 0x0C])) & 0x02) == 0x00))
	{
		word32 esp_139;
		word32 ebp_140;
		word32 ebx_141;
		byte SCZO_142;
		word32 eax_143;
		selector gs_144;
		byte SZO_145;
		byte C_146;
		byte al_147;
		byte Z_148;
		word32 edx_149;
		byte dl_150;
		word32 ecx_151;
		byte SO_152;
		!GC_malloc();
		word32 ebx_159;
		byte SCZO_160;
		word32 eax_161;
		byte SZO_163;
		byte C_164;
		byte al_165;
		byte Z_166;
		word32 edx_167;
		byte dl_168;
		word32 ecx_169;
		byte SO_170;
		word32 esp_157;
		!bzero();
		byte dl_173 = (byte) eax_67;
		Mem175[eax_143 + 0x00:byte] = dl_173;
		byte al_182 = (byte) (word32) 0x080D94C8[eax_67 * 0x0C];
		word32 eax_183 = (word32) al_182;
		if (eax_183 > 0x00)
		{
			word32 esp_937;
			word32 ebp_938;
			word32 ebx_939;
			byte SCZO_940;
			word32 eax_941;
			selector gs_942;
			byte SZO_943;
			byte C_944;
			byte al_945;
			byte Z_946;
			word32 edx_947;
			byte dl_948;
			word32 ecx_949;
			byte SO_950;
			!GC_malloc_atomic();
			Mem953[eax_143 + 0x04:word32] = eax_941;
			word32 esp_958;
			word32 ebp_959;
			word32 ebx_960;
			byte SCZO_961;
			word32 eax_962;
			selector gs_963;
			byte SZO_964;
			byte C_965;
			byte al_966;
			byte Z_967;
			word32 edx_968;
			byte dl_969;
			word32 ecx_970;
			byte SO_971;
			!GC_malloc();
			Mem974[eax_143 + 0x08:word32] = eax_962;
			word32 ebx_978;
			byte SCZO_979;
			word32 eax_980;
			byte SZO_982;
			byte C_983;
			byte al_984;
			byte Z_985;
			word32 edx_986;
			byte dl_987;
			word32 ecx_988;
			byte SO_989;
			!GC_malloc_atomic();
			Mem992[eax_143 + 0x0C:word32] = eax_980;
			memset(Mem992[eax_143 + 0x0C:word32], 0x4B, 0x4B);
			memset(Mem992[eax_143 + 0x04:word32], 0x00, eax_183);
			word32 dwLocA4_1006 = 0x00;
			while (dwLocA4_1006 < eax_183)
			{
				Mem1030[Mem992[eax_143 + 0x0C:word32] + (word32) ((byte) ((word32) Mem992[0x080D94C4[eax_67 * 0x0C] + dwLocA4_1006:byte])):byte] = (byte) dwLocA4_1006;
				dwLocA4_1006 = dwLocA4_1006 + 0x01;
			}
		}
		while ((byte) (word32) Mem175[dwLocA0_1068 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem175[(word32) ((byte) ((word32) Mem175[dwLocA0_1068 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
			dwLocA0_1068 = dwLocA0_1068 + 0x01;
		while (true)
		{
			Mem214[ebp_158 - 0xAC + 0x00:word32] = 0x00;
			Mem215[ebp_158 - 0xB0 + 0x00:word32] = 0x00;
			if ((byte) (word32) Mem215[Mem215[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] == 0x3E || (byte) ((word32) Mem215[Mem215[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) == 0x00)
				break;
			Mem228[ebp_158 - 0x98 + 0x00:word32] = ebp_158 - 0x8C;
			while ((byte) (word32) Mem228[Mem228[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem228[Mem228[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x3D && (((word32) ((byte) ((word32) Mem228[(word32) ((byte) ((word32) Mem228[Mem228[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && ((byte) ((word32) Mem228[Mem228[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x3E && Mem228[(ebp_158 - 0x98) + 0x00:word32] - (ebp_158 - 0x8C) <= 0x3E))))
			{
				byte al_903;
				if (((word32) (byte) (word32) Mem228[(word32) (byte) (word32) Mem228[Mem228[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
					al_903 = (byte) ((word32) Mem228[Mem228[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] | 0x20);
				else
					al_903 = (byte) (word32) Mem228[Mem228[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte];
				Mem906[Mem228[ebp_158 - 0x98 + 0x00:word32] + 0x00:byte] = al_903;
				Mem908[ebp_158 - 0x98 + 0x00:word32] = Mem906[ebp_158 - 0x98 + 0x00:word32] + 0x01;
				Mem910[ebp_158 - 0x9C + 0x00:word32] = Mem908[ebp_158 - 0x9C + 0x00:word32] + 0x01;
			}
			Mem246[Mem228[ebp_158 - 0x98 + 0x00:word32] + 0x00:byte] = 0x00;
			while ((byte) (word32) Mem246[Mem246[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && ((byte) ((word32) Mem246[Mem246[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x3D && (((word32) ((byte) ((word32) Mem246[(word32) ((byte) ((word32) Mem246[Mem246[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem246[Mem246[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x3E)))
				Mem860[ebp_158 - 0x9C + 0x00:word32] = Mem246[ebp_158 - 0x9C + 0x00:word32] + 0x01;
			while ((byte) (word32) Mem246[Mem246[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem246[(word32) ((byte) ((word32) Mem246[Mem246[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
				Mem836[ebp_158 - 0x9C + 0x00:word32] = Mem246[ebp_158 - 0x9C + 0x00:word32] + 0x01;
			word32 eax_264 = (word32) Mem246[Mem246[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte];
			if ((byte) eax_264 == 0x3D)
			{
				Strnew(eax_264);
				Mem535[ebp_158 - 0xB0 + 0x00:word32] = eax_264;
				Mem537[ebp_158 - 0x9C + 0x00:word32] = Mem535[ebp_158 - 0x9C + 0x00:word32] + 0x01;
				while ((byte) (word32) Mem537[Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem537[(word32) ((byte) ((word32) Mem537[Mem537[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
					Mem822[ebp_158 - 0x9C + 0x00:word32] = Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x01;
				if ((byte) (word32) Mem537[Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] == 0x22)
				{
					Mem554[ebp_158 - 0x9C + 0x00:word32] = Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x01;
					while ((byte) (word32) Mem554[Mem554[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem554[Mem554[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x22)
					{
						if (Mem554[Mem554[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem554[Mem554[(ebp_158 - 0xB0) + 0x00:word32] + 0x08:word32])
						{
							Mem634[esp_157 + 0x00:word32] = Mem554[ebp_158 - 0xB0 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_590 = Mem554[Mem554[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32];
						Mem596[Mem554[Mem554[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32] + eax_590:byte] = (byte) (word32) Mem554[Mem554[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte];
						Mem599[Mem596[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32] = eax_590 + 0x01;
						Mem605[Mem599[Mem599[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32] + Mem599[Mem599[(ebp_158 - 0xB0) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						if ((byte) (word32) Mem605[Mem605[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] == 0x00 && ((word32) ((byte) ((word32) Mem605[(word32) ((byte) ((word32) Mem605[Mem605[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB5C0:byte])) & 0x07) != 0x00)
							Mem632[Mem605[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] = 0x01;
						Mem618[ebp_158 - 0x9C + 0x00:word32] = Mem605[ebp_158 - 0x9C + 0x00:word32] + 0x01;
					}
					if ((byte) (word32) Mem554[Mem554[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] == 0x22)
						Mem573[ebp_158 - 0x9C + 0x00:word32] = Mem554[ebp_158 - 0x9C + 0x00:word32] + 0x01;
				}
				else if ((byte) (word32) Mem537[Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] == 0x27)
				{
					Mem641[ebp_158 - 0x9C + 0x00:word32] = Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x01;
					while ((byte) (word32) Mem641[Mem641[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && (byte) ((word32) Mem641[Mem641[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x27)
					{
						if (Mem641[Mem641[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem641[Mem641[(ebp_158 - 0xB0) + 0x00:word32] + 0x08:word32])
						{
							Mem721[esp_157 + 0x00:word32] = Mem641[ebp_158 - 0xB0 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_677 = Mem641[Mem641[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32];
						Mem683[Mem641[Mem641[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32] + eax_677:byte] = (byte) (word32) Mem641[Mem641[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte];
						Mem686[Mem683[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32] = eax_677 + 0x01;
						Mem692[Mem686[Mem686[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32] + Mem686[Mem686[(ebp_158 - 0xB0) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						if ((byte) (word32) Mem692[Mem692[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] == 0x00 && ((word32) ((byte) ((word32) Mem692[(word32) ((byte) ((word32) Mem692[Mem692[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB5C0:byte])) & 0x07) != 0x00)
							Mem719[Mem692[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] = 0x01;
						Mem705[ebp_158 - 0x9C + 0x00:word32] = Mem692[ebp_158 - 0x9C + 0x00:word32] + 0x01;
					}
					if ((byte) (word32) Mem641[Mem641[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] == 0x27)
						Mem660[ebp_158 - 0x9C + 0x00:word32] = Mem641[ebp_158 - 0x9C + 0x00:word32] + 0x01;
				}
				else if ((byte) (word32) Mem537[Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00)
				{
					while ((byte) (word32) Mem537[Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] != 0x00 && (((word32) ((byte) ((word32) Mem537[(word32) ((byte) ((word32) Mem537[Mem537[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB700:byte])) & 0x02) == 0x00 && (byte) ((word32) Mem537[Mem537[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte]) != 0x3E))
					{
						if (Mem537[Mem537[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem537[Mem537[(ebp_158 - 0xB0) + 0x00:word32] + 0x08:word32])
						{
							Mem809[esp_157 + 0x00:word32] = Mem537[ebp_158 - 0xB0 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_765 = Mem537[Mem537[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32];
						Mem771[Mem537[Mem537[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32] + eax_765:byte] = (byte) (word32) Mem537[Mem537[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte];
						Mem774[Mem771[ebp_158 - 0xB0 + 0x00:word32] + 0x04:word32] = eax_765 + 0x01;
						Mem780[Mem774[Mem774[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32] + Mem774[Mem774[(ebp_158 - 0xB0) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						if ((byte) (word32) Mem780[Mem780[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] == 0x00 && ((word32) ((byte) ((word32) Mem780[(word32) ((byte) ((word32) Mem780[Mem780[(ebp_158 - 0x9C) + 0x00:word32] + 0x00:byte])) + 0x080DB5C0:byte])) & 0x07) != 0x00)
							Mem807[Mem780[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] = 0x01;
						Mem793[ebp_158 - 0x9C + 0x00:word32] = Mem780[ebp_158 - 0x9C + 0x00:word32] + 0x01;
					}
				}
			}
			Mem278[ebp_158 - 0xA0 + 0x00:word32] = 0x00;
			while (Mem278[ebp_158 - 0xA0 + 0x00:word32] < Mem278[(ebp_158 - 0xA8) + 0x00:word32])
			{
				if ((byte) (word32) Mem278[Mem278[Mem278[ebp_158 - 0x90 + 0x00:word32] + 0x04:word32] + Mem278[(ebp_158 - 0xA0) + 0x00:word32]:byte] == 0x00)
				{
					word32 eax_514 = 0x080D9BA0[(word32) (byte) (word32) Mem278[0x080D94C4[Mem278[ebp_158 - 0x94 + 0x00:word32] * 0x0C] + Mem278[(ebp_158 - 0xA0) + 0x00:word32]:byte] * 0x08];
					Mem516[esp_157 + 0x04:word32] = ebp_158 - 0x8C;
					Mem517[esp_157 + 0x00:word32] = eax_514;
					if (strcmp(Mem517[esp_157 + 0x00:(ptr char)], Mem517[esp_157 + 0x04:(ptr char)]) == 0x00)
					{
						Mem534[ebp_158 - 0xA4 + 0x00:word32] = (word32) (byte) (word32) Mem517[0x080D94C4[Mem517[ebp_158 - 0x94 + 0x00:word32] * 0x0C] + Mem517[(ebp_158 - 0xA0) + 0x00:word32]:byte];
						break;
					}
				}
				Mem501[ebp_158 - 0xA0 + 0x00:word32] = Mem278[ebp_158 - 0xA0 + 0x00:word32] + 0x01;
			}
			if (Mem278[ebp_158 - 0xB0 + 0x00:word32] != 0x00)
			{
				Mem370[ebp_158 - 0xB8 + 0x00:word32] = 0x00;
				Mem371[ebp_158 - 0xB4 + 0x00:word32] = 0x00;
				while (true)
				{
					word32 eax_376 = Mem371[ebp_158 - 0xB4 + 0x00:word32];
					if (eax_376 >= Mem371[(ebp_158 - 0xA0) + 0x00:word32])
						break;
					if ((byte) (word32) Mem371[Mem371[Mem371[ebp_158 - 0x90 + 0x00:word32] + 0x04:word32] + Mem371[(ebp_158 - 0xB4) + 0x00:word32]:byte] == 33)
					{
						Mem477[esp_157 + 0x04:word32] = Mem371[Mem371[ebp_158 - 0x90 + 0x00:word32] + 0x08:word32][Mem371[ebp_158 - 0xB4 + 0x00:word32] * 0x04];
						Mem478[esp_157 + 0x00:word32] = 0x080D0EDD;
						eax_376 = strcmp(Mem478[esp_157 + 0x00:(ptr char)], Mem478[esp_157 + 0x04:(ptr char)]);
						if (eax_376 == 0x00)
						{
							Mem484[ebp_158 - 0xB8 + 0x00:word32] = 0x01;
							break;
						}
					}
					Mem469[ebp_158 - 0xB4 + 0x00:word32] = Mem371[ebp_158 - 0xB4 + 0x00:word32] + 0x01;
				}
				if (Mem371[ebp_158 - 0x94 + 0x00:word32] != 44 && Mem371[(ebp_158 - 0x94) + 0x00:word32] != 0x86 || (Mem371[(ebp_158 - 0xA4) + 0x00:word32] != 0x24 || Mem371[(ebp_158 - 0xB8) + 0x00:word32] == 0x00))
				{
					Strnew(eax_376);
					Mem389[ebp_158 - 0xAC + 0x00:word32] = eax_376;
					Mem392[ebp_158 - 188 + 0x00:word32] = Mem389[Mem389[ebp_158 - 0xB0 + 0x00:word32] + 0x00:word32];
					while ((byte) (word32) Mem392[Mem392[ebp_158 - 188 + 0x00:word32] + 0x00:byte] != 0x00)
					{
						if ((byte) (word32) Mem392[Mem392[ebp_158 - 188 + 0x00:word32] + 0x00:byte] != 0x0A)
						{
							if (Mem392[Mem392[ebp_158 - 0xAC + 0x00:word32] + 0x04:word32] + 0x01 >= Mem392[Mem392[(ebp_158 - 0xAC) + 0x00:word32] + 0x08:word32])
							{
								Mem445[esp_157 + 0x00:word32] = Mem392[ebp_158 - 0xAC + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_427 = Mem392[Mem392[ebp_158 - 0xAC + 0x00:word32] + 0x04:word32];
							Mem434[Mem392[Mem392[ebp_158 - 0xAC + 0x00:word32] + 0x00:word32] + eax_427:byte] = (byte) (word32) Mem392[Mem392[ebp_158 - 188 + 0x00:word32] + 0x00:byte];
							Mem437[Mem434[ebp_158 - 0xAC + 0x00:word32] + 0x04:word32] = eax_427 + 0x01;
							Mem443[Mem437[Mem437[ebp_158 - 0xAC + 0x00:word32] + 0x00:word32] + Mem437[Mem437[(ebp_158 - 0xAC) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						}
						Mem415[ebp_158 - 188 + 0x00:word32] = Mem392[ebp_158 - 188 + 0x00:word32] + 0x01;
					}
				}
				else
					Mem451[ebp_158 - 0xAC + 0x00:word32] = Mem371[ebp_158 - 0xB0 + 0x00:word32];
			}
			if (Mem278[ebp_158 - 0xA0 + 0x00:word32] != Mem278[(ebp_158 - 0xA8) + 0x00:word32])
			{
				if (Mem278[ebp_158 + 0x0C:word32] == 0x00)
				{
					if ((byte) ((word32) (byte) (word32) 135109541[Mem278[ebp_158 - 0xA4 + 0x00:word32] * 0x08] & 0x01) != 0x00)
					{
l080B04C2:
						Mem352[Mem278[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] = 0x01;
						continue;
					}
					if (Mem278[ebp_158 - 0xAC + 0x00:word32] == 0x00 || (byte) ((word32) 135109540[Mem278[(ebp_158 - 0xA4) + 0x00:word32] * 0x08]) != 0x08)
						goto l080B04D2;
					word32 eax_361 = Mem278[Mem278[ebp_158 - 0xAC + 0x00:word32] + 0x00:word32];
					Mem362[esp_157 + 0x04:word32] = 0x080D0CB8;
					Mem363[esp_157 + 0x00:word32] = eax_361;
					if (strcasecmp(Mem363[esp_157 + 0x00:(ptr char)], Mem363[esp_157 + 0x04:(ptr char)]) == 0x00)
						goto l080B04C2;
				}
l080B04D2:
				Mem314[Mem278[Mem278[ebp_158 - 0x90 + 0x00:word32] + 0x04:word32] + Mem278[(ebp_158 - 0xA0) + 0x00:word32]:byte] = (byte) Mem278[ebp_158 - 0xA4 + 0x00:word32];
				if (Mem314[ebp_158 - 0xAC + 0x00:word32] != 0x00)
				{
					Mem325[esp_157 + 0x00:word32] = Mem314[Mem314[ebp_158 - 0xAC + 0x00:word32] + 0x00:word32];
					word32 ebx_327;
					word32 eax_328 = html_unquote(ebp_158, dwArg00, out ebx_327);
					Mem329[ebx_327 + 0x00:word32] = eax_328;
				}
				else
					Mem314[Mem314[ebp_158 - 0x90 + 0x00:word32] + 0x08:word32][Mem314[ebp_158 - 0xA0 + 0x00:word32] * 0x04] = 0x00;
				continue;
			}
			Mem369[Mem278[ebp_158 - 0x90 + 0x00:word32] + 0x10:byte] = 0x01;
		}
	}
	else
	{
		while ((byte) (word32) Mem52[dwLocA0_1068 + 0x00:byte] != 0x3E && (byte) ((word32) Mem52[dwLocA0_1068 + 0x00:byte]) != 0x00)
			dwLocA0_1068 = dwLocA0_1068 + 0x01;
	}
	if ((byte) (word32) Mem52[Mem52[ebp_158 - 0x9C + 0x00:word32] + 0x00:byte] == 0x3E)
		Mem112[ebp_158 - 0x9C + 0x00:word32] = Mem52[ebp_158 - 0x9C + 0x00:word32] + 0x01;
	Mem97[Mem52[ebp_158 - 0xCC + 0x00:word32] + 0x00:word32] = Mem52[ebp_158 - 0x9C + 0x00:word32];
	word32 eax_98 = Mem97[ebp_158 - 0x90 + 0x00:word32];
	if ((Mem97[ebp_158 - 0x0C + 0x00:word32] ^ Mem97[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_98;
}

// 080B05B7: void parsedtag_set_value(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void parsedtag_set_value(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg04 + 0x0C:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + dwArg08:byte]) != 0x4B)
	{
		word32 eax_56 = (word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + dwArg08:byte];
		Mem64[Mem0[dwArg04 + 0x04:word32] + eax_56:byte] = (byte) dwArg08;
		if (dwArg0C != 0x00)
			Mem64[dwArg04 + 0x08:word32][eax_56 * 0x04] = allocStr(dwArg0C, ~0x00);
		else
			Mem64[dwArg04 + 0x08:word32][eax_56 * 0x04] = 0x00;
		Mem74[dwArg04 + 0x10:byte] = 0x01;
	}
}

// 080B0659: Register word32 parsedtag_get_value(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 parsedtag_get_value(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_104;
	if (Mem0[dwArg04 + 0x0C:word32] != 0x00 && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + dwArg08:byte]) != 0x4B && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x04:word32] + (word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + dwArg08:byte])):byte]) != 0x00 && Mem0[dwArg04 + 0x08:word32][(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x0C:word32] + dwArg08:byte])) * 0x04] != 0x00)))
	{
		word32 ecx_88 = 0x080D9E00[(word32) (byte) (word32) 135109540[dwArg08 * 0x08] * 0x04];
		word32 esp_101;
		word32 ebp_102;
		byte SCZO_103;
		byte SZO_105;
		byte C_106;
		byte Z_107;
		word32 edx_108;
		byte al_109;
		word32 ecx_110;
		ecx_88();
	}
	else
		eax_104 = 0x00;
	return eax_104;
}

// 080B0702: Register word32 parsedtag2str(Register word32 ebp, Stack word32 dwArg04)
word32 parsedtag2str(word32 ebp, word32 dwArg04)
{
	word32 eax_13 = (word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
	word32 eax_23 = (word32) (byte) (word32) 0x080D94C8[eax_13 * 0x0C];
	Strnew(eax_23);
	if (Mem0[eax_23 + 0x04:word32] + 0x01 >= Mem0[eax_23 + 0x08:word32])
		Strgrow(eax_23);
	word32 eax_36 = Mem0[eax_23 + 0x04:word32];
	Mem39[Mem0[eax_23 + 0x00:word32] + eax_36:byte] = 0x3C;
	Mem42[eax_23 + 0x04:word32] = eax_36 + 0x01;
	Mem48[Mem42[eax_23 + 0x00:word32] + Mem42[eax_23 + 0x04:word32]:byte] = 0x00;
	Strcat_charp(eax_23, 0x080D94C0[eax_13 * 0x0C]);
	while (Mem48[fp - 0x10 + 0x00:word32] < Mem48[(fp - 0x18) + 0x00:word32])
	{
		if ((byte) (word32) Mem48[Mem48[Mem48[fp + 0x04:word32] + 0x04:word32] + Mem48[(fp - 0x10) + 0x00:word32]:byte] != 0x00)
		{
			if (Mem48[Mem48[fp - 0x1C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem48[Mem48[(fp - 0x1C) + 0x00:word32] + 0x08:word32])
			{
				Mem185[fp - 44 + 0x00:word32] = Mem48[fp - 0x1C + 0x00:word32];
				Strgrow(dwArg00);
			}
			word32 eax_135 = Mem48[Mem48[fp - 0x1C + 0x00:word32] + 0x04:word32];
			Mem138[Mem48[Mem48[fp - 0x1C + 0x00:word32] + 0x00:word32] + eax_135:byte] = 0x20;
			Mem141[Mem138[fp - 0x1C + 0x00:word32] + 0x04:word32] = eax_135 + 0x01;
			Mem147[Mem141[Mem141[fp - 0x1C + 0x00:word32] + 0x00:word32] + Mem141[Mem141[(fp - 0x1C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			Mem156[fp - 0x28 + 0x00:word32] = 0x080D9BA0[(word32) (byte) (word32) Mem147[Mem147[Mem147[fp + 0x04:word32] + 0x04:word32] + Mem147[(fp - 0x10) + 0x00:word32]:byte] * 0x08];
			Mem158[fp - 44 + 0x00:word32] = Mem156[fp - 0x1C + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
			if (Mem158[Mem158[fp + 0x04:word32] + 0x08:word32][Mem158[fp - 0x10 + 0x00:word32] * 0x04] != 0x00)
			{
				Mem175[fp - 44 + 0x00:word32] = Mem158[Mem158[fp + 0x04:word32] + 0x08:word32][Mem158[fp - 0x10 + 0x00:word32] * 0x04];
				Mem177[fp - 0x28 + 0x00:word32] = html_quote(dwArg00);
				Mem178[fp - 44 + 0x00:word32] = 0x080D0EE4;
				byte bpl_179;
				Mem181[fp - 0x28 + 0x00:word32] = Sprintf(dwArg00, out bpl_179);
				Mem183[fp - 44 + 0x00:word32] = Mem181[fp - 0x1C + 0x00:word32];
				Strcat(dwArg00, dwArg04);
			}
		}
		Mem123[fp - 0x10 + 0x00:word32] = Mem48[fp - 0x10 + 0x00:word32] + 0x01;
	}
	if (Mem48[Mem48[fp - 0x1C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem48[Mem48[(fp - 0x1C) + 0x00:word32] + 0x08:word32])
	{
		Mem102[fp - 44 + 0x00:word32] = Mem48[fp - 0x1C + 0x00:word32];
		Strgrow(dwArg00);
	}
	word32 eax_83 = Mem48[Mem48[fp - 0x1C + 0x00:word32] + 0x04:word32];
	Mem86[Mem48[Mem48[fp - 0x1C + 0x00:word32] + 0x00:word32] + eax_83:byte] = 0x3E;
	Mem89[Mem86[fp - 0x1C + 0x00:word32] + 0x04:word32] = eax_83 + 0x01;
	Mem95[Mem89[Mem89[fp - 0x1C + 0x00:word32] + 0x00:word32] + Mem89[Mem89[(fp - 0x1C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
	return Mem95[fp - 0x1C + 0x00:word32];
}

// 080B08E4: void do_update(Stack word32 dwArg04)
void do_update(word32 dwArg04)
{
	Mem13[dwArg04 + 0x0C:word32] = 0x00;
	Mem17[dwArg04 + 0x08:word32] = Mem13[dwArg04 + 0x0C:word32];
	word32 ebx_19 = Mem17[dwArg04 + 0x18:word32];
	word32 esp_29;
	word32 ebp_30;
	word32 ebx_31;
	byte SCZO_32;
	word32 eax_33;
	word32 edx_34;
	word32 ecx_35;
	byte SZO_36;
	ebx_19();
	if (eax_33 <= 0x00)
		Mem49[dwArg04 + 0x15:byte] = 0x01;
	else
		Mem56[dwArg04 + 0x0C:word32] = Mem17[dwArg04 + 0x0C:word32] + eax_33;
}

// 080B094E: Register word32 buffer_read(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 buffer_read(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 ecx_14 = Mem0[dwArg04 + 0x0C:word32] - Mem0[dwArg04 + 0x08:word32];
	word32 dwLoc10_16 = ecx_14;
	if (ecx_14 > 0x00)
	{
		if (ecx_14 > dwArg0C)
			dwLoc10_16 = dwArg0C;
		word32 esp_50;
		word32 ebp_51;
		byte SCZO_52;
		word32 eax_53;
		word32 edx_54;
		word32 ecx_55;
		byte SZO_56;
		!bcopy();
		Mem63[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x08:word32] + dwLoc10_16;
	}
	return dwLoc10_16;
}

// 080B09B7: void init_buffer(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void init_buffer(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem13[dwArg04 + 0x04:word32] = dwArg0C;
	Mem15[dwArg04 + 0x08:word32] = 0x00;
	if (dwArg08 != 0x00)
	{
		Mem30[dwArg04 + 0x00:word32] = dwArg08;
		Mem33[dwArg04 + 0x0C:word32] = dwArg0C;
	}
	else
	{
		word32 esp_37;
		word32 ebp_38;
		byte SCZO_39;
		word32 eax_40;
		word32 edx_41;
		byte Z_42;
		!GC_malloc_atomic();
		Mem45[dwArg04 + 0x00:word32] = eax_40;
		Mem47[dwArg04 + 0x0C:word32] = 0x00;
	}
	Mem24[dwArg04 + 0x15:byte] = 0x00;
}

// 080B0A14: void init_base_stream(Stack word32 dwArg04, Stack word32 dwArg08)
void init_base_stream(word32 dwArg04, word32 dwArg08)
{
	init_buffer(dwArg04, 0x00, dwArg08);
}

// 080B0A36: void init_str_stream(Stack word32 dwArg04, Stack word32 dwArg08)
void init_str_stream(word32 dwArg04, word32 dwArg08)
{
	init_buffer(dwArg04, Mem0[dwArg08 + 0x00:word32], Mem0[dwArg08 + 0x04:word32]);
}

// 080B0A5C: Register word32 newInputStream(Register word32 eax, Stack word32 dwArg04)
word32 newInputStream(word32 eax, word32 dwArg04)
{
	word32 eax_16;
	if (dwArg04 < 0x00)
		eax_16 = 0x00;
	else
	{
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte S_30;
		word32 eax_31;
		word32 edx_32;
		!GC_malloc();
		init_base_stream(eax_31, 0x2000);
		Mem38[eax_31 + 0x14:byte] = 0x00;
		word32 esp_40;
		word32 ebp_41;
		byte SCZO_42;
		byte S_43;
		word32 eax_44;
		word32 edx_45;
		!GC_malloc();
		Mem47[eax_31 + 0x10:word32] = eax_44;
		Mem51[Mem47[eax_31 + 0x10:word32] + 0x00:word32] = dwArg04;
		Mem54[eax_31 + 0x18:word32] = 134943493;
		Mem57[eax_31 + 0x1C:word32] = 0x080B12F0;
		eax_16 = eax_31;
	}
	return eax_16;
}

// 080B0AD0: Register word32 newFileStream(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08)
word32 newFileStream(word32 eax, word32 dwArg04, word32 dwArg08)
{
	word32 eax_16;
	if (dwArg04 == 0x00)
		eax_16 = 0x00;
	else
	{
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte Z_30;
		word32 eax_31;
		word32 edx_32;
		!GC_malloc();
		init_base_stream(eax_31, 0x2000);
		Mem38[eax_31 + 0x14:byte] = 0x01;
		word32 esp_40;
		word32 ebp_41;
		byte SCZO_42;
		byte Z_43;
		word32 eax_44;
		word32 edx_45;
		!GC_malloc();
		Mem48[eax_31 + 0x10:word32] = eax_44;
		Mem52[Mem48[eax_31 + 0x10:word32] + 0x00:word32] = dwArg04;
		if (dwArg08 != 0x00)
			Mem66[Mem52[eax_31 + 0x10:word32] + 0x04:word32] = dwArg08;
		else
			Mem70[Mem52[eax_31 + 0x10:word32] + 0x04:word32] = 0x0804A08C;
		Mem58[eax_31 + 0x18:word32] = 0x080B1340;
		Mem61[eax_31 + 0x1C:word32] = 0x080B1328;
		eax_16 = eax_31;
	}
	return eax_16;
}

// 080B0B6B: Register word32 newStrStream(Register word32 eax, Stack word32 dwArg04)
word32 newStrStream(word32 eax, word32 dwArg04)
{
	word32 eax_16;
	if (dwArg04 == 0x00)
		eax_16 = 0x00;
	else
	{
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte Z_30;
		word32 eax_31;
		word32 edx_32;
		!GC_malloc();
		init_str_stream(eax_31, dwArg04);
		Mem39[eax_31 + 0x14:byte] = 0x02;
		Mem42[eax_31 + 0x10:word32] = dwArg04;
		Mem45[eax_31 + 0x18:word32] = 134943595;
		Mem47[eax_31 + 0x1C:word32] = 0x00;
		eax_16 = eax_31;
	}
	return eax_16;
}

// 080B0BC9: Register word32 newEncodedStream(Stack word32 dwArg04, Stack word32 dwArg08)
word32 newEncodedStream(word32 dwArg04, word32 dwArg08)
{
	word32 eax_21;
	byte al_9 = (byte) dwArg08;
	if (dwArg04 != 0x00 && (al_9 == 0x02 || (al_9 == 0x01 || al_9 == 0x03)))
	{
		word32 esp_38;
		word32 ebp_39;
		byte SCZO_40;
		word32 eax_41;
		byte al_42;
		byte Z_43;
		word32 edx_44;
		byte dl_45;
		!GC_malloc();
		init_base_stream(eax_41, 0x2000);
		Mem51[eax_41 + 0x14:byte] = 0x04;
		word32 esp_53;
		word32 ebp_54;
		byte SCZO_55;
		word32 eax_56;
		byte al_57;
		byte Z_58;
		word32 edx_59;
		byte dl_60;
		!GC_malloc();
		Mem63[eax_41 + 0x10:word32] = eax_56;
		Mem67[Mem63[eax_41 + 0x10:word32] + 0x00:word32] = dwArg04;
		Mem70[Mem67[eax_41 + 0x10:word32] + 0x08:word32] = 0x00;
		Mem75[Mem70[eax_41 + 0x10:word32] + 0x0C:byte] = (byte) (word32) al_9;
		Mem78[Mem75[eax_41 + 0x10:word32] + 0x04:word32] = 0x00;
		Mem81[eax_41 + 0x18:word32] = 0x080B138A;
		Mem84[eax_41 + 0x1C:word32] = 0x080B1375;
		eax_21 = eax_41;
	}
	else
		eax_21 = dwArg04;
	return eax_21;
}

// 080B0C7F: Register word32 ISclose(Stack word32 dwArg04)
word32 ISclose(word32 dwArg04)
{
	word32 eax_20;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x1C:word32] != 0x00)
	{
		byte al_42 = (byte) (word32) Mem0[dwArg04 + 0x14:byte];
		if (((int32) al_42 & 0x10) == 0x00)
		{
			word32 eax_50 = mySignal(0x02, 0x01);
			word32 edx_53 = Mem0[dwArg04 + 0x1C:word32];
			word32 esp_57;
			word32 ebp_58;
			byte SCZO_59;
			byte Z_60;
			word32 eax_61;
			byte SZO_62;
			byte C_63;
			byte al_64;
			word32 edx_65;
			edx_53();
			mySignal(0x02, eax_50);
			eax_20 = 0x00;
			return eax_20;
		}
	}
	eax_20 = ~0x00;
	return eax_20;
}

// 080B0CEF: Register byte ISgetc(Stack word32 dwArg04)
byte ISgetc(word32 dwArg04)
{
	byte al_19;
	if (dwArg04 == 0x00)
		al_19 = 0x00;
	else
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x15:byte] == 0x00 && Mem0[dwArg04 + 0x08:word32] == Mem0[dwArg04 + 0x0C:word32])
			do_update(dwArg04);
		if ((byte) (word32) Mem0[dwArg04 + 0x15:byte] == 0x00)
		{
			word32 edx_52 = Mem0[dwArg04 + 0x08:word32];
			al_19 = (byte) (word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + edx_52:byte];
			Mem61[dwArg04 + 0x08:word32] = edx_52 + 0x01;
		}
		else
			al_19 = 0x00;
	}
	return al_19;
}

// 080B0D61: void ISundogetc(Stack word32 dwArg04)
void ISundogetc(word32 dwArg04)
{
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x08:word32] > 0x00)
		Mem34[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x08:word32] - 0x01;
}

// 080B0DA1: Register word32 StrISgets(Stack word32 dwArg04)
word32 StrISgets(word32 dwArg04)
{
	word32 eax_138;
	word32 dwLoc18_118 = 0x00;
	if (dwArg04 == 0x00)
		eax_138 = 0x00;
	else
	{
		while (true)
		{
			eax_138 = (word32) Mem0[dwArg04 + 0x15:byte];
			byte al_60 = (byte) eax_138;
			if (al_60 != 0x00)
				break;
			if (Mem0[dwArg04 + 0x08:word32] != Mem0[dwArg04 + 0x0C:word32])
			{
				word32 esp_92;
				word32 ebp_93;
				byte SCZO_94;
				byte Z_95;
				word32 eax_96;
				byte al_97;
				byte SZO_98;
				byte C_99;
				word32 edx_100;
				word32 ecx_101;
				!memchr();
				if (eax_96 == 0x00)
				{
					if (dwLoc18_118 == 0x00)
					{
						word32 ecx_172 = Mem0[dwArg04 + 0x0C:word32] - Mem0[dwArg04 + 0x08:word32];
						Strnew_size(ecx_172 + 0x0A, ecx_172 + 0x0A);
						dwLoc18_118 = ecx_172 + 0x0A;
					}
					Strcat_charp_n(dwLoc18_118, Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x08:word32], Mem0[dwArg04 + 0x0C:word32] - Mem0[dwArg04 + 0x08:word32]);
					Mem166[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x0C:word32];
					continue;
				}
				else
				{
					word32 ecx_112 = eax_96 - (Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x08:word32]);
					if (dwLoc18_118 == 0x00)
					{
						Strnew_size(ecx_112 + 0x01, ecx_112 + 0x01);
						dwLoc18_118 = ecx_112 + 0x01;
					}
					Strcat_charp_n(dwLoc18_118, Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x08:word32], ecx_112 + 0x01);
					Mem137[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x08:word32] + (ecx_112 + 0x01);
					eax_138 = dwLoc18_118;
					return eax_138;
				}
			}
			do_update(dwArg04);
		}
		if (dwLoc18_118 == 0x00)
			Strnew(eax_138);
		else
			eax_138 = dwLoc18_118;
	}
	return eax_138;
}

// 080B0F1F: Register word32 StrmyISgets(Stack word32 dwArg04)
word32 StrmyISgets(word32 dwArg04)
{
	word32 eax_150;
	word32 dwLoc18_125 = 0x00;
	if (dwArg04 == 0x00)
		eax_150 = 0x00;
	else
	{
		while (true)
		{
			eax_150 = (word32) Mem0[dwArg04 + 0x15:byte];
			if ((byte) eax_150 != 0x00)
				break;
			if (Mem0[dwArg04 + 0x08:word32] != Mem0[dwArg04 + 0x0C:word32])
			{
				if (dwLoc18_125 != 0x00 && (Mem0[dwLoc18_125 + 0x04:word32] > 0x00 && (byte) ((word32) Mem0[Mem0[dwLoc18_125 + 0x00:word32] + (Mem0[dwLoc18_125 + 0x04:word32] - 0x01):byte]) == 0x0D))
				{
					if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x08:word32]:byte] == 0x0A)
					{
						if (Mem0[dwLoc18_125 + 0x04:word32] + 0x01 >= Mem0[dwLoc18_125 + 0x08:word32])
							Strgrow(dwLoc18_125);
						word32 edx_256 = Mem0[dwLoc18_125 + 0x04:word32];
						word32 eax_262 = Mem0[dwArg04 + 0x08:word32];
						Mem267[Mem0[dwLoc18_125 + 0x00:word32] + edx_256:byte] = (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + eax_262:byte];
						Mem270[dwLoc18_125 + 0x04:word32] = edx_256 + 0x01;
						Mem273[dwArg04 + 0x08:word32] = eax_262 + 0x01;
						Mem279[Mem273[dwLoc18_125 + 0x00:word32] + Mem273[dwLoc18_125 + 0x04:word32]:byte] = 0x00;
					}
					eax_150 = dwLoc18_125;
					return eax_150;
				}
				word32 dwLoc1C_100 = Mem0[dwArg04 + 0x08:word32] + 0x01;
				while (Mem0[dwArg04 + 0x0C:word32] > dwLoc1C_100 && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc1C_100:byte]) != 0x0A && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc1C_100:byte]) != 0x0D))
					dwLoc1C_100 = dwLoc1C_100 + 0x01;
				if (Mem0[dwArg04 + 0x0C:word32] <= dwLoc1C_100)
				{
					if (dwLoc18_125 == 0x00)
					{
						word32 ecx_186 = Mem0[dwArg04 + 0x0C:word32] - Mem0[dwArg04 + 0x08:word32];
						Strnew_size(ecx_186 + 0x0A, ecx_186 + 0x0A);
						dwLoc18_125 = ecx_186 + 0x0A;
					}
					Strcat_charp_n(dwLoc18_125, Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x08:word32], Mem0[dwArg04 + 0x0C:word32] - Mem0[dwArg04 + 0x08:word32]);
					Mem180[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x0C:word32];
					continue;
				}
				else
				{
					word32 ecx_119 = dwLoc1C_100 - Mem0[dwArg04 + 0x08:word32];
					if (dwLoc18_125 == 0x00)
					{
						Strnew_size(ecx_119 + 11, ecx_119 + 11);
						dwLoc18_125 = ecx_119 + 11;
					}
					Strcat_charp_n(dwLoc18_125, Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x08:word32], ecx_119 + 0x01);
					Mem141[dwArg04 + 0x08:word32] = dwLoc1C_100 + 0x00;
					if ((byte) (word32) Mem141[Mem141[dwArg04 + 0x00:word32] + dwLoc1C_100:byte] != 0x0A)
						continue;
					eax_150 = dwLoc18_125;
					return eax_150;
				}
			}
			do_update(dwArg04);
		}
		if (dwLoc18_125 == 0x00)
			Strnew(eax_150);
		else
			eax_150 = dwLoc18_125;
	}
	return eax_150;
}

// 080B116F: Register word32 ISread(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 ISread(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_101;
	if (dwArg04 != 0x00)
	{
		byte al_53 = (byte) (word32) Mem0[dwArg04 + 0x15:byte];
		if (al_53 == 0x00)
		{
			word32 ecx_71 = dwArg0C - buffer_read(dwArg04, Mem0[dwArg08 + 0x00:word32], dwArg0C);
			word32 dwLoc10_134 = ecx_71;
			if (Mem0[dwArg04 + 0x08:word32] == Mem0[dwArg04 + 0x0C:word32])
			{
				word32 ecx_106 = Mem0[dwArg04 + 0x18:word32];
				word32 esp_117;
				word32 ebp_118;
				word32 ebx_119;
				byte SCZO_120;
				byte Z_121;
				word32 eax_122;
				byte al_123;
				byte SZO_124;
				byte C_125;
				word32 edx_126;
				word32 ecx_127;
				ecx_106();
				word32 dwLoc14_128 = eax_122;
				if (eax_122 <= 0x00)
				{
					Mem137[dwArg04 + 0x15:byte] = 0x01;
					dwLoc14_128 = 0x00;
				}
				dwLoc10_134 = ecx_71 - dwLoc14_128;
			}
			Strtruncate(dwArg08, dwArg0C - dwLoc10_134);
			if (Mem0[dwArg08 + 0x04:word32] > 0x00)
				eax_101 = 0x01;
			else
				eax_101 = 0x00;
			return eax_101;
		}
	}
	eax_101 = 0x00;
	return eax_101;
}

// 080B124F: Register word32 ISfileno(Stack word32 dwArg04)
word32 ISfileno(word32 dwArg04)
{
	word32 eax_15;
	if (dwArg04 == 0x00)
		eax_15 = ~0x00;
	else
	{
		word32 eax_30 = (int32) (byte) ((word32) Mem0[dwArg04 + 0x14:byte] & ~0x10);
		if (eax_30 != 0x01)
		{
			if (eax_30 != 0x04)
			{
				if (eax_30 == 0x00)
					eax_15 = Mem0[Mem0[dwArg04 + 0x10:word32] + 0x00:word32];
				else
					eax_15 = ~0x00;
			}
			else
				eax_15 = ISfileno(Mem0[Mem0[dwArg04 + 0x10:word32] + 0x00:word32]);
		}
		else
			eax_15 = fileno(Mem0[Mem0[dwArg04 + 0x10:word32] + 0x00:word32]);
	}
	return eax_15;
}

// 080B12B2: void ISeos(Stack word32 dwArg04)
void ISeos(word32 dwArg04)
{
	if ((byte) (word32) Mem0[dwArg04 + 0x15:byte] == 0x00 && Mem0[dwArg04 + 0x08:word32] == Mem0[dwArg04 + 0x0C:word32])
		do_update(dwArg04);
}

// 080B12F0: void basic_close(Stack word32 dwArg04)
void basic_close(word32 dwArg04)
{
	close(Mem0[dwArg04 + 0x00:word32]);
}

// 080B1305: void basic_read(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void basic_read(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_13 = Mem0[dwArg04 + 0x00:word32];
	byte al_20 = DPB((byte) eax_13, read(eax_13, dwArg08, dwArg0C), 0);
}

// 080B1328: void file_close(Stack word32 dwArg04)
void file_close(word32 dwArg04)
{
	word32 edx_11 = Mem0[dwArg04 + 0x04:word32];
	word32 esp_15;
	word32 ebp_16;
	byte SCZO_17;
	word32 eax_18;
	word32 edx_19;
	edx_11();
}

// 080B1340: void file_read(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void file_read(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	fread(dwArg08, 0x01, dwArg0C, Mem0[dwArg04 + 0x00:word32]);
}

// 080B136B: void str_read()
void str_read()
{
}

// 080B1375: void ens_close(Stack word32 dwArg04)
void ens_close(word32 dwArg04)
{
	ISclose(Mem0[dwArg04 + 0x00:word32]);
}

// 080B138A: void ens_read(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ens_read(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg04 + 0x04:word32] == 0x00 || Mem0[dwArg04 + 0x08:word32] == Mem0[Mem0[dwArg04 + 0x04:word32] + 0x04:word32])
	{
		Mem99[dwArg04 + 0x04:word32] = StrmyISgets(Mem0[dwArg04 + 0x00:word32]);
		if (Mem99[Mem99[dwArg04 + 0x04:word32] + 0x04:word32] == 0x00)
			return;
		cleanup_line(Mem99[dwArg04 + 0x04:word32], 0x01);
		if ((byte) (word32) Mem99[dwArg04 + 0x0C:byte] == 0x01)
			Strchop(Mem99[dwArg04 + 0x04:word32]);
		else if ((byte) (word32) Mem99[dwArg04 + 0x0C:byte] == 0x03)
		{
			if (strncmp(Mem99[Mem99[dwArg04 + 0x04:word32] + 0x00:word32], 0x080D12E0, 0x05) == 0x00)
				Mem196[dwArg04 + 0x04:word32] = StrmyISgets(Mem99[dwArg04 + 0x00:word32]);
			Strchop(Mem99[dwArg04 + 0x04:word32]);
		}
		if ((byte) (word32) Mem99[dwArg04 + 0x0C:byte] == 0x02)
			Mem148[dwArg04 + 0x04:word32] = decodeQP(fp - 0x10);
		else if ((byte) (word32) Mem99[dwArg04 + 0x0C:byte] == 0x01)
			Mem158[dwArg04 + 0x04:word32] = decodeB(fp - 0x10);
		else if ((byte) (word32) Mem99[dwArg04 + 0x0C:byte] == 0x03)
			Mem168[dwArg04 + 0x04:word32] = decodeU(fp - 0x10);
		Mem143[dwArg04 + 0x08:word32] = 0x00;
	}
	if (Mem0[Mem0[dwArg04 + 0x04:word32] + 0x04:word32] - Mem0[dwArg04 + 0x08:word32] < dwArg0C)
		dwArg0C = Mem0[Mem0[dwArg04 + 0x04:word32] + 0x04:word32] - Mem0[dwArg04 + 0x08:word32];
	word32 esp_64;
	word32 ebp_65;
	byte SCZO_66;
	word32 eax_67;
	byte SZO_68;
	byte C_69;
	byte Z_70;
	word32 edx_71;
	byte al_72;
	word32 ecx_73;
	byte SO_74;
	!bcopy();
	Mem81[dwArg04 + 0x08:word32] = Mem0[dwArg04 + 0x08:word32] + dwArg0C;
}

// 080B1538: void Strnew(Register word32 eax)
void Strnew(word32 eax)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	word32 esp_16;
	word32 ebp_17;
	byte SCZO_18;
	word32 eax_19;
	word32 edx_20;
	!GC_malloc_atomic();
	Mem23[eax_12 + 0x00:word32] = eax_19;
	Mem26[Mem23[eax_12 + 0x00:word32] + 0x00:byte] = 0x00;
	Mem28[eax_12 + 0x08:word32] = 0x20;
	Mem30[eax_12 + 0x04:word32] = 0x00;
}

// 080B1581: Register word32 Strnew_size(Register word32 eax, Stack word32 dwArg04)
word32 Strnew_size(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	word32 esp_20;
	word32 ebp_21;
	byte SCZO_22;
	word32 eax_23;
	word32 edx_24;
	!GC_malloc_atomic();
	Mem27[eax_12 + 0x00:word32] = eax_23;
	Mem30[Mem27[eax_12 + 0x00:word32] + 0x00:byte] = 0x00;
	Mem34[eax_12 + 0x08:word32] = dwArg04 + 0x01;
	Mem36[eax_12 + 0x04:word32] = 0x00;
	return dwArg04 + 0x01;
}

// 080B15CE: void Strnew_charp(Register word32 eax, Stack word32 dwArg04)
void Strnew_charp(word32 eax, word32 dwArg04)
{
	if (dwArg04 == 0x00)
		Strnew(eax);
	else
	{
		word32 esp_30;
		word32 ebp_31;
		byte SCZO_32;
		byte Z_33;
		word32 eax_34;
		word32 edx_35;
		!GC_malloc();
		word32 esp_45;
		word32 ebp_46;
		byte SCZO_47;
		byte Z_48;
		word32 eax_49;
		word32 edx_50;
		!GC_malloc_atomic();
		word32 eax_39 = strlen(dwArg04);
		Mem53[eax_34 + 0x00:word32] = eax_49;
		Mem56[eax_34 + 0x08:word32] = eax_39 + 0x01;
		Mem60[eax_34 + 0x04:word32] = eax_39;
		word32 esp_68;
		word32 ebp_69;
		byte SCZO_70;
		byte Z_71;
		word32 eax_72;
		word32 edx_73;
		!bcopy();
	}
}

// 080B1648: void Strnew_m_charp(Register word32 eax, Stack word32 dwArg04)
void Strnew_m_charp(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	word32 dwLoc10_11 = fp + 0x08;
	while (dwArg04 != 0x00)
	{
		Strcat_charp(eax, dwArg04);
		dwLoc10_11 = dwLoc10_11 + 0x04;
		dwArg04 = Mem0[dwLoc10_11 + 0x00:word32];
	}
}

// 080B1689: Register word32 Strnew_charp_n(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 edxOut)
word32 Strnew_charp_n(word32 eax, word32 dwArg04, word32 dwArg08, ptr32 & edxOut)
{
	word32 eax_15;
	if (dwArg04 == 0x00)
	{
		eax_15 = dwArg08;
		word32 edx_25;
		*edxOut = Strnew_size(dwArg08, dwArg08);
	}
	else
	{
		word32 esp_32;
		word32 ebp_33;
		byte SCZO_34;
		byte Z_35;
		word32 eax_36;
		word32 edx_37;
		!GC_malloc();
		word32 esp_43;
		word32 ebp_44;
		byte SCZO_45;
		byte Z_46;
		word32 eax_47;
		word32 edx_48;
		!GC_malloc_atomic();
		Mem51[eax_36 + 0x00:word32] = eax_47;
		Mem55[eax_36 + 0x08:word32] = dwArg08 + 0x01;
		Mem58[eax_36 + 0x04:word32] = dwArg08;
		word32 esp_66;
		word32 ebp_67;
		byte SCZO_68;
		byte Z_69;
		word32 eax_70;
		word32 edx_71;
		!bcopy();
		word32 edx_73 = Mem58[eax_36 + 0x00:word32];
		*edxOut = edx_73;
		Mem76[edx_73 + dwArg08:byte] = 0x00;
		eax_15 = eax_36;
	}
	return eax_15;
}

// 080B1709: Register word32 Strdup(Stack word32 dwArg04)
word32 Strdup(word32 dwArg04)
{
	word32 eax_11 = Mem0[dwArg04 + 0x04:word32];
	Strnew_size(eax_11, eax_11);
	Strcopy(eax_11, dwArg04);
	return eax_11;
}

// 080B1737: void Strclear(Stack word32 dwArg04)
void Strclear(word32 dwArg04)
{
	Mem8[dwArg04 + 0x04:word32] = 0x00;
	Mem11[Mem8[dwArg04 + 0x00:word32] + 0x00:byte] = 0x00;
}

// 080B174E: void Strfree(Stack word32 dwArg04)
void Strfree(word32 dwArg04)
{
	word32 esp_13;
	word32 ebp_14;
	byte SCZO_15;
	word32 eax_16;
	!GC_free();
	word32 esp_19;
	word32 ebp_20;
	byte SCZO_21;
	word32 eax_22;
	!GC_free();
}

// 080B176E: void Strcopy(Stack word32 dwArg04, Stack word32 dwArg08)
void Strcopy(word32 dwArg04, word32 dwArg08)
{
	word32 edx_10 = Mem0[dwArg04 + 0x08:word32];
	if (edx_10 < Mem0[dwArg08 + 0x04:word32] + 0x01)
	{
		word32 esp_49;
		word32 ebp_50;
		byte SCZO_51;
		word32 eax_52;
		word32 edx_53;
		byte SO_54;
		word32 ecx_55;
		!GC_free();
		word32 esp_61;
		word32 ebp_62;
		byte SCZO_63;
		word32 eax_64;
		word32 edx_65;
		byte SO_66;
		word32 ecx_67;
		!GC_malloc_atomic();
		Mem70[dwArg04 + 0x00:word32] = eax_64;
		Mem75[dwArg04 + 0x08:word32] = Mem70[dwArg08 + 0x04:word32] + 0x01;
	}
	word32 esp_29;
	word32 ebp_30;
	byte SCZO_31;
	word32 eax_32;
	word32 edx_33;
	byte SO_34;
	word32 ecx_35;
	!bcopy();
	Mem39[dwArg04 + 0x04:word32] = Mem0[dwArg08 + 0x04:word32];
}

// 080B17EE: void Strcopy_charp(Stack word32 dwArg04, Stack word32 dwArg08)
void Strcopy_charp(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 == 0x00)
		Mem24[dwArg04 + 0x04:word32] = 0x00;
	else
	{
		word32 eax_33 = strlen(dwArg08);
		if (Mem0[dwArg04 + 0x08:word32] < eax_33 + 0x01)
		{
			word32 esp_65;
			word32 ebp_66;
			byte SCZO_67;
			byte Z_68;
			word32 eax_69;
			word32 edx_70;
			byte SO_71;
			!GC_free();
			word32 esp_76;
			word32 ebp_77;
			byte SCZO_78;
			byte Z_79;
			word32 eax_80;
			word32 edx_81;
			byte SO_82;
			!GC_malloc_atomic();
			Mem85[dwArg04 + 0x00:word32] = eax_80;
			Mem89[dwArg04 + 0x08:word32] = eax_33 + 0x01;
		}
		word32 esp_52;
		word32 ebp_53;
		byte SCZO_54;
		byte Z_55;
		word32 eax_56;
		word32 edx_57;
		byte SO_58;
		!bcopy();
		Mem61[dwArg04 + 0x04:word32] = eax_33;
	}
}

// 080B187D: void Strcopy_charp_n(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void Strcopy_charp_n(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 == 0x00)
		Mem26[dwArg04 + 0x04:word32] = 0x00;
	else
	{
		if (Mem0[dwArg04 + 0x08:word32] < dwArg0C + 0x01)
		{
			word32 esp_64;
			word32 ebp_65;
			byte SCZO_66;
			word32 eax_67;
			byte Z_68;
			word32 edx_69;
			byte SO_70;
			!GC_free();
			word32 esp_75;
			word32 ebp_76;
			byte SCZO_77;
			word32 eax_78;
			byte Z_79;
			word32 edx_80;
			byte SO_81;
			!GC_malloc_atomic();
			Mem84[dwArg04 + 0x00:word32] = eax_78;
			Mem88[dwArg04 + 0x08:word32] = dwArg0C + 0x01;
		}
		word32 esp_46;
		word32 ebp_47;
		byte SCZO_48;
		word32 eax_49;
		byte Z_50;
		word32 edx_51;
		byte SO_52;
		!bcopy();
		Mem57[Mem0[dwArg04 + 0x00:word32] + dwArg0C:byte] = 0x00;
		Mem60[dwArg04 + 0x04:word32] = dwArg0C;
	}
}

// 080B190D: void Strcat_charp_n(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void Strcat_charp_n(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 != 0x00)
	{
		word32 eax_29 = Mem0[dwArg04 + 0x04:word32] + dwArg0C;
		if (Mem0[dwArg04 + 0x08:word32] < eax_29 + 0x01)
		{
			word32 esp_88;
			word32 ebp_89;
			byte SCZO_90;
			byte Z_91;
			word32 eax_92;
			byte SO_93;
			word32 edx_94;
			word32 ecx_95;
			!GC_malloc_atomic();
			Mem98[dwArg04 + 0x00:word32] = eax_92;
			word32 eax_76 = (eax_29 + 0x01) * 0x02 + (eax_29 + 0x01);
			Mem101[dwArg04 + 0x08:word32] = (eax_76 >>u 0x1F) + eax_76 >> 0x01;
			word32 esp_111;
			word32 ebp_112;
			byte SCZO_113;
			byte Z_114;
			word32 eax_115;
			byte SO_116;
			word32 edx_117;
			word32 ecx_118;
			!bcopy();
			word32 esp_121;
			word32 ebp_122;
			byte SCZO_123;
			byte Z_124;
			word32 eax_125;
			byte SO_126;
			word32 edx_127;
			word32 ecx_128;
			!GC_free();
		}
		word32 esp_49;
		word32 ebp_50;
		byte SCZO_51;
		byte Z_52;
		word32 eax_53;
		byte SO_54;
		word32 edx_55;
		word32 ecx_56;
		!bcopy();
		Mem63[dwArg04 + 0x04:word32] = Mem0[dwArg04 + 0x04:word32] + dwArg0C;
		Mem69[Mem63[dwArg04 + 0x00:word32] + Mem63[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080B19E6: void Strcat(Stack word32 dwArg04, Stack word32 dwArg08)
void Strcat(word32 dwArg04, word32 dwArg08)
{
	Strcat_charp_n(dwArg04, Mem0[dwArg08 + 0x00:word32], Mem0[dwArg08 + 0x04:word32]);
}

// 080B1A0C: void Strcat_charp(Stack word32 dwArg04, Stack word32 dwArg08)
void Strcat_charp(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 != 0x00)
		Strcat_charp_n(dwArg04, dwArg08, strlen(dwArg08));
}

// 080B1A3E: void Strcat_m_charp(Stack word32 dwArg04)
void Strcat_m_charp(word32 dwArg04)
{
	word32 dwLoc10_13 = fp + 0x08;
	while (true)
	{
		dwLoc10_13 = dwLoc10_13 + 0x04;
		word32 eax_21 = Mem0[dwLoc10_13 + 0x00:word32];
		if (eax_21 == 0x00)
			break;
		Strcat_charp_n(dwArg04, eax_21, strlen(eax_21));
	}
}

// 080B1A83: void Strgrow(Stack word32 dwArg04)
void Strgrow(word32 dwArg04)
{
	word32 ecx_26 = 0x33333333 - ((Mem0[dwArg04 + 0x04:word32] * 0x03) * 0x02 >> 0x1F);
	word32 dwLoc14_28 = ecx_26;
	if (Mem0[dwArg04 + 0x04:word32] == ecx_26)
		dwLoc14_28 = ecx_26 + 0x02;
	word32 esp_36;
	word32 ebp_37;
	byte SCZO_38;
	word32 eax_39;
	word32 edx_40;
	word32 ecx_41;
	byte Z_42;
	!GC_malloc_atomic();
	Mem45[dwArg04 + 0x00:word32] = eax_39;
	Mem48[dwArg04 + 0x08:word32] = dwLoc14_28;
	word32 esp_58;
	word32 ebp_59;
	byte SCZO_60;
	word32 eax_61;
	word32 edx_62;
	word32 ecx_63;
	byte Z_64;
	!bcopy();
	word32 esp_67;
	word32 ebp_68;
	byte SCZO_69;
	word32 eax_70;
	word32 edx_71;
	word32 ecx_72;
	byte Z_73;
	!GC_free();
}

// 080B1B11: void Strsubstr(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void Strsubstr(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Strnew(eax);
	if (Mem0[dwArg04 + 0x04:word32] > dwArg08)
	{
		word32 dwLoc14_101 = 0x00;
		while (dwLoc14_101 < dwArg0C && dwArg08 + dwLoc14_101 < Mem0[dwArg04 + 0x04:word32])
		{
			if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
				Strgrow(eax);
			word32 eax_79 = Mem0[eax + 0x04:word32];
			Mem90[Mem0[eax + 0x00:word32] + eax_79:byte] = (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (dwArg08 + dwLoc14_101):byte];
			Mem93[eax + 0x04:word32] = eax_79 + 0x01;
			Mem99[Mem93[eax + 0x00:word32] + Mem93[eax + 0x04:word32]:byte] = 0x00;
			dwLoc14_101 = dwLoc14_101 + 0x01;
		}
	}
}

// 080B1BC2: void Strlower(Stack word32 dwArg04)
void Strlower(word32 dwArg04)
{
	word32 dwLoc08_19 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc08_19)
	{
		byte al_49;
		word32 edx_32 = Mem0[dwArg04 + 0x00:word32] + dwLoc08_19;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_19:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			al_49 = (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_19:byte] | 0x20);
		else
			al_49 = (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_19:byte];
		Mem52[edx_32 + 0x00:byte] = al_49;
		dwLoc08_19 = dwLoc08_19 + 0x01;
	}
}

// 080B1C31: void Strupper(Stack word32 dwArg04)
void Strupper(word32 dwArg04)
{
	word32 dwLoc08_19 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc08_19)
	{
		byte al_49;
		word32 edx_32 = Mem0[dwArg04 + 0x00:word32] + dwLoc08_19;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_19:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			al_49 = (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_19:byte] & ~0x20);
		else
			al_49 = (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_19:byte];
		Mem52[edx_32 + 0x00:byte] = al_49;
		dwLoc08_19 = dwLoc08_19 + 0x01;
	}
}

// 080B1CA0: void Strchop(Stack word32 dwArg04)
void Strchop(word32 dwArg04)
{
	while (((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte] == 0x0A || (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte]) == 0x0D) && Mem0[dwArg04 + 0x04:word32] > 0x00)
		Mem47[dwArg04 + 0x04:word32] = Mem0[dwArg04 + 0x04:word32] - 0x01;
	Mem32[Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x04:word32]:byte] = 0x00;
}

// 080B1D01: void Strinsert_char(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void Strinsert_char(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	byte al_9 = (byte) dwArg0C;
	if (dwArg08 >= 0x00 && Mem0[dwArg04 + 0x04:word32] >= dwArg08)
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x02 > Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 dwLoc10_43 = Mem0[dwArg04 + 0x04:word32];
		while (dwLoc10_43 > dwArg08)
		{
			Mem82[Mem0[dwArg04 + 0x00:word32] + dwLoc10_43:byte] = (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (dwLoc10_43 - 0x01):byte];
			dwLoc10_43 = dwLoc10_43 - 0x01;
		}
		word32 edx_53 = Mem0[dwArg04 + 0x00:word32];
		Mem58[dwArg04 + 0x04:word32] = Mem0[dwArg04 + 0x04:word32] + 0x01;
		Mem62[edx_53 + Mem58[dwArg04 + 0x04:word32]:byte] = 0x00;
		Mem70[Mem62[dwArg04 + 0x00:word32] + dwArg08:byte] = (byte) (word32) al_9;
	}
}

// 080B1DAF: void Strinsert_charp(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void Strinsert_charp(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	while ((byte) (word32) Mem0[dwArg0C + 0x00:byte] != 0x00)
	{
		Strinsert_char(dwArg04, dwArg08, (int32) (byte) (word32) Mem0[dwArg0C + 0x00:byte]);
		dwArg0C = dwArg0C + 0x01;
		dwArg08 = dwArg08 + 0x01;
	}
}

// 080B1DEA: void Strdelete(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void Strdelete(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg04 + 0x04:word32] <= dwArg08 + dwArg0C)
	{
		Mem37[Mem0[dwArg04 + 0x00:word32] + dwArg08:byte] = 0x00;
		Mem40[dwArg04 + 0x04:word32] = dwArg08;
	}
	else
	{
		word32 dwLoc0C_44 = dwArg08;
		while (Mem0[dwArg04 + 0x04:word32] - dwArg0C > dwLoc0C_44)
		{
			Mem75[Mem0[dwArg04 + 0x00:word32] + dwLoc0C_44:byte] = (byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (dwLoc0C_44 + dwArg0C):byte];
			dwLoc0C_44 = dwLoc0C_44 + 0x01;
		}
		Mem59[Mem0[dwArg04 + 0x00:word32] + dwLoc0C_44:byte] = 0x00;
		Mem62[dwArg04 + 0x04:word32] = dwLoc0C_44;
	}
}

// 080B1E74: void Strtruncate(Stack word32 dwArg04, Stack word32 dwArg08)
void Strtruncate(word32 dwArg04, word32 dwArg08)
{
	Mem13[Mem0[dwArg04 + 0x00:word32] + dwArg08:byte] = 0x00;
	Mem16[dwArg04 + 0x04:word32] = dwArg08;
}

// 080B1E90: void Strshrink(Stack word32 dwArg04, Stack word32 dwArg08)
void Strshrink(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] <= dwArg08)
	{
		Mem19[dwArg04 + 0x04:word32] = 0x00;
		Mem22[Mem19[dwArg04 + 0x00:word32] + 0x00:byte] = 0x00;
	}
	else
	{
		Mem30[dwArg04 + 0x04:word32] = Mem0[dwArg04 + 0x04:word32] - dwArg08;
		Mem36[Mem30[dwArg04 + 0x00:word32] + Mem30[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080B1ED6: void Strremovefirstspaces(Stack word32 dwArg04)
void Strremovefirstspaces(word32 dwArg04)
{
	word32 dwLoc08_16 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc08_16 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_16:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc08_16 = dwLoc08_16 + 0x01;
	if (dwLoc08_16 != 0x00)
		Strdelete(dwArg04, 0x00, dwLoc08_16);
}

// 080B1F3B: void Strremovetrailingspaces(Stack word32 dwArg04)
void Strremovetrailingspaces(word32 dwArg04)
{
	word32 dwLoc08_13 = Mem0[dwArg04 + 0x04:word32] - 0x01;
	while (dwLoc08_13 >= 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc08_13:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc08_13 = dwLoc08_13 - 0x01;
	Mem35[dwArg04 + 0x04:word32] = dwLoc08_13 + 0x01;
	Mem42[Mem35[dwArg04 + 0x00:word32] + (dwLoc08_13 + 0x01):byte] = 0x00;
}

// 080B1F99: void Stralign_left(Stack word32 dwArg04, Stack word32 dwArg08)
void Stralign_left(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] >= dwArg08)
		Strdup(dwArg04);
	else
	{
		Strnew_size(dwArg08, dwArg08);
		Strcopy(dwArg08, dwArg04);
		word32 dwLoc14_44 = Mem0[dwArg04 + 0x04:word32];
		while (dwLoc14_44 < dwArg08)
		{
			if (Mem0[dwArg08 + 0x04:word32] + 0x01 >= Mem0[dwArg08 + 0x08:word32])
				Strgrow(dwArg08);
			word32 eax_64 = Mem0[dwArg08 + 0x04:word32];
			Mem67[Mem0[dwArg08 + 0x00:word32] + eax_64:byte] = 0x20;
			Mem70[dwArg08 + 0x04:word32] = eax_64 + 0x01;
			Mem76[Mem70[dwArg08 + 0x00:word32] + Mem70[dwArg08 + 0x04:word32]:byte] = 0x00;
			dwLoc14_44 = dwLoc14_44 + 0x01;
		}
	}
}

// 080B2041: void Stralign_right(Stack word32 dwArg04, Stack word32 dwArg08)
void Stralign_right(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] >= dwArg08)
		Strdup(dwArg04);
	else
	{
		Strnew_size(dwArg08, dwArg08);
		word32 dwLoc14_40 = Mem0[dwArg04 + 0x04:word32];
		while (dwLoc14_40 < dwArg08)
		{
			if (Mem0[dwArg08 + 0x04:word32] + 0x01 >= Mem0[dwArg08 + 0x08:word32])
				Strgrow(dwArg08);
			word32 eax_64 = Mem0[dwArg08 + 0x04:word32];
			Mem67[Mem0[dwArg08 + 0x00:word32] + eax_64:byte] = 0x20;
			Mem70[dwArg08 + 0x04:word32] = eax_64 + 0x01;
			Mem76[Mem70[dwArg08 + 0x00:word32] + Mem70[dwArg08 + 0x04:word32]:byte] = 0x00;
			dwLoc14_40 = dwLoc14_40 + 0x01;
		}
		Strcat(dwArg08, dwArg04);
	}
}

// 080B20E9: void Stralign_center(Stack word32 dwArg04, Stack word32 dwArg08)
void Stralign_center(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] >= dwArg08)
		Strdup(dwArg04);
	else
	{
		Strnew_size(dwArg08, dwArg08);
		word32 ecx_44 = dwArg08 - Mem0[dwArg04 + 0x04:word32];
		word32 eax_48 = (ecx_44 >>u 0x1F) + ecx_44;
		word32 dwLoc14_131 = 0x00;
		while (dwLoc14_131 < eax_48 >> 0x01)
		{
			if (Mem0[dwArg08 + 0x04:word32] + 0x01 >= Mem0[dwArg08 + 0x08:word32])
				Strgrow(dwArg08);
			word32 eax_117 = Mem0[dwArg08 + 0x04:word32];
			Mem120[Mem0[dwArg08 + 0x00:word32] + eax_117:byte] = 0x20;
			Mem123[dwArg08 + 0x04:word32] = eax_117 + 0x01;
			Mem129[Mem123[dwArg08 + 0x00:word32] + Mem123[dwArg08 + 0x04:word32]:byte] = 0x00;
			dwLoc14_131 = dwLoc14_131 + 0x01;
		}
		Strcat(dwArg08, dwArg04);
		word32 dwLoc14_102 = Mem0[dwArg04 + 0x04:word32] + (eax_48 >> 0x01);
		while (dwLoc14_102 < dwArg08)
		{
			if (Mem0[dwArg08 + 0x04:word32] + 0x01 >= Mem0[dwArg08 + 0x08:word32])
				Strgrow(dwArg08);
			word32 eax_88 = Mem0[dwArg08 + 0x04:word32];
			Mem91[Mem0[dwArg08 + 0x00:word32] + eax_88:byte] = 0x20;
			Mem94[dwArg08 + 0x04:word32] = eax_88 + 0x01;
			Mem100[Mem94[dwArg08 + 0x00:word32] + Mem94[dwArg08 + 0x04:word32]:byte] = 0x00;
			dwLoc14_102 = dwLoc14_102 + 0x01;
		}
	}
}

// 080B2210: Register word32 Sprintf(Stack word32 dwArg04, Register out ptr32 bplOut)
word32 Sprintf(word32 dwArg04, ptr32 & bplOut)
{
	word32 dwLoc10_114 = 0x00;
	word32 dwLoc14_10 = 0x00;
	word32 dwLoc1C_125 = dwArg04;
	while (true)
	{
		byte al_29 = (byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte];
		if (al_29 == 0x00)
			break;
		while (dwLoc14_10 != 0x01)
		{
			if (dwLoc14_10 != 0x02)
			{
				if (dwLoc14_10 == 0x00)
				{
					if ((byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte] == 0x25)
						dwLoc14_10 = 0x01;
					else
						dwLoc10_114 = dwLoc10_114 + 0x01;
				}
				goto l080B23FD;
			}
			if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte] + 0x080DB700:byte] & 0x04) == 0x00)
				goto l080B23FD;
			dwLoc14_10 = 0x01;
		}
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
		{
			word32 eax_168 = (int32) (byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte];
			if (eax_168 <=u 0x78)
			{
				word32 eax_173 = 0x080D130C[(eax_168 - 0x45) * 0x04];
				word32 esp_181;
				word32 ebp_182;
				byte SCZO_183;
				word32 eax_184;
				byte al_185;
				byte SZO_186;
				byte C_187;
				byte Z_188;
				word32 ecx_189;
				word32 edx_190;
				byte CZ_191;
				byte bpl_192;
				eax_173();
				return eax_184;
			}
			dwLoc14_10 = 0x00;
		}
		else if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte] + 0x080DB700:byte] & 0x08) == 0x00)
		{
			if ((byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte] == 0x2E)
				dwLoc14_10 = 0x02;
			else if ((byte) (word32) Mem0[dwLoc1C_125 + 0x00:byte] == 0x25)
			{
				dwLoc14_10 = 0x00;
				dwLoc10_114 = dwLoc10_114 + 0x01;
			}
		}
l080B23FD:
		dwLoc1C_125 = dwLoc1C_125 + 0x01;
	}
	word32 eax_53 = dwLoc10_114 * 0x02;
	Strnew_size(eax_53, eax_53);
	word32 esp_67;
	word32 ebp_68;
	byte SCZO_69;
	word32 eax_70;
	byte al_71;
	byte SZO_72;
	byte C_73;
	byte Z_74;
	word32 ecx_75;
	word32 edx_76;
	byte CZ_77;
	byte bpl_78;
	!vsprintf();
	Mem85[eax_53 + 0x04:word32] = strlen(Mem0[eax_53 + 0x00:word32]);
	if (Mem85[eax_53 + 0x04:word32] <= dwLoc10_114 * 0x02)
	{
		byte bpl_105;
		*bplOut = (byte) ebp;
		return eax_53;
	}
	else
	{
		fwrite(0x080D12F0, 0x01, 0x19, Mem85[0x0817C1E4:word32]);
		exit(0x01);
	}
}

// 080B249D: void Strfgets(Register word32 eax, Stack word32 dwArg04)
void Strfgets(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	do
	{
		byte al_23 = (byte) fgetc(dwArg04);
		if (feof(dwArg04) != 0x00 || ferror(dwArg04) != 0x00)
			return;
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_62 = Mem0[eax + 0x04:word32];
		Mem67[Mem0[eax + 0x00:word32] + eax_62:byte] = (byte) (word32) al_23;
		Mem70[eax + 0x04:word32] = eax_62 + 0x01;
		Mem76[Mem70[eax + 0x00:word32] + Mem70[eax + 0x04:word32]:byte] = 0x00;
	} while (al_23 != 0x0A);
}

// 080B2533: void Strfgetall(Register word32 eax, Stack word32 dwArg04)
void Strfgetall(word32 eax, word32 dwArg04)
{
	Strnew(eax);
	while (true)
	{
		byte al_23 = (byte) fgetc(dwArg04);
		if (feof(dwArg04) != 0x00 || ferror(dwArg04) != 0x00)
			break;
		if (Mem0[eax + 0x04:word32] + 0x01 >= Mem0[eax + 0x08:word32])
			Strgrow(eax);
		word32 eax_57 = Mem0[eax + 0x04:word32];
		Mem63[Mem0[eax + 0x00:word32] + eax_57:byte] = (byte) (word32) al_23;
		Mem66[eax + 0x04:word32] = eax_57 + 0x01;
		Mem72[Mem66[eax + 0x00:word32] + Mem66[eax + 0x04:word32]:byte] = 0x00;
	}
}

// 080B25C4: Register word32 strtoclen(Stack word32 dwArg04)
word32 strtoclen(word32 dwArg04)
{
	word32 esp_13;
	word32 ebp_14;
	byte SCZO_15;
	word32 eax_16;
	!strtoll();
	return eax_16;
}

// 080B25E7: Register word32 allocStr(Stack word32 dwArg04, Stack word32 dwArg08)
word32 allocStr(word32 dwArg04, word32 dwArg08)
{
	word32 eax_19;
	if (dwArg04 == 0x00)
		eax_19 = 0x00;
	else
	{
		if (dwArg08 < 0x00)
			dwArg08 = strlen(dwArg04);
		word32 esp_38;
		word32 ebp_39;
		byte SCZO_40;
		byte Z_41;
		word32 eax_42;
		byte S_43;
		word32 edx_44;
		!GC_malloc_atomic();
		if (eax_42 == 0x00)
		{
			fwrite(0x080D1990, 0x01, 0x30, Mem0[0x0817C1E4:word32]);
			exit(~0x00);
		}
		word32 esp_65;
		word32 ebp_66;
		byte SCZO_67;
		byte Z_68;
		word32 eax_69;
		byte S_70;
		word32 edx_71;
		!bcopy();
		Mem75[dwArg08 + eax_42:byte] = 0x00;
		eax_19 = eax_42;
	}
	return eax_19;
}

// 080B2683: void strCmp(Stack word32 dwArg04, Stack word32 dwArg08)
void strCmp(word32 dwArg04, word32 dwArg08)
{
	strcmp(Mem0[dwArg04 + 0x00:word32], Mem0[dwArg08 + 0x00:word32]);
}

// 080B26A1: void currentdir()
void currentdir()
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	!GC_malloc_atomic();
	word32 esp_17;
	word32 ebp_18;
	byte SCZO_19;
	word32 eax_20;
	!getcwd();
}

// 080B26CE: Register word32 cleanupName(Stack word32 dwArg04)
word32 cleanupName(word32 dwArg04)
{
	word32 eax_12 = allocStr(dwArg04, ~0x00);
	word32 dwLoc14_106 = eax_12;
	word32 dwLoc18_108 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc18_108 + 0x00:byte] != 0x00)
	{
		if (strncmp(dwLoc14_106, 0x080D19C1, 0x04) == 0x00)
		{
			if (dwLoc14_106 - 0x02 == eax_12 && strncmp(dwLoc14_106 - 0x02, 0x080D19C6, 0x02) == 0x00)
			{
				dwLoc14_106 = dwLoc14_106 + 0x03;
				dwLoc18_108 = dwLoc18_108 + 0x03;
			}
			else if (dwLoc14_106 - 0x03 >=u eax_12 && strncmp(dwLoc14_106 - 0x03, 0x080D19C9, 0x03) == 0x00)
			{
				dwLoc14_106 = dwLoc14_106 + 0x03;
				dwLoc18_108 = dwLoc18_108 + 0x03;
			}
			else
			{
				while (dwLoc14_106 != eax_12)
				{
					word32 v14_89 = dwLoc14_106 - 0x01;
					dwLoc14_106 = v14_89;
					if ((byte) (word32) Mem0[v14_89 + 0x00:byte] == 0x2F)
						break;
				}
				Mem80[dwLoc14_106 + 0x00:byte] = 0x00;
				word32 v15_81 = dwLoc18_108 + 0x03;
				strcat(eax_12, v15_81);
				dwLoc18_108 = v15_81;
			}
			continue;
		}
		if (strcmp(dwLoc14_106, 0x080D19C9) == 0x00)
		{
			if (dwLoc14_106 - 0x02 == eax_12 && strncmp(dwLoc14_106 - 0x02, 0x080D19C6, 0x02) == 0x00 || dwLoc14_106 - 0x03 >=u eax_12 && strncmp(dwLoc14_106 - 0x03, 0x080D19C9, 0x03) == 0x00)
				;
			else
			{
				while (dwLoc14_106 != eax_12)
				{
					word32 v16_170 = dwLoc14_106 - 0x01;
					dwLoc14_106 = v16_170;
					if ((byte) (word32) Mem0[v16_170 + 0x00:byte] == 0x2F)
						break;
				}
				Mem169[dwLoc14_106 + 0x01:byte] = 0x00;
			}
			return eax_12;
		}
		if (strncmp(dwLoc14_106, 0x080D19CD, 0x03) != 0x00)
		{
			if (strcmp(dwLoc14_106, 0x080D19D1) != 0x00)
			{
				if (strncmp(dwLoc14_106, 0x080D19D4, 0x02) == 0x00)
				{
					Mem234[dwLoc14_106 + 0x00:byte] = 0x00;
					word32 v20_235 = dwLoc18_108 + 0x01;
					strcat(eax_12, v20_235);
					dwLoc18_108 = v20_235;
				}
				else
				{
					dwLoc14_106 = dwLoc14_106 + 0x01;
					dwLoc18_108 = dwLoc18_108 + 0x01;
				}
				continue;
			}
			else
			{
				Mem224[dwLoc14_106 + 0x01:byte] = 0x00;
				return eax_12;
			}
		}
		Mem204[dwLoc14_106 + 0x00:byte] = 0x00;
		word32 v18_205 = dwLoc18_108 + 0x02;
		strcat(eax_12, v18_205);
		dwLoc18_108 = v18_205;
	}
	return eax_12;
}

// 080B2925: Register word32 expandPath(Stack word32 dwArg04)
word32 expandPath(word32 dwArg04)
{
	word32 eax_105;
	if (dwArg04 == 0x00)
	{
		eax_105 = 0x00;
		return eax_105;
	}
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x7E)
	{
		word32 dwLoc18_140;
		byte al_72 = (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x01:byte] + 0x080DB700:byte];
		word32 dwLoc10_113 = dwArg04 + 0x01;
		if (((word32) al_72 & 0x04) != 0x00)
		{
			word32 dwLoc14_125;
			word32 eax_119 = strchr(dwArg04 + 0x01, '/');
			if (eax_119 != 0x00)
			{
				word32 ecx_144 = eax_119 - (dwArg04 + 0x01);
				word32 eax_150 = allocStr(dwArg04 + 0x01, ecx_144);
				word32 esp_152;
				word32 ebp_153;
				byte SCZO_154;
				byte Z_155;
				word32 eax_156;
				byte al_157;
				byte SZO_158;
				byte C_159;
				word32 edx_160;
				word32 ecx_161;
				!getpwnam();
				dwLoc14_125 = eax_156;
				dwLoc10_113 = eax_119;
			}
			else
			{
				word32 esp_167;
				word32 ebp_168;
				byte SCZO_169;
				byte Z_170;
				word32 eax_171;
				byte al_172;
				byte SZO_173;
				byte C_174;
				word32 edx_175;
				word32 ecx_176;
				!getpwnam();
				dwLoc14_125 = eax_171;
				dwLoc10_113 = 0x080D19D7;
			}
			if (dwLoc14_125 != 0x00)
			{
				word32 eax_138 = Mem0[dwLoc14_125 + 0x14:word32];
				Strnew_charp(eax_138, eax_138);
				dwLoc18_140 = eax_138;
				goto l080B2A17;
			}
		}
		else if ((byte) (word32) Mem0[dwArg04 + 0x01:byte] == 0x2F || (byte) ((word32) Mem0[dwArg04 + 0x01:byte]) == 0x00)
		{
			word32 eax_189 = getenv(0x080D19D8);
			Strnew_charp(eax_189, eax_189);
			dwLoc18_140 = eax_189;
l080B2A17:
			if (strcmp(Mem0[dwLoc18_140 + 0x00:word32], 0x080D19DD) == 0x00 && (byte) ((word32) Mem0[dwLoc10_113 + 0x00:byte]) == 0x2F)
				dwLoc10_113 = dwLoc10_113 + 0x01;
			Strcat_charp(dwLoc18_140, dwLoc10_113);
			eax_105 = Mem0[dwLoc18_140 + 0x00:word32];
			return eax_105;
		}
	}
	eax_105 = dwArg04;
	return eax_105;
}

// 080B2A5D: Register word32 strcasematch(Stack word32 dwArg04, Stack word32 dwArg08)
word32 strcasematch(word32 dwArg04, word32 dwArg08)
{
	while (true)
	{
		word32 eax_33;
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x00)
			break;
		if ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x00)
		{
			eax_33 = 0x01;
			return eax_33;
		}
		word32 edx_116;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			edx_116 = (int32) (byte) ((word32) Mem0[dwArg04 + 0x00:byte] | 0x20);
		else
			edx_116 = (int32) (byte) (word32) Mem0[dwArg04 + 0x00:byte];
		word32 eax_103;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg08 + 0x00:byte] + 0x080DB700:byte] & 0x04) != 0x00)
			eax_103 = (int32) (byte) ((word32) Mem0[dwArg08 + 0x00:byte] | 0x20);
		else
			eax_103 = (int32) (byte) (word32) Mem0[dwArg08 + 0x00:byte];
		if (edx_116 - eax_103 != 0x00)
			break;
		dwArg04 = dwArg04 + 0x01;
		dwArg08 = dwArg08 + 0x01;
	}
	eax_33 = (word32) ((byte) (word32) Mem0[dwArg08 + 0x00:byte] == 0x00);
	return eax_33;
}

// 080B2B16: void strcasemstr(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void strcasemstr(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 dwLoc08_38 = 0x00;
		while (dwArg08[dwLoc08_38 * 0x04] != 0x00)
		{
			if (strcasematch(dwArg04, dwArg08[dwLoc08_38 * 0x04]) != 0x00)
			{
				if (dwArg0C != 0x00)
					Mem73[dwArg0C + 0x00:word32] = dwArg04;
				return;
			}
			dwLoc08_38 = dwLoc08_38 + 0x01;
		}
		dwArg04 = dwArg04 + 0x01;
	}
}

// 080B2B80: Register word32 remove_space(Stack word32 dwArg04, Register out ptr32 edxOut)
word32 remove_space(word32 dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 dwLoc10_10 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc10_10 + 0x00:byte] != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc10_10 + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc10_10 = dwLoc10_10 + 0x01;
	word32 dwLoc14_25 = dwLoc10_10;
	while ((byte) (word32) Mem0[dwLoc14_25 + 0x00:byte] != 0x00)
		dwLoc14_25 = dwLoc14_25 + 0x01;
	while (dwLoc14_25 >u dwLoc10_10 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(dwLoc14_25 - 0x01) + 0x00:byte])) + 0x080DB700:byte])) & 0x02) != 0x00)
		dwLoc14_25 = dwLoc14_25 - 0x01;
	word32 eax_53;
	if ((byte) (word32) Mem0[dwLoc14_25 + 0x00:byte] != 0x00)
	{
		word32 edx_68;
		eax_53 = Mem0[Strnew_charp_n(dwLoc10_10, dwLoc10_10, dwLoc14_25 - dwLoc10_10, out edx_68) + 0x00:word32];
	}
	else
		eax_53 = dwLoc10_10;
	return eax_53;
}

// 080B2C25: Register word32 non_null(Stack word32 dwArg04)
word32 non_null(word32 dwArg04)
{
	word32 eax_14;
	if (dwArg04 == 0x00)
		eax_14 = 0x00;
	else
	{
		while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
		{
			if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x080DB700:byte] & 0x02) == 0x00)
			{
				eax_14 = 0x01;
				return eax_14;
			}
			dwArg04 = dwArg04 + 0x01;
		}
		eax_14 = 0x00;
	}
	return eax_14;
}

// 080B2C6E: void cleanup_line(Stack word32 dwArg04, Stack word32 dwArg08)
void cleanup_line(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg04 + 0x04:word32] > 0x01 && ((byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x02):byte]) == 0x0D && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte]) == 0x0A))
	{
		Strshrink(dwArg04, 0x02);
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_179 = Mem0[dwArg04 + 0x04:word32];
		Mem182[Mem0[dwArg04 + 0x00:word32] + eax_179:byte] = 0x0A;
		Mem185[dwArg04 + 0x04:word32] = eax_179 + 0x01;
		Mem191[Mem185[dwArg04 + 0x00:word32] + Mem185[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
	else if (Mem0[dwArg04 + 0x04:word32] > 0x00 && (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte]) == 0x0D)
		Mem144[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte] = 0x0A;
	else if (Mem0[dwArg04 + 0x04:word32] <= 0x00 || (byte) ((word32) Mem0[Mem0[dwArg04 + 0x00:word32] + (Mem0[dwArg04 + 0x04:word32] - 0x01):byte]) != 0x0A)
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_99 = Mem0[dwArg04 + 0x04:word32];
		Mem102[Mem0[dwArg04 + 0x00:word32] + eax_99:byte] = 0x0A;
		Mem105[dwArg04 + 0x04:word32] = eax_99 + 0x01;
		Mem111[Mem105[dwArg04 + 0x00:word32] + Mem105[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
	if (dwArg08 != 0x01)
	{
		word32 dwLoc10_40 = 0x00;
		while (Mem0[dwArg04 + 0x04:word32] > dwLoc10_40)
		{
			if ((byte) (word32) Mem0[Mem0[dwArg04 + 0x00:word32] + dwLoc10_40:byte] == 0x00)
				Mem68[Mem0[dwArg04 + 0x00:word32] + dwLoc10_40:byte] = 0x20;
			dwLoc10_40 = dwLoc10_40 + 0x01;
		}
	}
}

// 080B2DFB: Register word32 getescapechar(Stack word32 dwArg04)
word32 getescapechar(word32 dwArg04)
{
	word32 eax_11 = Mem0[dwArg04 + 0x00:word32];
	word32 dwLoc14_12 = eax_11;
	word32 dwLoc1C_13 = 0x01;
	if ((byte) (word32) Mem0[eax_11 + 0x00:byte] == 0x26)
		dwLoc14_12 = eax_11 + 0x01;
	word32 eax_111;
	if ((byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] != 0x23)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_12 + 0x00:byte] + 0x080DB700:byte] & 0x04) == 0x00)
		{
			Mem224[dwArg04 + 0x00:word32] = dwLoc14_12;
			eax_111 = ~0x00;
			return eax_111;
		}
		word32 dwLoc14_230 = dwLoc14_12 + 0x01 + 0x01;
		while (true)
		{
			byte al_239 = (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_230 + 0x00:byte] + 0x080DB700:byte];
			if (((word32) al_239 & 0x0C) == 0x00)
				break;
			dwLoc14_230 = dwLoc14_230 + 0x01;
		}
		word32 ecx_248 = dwLoc14_230 - dwLoc14_12;
		word32 esp_259;
		word32 ebp_260;
		byte SCZO_261;
		word32 eax_262;
		byte al_263;
		byte Z_264;
		byte SZO_265;
		byte C_266;
		word32 edx_267;
		word32 ecx_268;
		!strcasestr();
		word32 eax_254 = allocStr(dwLoc14_12, ecx_248);
		if (eax_262 != 0x00 && (byte) ((word32) Mem0[dwLoc14_230 + 0x00:byte]) != 0x3D)
			dwLoc1C_13 = 0x00;
		if ((byte) (word32) Mem0[dwLoc14_230 + 0x00:byte] == 0x3B)
			dwLoc14_230 = dwLoc14_230 + 0x00;
		else if (dwLoc1C_13 != 0x00)
		{
			Mem297[dwArg04 + 0x00:word32] = dwLoc14_230;
			eax_111 = ~0x00;
			return eax_111;
		}
		Mem283[dwArg04 + 0x00:word32] = dwLoc14_230;
		eax_111 = getHash_si(0x080DB5B0, eax_254, ~0x00);
		return eax_111;
	}
	else
	{
		word32 v9_43 = dwLoc14_12 + 0x01;
		if ((byte) (word32) Mem0[v9_43 + 0x00:byte] != 0x78 && (byte) ((word32) Mem0[v9_43 + 0x00:byte]) != 88)
		{
			if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[v9_43 + 0x00:byte] + 0x080DB700:byte] & 0x08) == 0x00)
			{
				Mem149[dwArg04 + 0x00:word32] = v9_43;
				eax_111 = ~0x00;
			}
			else
			{
				word32 dwLoc10_159 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[v9_43 + 0x00:byte] + 0x080DB800:byte];
				word32 dwLoc14_161 = v9_43 + 0x01 + 0x01;
				while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_161 + 0x00:byte] + 0x080DB700:byte] & 0x08) != 0x00)
				{
					dwLoc10_159 = dwLoc10_159 * 0x05 * 0x02 + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_161 + 0x00:byte])) + 0x080DB800:byte]));
					dwLoc14_161 = dwLoc14_161 + 0x01;
				}
				if ((byte) (word32) Mem0[dwLoc14_161 + 0x00:byte] == 0x3B)
					dwLoc14_161 = dwLoc14_161 + 0x00;
				Mem187[dwArg04 + 0x00:word32] = dwLoc14_161;
				eax_111 = dwLoc10_159;
			}
		}
		else if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[v9_43 + 0x01:byte] + 0x080DB700:byte] & 0x28) == 0x00)
		{
			Mem66[dwArg04 + 0x00:word32] = v9_43 + 0x01;
			eax_111 = ~0x00;
		}
		else
		{
			word32 dwLoc10_127 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[v9_43 + 0x01:byte] + 0x080DB800:byte];
			word32 dwLoc14_106 = v9_43 + 0x02 + 0x01;
			while (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_106 + 0x00:byte] + 0x080DB700:byte] & 0x28) != 0x00)
			{
				dwLoc10_127 = (dwLoc10_127 << 0x04) + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_106 + 0x00:byte])) + 0x080DB800:byte]));
				dwLoc14_106 = dwLoc14_106 + 0x01;
			}
			if ((byte) (word32) Mem0[dwLoc14_106 + 0x00:byte] == 0x3B)
				dwLoc14_106 = dwLoc14_106 + 0x00;
			Mem110[dwArg04 + 0x00:word32] = dwLoc14_106;
			eax_111 = dwLoc10_127;
		}
		return eax_111;
	}
}

// 080B3089: Register word32 getescapecmd(Stack word32 dwArg04, Register out ptr32 ebxOut)
word32 getescapecmd(word32 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	word32 eax_27;
	word32 eax_11 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_15 = getescapechar(dwArg04);
	if (eax_15 >= 0x00)
		eax_27 = conv_entity(eax_15);
	else
	{
		word32 eax_45 = (word32) Mem0[eax_11 + 0x00:byte];
		if ((byte) eax_45 != 0x26)
			Strnew_charp(eax_45, 0x080D19F3);
		else
			Strnew(eax_45);
		Strcat_charp_n(eax_45, eax_11, Mem0[dwArg04 + 0x00:word32] - eax_11);
		eax_27 = Mem0[eax_45 + 0x00:word32];
	}
	return eax_27;
}

// 080B3108: Register word32 html_quote(Stack word32 dwArg04)
word32 html_quote(word32 dwArg04)
{
	word32 dwLoc10_24 = 0x00;
	word32 dwLoc14_11 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] != 0x00)
	{
		word32 eax_56 = 0x080DB6C0[((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] + 0x080DB5C0:byte] & 0x07) * 0x04];
		if (eax_56 != 0x00)
		{
			if (dwLoc10_24 == 0x00)
			{
				word32 edx_91;
				dwLoc10_24 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_11 - dwArg04, out edx_91);
			}
			Strcat_charp(dwLoc10_24, eax_56);
		}
		else if (dwLoc10_24 != 0x00)
		{
			if (Mem0[dwLoc10_24 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_24 + 0x08:word32])
				Strgrow(dwLoc10_24);
			word32 eax_107 = Mem0[dwLoc10_24 + 0x04:word32];
			Mem114[Mem0[dwLoc10_24 + 0x00:word32] + eax_107:byte] = (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte];
			Mem117[dwLoc10_24 + 0x04:word32] = eax_107 + 0x01;
			Mem123[Mem117[dwLoc10_24 + 0x00:word32] + Mem117[dwLoc10_24 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_11 = dwLoc14_11 + 0x01;
	}
	word32 eax_38;
	if (dwLoc10_24 != 0x00)
		eax_38 = Mem0[dwLoc10_24 + 0x00:word32];
	else
		eax_38 = dwArg04;
	return eax_38;
}

// 080B31F7: Register word32 html_unquote(Register word32 ebp, Stack word32 dwArg04, Register out ptr32 ebxOut)
word32 html_unquote(word32 ebp, word32 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	while ((byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte] == 0x26)
		{
			if (Mem0[fp - 0x10 + 0x00:word32] == 0x00)
			{
				Mem70[fp - 0x28 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] - Mem0[fp + 0x04:word32];
				word32 eax_71 = Mem70[fp + 0x04:word32];
				Mem72[fp - 44 + 0x00:word32] = eax_71;
				word32 edx_73;
				Mem75[fp - 0x10 + 0x00:word32] = Strnew_charp_n(eax_71, dwArg00, dwArg04, out edx_73);
			}
			Mem54[fp - 44 + 0x00:word32] = fp - 0x14;
			word32 ebx_56;
			Mem58[fp - 0x18 + 0x00:word32] = getescapecmd(dwArg00, out ebx_56);
			Mem60[fp - 0x28 + 0x00:word32] = Mem58[fp - 0x18 + 0x00:word32];
			Mem62[fp - 44 + 0x00:word32] = Mem60[fp - 0x10 + 0x00:word32];
			Strcat_charp(dwArg00, dwArg04);
		}
		else
		{
			if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
			{
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
				{
					Mem114[fp - 44 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_96 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem103[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_96:byte] = (byte) (word32) Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:byte];
				Mem106[Mem103[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_96 + 0x01;
				Mem112[Mem106[Mem106[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem106[Mem106[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			Mem85[fp - 0x14 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32] + 0x01;
		}
	}
	word32 eax_32;
	if (Mem0[fp - 0x10 + 0x00:word32] != 0x00)
		eax_32 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32];
	else
		eax_32 = Mem0[fp + 0x04:word32];
	return eax_32;
}

// 080B32DF: Register word32 url_quote(Stack word32 dwArg04)
word32 url_quote(word32 dwArg04)
{
	word32 dwLoc10_182 = 0x00;
	word32 dwLoc14_11 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] != 0x00)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] + 0x080DB5C0:byte] & 0x10) != 0x00)
		{
			if (dwLoc10_182 == 0x00)
			{
				word32 edx_180;
				dwLoc10_182 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_11 - dwArg04, out edx_180);
			}
			if (Mem0[dwLoc10_182 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_182 + 0x08:word32])
				Strgrow(dwLoc10_182);
			word32 eax_88 = Mem0[dwLoc10_182 + 0x04:word32];
			Mem91[Mem0[dwLoc10_182 + 0x00:word32] + eax_88:byte] = 0x25;
			Mem94[dwLoc10_182 + 0x04:word32] = eax_88 + 0x01;
			Mem100[Mem94[dwLoc10_182 + 0x00:word32] + Mem94[dwLoc10_182 + 0x04:word32]:byte] = 0x00;
			if (Mem100[dwLoc10_182 + 0x04:word32] + 0x01 >= Mem100[dwLoc10_182 + 0x08:word32])
				Strgrow(dwLoc10_182);
			word32 eax_112 = Mem100[dwLoc10_182 + 0x04:word32];
			Mem122[Mem100[dwLoc10_182 + 0x00:word32] + eax_112:byte] = (byte) (word32) Mem100[(word32) ((byte) (word32) Mem100[dwLoc14_11 + 0x00:byte] >>u 0x04) + 135116512:byte];
			Mem125[dwLoc10_182 + 0x04:word32] = eax_112 + 0x01;
			Mem131[Mem125[dwLoc10_182 + 0x00:word32] + Mem125[dwLoc10_182 + 0x04:word32]:byte] = 0x00;
			if (Mem131[dwLoc10_182 + 0x04:word32] + 0x01 >= Mem131[dwLoc10_182 + 0x08:word32])
				Strgrow(dwLoc10_182);
			word32 eax_143 = Mem131[dwLoc10_182 + 0x04:word32];
			Mem155[Mem131[dwLoc10_182 + 0x00:word32] + eax_143:byte] = (byte) (word32) Mem131[((word32) (byte) (word32) Mem131[dwLoc14_11 + 0x00:byte] & 0x0F) + 135116512:byte];
			Mem158[dwLoc10_182 + 0x04:word32] = eax_143 + 0x01;
			Mem164[Mem158[dwLoc10_182 + 0x00:word32] + Mem158[dwLoc10_182 + 0x04:word32]:byte] = 0x00;
		}
		else if (dwLoc10_182 != 0x00)
		{
			if (Mem0[dwLoc10_182 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_182 + 0x08:word32])
				Strgrow(dwLoc10_182);
			word32 eax_196 = Mem0[dwLoc10_182 + 0x04:word32];
			Mem203[Mem0[dwLoc10_182 + 0x00:word32] + eax_196:byte] = (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte];
			Mem206[dwLoc10_182 + 0x04:word32] = eax_196 + 0x01;
			Mem212[Mem206[dwLoc10_182 + 0x00:word32] + Mem206[dwLoc10_182 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_11 = dwLoc14_11 + 0x01;
	}
	word32 eax_36;
	if (dwLoc10_182 != 0x00)
		eax_36 = Mem0[dwLoc10_182 + 0x00:word32];
	else
		eax_36 = dwArg04;
	return eax_36;
}

// 080B34B7: Register word32 file_quote(Stack word32 dwArg04)
word32 file_quote(word32 dwArg04)
{
	word32 dwLoc10_104 = 0x00;
	word32 dwLoc14_11 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] != 0x00)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] + 0x080DB5C0:byte] & 0x30) != 0x00)
		{
			if (dwLoc10_104 == 0x00)
			{
				word32 edx_102;
				dwLoc10_104 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_11 - dwArg04, out edx_102);
			}
			sprintf(fp - 0x18, 0x080D19F5, tLoc30);
			Strcat_charp(dwLoc10_104, fp - 0x18);
		}
		else if (dwLoc10_104 != 0x00)
		{
			if (Mem0[dwLoc10_104 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_104 + 0x08:word32])
				Strgrow(dwLoc10_104);
			word32 eax_118 = Mem0[dwLoc10_104 + 0x04:word32];
			Mem125[Mem0[dwLoc10_104 + 0x00:word32] + eax_118:byte] = (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte];
			Mem128[dwLoc10_104 + 0x04:word32] = eax_118 + 0x01;
			Mem134[Mem128[dwLoc10_104 + 0x00:word32] + Mem128[dwLoc10_104 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_11 = dwLoc14_11 + 0x01;
	}
	word32 eax_38;
	if (dwLoc10_104 != 0x00)
		eax_38 = Mem0[dwLoc10_104 + 0x00:word32];
	else
		eax_38 = dwArg04;
	return eax_38;
}

// 080B35BB: Register word32 file_unquote(Stack word32 dwArg04)
word32 file_unquote(word32 dwArg04)
{
	word32 dwLoc10_133 = 0x00;
	word32 dwLoc14_11 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] != 0x00)
	{
		if ((byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] != 0x25)
		{
l080B36FB:
			if (dwLoc10_133 != 0x00)
			{
				if (Mem0[dwLoc10_133 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_133 + 0x08:word32])
					Strgrow(dwLoc10_133);
				word32 eax_87 = Mem0[dwLoc10_133 + 0x04:word32];
				Mem94[Mem0[dwLoc10_133 + 0x00:word32] + eax_87:byte] = (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte];
				Mem97[dwLoc10_133 + 0x04:word32] = eax_87 + 0x01;
				Mem103[Mem97[dwLoc10_133 + 0x00:word32] + Mem97[dwLoc10_133 + 0x04:word32]:byte] = 0x00;
			}
			dwLoc14_11 = dwLoc14_11 + 0x01;
			continue;
		}
		word32 eax_125;
		word32 dwLoc18_107 = dwLoc14_11;
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x01:byte] + 0x080DB700:byte] & 0x28) != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_11 + 0x02:byte])) + 0x080DB700:byte])) & 0x28) != 0x00)
		{
			word32 eax_212 = dwLoc14_11 + 0x03;
			dwLoc18_107 = eax_212;
			eax_125 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[eax_212 - 0x01 + 0x00:byte] + 0x080DB800:byte] | (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(eax_212 - 0x02) + 0x00:byte])) + 0x080DB800:byte])) << 0x04;
		}
		else
			eax_125 = ~0x00;
		if (eax_125 < 0x00)
			goto l080B36FB;
		if (dwLoc10_133 == 0x00)
		{
			word32 edx_191;
			dwLoc10_133 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_11 - dwArg04, out edx_191);
		}
		if (eax_125 != 0x00 && (eax_125 != 0x0A && eax_125 != 0x0D))
		{
			if (Mem0[dwLoc10_133 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_133 + 0x08:word32])
				Strgrow(dwLoc10_133);
			word32 eax_164 = Mem0[dwLoc10_133 + 0x04:word32];
			Mem170[Mem0[dwLoc10_133 + 0x00:word32] + eax_164:byte] = (byte) eax_125;
			Mem173[dwLoc10_133 + 0x04:word32] = eax_164 + 0x01;
			Mem179[Mem173[dwLoc10_133 + 0x00:word32] + Mem173[dwLoc10_133 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_11 = dwLoc18_107;
	}
	word32 eax_42;
	if (dwLoc10_133 != 0x00)
		eax_42 = Mem0[dwLoc10_133 + 0x00:word32];
	else
		eax_42 = dwArg04;
	return eax_42;
}

// 080B3774: Register word32 Str_form_quote(Stack word32 dwArg04)
word32 Str_form_quote(word32 dwArg04)
{
	word32 dwLoc10_118 = 0x00;
	word32 dwLoc14_13 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_18 = Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x04:word32];
	while (dwLoc14_13 <u eax_18)
	{
		if ((byte) (word32) Mem0[dwLoc14_13 + 0x00:byte] == 0x20)
		{
			if (dwLoc10_118 == 0x00)
			{
				word32 eax_113 = Mem0[dwArg04 + 0x00:word32];
				word32 edx_116;
				dwLoc10_118 = Strnew_charp_n(eax_113, eax_113, dwLoc14_13 - Mem0[dwArg04 + 0x00:word32], out edx_116);
			}
			if (Mem0[dwLoc10_118 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_118 + 0x08:word32])
				Strgrow(dwLoc10_118);
			word32 eax_92 = Mem0[dwLoc10_118 + 0x04:word32];
			Mem95[Mem0[dwLoc10_118 + 0x00:word32] + eax_92:byte] = 0x2B;
			Mem98[dwLoc10_118 + 0x04:word32] = eax_92 + 0x01;
			Mem104[Mem98[dwLoc10_118 + 0x00:word32] + Mem98[dwLoc10_118 + 0x04:word32]:byte] = 0x00;
		}
		else if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_13 + 0x00:byte] + 0x080DB5C0:byte] & 0x70) != 0x00)
		{
			if (dwLoc10_118 == 0x00)
			{
				word32 eax_155 = Mem0[dwArg04 + 0x00:word32];
				word32 edx_158;
				dwLoc10_118 = Strnew_charp_n(eax_155, eax_155, dwLoc14_13 - Mem0[dwArg04 + 0x00:word32], out edx_158);
			}
			sprintf(fp - 0x1C, 0x080D19F5, tLoc30);
			Strcat_charp(dwLoc10_118, fp - 0x1C);
		}
		else if (dwLoc10_118 != 0x00)
		{
			if (Mem0[dwLoc10_118 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_118 + 0x08:word32])
				Strgrow(dwLoc10_118);
			word32 eax_174 = Mem0[dwLoc10_118 + 0x04:word32];
			Mem181[Mem0[dwLoc10_118 + 0x00:word32] + eax_174:byte] = (byte) (word32) Mem0[dwLoc14_13 + 0x00:byte];
			Mem184[dwLoc10_118 + 0x04:word32] = eax_174 + 0x01;
			Mem190[Mem184[dwLoc10_118 + 0x00:word32] + Mem184[dwLoc10_118 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_13 = dwLoc14_13 + 0x01;
	}
	word32 eax_46;
	if (dwLoc10_118 != 0x00)
		eax_46 = dwLoc10_118;
	else
		eax_46 = dwArg04;
	return eax_46;
}

// 080B3905: Register word32 Str_url_unquote(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 Str_url_unquote(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc10_150 = 0x00;
	word32 dwLoc14_13 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_18 = Mem0[dwArg04 + 0x00:word32] + Mem0[dwArg04 + 0x04:word32];
	while (dwLoc14_13 <u eax_18)
	{
		if (dwArg08 == 0x00 || (byte) ((word32) Mem0[dwLoc14_13 + 0x00:byte]) != 0x2B)
		{
			if ((byte) (word32) Mem0[dwLoc14_13 + 0x00:byte] == 0x25)
			{
				word32 eax_135;
				word32 dwLoc1C_117 = dwLoc14_13;
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_13 + 0x01:byte] + 0x080DB700:byte] & 0x28) != 0x00 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc14_13 + 0x02:byte])) + 0x080DB700:byte])) & 0x28) != 0x00)
				{
					word32 eax_233 = dwLoc14_13 + 0x03;
					dwLoc1C_117 = eax_233;
					eax_135 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[eax_233 - 0x01 + 0x00:byte] + 0x080DB800:byte] | (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[(eax_233 - 0x02) + 0x00:byte])) + 0x080DB800:byte])) << 0x04;
				}
				else
					eax_135 = ~0x00;
				if (eax_135 >= 0x00 && (dwArg0C == 0x00 || (((word32) ((byte) ((word32) Mem0[(word32) ((byte) eax_135) + 0x080DB700:byte])) & 0x11) == 0x00 || ((word32) ((byte) ((word32) Mem0[(word32) ((byte) eax_135) + 0x080DB5C0:byte])) & 0x30) == 0x00)))
				{
					if (dwLoc10_150 == 0x00)
					{
						word32 eax_189 = Mem0[dwArg04 + 0x00:word32];
						word32 edx_192;
						dwLoc10_150 = Strnew_charp_n(eax_189, eax_189, dwLoc14_13 - Mem0[dwArg04 + 0x00:word32], out edx_192);
					}
					if (Mem0[dwLoc10_150 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_150 + 0x08:word32])
						Strgrow(dwLoc10_150);
					word32 eax_163 = Mem0[dwLoc10_150 + 0x04:word32];
					Mem169[Mem0[dwLoc10_150 + 0x00:word32] + eax_163:byte] = (byte) eax_135;
					Mem172[dwLoc10_150 + 0x04:word32] = eax_163 + 0x01;
					Mem178[Mem172[dwLoc10_150 + 0x00:word32] + Mem172[dwLoc10_150 + 0x04:word32]:byte] = 0x00;
					dwLoc14_13 = dwLoc1C_117;
					continue;
				}
			}
			if (dwLoc10_150 != 0x00)
			{
				if (Mem0[dwLoc10_150 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_150 + 0x08:word32])
					Strgrow(dwLoc10_150);
				word32 eax_97 = Mem0[dwLoc10_150 + 0x04:word32];
				Mem104[Mem0[dwLoc10_150 + 0x00:word32] + eax_97:byte] = (byte) (word32) Mem0[dwLoc14_13 + 0x00:byte];
				Mem107[dwLoc10_150 + 0x04:word32] = eax_97 + 0x01;
				Mem113[Mem107[dwLoc10_150 + 0x00:word32] + Mem107[dwLoc10_150 + 0x04:word32]:byte] = 0x00;
			}
			dwLoc14_13 = dwLoc14_13 + 0x01;
			continue;
		}
		if (dwLoc10_150 == 0x00)
		{
			word32 eax_302 = Mem0[dwArg04 + 0x00:word32];
			word32 edx_305;
			dwLoc10_150 = Strnew_charp_n(eax_302, eax_302, dwLoc14_13 - Mem0[dwArg04 + 0x00:word32], out edx_305);
		}
		if (Mem0[dwLoc10_150 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_150 + 0x08:word32])
			Strgrow(dwLoc10_150);
		word32 eax_278 = Mem0[dwLoc10_150 + 0x04:word32];
		Mem281[Mem0[dwLoc10_150 + 0x00:word32] + eax_278:byte] = 0x20;
		Mem284[dwLoc10_150 + 0x04:word32] = eax_278 + 0x01;
		Mem290[Mem284[dwLoc10_150 + 0x00:word32] + Mem284[dwLoc10_150 + 0x04:word32]:byte] = 0x00;
		dwLoc14_13 = dwLoc14_13 + 0x01;
	}
	word32 eax_50;
	if (dwLoc10_150 != 0x00)
		eax_50 = dwLoc10_150;
	else
		eax_50 = dwArg04;
	return eax_50;
}

// 080B3B7B: Register word32 shell_quote(Stack word32 dwArg04)
word32 shell_quote(word32 dwArg04)
{
	word32 dwLoc10_142 = 0x00;
	word32 dwLoc14_11 = dwArg04;
	while ((byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] != 0x00)
	{
		if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte] + 0x080DB5C0:byte] & 0x08) != 0x00)
		{
			if (dwLoc10_142 == 0x00)
			{
				word32 edx_140;
				dwLoc10_142 = Strnew_charp_n(dwArg04, dwArg04, dwLoc14_11 - dwArg04, out edx_140);
			}
			if (Mem0[dwLoc10_142 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_142 + 0x08:word32])
				Strgrow(dwLoc10_142);
			word32 eax_86 = Mem0[dwLoc10_142 + 0x04:word32];
			Mem89[Mem0[dwLoc10_142 + 0x00:word32] + eax_86:byte] = 0x5C;
			Mem92[dwLoc10_142 + 0x04:word32] = eax_86 + 0x01;
			Mem98[Mem92[dwLoc10_142 + 0x00:word32] + Mem92[dwLoc10_142 + 0x04:word32]:byte] = 0x00;
			if (Mem98[dwLoc10_142 + 0x04:word32] + 0x01 >= Mem98[dwLoc10_142 + 0x08:word32])
				Strgrow(dwLoc10_142);
			word32 eax_110 = Mem98[dwLoc10_142 + 0x04:word32];
			Mem117[Mem98[dwLoc10_142 + 0x00:word32] + eax_110:byte] = (byte) (word32) Mem98[dwLoc14_11 + 0x00:byte];
			Mem120[dwLoc10_142 + 0x04:word32] = eax_110 + 0x01;
			Mem126[Mem120[dwLoc10_142 + 0x00:word32] + Mem120[dwLoc10_142 + 0x04:word32]:byte] = 0x00;
		}
		else if (dwLoc10_142 != 0x00)
		{
			if (Mem0[dwLoc10_142 + 0x04:word32] + 0x01 >= Mem0[dwLoc10_142 + 0x08:word32])
				Strgrow(dwLoc10_142);
			word32 eax_156 = Mem0[dwLoc10_142 + 0x04:word32];
			Mem163[Mem0[dwLoc10_142 + 0x00:word32] + eax_156:byte] = (byte) (word32) Mem0[dwLoc14_11 + 0x00:byte];
			Mem166[dwLoc10_142 + 0x04:word32] = eax_156 + 0x01;
			Mem172[Mem166[dwLoc10_142 + 0x00:word32] + Mem166[dwLoc10_142 + 0x04:word32]:byte] = 0x00;
		}
		dwLoc14_11 = dwLoc14_11 + 0x01;
	}
	word32 eax_36;
	if (dwLoc10_142 != 0x00)
		eax_36 = Mem0[dwLoc10_142 + 0x00:word32];
	else
		eax_36 = dwArg04;
	return eax_36;
}

// 080B3CEA: Register word32 w3m_dir(Stack word32 dwArg08)
word32 w3m_dir(word32 dwArg08)
{
	return dwArg08;
}

// 080B3CF2: Register word32 w3m_auxbin_dir()
word32 w3m_auxbin_dir()
{
	return w3m_dir(0x080D19FC);
}

// 080B3D0E: Register word32 w3m_lib_dir()
word32 w3m_lib_dir()
{
	return w3m_dir(0x080D1A18);
}

// 080B3D2A: Register word32 w3m_etc_dir()
word32 w3m_etc_dir()
{
	return w3m_dir(0x080D1A39);
}

// 080B3D46: Register word32 w3m_conf_dir()
word32 w3m_conf_dir()
{
	return w3m_dir(0x080D1A4A);
}

// 080B3D62: void w3m_help_dir()
void w3m_help_dir()
{
	w3m_dir(0x080D1A60);
}

// 080B3D80: void newListItem(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void newListItem(word32 eax, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	Mem18[eax_12 + 0x00:word32] = dwArg04;
	Mem22[eax_12 + 0x04:word32] = dwArg08;
	Mem26[eax_12 + 0x08:word32] = dwArg0C;
}

// 080B3DB4: void newGeneralList(Register word32 eax)
void newGeneralList(word32 eax)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	!GC_malloc();
	Mem16[eax_12 + 0x04:word32] = 0x00;
	Mem20[eax_12 + 0x00:word32] = Mem16[eax_12 + 0x04:word32];
	Mem22[eax_12 + 0x08:word16] = 0x00;
}

// 080B3DEC: Register word32 pushValue(Stack word32 dwArg04, Stack word32 dwArg08)
word32 pushValue(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 != 0x00)
	{
		newListItem(dwArg08, dwArg08, 0x00, Mem0[dwArg04 + 0x04:word32]);
		if (Mem0[dwArg04 + 0x00:word32] == 0x00)
		{
			Mem39[dwArg04 + 0x00:word32] = dwArg08;
			Mem42[dwArg04 + 0x04:word32] = dwArg08;
			Mem44[dwArg04 + 0x08:word16] = 0x01;
			eax = dwArg04;
		}
		else
		{
			Mem49[Mem0[dwArg04 + 0x04:word32] + 0x04:word32] = dwArg08;
			Mem52[dwArg04 + 0x04:word32] = dwArg08;
			Mem58[dwArg04 + 0x08:word16] = (word16) ((word32) Mem52[dwArg04 + 0x08:word16] + 0x01);
			eax = dwArg04;
		}
	}
	return eax;
}

// 080B3E68: Register word32 popValue(Stack word32 dwArg04)
word32 popValue(word32 dwArg04)
{
	word32 eax_18;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x00:word32] != 0x00)
	{
		word32 eax_36 = Mem0[dwArg04 + 0x00:word32];
		Mem41[dwArg04 + 0x00:word32] = Mem0[eax_36 + 0x04:word32];
		if (Mem41[dwArg04 + 0x00:word32] != 0x00)
			Mem57[Mem41[dwArg04 + 0x00:word32] + 0x08:word32] = 0x00;
		else
			Mem59[dwArg04 + 0x04:word32] = 0x00;
		Mem52[dwArg04 + 0x08:word16] = (word16) ((word32) Mem41[dwArg04 + 0x08:word16] - 0x01);
		eax_18 = Mem52[eax_36 + 0x00:word32];
	}
	else
		eax_18 = 0x00;
	return eax_18;
}

// 080B3ED0: Register word32 rpopValue(Stack word32 dwArg04)
word32 rpopValue(word32 dwArg04)
{
	word32 eax_18;
	if (dwArg04 != 0x00 && Mem0[dwArg04 + 0x04:word32] != 0x00)
	{
		word32 eax_36 = Mem0[dwArg04 + 0x04:word32];
		Mem41[dwArg04 + 0x04:word32] = Mem0[eax_36 + 0x08:word32];
		if (Mem41[dwArg04 + 0x04:word32] != 0x00)
			Mem57[Mem41[dwArg04 + 0x04:word32] + 0x04:word32] = 0x00;
		else
			Mem59[dwArg04 + 0x00:word32] = 0x00;
		Mem52[dwArg04 + 0x08:word16] = (word16) ((word32) Mem41[dwArg04 + 0x08:word16] - 0x01);
		eax_18 = Mem52[eax_36 + 0x00:word32];
	}
	else
		eax_18 = 0x00;
	return eax_18;
}

// 080B3F3C: void delValue(Stack word32 dwArg04, Stack word32 dwArg08)
void delValue(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x08:word32] != 0x00)
		Mem41[Mem0[dwArg08 + 0x08:word32] + 0x04:word32] = Mem0[dwArg08 + 0x04:word32];
	else
		Mem45[dwArg04 + 0x00:word32] = Mem0[dwArg08 + 0x04:word32];
	if (Mem0[dwArg08 + 0x04:word32] != 0x00)
		Mem32[Mem0[dwArg08 + 0x04:word32] + 0x08:word32] = Mem0[dwArg08 + 0x08:word32];
	else
		Mem36[dwArg04 + 0x04:word32] = Mem0[dwArg08 + 0x08:word32];
	Mem25[dwArg04 + 0x08:word16] = (word16) ((word32) Mem0[dwArg04 + 0x08:word16] - 0x01);
}

// 080B3F9F: Register word32 appendGeneralList(Stack word32 dwArg04, Stack word32 dwArg08)
word32 appendGeneralList(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 != 0x00 && dwArg08 != 0x00)
	{
		if (Mem0[dwArg08 + 0x00:word32] != 0x00)
		{
			if (Mem0[dwArg04 + 0x04:word32] != 0x00)
			{
				Mem52[Mem0[dwArg04 + 0x04:word32] + 0x04:word32] = Mem0[dwArg08 + 0x00:word32];
				Mem57[Mem52[dwArg08 + 0x00:word32] + 0x08:word32] = Mem52[dwArg04 + 0x04:word32];
				Mem61[dwArg04 + 0x04:word32] = Mem57[dwArg08 + 0x04:word32];
				Mem71[dwArg04 + 0x08:word16] = (word16) ((word32) Mem61[dwArg04 + 0x08:word16] + (word32) Mem61[dwArg08 + 0x08:word16]);
			}
			else
			{
				Mem75[dwArg04 + 0x00:word32] = Mem0[dwArg08 + 0x00:word32];
				Mem79[dwArg04 + 0x04:word32] = Mem75[dwArg08 + 0x04:word32];
				Mem84[dwArg04 + 0x08:word16] = (word16) (word32) Mem79[dwArg08 + 0x08:word16];
			}
		}
		Mem36[dwArg08 + 0x04:word32] = 0x00;
		Mem40[dwArg08 + 0x00:word32] = Mem36[dwArg08 + 0x04:word32];
		Mem42[dwArg08 + 0x08:word16] = 0x00;
	}
	return dwArg04;
}

// 080B4056: void newTextLine(Register word32 eax, Stack word32 dwArg04, Stack word32 dwArg08)
void newTextLine(word32 eax, word32 dwArg04, word32 dwArg08)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	byte Z_13;
	word32 edx_14;
	word16 dx_15;
	!GC_malloc();
	if (dwArg04 != 0x00)
		Mem32[eax_12 + 0x00:word32] = dwArg04;
	else
	{
		Strnew(eax_12);
		Mem34[eax_12 + 0x00:word32] = eax_12;
	}
	Mem25[eax_12 + 0x04:word16] = (word16) dwArg08;
}

// 080B4096: void appendTextLine(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void appendTextLine(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg04 + 0x04:word32] == 0x00)
	{
		word32 eax_29 = Strdup(dwArg08);
		newTextLine(eax_29, eax_29, dwArg0C);
		pushValue(dwArg04, eax_29);
	}
	else
	{
		word32 eax_42 = Mem0[Mem0[dwArg04 + 0x04:word32] + 0x00:word32];
		if (Mem0[eax_42 + 0x00:word32] != 0x00)
			Strcat(Mem0[eax_42 + 0x00:word32], dwArg08);
		else
			Mem67[eax_42 + 0x00:word32] = dwArg08;
		Mem59[eax_42 + 0x04:word16] = (word16) ((word32) Mem0[eax_42 + 0x04:word16] + dwArg0C);
	}
}

// 080B4120: Register word32 tag_get_value(Stack word32 dwArg04, Stack word32 dwArg08)
word32 tag_get_value(word32 dwArg04, word32 dwArg08)
{
	while (true)
	{
		word32 eax_30;
		if (dwArg04 == 0x00)
			break;
		if (strcasecmp(Mem0[dwArg04 + 0x00:word32], dwArg08) == 0x00)
		{
			eax_30 = Mem0[dwArg04 + 0x04:word32];
			return eax_30;
		}
		dwArg04 = Mem0[dwArg04 + 0x08:word32];
	}
	eax_30 = 0x00;
	return eax_30;
}

// 080B415E: void tag_exists(Stack word32 dwArg04, Stack word32 dwArg08)
void tag_exists(word32 dwArg04, word32 dwArg08)
{
	while (dwArg04 != 0x00 && strcasecmp(Mem0[dwArg04 + 0x00:word32], dwArg08) != 0x00)
		dwArg04 = Mem0[dwArg04 + 0x08:word32];
}

// 080B419B: void cgistr2tagarg(Stack word32 dwArg04)
void cgistr2tagarg(word32 dwArg04)
{
	word32 dwLoc18_16 = 0x00;
	do
	{
		word32 esp_22;
		word32 ebp_23;
		byte SCZO_24;
		word32 eax_25;
		word32 edx_26;
		byte al_27;
		byte SZO_28;
		byte C_29;
		byte Z_30;
		byte SO_31;
		word32 ecx_32;
		byte dl_33;
		!GC_malloc();
		Mem37[eax_25 + 0x08:word32] = dwLoc18_16;
		Strnew(eax_25);
		dwLoc18_16 = eax_25;
		while ((byte) (word32) Mem37[dwArg04 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem37[dwArg04 + 0x00:byte]) != 0x3D && (byte) ((word32) Mem37[dwArg04 + 0x00:byte]) != 0x26))
		{
			if (Mem37[eax_25 + 0x04:word32] + 0x01 >= Mem37[eax_25 + 0x08:word32])
				Strgrow(eax_25);
			word32 eax_206 = Mem37[eax_25 + 0x04:word32];
			Mem212[Mem37[eax_25 + 0x00:word32] + eax_206:byte] = (byte) (word32) Mem37[dwArg04 + 0x00:byte];
			Mem215[eax_25 + 0x04:word32] = eax_206 + 0x01;
			Mem224[Mem215[eax_25 + 0x00:word32] + Mem215[eax_25 + 0x04:word32]:byte] = 0x00;
			dwArg04 = dwArg04 + 0x01;
		}
		Mem62[eax_25 + 0x00:word32] = Mem37[Str_url_unquote(eax_25, 0x01, 0x00) + 0x00:word32];
		Mem64[eax_25 + 0x04:word32] = 0x00;
		if ((byte) (word32) Mem64[dwArg04 + 0x00:byte] == 0x00)
			return;
		word32 eax_91 = (word32) Mem64[dwArg04 + 0x00:byte];
		if ((byte) eax_91 == 0x3D)
		{
			Strnew(eax_91);
			dwArg04 = dwArg04 + 0x01;
			while ((byte) (word32) Mem64[dwArg04 + 0x00:byte] != 0x00 && (byte) ((word32) Mem64[dwArg04 + 0x00:byte]) != 0x26)
			{
				if (Mem64[eax_91 + 0x04:word32] + 0x01 >= Mem64[eax_91 + 0x08:word32])
					Strgrow(eax_91);
				word32 eax_156 = Mem64[eax_91 + 0x04:word32];
				Mem162[Mem64[eax_91 + 0x00:word32] + eax_156:byte] = (byte) (word32) Mem64[dwArg04 + 0x00:byte];
				Mem165[eax_91 + 0x04:word32] = eax_156 + 0x01;
				Mem174[Mem165[eax_91 + 0x00:word32] + Mem165[eax_91 + 0x04:word32]:byte] = 0x00;
				dwArg04 = dwArg04 + 0x01;
			}
			Mem139[eax_25 + 0x04:word32] = Mem64[Str_url_unquote(eax_91, 0x01, 0x00) + 0x00:word32];
		}
		else if ((byte) (word32) Mem64[dwArg04 + 0x00:byte] == 0x26)
			dwArg04 = dwArg04 + 0x01;
	} while ((byte) (word32) Mem64[dwArg04 + 0x00:byte] != 0x00);
}

// 080B4350: Register word32 hashfunc(Stack word32 dwArg04)
word32 hashfunc(word32 dwArg04)
{
	word32 dwLoc08_12 = 0x00;
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 dwLoc08_33;
		if (dwLoc08_12 < 0x00)
			dwLoc08_33 = dwLoc08_12 << 0x01 | 0x01;
		else
			dwLoc08_33 = dwLoc08_12 << 0x01;
		dwLoc08_12 = dwLoc08_33 + (int32) ((byte) ((word32) Mem0[dwArg04 + 0x00:byte]));
		dwArg04 = dwArg04 + 0x01;
	}
	return dwLoc08_12;
}

// 080B4391: void newHash_si(Register word32 eax, Stack word32 dwArg04)
void newHash_si(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SO_14;
	!GC_malloc();
	Mem19[eax_12 + 0x00:word32] = dwArg04;
	word32 esp_24;
	word32 ebp_25;
	byte SCZO_26;
	word32 eax_27;
	word32 edx_28;
	byte SO_29;
	!GC_malloc();
	Mem32[eax_12 + 0x04:word32] = eax_27;
	word32 dwLoc14_33 = 0x00;
	while (dwLoc14_33 < dwArg04)
	{
		Mem32[eax_12 + 0x04:word32][dwLoc14_33 * 0x04] = 0x00;
		dwLoc14_33 = dwLoc14_33 + 0x01;
	}
}

// 080B43F2: Register word32 lookupHash_si(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 lookupHash_si(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem26[dwArg0C + 0x00:word32] = (uint32) ((uint64) (uint32) hashfunc(dwArg08) % Mem0[dwArg04 + 0x00:word32]);
	word32 dwLoc10_35 = Mem26[dwArg04 + 0x04:word32][Mem26[dwArg0C + 0x00:word32] * 0x04];
	while (true)
	{
		word32 eax_54;
		if (dwLoc10_35 == 0x00)
			break;
		if (strcmp(Mem26[dwLoc10_35 + 0x00:word32], dwArg08) == 0x00)
		{
			eax_54 = dwLoc10_35;
			return eax_54;
		}
		dwLoc10_35 = Mem26[dwLoc10_35 + 0x08:word32];
	}
	eax_54 = 0x00;
	return eax_54;
}

// 080B4465: void putHash_si(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void putHash_si(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_16 = lookupHash_si(dwArg04, dwArg08, fp - 0x10);
	if (eax_16 != 0x00)
		Mem32[eax_16 + 0x04:word32] = dwArg0C;
	else
	{
		word32 esp_35;
		word32 ebp_36;
		byte SCZO_37;
		word32 eax_38;
		byte Z_39;
		word32 edx_40;
		!GC_malloc();
		Mem44[eax_38 + 0x00:word32] = dwArg08;
		Mem47[eax_38 + 0x04:word32] = dwArg0C;
		Mem56[eax_38 + 0x08:word32] = Mem47[dwArg04 + 0x04:word32][dwLoc10 * 0x04];
		Mem56[dwArg04 + 0x04:word32][dwLoc10 * 0x04] = eax_38;
	}
}

// 080B44E4: Register word32 getHash_si(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 getHash_si(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_20;
	word32 eax_16 = lookupHash_si(dwArg04, dwArg08, fp - 0x10);
	if (eax_16 == 0x00)
		eax_20 = dwArg0C;
	else
		eax_20 = Mem0[eax_16 + 0x04:word32];
	return eax_20;
}

// 080B4519: void newHash_ss(Register word32 eax, Stack word32 dwArg04)
void newHash_ss(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SO_14;
	!GC_malloc();
	Mem19[eax_12 + 0x00:word32] = dwArg04;
	word32 esp_24;
	word32 ebp_25;
	byte SCZO_26;
	word32 eax_27;
	word32 edx_28;
	byte SO_29;
	!GC_malloc();
	Mem32[eax_12 + 0x04:word32] = eax_27;
	word32 dwLoc14_33 = 0x00;
	while (dwLoc14_33 < dwArg04)
	{
		Mem32[eax_12 + 0x04:word32][dwLoc14_33 * 0x04] = 0x00;
		dwLoc14_33 = dwLoc14_33 + 0x01;
	}
}

// 080B457A: Register word32 lookupHash_ss(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 lookupHash_ss(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem26[dwArg0C + 0x00:word32] = (uint32) ((uint64) (uint32) hashfunc(dwArg08) % Mem0[dwArg04 + 0x00:word32]);
	word32 dwLoc10_35 = Mem26[dwArg04 + 0x04:word32][Mem26[dwArg0C + 0x00:word32] * 0x04];
	while (true)
	{
		word32 eax_54;
		if (dwLoc10_35 == 0x00)
			break;
		if (strcmp(Mem26[dwLoc10_35 + 0x00:word32], dwArg08) == 0x00)
		{
			eax_54 = dwLoc10_35;
			return eax_54;
		}
		dwLoc10_35 = Mem26[dwLoc10_35 + 0x08:word32];
	}
	eax_54 = 0x00;
	return eax_54;
}

// 080B45ED: void putHash_ss(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void putHash_ss(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_16 = lookupHash_ss(dwArg04, dwArg08, fp - 0x10);
	if (eax_16 != 0x00)
		Mem32[eax_16 + 0x04:word32] = dwArg0C;
	else
	{
		word32 esp_35;
		word32 ebp_36;
		byte SCZO_37;
		word32 eax_38;
		byte Z_39;
		word32 edx_40;
		!GC_malloc();
		Mem44[eax_38 + 0x00:word32] = dwArg08;
		Mem47[eax_38 + 0x04:word32] = dwArg0C;
		Mem56[eax_38 + 0x08:word32] = Mem47[dwArg04 + 0x04:word32][dwLoc10 * 0x04];
		Mem56[dwArg04 + 0x04:word32][dwLoc10 * 0x04] = eax_38;
	}
}

// 080B466C: void getHash_ss(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void getHash_ss(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
}

// 080B46A1: void newHash_sv(Register word32 eax, Stack word32 dwArg04)
void newHash_sv(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SO_14;
	!GC_malloc();
	Mem19[eax_12 + 0x00:word32] = dwArg04;
	word32 esp_24;
	word32 ebp_25;
	byte SCZO_26;
	word32 eax_27;
	word32 edx_28;
	byte SO_29;
	!GC_malloc();
	Mem32[eax_12 + 0x04:word32] = eax_27;
	word32 dwLoc14_33 = 0x00;
	while (dwLoc14_33 < dwArg04)
	{
		Mem32[eax_12 + 0x04:word32][dwLoc14_33 * 0x04] = 0x00;
		dwLoc14_33 = dwLoc14_33 + 0x01;
	}
}

// 080B4702: Register word32 lookupHash_sv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 lookupHash_sv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem26[dwArg0C + 0x00:word32] = (uint32) ((uint64) (uint32) hashfunc(dwArg08) % Mem0[dwArg04 + 0x00:word32]);
	word32 dwLoc10_35 = Mem26[dwArg04 + 0x04:word32][Mem26[dwArg0C + 0x00:word32] * 0x04];
	while (true)
	{
		word32 eax_54;
		if (dwLoc10_35 == 0x00)
			break;
		if (strcmp(Mem26[dwLoc10_35 + 0x00:word32], dwArg08) == 0x00)
		{
			eax_54 = dwLoc10_35;
			return eax_54;
		}
		dwLoc10_35 = Mem26[dwLoc10_35 + 0x08:word32];
	}
	eax_54 = 0x00;
	return eax_54;
}

// 080B4775: void putHash_sv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void putHash_sv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_16 = lookupHash_sv(dwArg04, dwArg08, fp - 0x10);
	if (eax_16 != 0x00)
		Mem32[eax_16 + 0x04:word32] = dwArg0C;
	else
	{
		word32 esp_35;
		word32 ebp_36;
		byte SCZO_37;
		word32 eax_38;
		byte Z_39;
		word32 edx_40;
		!GC_malloc();
		Mem44[eax_38 + 0x00:word32] = dwArg08;
		Mem47[eax_38 + 0x04:word32] = dwArg0C;
		Mem56[eax_38 + 0x08:word32] = Mem47[dwArg04 + 0x04:word32][dwLoc10 * 0x04];
		Mem56[dwArg04 + 0x04:word32][dwLoc10 * 0x04] = eax_38;
	}
}

// 080B47F4: Register word32 getHash_sv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 getHash_sv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_20;
	word32 eax_16 = lookupHash_sv(dwArg04, dwArg08, fp - 0x10);
	if (eax_16 == 0x00)
		eax_20 = dwArg0C;
	else
		eax_20 = Mem0[eax_16 + 0x04:word32];
	return eax_20;
}

// 080B4829: void newHash_iv(Register word32 eax, Stack word32 dwArg04)
void newHash_iv(word32 eax, word32 dwArg04)
{
	word32 esp_9;
	word32 ebp_10;
	byte SCZO_11;
	word32 eax_12;
	word32 edx_13;
	byte SO_14;
	!GC_malloc();
	Mem19[eax_12 + 0x00:word32] = dwArg04;
	word32 esp_24;
	word32 ebp_25;
	byte SCZO_26;
	word32 eax_27;
	word32 edx_28;
	byte SO_29;
	!GC_malloc();
	Mem32[eax_12 + 0x04:word32] = eax_27;
	word32 dwLoc14_33 = 0x00;
	while (dwLoc14_33 < dwArg04)
	{
		Mem32[eax_12 + 0x04:word32][dwLoc14_33 * 0x04] = 0x00;
		dwLoc14_33 = dwLoc14_33 + 0x01;
	}
}

// 080B488A: Register word32 lookupHash_iv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 lookupHash_iv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem21[dwArg0C + 0x00:word32] = (int32) (SEQ(dwArg08 >> 0x1F, dwArg08) % Mem0[dwArg04 + 0x00:word32]);
	word32 dwLoc08_30 = Mem21[dwArg04 + 0x04:word32][Mem21[dwArg0C + 0x00:word32] * 0x04];
	while (true)
	{
		word32 eax_37;
		if (dwLoc08_30 == 0x00)
			break;
		if (Mem21[dwLoc08_30 + 0x00:word32] == dwArg08)
		{
			eax_37 = dwLoc08_30;
			return eax_37;
		}
		dwLoc08_30 = Mem21[dwLoc08_30 + 0x08:word32];
	}
	eax_37 = 0x00;
	return eax_37;
}

// 080B48E1: void putHash_iv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void putHash_iv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_16 = lookupHash_iv(dwArg04, dwArg08, fp - 0x10);
	if (eax_16 != 0x00)
		Mem32[eax_16 + 0x04:word32] = dwArg0C;
	else
	{
		word32 esp_35;
		word32 ebp_36;
		byte SCZO_37;
		word32 eax_38;
		byte Z_39;
		word32 edx_40;
		!GC_malloc();
		Mem44[eax_38 + 0x00:word32] = dwArg08;
		Mem47[eax_38 + 0x04:word32] = dwArg0C;
		Mem56[eax_38 + 0x08:word32] = Mem47[dwArg04 + 0x04:word32][dwLoc10 * 0x04];
		Mem56[dwArg04 + 0x04:word32][dwLoc10 * 0x04] = eax_38;
	}
}

// 080B4960: Register word32 getHash_iv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 getHash_iv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_20;
	word32 eax_16 = lookupHash_iv(dwArg04, dwArg08, fp - 0x08);
	if (eax_16 == 0x00)
		eax_20 = dwArg0C;
	else
		eax_20 = Mem0[eax_16 + 0x04:word32];
	return eax_20;
}

// 080B4998: void wc_char_conv_init(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_init(word32 dwArg04, word32 dwArg08)
{
	wc_input_init(dwArg04, 0x0817FD60);
	Mem12[0x0817FD88:word32] = ~0x00;
	Mem14[135789888:word32] = dwArg04;
	Mem17[0x080DB900:word32] = dwArg08;
}

// 080B49CD: Register word32 wc_char_conv(Stack word32 dwArg04)
word32 wc_char_conv(word32 dwArg04)
{
	word32 edx_18 = Mem0[Mem0[0x0817FD60:word32] + 0x1C:word32];
	word32 esp_24;
	word32 ebp_25;
	word32 ebx_26;
	byte SCZO_27;
	word32 eax_28;
	byte al_29;
	word32 edx_30;
	edx_18();
	word32 ebx_34;
	return wc_Str_conv(eax_28, 0x00310000, ebx_26, out ebx_34);
}

// 080B4A18: Register word32 wc_guess_charset(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_guess_charset(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_17;
	if (dwArg04 != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00)
	{
		word32 esp_40;
		word32 ebp_41;
		word32 eax_42 = wc_charset_to_ces(gs, dwArg04, out esp_40, out ebp_41);
		Mem43[ebp_41 - 0x0C + 0x00:word32] = eax_42;
		if (Mem43[ebp_41 - 0x0C + 0x00:word32] != 0x00)
			eax_17 = Mem43[ebp_41 - 0x0C + 0x00:word32];
		else
			eax_17 = Mem43[ebp_41 + 0x0C:word32];
	}
	else
		eax_17 = dwArg08;
	return eax_17;
}

// 080B4A51: Register word32 wc_guess_charset_short(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_guess_charset_short(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_17;
	if (dwArg04 != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00)
	{
		Mem40[fp - 0x10 + 0x00:word32] = wc_charset_short_to_ces(gs, dwArg04);
		if (Mem40[fp - 0x10 + 0x00:word32] != 0x00)
			eax_17 = Mem40[fp - 0x10 + 0x00:word32];
		else
			eax_17 = Mem40[fp + 0x08:word32];
	}
	else
		eax_17 = dwArg08;
	return eax_17;
}

// 080B4A8A: Register word32 wc_guess_locale_charset(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_guess_locale_charset(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_17;
	if (dwArg04 != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00)
	{
		Mem40[fp - 0x10 + 0x00:word32] = wc_locale_to_ces(gs, dwArg04);
		if (Mem40[fp - 0x10 + 0x00:word32] != 0x00)
			eax_17 = Mem40[fp - 0x10 + 0x00:word32];
		else
			eax_17 = Mem40[fp + 0x08:word32];
	}
	else
		eax_17 = dwArg08;
	return eax_17;
}

// 080B4AC3: Register word32 wc_charset_to_ces(Register selector gs, Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 wc_charset_to_ces(selector gs, word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 dwLoc24_139 = dwArg04;
	word32 esp_27;
	word32 ebp_28;
	word32 ebx_29;
	byte SCZO_30;
	word32 eax_31;
	byte SZO_33;
	byte C_34;
	byte al_35;
	byte Z_36;
	byte CZ_37;
	word32 edx_38;
	selector gs_133;
	!tolower();
	word32 eax_15 = Mem0[gs:0x14:word32];
	if (eax_31 == 0x78 && (byte) ((word32) Mem0[dwArg04 + 0x01:byte]) == 0x2D)
		dwLoc24_139 = dwArg04 + 0x02;
	word32 dwLoc28_126 = 0x00;
	while ((byte) (word32) Mem0[dwLoc24_139 + 0x00:byte] != 0x00 && dwLoc28_126 <= 0x0E)
	{
		if ((byte) (word32) Mem0[dwLoc24_139 + 0x00:byte] >u 0x20 && ((byte) ((word32) Mem0[dwLoc24_139 + 0x00:byte]) != 0x5F && (byte) ((word32) Mem0[dwLoc24_139 + 0x00:byte]) != 0x2D))
		{
			word32 esp_158;
			word32 ebp_159;
			word32 ebx_160;
			byte SCZO_161;
			word32 eax_162;
			byte SZO_164;
			byte C_165;
			byte al_166;
			byte Z_167;
			byte CZ_168;
			word32 edx_169;
			!tolower();
			Mem170[fp - 0x20 + ebx_160:byte] = al_166;
			dwLoc28_126 = dwLoc28_126 + 0x01;
		}
		dwLoc24_139 = dwLoc24_139 + 0x01;
	}
	Mem65[fp - 0x20 + dwLoc28_126:byte] = 0x00;
	word32 eax_72 = (int32) (byte) (word32) bLoc20;
	if (eax_72 >u 0x77)
	{
		if ((eax_15 ^ Mem65[gs_133:0x14:word32]) != 0x00)
			__stack_chk_fail();
		word32 ebp_116;
		*ebpOut = ebp;
		word32 esp_117;
		*espOut = fp;
		return 0x00;
	}
	else
	{
		word32 eax_91 = 0x080D1B90[(eax_72 - 0x61) * 0x04];
		word32 esp_93;
		word32 ebp_94;
		word32 ebx_95;
		byte SCZO_96;
		word32 eax_97;
		selector gs_98;
		byte SZO_99;
		byte C_100;
		byte al_101;
		byte Z_102;
		byte CZ_103;
		word32 edx_104;
		eax_91();
		return eax_97;
	}
}

// 080B568A: Register word32 wc_charset_short_to_ces(Register selector gs, Stack word32 dwArg04)
word32 wc_charset_short_to_ces(selector gs, word32 dwArg04)
{
	word32 eax_106;
	word32 ebp_124;
	word32 esp_125;
	word32 eax_26 = wc_charset_to_ces(gs, dwArg04, out esp_125, out ebp_124);
	Mem27[ebp_124 - 0x24 + 0x00:word32] = eax_26;
	if (Mem27[ebp_124 - 0x24 + 0x00:word32] != 0x00)
		eax_106 = Mem27[ebp_124 - 0x24 + 0x00:word32];
	else
	{
		Mem64[ebp_124 - 0x28 + 0x00:word32] = 0x00;
		while ((byte) (word32) Mem64[Mem64[ebp_124 - 0x20 + 0x00:word32] + 0x00:byte] != 0x00 && Mem64[(ebp_124 - 0x28) + 0x00:word32] <= 0x0E)
		{
			if ((byte) (word32) Mem64[Mem64[ebp_124 - 0x20 + 0x00:word32] + 0x00:byte] >u 0x20 && ((byte) ((word32) Mem64[Mem64[(ebp_124 - 0x20) + 0x00:word32] + 0x00:byte]) != 0x5F && (byte) ((word32) Mem64[Mem64[(ebp_124 - 0x20) + 0x00:word32] + 0x00:byte]) != 0x2D))
			{
				word32 eax_143 = (int32) (byte) (word32) Mem64[Mem64[ebp_124 - 0x20 + 0x00:word32] + 0x00:byte];
				Mem145[esp_125 + 0x00:word32] = eax_143;
				word32 ebx_148;
				byte SCZO_149;
				word32 eax_150;
				byte SZO_152;
				byte C_153;
				byte Z_154;
				word32 edx_155;
				byte al_156;
				byte CZ_157;
				!tolower();
				Mem158[ebp_124 - 0x1C + ebx_148:byte] = al_156;
				Mem160[ebp_124 - 0x28 + 0x00:word32] = Mem158[ebp_124 - 0x28 + 0x00:word32] + 0x01;
			}
			Mem127[ebp_124 - 0x20 + 0x00:word32] = Mem64[ebp_124 - 0x20 + 0x00:word32] + 0x01;
		}
		Mem81[ebp_124 - 0x1C + Mem64[(ebp_124 - 0x28) + 0x00:word32]:byte] = 0x00;
		Mem83[ebp_124 - 0x20 + 0x00:word32] = ebp_124 - 0x1C;
		word32 eax_87 = (int32) (byte) (word32) Mem83[Mem83[ebp_124 - 0x20 + 0x00:word32] + 0x00:byte];
		if (eax_87 <=u 0x77)
		{
			word32 eax_92 = 0x080D1C28[(eax_87 - 0x61) * 0x04];
			word32 esp_94;
			word32 ebp_95;
			word32 ebx_96;
			byte SCZO_97;
			word32 eax_98;
			selector gs_99;
			byte SZO_100;
			byte C_101;
			byte Z_102;
			word32 edx_103;
			byte al_104;
			byte CZ_105;
			eax_92();
			return eax_98;
		}
		eax_106 = 0x00;
	}
	if ((Mem27[ebp_124 - 0x0C + 0x00:word32] ^ Mem27[gs:0x14:word32]) != 0x00)
		__stack_chk_fail();
	return eax_106;
}

// 080B5999: Register word32 wc_locale_to_ces(Register selector gs, Stack word32 dwArg04)
word32 wc_locale_to_ces(selector gs, word32 dwArg04)
{
	word32 eax_110;
	word32 eax_15 = (word32) Mem0[dwArg04 + 0x00:byte];
	word32 dwLoc10_12 = dwArg04 + 0x01;
	byte al_16 = (byte) eax_15;
	if (al_16 == 0x43 && (byte) ((word32) Mem0[dwArg04 + 0x01:byte]) == 0x00)
		eax_110 = 0x0100;
	else
	{
		word32 esp_48;
		word32 ebp_49;
		word32 ebx_50;
		byte SCZO_51;
		word32 eax_52;
		byte al_53;
		byte Z_54;
		byte SZO_55;
		byte C_56;
		byte CZ_57;
		selector gs_214;
		!nl_langinfo();
		if (eax_52 != 0x00 && strcmp(eax_52, 0x080D1CA8) != 0x00)
		{
			word32 esp_260;
			word32 ebp_261;
			eax_110 = wc_charset_to_ces(gs_214, eax_52, out esp_260, out ebp_261);
		}
		else
		{
			word32 dwLoc14_216 = 0x00;
			while ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] != 0x00 && ((byte) ((word32) Mem0[dwLoc10_12 + 0x00:byte]) != 0x2E && dwLoc14_216 <= 0x04))
			{
				if ((byte) (word32) Mem0[dwLoc10_12 + 0x00:byte] >u 0x20)
				{
					word32 esp_236;
					word32 ebp_237;
					word32 ebx_238;
					byte SCZO_239;
					word32 eax_240;
					byte al_241;
					byte Z_242;
					byte SZO_243;
					byte C_244;
					byte CZ_245;
					!tolower();
					Mem247[fp - 0x1E + ebx_238:byte] = al_241;
					dwLoc14_216 = dwLoc14_216 + 0x01;
				}
				dwLoc10_12 = dwLoc10_12 + 0x01;
			}
			Mem86[fp - 0x1E + dwLoc14_216:byte] = 0x00;
			if ((byte) (word32) Mem86[dwLoc10_12 + 0x00:byte] == 0x2E)
			{
				word32 v11_92 = dwLoc10_12 + 0x00;
				if (strcasecmp(v11_92, 0x080D1AA3) == 0x00)
				{
					word32 eax_115 = (int32) (byte) (word32) bLoc1E;
					if (eax_115 != 0x6B)
					{
						if (eax_115 != 122)
						{
							if (eax_115 == 0x6A)
								Mem123[135789980:word32] = 0x01;
							else
								Mem124[135789980:word32] = 0x00;
						}
						else if (strcmp(fp - 0x1E, 0x080D1CB1) == 0x00)
							Mem132[135789980:word32] = 0x03;
						else if (strcmp(fp - 0x1E, 135077047) == 0x00)
							Mem140[135789980:word32] = 0x04;
						else
							Mem141[135789980:word32] = 0x02;
					}
					else
						Mem142[135789980:word32] = 0x05;
				}
				word32 esp_108;
				word32 ebp_109;
				eax_110 = wc_charset_to_ces(gs_214, v11_92, out esp_108, out ebp_109);
			}
			else if (strcmp(fp - 0x1E, 135077053) == 0x00)
				eax_110 = 0x00302038;
			else if (strcmp(fp - 0x1E, 0x080D1CB1) != 0x00 && strcmp(fp - 0x1E, 135077047) != 0x00)
			{
				word32 dwLoc14_173 = 0x00;
				while (0x080DB920[dwLoc14_173 * 0x08] != 0x00)
				{
					if (strncmp(fp - 0x1E, 0x080DB920[dwLoc14_173 * 0x08], 0x02) == 0x00)
					{
						eax_110 = 0x080DB924[dwLoc14_173 * 0x08];
						return eax_110;
					}
					dwLoc14_173 = dwLoc14_173 + 0x01;
				}
				eax_110 = 0x00100201;
			}
			else
				eax_110 = 0x0030203D;
		}
	}
	return eax_110;
}

// 080B5BCC: Register word32 wc_ces_to_charset(Stack word32 dwArg04)
word32 wc_ces_to_charset(word32 dwArg04)
{
	word32 eax_10;
	if (dwArg04 == 0x00310000)
		eax_10 = 0x080D1CC6;
	else
		eax_10 = 0x0817A7A4[(dwArg04 & 0xFF) * 0x20];
	return eax_10;
}

// 080B5BF2: Register word32 wc_ces_to_charset_desc(Stack word32 dwArg04)
word32 wc_ces_to_charset_desc(word32 dwArg04)
{
	word32 eax_10;
	if (dwArg04 == 0x00310000)
		eax_10 = 0x080D1CCA;
	else
		eax_10 = 0x0817A7A8[(dwArg04 & 0xFF) * 0x20];
	return eax_10;
}

// 080B5C18: Register word32 wc_guess_8bit_charset(Stack word32 dwArg04)
word32 wc_guess_8bit_charset(word32 dwArg04)
{
	word32 eax_13;
	if (dwArg04 >u 2099219)
	{
		if (dwArg04 != 2099221)
		{
			if (dwArg04 >=u 2099221 && dwArg04 != 0x0020203C)
				goto l080B5C68;
			eax_13 = 0x00301017;
		}
		else
			eax_13 = 0x00301019;
		return eax_13;
	}
	else
	{
		if (dwArg04 >=u 0x00200811)
		{
			eax_13 = 0x00301016;
			return eax_13;
		}
		if (dwArg04 == 0x0100)
		{
			eax_13 = 0x00100201;
			return eax_13;
		}
l080B5C68:
		eax_13 = dwArg04;
		return eax_13;
	}
}

// 080B5C6D: Register byte wc_check_ces(Stack word32 dwArg04)
byte wc_check_ces(word32 dwArg04)
{
	byte al_17;
	if ((dwArg04 & 0xFF) <=u 0x46 && 0x0817A7A0[(dwArg04 & 0xFF) * 0x20] == dwArg04)
		al_17 = 0x01;
	else
		al_17 = 0x00;
	return al_17;
}

// 080B5CA3: void wc_ces_list_cmp(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_ces_list_cmp(word32 dwArg04, word32 dwArg08)
{
	strcasecmp(Mem0[dwArg04 + 0x08:word32], Mem0[dwArg08 + 0x08:word32]);
}

// 080B5CC3: Register word32 wc_get_ces_list()
word32 wc_get_ces_list()
{
	word32 eax_118;
	if (Mem0[0x0817FDA0:word32] != 0x00)
		eax_118 = Mem0[0x0817FDA0:word32];
	else
	{
		word32 dwLoc10_171 = 0x0817A7A4;
		while (Mem0[dwLoc10_171 + 0x00:word32] != 0x00)
			dwLoc10_171 = dwLoc10_171 + 0x20;
		word32 esp_56;
		word32 ebp_57;
		byte SCZO_58;
		word32 eax_59;
		byte SZO_60;
		byte C_61;
		byte Z_62;
		word32 edx_63;
		word32 ecx_64;
		!GC_malloc();
		Mem65[0x0817FDA0:word32] = eax_59;
		word32 dwLoc10_129 = 0x0817A7A0;
		word32 dwLoc14_124 = 0x00;
		while (Mem65[dwLoc10_129 + 0x00:word32] != 0x00)
		{
			if (Mem65[dwLoc10_129 + 0x04:word32] != 0x00)
			{
				Mem65[0x0817FDA0:word32][dwLoc14_124 * 0x0C] = Mem65[dwLoc10_129 + 0x00:word32];
				Mem150[Mem140[0x0817FDA0:word32] + dwLoc14_124 * 0x0C + 0x04:word32] = Mem140[dwLoc10_129 + 0x04:word32];
				Mem160[Mem150[0x0817FDA0:word32] + dwLoc14_124 * 0x0C + 0x08:word32] = Mem150[dwLoc10_129 + 0x08:word32];
				dwLoc14_124 = dwLoc14_124 + 0x01;
			}
			dwLoc10_129 = dwLoc10_129 + 0x20;
		}
		Mem65[0x0817FDA0:word32][dwLoc14_124 * 0x0C] = 0x00;
		Mem93[Mem85[0x0817FDA0:word32] + dwLoc14_124 * 0x0C + 0x04:word32] = 0x00;
		word32 ecx_94 = Mem93[0x0817FDA0:word32];
		Mem102[ecx_94 + dwLoc14_124 * 0x0C + 0x08:word32] = 0x00;
		word32 esp_109;
		word32 ebp_110;
		byte SCZO_111;
		word32 eax_112;
		byte SZO_113;
		byte C_114;
		byte Z_115;
		word32 edx_116;
		word32 ecx_117;
		!qsort();
		eax_118 = Mem102[0x0817FDA0:word32];
	}
	return eax_118;
}

// 080B5E24: Register word32 wc_Str_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 ebxOut)
word32 wc_Str_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	word32 ebp_26 = fp - 0x04;
	if (dwArg08 != 0x00310000)
	{
		word32 edx_51 = 0x0817A7A4[((dwArg08 & 0xFF) * 0x02 + 0x01) * 0x10];
		word32 esp_56;
		byte SCZO_58;
		byte Z_59;
		word32 eax_60;
		byte SZO_61;
		byte C_62;
		word32 edx_63;
		word32 ebx_64;
		edx_51();
		dwArg04 = eax_60;
	}
	word32 eax_33;
	if (dwArg0C != 0x00310000)
		eax_33 = wc_conv_to_ces(ebp_26, dwArg04, dwArg0C);
	else
		eax_33 = dwArg04;
	return eax_33;
}

// 080B5E7D: Register word32 wc_Str_conv_strict(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 ebxOut)
word32 wc_Str_conv_strict(word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & ebxOut)
{
	Mem17[0x080DC0AC:byte] = 0x01;
	Mem18[0x080DC0AE:byte] = 0x01;
	Mem19[135119013:byte] = 0x00;
	word32 ebx_29;
	Mem31[fp - 0x10 + 0x00:word32] = wc_Str_conv(dwArg04, dwArg08, dwArg0C, out ebx_29);
	Mem33[0x080DC0A0:word32] = Mem31[fp - 0x20 + 0x00:word32];
	Mem35[0x080DC0A4:word32] = Mem33[fp - 0x1C + 0x00:word32];
	Mem37[0x080DC0A8:word32] = Mem35[fp - 0x18 + 0x00:word32];
	Mem39[0x080DC0AC:word32] = Mem37[fp - 0x14 + 0x00:word32];
	return Mem39[fp - 0x10 + 0x00:word32];
}

// 080B5EF9: Register word32 wc_conv_to_ces(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_conv_to_ces(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc1C_26;
	word32 eax_13 = Mem0[dwArg04 + 0x00:word32];
	word32 ebp_104 = fp - 0x04;
	word32 esp_105 = fp - 0x7C;
	word32 eax_17 = Mem0[dwArg04 + 0x04:word32] + eax_13;
	if (dwArg08 >=u 0x00104442)
	{
		if (dwArg08 <=u 0x00104444)
		{
			dwLoc1C_26 = eax_13;
			while (dwLoc1C_26 <u eax_17 && ((byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) >u 0x1F && (byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) >= 0x00))
				dwLoc1C_26 = dwLoc1C_26 + 0x01;
l080B5FB9:
			word32 eax_111;
			if (dwLoc1C_26 == eax_17)
			{
				eax_111 = dwArg04;
				return eax_111;
			}
			word32 eax_70 = Mem0[dwArg04 + 0x04:word32];
			Strnew_size(eax_70, eax_70);
			if (dwLoc1C_26 >u eax_13)
				dwLoc1C_26 = dwLoc1C_26 - 0x01;
			if (dwLoc1C_26 >u eax_13)
				Strcat_charp_n(eax_70, Mem0[dwArg04 + 0x00:word32], dwLoc1C_26 - eax_13);
			wc_output_init(dwArg08, fp - 0x68);
			if (dwArg08 <=u 2099221)
			{
				if (dwArg08 <u 0x00200811 && dwArg08 >u 0x00104444)
				{
l080B6169:
					while (Mem0[ebp_104 - 0x18 + 0x00:word32] <u Mem0[(ebp_104 - 0x14) + 0x00:word32])
					{
						byte al_180 = (byte) (word32) Mem0[Mem0[ebp_104 - 0x18 + 0x00:word32] + 0x00:byte];
						if (al_180 >= 0x00 && (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[(ebp_104 - 0x18) + 0x00:word32] + 0x01:byte])) + 0x081799E0:byte]) != 0x00)
						{
							if (Mem0[Mem0[ebp_104 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(ebp_104 - 0x0C) + 0x00:word32] + 0x08:word32])
							{
								Mem258[esp_105 + 0x00:word32] = Mem0[ebp_104 - 0x0C + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_237 = Mem0[Mem0[ebp_104 - 0x0C + 0x00:word32] + 0x04:word32];
							Mem243[Mem0[Mem0[ebp_104 - 0x0C + 0x00:word32] + 0x00:word32] + eax_237:byte] = (byte) (word32) Mem0[Mem0[ebp_104 - 0x18 + 0x00:word32] + 0x00:byte];
							Mem246[Mem243[ebp_104 - 0x0C + 0x00:word32] + 0x04:word32] = eax_237 + 0x01;
							Mem252[Mem246[Mem246[ebp_104 - 0x0C + 0x00:word32] + 0x00:word32] + Mem246[Mem246[(ebp_104 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
							Mem256[ebp_104 - 0x18 + 0x00:word32] = Mem252[ebp_104 - 0x18 + 0x00:word32] + 0x01;
						}
						else
						{
							word32 ebx_185 = Mem0[Mem0[ebp_104 - 100 + 0x00:word32] + 0x18:word32];
							Mem188[esp_105 + 0x04:word32] = ebp_104 - 0x18;
							Mem189[esp_105 + 0x00:word32] = ebp_104 - 0x28;
							wtf_parse(ebp_104, dwArg00, dwArg04);
							word32 esp_190 = esp_105 + 0x04;
							Mem194[esp_190 + 0x08:word32] = ebp_104 - 100;
							word32 edx_196 = Mem194[ebp_104 - 0x24 + 0x00:word32];
							Mem197[esp_190 + 0x00:word32] = Mem194[ebp_104 - 0x28 + 0x00:word32];
							Mem198[esp_190 + 0x04:word32] = edx_196;
							word32 eax_199 = Mem198[ebp_104 - 0x0C + 0x00:word32];
							Mem200[esp_190 - 0x04 + 0x00:word32] = eax_199;
							word32 ebx_203;
							byte SCZO_204;
							word32 eax_205;
							byte C_206;
							byte CZ_207;
							byte Z_208;
							byte al_209;
							byte SZO_210;
							byte S_211;
							word32 edx_212;
							bcuiposr0 None_213;
							byte SO_214;
							word32 ecx_215;
							byte dl_216;
							ebx_185();
						}
					}
l080B6175:
					Mem107[esp_105 + 0x04:word32] = ebp_104 - 100;
					Mem109[esp_105 + 0x00:word32] = Mem107[ebp_104 - 0x0C + 0x00:word32];
					wc_push_end(dwArg00, dwArg04);
					eax_111 = Mem109[ebp_104 - 0x0C + 0x00:word32];
					return eax_111;
				}
			}
			else if (dwArg08 != 2129990 && (dwArg08 != 0x00308045 && dwArg08 != 0x0020203C))
				goto l080B6169;
			while (Mem0[ebp_104 - 0x18 + 0x00:word32] <u Mem0[(ebp_104 - 0x14) + 0x00:word32])
			{
				word32 ebx_130 = Mem0[Mem0[ebp_104 - 100 + 0x00:word32] + 0x18:word32];
				Mem133[esp_105 + 0x04:word32] = ebp_104 - 0x18;
				Mem134[esp_105 + 0x00:word32] = ebp_104 - 0x20;
				wtf_parse(ebp_104, dwArg00, dwArg04);
				word32 esp_135 = esp_105 + 0x04;
				Mem139[esp_135 + 0x08:word32] = ebp_104 - 100;
				word32 edx_141 = Mem139[ebp_104 - 0x1C + 0x00:word32];
				Mem142[esp_135 + 0x00:word32] = Mem139[ebp_104 - 0x20 + 0x00:word32];
				Mem143[esp_135 + 0x04:word32] = edx_141;
				word32 eax_144 = Mem143[ebp_104 - 0x0C + 0x00:word32];
				Mem145[esp_135 - 0x04 + 0x00:word32] = eax_144;
				word32 ebx_148;
				byte SCZO_149;
				word32 eax_150;
				byte C_151;
				byte CZ_152;
				byte Z_153;
				byte al_154;
				byte SZO_155;
				byte S_156;
				word32 edx_157;
				bcuiposr0 None_158;
				byte SO_159;
				word32 ecx_160;
				byte dl_161;
				ebx_130();
			}
			goto l080B6175;
		}
		if (dwArg08 == 0x0020203C)
		{
			dwLoc1C_26 = eax_13;
			while (dwLoc1C_26 <u eax_17 && ((byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) != 0x7E && (byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) >= 0x00))
				dwLoc1C_26 = dwLoc1C_26 + 0x01;
			goto l080B5FB9;
		}
	}
	dwLoc1C_26 = eax_13;
	while (dwLoc1C_26 <u eax_17 && (byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) >= 0x00)
		dwLoc1C_26 = dwLoc1C_26 + 0x01;
	goto l080B5FB9;
}

// 080B618F: Register word32 wc_Str_conv_with_detect(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 wc_Str_conv_with_detect(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[dwArg08 + 0x00:word32] != 0x00310000 && dwArg0C != 0x00310000)
	{
		if ((byte) (word32) Mem0[0x080DC0A0:byte] == 0x00)
			Mem60[dwArg08 + 0x00:word32] = dwArg0C;
		else
		{
			if ((Mem0[dwArg08 + 0x00:word32] & 0x00100000) != 0x00)
				dwArg0C = Mem0[dwArg08 + 0x00:word32];
			Mem80[fp - 0x10 + 0x00:word32] = wc_auto_detect(fp - 0x04, Mem0[dwArg04 + 0x00:word32], Mem0[dwArg04 + 0x04:word32], dwArg0C);
			if ((byte) (word32) Mem80[0x080DC0A0:byte] == 0x02)
			{
				if ((Mem80[fp - 0x10 + 0x00:word32] & 0x00100000) != 0x00 || (Mem80[(fp - 0x10) + 0x00:word32] & 0x0001FE00) != 0x00 && (Mem80[Mem80[fp + 0x08:word32] + 0x00:word32] & 0x00100000) == 0x00)
					Mem95[Mem80[fp + 0x08:word32] + 0x00:word32] = Mem80[fp - 0x10 + 0x00:word32];
			}
			else if ((Mem80[fp - 0x10 + 0x00:word32] & 0x0800) != 0x00 && (Mem80[Mem80[fp + 0x08:word32] + 0x00:word32] & 0x00100000) == 0x00)
				Mem121[Mem80[fp + 0x08:word32] + 0x00:word32] = Mem80[fp - 0x10 + 0x00:word32];
		}
	}
	else
		Mem41[dwArg08 + 0x00:word32] = 0x00310000;
	Mem25[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
	Mem27[fp - 0x28 + 0x00:word32] = Mem25[fp - 0x10 + 0x00:word32];
	Mem29[fp - 44 + 0x00:word32] = Mem27[fp + 0x04:word32];
	word32 ebx_32;
	return wc_Str_conv(dwArg00, dwArg04, dwArg08, out ebx_32);
}

// 080B628E: void wc_push_end(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_push_end(word32 dwArg04, word32 dwArg08)
{
	if ((Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32] & 0x0800) != 0x00)
		wc_push_to_iso2022_end(dwArg04, dwArg08);
	else if (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32] == 0x0020203C)
		wc_push_to_hz_end(dwArg04, dwArg08);
	else if (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32] == 0x00308045)
		wc_push_to_utf8_end(dwArg04, dwArg08);
	else if (Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32] == 2129990)
		wc_push_to_utf7_end(dwArg04, dwArg08);
}

// 080B6320: void wc_create_detect_map(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_create_detect_map(word32 dwArg04, word32 dwArg08)
{
	byte al_9 = (byte) dwArg08;
	if (dwArg04 != Mem0[0x080DBAA0:word32])
	{
		if ((dwArg04 & 0x4000) != 0x00)
		{
			word32 dwLoc0C_100 = 0x00;
			if (dwArg04 != 0x00104443)
			{
				if (dwArg04 != 0x00104444)
				{
					if (dwArg04 == 0x00104442)
						dwLoc0C_100 = 0x08179780;
				}
				else
					dwLoc0C_100 = 0x081797C0;
			}
			else
				dwLoc0C_100 = 0x081797A0;
			word32 dwLoc08_76 = 0x00;
			while (dwLoc08_76 <= 0x1F)
			{
				Mem92[dwLoc08_76 + 0x080DB9A0:byte] = (byte) (word32) Mem0[dwLoc08_76 + dwLoc0C_100:byte] != 0x00;
				dwLoc08_76 = dwLoc08_76 + 0x01;
			}
		}
		else
		{
			word32 dwLoc08_103 = 0x080DB9A0;
			while (dwLoc08_103 <= 4159850111)
			{
				Mem117[dwLoc08_103 + 0x00:byte] = 0x00;
				dwLoc08_103 = dwLoc08_103 + 0x01;
			}
			Mem111[135117342:byte] = dwArg04 == 0x0020203C;
			Mem115[0x080DB9CB:byte] = dwArg04 == 2129990;
		}
		Mem67[0x080DBAA0:word32] = dwArg04;
	}
	byte al_36;
	if (al_9 == 0x00 && (dwArg04 & 0x0800) == 0x00)
		al_36 = 0x00;
	else
		al_36 = 0x01;
	Mem37[0x080DB9BB:byte] = al_36;
}

// 080B6412: Register word32 wc_auto_detect(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 wc_auto_detect(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_create_detect_map(dwArg0C, 0x01);
	word32 dwLoc18_10 = dwArg04;
	word32 eax_14 = dwArg04 + dwArg08;
	word32 dwLoc54_135 = 0x08;
	while (dwLoc18_10 <u eax_14 && (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc18_10 + 0x00:byte])) + 0x080DB9A0:byte]) == 0x00)
		dwLoc18_10 = dwLoc18_10 + 0x01;
	word32 eax_111;
	if (dwLoc18_10 == eax_14)
	{
		eax_111 = dwArg0C;
		return eax_111;
	}
	if (dwArg0C != 0x00301016)
	{
		if (dwArg0C <=u 0x00301016)
		{
			if (dwArg0C <=u 2099219)
			{
				if (dwArg0C <u 0x00200811)
				{
					if (dwArg0C == 0x0100)
						goto l080B66F9;
					goto l080B66BD;
				}
				goto l080B659D;
			}
			if (dwArg0C != 2099221)
			{
				if (dwArg0C >=u 2099221)
				{
					if (dwArg0C != 0x0020203C)
						goto l080B66BD;
					goto l080B66F9;
				}
				goto l080B65D1;
			}
			goto l080B6673;
		}
		if (dwArg0C >u 0x00302039)
		{
			if (dwArg0C != 0x0030203D)
			{
				if (dwArg0C != 0x00308045)
					goto l080B66BD;
l080B66F9:
				wc_input_init(0x0100, fp - 0xA0);
				while (Mem0[fp - 0x18 + 0x00:word32] <u Mem0[(fp - 0x1C) + 0x00:word32] && (Mem0[(fp - 88) + 0x00:word32] != 0x00 && (Mem0[(fp - 88) + 0x00:word32] != 0x01 || Mem0[(fp - 0x11) + 0x00:byte] == 0x00)))
				{
					if (Mem0[fp - 0x3C + 0x00:word32] != 0x08)
					{
						word32 eax_823 = (word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte];
						if (eax_823 >= 0x0E)
						{
							if (eax_823 > 0x0F)
							{
								if (eax_823 != 0x1B)
									goto l080B6906;
								if ((byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x01:byte] == 0x24)
								{
									Mem858[fp - 0x20 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
									Mem860[fp - 0xB8 + 0x00:word32] = fp - 0xA0;
									Mem862[fp - 188 + 0x00:word32] = fp - 0x20;
									if (wc_parse_iso2022_esc(dwArg00, dwArg04) == 0x00)
										goto l080B6924;
									if (Mem862[fp - 0x90 + 0x00:word32] != 33088 && Mem862[(fp - 0x90) + 0x00:word32] != 33090)
									{
										if (Mem862[fp - 0x90 + 0x00:word32] != 33103 && Mem862[(fp - 0x90) + 0x00:word32] != 0x8150)
										{
											if ((Mem862[fp - 0x90 + 0x00:word32] & 0xFF00) == 0x8100)
												Mem917[fp - 0x0D + 0x00:byte] = 0x01;
										}
										else
											Mem909[fp - 0x0E + 0x00:byte] = 0x01;
									}
									if (Mem862[fp - 0x8C + 0x00:word32] == 33091)
										Mem886[fp - 0x10 + 0x00:byte] = 0x01;
									else if (Mem862[fp - 0x8C + 0x00:word32] == 0x8141 || (Mem862[(fp - 0x8C) + 0x00:word32] == 33093 || Mem862[(fp - 0x8C) + 0x00:word32] == 33095))
										Mem893[fp - 0x0F + 0x00:byte] = 0x01;
									if ((Mem862[fp - 0x88 + 0x00:word32] & 0xFF00) == 0x8100 || (Mem862[(fp - 0x84) + 0x00:word32] & 0xFF00) == 0x8100)
										Mem881[fp - 0x0F + 0x00:byte] = 0x01;
									goto l080B68E4;
								}
								if ((byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x01:byte] == 0x2E)
								{
									Mem925[fp - 0x20 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
									Mem927[fp - 0xB8 + 0x00:word32] = fp - 0xA0;
									Mem929[fp - 188 + 0x00:word32] = fp - 0x20;
									if (wc_parse_iso2022_esc(dwArg00, dwArg04) == 0x00)
										goto l080B6924;
									if ((Mem929[fp - 0x88 + 0x00:word32] & 0xFF00) == 0x0200)
										Mem938[fp - 0x0D + 0x00:byte] = 0x01;
									goto l080B68E4;
								}
								if ((byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x01:byte] == 0x25)
								{
									Mem946[fp - 0x20 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
									Mem948[fp - 0xB8 + 0x00:word32] = fp - 0xA0;
									Mem950[fp - 188 + 0x00:word32] = fp - 0x20;
									if (wc_parse_iso2022_esc(dwArg00, dwArg04) == 0x00)
										goto l080B6924;
									Mem955[fp - 88 + 0x00:word32] = 0x00;
									Mem956[fp - 0x3C + 0x00:word32] = 0x04;
									goto l080B6DE2;
								}
l080B68E4:
								Mem855[fp - 0x3C + 0x00:word32] = 0x02;
								Mem856[fp - 0x11 + 0x00:byte] = 0x01;
							}
							else
							{
								Mem957[fp - 0x3C + 0x00:word32] = 0x02;
								Mem958[fp - 0x11 + 0x00:byte] = 0x01;
								Mem959[fp - 0x0F + 0x00:byte] = 0x01;
								Mem960[fp - 0x10 + 0x00:byte] = 0x01;
							}
						}
						else
						{
l080B6906:
							if ((byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] < 0x00)
							{
								Mem835[fp - 0x3C + 0x00:word32] = 0x08;
								Mem837[fp - 88 + 0x00:word32] = Mem835[fp - 88 + 0x00:word32] - 0x01;
							}
						}
					}
l080B6924:
					if (Mem0[fp - 0x40 + 0x00:word32] != 0x08)
					{
						word32 eax_709 = Mem0[fp - 44 + 0x00:word32];
						if (eax_709 != 0x02)
						{
							if (eax_709 != 0x03)
							{
								if (eax_709 == 0x00)
								{
									word32 eax_734 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DBAC0:byte];
									if (eax_734 <=u 0x60)
									{
										word32 eax_739 = 0x080D1CE4[(eax_734 - 0x40) * 0x04];
										word32 esp_741;
										word32 ebp_742;
										byte SCZO_743;
										word32 eax_744;
										word32 edx_745;
										byte C_746;
										byte al_747;
										byte SZO_748;
										byte Z_749;
										byte CZ_750;
										byte SO_751;
										byte S_752;
										eax_739();
										return eax_744;
									}
								}
							}
							else
							{
								if ((byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] <=u ~0x60 || ((byte) ((word32) Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 0x00:byte]) >u 0xB0 || (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 0x01:byte])) + 0x080DBAC0:byte]) != 0x40))
									Mem769[fp - 0x40 + 0x00:word32] = 0x08;
								Mem763[fp - 44 + 0x00:word32] = 0x00;
							}
						}
						else
						{
							if ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DBAC0:byte] == 0x40)
							{
								Mem799[fp - 0x40 + 0x00:word32] = Mem0[fp - 0x40 + 0x00:word32] | 0x02;
								Mem802[fp - 0x11 + 0x00:byte] = 0x01;
							}
							else
							{
								word32 eax_810;
								if ((Mem0[fp - 0x40 + 0x00:word32] & 0x04) == 0x00)
									eax_810 = Mem0[fp - 0x40 + 0x00:word32] | 0x04;
								else
									eax_810 = 0x08;
								Mem812[fp - 0x40 + 0x00:word32] = eax_810;
							}
							Mem797[fp - 44 + 0x00:word32] = 0x00;
						}
						if (Mem0[fp - 0x40 + 0x00:word32] == 0x08)
							Mem721[fp - 88 + 0x00:word32] = Mem0[fp - 88 + 0x00:word32] - 0x01;
					}
					if (Mem0[fp - 0x44 + 0x00:word32] != 0x08)
					{
						word32 eax_607 = Mem0[fp - 0x30 + 0x00:word32];
						if (eax_607 != 0x01)
						{
							if (eax_607 != 0x03)
							{
								if (eax_607 == 0x00)
								{
									word32 eax_632 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte];
									if (eax_632 <=u 0x40)
									{
										word32 eax_637 = 0x080D1D68[(eax_632 - 0x12) * 0x04];
										word32 esp_639;
										word32 ebp_640;
										byte SCZO_641;
										word32 eax_642;
										word32 edx_643;
										byte C_644;
										byte al_645;
										byte SZO_646;
										byte Z_647;
										byte CZ_648;
										byte SO_649;
										byte S_650;
										eax_637();
										return eax_642;
									}
								}
							}
							else
							{
								if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte] & 0x10) != 0x00)
									Mem666[fp - 0x44 + 0x00:word32] = Mem0[fp - 0x44 + 0x00:word32] | 0x01;
								else
									Mem669[fp - 0x44 + 0x00:word32] = 0x08;
								Mem664[fp - 0x30 + 0x00:word32] = 0x00;
							}
						}
						else
						{
							if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte] & 0x10) != 0x00)
							{
								Mem688[fp - 0x44 + 0x00:word32] = Mem0[fp - 0x44 + 0x00:word32] | 0x02;
								Mem691[fp - 0x11 + 0x00:byte] = 0x01;
							}
							else
							{
								word32 eax_699;
								if ((Mem0[fp - 0x44 + 0x00:word32] & 0x04) == 0x00)
									eax_699 = Mem0[fp - 0x44 + 0x00:word32] | 0x04;
								else
									eax_699 = 0x08;
								Mem701[fp - 0x44 + 0x00:word32] = eax_699;
							}
							Mem686[fp - 0x30 + 0x00:word32] = 0x00;
						}
						if (Mem0[fp - 0x44 + 0x00:word32] == 0x08)
							Mem619[fp - 88 + 0x00:word32] = Mem0[fp - 88 + 0x00:word32] - 0x01;
					}
					if (Mem0[fp - 0x48 + 0x00:word32] != 0x08)
					{
						word32 eax_538 = Mem0[fp - 0x34 + 0x00:word32];
						if (eax_538 != 0x00)
						{
							if (eax_538 == 0x01)
							{
								if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 135765312:byte] & 0x04) != 0x00)
								{
									Mem572[fp - 0x48 + 0x00:word32] = Mem0[fp - 0x48 + 0x00:word32] | 0x02;
									Mem575[fp - 0x11 + 0x00:byte] = 0x01;
								}
								else
								{
									word32 eax_583;
									if ((Mem0[fp - 0x48 + 0x00:word32] & 0x04) == 0x00)
										eax_583 = Mem0[fp - 0x48 + 0x00:word32] | 0x04;
									else
										eax_583 = 0x08;
									Mem585[fp - 0x48 + 0x00:word32] = eax_583;
								}
								Mem570[fp - 0x34 + 0x00:word32] = 0x00;
							}
						}
						else
						{
							word32 eax_599 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 135765312:byte];
							if (eax_599 != 0x02)
							{
								if (eax_599 == 0x07)
									Mem605[fp - 0x34 + 0x00:word32] = 0x01;
							}
							else
								Mem606[fp - 0x48 + 0x00:word32] = 0x08;
						}
						if (Mem0[fp - 0x48 + 0x00:word32] == 0x08)
							Mem550[fp - 88 + 0x00:word32] = Mem0[fp - 88 + 0x00:word32] - 0x01;
					}
					if (Mem0[fp - 0x4C + 0x00:word32] != 0x08)
					{
						if ((byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] < 0x00)
						{
							Mem515[fp - 0x4C + 0x00:word32] = 0x08;
							Mem517[fp - 88 + 0x00:word32] = Mem515[fp - 88 + 0x00:word32] - 0x01;
						}
						else if (Mem0[fp - 0x38 + 0x00:word32] <=u 0x04)
						{
							word32 eax_524 = 0x080D1E24[Mem0[fp - 0x38 + 0x00:word32] * 0x04];
							word32 esp_526;
							word32 ebp_527;
							byte SCZO_528;
							word32 eax_529;
							word32 edx_530;
							byte C_531;
							byte al_532;
							byte SZO_533;
							byte Z_534;
							byte CZ_535;
							byte SO_536;
							byte S_537;
							eax_524();
							return eax_529;
						}
					}
					if (Mem0[fp - 0x50 + 0x00:word32] != 0x08)
					{
						word32 eax_485 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x080DBAC0:byte];
						if ((eax_485 & 0xF0) != 0x50)
						{
							if ((eax_485 & 0xF0) == 0x60 || (eax_485 & 0xF0) == 0x40)
							{
								Mem502[fp - 0x50 + 0x00:word32] = Mem0[fp - 0x50 + 0x00:word32] | 0x02;
								Mem505[fp - 0x11 + 0x00:byte] = 0x01;
							}
						}
						else
							Mem508[fp - 0x50 + 0x00:word32] = 0x08;
						if (Mem0[fp - 0x50 + 0x00:word32] == 0x08)
							Mem495[fp - 88 + 0x00:word32] = Mem0[fp - 88 + 0x00:word32] - 0x01;
					}
					if (Mem0[fp - 0x54 + 0x00:word32] != 0x08 && ((byte) ((word32) Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 0x00:byte]) != 0x1B && (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[(fp - 0x18) + 0x00:word32] + 0x00:byte])) + 0x080DB9A0:byte]) != 0x00))
					{
						Mem475[fp - 0x54 + 0x00:word32] = Mem0[fp - 0x54 + 0x00:word32] | 0x02;
						Mem478[fp - 0x11 + 0x00:byte] = 0x01;
					}
					if (Mem0[fp - 0x60 + 0x00:word32] != 0x08)
					{
						word32 eax_383 = Mem0[fp - 0x5C + 0x00:word32];
						if (eax_383 != 0x00)
						{
							if (eax_383 == 0x01)
							{
								if ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x081794A0:byte] != 0x00)
								{
									Mem408[fp - 0x60 + 0x00:word32] = 0x08;
									Mem409[fp - 0x5C + 0x00:word32] = 0x00;
								}
								else
								{
									Mem411[fp - 100 + 0x00:word32] = Mem0[fp - 100 + 0x00:word32] - 0x01;
									if (Mem411[fp - 100 + 0x00:word32] == 0x00)
									{
										Mem415[fp - 0x60 + 0x00:word32] = Mem411[fp - 0x60 + 0x00:word32] | 0x02;
										Mem418[fp - 0x11 + 0x00:byte] = 0x01;
										Mem419[fp - 0x5C + 0x00:word32] = 0x00;
									}
								}
							}
							goto l080B6DD8;
						}
						Mem427[fp - 100 + 0x00:word32] = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x18 + 0x00:word32] + 0x00:byte] + 0x081794A0:byte];
						word32 eax_428 = Mem427[fp - 100 + 0x00:word32];
						if (eax_428 != 0x01)
						{
							if (eax_428 <= 0x01)
							{
								if (eax_428 != 0x00)
									goto l080B6D8C;
								goto l080B6D83;
							}
							if (eax_428 != 0x07)
							{
								if (eax_428 == 0x08)
									goto l080B6D81;
l080B6D8C:
								Mem445[fp - 100 + 0x00:word32] = Mem427[fp - 100 + 0x00:word32] - 0x01;
								Mem447[fp - 0x5C + 0x00:word32] = 0x01;
								goto l080B6DD8;
							}
l080B6D83:
							Mem452[fp - 0x60 + 0x00:word32] = 0x08;
						}
						else
						{
l080B6D81:
						}
l080B6DD8:
						if (Mem0[fp - 0x60 + 0x00:word32] == 0x08)
							Mem395[fp - 88 + 0x00:word32] = Mem0[fp - 88 + 0x00:word32] - 0x01;
					}
l080B6DE2:
					Mem333[fp - 0x18 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32] + 0x01;
				}
				if (Mem0[fp - 0x3C + 0x00:word32] != 0x08)
				{
					if (Mem0[fp - 0x3C + 0x00:word32] == 0x00)
					{
						if (Mem0[fp - 0x4C + 0x00:word32] == 0x02)
							eax_111 = 0x0020203C;
						else if (Mem0[fp - 0x54 + 0x00:word32] == 0x02)
							eax_111 = Mem0[fp - 0x28 + 0x00:word32];
						else
							eax_111 = 0x0100;
					}
					else
					{
						word32 eax_175 = Mem0[fp - 0x24 + 0x00:word32];
						if (eax_175 >=u 0x00301017)
						{
							if (eax_175 >u 0x00301018)
							{
								if (eax_175 == 0x00301019 && Mem0[(fp - 0x10) + 0x00:byte] != 0x00)
								{
									eax_111 = 2099221;
									return eax_111;
								}
							}
							else if (Mem0[fp - 0x0F + 0x00:byte] != 0x00)
							{
								eax_111 = 2099220;
								return eax_111;
							}
						}
						if (Mem0[fp - 0x0E + 0x00:byte] != 0x00)
							eax_111 = 2099219;
						else if (Mem0[fp - 0x0D + 0x00:byte] != 0x00)
							eax_111 = 0x00200812;
						else if (Mem0[fp - 0x0F + 0x00:byte] != 0x00)
							eax_111 = 2099220;
						else if (Mem0[fp - 0x10 + 0x00:byte] != 0x00)
							eax_111 = 2099221;
						else
							eax_111 = 0x00200811;
					}
					return eax_111;
				}
				word32 eax_210 = Mem0[fp + 0x0C:word32];
				if (eax_210 <=u 0x00301019)
				{
					if (eax_210 >=u 0x00301016)
					{
						if (Mem0[fp - 0x40 + 0x00:word32] != 0x08)
						{
							eax_111 = Mem0[fp + 0x0C:word32];
							return eax_111;
						}
						goto l080B6F9C;
					}
					if (eax_210 == 0x0100)
					{
						if (Mem0[fp - 0x60 + 0x00:word32] != 0x08)
							eax_111 = Mem0[fp + 0x0C:word32];
						else if (Mem0[fp - 0x50 + 0x00:word32] != 0x08)
							eax_111 = 0x00100201;
						else
							eax_111 = Mem0[fp + 0x0C:word32];
						return eax_111;
					}
					if (eax_210 >=u 0x0100 && eax_210 <=u 2099221)
					{
l080B6F9C:
						if (Mem0[fp - 0x40 + 0x00:word32] == 0x02)
							eax_111 = Mem0[fp - 0x24 + 0x00:word32];
						else if (Mem0[fp - 0x44 + 0x00:word32] == 0x02)
							eax_111 = 0x00302038;
						else if (Mem0[fp - 0x48 + 0x00:word32] == 0x02)
							eax_111 = 0x0030203D;
						else if (Mem0[fp - 0x60 + 0x00:word32] == 0x02)
							eax_111 = 0x00308045;
						else if ((byte) (Mem0[fp - 0x44 + 0x00:word32] & 0x01) != 0x00)
							eax_111 = 0x00302038;
						else if (Mem0[fp - 0x40 + 0x00:word32] != 0x08)
							eax_111 = Mem0[fp - 0x24 + 0x00:word32];
						else if (Mem0[fp - 0x44 + 0x00:word32] != 0x08)
							eax_111 = 0x00302038;
						else if (Mem0[fp - 0x48 + 0x00:word32] != 0x08)
							eax_111 = 0x0030203D;
						else if (Mem0[fp - 0x60 + 0x00:word32] != 0x08)
							eax_111 = 0x00308045;
						else
							eax_111 = Mem0[fp + 0x0C:word32];
						return eax_111;
					}
				}
				else
				{
					if (eax_210 == 0x0030203D)
					{
						if (Mem0[fp - 0x48 + 0x00:word32] != 0x08)
						{
							eax_111 = Mem0[fp + 0x0C:word32];
							return eax_111;
						}
						goto l080B6F9C;
					}
					if (eax_210 <=u 0x0030203D)
					{
						if (eax_210 <=u 0x00302039)
						{
							if (Mem0[fp - 0x44 + 0x00:word32] != 0x08)
							{
								eax_111 = Mem0[fp + 0x0C:word32];
								return eax_111;
							}
							goto l080B6F9C;
						}
					}
					else if (eax_210 == 0x00308045)
					{
						eax_111 = Mem0[fp + 0x0C:word32];
						return eax_111;
					}
				}
				if (Mem0[fp - 0x50 + 0x00:word32] != 0x08)
					eax_111 = Mem0[fp + 0x0C:word32];
				else if (Mem0[fp - 0x54 + 0x00:word32] != 0x08)
					eax_111 = Mem0[fp + 0x0C:word32];
				else if (Mem0[fp - 0x60 + 0x00:word32] != 0x08)
					eax_111 = 0x00308045;
				else
					eax_111 = Mem0[fp + 0x0C:word32];
				return eax_111;
			}
			goto l080B6605;
		}
		if (dwArg0C <u 0x00302038)
		{
			if (dwArg0C != 0x00301018)
			{
				if (dwArg0C <u 0x00301018)
				{
l080B65D1:
					goto l080B66F9;
				}
				if (dwArg0C == 0x00301019)
				{
l080B6673:
					goto l080B66F9;
				}
l080B66BD:
				if ((dwArg0C & 0x0200) == 0x00)
					dwLoc54_135 = 0x00;
				goto l080B66F9;
			}
l080B6605:
			goto l080B66F9;
		}
	}
l080B659D:
	goto l080B66F9;
}

// 080B7018: void wc_conv_from_hz(Register selector gs, Stack word32 dwArg04)
void wc_conv_from_hz(selector gs, word32 dwArg04)
{
	word32 eax_13 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_17 = Mem0[dwArg04 + 0x04:word32] + eax_13;
	word32 dwLoc1C_162 = eax_13;
	while (dwLoc1C_162 <u eax_17 && ((byte) ((word32) Mem0[dwLoc1C_162 + 0x00:byte]) >= 0x00 && (byte) ((word32) Mem0[dwLoc1C_162 + 0x00:byte]) != 0x7E))
		dwLoc1C_162 = dwLoc1C_162 + 0x01;
	if (dwLoc1C_162 != eax_17)
	{
		word32 eax_92 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_92, eax_92);
		if (dwLoc1C_162 >u eax_13)
			Strcat_charp_n(eax_92, Mem0[dwArg04 + 0x00:word32], dwLoc1C_162 - eax_13);
		while (dwLoc1C_162 <u eax_17)
		{
			if (true)
			{
				word32 eax_145 = Mem0[0x080D1E38:word32];
				word32 esp_146;
				word32 ebp_147;
				word32 ebx_148;
				byte SCZO_149;
				word32 eax_150;
				byte C_151;
				byte al_152;
				byte SZO_153;
				byte S_154;
				byte Z_155;
				byte CZ_156;
				word32 edx_157;
				word32 ecx_158;
				byte cl_159;
				selector gs_160;
				eax_145();
				return;
			}
			dwLoc1C_162 = dwLoc1C_162 + 0x01;
		}
		if (true && 0x00 != 0x00)
			wtf_push_unknown(fp - 0x04, gs);
	}
}

// 080B7449: void wc_push_to_hz(Register word32 ebp)
void wc_push_to_hz(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 0x4000)
			break;
		if (eax_20 <=u 0x4000)
		{
			if (eax_20 == 322)
			{
				if ((byte) (word32) Mem0[Mem0[fp + 0x10:word32] + 0x05:byte] != 0x00)
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem195[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_154 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem157[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_154:byte] = 0x7E;
					Mem160[Mem157[fp + 0x04:word32] + 0x04:word32] = eax_154 + 0x01;
					Mem166[Mem160[Mem160[fp + 0x04:word32] + 0x00:word32] + Mem160[Mem160[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					if (Mem166[Mem166[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem166[Mem166[fp + 0x04:word32] + 0x08:word32])
					{
						Mem193[fp - 0x1C + 0x00:word32] = Mem166[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_177 = Mem166[Mem166[fp + 0x04:word32] + 0x04:word32];
					Mem180[Mem166[Mem166[fp + 0x04:word32] + 0x00:word32] + eax_177:byte] = 0x7D;
					Mem183[Mem180[fp + 0x04:word32] + 0x04:word32] = eax_177 + 0x01;
					Mem189[Mem183[Mem183[fp + 0x04:word32] + 0x00:word32] + Mem183[Mem183[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					Mem191[Mem189[fp + 0x10:word32] + 0x05:byte] = 0x00;
				}
				if ((byte) Mem0[fp + 0x0C:word32] == 0x7E)
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem143[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_129 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem132[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_129:byte] = 0x7E;
					Mem135[Mem132[fp + 0x04:word32] + 0x04:word32] = eax_129 + 0x01;
					Mem141[Mem135[Mem135[fp + 0x04:word32] + 0x00:word32] + Mem135[Mem135[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				}
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem118[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_100 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem106[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_100:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem109[Mem106[fp + 0x04:word32] + 0x04:word32] = eax_100 + 0x01;
				Mem115[Mem109[Mem109[fp + 0x04:word32] + 0x00:word32] + Mem109[Mem109[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
		}
		else
		{
			if (eax_20 == 0x8141)
			{
				if ((byte) (word32) Mem0[Mem0[fp + 0x10:word32] + 0x05:byte] == 0x00)
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem389[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_348 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem351[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_348:byte] = 0x7E;
					Mem354[Mem351[fp + 0x04:word32] + 0x04:word32] = eax_348 + 0x01;
					Mem360[Mem354[Mem354[fp + 0x04:word32] + 0x00:word32] + Mem354[Mem354[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					if (Mem360[Mem360[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem360[Mem360[fp + 0x04:word32] + 0x08:word32])
					{
						Mem387[fp - 0x1C + 0x00:word32] = Mem360[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_371 = Mem360[Mem360[fp + 0x04:word32] + 0x04:word32];
					Mem374[Mem360[Mem360[fp + 0x04:word32] + 0x00:word32] + eax_371:byte] = 0x7B;
					Mem377[Mem374[fp + 0x04:word32] + 0x04:word32] = eax_371 + 0x01;
					Mem383[Mem377[Mem377[fp + 0x04:word32] + 0x00:word32] + Mem377[Mem377[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					Mem385[Mem383[fp + 0x10:word32] + 0x05:byte] = 0x01;
				}
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem337[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_289 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem296[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_289:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 & 0x7F);
				Mem299[Mem296[fp + 0x04:word32] + 0x04:word32] = eax_289 + 0x01;
				Mem305[Mem299[Mem299[fp + 0x04:word32] + 0x00:word32] + Mem299[Mem299[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				if (Mem305[Mem305[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem305[Mem305[fp + 0x04:word32] + 0x08:word32])
				{
					Mem335[fp - 0x1C + 0x00:word32] = Mem305[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_316 = Mem305[Mem305[fp + 0x04:word32] + 0x04:word32];
				Mem324[Mem305[Mem305[fp + 0x04:word32] + 0x00:word32] + eax_316:byte] = (byte) (Mem305[fp + 0x0C:word32] & 0x7F);
				Mem327[Mem324[fp + 0x04:word32] + 0x04:word32] = eax_316 + 0x01;
				Mem333[Mem327[Mem327[fp + 0x04:word32] + 0x00:word32] + Mem327[Mem327[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_20 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					if ((byte) (word32) Mem0[Mem0[fp + 0x10:word32] + 0x05:byte] != 0x00)
					{
						if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
						{
							Mem271[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
							Strgrow(dwArg00);
						}
						word32 eax_230 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
						Mem233[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_230:byte] = 0x7E;
						Mem236[Mem233[fp + 0x04:word32] + 0x04:word32] = eax_230 + 0x01;
						Mem242[Mem236[Mem236[fp + 0x04:word32] + 0x00:word32] + Mem236[Mem236[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
						if (Mem242[Mem242[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem242[Mem242[fp + 0x04:word32] + 0x08:word32])
						{
							Mem269[fp - 0x1C + 0x00:word32] = Mem242[fp + 0x04:word32];
							Strgrow(dwArg00);
						}
						word32 eax_253 = Mem242[Mem242[fp + 0x04:word32] + 0x04:word32];
						Mem256[Mem242[Mem242[fp + 0x04:word32] + 0x00:word32] + eax_253:byte] = 0x7D;
						Mem259[Mem256[fp + 0x04:word32] + 0x04:word32] = eax_253 + 0x01;
						Mem265[Mem259[Mem259[fp + 0x04:word32] + 0x00:word32] + Mem259[Mem259[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
						Mem267[Mem265[fp + 0x10:word32] + 0x05:byte] = 0x00;
					}
					Mem216[fp - 0x18 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem218[fp - 0x1C + 0x00:word32] = Mem216[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
		}
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem49[fp - 0x10 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_51 = Mem49[fp + 0x0C:word32];
			Mem52[fp - 0x18 + 0x00:word32] = Mem49[fp + 0x08:word32];
			Mem53[fp - 0x14 + 0x00:word32] = edx_51;
			Mem54[fp - 0x1C + 0x00:word32] = fp + 0x08;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
		}
		else
		{
			word32 eax_67;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_67 = 0xC000;
			else
				eax_67 = 0x4000;
			Mem68[fp + 0x08:word32] = eax_67;
		}
	}
	if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
	{
		if ((byte) (word32) Mem0[Mem0[fp + 0x10:word32] + 0x05:byte] != 0x00)
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem460[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_419 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem422[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_419:byte] = 0x7E;
			Mem425[Mem422[fp + 0x04:word32] + 0x04:word32] = eax_419 + 0x01;
			Mem431[Mem425[Mem425[fp + 0x04:word32] + 0x00:word32] + Mem425[Mem425[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem431[Mem431[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem431[Mem431[fp + 0x04:word32] + 0x08:word32])
			{
				Mem458[fp - 0x1C + 0x00:word32] = Mem431[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_442 = Mem431[Mem431[fp + 0x04:word32] + 0x04:word32];
			Mem445[Mem431[Mem431[fp + 0x04:word32] + 0x00:word32] + eax_442:byte] = 0x7D;
			Mem448[Mem445[fp + 0x04:word32] + 0x04:word32] = eax_442 + 0x01;
			Mem454[Mem448[Mem448[fp + 0x04:word32] + 0x00:word32] + Mem448[Mem448[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			Mem456[Mem454[fp + 0x10:word32] + 0x05:byte] = 0x00;
		}
		Mem406[fp - 0x18 + 0x00:word32] = Mem0[0x080DB990:word32];
		Mem408[fp - 0x1C + 0x00:word32] = Mem406[fp + 0x04:word32];
		Strcat_charp(dwArg00, dwArg04);
	}
}

// 080B792D: void wc_push_to_hz_end(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_push_to_hz_end(word32 dwArg04, word32 dwArg08)
{
	if ((byte) (word32) Mem0[dwArg08 + 0x05:byte] != 0x00)
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_41 = Mem0[dwArg04 + 0x04:word32];
		Mem44[Mem0[dwArg04 + 0x00:word32] + eax_41:byte] = 0x7E;
		Mem47[dwArg04 + 0x04:word32] = eax_41 + 0x01;
		Mem53[Mem47[dwArg04 + 0x00:word32] + Mem47[dwArg04 + 0x04:word32]:byte] = 0x00;
		if (Mem53[dwArg04 + 0x04:word32] + 0x01 >= Mem53[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_65 = Mem53[dwArg04 + 0x04:word32];
		Mem68[Mem53[dwArg04 + 0x00:word32] + eax_65:byte] = 0x7D;
		Mem71[dwArg04 + 0x04:word32] = eax_65 + 0x01;
		Mem77[Mem71[dwArg04 + 0x00:word32] + Mem71[dwArg04 + 0x04:word32]:byte] = 0x00;
		Mem79[dwArg08 + 0x05:byte] = 0x00;
	}
}

// 080B79E4: void wtf_push_iso2022(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wtf_push_iso2022(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 != 33090)
	{
		if (dwArg08 <=u 33090)
		{
			if (dwArg08 == 0x0154)
			{
l080B7A4F:
				dwArg08 = 322;
				goto l080B7A56;
			}
			if (dwArg08 != 33088)
			{
				if (dwArg08 != 330)
					goto l080B7A56;
				goto l080B7A4F;
			}
		}
		else if (dwArg08 != 33103)
		{
			if (dwArg08 == 0x8150 || dwArg08 == 0x8144)
				dwArg08 = wc_jisx0212_or_jisx02132((word32) (word16) dwArg0C);
l080B7A56:
			wtf_push(fp - 0x04, gs, dwArg04, dwArg08, dwArg0C);
			return;
		}
	}
	dwArg08 = wc_jisx0208_or_jisx02131((word32) (word16) dwArg0C);
	goto l080B7A56;
}

// 080B7A71: void wc_conv_from_iso2022(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_conv_from_iso2022(selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_123 = eax_10;
	while (dwLoc1C_123 <u eax_14 && ((word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc1C_123 + 0x00:byte])) + 0x080DBAC0:byte])) & 0x4F) == 0x00)
		dwLoc1C_123 = dwLoc1C_123 + 0x01;
	if (dwLoc1C_123 != eax_14)
	{
		word32 eax_92 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_92, eax_92);
		if (dwLoc1C_123 >u eax_10)
			Strcat_charp_n(eax_92, Mem0[dwArg04 + 0x00:word32], dwLoc1C_123 - eax_10);
		wc_input_init(dwArg08, fp - 0x68);
		while (dwLoc1C_123 <u eax_14)
		{
			if (true)
			{
				word32 eax_161 = Mem0[0x080D1E50:word32];
				word32 esp_162;
				word32 ebp_163;
				byte SCZO_164;
				word32 eax_165;
				byte C_166;
				byte al_167;
				byte SZO_168;
				byte Z_169;
				byte CZ_170;
				word32 edx_171;
				byte SO_172;
				selector gs_173;
				eax_161();
				return;
			}
			dwLoc1C_123 = dwLoc1C_123 + 0x01;
		}
		if (false)
		{
			if (false)
			{
				if (~0x03 == 0x00)
					wtf_push_unknown(fp - 0x04, gs);
			}
			else
				wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080B82F1: Register word32 wc_parse_iso2022_esc(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_parse_iso2022_esc(word32 dwArg04, word32 dwArg08)
{
	word32 eax_104;
	word32 eax_13 = Mem0[dwArg04 + 0x00:word32];
	byte bLoc0A_15 = 0x00;
	byte bLoc0B_16 = 0x00;
	byte bLoc0C_17 = 0x00;
	if ((byte) (word32) Mem0[eax_13 + 0x00:byte] != 0x1B)
		eax_104 = 0x00;
	else
	{
		byte bLoc09_208 = (byte) (word32) Mem0[eax_13 + 0x00:byte];
		word32 dwLoc10_221 = eax_13 + 0x01;
		while ((byte) (word32) Mem0[dwLoc10_221 + 0x00:byte] != 0x00 && bLoc09_208 != 0x00)
		{
			word32 eax_200 = (word32) bLoc09_208;
			if (eax_200 != 0x28)
			{
				if (eax_200 <= 0x28)
				{
					if (eax_200 == 33)
						goto l080B85B1;
					if (eax_200 > 33)
					{
						if (eax_200 != 0x24)
						{
							if (eax_200 != 0x25)
								goto l080B85E6;
							if ((byte) (word32) Mem0[dwLoc10_221 + 0x00:byte] == 0x2F)
							{
								bLoc0C_17 = 0xA5;
								bLoc09_208 = 0xA5;
							}
							else
							{
								bLoc09_208 = 0x00;
								bLoc0A_15 = (byte) (word32) Mem0[dwLoc10_221 + 0x00:byte];
							}
							goto l080B85F0;
						}
						word32 eax_295 = (word32) (byte) (word32) Mem0[dwLoc10_221 + 0x00:byte];
						if (eax_295 >u 66)
						{
l080B8584:
							eax_104 = 0x00;
							return eax_104;
						}
						word32 ebx_314 = 0x01 << (byte) (eax_295 - 0x28);
						if ((ebx_314 & 0x07000000) == 0x00)
						{
							if ((ebx_314 & 0xF0) == 0x00)
							{
								if ((ebx_314 & 0x0F) == 0x00)
									goto l080B8584;
								bLoc0C_17 = 0xA8;
								bLoc09_208 = 0xA8;
								bLoc0B_16 = (byte) ((word32) Mem0[dwLoc10_221 + 0x00:byte] & 0x03);
							}
							else
							{
								bLoc0C_17 = 0xAC;
								bLoc09_208 = 0xAC;
								bLoc0B_16 = (byte) ((word32) Mem0[dwLoc10_221 + 0x00:byte] & 0x03);
							}
						}
						else
						{
							bLoc09_208 = 0x00;
							bLoc0C_17 = 0xA8;
							bLoc0B_16 = 0x00;
							bLoc0A_15 = (byte) (word32) Mem0[dwLoc10_221 + 0x00:byte];
						}
						goto l080B85F0;
					}
					if (eax_200 == 0x1B)
					{
						word32 eax_248 = (word32) (byte) (word32) Mem0[dwLoc10_221 + 0x00:byte];
						if (eax_248 >u 0x7E)
						{
							eax_104 = 0x00;
							return eax_104;
						}
						else
						{
							word32 eax_254 = 0x080D2058[(eax_248 - 33) * 0x04];
							word32 esp_257;
							word32 ebp_258;
							word32 ebx_259;
							byte SCZO_260;
							word32 eax_261;
							byte al_262;
							byte Z_263;
							byte SZO_264;
							byte C_265;
							byte CZ_266;
							word32 edx_267;
							word32 ecx_268;
							byte cl_269;
							byte ah_270;
							eax_254();
							return eax_261;
						}
					}
l080B85E6:
					eax_104 = 0x00;
					return eax_104;
				}
				if (eax_200 == 0xA5)
					goto l080B85B1;
				if (eax_200 <= 0xA5)
				{
					if (eax_200 != 44 && eax_200 != 161)
						goto l080B85E6;
					goto l080B85B1;
				}
				if (eax_200 != 0xA8 && eax_200 != 0xAC)
					goto l080B85E6;
				goto l080B85B1;
			}
			if ((byte) (word32) Mem0[dwLoc10_221 + 0x00:byte] == 33)
			{
				bLoc0C_17 = 161;
				bLoc09_208 = 161;
				bLoc0B_16 = (byte) ((word32) Mem0[dwLoc10_221 + 0x00:byte] & 0x03);
			}
			else
			{
l080B85B1:
				bLoc09_208 = 0x00;
				bLoc0A_15 = (byte) (word32) Mem0[dwLoc10_221 + 0x00:byte];
			}
l080B85F0:
			dwLoc10_221 = dwLoc10_221 + 0x01;
		}
		if (bLoc0A_15 >u 0x3F && bLoc0A_15 <=u 0x7E)
		{
			word32 eax_109 = (word32) bLoc0C_17;
			if (eax_109 != 0x2F)
			{
				if (eax_109 <= 0x2F)
				{
					if (eax_109 != 0x28)
					{
						if (eax_109 != 44)
						{
							if (eax_109 == 0x25)
							{
								if (bLoc0A_15 == 0x40)
									Mem137[dwArg08 + 0x28:word32] = 0x00;
								else
									Mem139[dwArg08 + 0x28:word32] = 0x10;
							}
						}
						else
						{
							word32 eax_141 = (word32) bLoc0A_15;
							dwArg08[((word32) bLoc0B_16 + 0x04) * 0x04] = DPB(eax_141, SLICE(eax_141, byte, 8) | 0x02, 8);
						}
					}
					else
					{
						word32 eax_151 = (word32) bLoc0A_15;
						dwArg08[((word32) bLoc0B_16 + 0x04) * 0x04] = DPB(eax_151, SLICE(eax_151, byte, 8) | 0x01, 8);
					}
				}
				else if (eax_109 != 0xA8)
				{
					if (eax_109 != 0xAC)
					{
						if (eax_109 == 161)
						{
							word32 eax_167 = (word32) bLoc0A_15;
							dwArg08[((word32) bLoc0B_16 + 0x04) * 0x04] = DPB(eax_167, SLICE(eax_167, byte, 8) | 0x04, 8);
						}
					}
					else
					{
						word32 eax_177 = (word32) bLoc0A_15;
						dwArg08[((word32) bLoc0B_16 + 0x04) * 0x04] = DPB(eax_177, SLICE(eax_177, byte, 8) | 0x82, 8);
					}
				}
				else
				{
					word32 eax_187 = (word32) bLoc0A_15;
					dwArg08[((word32) bLoc0B_16 + 0x04) * 0x04] = DPB(eax_187, SLICE(eax_187, byte, 8) | 0x81, 8);
				}
			}
			else
				Mem197[dwArg08 + 0x28:word32] = 0x20;
			Mem121[dwArg04 + 0x00:word32] = dwLoc10_221 - 0x01;
			eax_104 = 0x01;
		}
		else
			eax_104 = 0x00;
	}
	return eax_104;
}

// 080B871B: void wc_push_to_iso2022(Register word32 ebp)
void wc_push_to_iso2022(word32 ebp)
{
l080B872D:
	word32 eax_23 = Mem0[fp + 0x08:word32];
	if ((eax_23 & 0xFF00) != 0x4000)
	{
		if ((eax_23 & 0xFF00) <=u 0x4000)
		{
			if ((eax_23 & 0xFF00) != 0x0200)
			{
				if ((eax_23 & 0xFF00) != 0x0400)
				{
					if ((eax_23 & 0xFF00) != 0x0100)
						goto l080B89BE;
					if (Mem0[fp + 0x08:word32] == 322)
						Mem271[fp + 0x08:word32] = Mem0[Mem0[fp + 0x10:word32] + 0x08:word32];
					Mem268[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem0[(Mem0[fp + 0x08:word32] & 0xFF) + 0x0817FD80:byte];
				}
				else
					Mem278[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem0[(Mem0[fp + 0x08:word32] & 0xFF) + 0x0817FE80:byte];
			}
			else
				Mem285[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem0[(Mem0[fp + 0x08:word32] & 0xFF) + 0x0817FE00:byte];
		}
		else if ((eax_23 & 0xFF00) != 0x8200)
		{
			if ((eax_23 & 0xFF00) != 0xC000)
			{
				if ((eax_23 & 0xFF00) != 0x8100)
				{
l080B89BE:
					if ((byte) (word32) Mem0[0x0817FE03:byte] != 0x00)
					{
						word32 edx_240 = Mem0[fp + 0x0C:word32];
						Mem241[fp - 88 + 0x00:word32] = Mem0[fp + 0x08:word32];
						Mem242[fp - 0x54 + 0x00:word32] = edx_240;
						Mem243[fp - 0x5C + 0x00:word32] = fp - 0x20;
						wc_johab_to_ksx1001(dwArg00, dwArg04, dwArg08);
						if (Mem243[fp - 0x20 + 0x00:word32] == 33091)
						{
							word32 edx_250 = Mem243[fp - 0x1C + 0x00:word32];
							Mem251[fp + 0x08:word32] = Mem243[fp - 0x20 + 0x00:word32];
							Mem252[fp + 0x0C:word32] = edx_250;
							goto l080B8B91;
						}
					}
					if ((byte) (word32) Mem0[135119011:byte] != 0x00)
					{
						Mem217[fp - 0x50 + 0x00:word32] = Mem0[fp + 0x10:word32];
						word32 edx_219 = Mem217[fp + 0x0C:word32];
						Mem220[fp - 88 + 0x00:word32] = Mem217[fp + 0x08:word32];
						Mem221[fp - 0x54 + 0x00:word32] = edx_219;
						Mem222[fp - 0x5C + 0x00:word32] = fp + 0x08;
						wc_any_to_iso2022(fp - 0x04, dwArg00, dwArg04, dwArg08);
					}
					else
					{
						word32 eax_232;
						if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
							eax_232 = 0xC000;
						else
							eax_232 = 0x4000;
						Mem233[fp + 0x08:word32] = eax_232;
					}
l080B8B91:
					goto l080B872D;
				}
				Mem292[fp - 0x0E + 0x00:byte] = 0x01;
				word32 eax_293 = Mem292[fp + 0x08:word32];
				if (eax_293 != 0x8144)
				{
					if (eax_293 >=u 0x8144 && (eax_293 <=u 0x8150 && ((byte) ((word32) Mem292[135119019:byte]) == 0x00 && ((byte) ((word32) Mem292[0x080DC0AA:byte]) != 0x00 && (byte) ((word32) Mem292[135119011:byte]) != 0x00))))
					{
						word32 edx_333 = Mem292[fp + 0x0C:word32];
						Mem334[fp - 88 + 0x00:word32] = Mem292[fp + 0x08:word32];
						Mem335[fp - 0x54 + 0x00:word32] = edx_333;
						Mem336[fp - 0x5C + 0x00:word32] = fp - 0x34;
						wc_jisx0213_to_jisx0212(dwArg00, dwArg04, dwArg08);
						word32 edx_340 = Mem336[fp - 0x30 + 0x00:word32];
						Mem341[fp - 0x18 + 0x00:word32] = Mem336[fp - 0x34 + 0x00:word32];
						Mem342[fp - 0x14 + 0x00:word32] = edx_340;
						if (Mem342[fp - 0x18 + 0x00:word32] == 0x8144)
						{
							word32 edx_347 = Mem342[fp - 0x14 + 0x00:word32];
							Mem348[fp + 0x08:word32] = Mem342[fp - 0x18 + 0x00:word32];
							Mem349[fp + 0x0C:word32] = edx_347;
							goto l080B8B91;
						}
					}
				}
				else if ((byte) (word32) Mem292[0x080DC0AA:byte] == 0x00 && ((byte) ((word32) Mem292[135119019:byte]) != 0x00 && (byte) ((word32) Mem292[135119011:byte]) != 0x00))
				{
					word32 edx_367 = Mem292[fp + 0x0C:word32];
					Mem368[fp - 88 + 0x00:word32] = Mem292[fp + 0x08:word32];
					Mem369[fp - 0x54 + 0x00:word32] = edx_367;
					Mem370[fp - 0x5C + 0x00:word32] = fp - 0x18;
					wc_jisx0212_to_jisx0213(fp - 0x04, dwArg00, dwArg04, dwArg08);
					if (Mem370[fp - 0x18 + 0x00:word32] == 33103 || Mem370[(fp - 0x18) + 0x00:word32] == 0x8150)
					{
						word32 edx_379 = Mem370[fp - 0x14 + 0x00:word32];
						Mem380[fp + 0x08:word32] = Mem370[fp - 0x18 + 0x00:word32];
						Mem381[fp + 0x0C:word32] = edx_379;
						goto l080B8B91;
					}
				}
				Mem310[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem292[(Mem292[fp + 0x08:word32] & 0xFF) + 0x0817FDC0:byte];
			}
			else
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] != 0x00)
					return;
				Mem390[fp - 0x0E + 0x00:byte] = 0x01;
				Mem391[fp + 0x08:word32] = 322;
				Mem397[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem391[(Mem391[fp + 0x08:word32] & 0xFF) + 0x0817FD80:byte];
				Mem412[fp + 0x0C:word32] = (int32) (byte) (word32) Mem397[Mem397[0x080DB994:word32] + 0x01:byte] | (int32) ((byte) ((word32) Mem397[Mem397[0x080DB994:word32] + 0x00:byte])) << 0x08;
			}
		}
		else
		{
			Mem414[fp - 0x0E + 0x00:byte] = 0x01;
			Mem421[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem414[(Mem414[fp + 0x08:word32] & 0xFF) + 0x0817FE40:byte];
		}
	}
	else
	{
		if ((byte) (word32) Mem0[0x080DC0AE:byte] != 0x00)
			return;
		Mem427[fp + 0x08:word32] = 322;
		Mem434[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem427[(Mem427[fp + 0x08:word32] & 0xFF) + 0x0817FD80:byte];
		Mem439[fp + 0x0C:word32] = (int32) (byte) (word32) Mem434[Mem434[0x080DB990:word32] + 0x00:byte];
	}
	if (Mem0[fp - 0x0D + 0x00:byte] == 0x00)
	{
		if ((byte) (word32) Mem0[135119011:byte] != 0x00 && Mem0[(fp - 0x0F) + 0x00:byte] == 0x00)
		{
			Mem94[fp - 0x50 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_96 = Mem94[fp + 0x0C:word32];
			Mem97[fp - 88 + 0x00:word32] = Mem94[fp + 0x08:word32];
			Mem98[fp - 0x54 + 0x00:word32] = edx_96;
			Mem99[fp - 0x5C + 0x00:word32] = fp - 0x34;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
			word32 edx_107 = Mem99[fp - 0x30 + 0x00:word32];
			Mem108[fp + 0x08:word32] = Mem99[fp - 0x34 + 0x00:word32];
			Mem109[fp + 0x0C:word32] = edx_107;
		}
		else
		{
			word32 eax_84;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_84 = 0xC000;
			else
				eax_84 = 0x4000;
			Mem85[fp + 0x08:word32] = eax_84;
		}
		Mem76[fp - 0x0F + 0x00:byte] = 0x01;
		goto l080B8B91;
	}
	word32 edx_110 = (word32) Mem0[fp - 0x0D + 0x00:byte];
	word32 eax_111 = Mem0[fp + 0x08:word32];
	Mem113[fp - 0x4C + 0x00:word32] = Mem0[fp + 0x10:word32];
	Mem114[fp - 0x50 + 0x00:word32] = 0x01;
	Mem115[fp - 0x54 + 0x00:word32] = edx_110;
	Mem116[fp - 88 + 0x00:word32] = eax_111;
	Mem118[fp - 0x5C + 0x00:word32] = Mem116[fp + 0x04:word32];
	wc_push_iso2022_esc(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
	if (Mem118[fp - 0x0E + 0x00:byte] != 0x00)
	{
		if (Mem118[Mem118[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem118[Mem118[fp + 0x04:word32] + 0x08:word32])
		{
			Mem188[fp - 0x5C + 0x00:word32] = Mem118[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_168 = Mem118[Mem118[fp + 0x04:word32] + 0x04:word32];
		Mem177[Mem118[Mem118[fp + 0x04:word32] + 0x00:word32] + eax_168:byte] = (byte) (Mem118[fp + 0x0C:word32] >>u 0x08 & 0x7F);
		Mem180[Mem177[fp + 0x04:word32] + 0x04:word32] = eax_168 + 0x01;
		Mem186[Mem180[Mem180[fp + 0x04:word32] + 0x00:word32] + Mem180[Mem180[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	}
	if (Mem118[Mem118[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem118[Mem118[fp + 0x04:word32] + 0x08:word32])
	{
		Mem157[fp - 0x5C + 0x00:word32] = Mem118[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_138 = Mem118[Mem118[fp + 0x04:word32] + 0x04:word32];
	Mem146[Mem118[Mem118[fp + 0x04:word32] + 0x00:word32] + eax_138:byte] = (byte) (Mem118[fp + 0x0C:word32] & 0x7F);
	Mem149[Mem146[fp + 0x04:word32] + 0x04:word32] = eax_138 + 0x01;
	Mem155[Mem149[Mem149[fp + 0x04:word32] + 0x00:word32] + Mem149[Mem149[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080B8B9C: void wc_push_to_iso2022_end(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_push_to_iso2022_end(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x14:word32] != 0x00 && Mem0[dwArg08 + 0x14:word32] != Mem0[dwArg08 + 0x0C:word32])
		wc_push_iso2022_esc(dwArg04, Mem0[dwArg08 + 0x0C:word32], 0x29, 0x00, dwArg08);
	wc_push_iso2022_esc(dwArg04, Mem0[dwArg08 + 0x08:word32], 0x28, 0x01, dwArg08);
}

// 080B8C16: void wc_push_iso2022_esc(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14)
void wc_push_iso2022_esc(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14)
{
	byte dl_9 = (byte) dwArg0C;
	byte al_17 = (byte) ((word32) dl_9 & 0x03);
	byte al_12 = (byte) dwArg10;
	if (dwArg14[((word32) al_17 + 0x04) * 0x04] != dwArg08)
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_252 = Mem0[dwArg04 + 0x04:word32];
		Mem255[Mem0[dwArg04 + 0x00:word32] + eax_252:byte] = 0x1B;
		Mem258[dwArg04 + 0x04:word32] = eax_252 + 0x01;
		Mem264[Mem258[dwArg04 + 0x00:word32] + Mem258[dwArg04 + 0x04:word32]:byte] = 0x00;
		if ((dwArg08 & 0x00018000) != 0x00)
		{
			if (Mem264[dwArg04 + 0x04:word32] + 0x01 >= Mem264[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_319 = Mem264[dwArg04 + 0x04:word32];
			Mem322[Mem264[dwArg04 + 0x00:word32] + eax_319:byte] = 0x24;
			Mem325[dwArg04 + 0x04:word32] = eax_319 + 0x01;
			Mem331[Mem325[dwArg04 + 0x00:word32] + Mem325[dwArg04 + 0x04:word32]:byte] = 0x00;
			if (al_17 != 0x00 || dwArg08 != 33088 && (dwArg08 != 33090 && dwArg08 != 0x8141))
			{
				if (Mem331[dwArg04 + 0x04:word32] + 0x01 >= Mem331[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_346 = Mem331[dwArg04 + 0x04:word32];
				Mem352[Mem331[dwArg04 + 0x00:word32] + eax_346:byte] = (byte) (word32) dl_9;
				Mem355[dwArg04 + 0x04:word32] = eax_346 + 0x01;
				Mem361[Mem355[dwArg04 + 0x00:word32] + Mem355[dwArg04 + 0x04:word32]:byte] = 0x00;
			}
		}
		else
		{
			if (Mem264[dwArg04 + 0x04:word32] + 0x01 >= Mem264[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_383 = Mem264[dwArg04 + 0x04:word32];
			Mem388[Mem264[dwArg04 + 0x00:word32] + eax_383:byte] = (byte) (word32) dl_9;
			Mem391[dwArg04 + 0x04:word32] = eax_383 + 0x01;
			Mem397[Mem391[dwArg04 + 0x00:word32] + Mem391[dwArg04 + 0x04:word32]:byte] = 0x00;
			if ((dwArg08 & 0x0700) == 0x0400)
			{
				if (Mem397[dwArg04 + 0x04:word32] + 0x01 >= Mem397[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_413 = Mem397[dwArg04 + 0x04:word32];
				Mem416[Mem397[dwArg04 + 0x00:word32] + eax_413:byte] = 33;
				Mem419[dwArg04 + 0x04:word32] = eax_413 + 0x01;
				Mem425[Mem419[dwArg04 + 0x00:word32] + Mem419[dwArg04 + 0x04:word32]:byte] = 0x00;
			}
		}
		if (Mem264[dwArg04 + 0x04:word32] + 0x01 >= Mem264[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_285 = Mem264[dwArg04 + 0x04:word32];
		Mem291[Mem264[dwArg04 + 0x00:word32] + eax_285:byte] = (byte) dwArg08;
		Mem294[dwArg04 + 0x04:word32] = eax_285 + 0x01;
		Mem300[Mem294[dwArg04 + 0x00:word32] + Mem294[dwArg04 + 0x04:word32]:byte] = 0x00;
		dwArg14[((word32) al_17 + 0x04) * 0x04] = dwArg08;
	}
	if (al_12 != 0x00)
	{
		word32 eax_56 = (word32) al_17;
		if (eax_56 != 0x01)
		{
			if (eax_56 <= 0x01)
			{
				if (eax_56 == 0x00 && (byte) ((word32) Mem0[dwArg14 + 0x05:byte]) != 0x00)
				{
					if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
						Strgrow(dwArg04);
					word32 eax_83 = Mem0[dwArg04 + 0x04:word32];
					Mem86[Mem0[dwArg04 + 0x00:word32] + eax_83:byte] = 0x0F;
					Mem89[dwArg04 + 0x04:word32] = eax_83 + 0x01;
					Mem95[Mem89[dwArg04 + 0x00:word32] + Mem89[dwArg04 + 0x04:word32]:byte] = 0x00;
					Mem97[dwArg14 + 0x05:byte] = 0x00;
				}
			}
			else if (eax_56 != 0x02)
			{
				if (eax_56 == 0x03)
				{
					if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
						Strgrow(dwArg04);
					word32 eax_115 = Mem0[dwArg04 + 0x04:word32];
					Mem118[Mem0[dwArg04 + 0x00:word32] + eax_115:byte] = 0x1B;
					Mem121[dwArg04 + 0x04:word32] = eax_115 + 0x01;
					Mem127[Mem121[dwArg04 + 0x00:word32] + Mem121[dwArg04 + 0x04:word32]:byte] = 0x00;
					if (Mem127[dwArg04 + 0x04:word32] + 0x01 >= Mem127[dwArg04 + 0x08:word32])
						Strgrow(dwArg04);
					word32 eax_139 = Mem127[dwArg04 + 0x04:word32];
					Mem142[Mem127[dwArg04 + 0x00:word32] + eax_139:byte] = 0x4F;
					Mem145[dwArg04 + 0x04:word32] = eax_139 + 0x01;
					Mem151[Mem145[dwArg04 + 0x00:word32] + Mem145[dwArg04 + 0x04:word32]:byte] = 0x00;
				}
			}
			else
			{
				if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_167 = Mem0[dwArg04 + 0x04:word32];
				Mem170[Mem0[dwArg04 + 0x00:word32] + eax_167:byte] = 0x1B;
				Mem173[dwArg04 + 0x04:word32] = eax_167 + 0x01;
				Mem179[Mem173[dwArg04 + 0x00:word32] + Mem173[dwArg04 + 0x04:word32]:byte] = 0x00;
				if (Mem179[dwArg04 + 0x04:word32] + 0x01 >= Mem179[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_191 = Mem179[dwArg04 + 0x04:word32];
				Mem194[Mem179[dwArg04 + 0x00:word32] + eax_191:byte] = 0x4E;
				Mem197[dwArg04 + 0x04:word32] = eax_191 + 0x01;
				Mem203[Mem197[dwArg04 + 0x00:word32] + Mem197[dwArg04 + 0x04:word32]:byte] = 0x00;
			}
		}
		else if ((byte) (word32) Mem0[dwArg14 + 0x05:byte] != 0x01)
		{
			if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_224 = Mem0[dwArg04 + 0x04:word32];
			Mem227[Mem0[dwArg04 + 0x00:word32] + eax_224:byte] = 0x0E;
			Mem230[dwArg04 + 0x04:word32] = eax_224 + 0x01;
			Mem236[Mem230[dwArg04 + 0x00:word32] + Mem230[dwArg04 + 0x04:word32]:byte] = 0x00;
			Mem238[dwArg14 + 0x05:byte] = 0x01;
		}
	}
}

// 080B90B4: void wc_push_to_euc(Register word32 ebp, Stack word32 dwArg10)
void wc_push_to_euc(word32 ebp, word32 dwArg10)
{
	while (Mem0[fp + 0x08:word32] != Mem0[(fp - 0x10) + 0x00:word32])
	{
		word32 eax_106 = Mem0[fp + 0x08:word32];
		if (eax_106 == 0x4001)
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem249[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_230 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem238[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_230:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
			Mem241[Mem238[fp + 0x04:word32] + 0x04:word32] = eax_230 + 0x01;
			Mem247[Mem241[Mem241[fp + 0x04:word32] + 0x00:word32] + Mem241[Mem241[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			return;
		}
		if (eax_106 <=u 0x4001)
		{
			if (eax_106 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem190[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_173 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem179[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_173:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem182[Mem179[fp + 0x04:word32] + 0x04:word32] = eax_173 + 0x01;
				Mem188[Mem182[Mem182[fp + 0x04:word32] + 0x00:word32] + Mem182[Mem182[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_106 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem158[fp - 0x38 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem160[fp - 0x3C + 0x00:word32] = Mem158[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			goto l080B92F3;
		}
		if (eax_106 <u 0x880F)
			goto l080B92F3;
		if (eax_106 >u 34834)
		{
			if (eax_106 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem203[fp - 0x38 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem205[fp - 0x3C + 0x00:word32] = Mem203[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
l080B92F3:
			if ((byte) (word32) Mem0[135119011:byte] != 0x00)
			{
				Mem121[fp - 0x30 + 0x00:word32] = Mem0[fp + 0x10:word32];
				word32 edx_123 = Mem121[fp + 0x0C:word32];
				Mem124[fp - 0x38 + 0x00:word32] = Mem121[fp + 0x08:word32];
				Mem125[fp - 0x34 + 0x00:word32] = edx_123;
				Mem126[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
				word32 edx_133 = Mem126[fp - 0x20 + 0x00:word32];
				Mem134[fp + 0x08:word32] = Mem126[fp - 0x24 + 0x00:word32];
				Mem135[fp + 0x0C:word32] = edx_133;
			}
			else
			{
				word32 eax_142;
				if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
					eax_142 = 0xC000;
				else
					eax_142 = 0x4000;
				Mem143[fp + 0x08:word32] = eax_142;
			}
			continue;
		}
		if (Mem0[Mem0[Mem0[fp + 0x10:word32] + 0x00:word32] + 0x00:word32] != 0x00301019)
			goto l080B92F3;
		word32 edx_213 = Mem0[fp + 0x0C:word32];
		Mem214[fp - 0x38 + 0x00:word32] = Mem0[fp + 0x08:word32];
		Mem215[fp - 0x34 + 0x00:word32] = edx_213;
		Mem216[fp - 0x3C + 0x00:word32] = fp + 0x08;
		wc_johab_to_ksx1001(dwArg00, dwArg04, dwArg08);
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem105[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_56 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem63[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_56:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 | ~0x7F);
	Mem66[Mem63[fp + 0x04:word32] + 0x04:word32] = eax_56 + 0x01;
	Mem72[Mem66[Mem66[fp + 0x04:word32] + 0x00:word32] + Mem66[Mem66[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem72[Mem72[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem72[Mem72[fp + 0x04:word32] + 0x08:word32])
	{
		Mem102[fp - 0x3C + 0x00:word32] = Mem72[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_83 = Mem72[Mem72[fp + 0x04:word32] + 0x04:word32];
	Mem91[Mem72[Mem72[fp + 0x04:word32] + 0x00:word32] + eax_83:byte] = (byte) (Mem72[fp + 0x0C:word32] | ~0x7F);
	Mem94[Mem91[fp + 0x04:word32] + 0x04:word32] = eax_83 + 0x01;
	Mem100[Mem94[Mem94[fp + 0x04:word32] + 0x00:word32] + Mem94[Mem94[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080B9358: void wc_push_to_eucjp(Register word32 ebp)
void wc_push_to_eucjp(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 33090)
			break;
		if (eax_20 <=u 33090)
		{
			if (eax_20 != 0x0149)
			{
				if (eax_20 <=u 0x0149)
				{
					if (eax_20 == 322)
					{
						if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
						{
							Mem194[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
							Strgrow(dwArg00);
						}
						word32 eax_177 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
						Mem183[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_177:byte] = (byte) Mem0[fp + 0x0C:word32];
						Mem186[Mem183[fp + 0x04:word32] + 0x04:word32] = eax_177 + 0x01;
						Mem192[Mem186[Mem186[fp + 0x04:word32] + 0x00:word32] + Mem186[Mem186[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
						return;
					}
				}
				else
				{
					if (eax_20 == 0x4000)
					{
						if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
						{
							Mem235[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
							Mem237[fp - 44 + 0x00:word32] = Mem235[fp + 0x04:word32];
							Strcat_charp(dwArg00, dwArg04);
						}
						return;
					}
					if (eax_20 == 0x4001)
					{
						if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
						{
							Mem228[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
							Strgrow(dwArg00);
						}
						word32 eax_209 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
						Mem217[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_209:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
						Mem220[Mem217[fp + 0x04:word32] + 0x04:word32] = eax_209 + 0x01;
						Mem226[Mem220[Mem220[fp + 0x04:word32] + 0x00:word32] + Mem220[Mem220[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
						return;
					}
				}
				goto l080B976A;
			}
			if ((byte) (word32) Mem0[0x080DC0A9:byte] != 0x00)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem299[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_255 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem258[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_255:byte] = 0x8E;
				Mem261[Mem258[fp + 0x04:word32] + 0x04:word32] = eax_255 + 0x01;
				Mem267[Mem261[Mem261[fp + 0x04:word32] + 0x00:word32] + Mem261[Mem261[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				if (Mem267[Mem267[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem267[Mem267[fp + 0x04:word32] + 0x08:word32])
				{
					Mem297[fp - 44 + 0x00:word32] = Mem267[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_278 = Mem267[Mem267[fp + 0x04:word32] + 0x04:word32];
				Mem286[Mem267[Mem267[fp + 0x04:word32] + 0x00:word32] + eax_278:byte] = (byte) (Mem267[fp + 0x0C:word32] | ~0x7F);
				Mem289[Mem286[fp + 0x04:word32] + 0x04:word32] = eax_278 + 0x01;
				Mem295[Mem289[Mem289[fp + 0x04:word32] + 0x00:word32] + Mem289[Mem289[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if ((byte) (word32) Mem0[135119013:byte] != 0x00)
				Mem310[fp + 0x08:word32] = 0x4000;
			else
			{
				word32 edx_313 = Mem0[fp + 0x0C:word32];
				Mem314[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem315[fp - 0x24 + 0x00:word32] = edx_313;
				Mem316[fp - 44 + 0x00:word32] = fp + 0x08;
				wc_jisx0201k_to_jisx0208(dwArg00, dwArg04, dwArg08);
			}
			goto l080B986E;
		}
		if (eax_20 != 33103)
		{
			if (eax_20 <=u 33103)
			{
				if (eax_20 != 0x8144)
					goto l080B976A;
				if ((byte) (word32) Mem0[0x080DC0AA:byte] != 0x00)
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem355[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_341 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem344[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_341:byte] = ~0x70;
					Mem347[Mem344[fp + 0x04:word32] + 0x04:word32] = eax_341 + 0x01;
					Mem353[Mem347[Mem347[fp + 0x04:word32] + 0x00:word32] + Mem347[Mem347[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					break;
				}
				if ((byte) (word32) Mem0[135119011:byte] != 0x00 && (byte) ((word32) Mem0[135119019:byte]) != 0x00)
				{
					word32 edx_383 = Mem0[fp + 0x0C:word32];
					Mem384[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
					Mem385[fp - 0x24 + 0x00:word32] = edx_383;
					Mem386[fp - 44 + 0x00:word32] = fp - 0x14;
					wc_jisx0212_to_jisx0213(fp - 0x04, dwArg00, dwArg04, dwArg08);
					word32 edx_391 = Mem386[fp - 0x10 + 0x00:word32];
					Mem392[fp + 0x08:word32] = Mem386[fp - 0x14 + 0x00:word32];
					Mem393[fp + 0x0C:word32] = edx_391;
				}
				else
					Mem375[fp + 0x08:word32] = 0xC000;
			}
			else if (eax_20 != 0x8150)
			{
				if (eax_20 == 0xC000)
				{
					if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
					{
						Mem404[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
						Mem406[fp - 44 + 0x00:word32] = Mem404[fp + 0x04:word32];
						Strcat_charp(dwArg00, dwArg04);
					}
					return;
				}
l080B976A:
				if ((byte) (word32) Mem0[135119011:byte] != 0x00)
				{
					Mem134[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
					word32 edx_136 = Mem134[fp + 0x0C:word32];
					Mem137[fp - 0x28 + 0x00:word32] = Mem134[fp + 0x08:word32];
					Mem138[fp - 0x24 + 0x00:word32] = edx_136;
					Mem139[fp - 44 + 0x00:word32] = fp - 0x14;
					wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
					word32 edx_146 = Mem139[fp - 0x10 + 0x00:word32];
					Mem147[fp + 0x08:word32] = Mem139[fp - 0x14 + 0x00:word32];
					Mem148[fp + 0x0C:word32] = edx_146;
				}
				else
				{
					word32 eax_155;
					if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
						eax_155 = 0xC000;
					else
						eax_155 = 0x4000;
					Mem156[fp + 0x08:word32] = eax_155;
				}
			}
			else
			{
				if ((byte) (word32) Mem0[135119019:byte] != 0x00)
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem436[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_422 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem425[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_422:byte] = ~0x70;
					Mem428[Mem425[fp + 0x04:word32] + 0x04:word32] = eax_422 + 0x01;
					Mem434[Mem428[Mem428[fp + 0x04:word32] + 0x00:word32] + Mem428[Mem428[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					break;
				}
				if ((byte) (word32) Mem0[135119011:byte] != 0x00 && (byte) ((word32) Mem0[0x080DC0AA:byte]) != 0x00)
				{
					word32 edx_464 = Mem0[fp + 0x0C:word32];
					Mem465[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
					Mem466[fp - 0x24 + 0x00:word32] = edx_464;
					Mem467[fp - 44 + 0x00:word32] = fp - 0x14;
					wc_jisx0213_to_jisx0212(dwArg00, dwArg04, dwArg08);
					word32 edx_472 = Mem467[fp - 0x10 + 0x00:word32];
					Mem473[fp + 0x08:word32] = Mem467[fp - 0x14 + 0x00:word32];
					Mem474[fp + 0x0C:word32] = edx_472;
				}
				else
					Mem456[fp + 0x08:word32] = 0xC000;
			}
		}
		else
		{
			if ((byte) (word32) Mem0[135119019:byte] != 0x00)
				break;
			if ((byte) (word32) Mem0[135119011:byte] != 0x00 && (byte) ((word32) Mem0[0x080DC0AA:byte]) != 0x00)
			{
				word32 edx_507 = Mem0[fp + 0x0C:word32];
				Mem508[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem509[fp - 0x24 + 0x00:word32] = edx_507;
				Mem510[fp - 44 + 0x00:word32] = fp - 0x14;
				wc_jisx0213_to_jisx0212(dwArg00, dwArg04, dwArg08);
				word32 edx_515 = Mem510[fp - 0x10 + 0x00:word32];
				Mem516[fp + 0x08:word32] = Mem510[fp - 0x14 + 0x00:word32];
				Mem517[fp + 0x0C:word32] = edx_515;
			}
			else
				Mem499[fp + 0x08:word32] = 0xC000;
		}
l080B986E:
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem103[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_54 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem61[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_54:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 | ~0x7F);
	Mem64[Mem61[fp + 0x04:word32] + 0x04:word32] = eax_54 + 0x01;
	Mem70[Mem64[Mem64[fp + 0x04:word32] + 0x00:word32] + Mem64[Mem64[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem70[Mem70[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem70[Mem70[fp + 0x04:word32] + 0x08:word32])
	{
		Mem100[fp - 44 + 0x00:word32] = Mem70[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_81 = Mem70[Mem70[fp + 0x04:word32] + 0x04:word32];
	Mem89[Mem70[Mem70[fp + 0x04:word32] + 0x00:word32] + eax_81:byte] = (byte) (Mem70[fp + 0x0C:word32] | ~0x7F);
	Mem92[Mem89[fp + 0x04:word32] + 0x04:word32] = eax_81 + 0x01;
	Mem98[Mem92[Mem92[fp + 0x04:word32] + 0x00:word32] + Mem92[Mem92[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080B9879: void wc_push_to_euctw(Register word32 ebp)
void wc_push_to_euctw(word32 ebp)
{
l080B987F:
	word32 eax_20 = Mem0[fp + 0x08:word32];
	if (eax_20 <=u 33101)
	{
		if (eax_20 <u 0x8148)
		{
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem212[fp - 0x18 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem214[fp - 0x1C + 0x00:word32] = Mem212[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if (eax_20 <=u 0x4000)
			{
				if (eax_20 != 322)
					goto l080B9B26;
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem170[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_153 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem159[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_153:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem162[Mem159[fp + 0x04:word32] + 0x04:word32] = eax_153 + 0x01;
				Mem168[Mem162[Mem162[fp + 0x04:word32] + 0x00:word32] + Mem162[Mem162[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_20 == 0x4001)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem205[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_186 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem194[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_186:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
				Mem197[Mem194[fp + 0x04:word32] + 0x04:word32] = eax_186 + 0x01;
				Mem203[Mem197[Mem197[fp + 0x04:word32] + 0x00:word32] + Mem197[Mem197[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_20 != 33095)
			{
l080B9B26:
				if ((byte) (word32) Mem0[135119011:byte] != 0x00)
				{
					Mem33[fp - 0x10 + 0x00:word32] = Mem0[fp + 0x10:word32];
					word32 edx_35 = Mem33[fp + 0x0C:word32];
					Mem36[fp - 0x18 + 0x00:word32] = Mem33[fp + 0x08:word32];
					Mem37[fp - 0x14 + 0x00:word32] = edx_35;
					Mem38[fp - 0x1C + 0x00:word32] = fp + 0x08;
					wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
				}
				else
				{
					word32 eax_51;
					if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
						eax_51 = 0xC000;
					else
						eax_51 = 0x4000;
					Mem52[fp + 0x08:word32] = eax_51;
				}
				goto l080B987F;
			}
		}
		else
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem269[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_226 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem229[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_226:byte] = 0x8E;
			Mem232[Mem229[fp + 0x04:word32] + 0x04:word32] = eax_226 + 0x01;
			Mem238[Mem232[Mem232[fp + 0x04:word32] + 0x00:word32] + Mem232[Mem232[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem238[Mem238[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem238[Mem238[fp + 0x04:word32] + 0x08:word32])
			{
				Mem267[fp - 0x1C + 0x00:word32] = Mem238[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_249 = Mem238[Mem238[fp + 0x04:word32] + 0x04:word32];
			Mem256[Mem238[Mem238[fp + 0x04:word32] + 0x00:word32] + eax_249:byte] = (byte) (Mem238[fp + 0x08:word32] + 0x5A);
			Mem259[Mem256[fp + 0x04:word32] + 0x04:word32] = eax_249 + 0x01;
			Mem265[Mem259[Mem259[fp + 0x04:word32] + 0x00:word32] + Mem259[Mem259[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		}
	}
	else
	{
		if (eax_20 <u 0x8804)
			goto l080B9B26;
		if (eax_20 >u 0x880C)
		{
			if (eax_20 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem282[fp - 0x18 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem284[fp - 0x1C + 0x00:word32] = Mem282[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			goto l080B9B26;
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
		{
			Mem338[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_295 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
		Mem298[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_295:byte] = 0x8E;
		Mem301[Mem298[fp + 0x04:word32] + 0x04:word32] = eax_295 + 0x01;
		Mem307[Mem301[Mem301[fp + 0x04:word32] + 0x00:word32] + Mem301[Mem301[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		if (Mem307[Mem307[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem307[Mem307[fp + 0x04:word32] + 0x08:word32])
		{
			Mem336[fp - 0x1C + 0x00:word32] = Mem307[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_318 = Mem307[Mem307[fp + 0x04:word32] + 0x04:word32];
		Mem325[Mem307[Mem307[fp + 0x04:word32] + 0x00:word32] + eax_318:byte] = (byte) (Mem307[fp + 0x08:word32] - 0x5C);
		Mem328[Mem325[fp + 0x04:word32] + 0x04:word32] = eax_318 + 0x01;
		Mem334[Mem328[Mem328[fp + 0x04:word32] + 0x00:word32] + Mem328[Mem328[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem134[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_86 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem93[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_86:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 | ~0x7F);
	Mem96[Mem93[fp + 0x04:word32] + 0x04:word32] = eax_86 + 0x01;
	Mem102[Mem96[Mem96[fp + 0x04:word32] + 0x00:word32] + Mem96[Mem96[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem102[Mem102[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem102[Mem102[fp + 0x04:word32] + 0x08:word32])
	{
		Mem132[fp - 0x1C + 0x00:word32] = Mem102[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_113 = Mem102[Mem102[fp + 0x04:word32] + 0x04:word32];
	Mem121[Mem102[Mem102[fp + 0x04:word32] + 0x00:word32] + eax_113:byte] = (byte) (Mem102[fp + 0x0C:word32] | ~0x7F);
	Mem124[Mem121[fp + 0x04:word32] + 0x04:word32] = eax_113 + 0x01;
	Mem130[Mem124[Mem124[fp + 0x04:word32] + 0x00:word32] + Mem124[Mem124[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080B9C24: void wc_push_to_iso8859(Register word32 ebp, Stack word32 dwArg10)
void wc_push_to_iso8859(word32 ebp, word32 dwArg10)
{
	while (Mem0[fp + 0x08:word32] != Mem0[(fp - 0x10) + 0x00:word32])
	{
		word32 eax_77 = Mem0[fp + 0x08:word32];
		if (eax_77 == 0x4000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem195[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
				Mem197[fp - 44 + 0x00:word32] = Mem195[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
		if (eax_77 <=u 0x4000)
		{
			if (eax_77 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem143[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_126 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem132[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_126:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem135[Mem132[fp + 0x04:word32] + 0x04:word32] = eax_126 + 0x01;
				Mem141[Mem135[Mem135[fp + 0x04:word32] + 0x00:word32] + Mem135[Mem135[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
		}
		else
		{
			if (eax_77 == 0x4001)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem188[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_169 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem177[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_169:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
				Mem180[Mem177[fp + 0x04:word32] + 0x04:word32] = eax_169 + 0x01;
				Mem186[Mem180[Mem180[fp + 0x04:word32] + 0x00:word32] + Mem180[Mem180[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_77 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem154[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem156[fp - 44 + 0x00:word32] = Mem154[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
		}
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem91[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_93 = Mem91[fp + 0x0C:word32];
			Mem94[fp - 0x28 + 0x00:word32] = Mem91[fp + 0x08:word32];
			Mem95[fp - 0x24 + 0x00:word32] = edx_93;
			Mem96[fp - 44 + 0x00:word32] = fp + 0x08;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
		}
		else
		{
			word32 eax_108;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_108 = 0xC000;
			else
				eax_108 = 0x4000;
			Mem109[fp + 0x08:word32] = eax_108;
		}
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem75[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_56 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem64[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_56:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
	Mem67[Mem64[fp + 0x04:word32] + 0x04:word32] = eax_56 + 0x01;
	Mem73[Mem67[Mem67[fp + 0x04:word32] + 0x00:word32] + Mem67[Mem67[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080B9E12: void wc_create_gmap(Stack word32 dwArg04)
void wc_create_gmap(word32 dwArg04)
{
	word32 eax_11 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x0C:word32];
	word32 eax_15 = Mem0[Mem0[dwArg04 + 0x00:word32] + 0x10:word32];
	if ((byte) (word32) Mem0[0x080DC0AC:byte] != 0x00)
	{
		word32 dwLoc10_165 = 0x00;
		while (dwLoc10_165 <= 0x3F)
		{
			Mem173[dwLoc10_165 + 0x0817FDC0:byte] = 0x00;
			Mem175[dwLoc10_165 + 0x0817FE40:byte] = 0x00;
			Mem177[dwLoc10_165 + 0x0817FE00:byte] = 0x00;
			Mem179[dwLoc10_165 + 0x0817FE80:byte] = 0x00;
			Mem181[dwLoc10_165 + 0x0817FEC0:byte] = 0x00;
			dwLoc10_165 = dwLoc10_165 + 0x01;
		}
	}
	else
	{
		word32 dwLoc10_185 = 0x00;
		while (dwLoc10_185 <= 0x3F)
		{
			Mem196[dwLoc10_185 + 0x0817FDC0:byte] = (byte) (word32) Mem0[eax_15 + 0x00:byte];
			Mem202[dwLoc10_185 + 0x0817FE40:byte] = (byte) (word32) Mem196[eax_15 + 0x01:byte];
			Mem208[dwLoc10_185 + 0x0817FE00:byte] = (byte) (word32) Mem202[eax_15 + 0x02:byte];
			Mem214[dwLoc10_185 + 0x0817FE80:byte] = (byte) (word32) Mem208[eax_15 + 0x03:byte];
			Mem219[dwLoc10_185 + 0x0817FEC0:byte] = (byte) (word32) Mem214[eax_15 + 0x00:byte];
			dwLoc10_185 = dwLoc10_185 + 0x01;
		}
	}
	word32 dwLoc10_27 = 0x00;
	while (eax_11[dwLoc10_27 * 0x08] != 0x00)
	{
		word32 eax_52 = (eax_11[dwLoc10_27 * 0x08] & 0xFF) - 0x40;
		word32 eax_57 = eax_11[dwLoc10_27 * 0x08];
		if ((eax_57 & 0xFF00) != 0x0400)
		{
			if ((eax_57 & 0xFF00) <=u 0x0400)
			{
				if ((eax_57 & 0xFF00) != 0x0100)
				{
					if ((eax_57 & 0xFF00) == 0x0200)
						Mem86[eax_52 + 0x0817FE40:byte] = (byte) (word32) Mem0[(dwLoc10_27 << 0x03) + eax_11 + 0x04:byte];
				}
				else if (eax_11[dwLoc10_27 * 0x08] != 0x0149 || (byte) ((word32) Mem0[0x080DC0A9:byte]) != 0x00)
					Mem104[eax_52 + 0x0817FDC0:byte] = (byte) (word32) Mem0[(dwLoc10_27 << 0x03) + eax_11 + 0x04:byte];
				goto l080BA039;
			}
			if ((eax_57 & 0xFF00) != 0x8100)
			{
				if ((eax_57 & 0xFF00) == 0x8200)
					Mem121[eax_52 + 0x0817FE80:byte] = (byte) (word32) Mem0[(dwLoc10_27 << 0x03) + eax_11 + 0x04:byte];
				goto l080BA039;
			}
			word32 eax_125 = eax_11[dwLoc10_27 * 0x08];
			if (eax_125 != 0x8144)
			{
				if (eax_125 >=u 0x8144 && (eax_125 <=u 0x8150 && (byte) ((word32) Mem0[135119019:byte]) == 0x00))
					goto l080BA039;
				goto l080B9FD5;
			}
			if ((byte) (word32) Mem0[0x080DC0AA:byte] != 0x00)
			{
l080B9FD5:
				Mem141[eax_52 + 0x0817FE00:byte] = (byte) (word32) Mem0[(dwLoc10_27 << 0x03) + eax_11 + 0x04:byte];
			}
		}
		else
			Mem164[eax_52 + 0x0817FEC0:byte] = (byte) (word32) Mem0[(dwLoc10_27 << 0x03) + eax_11 + 0x04:byte];
l080BA039:
		dwLoc10_27 = dwLoc10_27 + 0x01;
	}
}

// 080BA052: void wc_char_conv_from_iso2022(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_iso2022(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem118[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem121[0x0817FF00:word32] = dwArg08;
		Mem122[0x0817FF04:word32] = 0x00;
	}
	word32 eax_44 = Mem0[dwArg08 + 0x28:word32];
	if (eax_44 >u 44)
	{
		Mem75[dwArg08 + 0x06:byte] = 0x00;
		Mem77[dwArg08 + 0x28:word32] = ~0x00;
	}
	else
	{
		word32 eax_60 = 0x080D21D0[eax_44 * 0x04];
		word32 esp_62;
		word32 ebp_63;
		word32 ebx_64;
		byte SCZO_65;
		word32 eax_66;
		byte al_67;
		byte Z_68;
		byte SZO_69;
		byte C_70;
		word32 edx_71;
		byte CZ_72;
		bcuiposr0 None_73;
		eax_60();
	}
}

// 080BA840: void wc_jisx0201k_to_jisx0208(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_jisx0201k_to_jisx0208(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_21;
	word32 eax_14 = (word32) (word16) (word32) Mem0[(dwArg0C & 0x7F) + 0x080DBBC0 + (dwArg0C & 0x7F):word16];
	if (eax_14 != 0x00)
		eax_21 = 33090;
	else
		eax_21 = 0xC000;
	Mem25[dwArg04 + 0x00:word32] = eax_21;
	Mem26[dwArg04 + 0x04:word32] = eax_14;
}

// 080BA881: void wc_jisx0212_to_jisx0213(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_jisx0212_to_jisx0213(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[0x0817FF10:word32] == 0x00)
	{
		Mem56[0x0817FF10:word32] = wc_get_ucs_table(33103);
		Mem59[0x0817FF14:word32] = wc_get_ucs_table(0x8150);
	}
	wc_any_to_any(fp - 0x04, fp - 0x14, dwArg08, dwArg0C);
	if (Mem0[fp - 0x14 + 0x00:word32] == 0x8144)
	{
		word32 edx_40 = Mem0[fp - 0x10 + 0x00:word32];
		Mem41[dwArg04 + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32];
		Mem42[dwArg04 + 0x04:word32] = edx_40;
	}
	else
	{
		Mem44[fp - 0x20 + 0x00:word32] = Mem0[0x0817FF10:word32];
		word32 edx_46 = Mem44[fp + 0x0C:word32];
		Mem47[fp - 0x28 + 0x00:word32] = Mem44[fp + 0x08:word32];
		Mem48[fp - 0x24 + 0x00:word32] = edx_46;
		Mem49[fp - 44 + 0x00:word32] = dwArg04;
		wc_any_to_any(fp - 0x04, dwArg00, dwArg04, dwArg08);
	}
}

// 080BA91D: void wc_jisx0213_to_jisx0212(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_jisx0213_to_jisx0212(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (Mem0[0x0817FF0C:word32] == 0x00)
		Mem36[0x0817FF0C:word32] = wc_get_ucs_table(0x8144);
	wc_any_to_any(fp - 0x04, dwArg04, dwArg08, dwArg0C);
}

// 080BA96C: Register word32 wc_jisx0208_or_jisx02131(Stack word32 dwArg04)
word32 wc_jisx0208_or_jisx02131(word32 dwArg04)
{
	word32 eax_22;
	if (wc_map_range_search((word32) (word16) dwArg04 & 0x7F7F, 0x080DBCC0, 0x12) != 0x00)
		eax_22 = 33103;
	else
		eax_22 = 33090;
	return eax_22;
}

// 080BA9AC: Register word32 wc_jisx0212_or_jisx02132(Stack word32 dwArg04)
word32 wc_jisx0212_or_jisx02132(word32 dwArg04)
{
	word32 eax_24;
	if ((byte) (word32) Mem0[Mem0[0x080DBF80:word32] + ((word32) ((word16) ((word32) ((word16) dwArg04)) >>u 0x08) & 0x7F):byte] != 0x00)
		eax_24 = 0x8150;
	else
		eax_24 = 0x8144;
	return eax_24;
}

// 080BA9E4: void wc_johab_to_ksx1001(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_johab_to_ksx1001(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 <=u 34833)
	{
		if (dwArg08 <u 0x8810)
		{
			if (dwArg08 == 0x880F)
			{
				wc_johab_to_cs128w(fp - 0x14, dwArg08, dwArg0C);
				wc_johab_to_ksx1001(dwArg04, dwLoc14, dwLoc10);
				return;
			}
		}
		else if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			if (Mem0[0x0817FF20:word32] == 0x00)
				Mem105[0x0817FF20:word32] = wc_get_ucs_table(33091);
			wc_any_to_any(fp - 0x04, fp + 0x08, dwArg08, dwArg0C);
		}
	}
	word32 edx_50 = Mem0[fp + 0x0C:word32];
	Mem51[dwArg04 + 0x00:word32] = Mem0[fp + 0x08:word32];
	Mem52[dwArg04 + 0x04:word32] = edx_50;
}

// 080BAAD5: void wc_ksx1001_to_johab(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_ksx1001_to_johab(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if ((dwArg0C & 0x7F7F) >u 0x2120 && (dwArg0C & 0x7F7F) <=u 0x2420 || ((dwArg0C & 0x7F7F) >u 9299 && (dwArg0C & 0x7F7F) <=u 11390 || (dwArg0C & 0x7F7F) >u 0x4A20 && (dwArg0C & 0x7F7F) <=u 0x7D7E))
	{
		Mem40[dwArg04 + 0x00:word32] = 34834;
		Mem41[dwArg04 + 0x04:word32] = dwArg0C & 0x7F7F;
	}
	else
	{
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem77[fp - 0x18 + 0x00:word32] = wc_any_to_ucs(dwArg08, dwArg0C & 0x7F7F);
			Mem78[fp - 0x1C + 0x00:word32] = fp + 0x08;
			wc_ucs_to_johab(dwArg00, dwArg04);
		}
		word32 edx_67 = Mem0[fp + 0x0C:word32];
		Mem68[dwArg04 + 0x00:word32] = Mem0[fp + 0x08:word32];
		Mem69[dwArg04 + 0x04:word32] = edx_67;
	}
}

// 080BAB86: void wc_ucs_to_johab(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_ucs_to_johab(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 >u 0xABFF && dwArg08 <=u 55203)
	{
		dwLoc14 = wc_N_to_johab1(dwArg08 - 0xAC00);
		dwLoc18 = 0x880F;
	}
	else if (dwArg08 >u 0x3130 && dwArg08 <=u 0x3163)
		wc_ucs_to_any(fp - 0x18, dwArg08, wc_get_ucs_table(34833));
	else
	{
		wc_ucs_to_any(fp - 0x24, dwArg08, wc_get_ucs_table(34834));
		dwLoc18 = dwLoc24;
		dwLoc14 = dwLoc20;
	}
	Mem26[dwArg04 + 0x00:word32] = dwLoc18;
	Mem27[dwArg04 + 0x04:word32] = dwLoc14;
}

// 080BAC4A: Register word32 wc_johab1_to_N(Stack word32 dwArg04)
word32 wc_johab1_to_N(word32 dwArg04)
{
	word32 eax_34;
	word32 eax_14 = (word32) (byte) (word32) Mem0[(dwArg04 >>u 0x0A & 0x1F) + 135118368:byte];
	word32 eax_21 = (word32) (byte) (word32) Mem0[(dwArg04 >>u 0x05 & 0x1F) + 0x080DBE40:byte];
	word32 eax_27 = (word32) (byte) (word32) Mem0[(dwArg04 & 0x1F) + 0x080DBE60:byte];
	if (eax_14 != 0x00 && (eax_21 != 0x00 && eax_27 != 0x00))
	{
		word32 eax_56 = eax_14 * 0x15 + eax_21;
		eax_34 = (eax_56 << 0x02) * 0x08 - (eax_56 << 0x02) + eax_27 - 0x0269;
	}
	else
		eax_34 = ~0x00;
	return eax_34;
}

// 080BACD4: Register word32 wc_N_to_johab1(Stack word32 dwArg04)
word32 wc_N_to_johab1(word32 dwArg04)
{
	word32 eax_71 = (word32) (byte) (word32) Mem0[0x14A007CC:byte] << 0x05 | (word32) ((byte) ((word32) Mem0[142422830:byte])) << 0x0A | (word32) ((byte) ((word32) Mem0[dwArg04 + 135118516:byte]));
	return DPB(eax_71, SLICE(eax_71, byte, 8) | 0x80, 8);
}

// 080BAD93: void wc_johab_to_cs128w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_johab_to_cs128w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwArg08_121;
	word32 dwArg0C_120;
	if (dwArg0C <=u 55295)
	{
		word32 eax_41 = wc_johab1_to_N(dwArg0C);
		if (eax_41 != ~0x00)
		{
			dwArg0C_120 = ((eax_41 >>u 0x07) + 33 << 0x08) + (eax_41 & 0x7F);
			dwArg08_121 = 0x8810;
		}
		else
		{
			word32 eax_73;
			word32 edx_67 = (dwArg0C >>u 0x08 & 0xFF) *s 188 + (dwArg0C & 0xFF);
			if ((dwArg0C & 0xFF) <=u 0x80)
				eax_73 = 0x41;
			else
				eax_73 = 0x43;
			word32 ecx_75 = edx_67 - eax_73;
			dwArg0C_120 = (ecx_75 - 0x60F0 >>u 0x07 << 0x08) + (ecx_75 - 0x60F0 & 0x7F);
			dwArg08_121 = 34833;
		}
	}
	else
	{
		byte bLoc09_103;
		byte al_96 = (byte) (dwArg0C >>u 0x08);
		byte al_99 = (byte) dwArg0C;
		if (al_96 <=u 223)
			bLoc09_103 = (byte) (((word32) al_96 + 0x28) * 0x02 + 0x1F);
		else
			bLoc09_103 = (byte) (((word32) al_96 + 0x20) * 0x02 + 0x4A);
		byte bLoc0A_109;
		if (al_99 <=u 0xA0)
		{
			byte al_127;
			if (al_99 <=u 0x90)
				al_127 = 0x10;
			else
				al_127 = 0x22;
			bLoc0A_109 = al_99 - al_127;
		}
		else
		{
			bLoc09_103 = bLoc09_103 + 0x01;
			bLoc0A_109 = al_99 + 0x80;
		}
		dwArg0C_120 = (word32) bLoc0A_109 | (word32) bLoc09_103 << 0x08;
		dwArg08_121 = 34834;
	}
	Mem30[dwArg04 + 0x00:word32] = dwArg08_121;
	Mem31[dwArg04 + 0x04:word32] = dwArg0C_120;
}

// 080BAED3: void wc_cs128w_to_johab(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs128w_to_johab(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 != 34833)
	{
		if (dwArg08 != 34834)
		{
			if (dwArg08 == 0x8810)
				dwArg0C = wc_N_to_johab1(((dwArg0C >>u 0x08 & 0x7F) + 0x01FFFFDF << 0x07) + (dwArg0C & 0x7F));
		}
		else
		{
			byte bLoc11_130;
			byte bLoc12_122;
			byte al_87 = (byte) (dwArg0C >>u 0x08 & 0x7F);
			byte al_91 = (byte) (dwArg0C & 0x7F);
			if (al_87 <=u 0x49)
			{
				byte al_120;
				if ((byte) ((word32) (al_87 - 0x1F) & 0x01) != 0x00)
					al_120 = 0x80;
				else if (al_91 <=u 110)
					al_120 = 0x10;
				else
					al_120 = 0x22;
				word32 eax_123 = (word32) (al_87 - 0x1F);
				bLoc12_122 = al_91 + al_120;
				bLoc11_130 = (byte) (DPB(eax_123, (byte) eax_123 >>u 0x01, 0) - 0x28);
			}
			else
			{
				byte al_152;
				if ((byte) ((word32) (al_87 - 0x4A) & 0x01) != 0x00)
					al_152 = 0x80;
				else if (al_91 <=u 110)
					al_152 = 0x10;
				else
					al_152 = 0x22;
				word32 eax_155 = (word32) (al_87 - 0x4A);
				bLoc12_122 = al_91 + al_152;
				bLoc11_130 = (byte) (DPB(eax_155, (byte) eax_155 >>u 0x01, 0) - 0x20);
			}
			dwArg0C = (word32) bLoc12_122 | (word32) bLoc11_130 << 0x08;
		}
	}
	else
	{
		word32 eax_216;
		word32 eax_181 = ((dwArg0C >>u 0x08 & 0x7F) << 0x07) + (dwArg0C & 0x7F);
		if (eax_181 <=u ~0x4A)
			eax_216 = 0x41;
		else
			eax_216 = 0x43;
		dwArg0C = eax_181 - ~0x87 + eax_216 + 0x5C990600;
	}
	Mem41[dwArg04 + 0x00:word32] = 0x880F;
	Mem42[dwArg04 + 0x04:word32] = dwArg0C;
}

// 080BB07C: void wc_conv_from_johab(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_johab(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_19 = eax_10;
	while (dwLoc1C_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_19 + 0x00:byte]) >= 0x00)
		dwLoc1C_19 = dwLoc1C_19 + 0x01;
	if (dwLoc1C_19 != eax_14)
	{
		word32 eax_66 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_66, eax_66);
		if (dwLoc1C_19 >u eax_10)
			Strcat_charp_n(eax_66, Mem0[dwArg04 + 0x00:word32], dwLoc1C_19 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_100 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_100 != 0x01)
			{
				if (eax_100 != 0x02)
				{
					if (eax_100 != 0x00)
						goto l080BB2BE;
					word32 eax_127 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135118112:byte];
					if ((eax_127 & 0x0F) != 0x04)
					{
						if ((eax_127 & 0x0F) != 0x08)
						{
							if ((eax_127 & 0x0F) == 0x02)
							{
								Mem139[fp - 0x20 + 0x00:word32] = 0x01;
								goto l080BB1D1;
							}
							if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
							{
								Mem168[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
								Strgrow(dwArg00);
							}
							word32 eax_150 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
							Mem157[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_150:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
							Mem160[Mem157[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_150 + 0x01;
							Mem166[Mem160[Mem160[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem160[Mem160[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
							goto l080BB2BE;
						}
						Mem170[fp - 0x34 + 0x00:word32] = 0x01;
						Mem172[fp - 0x38 + 0x00:word32] = Mem170[fp - 0x1C + 0x00:word32];
						Mem174[fp - 0x3C + 0x00:word32] = Mem172[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					else
						Mem175[fp - 0x20 + 0x00:word32] = 0x02;
l080BB1D1:
				}
				else
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135118112:byte] & 0x20) != 0x00)
					{
						Mem208[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
						Mem209[fp - 0x38 + 0x00:word32] = 0x880F;
						Mem211[fp - 0x3C + 0x00:word32] = Mem209[fp - 0x10 + 0x00:word32];
						wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
					}
					else
					{
						word32 eax_213 = Mem0[fp - 0x1C + 0x00:word32];
						Mem216[fp - 0x34 + 0x00:word32] = 0x02;
						Mem217[fp - 0x38 + 0x00:word32] = eax_213 - 0x01;
						Mem219[fp - 0x3C + 0x00:word32] = Mem217[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem193[fp - 0x20 + 0x00:word32] = 0x00;
				}
			}
			else
			{
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135118112:byte] & 0x10) != 0x00)
				{
					Mem252[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
					Mem253[fp - 0x38 + 0x00:word32] = 0x880F;
					Mem255[fp - 0x3C + 0x00:word32] = Mem253[fp - 0x10 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
				else
				{
					word32 eax_256 = Mem0[fp - 0x1C + 0x00:word32];
					Mem259[fp - 0x34 + 0x00:word32] = 0x02;
					Mem260[fp - 0x38 + 0x00:word32] = eax_256 - 0x01;
					Mem262[fp - 0x3C + 0x00:word32] = Mem260[fp - 0x10 + 0x00:word32];
					wtf_push_unknown(fp - 0x04, gs);
				}
				Mem237[fp - 0x20 + 0x00:word32] = 0x00;
			}
l080BB2BE:
			Mem114[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x20 + 0x00:word32] <=u 0x02)
		{
			word32 eax_92 = Mem0[fp - 0x1C + 0x00:word32];
			Mem95[fp - 0x34 + 0x00:word32] = 0x01;
			Mem96[fp - 0x38 + 0x00:word32] = eax_92 - 0x01;
			Mem98[fp - 0x3C + 0x00:word32] = Mem96[fp - 0x10 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080BB2FB: void wc_push_to_johab(Register word32 ebp)
void wc_push_to_johab(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 0x880F)
			break;
		if (eax_20 >u 0x880F)
		{
			if (eax_20 <=u 34834)
			{
				word32 edx_209 = Mem0[fp + 0x0C:word32];
				Mem210[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem211[fp - 0x24 + 0x00:word32] = edx_209;
				Mem212[fp - 44 + 0x00:word32] = fp + 0x08;
				wc_cs128w_to_johab(dwArg00, dwArg04, dwArg08);
				break;
			}
			if (eax_20 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem204[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem206[fp - 44 + 0x00:word32] = Mem204[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			goto l080BB4D3;
		}
		if (eax_20 == 0x4000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem189[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
				Mem191[fp - 44 + 0x00:word32] = Mem189[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
		if (eax_20 != 33091)
		{
			if (eax_20 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem169[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_152 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem158[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_152:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem161[Mem158[fp + 0x04:word32] + 0x04:word32] = eax_152 + 0x01;
				Mem167[Mem161[Mem161[fp + 0x04:word32] + 0x00:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
l080BB4D3:
			if ((byte) (word32) Mem0[135119011:byte] != 0x00)
			{
				Mem109[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
				word32 edx_111 = Mem109[fp + 0x0C:word32];
				Mem112[fp - 0x28 + 0x00:word32] = Mem109[fp + 0x08:word32];
				Mem113[fp - 0x24 + 0x00:word32] = edx_111;
				Mem114[fp - 44 + 0x00:word32] = fp - 0x14;
				wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
				word32 edx_121 = Mem114[fp - 0x10 + 0x00:word32];
				Mem122[fp + 0x08:word32] = Mem114[fp - 0x14 + 0x00:word32];
				Mem123[fp + 0x0C:word32] = edx_121;
			}
			else
			{
				word32 eax_130;
				if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
					eax_130 = 0xC000;
				else
					eax_130 = 0x4000;
				Mem131[fp + 0x08:word32] = eax_130;
			}
			continue;
		}
		word32 edx_172 = Mem0[fp + 0x0C:word32];
		Mem173[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
		Mem174[fp - 0x24 + 0x00:word32] = edx_172;
		Mem175[fp - 44 + 0x00:word32] = fp - 0x14;
		wc_ksx1001_to_johab(fp - 0x04, dwArg00, dwArg04, dwArg08);
		word32 edx_180 = Mem175[fp - 0x10 + 0x00:word32];
		Mem181[fp + 0x08:word32] = Mem175[fp - 0x14 + 0x00:word32];
		Mem182[fp + 0x0C:word32] = edx_180;
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem97[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_51 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem57[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_51:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
	Mem60[Mem57[fp + 0x04:word32] + 0x04:word32] = eax_51 + 0x01;
	Mem66[Mem60[Mem60[fp + 0x04:word32] + 0x00:word32] + Mem60[Mem60[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem66[Mem66[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem66[Mem66[fp + 0x04:word32] + 0x08:word32])
	{
		Mem94[fp - 44 + 0x00:word32] = Mem66[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_77 = Mem66[Mem66[fp + 0x04:word32] + 0x04:word32];
	Mem83[Mem66[Mem66[fp + 0x04:word32] + 0x00:word32] + eax_77:byte] = (byte) Mem66[fp + 0x0C:word32];
	Mem86[Mem83[fp + 0x04:word32] + 0x04:word32] = eax_77 + 0x01;
	Mem92[Mem86[Mem86[fp + 0x04:word32] + 0x00:word32] + Mem86[Mem86[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080BB538: void wc_char_conv_from_johab(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_johab(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem169[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem172[0x0817FF18:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 != 0x01)
	{
		if (eax_25 != 0x02)
		{
			if (eax_25 == 0x00)
			{
				word32 eax_76 = (word32) (byte) (word32) Mem0[(word32) al_12 + 135118112:byte];
				if ((eax_76 & 0x0F) == 0x04)
				{
					Mem121[0x0817FF1C:byte] = (byte) (word32) al_12;
					Mem123[dwArg08 + 0x28:word32] = 0x02;
					return;
				}
				if ((eax_76 & 0x0F) != 0x08)
				{
					if ((eax_76 & 0x0F) == 0x02)
					{
						Mem87[0x0817FF1C:byte] = (byte) (word32) al_12;
						Mem89[dwArg08 + 0x28:word32] = 0x01;
						return;
					}
					if (Mem0[Mem0[0x0817FF18:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x0817FF18:word32] + 0x08:word32])
						Strgrow(Mem0[0x0817FF18:word32]);
					word32 eax_101 = Mem0[0x0817FF18:word32];
					word32 edx_102 = Mem0[eax_101 + 0x04:word32];
					Mem107[Mem0[Mem0[0x0817FF18:word32] + 0x00:word32] + edx_102:byte] = (byte) (word32) al_12;
					Mem110[eax_101 + 0x04:word32] = edx_102 + 0x01;
					Mem116[Mem110[Mem110[0x0817FF18:word32] + 0x00:word32] + Mem110[Mem110[0x0817FF18:word32] + 0x04:word32]:byte] = 0x00;
				}
			}
		}
		else if (((word32) (byte) (word32) Mem0[(word32) al_12 + 135118112:byte] & 0x20) != 0x00)
			wtf_push(fp - 0x04, gs, Mem0[0x0817FF18:word32], 0x880F, (word32) (byte) (word32) Mem0[0x0817FF1C:byte] << 0x08 | (word32) al_12);
	}
	else if (((word32) (byte) (word32) Mem0[(word32) al_12 + 135118112:byte] & 0x10) != 0x00)
		wtf_push(fp - 0x04, gs, Mem0[0x0817FF18:word32], 0x880F, (word32) (byte) (word32) Mem0[0x0817FF1C:byte] << 0x08 | (word32) al_12);
	Mem61[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080BB6E8: void wc_putc_init(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_putc_init(word32 dwArg04, word32 dwArg08)
{
	word32 eax_12 = wc_output_init(dwArg08, 0x0817FF40);
	Strnew_size(eax_12, 0x08);
	Mem15[0x0817FF84:word32] = eax_12;
	Mem18[0x0817FF7C:word32] = dwArg04;
	Mem20[0x0817FF80:word32] = dwArg08;
}

// 080BB724: void wc_putc(Register word32 ebp, Stack word32 dwArg04)
void wc_putc(word32 ebp, word32 dwArg04)
{
	word32 ebp_28 = fp - 0x04;
	word32 esp_29 = fp - 44;
	if (Mem0[0x0817FF7C:word32] != 0x00310000)
	{
		word32 ebx_79 = Mem0[0x0817FF7C:word32];
		Strnew_charp(dwArg04, dwArg04);
		word32 ebx_85;
		Mem88[fp - 0x10 + 0x00:word32] = Mem0[wc_Str_conv(dwArg04, ebx_79, 0x00310000, out ebx_85) + 0x00:word32];
	}
	Mem20[fp - 44 + 0x00:word32] = Mem0[0x0817FF84:word32];
	Strclear(dwArg00);
	while (true)
	{
		byte al_32 = (byte) (word32) Mem20[Mem20[ebp_28 - 0x0C + 0x00:word32] + 0x00:byte];
		if (al_32 == 0x00)
			break;
		word32 ebx_52 = Mem20[Mem20[0x0817FF40:word32] + 0x18:word32];
		Mem55[esp_29 + 0x04:word32] = ebp_28 - 0x0C;
		Mem56[esp_29 + 0x00:word32] = ebp_28 - 0x14;
		wtf_parse(ebp_28, dwArg00, dwArg04);
		word32 esp_58 = esp_29 + 0x04;
		word32 ecx_61 = Mem56[0x0817FF84:word32];
		Mem62[esp_58 + 0x08:word32] = 0x0817FF40;
		word32 eax_63 = Mem62[ebp_28 - 0x14 + 0x00:word32];
		word32 edx_64 = Mem62[ebp_28 - 0x10 + 0x00:word32];
		Mem65[esp_58 + 0x00:word32] = eax_63;
		Mem66[esp_58 + 0x04:word32] = edx_64;
		Mem67[esp_58 - 0x04 + 0x00:word32] = ecx_61;
		word32 ebx_70;
		byte SCZO_71;
		word32 eax_72;
		byte Z_73;
		byte al_74;
		byte SZO_75;
		byte C_76;
		word32 edx_77;
		word32 ecx_78;
		ebx_52();
	}
	word32 eax_37 = Mem20[Mem20[0x0817FF84:word32] + 0x04:word32];
	word32 eax_40 = Mem20[Mem20[0x0817FF84:word32] + 0x00:word32];
	Mem42[esp_29 + 0x0C:word32] = Mem20[ebp_28 + 0x0C:word32];
	Mem43[esp_29 + 0x08:word32] = eax_37;
	Mem44[esp_29 + 0x04:word32] = 0x01;
	Mem45[esp_29 + 0x00:word32] = eax_40;
	fwrite(Mem45[esp_29 + 0x00:(ptr void)], Mem45[esp_29 + 0x04:size_t], Mem45[esp_29 + 0x08:size_t], Mem45[esp_29 + 0x0C:(ptr FILE)]);
}

// 080BB7F1: void wc_putc_end(Stack word32 dwArg04)
void wc_putc_end(word32 dwArg04)
{
	Strclear(Mem0[0x0817FF84:word32]);
	wc_push_end(Mem0[0x0817FF84:word32], 0x0817FF40);
	if (Mem0[Mem0[0x0817FF84:word32] + 0x04:word32] != 0x00)
		fwrite(Mem0[Mem0[0x0817FF84:word32] + 0x00:word32], 0x01, Mem0[Mem0[0x0817FF84:word32] + 0x04:word32], dwArg04);
}

// 080BB853: void wc_putc_clear_status()
void wc_putc_clear_status()
{
	if ((Mem0[Mem0[0x0817FF40:word32] + 0x00:word32] & 0x0800) != 0x00)
	{
		Mem15[0x0817FF45:byte] = 0x00;
		Mem16[0x0817FF44:byte] = 0x00;
		Mem17[0x0817FF46:byte] = 0x00;
		Mem18[0x0817FF50:word32] = 0x00;
		Mem19[0x0817FF54:word32] = 0x00;
		Mem20[0x0817FF58:word32] = 0x00;
		Mem21[0x0817FF5C:word32] = 0x00;
	}
}

// 080BB8A8: void map_cmp(Stack word32 dwArg04, Stack word32 dwArg08)
void map_cmp(word32 dwArg04, word32 dwArg08)
{
}

// 080BB8C5: void map3_cmp(Stack word32 dwArg04, Stack word32 dwArg08)
void map3_cmp(word32 dwArg04, word32 dwArg08)
{
}

// 080BB8EF: void map_range_cmp(Stack word32 dwArg04, Stack word32 dwArg08)
void map_range_cmp(word32 dwArg04, word32 dwArg08)
{
}

// 080BB922: void map2_range_cmp(Stack word32 dwArg04, Stack word32 dwArg08)
void map2_range_cmp(word32 dwArg04, word32 dwArg08)
{
}

// 080BB957: void map3_range_cmp(Stack word32 dwArg04, Stack word32 dwArg08)
void map3_range_cmp(word32 dwArg04, word32 dwArg08)
{
}

// 080BB98A: Register word32 wc_map_search(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 wc_map_search(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_23;
	word32 ebp_24;
	byte SCZO_25;
	word32 eax_26;
	word16 ax_27;
	!bsearch();
	return eax_26;
}

// 080BB9C2: Register word32 wc_map3_search(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 wc_map3_search(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 esp_34;
	word32 ebp_35;
	byte SCZO_36;
	word32 edx_37;
	word32 eax_38;
	word16 dx_39;
	word16 ax_40;
	byte SZO_41;
	byte C_42;
	!bsearch();
	return eax_38;
}

// 080BBA13: Register word32 wc_map_range_search(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 wc_map_range_search(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_23;
	word32 ebp_24;
	byte SCZO_25;
	word32 eax_26;
	word16 ax_27;
	!bsearch();
	return eax_26;
}

// 080BBA4B: void wc_map2_range_search(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_map2_range_search(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_22;
	word32 ebp_23;
	byte SCZO_24;
	word32 eax_25;
	word16 ax_26;
	!bsearch();
}

// 080BBA83: Register word32 wc_map3_range_search(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 wc_map3_range_search(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 esp_23;
	word32 ebp_24;
	byte SCZO_25;
	word32 eax_26;
	word16 ax_27;
	!bsearch();
	return eax_26;
}

// 080BBABC: void wc_sjis_to_jis(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_sjis_to_jis(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	byte bLoc06_100;
	byte bLoc05_110;
	word32 dwArg08_24;
	byte al_12 = (byte) (dwArg0C >>u 0x08);
	byte al_15 = (byte) dwArg0C;
	if (al_12 <=u ~0x10)
	{
		byte al_43;
		if (al_12 <=u ~0x60)
			al_43 = 0x81;
		else
			al_43 = 0xC1;
		byte al_49 = (byte) ((word32) (al_12 - al_43) * 0x02 + 33);
		bLoc05_110 = al_49;
		if (al_15 <=u ~0x61)
		{
			byte al_62;
			if (al_15 >u 0x7E)
				al_62 = 0x20;
			else
				al_62 = 0x1F;
			bLoc06_100 = al_15 - al_62;
		}
		else
		{
			bLoc05_110 = al_49 + 0x01;
			bLoc06_100 = al_15 - 0x7E;
		}
		dwArg08_24 = 33090;
	}
	else
	{
		if (al_15 <=u ~0x61)
		{
			byte al_103;
			bLoc05_110 = (byte) (word32) Mem0[(word32) al_12 + 135118448:byte];
			if (al_15 >u 0x7E)
				al_103 = 0x20;
			else
				al_103 = 0x1F;
			bLoc06_100 = al_15 - al_103;
		}
		else
		{
			bLoc05_110 = (byte) (word32) Mem0[(word32) al_12 + 0x080DBE80:byte];
			bLoc06_100 = al_15 - 0x7E;
		}
		dwArg08_24 = 0x8150;
	}
	Mem35[dwArg04 + 0x00:word32] = dwArg08_24;
	Mem36[dwArg04 + 0x04:word32] = (word32) bLoc06_100 | (word32) bLoc05_110 << 0x08;
}

// 080BBB9A: void wc_jis_to_sjis(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_jis_to_sjis(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	byte bLoc06_100;
	byte bLoc05_111;
	byte al_13 = (byte) (dwArg0C >>u 0x08 & 0x7F);
	byte al_17 = (byte) (dwArg0C & 0x7F);
	if (dwArg08 == 0x8150)
	{
		byte al_62;
		if ((byte) ((word32) al_13 & 0x01) != 0x00)
			al_62 = 0x1F;
		else
			al_62 = 0x7D;
		byte v11_64 = al_17 + al_62;
		bLoc06_100 = v11_64;
		if (v11_64 >u 0x7E)
			bLoc06_100 = v11_64 + 0x01;
		byte al_72 = (byte) (word32) Mem0[(word32) al_13 + 0x080DBEE0:byte];
		bLoc05_111 = al_72;
		if (al_72 == 0x00)
		{
			Mem79[dwArg04 + 0x00:word32] = 0xC000;
			Mem80[dwArg04 + 0x04:word32] = dwArg0C;
			return;
		}
	}
	else
	{
		byte al_121;
		if ((byte) ((word32) al_13 & 0x01) != 0x00)
			al_121 = 0x1F;
		else
			al_121 = 0x7D;
		byte v14_96 = al_17 + al_121;
		bLoc06_100 = v14_96;
		if (v14_96 >u 0x7E)
			bLoc06_100 = v14_96 + 0x01;
		byte al_108;
		byte al_104 = (byte) ((word32) al_13 - 33 >> 0x01);
		if (al_104 <=u 0x1E)
			al_108 = 0x81;
		else
			al_108 = 0xC1;
		bLoc05_111 = al_104 + al_108;
	}
	Mem54[dwArg04 + 0x00:word32] = dwArg08;
	Mem55[dwArg04 + 0x04:word32] = (word32) bLoc06_100 | (word32) bLoc05_111 << 0x08;
}

// 080BBC76: void wc_sjis_ext_to_cs94w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_sjis_ext_to_cs94w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	byte al_19;
	byte al_12 = (byte) (dwArg0C >>u 0x08);
	byte al_15 = (byte) dwArg0C;
	if (al_12 <=u ~0x60)
		al_19 = 0x81;
	else
		al_19 = 0xC1;
	byte bLoc06_30;
	byte al_25 = (byte) ((word32) (al_12 - al_19) * 0x02 + 33);
	byte bLoc05_26 = al_25;
	if (al_15 <=u ~0x61)
	{
		byte al_61;
		if (al_15 >u 0x7E)
			al_61 = 0x20;
		else
			al_61 = 0x1F;
		bLoc06_30 = al_15 - al_61;
	}
	else
	{
		bLoc05_26 = al_25 + 0x01;
		bLoc06_30 = al_15 - 0x7E;
	}
	word32 dwArg08_37;
	if (bLoc05_26 <=u 0x7E)
		dwArg08_37 = 0x8814;
	else
	{
		bLoc05_26 = bLoc05_26 - 0x5E;
		dwArg08_37 = 0x8815;
	}
	Mem48[dwArg04 + 0x00:word32] = dwArg08_37;
	Mem49[dwArg04 + 0x04:word32] = (word32) bLoc06_30 | (word32) bLoc05_26 << 0x08;
}

// 080BBD11: void wc_cs94w_to_sjis_ext(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs94w_to_sjis_ext(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	byte al_13 = (byte) (dwArg0C >>u 0x08 & 0x7F);
	byte bLoc05_14 = al_13;
	byte al_17 = (byte) (dwArg0C & 0x7F);
	if (dwArg08 == 0x8815)
		bLoc05_14 = al_13 + 0x5E;
	byte al_31;
	if ((byte) ((word32) bLoc05_14 & 0x01) != 0x00)
		al_31 = 0x1F;
	else
		al_31 = 0x7D;
	byte v12_33 = al_17 + al_31;
	byte bLoc06_34 = v12_33;
	if (v12_33 >u 0x7E)
		bLoc06_34 = v12_33 + 0x01;
	byte al_45;
	byte al_41 = (byte) ((word32) bLoc05_14 - 33 >> 0x01);
	if (al_41 <=u 0x1E)
		al_45 = 0x81;
	else
		al_45 = 0xC1;
	Mem59[dwArg04 + 0x00:word32] = 0x8813;
	Mem60[dwArg04 + 0x04:word32] = (word32) bLoc06_34 | (word32) (al_41 + al_45) << 0x08;
}

// 080BBDAC: void wc_sjis_ext1_to_N(Stack word32 dwArg04)
void wc_sjis_ext1_to_N(word32 dwArg04)
{
	word32 eax_13 = (word32) (byte) (dwArg04 >>u 0x08 & 0x7F);
	if (eax_13 != 0x2D && (eax_13 < 0x2D || eax_13 >u 0x7C))
		;
}

// 080BBDFD: void wc_sjis_ext2_to_N(Stack word32 dwArg04)
void wc_sjis_ext2_to_N(word32 dwArg04)
{
}

// 080BBE3A: void wc_conv_from_sjis(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_sjis(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc20_19 = eax_10;
	while (dwLoc20_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc20_19 + 0x00:byte]) >= 0x00)
		dwLoc20_19 = dwLoc20_19 + 0x01;
	if (dwLoc20_19 != eax_14)
	{
		word32 eax_92 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_92, eax_92);
		if (dwLoc20_19 >u eax_10)
			Strcat_charp_n(eax_92, Mem0[dwArg04 + 0x00:word32], dwLoc20_19 - eax_10);
		while (Mem0[fp - 0x20 + 0x00:word32] <u Mem0[(fp - 0x1C) + 0x00:word32])
		{
			word32 eax_128 = Mem0[fp - 0x24 + 0x00:word32];
			if (eax_128 <= 0x02)
			{
				if (eax_128 < 0x01)
				{
					if (eax_128 == 0x00)
					{
						word32 eax_159 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte];
						if (eax_159 <=u 0x40)
						{
							word32 eax_165 = 0x080D257C[(eax_159 - 0x12) * 0x04];
							word32 esp_166;
							word32 ebp_167;
							byte SCZO_168;
							word32 eax_169;
							byte C_170;
							byte al_171;
							byte SZO_172;
							byte S_173;
							byte Z_174;
							byte CZ_175;
							word32 edx_176;
							byte SO_177;
							word32 ecx_178;
							byte dl_179;
							byte cl_180;
							word16 ax_181;
							selector gs_182;
							eax_165();
							return;
						}
						if (Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x14) + 0x00:word32] + 0x08:word32])
						{
							Mem211[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_193 = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32];
						Mem200[Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32] + eax_193:byte] = (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte];
						Mem203[Mem200[fp - 0x14 + 0x00:word32] + 0x04:word32] = eax_193 + 0x01;
						Mem209[Mem203[Mem203[fp - 0x14 + 0x00:word32] + 0x00:word32] + Mem203[Mem203[(fp - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
				}
				else
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte] & 0x10) != 0x00)
					{
						byte al_253;
						Mem241[fp - 0x0E + 0x00:byte] = (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] - 0x01 + 0x00:byte];
						Mem245[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem241[Mem241[fp - 0x20 + 0x00:word32] + 0x00:byte];
						word32 edx_246 = (word32) Mem245[fp - 0x0E + 0x00:byte];
						if ((byte) (word32) Mem245[fp - 0x0E + 0x00:byte] <=u ~0x60)
							al_253 = 0x81;
						else
							al_253 = 0xC1;
						Mem260[fp - 0x0E + 0x00:byte] = (byte) edx_246 - al_253;
						Mem265[fp - 0x0E + 0x00:byte] = (byte) ((word32) Mem260[fp - 0x0E + 0x00:byte] * 0x02 + 33);
						if ((byte) (word32) Mem265[fp - 0x0D + 0x00:byte] <=u ~0x61)
						{
							byte al_327;
							word32 edx_320 = (word32) Mem265[fp - 0x0D + 0x00:byte];
							if ((byte) (word32) Mem265[fp - 0x0D + 0x00:byte] >u 0x7E)
								al_327 = 0x20;
							else
								al_327 = 0x1F;
							Mem335[fp - 0x0D + 0x00:byte] = (byte) edx_320 - al_327;
						}
						else
						{
							Mem345[fp - 0x0E + 0x00:byte] = (byte) ((word32) Mem265[fp - 0x0E + 0x00:byte] + 0x01);
							Mem350[fp - 0x0D + 0x00:byte] = (byte) ((word32) Mem345[fp - 0x0D + 0x00:byte] - 0x7E);
						}
						Mem285[fp - 0x28 + 0x00:word32] = (word32) (byte) (word32) Mem265[fp - 0x0D + 0x00:byte] | (word32) ((byte) ((word32) Mem265[(fp - 0x0E) + 0x00:byte])) << 0x08;
						Mem289[fp - 0x3C + 0x00:word32] = (word32) (word16) Mem285[fp - 0x28 + 0x00:word32];
						Mem291[fp - 44 + 0x00:word32] = wc_jisx0208_or_jisx02131(dwArg00);
						if (Mem291[fp - 44 + 0x00:word32] == 33090)
						{
							word32 eax_296 = Mem291[fp - 44 + 0x00:word32];
							Mem297[fp - 0x34 + 0x00:word32] = Mem291[fp - 0x28 + 0x00:word32];
							Mem298[fp - 0x38 + 0x00:word32] = eax_296;
							Mem300[fp - 0x3C + 0x00:word32] = Mem298[fp - 0x14 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
						else
						{
							Mem316[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem291[Mem291[fp - 0x20 + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem291[(Mem291[(fp - 0x20) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
							Mem317[fp - 0x38 + 0x00:word32] = 0x8813;
							Mem319[fp - 0x3C + 0x00:word32] = Mem317[fp - 0x14 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
					}
					else
					{
						word32 eax_357 = Mem0[fp - 0x20 + 0x00:word32];
						Mem360[fp - 0x34 + 0x00:word32] = 0x02;
						Mem361[fp - 0x38 + 0x00:word32] = eax_357 - 0x01;
						Mem363[fp - 0x3C + 0x00:word32] = Mem361[fp - 0x14 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem236[fp - 0x24 + 0x00:word32] = 0x00;
				}
			}
			else if (eax_128 == 0x03)
			{
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte] & 0x10) != 0x00)
				{
					Mem398[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x20) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
					Mem399[fp - 0x38 + 0x00:word32] = 0x8813;
					Mem401[fp - 0x3C + 0x00:word32] = Mem399[fp - 0x14 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
				else
				{
					word32 eax_402 = Mem0[fp - 0x20 + 0x00:word32];
					Mem405[fp - 0x34 + 0x00:word32] = 0x02;
					Mem406[fp - 0x38 + 0x00:word32] = eax_402 - 0x01;
					Mem408[fp - 0x3C + 0x00:word32] = Mem406[fp - 0x14 + 0x00:word32];
					wtf_push_unknown(fp - 0x04, gs);
				}
				Mem383[fp - 0x24 + 0x00:word32] = 0x00;
			}
			Mem146[fp - 0x20 + 0x00:word32] = Mem0[fp - 0x20 + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x24 + 0x00:word32] <=u 0x03)
		{
			word32 eax_121 = Mem0[fp - 0x20 + 0x00:word32];
			Mem124[fp - 0x34 + 0x00:word32] = 0x01;
			Mem125[fp - 0x38 + 0x00:word32] = eax_121 - 0x01;
			Mem127[fp - 0x3C + 0x00:word32] = Mem125[fp - 0x14 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080BC1CA: void wc_conv_from_sjisx0213(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_sjisx0213(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc20_19 = eax_10;
	while (dwLoc20_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc20_19 + 0x00:byte]) >= 0x00)
		dwLoc20_19 = dwLoc20_19 + 0x01;
	if (dwLoc20_19 != eax_14)
	{
		word32 eax_92 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_92, eax_92);
		if (dwLoc20_19 >u eax_10)
			Strcat_charp_n(eax_92, Mem0[dwArg04 + 0x00:word32], dwLoc20_19 - eax_10);
		while (Mem0[fp - 0x20 + 0x00:word32] <u Mem0[(fp - 0x1C) + 0x00:word32])
		{
			word32 eax_128 = Mem0[fp - 0x24 + 0x00:word32];
			if (eax_128 <= 0x02)
			{
				if (eax_128 < 0x01)
				{
					if (eax_128 == 0x00)
					{
						word32 eax_159 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte];
						if (eax_159 <=u 0x40)
						{
							word32 eax_165 = 0x080D2638[(eax_159 - 0x12) * 0x04];
							word32 esp_166;
							word32 ebp_167;
							byte SCZO_168;
							word32 eax_169;
							byte C_170;
							byte al_171;
							byte SZO_172;
							byte S_173;
							byte Z_174;
							byte CZ_175;
							word32 edx_176;
							byte SO_177;
							word32 ecx_178;
							byte cl_179;
							byte dl_180;
							word16 ax_181;
							selector gs_182;
							eax_165();
							return;
						}
						if (Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x14) + 0x00:word32] + 0x08:word32])
						{
							Mem211[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x14 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_193 = Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x04:word32];
						Mem200[Mem0[Mem0[fp - 0x14 + 0x00:word32] + 0x00:word32] + eax_193:byte] = (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte];
						Mem203[Mem200[fp - 0x14 + 0x00:word32] + 0x04:word32] = eax_193 + 0x01;
						Mem209[Mem203[Mem203[fp - 0x14 + 0x00:word32] + 0x00:word32] + Mem203[Mem203[(fp - 0x14) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
				}
				else
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte] & 0x10) != 0x00)
					{
						byte al_252;
						Mem240[fp - 0x0E + 0x00:byte] = (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] - 0x01 + 0x00:byte];
						Mem244[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem240[Mem240[fp - 0x20 + 0x00:word32] + 0x00:byte];
						word32 edx_245 = (word32) Mem244[fp - 0x0E + 0x00:byte];
						if ((byte) (word32) Mem244[fp - 0x0E + 0x00:byte] <=u ~0x60)
							al_252 = 0x81;
						else
							al_252 = 0xC1;
						Mem259[fp - 0x0E + 0x00:byte] = (byte) edx_245 - al_252;
						Mem264[fp - 0x0E + 0x00:byte] = (byte) ((word32) Mem259[fp - 0x0E + 0x00:byte] * 0x02 + 33);
						if ((byte) (word32) Mem264[fp - 0x0D + 0x00:byte] <=u ~0x61)
						{
							byte al_306;
							word32 edx_299 = (word32) Mem264[fp - 0x0D + 0x00:byte];
							if ((byte) (word32) Mem264[fp - 0x0D + 0x00:byte] >u 0x7E)
								al_306 = 0x20;
							else
								al_306 = 0x1F;
							Mem314[fp - 0x0D + 0x00:byte] = (byte) edx_299 - al_306;
						}
						else
						{
							Mem324[fp - 0x0E + 0x00:byte] = (byte) ((word32) Mem264[fp - 0x0E + 0x00:byte] + 0x01);
							Mem329[fp - 0x0D + 0x00:byte] = (byte) ((word32) Mem324[fp - 0x0D + 0x00:byte] - 0x7E);
						}
						Mem285[fp - 0x28 + 0x00:word32] = (word32) (byte) (word32) Mem264[fp - 0x0D + 0x00:byte] | (word32) ((byte) ((word32) Mem264[(fp - 0x0E) + 0x00:byte])) << 0x08;
						Mem289[fp - 0x3C + 0x00:word32] = (word32) (word16) Mem285[fp - 0x28 + 0x00:word32];
						Mem291[fp - 44 + 0x00:word32] = wc_jisx0208_or_jisx02131(dwArg00);
						word32 eax_293 = Mem291[fp - 44 + 0x00:word32];
						Mem294[fp - 0x34 + 0x00:word32] = Mem291[fp - 0x28 + 0x00:word32];
						Mem295[fp - 0x38 + 0x00:word32] = eax_293;
						Mem297[fp - 0x3C + 0x00:word32] = Mem295[fp - 0x14 + 0x00:word32];
						wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
					}
					else
					{
						word32 eax_336 = Mem0[fp - 0x20 + 0x00:word32];
						Mem339[fp - 0x34 + 0x00:word32] = 0x02;
						Mem340[fp - 0x38 + 0x00:word32] = eax_336 - 0x01;
						Mem342[fp - 0x3C + 0x00:word32] = Mem340[fp - 0x14 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem235[fp - 0x24 + 0x00:word32] = 0x00;
				}
			}
			else if (eax_128 == 0x03)
			{
				if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] + 0x00:byte] + 0x080DBFA0:byte] & 0x10) != 0x00)
				{
					Mem372[fp - 0x0E + 0x00:byte] = (byte) (word32) Mem0[Mem0[fp - 0x20 + 0x00:word32] - 0x01 + 0x00:byte];
					Mem376[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem372[Mem372[fp - 0x20 + 0x00:word32] + 0x00:byte];
					if ((byte) (word32) Mem376[fp - 0x0D + 0x00:byte] <=u ~0x61)
					{
						byte al_416;
						Mem408[fp - 0x0E + 0x00:byte] = (byte) (word32) Mem376[(word32) (byte) (word32) Mem376[fp - 0x0E + 0x00:byte] + 135118448:byte];
						word32 edx_409 = (word32) Mem408[fp - 0x0D + 0x00:byte];
						if ((byte) (word32) Mem408[fp - 0x0D + 0x00:byte] >u 0x7E)
							al_416 = 0x20;
						else
							al_416 = 0x1F;
						Mem424[fp - 0x0D + 0x00:byte] = (byte) edx_409 - al_416;
					}
					else
					{
						Mem437[fp - 0x0E + 0x00:byte] = (byte) (word32) Mem376[(word32) (byte) (word32) Mem376[fp - 0x0E + 0x00:byte] + 0x080DBE80:byte];
						Mem442[fp - 0x0D + 0x00:byte] = (byte) ((word32) Mem437[fp - 0x0D + 0x00:byte] - 0x7E);
					}
					Mem398[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem376[fp - 0x0D + 0x00:byte] | (word32) ((byte) ((word32) Mem376[(fp - 0x0E) + 0x00:byte])) << 0x08;
					Mem399[fp - 0x38 + 0x00:word32] = 0x8150;
					Mem401[fp - 0x3C + 0x00:word32] = Mem399[fp - 0x14 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
				else
				{
					word32 eax_443 = Mem0[fp - 0x20 + 0x00:word32];
					Mem446[fp - 0x34 + 0x00:word32] = 0x02;
					Mem447[fp - 0x38 + 0x00:word32] = eax_443 - 0x01;
					Mem449[fp - 0x3C + 0x00:word32] = Mem447[fp - 0x14 + 0x00:word32];
					wtf_push_unknown(fp - 0x04, gs);
				}
				Mem367[fp - 0x24 + 0x00:word32] = 0x00;
			}
			Mem146[fp - 0x20 + 0x00:word32] = Mem0[fp - 0x20 + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x24 + 0x00:word32] <=u 0x03)
		{
			word32 eax_121 = Mem0[fp - 0x20 + 0x00:word32];
			Mem124[fp - 0x34 + 0x00:word32] = 0x01;
			Mem125[fp - 0x38 + 0x00:word32] = eax_121 - 0x01;
			Mem127[fp - 0x3C + 0x00:word32] = Mem125[fp - 0x14 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080BC591: void wc_push_to_sjis(Register word32 ebp)
void wc_push_to_sjis(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 33090)
			break;
		if (eax_20 <=u 33090)
		{
			if (eax_20 == 0x0149)
			{
				if ((byte) (word32) Mem0[0x080DC0A9:byte] == 0x00)
				{
					if ((byte) (word32) Mem0[135119013:byte] != 0x00)
						Mem167[fp + 0x08:word32] = 0x4000;
					else
					{
						word32 edx_170 = Mem0[fp + 0x0C:word32];
						Mem171[fp - 0x38 + 0x00:word32] = Mem0[fp + 0x08:word32];
						Mem172[fp - 0x34 + 0x00:word32] = edx_170;
						Mem173[fp - 0x3C + 0x00:word32] = fp + 0x08;
						wc_jisx0201k_to_jisx0208(dwArg00, dwArg04, dwArg08);
					}
					continue;
				}
				else
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem156[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_137 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem145[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_137:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
					Mem148[Mem145[fp + 0x04:word32] + 0x04:word32] = eax_137 + 0x01;
					Mem154[Mem148[Mem148[fp + 0x04:word32] + 0x00:word32] + Mem148[Mem148[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					return;
				}
			}
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem117[fp - 0x38 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem119[fp - 0x3C + 0x00:word32] = Mem117[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if (eax_20 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem110[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_93 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem99[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_93:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem102[Mem99[fp + 0x04:word32] + 0x04:word32] = eax_93 + 0x01;
				Mem108[Mem102[Mem102[fp + 0x04:word32] + 0x00:word32] + Mem102[Mem102[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			goto l080BC8F0;
		}
		if (eax_20 <=u 0x8815)
		{
			if (eax_20 <u 0x8814)
			{
				if (eax_20 != 0x8813)
					goto l080BC8F0;
			}
			else
			{
				word32 edx_244 = Mem0[fp + 0x0C:word32];
				Mem245[fp - 0x38 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem246[fp - 0x34 + 0x00:word32] = edx_244;
				Mem247[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_cs94w_to_sjis_ext(dwArg00, dwArg04, dwArg08);
				word32 edx_252 = Mem247[fp - 0x20 + 0x00:word32];
				Mem253[fp + 0x08:word32] = Mem247[fp - 0x24 + 0x00:word32];
				Mem254[fp + 0x0C:word32] = edx_252;
			}
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem239[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_194 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem200[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_194:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
			Mem203[Mem200[fp + 0x04:word32] + 0x04:word32] = eax_194 + 0x01;
			Mem209[Mem203[Mem203[fp + 0x04:word32] + 0x00:word32] + Mem203[Mem203[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem209[Mem209[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem209[Mem209[fp + 0x04:word32] + 0x08:word32])
			{
				Mem237[fp - 0x3C + 0x00:word32] = Mem209[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_220 = Mem209[Mem209[fp + 0x04:word32] + 0x04:word32];
			Mem226[Mem209[Mem209[fp + 0x04:word32] + 0x00:word32] + eax_220:byte] = (byte) Mem209[fp + 0x0C:word32];
			Mem229[Mem226[fp + 0x04:word32] + 0x04:word32] = eax_220 + 0x01;
			Mem235[Mem229[Mem229[fp + 0x04:word32] + 0x00:word32] + Mem229[Mem229[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			return;
		}
		if (eax_20 == 0xC000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem263[fp - 0x38 + 0x00:word32] = Mem0[0x080DB994:word32];
				Mem265[fp - 0x3C + 0x00:word32] = Mem263[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
l080BC8F0:
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem49[fp - 0x30 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_51 = Mem49[fp + 0x0C:word32];
			Mem52[fp - 0x38 + 0x00:word32] = Mem49[fp + 0x08:word32];
			Mem53[fp - 0x34 + 0x00:word32] = edx_51;
			Mem54[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
			word32 edx_62 = Mem54[fp - 0x20 + 0x00:word32];
			Mem63[fp + 0x08:word32] = Mem54[fp - 0x24 + 0x00:word32];
			Mem64[fp + 0x0C:word32] = edx_62;
		}
		else
		{
			word32 eax_71;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_71 = 0xC000;
			else
				eax_71 = 0x4000;
			Mem72[fp + 0x08:word32] = eax_71;
		}
	}
	byte al_281;
	Mem270[fp - 0x0D + 0x00:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 & 0x7F);
	Mem274[fp - 0x0E + 0x00:byte] = (byte) (Mem270[fp + 0x0C:word32] & 0x7F);
	if ((byte) ((word32) Mem274[fp - 0x0D + 0x00:byte] & 0x01) != 0x00)
		al_281 = 0x1F;
	else
		al_281 = 0x7D;
	Mem284[fp - 0x0E + 0x00:byte] = Mem274[fp - 0x0E + 0x00:byte] + al_281;
	if (Mem284[fp - 0x0E + 0x00:byte] >u 0x7E)
		Mem357[fp - 0x0E + 0x00:byte] = Mem284[fp - 0x0E + 0x00:byte] + 0x01;
	byte al_294;
	Mem291[fp - 0x0D + 0x00:byte] = (byte) ((word32) Mem284[fp - 0x0D + 0x00:byte] - 33 >> 0x01);
	if (Mem291[fp - 0x0D + 0x00:byte] <=u 0x1E)
		al_294 = 0x81;
	else
		al_294 = 0xC1;
	Mem296[fp - 0x0D + 0x00:byte] = Mem291[fp - 0x0D + 0x00:byte] + al_294;
	if (Mem296[Mem296[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem296[Mem296[fp + 0x04:word32] + 0x08:word32])
	{
		Mem351[fp - 0x3C + 0x00:word32] = Mem296[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_307 = Mem296[Mem296[fp + 0x04:word32] + 0x04:word32];
	Mem312[Mem296[Mem296[fp + 0x04:word32] + 0x00:word32] + eax_307:byte] = (byte) (word32) Mem296[fp - 0x0D + 0x00:byte];
	Mem315[Mem312[fp + 0x04:word32] + 0x04:word32] = eax_307 + 0x01;
	Mem321[Mem315[Mem315[fp + 0x04:word32] + 0x00:word32] + Mem315[Mem315[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem321[Mem321[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem321[Mem321[fp + 0x04:word32] + 0x08:word32])
	{
		Mem349[fp - 0x3C + 0x00:word32] = Mem321[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_332 = Mem321[Mem321[fp + 0x04:word32] + 0x04:word32];
	Mem338[Mem321[Mem321[fp + 0x04:word32] + 0x00:word32] + eax_332:byte] = (byte) (word32) Mem321[fp - 0x0E + 0x00:byte];
	Mem341[Mem338[fp + 0x04:word32] + 0x04:word32] = eax_332 + 0x01;
	Mem347[Mem341[Mem341[fp + 0x04:word32] + 0x00:word32] + Mem341[Mem341[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080BC955: void wc_push_to_sjisx0213(Register word32 ebp)
void wc_push_to_sjisx0213(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 33090)
			break;
		if (eax_20 <=u 33090)
		{
			if (eax_20 == 0x0149)
			{
				if ((byte) (word32) Mem0[0x080DC0A9:byte] != 0x00)
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem263[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_244 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem252[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_244:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
					Mem255[Mem252[fp + 0x04:word32] + 0x04:word32] = eax_244 + 0x01;
					Mem261[Mem255[Mem255[fp + 0x04:word32] + 0x00:word32] + Mem255[Mem255[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					return;
				}
				if ((byte) (word32) Mem0[135119013:byte] != 0x00)
					Mem274[fp + 0x08:word32] = 0x4000;
				else
				{
					word32 edx_277 = Mem0[fp + 0x0C:word32];
					Mem278[fp - 0x38 + 0x00:word32] = Mem0[fp + 0x08:word32];
					Mem279[fp - 0x34 + 0x00:word32] = edx_277;
					Mem280[fp - 0x3C + 0x00:word32] = fp + 0x08;
					wc_jisx0201k_to_jisx0208(dwArg00, dwArg04, dwArg08);
				}
				goto l080BCD5C;
			}
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem224[fp - 0x38 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem226[fp - 0x3C + 0x00:word32] = Mem224[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if (eax_20 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem217[fp - 0x3C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_200 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem206[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_200:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem209[Mem206[fp + 0x04:word32] + 0x04:word32] = eax_200 + 0x01;
				Mem215[Mem209[Mem209[fp + 0x04:word32] + 0x00:word32] + Mem209[Mem209[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
l080BCCFD:
			if ((byte) (word32) Mem0[135119011:byte] != 0x00)
			{
				Mem148[fp - 0x30 + 0x00:word32] = Mem0[fp + 0x10:word32];
				word32 edx_150 = Mem148[fp + 0x0C:word32];
				Mem151[fp - 0x38 + 0x00:word32] = Mem148[fp + 0x08:word32];
				Mem152[fp - 0x34 + 0x00:word32] = edx_150;
				Mem153[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
				word32 edx_160 = Mem153[fp - 0x20 + 0x00:word32];
				Mem161[fp + 0x08:word32] = Mem153[fp - 0x24 + 0x00:word32];
				Mem162[fp + 0x0C:word32] = edx_160;
			}
			else
			{
				word32 eax_169;
				if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
					eax_169 = 0xC000;
				else
					eax_169 = 0x4000;
				Mem170[fp + 0x08:word32] = eax_169;
			}
			continue;
		}
		if (eax_20 != 0x8150)
		{
			if (eax_20 == 0xC000)
				goto l080BCCB4;
			if (eax_20 != 33103)
				goto l080BCCFD;
			if ((byte) (word32) Mem0[135119019:byte] != 0x00)
				break;
			Mem306[fp + 0x08:word32] = 0xC000;
		}
		else
		{
			if ((byte) (word32) Mem0[135119019:byte] != 0x00)
			{
				byte al_328;
				Mem317[fp - 0x0D + 0x00:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 & 0x7F);
				Mem321[fp - 0x0E + 0x00:byte] = (byte) (Mem317[fp + 0x0C:word32] & 0x7F);
				if ((byte) ((word32) Mem321[fp - 0x0D + 0x00:byte] & 0x01) != 0x00)
					al_328 = 0x1F;
				else
					al_328 = 0x7D;
				Mem331[fp - 0x0E + 0x00:byte] = Mem321[fp - 0x0E + 0x00:byte] + al_328;
				if (Mem331[fp - 0x0E + 0x00:byte] >u 0x7E)
					Mem396[fp - 0x0E + 0x00:byte] = Mem331[fp - 0x0E + 0x00:byte] + 0x01;
				Mem337[fp - 0x0D + 0x00:byte] = (byte) (word32) Mem331[(word32) Mem331[fp - 0x0D + 0x00:byte] + 0x080DBEE0:byte];
				if (Mem337[fp - 0x0D + 0x00:byte] != 0x00)
				{
					if (Mem337[Mem337[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem337[Mem337[fp + 0x04:word32] + 0x08:word32])
					{
						Mem394[fp - 0x3C + 0x00:word32] = Mem337[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_350 = Mem337[Mem337[fp + 0x04:word32] + 0x04:word32];
					Mem355[Mem337[Mem337[fp + 0x04:word32] + 0x00:word32] + eax_350:byte] = (byte) (word32) Mem337[fp - 0x0D + 0x00:byte];
					Mem358[Mem355[fp + 0x04:word32] + 0x04:word32] = eax_350 + 0x01;
					Mem364[Mem358[Mem358[fp + 0x04:word32] + 0x00:word32] + Mem358[Mem358[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					if (Mem364[Mem364[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem364[Mem364[fp + 0x04:word32] + 0x08:word32])
					{
						Mem392[fp - 0x3C + 0x00:word32] = Mem364[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_375 = Mem364[Mem364[fp + 0x04:word32] + 0x04:word32];
					Mem381[Mem364[Mem364[fp + 0x04:word32] + 0x00:word32] + eax_375:byte] = (byte) (word32) Mem364[fp - 0x0E + 0x00:byte];
					Mem384[Mem381[fp + 0x04:word32] + 0x04:word32] = eax_375 + 0x01;
					Mem390[Mem384[Mem384[fp + 0x04:word32] + 0x00:word32] + Mem384[Mem384[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					return;
				}
l080BCCB4:
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem294[fp - 0x38 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem296[fp - 0x3C + 0x00:word32] = Mem294[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			Mem312[fp + 0x08:word32] = 0xC000;
		}
l080BCD5C:
	}
	byte al_135;
	Mem44[fp - 0x0D + 0x00:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 & 0x7F);
	Mem48[fp - 0x0E + 0x00:byte] = (byte) (Mem44[fp + 0x0C:word32] & 0x7F);
	if ((byte) ((word32) Mem48[fp - 0x0D + 0x00:byte] & 0x01) != 0x00)
		al_135 = 0x1F;
	else
		al_135 = 0x7D;
	Mem58[fp - 0x0E + 0x00:byte] = Mem48[fp - 0x0E + 0x00:byte] + al_135;
	if (Mem58[fp - 0x0E + 0x00:byte] >u 0x7E)
		Mem132[fp - 0x0E + 0x00:byte] = Mem58[fp - 0x0E + 0x00:byte] + 0x01;
	byte al_128;
	Mem65[fp - 0x0D + 0x00:byte] = (byte) ((word32) Mem58[fp - 0x0D + 0x00:byte] - 33 >> 0x01);
	if (Mem65[fp - 0x0D + 0x00:byte] <=u 0x1E)
		al_128 = 0x81;
	else
		al_128 = 0xC1;
	Mem70[fp - 0x0D + 0x00:byte] = Mem65[fp - 0x0D + 0x00:byte] + al_128;
	if (Mem70[Mem70[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem70[Mem70[fp + 0x04:word32] + 0x08:word32])
	{
		Mem126[fp - 0x3C + 0x00:word32] = Mem70[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_81 = Mem70[Mem70[fp + 0x04:word32] + 0x04:word32];
	Mem86[Mem70[Mem70[fp + 0x04:word32] + 0x00:word32] + eax_81:byte] = (byte) (word32) Mem70[fp - 0x0D + 0x00:byte];
	Mem89[Mem86[fp + 0x04:word32] + 0x04:word32] = eax_81 + 0x01;
	Mem95[Mem89[Mem89[fp + 0x04:word32] + 0x00:word32] + Mem89[Mem89[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem95[Mem95[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem95[Mem95[fp + 0x04:word32] + 0x08:word32])
	{
		Mem123[fp - 0x3C + 0x00:word32] = Mem95[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_106 = Mem95[Mem95[fp + 0x04:word32] + 0x04:word32];
	Mem112[Mem95[Mem95[fp + 0x04:word32] + 0x00:word32] + eax_106:byte] = (byte) (word32) Mem95[fp - 0x0E + 0x00:byte];
	Mem115[Mem112[fp + 0x04:word32] + 0x04:word32] = eax_106 + 0x01;
	Mem121[Mem115[Mem115[fp + 0x04:word32] + 0x00:word32] + Mem115[Mem115[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080BCD67: void wc_char_conv_from_sjis(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_sjis(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem314[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem317[0x0817FF90:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 <= 0x02)
	{
		if (eax_25 < 0x01)
		{
			if (eax_25 == 0x00)
			{
				word32 eax_91 = (word32) (byte) (word32) Mem0[(word32) al_12 + 0x080DBFA0:byte];
				if (eax_91 <=u 0x40)
				{
					word32 eax_97 = 0x080D26F4[(eax_91 - 0x12) * 0x04];
					word32 esp_98;
					word32 ebp_99;
					word32 ebx_100;
					byte SCZO_101;
					word32 eax_102;
					byte al_103;
					byte Z_104;
					byte SZO_105;
					byte SO_106;
					byte C_107;
					word32 edx_108;
					byte CZ_109;
					word32 ecx_110;
					byte cl_111;
					word16 ax_112;
					selector gs_113;
					eax_97();
					return;
				}
				if (Mem0[Mem0[0x0817FF90:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x0817FF90:word32] + 0x08:word32])
					Strgrow(Mem0[0x0817FF90:word32]);
				word32 eax_124 = Mem0[0x0817FF90:word32];
				word32 edx_125 = Mem0[eax_124 + 0x04:word32];
				Mem130[Mem0[Mem0[0x0817FF90:word32] + 0x00:word32] + edx_125:byte] = (byte) (word32) al_12;
				Mem133[eax_124 + 0x04:word32] = edx_125 + 0x01;
				Mem139[Mem133[Mem133[0x0817FF90:word32] + 0x00:word32] + Mem133[Mem133[0x0817FF90:word32] + 0x04:word32]:byte] = 0x00;
			}
		}
		else
		{
			if (((word32) (byte) (word32) Mem0[(word32) al_12 + 0x080DBFA0:byte] & 0x10) != 0x00)
			{
				byte al_176;
				Mem169[0x0817FF95:byte] = (byte) (word32) al_12;
				word32 edx_170 = (word32) Mem169[0x0817FF94:byte];
				if ((byte) (word32) Mem169[0x0817FF94:byte] <=u ~0x60)
					al_176 = 0x81;
				else
					al_176 = 0xC1;
				Mem183[0x0817FF94:byte] = (byte) edx_170 - al_176;
				Mem188[0x0817FF94:byte] = (byte) ((word32) Mem183[0x0817FF94:byte] * 0x02 + 33);
				if ((byte) (word32) Mem188[0x0817FF95:byte] <=u ~0x61)
				{
					byte al_244;
					word32 edx_238 = (word32) Mem188[0x0817FF95:byte];
					if ((byte) (word32) Mem188[0x0817FF95:byte] >u 0x7E)
						al_244 = 0x20;
					else
						al_244 = 0x1F;
					Mem252[0x0817FF95:byte] = (byte) edx_238 - al_244;
				}
				else
				{
					Mem262[0x0817FF94:byte] = (byte) ((word32) Mem188[0x0817FF94:byte] + 0x01);
					Mem267[0x0817FF95:byte] = (byte) ((word32) Mem262[0x0817FF95:byte] - 0x7E);
				}
				word32 eax_204 = (word32) (byte) (word32) Mem188[0x0817FF95:byte] | (word32) ((byte) ((word32) Mem188[0x0817FF94:byte])) << 0x08;
				word32 eax_212 = wc_jisx0208_or_jisx02131((word32) (word16) eax_204);
				if (eax_212 == 33090)
					wtf_push(fp - 0x04, gs, Mem188[0x0817FF90:word32], eax_212, eax_204);
				else
					wtf_push(fp - 0x04, gs, Mem188[0x0817FF90:word32], 0x8813, (word32) (byte) (word32) Mem188[0x0817FF94:byte] << 0x08 | (word32) ((byte) ((word32) Mem188[0x0817FF95:byte])));
			}
			Mem166[Mem0[fp + 0x08:word32] + 0x28:word32] = 0x00;
		}
	}
	else if (eax_25 == 0x03)
	{
		if (((word32) (byte) (word32) Mem0[(word32) al_12 + 0x080DBFA0:byte] & 0x10) != 0x00)
		{
			Mem297[0x0817FF95:byte] = (byte) (word32) al_12;
			wtf_push(fp - 0x04, gs, Mem297[0x0817FF90:word32], 0x8813, (word32) (byte) (word32) Mem297[0x0817FF94:byte] << 0x08 | (word32) ((byte) ((word32) Mem297[0x0817FF95:byte])));
		}
		Mem294[Mem0[fp + 0x08:word32] + 0x28:word32] = 0x00;
	}
	Mem67[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080BD079: void wc_char_conv_from_sjisx0213(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_sjisx0213(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem349[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem352[0x0817FF88:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 <= 0x02)
	{
		if (eax_25 < 0x01)
		{
			if (eax_25 == 0x00)
			{
				word32 eax_91 = (word32) (byte) (word32) Mem0[(word32) al_12 + 0x080DBFA0:byte];
				if (eax_91 <=u 0x40)
				{
					word32 eax_97 = 0x080D27B0[(eax_91 - 0x12) * 0x04];
					word32 esp_98;
					word32 ebp_99;
					word32 ebx_100;
					byte SCZO_101;
					word32 eax_102;
					byte al_103;
					byte Z_104;
					byte SZO_105;
					byte SO_106;
					byte C_107;
					word32 edx_108;
					byte CZ_109;
					word32 ecx_110;
					byte cl_111;
					word16 ax_112;
					selector gs_113;
					eax_97();
					return;
				}
				if (Mem0[Mem0[0x0817FF88:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x0817FF88:word32] + 0x08:word32])
					Strgrow(Mem0[0x0817FF88:word32]);
				word32 eax_124 = Mem0[0x0817FF88:word32];
				word32 edx_125 = Mem0[eax_124 + 0x04:word32];
				Mem130[Mem0[Mem0[0x0817FF88:word32] + 0x00:word32] + edx_125:byte] = (byte) (word32) al_12;
				Mem133[eax_124 + 0x04:word32] = edx_125 + 0x01;
				Mem139[Mem133[Mem133[0x0817FF88:word32] + 0x00:word32] + Mem133[Mem133[0x0817FF88:word32] + 0x04:word32]:byte] = 0x00;
			}
		}
		else
		{
			if (((word32) (byte) (word32) Mem0[(word32) al_12 + 0x080DBFA0:byte] & 0x10) != 0x00)
			{
				byte al_175;
				Mem168[0x0817FF8D:byte] = (byte) (word32) al_12;
				word32 edx_169 = (word32) Mem168[0x0817FF8C:byte];
				if ((byte) (word32) Mem168[0x0817FF8C:byte] <=u ~0x60)
					al_175 = 0x81;
				else
					al_175 = 0xC1;
				Mem182[0x0817FF8C:byte] = (byte) edx_169 - al_175;
				Mem187[0x0817FF8C:byte] = (byte) ((word32) Mem182[0x0817FF8C:byte] * 0x02 + 33);
				if ((byte) (word32) Mem187[0x0817FF8D:byte] <=u ~0x61)
				{
					byte al_225;
					word32 edx_219 = (word32) Mem187[0x0817FF8D:byte];
					if ((byte) (word32) Mem187[0x0817FF8D:byte] >u 0x7E)
						al_225 = 0x20;
					else
						al_225 = 0x1F;
					Mem233[0x0817FF8D:byte] = (byte) edx_219 - al_225;
				}
				else
				{
					Mem243[0x0817FF8C:byte] = (byte) ((word32) Mem187[0x0817FF8C:byte] + 0x01);
					Mem248[0x0817FF8D:byte] = (byte) ((word32) Mem243[0x0817FF8D:byte] - 0x7E);
				}
				word32 eax_203 = (word32) (byte) (word32) Mem187[0x0817FF8D:byte] | (word32) ((byte) ((word32) Mem187[0x0817FF8C:byte])) << 0x08;
				wtf_push(fp - 0x04, gs, Mem187[0x0817FF88:word32], wc_jisx0208_or_jisx02131((word32) (word16) eax_203), eax_203);
			}
			Mem165[Mem0[fp + 0x08:word32] + 0x28:word32] = 0x00;
		}
	}
	else if (eax_25 == 0x03)
	{
		if (((word32) (byte) (word32) Mem0[(word32) al_12 + 0x080DBFA0:byte] & 0x10) != 0x00)
		{
			Mem283[0x0817FF8D:byte] = (byte) (word32) al_12;
			if ((byte) (word32) Mem283[0x0817FF8D:byte] <=u ~0x61)
			{
				byte al_321;
				Mem314[0x0817FF8C:byte] = (byte) (word32) Mem283[(word32) (byte) (word32) Mem283[0x0817FF8C:byte] + 135118448:byte];
				word32 edx_315 = (word32) Mem314[0x0817FF8D:byte];
				if ((byte) (word32) Mem314[0x0817FF8D:byte] >u 0x7E)
					al_321 = 0x20;
				else
					al_321 = 0x1F;
				Mem329[0x0817FF8D:byte] = (byte) edx_315 - al_321;
			}
			else
			{
				Mem342[0x0817FF8C:byte] = (byte) (word32) Mem283[(word32) (byte) (word32) Mem283[0x0817FF8C:byte] + 0x080DBE80:byte];
				Mem347[0x0817FF8D:byte] = (byte) ((word32) Mem342[0x0817FF8D:byte] - 0x7E);
			}
			wtf_push(fp - 0x04, gs, Mem283[0x0817FF88:word32], 0x8150, (word32) (byte) (word32) Mem283[0x0817FF8C:byte] << 0x08 | (word32) ((byte) ((word32) Mem283[0x0817FF8D:byte])));
		}
		Mem280[Mem0[fp + 0x08:word32] + 0x28:word32] = 0x00;
	}
	Mem67[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080BD3D0: void wc_input_init(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_input_init(word32 dwArg04, word32 dwArg08)
{
	Mem14[dwArg08 + 0x00:word32] = ((dwArg04 & 0xFF) << 0x05) + 0x0817A7A0;
	word32 eax_17 = Mem14[Mem14[dwArg08 + 0x00:word32] + 0x0C:word32];
	Mem20[dwArg08 + 0x28:word32] = 0x00;
	Mem22[dwArg08 + 0x08:word32] = 0x00;
	Mem24[dwArg08 + 0x0C:word32] = 0x00;
	Mem28[dwArg08 + 0x10:word32] = Mem24[eax_17 + 0x00:word32];
	Mem34[dwArg08 + 0x14:word32] = Mem28[eax_17 + 0x08:word32];
	Mem36[dwArg08 + 0x18:word32] = 0x00;
	Mem38[dwArg08 + 0x1C:word32] = 0x00;
	Mem40[dwArg08 + 0x05:byte] = 0x00;
	Mem42[dwArg08 + 0x04:byte] = 0x01;
	Mem44[dwArg08 + 0x06:byte] = 0x00;
	word32 dwLoc0C_45 = 0x00;
	while (eax_17[dwLoc0C_45 * 0x08] != 0x00)
	{
		if ((byte) (word32) Mem44[(dwLoc0C_45 << 0x03) + eax_17 + 0x05:byte] != 0x00)
		{
			word32 eax_93 = (word32) (byte) (word32) Mem44[(dwLoc0C_45 << 0x03) + eax_17 + 0x04:byte];
			if (dwArg08[((eax_93 & 0x03) + 0x04) * 0x04] == 0x00)
				dwArg08[((eax_93 & 0x03) + 0x04) * 0x04] = eax_17[dwLoc0C_45 * 0x08];
		}
		dwLoc0C_45 = dwLoc0C_45 + 0x01;
	}
	Mem63[dwArg08 + 44:word32] = 0x00;
	Mem65[dwArg08 + 0x30:word32] = 0x00;
}

// 080BD4D7: Register word32 wc_output_init(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_output_init(word32 dwArg04, word32 dwArg08)
{
	word32 eax_154;
	if ((byte) (word32) Mem0[135790572:byte] != 0x00 && (Mem0[Mem0[0x0817FFA0:word32] + 0x00:word32] == dwArg04 && memcmp(0x080DC0A0, 135790556, 0x10) == 0x00))
	{
		Mem446[dwArg08 + 0x00:word32] = Mem0[0x0817FFA0:word32];
		Mem448[dwArg08 + 0x04:word32] = Mem446[135790500:word32];
		Mem450[dwArg08 + 0x08:word32] = Mem448[0x0817FFA8:word32];
		Mem452[dwArg08 + 0x0C:word32] = Mem450[0x0817FFAC:word32];
		Mem454[dwArg08 + 0x10:word32] = Mem452[0x0817FFB0:word32];
		Mem456[dwArg08 + 0x14:word32] = Mem454[0x0817FFB4:word32];
		Mem458[dwArg08 + 0x18:word32] = Mem456[0x0817FFB8:word32];
		Mem460[dwArg08 + 0x1C:word32] = Mem458[0x0817FFBC:word32];
		Mem462[dwArg08 + 0x20:word32] = Mem460[0x0817FFC0:word32];
		Mem464[dwArg08 + 0x24:word32] = Mem462[135790532:word32];
		Mem466[dwArg08 + 0x28:word32] = Mem464[0x0817FFC8:word32];
		Mem468[dwArg08 + 44:word32] = Mem466[0x0817FFCC:word32];
		Mem470[dwArg08 + 0x30:word32] = Mem468[0x0817FFD0:word32];
		Mem472[dwArg08 + 0x34:word32] = Mem470[0x0817FFD4:word32];
		Mem474[dwArg08 + 0x38:word32] = Mem472[0x0817FFD8:word32];
		eax_154 = dwArg08;
	}
	else
	{
		word32 eax_418;
		Mem46[dwArg08 + 0x28:word32] = 0x00;
		Mem53[dwArg08 + 0x00:word32] = ((dwArg04 & 0xFF) << 0x05) + 0x0817A7A0;
		word32 eax_56 = Mem53[Mem53[dwArg08 + 0x00:word32] + 0x0C:word32];
		if (dwArg04 != 0x00200811 && (dwArg04 != 0x00200812 && dwArg04 != 2099219) || (byte) ((word32) Mem53[135119015:byte]) == 0x00)
			eax_418 = Mem53[eax_56 + 0x00:word32];
		else
			eax_418 = 330;
		word32 eax_399;
		Mem65[dwArg08 + 0x08:word32] = eax_418;
		if (dwArg04 != 0x00200811 && (dwArg04 != 0x00200812 && dwArg04 != 2099219) || (byte) ((word32) Mem65[0x080DC0A8:byte]) == 0x00)
			eax_399 = Mem65[eax_56 + 0x08:word32];
		else
			eax_399 = 33088;
		Mem72[dwArg08 + 0x0C:word32] = eax_399;
		word32 edx_74 = Mem72[dwArg08 + 0x08:word32];
		Mem76[dwArg08 + 0x10:word32] = edx_74;
		Mem78[dwArg08 + 0x14:word32] = 0x00;
		Mem80[dwArg08 + 0x18:word32] = 0x00;
		Mem82[dwArg08 + 0x1C:word32] = 0x00;
		Mem84[dwArg08 + 0x05:byte] = 0x00;
		Mem86[dwArg08 + 0x04:byte] = 0x00;
		Mem88[dwArg08 + 0x06:byte] = 0x00;
		if ((dwArg04 & 0x0800) != 0x00)
			wc_create_gmap(dwArg08);
		Mem96[dwArg08 + 44:word32] = 0x00;
		Mem98[dwArg08 + 0x30:word32] = 0x00;
		byte al_100 = (byte) (word32) Mem98[135119011:byte];
		if (al_100 == 0x00)
		{
			Mem158[dwArg08 + 0x20:word32] = 0x00;
			Mem160[dwArg08 + 0x24:word32] = 0x00;
		}
		else
		{
			word32 dwLoc14_169 = 0x00;
			while (eax_56[dwLoc14_169 * 0x08] != 0x00)
				dwLoc14_169 = dwLoc14_169 + 0x01;
			word32 esp_186;
			word32 ebp_187;
			word32 ebx_188;
			byte SCZO_189;
			word32 eax_190;
			byte al_191;
			byte SZO_192;
			byte C_193;
			byte Z_194;
			word32 edx_195;
			byte CZ_196;
			!GC_malloc();
			Mem199[dwArg08 + 0x20:word32] = eax_190;
			word32 esp_205;
			word32 ebp_206;
			word32 ebx_207;
			byte SCZO_208;
			word32 eax_209;
			byte al_210;
			byte SZO_211;
			byte C_212;
			byte Z_213;
			word32 edx_214;
			byte CZ_215;
			!GC_malloc();
			Mem218[dwArg08 + 0x24:word32] = eax_209;
			word32 dwLoc1C_219 = 0x00;
			word32 dwLoc18_221 = 0x00;
			word32 dwLoc14_223 = 0x00;
			while (eax_56[dwLoc14_223 * 0x08] != 0x00)
			{
				if ((eax_56[dwLoc14_223 * 0x08] & 0x00018000) != 0x00)
				{
					word32 eax_278 = eax_56[dwLoc14_223 * 0x08];
					if (eax_278 != 0x8144)
					{
						if (eax_278 <=u 0x8144)
						{
							if (eax_278 != 0x8141 || ((byte) ((word32) Mem218[0x080DC0A6:byte]) == 0x00 || (dwArg04 == 0x0030203A || dwArg04 == 0x0030203B)))
								goto l080BD815;
							Mem218[dwArg08 + 0x24:word32][dwLoc1C_219 * 0x04] = wc_get_ucs_table(0x880E);
							dwLoc1C_219 = dwLoc1C_219 + 0x01;
							goto l080BD887;
						}
						if (eax_278 <=u 0x8150 && (byte) ((word32) Mem218[135119019:byte]) == 0x00)
							goto l080BD887;
						goto l080BD815;
					}
					if ((byte) (word32) Mem218[0x080DC0AA:byte] != 0x00)
					{
l080BD815:
						Mem218[dwArg08 + 0x24:word32][dwLoc1C_219 * 0x04] = wc_get_ucs_table(eax_56[dwLoc14_223 * 0x08]);
						dwLoc1C_219 = dwLoc1C_219 + 0x01;
					}
				}
				else if (eax_56[dwLoc14_223 * 0x08] != 0x0149 || (byte) ((word32) Mem218[0x080DC0A9:byte]) != 0x00)
				{
					Mem218[dwArg08 + 0x20:word32][dwLoc18_221 * 0x04] = wc_get_ucs_table(eax_56[dwLoc14_223 * 0x08]);
					dwLoc18_221 = dwLoc18_221 + 0x01;
				}
l080BD887:
				dwLoc14_223 = dwLoc14_223 + 0x01;
			}
			Mem218[dwArg08 + 0x20:word32][dwLoc18_221 * 0x04] = 0x00;
			Mem245[dwArg08 + 0x24:word32][dwLoc1C_219 * 0x04] = 0x00;
		}
		Mem118[0x0817FFA0:word32] = Mem98[dwArg08 + 0x00:word32];
		Mem120[135790500:word32] = Mem118[dwArg08 + 0x04:word32];
		Mem122[0x0817FFA8:word32] = Mem120[dwArg08 + 0x08:word32];
		Mem124[0x0817FFAC:word32] = Mem122[dwArg08 + 0x0C:word32];
		Mem126[0x0817FFB0:word32] = Mem124[dwArg08 + 0x10:word32];
		Mem128[0x0817FFB4:word32] = Mem126[dwArg08 + 0x14:word32];
		Mem130[0x0817FFB8:word32] = Mem128[dwArg08 + 0x18:word32];
		Mem132[0x0817FFBC:word32] = Mem130[dwArg08 + 0x1C:word32];
		Mem134[0x0817FFC0:word32] = Mem132[dwArg08 + 0x20:word32];
		Mem136[135790532:word32] = Mem134[dwArg08 + 0x24:word32];
		Mem138[0x0817FFC8:word32] = Mem136[dwArg08 + 0x28:word32];
		Mem140[0x0817FFCC:word32] = Mem138[dwArg08 + 44:word32];
		Mem142[0x0817FFD0:word32] = Mem140[dwArg08 + 0x30:word32];
		Mem144[0x0817FFD4:word32] = Mem142[dwArg08 + 0x34:word32];
		Mem146[0x0817FFD8:word32] = Mem144[dwArg08 + 0x38:word32];
		Mem147[135790572:byte] = 0x01;
		Mem149[135790556:word32] = Mem147[0x080DC0A0:word32];
		Mem151[0x0817FFE0:word32] = Mem149[0x080DC0A4:word32];
		Mem153[0x0817FFE4:word32] = Mem151[0x080DC0A8:word32];
		eax_154 = Mem153[0x080DC0AC:word32];
		Mem156[0x0817FFE8:word32] = eax_154;
	}
	return eax_154;
}

// 080BD983: Register byte wc_ces_has_ccs(Stack word32 dwArg04, Stack word32 dwArg08)
byte wc_ces_has_ccs(word32 dwArg04, word32 dwArg08)
{
	word32 eax_12 = Mem0[Mem0[dwArg08 + 0x00:word32] + 0x0C:word32];
	word32 dwLoc0C_14 = 0x00;
	while (true)
	{
		byte al_27;
		if (eax_12[dwLoc0C_14 * 0x08] == 0x00)
			break;
		if (eax_12[dwLoc0C_14 * 0x08] == dwArg04)
		{
			al_27 = 0x01;
			return al_27;
		}
		dwLoc0C_14 = dwLoc0C_14 + 0x01;
	}
	al_27 = 0x00;
	return al_27;
}

// 080BD9D0: void ucs_cs94_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_cs94_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem21[dwArg04 + 0x00:word32] = dwArg08;
	Mem22[dwArg04 + 0x04:word32] = (word32) (word16) dwArg0C;
}

// 080BD9FE: void ucs_viet_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_viet_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc0C_21;
	word16 ax_11 = (word16) dwArg0C;
	if (((word32) ax_11 & 0x80) != 0x00)
	{
		dwLoc0C_21 = dwArg08;
		if (dwArg08 != 0x0821)
		{
			if (dwArg08 != 0x0823)
			{
				if (dwArg08 == 0x081E)
					dwLoc0C_21 = 2077;
			}
			else
				dwLoc0C_21 = 0x0822;
		}
		else
			dwLoc0C_21 = 0x0820;
	}
	else
	{
		dwLoc0C_21 = dwArg08;
		if (dwArg08 != 0x0820)
		{
			if (dwArg08 != 0x0822)
			{
				if (dwArg08 == 2077)
					dwLoc0C_21 = 0x081E;
			}
			else
				dwLoc0C_21 = 0x0823;
		}
		else
			dwLoc0C_21 = 0x0821;
	}
	Mem29[dwArg04 + 0x00:word32] = dwLoc0C_21;
	Mem30[dwArg04 + 0x04:word32] = (word32) ax_11 & 0xFF;
}

// 080BDAAC: void ucs_cp1258_conv(Stack word32 dwArg04, Stack word32 dwArg0C)
void ucs_cp1258_conv(word32 dwArg04, word32 dwArg0C)
{
	word32 eax_16;
	word16 ax_11 = (word16) dwArg0C;
	if (ax_11 <=u 0xFF)
		eax_16 = 0x081B;
	else
		eax_16 = 0x081C;
	Mem22[dwArg04 + 0x00:word32] = eax_16;
	Mem23[dwArg04 + 0x04:word32] = (word32) ax_11;
}

// 080BDAEB: void ucs_cns11643_conv(Stack word32 dwArg04, Stack word32 dwArg0C)
void ucs_cns11643_conv(word32 dwArg04, word32 dwArg0C)
{
	word32 eax_19;
	word16 ax_11 = (word16) dwArg0C;
	if ((word16) (word32) ax_11 < 0x00)
		eax_19 = 0x8148;
	else
		eax_19 = 33095;
	Mem28[dwArg04 + 0x00:word32] = eax_19;
	Mem29[dwArg04 + 0x04:word32] = (word32) ax_11 & 0x7F7F;
}

// 080BDB30: void ucs_big5_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_big5_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_big5_to_cs94w(dwArg04, dwArg08, (word32) (word16) dwArg0C);
}

// 080BDB70: void ucs_johab2_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_johab2_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_johab_to_cs128w(dwArg04, dwArg08, (word32) (word16) dwArg0C);
}

// 080BDBB0: void ucs_johab3_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_johab3_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc0C_17;
	word16 ax_11 = (word16) dwArg0C;
	if (ax_11 >u 0x2120 && ax_11 <=u 0x2420 || (ax_11 >u 9299 && ax_11 <=u 11390 || ax_11 >u 0x4A20 && ax_11 <=u 0x7D7E))
		dwLoc0C_17 = dwArg08;
	else
		dwLoc0C_17 = 0xC000;
	Mem22[dwArg04 + 0x00:word32] = dwLoc0C_17;
	Mem23[dwArg04 + 0x04:word32] = (word32) ax_11;
}

// 080BDC17: void ucs_sjis_ext_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_sjis_ext_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_sjis_ext_to_cs94w(dwArg04, dwArg08, (word32) (word16) dwArg0C);
}

// 080BDC57: void ucs_gbk_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_gbk_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_gbk_to_cs128w(dwArg04, dwArg08, (word32) (word16) dwArg0C);
}

// 080BDC97: void ucs_uhc_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_uhc_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_uhc_to_cs128w(dwArg04, dwArg08, (word32) (word16) dwArg0C);
}

// 080BDCD7: void ucs_hkscs_conv(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void ucs_hkscs_conv(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	wc_hkscs_to_cs128w(dwArg04, dwArg08, (word32) (word16) dwArg0C);
}

// 080BDD17: Register word32 wc_get_ucs_table(Stack word32 dwArg04)
word32 wc_get_ucs_table(word32 dwArg04)
{
	word32 eax_103;
	if ((dwArg04 & 0xFF00) != 0x0800)
	{
		if ((dwArg04 & 0xFF00) <=u 0x0800)
		{
			if ((dwArg04 & 0xFF00) != 0x0200)
			{
				if ((dwArg04 & 0xFF00) != 0x0400)
				{
					if ((dwArg04 & 0xFF00) != 0x0100)
						goto l080BDE94;
					if ((dwArg04 & 0xFF) > 0x3F && (dwArg04 & 0xFF) <= 0x54)
						eax_103 = ((dwArg04 & 0xFF) - 0x40 << 0x04) + 0x08176EE0;
					else
						eax_103 = 0x00;
				}
				else if ((dwArg04 & 0xFF) > 0x3F && (dwArg04 & 0xFF) <= 0x00)
					eax_103 = Mem0[0x08180008:word32] + ((dwArg04 & 0xFF) - 0x40 << 0x04);
				else
					eax_103 = 0x00;
			}
			else if ((dwArg04 & 0xFF) > 0x3F && (dwArg04 & 0xFF) <= 0x66)
				eax_103 = ((dwArg04 & 0xFF) - 0x40 << 0x04) + 0x08177040;
			else
				eax_103 = 0x00;
		}
		else if ((dwArg04 & 0xFF00) != 0x8200)
		{
			if ((dwArg04 & 0xFF00) != 0x8800)
			{
				if ((dwArg04 & 0xFF00) != 0x8100)
				{
l080BDE94:
					eax_103 = 0x00;
					return eax_103;
				}
				if ((dwArg04 & 0xFF) > 0x3F && (dwArg04 & 0xFF) <= 0x50)
					eax_103 = ((dwArg04 & 0xFF) - 0x40 << 0x04) + 135755072;
				else
					eax_103 = 0x00;
			}
			else if ((dwArg04 & 0xFF) > 0x00 && (dwArg04 & 0xFF) <= 33)
				eax_103 = ((dwArg04 & 0xFF) - 0x01 << 0x04) + 0x08177660;
			else
				eax_103 = 0x00;
		}
		else if ((dwArg04 & 0xFF) > 0x3F && (dwArg04 & 0xFF) <= 0x00)
			eax_103 = Mem0[0x0818000C:word32] + ((dwArg04 & 0xFF) - 0x40 << 0x04);
		else
			eax_103 = 0x00;
	}
	else if ((dwArg04 & 0xFF) > 0x00 && (dwArg04 & 0xFF) <= 0x28)
		eax_103 = ((dwArg04 & 0xFF) - 0x01 << 0x04) + 0x081772C0;
	else
		eax_103 = 0x00;
	return eax_103;
}

// 080BDE9B: void wc_ucs_to_any(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_ucs_to_any(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg0C != 0x00 && (Mem0[dwArg0C + 0x08:word32] != 0x00 && (dwArg08 != 0x00 && (dwArg08 <=u 0xFFFF && wc_map_search((word32) ((word16) dwArg08), Mem0[dwArg0C + 0x08:word32], Mem0[dwArg0C + 0x04:word32]) != 0x00))))
	{
		word32 ecx_183 = Mem0[dwArg0C + 0x0C:word32];
		word32 esp_193;
		word32 ebp_194;
		word32 ebx_195;
		byte SCZO_196;
		byte Z_197;
		word32 eax_198;
		byte SZO_199;
		byte C_200;
		byte CZ_201;
		word32 ecx_202;
		word32 edx_203;
		word16 ax_204;
		ecx_183();
		return;
	}
	if (dwArg0C != 0x00 && DPB(dwArg08, 0x00, 0) == 0x00020000)
	{
		word32 dwLoc10_123;
		if (Mem0[dwArg0C + 0x00:word32] == 33103)
			dwLoc10_123 = wc_map_search((word32) (word16) dwArg08, 0x080FDE20, 0x19);
		else if (Mem0[dwArg0C + 0x00:word32] == 0x8150)
			dwLoc10_123 = wc_map_search((word32) (word16) dwArg08, 0x080FE300, 0x0115);
		else if (Mem0[dwArg0C + 0x00:word32] != 0x881F && (Mem0[dwArg0C + 0x00:word32] != 0x8820 && Mem0[dwArg0C + 0x00:word32] != 0x8821))
			dwLoc10_123 = 0x00;
		else
			dwLoc10_123 = wc_map_search((word32) (word16) dwArg08, 135555360, 1081);
		if (dwLoc10_123 != 0x00)
		{
			word32 ecx_91 = Mem0[dwArg0C + 0x0C:word32];
			word32 esp_102;
			word32 ebp_103;
			word32 ebx_104;
			byte SCZO_105;
			byte Z_106;
			word32 eax_107;
			byte SZO_108;
			byte C_109;
			byte CZ_110;
			word32 ecx_111;
			word32 edx_112;
			word16 ax_113;
			ecx_91();
			return;
		}
	}
	Mem69[dwArg04 + 0x00:word32] = 0x4000;
	Mem70[dwArg04 + 0x04:word32] = dwLoc14;
}

// 080BE029: Register word32 wc_any_to_ucs(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_any_to_ucs(word32 dwArg04, word32 dwArg08)
{
	word32 eax_105;
	if ((dwArg04 & 0xFF00) == 0x1000)
	{
		if ((dwArg04 & 0xFFFF) == 0x1000)
			eax_105 = dwArg08;
		else
			eax_105 = ~0x00;
		return eax_105;
	}
	word32 dwArg08_148;
	word32 dwLoc14_143;
	if ((dwArg04 & 0xFF00) >u 0x1000)
	{
		if ((dwArg04 & 0xFF00) == 0x8100)
		{
			if (dwArg04 == 0x8141 && (byte) ((word32) Mem0[0x080DC0A6:byte]) != 0x00)
			{
				eax_105 = wc_any_to_ucs(0x880E, dwArg08);
				return eax_105;
			}
			if (dwArg04 == 33103)
			{
				word32 eax_436 = wc_map_search((word32) (word16) dwArg08 & 0x7F7F, 0x080FDDA0, 0x19);
				if (eax_436 != 0x00)
				{
					eax_105 = (word32) (word16) (word32) Mem0[eax_436 + 0x02:word16] | 0x00020000;
					return eax_105;
				}
			}
			else if (dwArg04 == 0x8150)
			{
				word32 eax_461 = wc_map_search((word32) (word16) dwArg08 & 0x7F7F, 0x080FDEA0, 0x0115);
				if (eax_461 != 0x00)
				{
					eax_105 = (word32) (word16) (word32) Mem0[eax_461 + 0x02:word16] | 0x00020000;
					return eax_105;
				}
			}
			if ((dwArg04 & 0xFF) <= 0x3F || (dwArg04 & 0xFF) > 0x50)
			{
				eax_105 = 0x00;
				return eax_105;
			}
			dwLoc14_143 = 135753184[((dwArg04 & 0xFF) - 0x40) * 0x04];
			dwArg08_148 = (dwArg08 >>u 0x08 & 0x7F) *s 0x5E + (dwArg08 & 0x7F) - 3135;
			goto l080BE7BA;
		}
		if ((dwArg04 & 0xFF00) <=u 0x8100)
		{
			if ((dwArg04 & 0xFF00) == 0x2000)
			{
				if ((dwArg04 & 0xFFFF) != 0x2001)
				{
					if ((dwArg04 & 0xFFFF) != 0x2002)
					{
						if ((dwArg04 & 0xFFFF) == 0x2000)
							eax_105 = dwArg08;
						else
							eax_105 = ~0x00;
					}
					else
						eax_105 = wc_gb18030_to_ucs(dwArg04, dwArg08);
				}
				else
					eax_105 = dwArg08 & 0x001FFFFF;
				return eax_105;
			}
			if ((dwArg04 & 0xFF00) == 0x4000 && dwArg04 == 0x4001)
			{
				eax_105 = DPB(dwArg08, (byte) dwArg08 | 0x80, 0);
				return eax_105;
			}
		}
		else
		{
			if ((dwArg04 & 0xFF00) == 0x8200)
			{
				if ((dwArg04 & 0xFF) <= 0x3F || (dwArg04 & 0xFF) > 0x00)
				{
					eax_105 = ~0x00;
					return eax_105;
				}
				dwLoc14_143 = Mem0[0x08180004:word32][((dwArg04 & 0xFF) - 0x40) * 0x04];
				dwArg08_148 = (dwArg08 >>u 0x08 & 0x7F) * 0x60 + (dwArg08 & 0x7F) - 0x0C20;
				goto l080BE7BA;
			}
			if ((dwArg04 & 0xFF00) == 0x8800)
			{
				if ((dwArg04 & 0xFF) <= 0x00 || (dwArg04 & 0xFF) > 33)
				{
					eax_105 = ~0x00;
					return eax_105;
				}
				dwLoc14_143 = 0x08176E40[((dwArg04 & 0xFF) - 0x01) * 0x04];
				if (dwArg04 <=u 0x8821)
				{
					word32 eax_329 = 0x080D286C[(dwArg04 - 0x8801) * 0x04];
					word32 esp_332;
					word32 ebp_333;
					word32 esi_334;
					word32 ebx_335;
					byte SCZO_336;
					word32 eax_337;
					byte SZO_338;
					byte C_339;
					byte Z_340;
					byte CZ_341;
					word16 ax_342;
					word32 ecx_343;
					word32 edx_344;
					byte al_345;
					bcuiposr0 None_346;
					eax_329();
					return eax_337;
				}
				dwArg08_148 = (dwArg08 >>u 0x08 & 0x7F) *s 0x5E + (dwArg08 & 0x7F) - 3135;
				goto l080BE7BA;
			}
		}
l080BE7B3:
		eax_105 = ~0x00;
		return eax_105;
	}
	else
	{
		if ((dwArg04 & 0xFF00) != 0x0200)
		{
			if ((dwArg04 & 0xFF00) <=u 0x0200)
			{
				if ((dwArg04 & 0xFF00) != 0x0100)
					goto l080BE7B3;
				if ((dwArg04 & 0xFF) <= 0x3F || (dwArg04 & 0xFF) > 0x54)
				{
					eax_105 = ~0x00;
					return eax_105;
				}
				dwLoc14_143 = 0x08176C40[((dwArg04 & 0xFF) - 0x40) * 0x04];
				dwArg08_148 = dwArg08 & 0x7F;
				goto l080BE7BA;
			}
			if ((dwArg04 & 0xFF00) != 0x0400)
			{
				if ((dwArg04 & 0xFF00) != 0x0800)
					goto l080BE7B3;
				if ((dwArg04 & 0xFF) <= 0x00 || (dwArg04 & 0xFF) > 0x28)
				{
					eax_105 = ~0x00;
					return eax_105;
				}
				if (dwArg04 == 0x081F)
				{
					wc_tcvn57123_to_tcvn5712(fp - 0x20, dwArg04, dwArg08);
					eax_105 = wc_any_to_ucs(dwLoc20, dwLoc1C);
					return eax_105;
				}
				if (dwArg04 == 0x0827)
				{
					eax_105 = 0x20AC;
					return eax_105;
				}
				if (dwArg04 != 0x081C)
				{
					dwLoc14_143 = 0x08176D40[((dwArg04 & 0xFF) - 0x01) * 0x04];
					dwArg08_148 = dwArg08 & 0x7F;
					goto l080BE7BA;
				}
				word32 eax_177 = wc_map_search((word32) (word16) dwArg08, 0x080E33C0, 0x78);
				if (eax_177 != 0x00)
					eax_105 = (word32) (word16) (word32) Mem0[eax_177 + 0x02:word16];
				else
					eax_105 = ~0x00;
				return eax_105;
			}
			if ((dwArg04 & 0xFF) <= 0x3F || (dwArg04 & 0xFF) > 0x00)
			{
				eax_105 = ~0x00;
				return eax_105;
			}
			dwLoc14_143 = Mem0[0x08180000:word32][((dwArg04 & 0xFF) - 0x40) * 0x04];
			dwArg08_148 = dwArg08 & 0x7F;
		}
		else
		{
			if ((dwArg04 & 0xFF) <= 0x3F || (dwArg04 & 0xFF) > 0x66)
			{
				eax_105 = ~0x00;
				return eax_105;
			}
			dwLoc14_143 = 0x08176CA0[((dwArg04 & 0xFF) - 0x40) * 0x04];
			dwArg08_148 = dwArg08 & 0x7F;
		}
l080BE7BA:
		if (dwLoc14_143 == 0x00)
			eax_105 = ~0x00;
		else
		{
			word32 eax_113 = (word32) (word16) (word32) dwLoc14_143[dwArg08_148 * 0x02];
			if (eax_113 != 0x00)
				eax_105 = eax_113;
			else
				eax_105 = ~0x00;
		}
		return eax_105;
	}
}

// 080BE7F3: void wc_any_to_any(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_any_to_any(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem24[fp - 0x14 + 0x00:word32] = wc_any_to_ucs(dwArg08, dwArg0C);
	if (Mem24[fp - 0x14 + 0x00:word32] != ~0x00)
	{
		Mem54[fp - 0x34 + 0x00:word32] = Mem24[fp + 0x10:word32];
		Mem56[fp - 0x38 + 0x00:word32] = Mem54[fp - 0x14 + 0x00:word32];
		Mem57[fp - 0x3C + 0x00:word32] = fp + 0x08;
		wc_ucs_to_any(dwArg00, dwArg04, dwArg08);
		if ((Mem57[fp + 0x08:word32] & 0x4000) == 0x00)
		{
			word32 edx_67 = Mem57[fp + 0x0C:word32];
			Mem68[dwArg04 + 0x00:word32] = Mem57[fp + 0x08:word32];
			Mem69[dwArg04 + 0x04:word32] = edx_67;
			return;
		}
		Mem71[fp - 0x3C + 0x00:word32] = Mem57[fp - 0x14 + 0x00:word32];
		Mem73[fp - 0x14 + 0x00:word32] = wc_ucs_to_fullwidth(dwArg00);
		if (Mem73[fp - 0x14 + 0x00:word32] != ~0x00)
		{
			Mem78[fp - 0x34 + 0x00:word32] = Mem73[fp + 0x10:word32];
			Mem80[fp - 0x38 + 0x00:word32] = Mem78[fp - 0x14 + 0x00:word32];
			Mem81[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_ucs_to_any(dwArg00, dwArg04, dwArg08);
			word32 edx_85 = Mem81[fp - 0x20 + 0x00:word32];
			Mem86[fp + 0x08:word32] = Mem81[fp - 0x24 + 0x00:word32];
			Mem87[fp + 0x0C:word32] = edx_85;
			if ((Mem87[fp + 0x08:word32] & 0x4000) == 0x00)
			{
				word32 edx_94 = Mem87[fp + 0x0C:word32];
				Mem95[dwArg04 + 0x00:word32] = Mem87[fp + 0x08:word32];
				Mem96[dwArg04 + 0x04:word32] = edx_94;
				return;
			}
		}
	}
	word32 eax_44;
	if (Mem24[fp - 0x10 + 0x00:word32] != 0x00)
		eax_44 = 0xC000;
	else
		eax_44 = 0x4000;
	Mem45[fp + 0x08:word32] = eax_44;
	word32 edx_47 = Mem45[fp + 0x0C:word32];
	Mem48[dwArg04 + 0x00:word32] = Mem45[fp + 0x08:word32];
	Mem49[dwArg04 + 0x04:word32] = edx_47;
}

// 080BE8DA: void wc_ucs_to_any_list(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_ucs_to_any_list(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg0C != 0x00)
	{
		word32 dwLoc10_52 = dwArg0C;
		while (Mem0[dwLoc10_52 + 0x00:word32] != 0x00)
		{
			if (Mem0[Mem0[dwLoc10_52 + 0x00:word32] + 0x08:word32] != 0x00)
			{
				wc_ucs_to_any(fp - 0x18, dwArg08, Mem0[dwLoc10_52 + 0x00:word32]);
				if ((dwLoc18 & 0x4000) == 0x00)
				{
					Mem103[dwArg04 + 0x00:word32] = dwLoc18;
					Mem104[dwArg04 + 0x04:word32] = dwLoc14;
					return;
				}
			}
			dwLoc10_52 = dwLoc10_52 + 0x04;
		}
	}
	Mem49[dwArg04 + 0x00:word32] = 0x4000;
	Mem50[dwArg04 + 0x04:word32] = dwLoc14;
}

// 080BE95E: void wc_any_to_any_ces(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_any_to_any_ces(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem20[fp - 0x10 + 0x00:word32] = wc_any_to_ucs(dwArg08, dwArg0C);
	Mem23[fp - 0x14 + 0x00:word32] = Mem20[fp + 0x08:word32] & 0x00018000;
	if (Mem23[fp - 0x10 + 0x00:word32] <=u 0x7F)
	{
		Mem38[fp + 0x08:word32] = 322;
		Mem40[fp + 0x0C:word32] = Mem38[fp - 0x10 + 0x00:word32];
		word32 edx_42 = Mem40[fp + 0x0C:word32];
		Mem43[dwArg04 + 0x00:word32] = Mem40[fp + 0x08:word32];
		Mem44[dwArg04 + 0x04:word32] = edx_42;
		return;
	}
	if (Mem23[fp - 0x10 + 0x00:word32] != ~0x00)
	{
		if ((Mem23[Mem23[Mem23[fp + 0x10:word32] + 0x00:word32] + 0x00:word32] & 0x8000) != 0x00)
		{
			Mem79[fp - 0x3C + 0x00:word32] = Mem23[fp - 0x10 + 0x00:word32];
			Mem82[fp + 0x08:word32] = wc_ucs_to_ccs(dwArg00);
			Mem84[fp + 0x0C:word32] = Mem82[fp - 0x10 + 0x00:word32];
			word32 edx_86 = Mem84[fp + 0x0C:word32];
			Mem87[dwArg04 + 0x00:word32] = Mem84[fp + 0x08:word32];
			Mem88[dwArg04 + 0x04:word32] = edx_86;
			return;
		}
		if (Mem23[Mem23[Mem23[fp + 0x10:word32] + 0x00:word32] + 0x00:word32] == 0x00302040)
		{
			Mem96[fp - 0x38 + 0x00:word32] = Mem23[fp - 0x10 + 0x00:word32];
			Mem97[fp - 0x3C + 0x00:word32] = fp + 0x08;
			wc_ucs_to_johab(dwArg00, dwArg04);
			if ((Mem97[fp + 0x08:word32] & 0x4000) != 0x00)
			{
				word32 eax_115;
				if (Mem97[fp - 0x14 + 0x00:word32] != 0x00)
					eax_115 = 0xC000;
				else
					eax_115 = 0x4000;
				Mem116[fp + 0x08:word32] = eax_115;
			}
			word32 edx_109 = Mem97[fp + 0x0C:word32];
			Mem110[dwArg04 + 0x00:word32] = Mem97[fp + 0x08:word32];
			Mem111[dwArg04 + 0x04:word32] = edx_109;
			return;
		}
		word32 eax_124;
		if (Mem23[fp - 0x14 + 0x00:word32] != 0x00)
			eax_124 = Mem23[Mem23[fp + 0x10:word32] + 0x24:word32];
		else
			eax_124 = Mem23[Mem23[fp + 0x10:word32] + 0x20:word32];
		Mem126[fp - 0x34 + 0x00:word32] = eax_124;
		Mem128[fp - 0x38 + 0x00:word32] = Mem126[fp - 0x10 + 0x00:word32];
		Mem129[fp - 0x3C + 0x00:word32] = fp - 0x24;
		wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
		word32 edx_133 = Mem129[fp - 0x20 + 0x00:word32];
		Mem134[fp + 0x08:word32] = Mem129[fp - 0x24 + 0x00:word32];
		Mem135[fp + 0x0C:word32] = edx_133;
		if ((Mem135[fp + 0x08:word32] & 0x4000) == 0x00)
		{
			word32 edx_142 = Mem135[fp + 0x0C:word32];
			Mem143[dwArg04 + 0x00:word32] = Mem135[fp + 0x08:word32];
			Mem144[dwArg04 + 0x04:word32] = edx_142;
			return;
		}
		if ((byte) (word32) Mem135[135119013:byte] == 0x00)
		{
			word32 eax_292;
			if (Mem135[fp - 0x14 + 0x00:word32] != 0x00)
				eax_292 = Mem135[Mem135[fp + 0x10:word32] + 0x20:word32];
			else
				eax_292 = Mem135[Mem135[fp + 0x10:word32] + 0x24:word32];
			Mem294[fp - 0x34 + 0x00:word32] = eax_292;
			Mem296[fp - 0x38 + 0x00:word32] = Mem294[fp - 0x10 + 0x00:word32];
			Mem297[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
			word32 edx_301 = Mem297[fp - 0x20 + 0x00:word32];
			Mem302[fp + 0x08:word32] = Mem297[fp - 0x24 + 0x00:word32];
			Mem303[fp + 0x0C:word32] = edx_301;
			if ((Mem303[fp + 0x08:word32] & 0x4000) == 0x00)
			{
				word32 edx_310 = Mem303[fp + 0x0C:word32];
				Mem311[dwArg04 + 0x00:word32] = Mem303[fp + 0x08:word32];
				Mem312[dwArg04 + 0x04:word32] = edx_310;
				return;
			}
		}
		if (Mem135[Mem135[Mem135[fp + 0x10:word32] + 0x00:word32] + 0x00:word32] == 0x0030203B)
		{
			Mem162[fp - 0x38 + 0x00:word32] = Mem135[fp - 0x10 + 0x00:word32];
			Mem163[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_ucs_to_gb18030(dwArg00, dwArg04);
			word32 edx_167 = Mem163[fp - 0x20 + 0x00:word32];
			Mem168[fp + 0x08:word32] = Mem163[fp - 0x24 + 0x00:word32];
			Mem169[fp + 0x0C:word32] = edx_167;
			if ((Mem169[fp + 0x08:word32] & 0x4000) != 0x00)
			{
				word32 eax_185;
				if (Mem169[fp - 0x14 + 0x00:word32] != 0x00)
					eax_185 = 0xC000;
				else
					eax_185 = 0x4000;
				Mem186[fp + 0x08:word32] = eax_185;
			}
			word32 edx_179 = Mem169[fp + 0x0C:word32];
			Mem180[dwArg04 + 0x00:word32] = Mem169[fp + 0x08:word32];
			Mem181[dwArg04 + 0x04:word32] = edx_179;
			return;
		}
		if (Mem135[fp - 0x10 + 0x00:word32] == 0xA0)
		{
			Mem193[fp + 0x08:word32] = 322;
			Mem194[fp + 0x0C:word32] = 0x20;
			word32 edx_196 = Mem194[fp + 0x0C:word32];
			Mem197[dwArg04 + 0x00:word32] = Mem194[fp + 0x08:word32];
			Mem198[dwArg04 + 0x04:word32] = edx_196;
			return;
		}
		if ((Mem135[Mem135[Mem135[fp + 0x10:word32] + 0x00:word32] + 0x00:word32] & 0x1200) != 0x00 && (Mem135[(fp - 0x10) + 0x00:word32] >u 0x7F && Mem135[(fp - 0x10) + 0x00:word32] <=u 0x9F))
		{
			Mem282[fp + 0x08:word32] = 0x4001;
			Mem284[fp + 0x0C:word32] = Mem282[fp - 0x10 + 0x00:word32];
			word32 edx_286 = Mem284[fp + 0x0C:word32];
			Mem287[dwArg04 + 0x00:word32] = Mem284[fp + 0x08:word32];
			Mem288[dwArg04 + 0x04:word32] = edx_286;
			return;
		}
		Mem208[fp - 0x3C + 0x00:word32] = Mem135[fp - 0x10 + 0x00:word32];
		Mem210[fp - 0x10 + 0x00:word32] = wc_ucs_to_fullwidth(dwArg00);
		if (Mem210[fp - 0x10 + 0x00:word32] != ~0x00)
		{
			word32 eax_216;
			if (Mem210[fp - 0x14 + 0x00:word32] != 0x00)
				eax_216 = Mem210[Mem210[fp + 0x10:word32] + 0x24:word32];
			else
				eax_216 = Mem210[Mem210[fp + 0x10:word32] + 0x20:word32];
			Mem218[fp - 0x34 + 0x00:word32] = eax_216;
			Mem220[fp - 0x38 + 0x00:word32] = Mem218[fp - 0x10 + 0x00:word32];
			Mem221[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
			word32 edx_225 = Mem221[fp - 0x20 + 0x00:word32];
			Mem226[fp + 0x08:word32] = Mem221[fp - 0x24 + 0x00:word32];
			Mem227[fp + 0x0C:word32] = edx_225;
			if ((Mem227[fp + 0x08:word32] & 0x4000) == 0x00)
			{
				word32 edx_234 = Mem227[fp + 0x0C:word32];
				Mem235[dwArg04 + 0x00:word32] = Mem227[fp + 0x08:word32];
				Mem236[dwArg04 + 0x04:word32] = edx_234;
				return;
			}
			if ((byte) (word32) Mem227[135119013:byte] == 0x00)
			{
				word32 eax_245;
				if (Mem227[fp - 0x14 + 0x00:word32] != 0x00)
					eax_245 = Mem227[Mem227[fp + 0x10:word32] + 0x20:word32];
				else
					eax_245 = Mem227[Mem227[fp + 0x10:word32] + 0x24:word32];
				Mem247[fp - 0x34 + 0x00:word32] = eax_245;
				Mem249[fp - 0x38 + 0x00:word32] = Mem247[fp - 0x10 + 0x00:word32];
				Mem250[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
				word32 edx_254 = Mem250[fp - 0x20 + 0x00:word32];
				Mem255[fp + 0x08:word32] = Mem250[fp - 0x24 + 0x00:word32];
				Mem256[fp + 0x0C:word32] = edx_254;
				if ((Mem256[fp + 0x08:word32] & 0x4000) == 0x00)
				{
					word32 edx_263 = Mem256[fp + 0x0C:word32];
					Mem264[dwArg04 + 0x00:word32] = Mem256[fp + 0x08:word32];
					Mem265[dwArg04 + 0x04:word32] = edx_263;
					return;
				}
			}
		}
	}
	word32 eax_61;
	if (Mem23[fp - 0x14 + 0x00:word32] != 0x00)
		eax_61 = 0xC000;
	else
		eax_61 = 0x4000;
	Mem62[fp + 0x08:word32] = eax_61;
	word32 edx_64 = Mem62[fp + 0x0C:word32];
	Mem65[dwArg04 + 0x00:word32] = Mem62[fp + 0x08:word32];
	Mem66[dwArg04 + 0x04:word32] = edx_64;
}

// 080BECA5: void wc_any_to_iso2022(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_any_to_iso2022(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem20[fp - 0x10 + 0x00:word32] = wc_any_to_ucs(dwArg08, dwArg0C);
	Mem23[fp - 0x14 + 0x00:word32] = Mem20[fp + 0x08:word32] & 0x00018000;
	if (Mem23[fp - 0x10 + 0x00:word32] <=u 0x7F)
	{
		Mem37[fp + 0x08:word32] = 322;
		Mem39[fp + 0x0C:word32] = Mem37[fp - 0x10 + 0x00:word32];
		word32 edx_41 = Mem39[fp + 0x0C:word32];
		Mem42[dwArg04 + 0x00:word32] = Mem39[fp + 0x08:word32];
		Mem43[dwArg04 + 0x04:word32] = edx_41;
		return;
	}
	if (Mem23[fp - 0x10 + 0x00:word32] != ~0x00)
	{
		word32 eax_395;
		if (Mem23[fp - 0x14 + 0x00:word32] != 0x00)
			eax_395 = Mem23[Mem23[fp + 0x10:word32] + 0x24:word32];
		else
			eax_395 = Mem23[Mem23[fp + 0x10:word32] + 0x20:word32];
		Mem74[fp - 0x34 + 0x00:word32] = eax_395;
		Mem76[fp - 0x38 + 0x00:word32] = Mem74[fp - 0x10 + 0x00:word32];
		Mem77[fp - 0x3C + 0x00:word32] = fp + 0x08;
		wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
		if ((Mem77[fp + 0x08:word32] & 0x4000) == 0x00)
		{
			word32 edx_87 = Mem77[fp + 0x0C:word32];
			Mem88[dwArg04 + 0x00:word32] = Mem77[fp + 0x08:word32];
			Mem89[dwArg04 + 0x04:word32] = edx_87;
			return;
		}
		if ((byte) (word32) Mem77[0x080DC0AC:byte] == 0x00)
		{
			if (Mem77[fp - 0x14 + 0x00:word32] != 0x00)
			{
				Mem374[fp - 0x38 + 0x00:word32] = Mem77[fp - 0x10 + 0x00:word32];
				Mem375[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_ucs_to_iso2022w(dwArg00, dwArg04);
				word32 edx_380 = Mem375[fp - 0x20 + 0x00:word32];
				Mem381[fp + 0x08:word32] = Mem375[fp - 0x24 + 0x00:word32];
				Mem382[fp + 0x0C:word32] = edx_380;
			}
			else
			{
				Mem385[fp - 0x38 + 0x00:word32] = Mem77[fp - 0x10 + 0x00:word32];
				Mem386[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_ucs_to_iso2022(dwArg00, dwArg04);
				word32 edx_391 = Mem386[fp - 0x20 + 0x00:word32];
				Mem392[fp + 0x08:word32] = Mem386[fp - 0x24 + 0x00:word32];
				Mem393[fp + 0x0C:word32] = edx_391;
			}
			if ((Mem77[fp + 0x08:word32] & 0x4000) == 0x00)
			{
				word32 edx_369 = Mem77[fp + 0x0C:word32];
				Mem370[dwArg04 + 0x00:word32] = Mem77[fp + 0x08:word32];
				Mem371[dwArg04 + 0x04:word32] = edx_369;
				return;
			}
		}
		if ((byte) (word32) Mem77[135119013:byte] == 0x00)
		{
			word32 eax_290;
			if (Mem77[fp - 0x14 + 0x00:word32] != 0x00)
				eax_290 = Mem77[Mem77[fp + 0x10:word32] + 0x20:word32];
			else
				eax_290 = Mem77[Mem77[fp + 0x10:word32] + 0x24:word32];
			Mem292[fp - 0x34 + 0x00:word32] = eax_290;
			Mem294[fp - 0x38 + 0x00:word32] = Mem292[fp - 0x10 + 0x00:word32];
			Mem295[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
			word32 edx_299 = Mem295[fp - 0x20 + 0x00:word32];
			Mem300[fp + 0x08:word32] = Mem295[fp - 0x24 + 0x00:word32];
			Mem301[fp + 0x0C:word32] = edx_299;
			if ((Mem301[fp + 0x08:word32] & 0x4000) == 0x00)
			{
				word32 edx_308 = Mem301[fp + 0x0C:word32];
				Mem309[dwArg04 + 0x00:word32] = Mem301[fp + 0x08:word32];
				Mem310[dwArg04 + 0x04:word32] = edx_308;
				return;
			}
			if ((byte) (word32) Mem301[0x080DC0AC:byte] == 0x00)
			{
				if (Mem301[fp - 0x14 + 0x00:word32] != 0x00)
				{
					Mem332[fp - 0x38 + 0x00:word32] = Mem301[fp - 0x10 + 0x00:word32];
					Mem333[fp - 0x3C + 0x00:word32] = fp - 0x24;
					wc_ucs_to_iso2022(dwArg00, dwArg04);
					word32 edx_338 = Mem333[fp - 0x20 + 0x00:word32];
					Mem339[fp + 0x08:word32] = Mem333[fp - 0x24 + 0x00:word32];
					Mem340[fp + 0x0C:word32] = edx_338;
				}
				else
				{
					Mem343[fp - 0x38 + 0x00:word32] = Mem301[fp - 0x10 + 0x00:word32];
					Mem344[fp - 0x3C + 0x00:word32] = fp - 0x24;
					wc_ucs_to_iso2022w(dwArg00, dwArg04);
					word32 edx_349 = Mem344[fp - 0x20 + 0x00:word32];
					Mem350[fp + 0x08:word32] = Mem344[fp - 0x24 + 0x00:word32];
					Mem351[fp + 0x0C:word32] = edx_349;
				}
				if ((Mem301[fp + 0x08:word32] & 0x4000) == 0x00)
				{
					word32 edx_327 = Mem301[fp + 0x0C:word32];
					Mem328[dwArg04 + 0x00:word32] = Mem301[fp + 0x08:word32];
					Mem329[dwArg04 + 0x04:word32] = edx_327;
					return;
				}
			}
		}
		if (Mem77[fp - 0x10 + 0x00:word32] == 0xA0)
		{
			Mem111[fp + 0x08:word32] = 322;
			Mem112[fp + 0x0C:word32] = 0x20;
			word32 edx_114 = Mem112[fp + 0x0C:word32];
			Mem115[dwArg04 + 0x00:word32] = Mem112[fp + 0x08:word32];
			Mem116[dwArg04 + 0x04:word32] = edx_114;
			return;
		}
		Mem118[fp - 0x3C + 0x00:word32] = Mem77[fp - 0x10 + 0x00:word32];
		Mem120[fp - 0x10 + 0x00:word32] = wc_ucs_to_fullwidth(dwArg00);
		if (Mem120[fp - 0x10 + 0x00:word32] != ~0x00)
		{
			word32 eax_140;
			if (Mem120[fp - 0x14 + 0x00:word32] != 0x00)
				eax_140 = Mem120[Mem120[fp + 0x10:word32] + 0x24:word32];
			else
				eax_140 = Mem120[Mem120[fp + 0x10:word32] + 0x20:word32];
			Mem142[fp - 0x34 + 0x00:word32] = eax_140;
			Mem144[fp - 0x38 + 0x00:word32] = Mem142[fp - 0x10 + 0x00:word32];
			Mem145[fp - 0x3C + 0x00:word32] = fp - 0x24;
			wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
			word32 edx_149 = Mem145[fp - 0x20 + 0x00:word32];
			Mem150[fp + 0x08:word32] = Mem145[fp - 0x24 + 0x00:word32];
			Mem151[fp + 0x0C:word32] = edx_149;
			if ((Mem151[fp + 0x08:word32] & 0x4000) == 0x00)
			{
				word32 edx_158 = Mem151[fp + 0x0C:word32];
				Mem159[dwArg04 + 0x00:word32] = Mem151[fp + 0x08:word32];
				Mem160[dwArg04 + 0x04:word32] = edx_158;
				return;
			}
			if ((byte) (word32) Mem151[0x080DC0AC:byte] == 0x00)
			{
				if (Mem151[fp - 0x14 + 0x00:word32] != 0x00)
				{
					Mem261[fp - 0x38 + 0x00:word32] = Mem151[fp - 0x10 + 0x00:word32];
					Mem262[fp - 0x3C + 0x00:word32] = fp - 0x24;
					wc_ucs_to_iso2022w(dwArg00, dwArg04);
					word32 edx_267 = Mem262[fp - 0x20 + 0x00:word32];
					Mem268[fp + 0x08:word32] = Mem262[fp - 0x24 + 0x00:word32];
					Mem269[fp + 0x0C:word32] = edx_267;
				}
				else
				{
					Mem272[fp - 0x38 + 0x00:word32] = Mem151[fp - 0x10 + 0x00:word32];
					Mem273[fp - 0x3C + 0x00:word32] = fp - 0x24;
					wc_ucs_to_iso2022(dwArg00, dwArg04);
					word32 edx_278 = Mem273[fp - 0x20 + 0x00:word32];
					Mem279[fp + 0x08:word32] = Mem273[fp - 0x24 + 0x00:word32];
					Mem280[fp + 0x0C:word32] = edx_278;
				}
				if ((Mem151[fp + 0x08:word32] & 0x4000) == 0x00)
				{
					word32 edx_256 = Mem151[fp + 0x0C:word32];
					Mem257[dwArg04 + 0x00:word32] = Mem151[fp + 0x08:word32];
					Mem258[dwArg04 + 0x04:word32] = edx_256;
					return;
				}
			}
			if ((byte) (word32) Mem151[135119013:byte] == 0x00)
			{
				word32 eax_177;
				if (Mem151[fp - 0x14 + 0x00:word32] != 0x00)
					eax_177 = Mem151[Mem151[fp + 0x10:word32] + 0x20:word32];
				else
					eax_177 = Mem151[Mem151[fp + 0x10:word32] + 0x24:word32];
				Mem179[fp - 0x34 + 0x00:word32] = eax_177;
				Mem181[fp - 0x38 + 0x00:word32] = Mem179[fp - 0x10 + 0x00:word32];
				Mem182[fp - 0x3C + 0x00:word32] = fp - 0x24;
				wc_ucs_to_any_list(dwArg00, dwArg04, dwArg08);
				word32 edx_186 = Mem182[fp - 0x20 + 0x00:word32];
				Mem187[fp + 0x08:word32] = Mem182[fp - 0x24 + 0x00:word32];
				Mem188[fp + 0x0C:word32] = edx_186;
				if ((Mem188[fp + 0x08:word32] & 0x4000) == 0x00)
				{
					word32 edx_195 = Mem188[fp + 0x0C:word32];
					Mem196[dwArg04 + 0x00:word32] = Mem188[fp + 0x08:word32];
					Mem197[dwArg04 + 0x04:word32] = edx_195;
					return;
				}
				if ((byte) (word32) Mem188[0x080DC0AC:byte] == 0x00)
				{
					if (Mem188[fp - 0x14 + 0x00:word32] != 0x00)
					{
						Mem219[fp - 0x38 + 0x00:word32] = Mem188[fp - 0x10 + 0x00:word32];
						Mem220[fp - 0x3C + 0x00:word32] = fp - 0x24;
						wc_ucs_to_iso2022(dwArg00, dwArg04);
						word32 edx_225 = Mem220[fp - 0x20 + 0x00:word32];
						Mem226[fp + 0x08:word32] = Mem220[fp - 0x24 + 0x00:word32];
						Mem227[fp + 0x0C:word32] = edx_225;
					}
					else
					{
						Mem230[fp - 0x38 + 0x00:word32] = Mem188[fp - 0x10 + 0x00:word32];
						Mem231[fp - 0x3C + 0x00:word32] = fp - 0x24;
						wc_ucs_to_iso2022w(dwArg00, dwArg04);
						word32 edx_236 = Mem231[fp - 0x20 + 0x00:word32];
						Mem237[fp + 0x08:word32] = Mem231[fp - 0x24 + 0x00:word32];
						Mem238[fp + 0x0C:word32] = edx_236;
					}
					if ((Mem188[fp + 0x08:word32] & 0x4000) == 0x00)
					{
						word32 edx_214 = Mem188[fp + 0x0C:word32];
						Mem215[dwArg04 + 0x00:word32] = Mem188[fp + 0x08:word32];
						Mem216[dwArg04 + 0x04:word32] = edx_214;
						return;
					}
				}
			}
		}
		if (Mem120[fp - 0x10 + 0x00:word32] == 0xA0)
		{
			Mem131[fp + 0x08:word32] = 322;
			Mem132[fp + 0x0C:word32] = 0x20;
			word32 edx_134 = Mem132[fp + 0x0C:word32];
			Mem135[dwArg04 + 0x00:word32] = Mem132[fp + 0x08:word32];
			Mem136[dwArg04 + 0x04:word32] = edx_134;
			return;
		}
	}
	word32 eax_59;
	if (Mem23[fp - 0x14 + 0x00:word32] != 0x00)
		eax_59 = 0xC000;
	else
		eax_59 = 0x4000;
	Mem60[fp + 0x08:word32] = eax_59;
	word32 edx_62 = Mem60[fp + 0x0C:word32];
	Mem63[dwArg04 + 0x00:word32] = Mem60[fp + 0x08:word32];
	Mem64[dwArg04 + 0x04:word32] = edx_62;
}

// 080BF0AF: void wc_ucs_to_iso2022(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_ucs_to_iso2022(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 <=u 0xFFFF)
	{
		word32 dwLoc14_240 = 0x00;
		while (dwLoc14_240 <= 0x26)
		{
			word32 eax_220 = dwLoc14_240 << 0x04;
			if (Mem0[eax_220 + 0x08177048:word32] != 0x00)
			{
				wc_ucs_to_any(fp - 0x1C, (word32) (word16) dwArg08, eax_220 + 0x08177040);
				if ((dwLoc1C & 0x4000) == 0x00)
				{
					Mem259[dwArg04 + 0x00:word32] = dwLoc1C;
					Mem260[dwArg04 + 0x04:word32] = dwLoc18;
					return;
				}
			}
			dwLoc14_240 = dwLoc14_240 + 0x01;
		}
		word32 dwLoc14_194 = 0x00;
		while (dwLoc14_194 <= 0x14)
		{
			word32 eax_172 = dwLoc14_194 << 0x04;
			if (Mem0[eax_172 + 0x08176EE8:word32] != 0x00)
			{
				wc_ucs_to_any(fp - 0x24, (word32) (word16) dwArg08, eax_172 + 0x08176EE0);
				dwLoc18 = dwLoc20;
				if ((dwLoc24 & 0x4000) == 0x00)
				{
					Mem217[dwArg04 + 0x00:word32] = dwLoc24;
					Mem218[dwArg04 + 0x04:word32] = dwLoc20;
					return;
				}
			}
			dwLoc14_194 = dwLoc14_194 + 0x01;
		}
		word32 dwLoc14_101 = 0x00;
		while (dwLoc14_101 < ~0x3E)
		{
			word32 eax_123 = Mem0[0x08180008:word32] + (dwLoc14_101 << 0x04);
			if (Mem0[eax_123 + 0x08:word32] != 0x00)
			{
				wc_ucs_to_any(fp - 0x24, (word32) (word16) dwArg08, eax_123);
				dwLoc18 = dwLoc20;
				if ((dwLoc24 & 0x4000) == 0x00)
				{
					Mem169[dwArg04 + 0x00:word32] = dwLoc24;
					Mem170[dwArg04 + 0x04:word32] = dwLoc20;
					return;
				}
			}
			dwLoc14_101 = dwLoc14_101 + 0x01;
		}
	}
	Mem64[dwArg04 + 0x00:word32] = 0x4000;
	Mem65[dwArg04 + 0x04:word32] = dwLoc18;
}

// 080BF22D: void wc_ucs_to_iso2022w(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_ucs_to_iso2022w(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 <=u 0xFFFF)
	{
		word32 dwLoc14_175 = 0x00;
		while (dwLoc14_175 <= 0x10)
		{
			word32 eax_155 = dwLoc14_175 << 0x04;
			if (Mem0[eax_155 + 135755080:word32] != 0x00)
			{
				wc_ucs_to_any(fp - 0x1C, (word32) (word16) dwArg08, eax_155 + 135755072);
				if ((dwLoc1C & 0x4000) == 0x00)
				{
					Mem194[dwArg04 + 0x00:word32] = dwLoc1C;
					Mem195[dwArg04 + 0x04:word32] = dwLoc18;
					return;
				}
			}
			dwLoc14_175 = dwLoc14_175 + 0x01;
		}
		word32 dwLoc14_127 = 0x00;
		while (dwLoc14_127 < ~0x3E)
		{
			word32 eax_106 = Mem0[0x0818000C:word32] + (dwLoc14_127 << 0x04);
			if (Mem0[eax_106 + 0x08:word32] != 0x00)
			{
				wc_ucs_to_any(fp - 0x24, (word32) (word16) dwArg08, eax_106);
				dwLoc18 = dwLoc20;
				if ((dwLoc24 & 0x4000) == 0x00)
				{
					Mem152[dwArg04 + 0x00:word32] = dwLoc24;
					Mem153[dwArg04 + 0x04:word32] = dwLoc20;
					return;
				}
			}
			dwLoc14_127 = dwLoc14_127 + 0x01;
		}
	}
	Mem64[dwArg04 + 0x00:word32] = 0xC000;
	Mem65[dwArg04 + 0x04:word32] = dwLoc18;
}

// 080BF338: Register word32 wc_ucs_to_ccs(Stack word32 dwArg04)
word32 wc_ucs_to_ccs(word32 dwArg04)
{
	word32 eax_18;
	if (dwArg04 >u 0x7F && dwArg04 <=u 0x9F)
		eax_18 = 0x4001;
	else
	{
		word32 ebx_28;
		if (dwArg04 <=u 0xFFFF)
			ebx_28 = 0x1000;
		else
			ebx_28 = 0x2000;
		word32 eax_35;
		if (wc_is_ucs_wide(dwArg04) != 0x00)
			eax_35 = 0x00010000;
		else
			eax_35 = 0x00;
		word32 eax_45;
		word32 ebx_36 = ebx_28 | eax_35;
		if (wc_is_ucs_combining(dwArg04) != 0x00)
			eax_45 = 0x00020000;
		else
			eax_45 = 0x00;
		eax_18 = eax_45 | ebx_36;
	}
	return eax_18;
}

// 080BF3AA: Register byte wc_is_ucs_wide(Stack word32 dwArg04)
byte wc_is_ucs_wide(word32 dwArg04)
{
	byte al_17;
	if (dwArg04 <=u 0xFFFF)
		al_17 = wc_map_range_search((word32) (word16) dwArg04, 0x08177880, 11) != 0x00;
	else if (DPB(dwArg04, 0x00, 0) != 0x00020000 && DPB(dwArg04, 0x00, 0) != 0x00030000)
		al_17 = 0x00;
	else
		al_17 = 0x01;
	return al_17;
}

// 080BF408: Register byte wc_is_ucs_combining(Stack word32 dwArg04)
byte wc_is_ucs_combining(word32 dwArg04)
{
	byte al_27;
	if ((byte) (word32) Mem0[135119009:byte] != 0x00 && (dwArg04 <=u 0xFFFF && wc_map_range_search((word32) ((word16) dwArg04), 0x081778C0, 99) != 0x00))
		al_27 = 0x01;
	else
		al_27 = 0x00;
	return al_27;
}

// 080BF452: Register byte wc_is_ucs_hangul(Stack word32 dwArg04)
byte wc_is_ucs_hangul(word32 dwArg04)
{
	byte al_24;
	if (dwArg04 <=u 0xFFFF && wc_map_range_search((word32) ((word16) dwArg04), 0x08179188, 0x06) != 0x00)
		al_24 = 0x01;
	else
		al_24 = 0x00;
	return al_24;
}

// 080BF491: Register word32 wc_ucs_precompose(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_ucs_precompose(word32 dwArg04, word32 dwArg08)
{
	word32 eax_30;
	if ((byte) (word32) Mem0[135119009:byte] != 0x00 && (dwArg04 <=u 0xFFFF && dwArg08 <=u 0xFFFF))
	{
		word32 eax_64 = wc_map3_search((word32) (word16) dwArg04, (word32) (word16) dwArg08, 0x08177A60, 988);
		if (eax_64 != 0x00)
		{
			eax_30 = (word32) (word16) (word32) Mem0[eax_64 + 0x04:word16];
			return eax_30;
		}
	}
	eax_30 = ~0x00;
	return eax_30;
}

// 080BF4F8: Register word32 wc_ucs_to_fullwidth(Stack word32 dwArg04)
word32 wc_ucs_to_fullwidth(word32 dwArg04)
{
	word32 eax_21;
	if (dwArg04 <=u 0xFFFF)
	{
		word32 eax_40 = wc_map_search((word32) (word16) dwArg04, 135762336, 0x0E);
		if (eax_40 != 0x00)
		{
			eax_21 = (word32) (word16) (word32) Mem0[eax_40 + 0x02:word16];
			return eax_21;
		}
	}
	eax_21 = ~0x00;
	return eax_21;
}

// 080BF541: Register word32 wc_ucs_put_tag(Stack word32 dwArg04)
word32 wc_ucs_put_tag(word32 dwArg04)
{
	word32 eax_20;
	if (dwArg04 != 0x00 && (byte) ((word32) Mem0[dwArg04 + 0x00:byte]) != 0x00)
	{
		word32 dwLoc10_41 = 0x01;
		while (dwLoc10_41 <= Mem0[0x08180010:word32])
		{
			if (strcasecmp(dwArg04, 0x08180020[dwLoc10_41 * 0x04]) == 0x00)
			{
				eax_20 = dwLoc10_41;
				return eax_20;
			}
			dwLoc10_41 = dwLoc10_41 + 0x01;
		}
		Mem52[0x08180010:word32] = Mem0[0x08180010:word32] + 0x01;
		if (Mem52[0x08180010:word32] == 0x0100)
			eax_20 = 0x00;
		else
		{
			0x08180020[Mem52[0x08180010:word32] * 0x04] = dwArg04;
			eax_20 = Mem60[0x08180010:word32];
		}
	}
	else
		eax_20 = 0x00;
	return eax_20;
}

// 080BF5CD: Register word32 wc_ucs_get_tag(Stack word32 dwArg04)
word32 wc_ucs_get_tag(word32 dwArg04)
{
	word32 eax_12;
	if (dwArg04 != 0x00 && dwArg04 <= Mem0[0x08180010:word32])
		eax_12 = 0x08180020[dwArg04 * 0x04];
	else
		eax_12 = 0x00;
	return eax_12;
}

// 080BF5F3: void wtf_push_ucs(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wtf_push_ucs(selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 >u 0x000DFFFF && dwArg08 <=u 0x000E007F)
	{
		word32 eax_154 = (word32) Mem0[135119010:byte];
		if ((byte) eax_154 != 0x00)
		{
			if (dwArg08 == 0x000E0001)
			{
				Strnew_size(eax_154, 0x04);
				Mem165[dwArg0C + 44:word32] = eax_154;
			}
			else if (dwArg08 == 0x000E007F)
			{
				Mem169[dwArg0C + 44:word32] = 0x00;
				Mem171[dwArg0C + 0x30:word32] = 0x00;
			}
			else if (Mem0[dwArg0C + 44:word32] != 0x00 && dwArg08 >u 0x000E001F)
			{
				if (Mem0[Mem0[dwArg0C + 44:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[dwArg0C + 44:word32] + 0x08:word32])
					Strgrow(Mem0[dwArg0C + 44:word32]);
				word32 eax_193 = Mem0[dwArg0C + 44:word32];
				word32 edx_194 = Mem0[eax_193 + 0x04:word32];
				Mem200[Mem0[Mem0[dwArg0C + 44:word32] + 0x00:word32] + edx_194:byte] = (byte) (dwArg08 & 0x7F);
				Mem203[eax_193 + 0x04:word32] = edx_194 + 0x01;
				Mem211[Mem203[Mem203[dwArg0C + 44:word32] + 0x00:word32] + Mem203[Mem203[dwArg0C + 44:word32] + 0x04:word32]:byte] = 0x00;
			}
		}
	}
	else
	{
		if (Mem0[dwArg0C + 44:word32] != 0x00)
		{
			Mem149[dwArg0C + 0x30:word32] = wc_ucs_put_tag(Mem0[Mem0[dwArg0C + 44:word32] + 0x00:word32]);
			Mem151[dwArg0C + 44:word32] = 0x00;
		}
		if (dwArg08 <=u 0x7F)
		{
			if (Mem0[dwArg0C + 0x30:word32] != 0x00)
				wtf_push(fp - 0x04, gs, dwArg04, 0x2001, Mem0[dwArg0C + 0x30:word32] << 0x18 | dwArg08);
			else
			{
				if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_87 = Mem0[dwArg04 + 0x04:word32];
				Mem93[Mem0[dwArg04 + 0x00:word32] + eax_87:byte] = (byte) dwArg08;
				Mem96[dwArg04 + 0x04:word32] = eax_87 + 0x01;
				Mem102[Mem96[dwArg04 + 0x00:word32] + Mem96[dwArg04 + 0x04:word32]:byte] = 0x00;
			}
		}
		else
		{
			word32 eax_109 = wc_ucs_to_ccs(dwArg08);
			word32 dwLoc10_110 = eax_109;
			if (Mem0[dwArg0C + 0x30:word32] != 0x00 && dwArg08 <=u 1114111)
			{
				dwLoc10_110 = DPB(eax_109, 0x00, 0) | 0x2001;
				dwArg08 = dwArg08 | Mem0[dwArg0C + 0x30:word32] << 0x18;
			}
			wtf_push(fp - 0x04, gs, dwArg04, dwLoc10_110, dwArg08);
		}
	}
}

// 080BF800: void wc_uhc_to_cs128w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_uhc_to_cs128w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_23;
	word32 edx_18 = (dwArg0C >>u 0x08 & 0xFF) *s 0xB2 + (dwArg0C & 0xFF);
	if ((dwArg0C & 0xFF) >u 0x60)
	{
		if ((dwArg0C & 0xFF) <=u 0x80)
			eax_23 = 0x47;
		else
			eax_23 = 77;
	}
	else
		eax_23 = 0x41;
	word32 dwArg08_33;
	word32 ebx_25 = edx_18 - eax_23;
	word32 dwArg0C_28 = ebx_25 - 22962;
	if (ebx_25 <=u 0x99B1)
		dwArg08_33 = 0x881D;
	else
	{
		dwArg08_33 = 0x881E;
		dwArg0C_28 = ebx_25 - 0x99B2;
	}
	Mem47[dwArg04 + 0x00:word32] = dwArg08_33;
	Mem48[dwArg04 + 0x04:word32] = (dwArg0C_28 >>u 0x07 << 0x08) + (dwArg0C_28 & 0x7F);
}

// 080BF8AF: void wc_cs128w_to_uhc(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs128w_to_uhc(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_26 = ((dwArg0C >>u 0x08 & 0x7F) << 0x07) + (dwArg0C & 0x7F);
	word32 dwArg0C_109 = eax_26;
	if (dwArg08 == 0x881E)
		dwArg0C_109 = eax_26 + 0x4000;
	word32 eax_100;
	word32 ecx_52 = dwArg0C_109 - ~0x85;
	if (dwArg0C_109 >u ~0x6C)
	{
		if (dwArg0C_109 <=u ~0x52)
			eax_100 = 0x47;
		else
			eax_100 = 77;
	}
	else
		eax_100 = 0x41;
	Mem73[dwArg04 + 0x00:word32] = 34844;
	Mem74[dwArg04 + 0x04:word32] = ecx_52 + eax_100 + 0x702E8600;
}

// 080BF9A2: void wc_uhc_to_N(Stack word32 dwArg04)
void wc_uhc_to_N(word32 dwArg04)
{
}

// 080BFAE3: void wc_conv_from_uhc(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_uhc(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_19 = eax_10;
	while (dwLoc1C_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_19 + 0x00:byte]) >= 0x00)
		dwLoc1C_19 = dwLoc1C_19 + 0x01;
	if (dwLoc1C_19 != eax_14)
	{
		word32 eax_66 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_66, eax_66);
		if (dwLoc1C_19 >u eax_10)
			Strcat_charp_n(eax_66, Mem0[dwArg04 + 0x00:word32], dwLoc1C_19 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_100 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_100 != 0x00)
			{
				if (eax_100 == 0x01)
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 0x081791E0:byte] & 0x04) != 0x00)
					{
						Mem150[fp - 0x24 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
						if ((byte) (word32) Mem150[Mem150[fp - 0x1C + 0x00:word32] - 0x01 + 0x00:byte] >u 0xA0 && ((byte) ((word32) Mem150[Mem150[(fp - 0x1C) + 0x00:word32] + 0x00:byte]) >u 0xA0 && (Mem150[(fp - 0x24) + 0x00:word32] != 0xA2E6 && Mem150[(fp - 0x24) + 0x00:word32] != 0xA2E7)))
						{
							Mem178[fp - 0x34 + 0x00:word32] = Mem150[fp - 0x24 + 0x00:word32];
							Mem179[fp - 0x38 + 0x00:word32] = 33091;
							Mem181[fp - 0x3C + 0x00:word32] = Mem179[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
						else
						{
							Mem162[fp - 0x34 + 0x00:word32] = Mem150[fp - 0x24 + 0x00:word32];
							Mem163[fp - 0x38 + 0x00:word32] = 34844;
							Mem165[fp - 0x3C + 0x00:word32] = Mem163[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
					}
					else
					{
						word32 eax_182 = Mem0[fp - 0x1C + 0x00:word32];
						Mem185[fp - 0x34 + 0x00:word32] = 0x02;
						Mem186[fp - 0x38 + 0x00:word32] = eax_182 - 0x01;
						Mem188[fp - 0x3C + 0x00:word32] = Mem186[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem137[fp - 0x20 + 0x00:word32] = 0x00;
				}
				goto l080BFCE7;
			}
			word32 eax_195 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 0x081791E0:byte];
			if (eax_195 != 0x02)
			{
				if (eax_195 == 0x0C)
				{
					Mem204[fp - 0x20 + 0x00:word32] = 0x01;
					goto l080BFC1F;
				}
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
				{
					Mem233[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_215 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem222[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_215:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem225[Mem222[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_215 + 0x01;
				Mem231[Mem225[Mem225[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem225[Mem225[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			else
			{
				Mem234[fp - 0x34 + 0x00:word32] = 0x01;
				Mem236[fp - 0x38 + 0x00:word32] = Mem234[fp - 0x1C + 0x00:word32];
				Mem238[fp - 0x3C + 0x00:word32] = Mem236[fp - 0x10 + 0x00:word32];
				wtf_push_unknown(fp - 0x04, gs);
l080BFC1F:
			}
l080BFCE7:
			Mem116[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x20 + 0x00:word32] == 0x01)
		{
			word32 eax_92 = Mem0[fp - 0x1C + 0x00:word32];
			Mem95[fp - 0x34 + 0x00:word32] = 0x01;
			Mem96[fp - 0x38 + 0x00:word32] = eax_92 - 0x01;
			Mem98[fp - 0x3C + 0x00:word32] = Mem96[fp - 0x10 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080BFD21: void wc_push_to_uhc(Register word32 ebp)
void wc_push_to_uhc(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 34844)
			break;
		if (eax_20 <=u 34844)
		{
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem235[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem237[fp - 44 + 0x00:word32] = Mem235[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if (eax_20 == 33091)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem228[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_180 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem187[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_180:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 | ~0x7F);
				Mem190[Mem187[fp + 0x04:word32] + 0x04:word32] = eax_180 + 0x01;
				Mem196[Mem190[Mem190[fp + 0x04:word32] + 0x00:word32] + Mem190[Mem190[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				if (Mem196[Mem196[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem196[Mem196[fp + 0x04:word32] + 0x08:word32])
				{
					Mem226[fp - 44 + 0x00:word32] = Mem196[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_207 = Mem196[Mem196[fp + 0x04:word32] + 0x04:word32];
				Mem215[Mem196[Mem196[fp + 0x04:word32] + 0x00:word32] + eax_207:byte] = (byte) (Mem196[fp + 0x0C:word32] | ~0x7F);
				Mem218[Mem215[fp + 0x04:word32] + 0x04:word32] = eax_207 + 0x01;
				Mem224[Mem218[Mem218[fp + 0x04:word32] + 0x00:word32] + Mem218[Mem218[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_20 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem169[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_152 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem158[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_152:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem161[Mem158[fp + 0x04:word32] + 0x04:word32] = eax_152 + 0x01;
				Mem167[Mem161[Mem161[fp + 0x04:word32] + 0x00:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
		}
		else
		{
			if (eax_20 <=u 0x881E)
			{
				word32 edx_255 = Mem0[fp + 0x0C:word32];
				Mem256[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem257[fp - 0x24 + 0x00:word32] = edx_255;
				Mem258[fp - 44 + 0x00:word32] = fp + 0x08;
				wc_cs128w_to_uhc(dwArg00, dwArg04, dwArg08);
				break;
			}
			if (eax_20 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem250[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem252[fp - 44 + 0x00:word32] = Mem250[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
		}
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem109[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_111 = Mem109[fp + 0x0C:word32];
			Mem112[fp - 0x28 + 0x00:word32] = Mem109[fp + 0x08:word32];
			Mem113[fp - 0x24 + 0x00:word32] = edx_111;
			Mem114[fp - 44 + 0x00:word32] = fp - 0x14;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
			word32 edx_121 = Mem114[fp - 0x10 + 0x00:word32];
			Mem122[fp + 0x08:word32] = Mem114[fp - 0x14 + 0x00:word32];
			Mem123[fp + 0x0C:word32] = edx_121;
		}
		else
		{
			word32 eax_130;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_130 = 0xC000;
			else
				eax_130 = 0x4000;
			Mem131[fp + 0x08:word32] = eax_130;
		}
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem97[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_51 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem57[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_51:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
	Mem60[Mem57[fp + 0x04:word32] + 0x04:word32] = eax_51 + 0x01;
	Mem66[Mem60[Mem60[fp + 0x04:word32] + 0x00:word32] + Mem60[Mem60[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem66[Mem66[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem66[Mem66[fp + 0x04:word32] + 0x08:word32])
	{
		Mem94[fp - 44 + 0x00:word32] = Mem66[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_77 = Mem66[Mem66[fp + 0x04:word32] + 0x04:word32];
	Mem83[Mem66[Mem66[fp + 0x04:word32] + 0x00:word32] + eax_77:byte] = (byte) Mem66[fp + 0x0C:word32];
	Mem86[Mem83[fp + 0x04:word32] + 0x04:word32] = eax_77 + 0x01;
	Mem92[Mem86[Mem86[fp + 0x04:word32] + 0x00:word32] + Mem86[Mem86[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080BFFD6: void wc_char_conv_from_uhc(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_uhc(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem161[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem164[0x08180420:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 != 0x00)
	{
		if (eax_25 == 0x01 && ((word32) ((byte) ((word32) Mem0[(word32) al_12 + 0x081791E0:byte])) & 0x04) != 0x00)
		{
			word32 eax_91 = (word32) al_12 | (word32) ((byte) ((word32) Mem0[0x08180424:byte])) << 0x08;
			if ((byte) (word32) Mem0[0x08180424:byte] >u 0xA0 && (al_12 >u 0xA0 && (eax_91 != 0xA2E6 && eax_91 != 0xA2E7)))
				wtf_push(fp - 0x04, gs, Mem0[0x08180420:word32], 33091, eax_91);
			else
				wtf_push(fp - 0x04, gs, Mem0[0x08180420:word32], 34844, eax_91);
		}
	}
	else
	{
		word32 eax_120 = (word32) (byte) (word32) Mem0[(word32) al_12 + 0x081791E0:byte];
		if (eax_120 != 0x02)
		{
			if (eax_120 == 0x0C)
			{
				Mem128[0x08180424:byte] = (byte) (word32) al_12;
				Mem130[dwArg08 + 0x28:word32] = 0x01;
				return;
			}
			if (Mem0[Mem0[0x08180420:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x08180420:word32] + 0x08:word32])
				Strgrow(Mem0[0x08180420:word32]);
			word32 eax_142 = Mem0[0x08180420:word32];
			word32 edx_143 = Mem0[eax_142 + 0x04:word32];
			Mem148[Mem0[Mem0[0x08180420:word32] + 0x00:word32] + edx_143:byte] = (byte) (word32) al_12;
			Mem151[eax_142 + 0x04:word32] = edx_143 + 0x01;
			Mem157[Mem151[Mem151[0x08180420:word32] + 0x00:word32] + Mem151[Mem151[0x08180420:word32] + 0x04:word32]:byte] = 0x00;
		}
	}
	Mem66[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080C0158: void wc_conv_from_utf7(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_utf7(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_16 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_20 = Mem0[dwArg04 + 0x04:word32] + eax_16;
	word32 dwLoc1C_26 = eax_16;
	while (dwLoc1C_26 <u eax_20 && ((byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) >= 0x00 && (byte) ((word32) Mem0[dwLoc1C_26 + 0x00:byte]) != 0x2B))
		dwLoc1C_26 = dwLoc1C_26 + 0x01;
	if (dwLoc1C_26 != eax_20)
	{
		word32 ecx_95 = 0x55555556 - (Mem0[dwArg04 + 0x04:word32] * 0x04 >> 0x1F);
		Strnew_size(ecx_95, ecx_95);
		if (dwLoc1C_26 >u eax_16)
			Strcat_charp_n(ecx_95, Mem0[dwArg04 + 0x00:word32], dwLoc1C_26 - eax_16);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_128 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_128 != 0x01)
			{
				if (eax_128 == 0x02)
					goto l080C0289;
				if (eax_128 != 0x00 || (byte) ((word32) Mem0[Mem0[(fp - 0x1C) + 0x00:word32] + 0x00:byte]) != 0x2B)
					goto l080C03E3;
				Mem344[fp - 0x20 + 0x00:word32] = 0x01;
				Mem345[fp - 44 + 0x00:word32] = 0x10;
				Mem346[fp - 0x30 + 0x00:word32] = 0x00;
				Mem347[fp - 0x28 + 0x00:word32] = 0x00;
				goto l080C0491;
			}
			if ((byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] == 0x2D)
			{
				Mem354[fp - 116 + 0x00:word32] = fp - 100;
				Mem355[fp - 0x78 + 0x00:word32] = 0x2B;
				Mem357[fp - 0x7C + 0x00:word32] = Mem355[fp - 0x10 + 0x00:word32];
				wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
			}
l080C0289:
			word32 eax_220 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135762656:byte];
			if (eax_220 != 0x20)
			{
				if (eax_220 != 0x40)
				{
					if (eax_220 == 0x10)
						goto l080C02B3;
l080C03E3:
					word32 eax_158 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135762656:byte];
					if (eax_158 != 0x06)
					{
						if (eax_158 != 0x08)
						{
							if (eax_158 == 0x04)
								goto l080C0405;
							word32 eax_201 = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
							Mem203[fp - 116 + 0x00:word32] = fp - 100;
							Mem204[fp - 0x78 + 0x00:word32] = eax_201;
							Mem206[fp - 0x7C + 0x00:word32] = Mem204[fp - 0x10 + 0x00:word32];
							wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
						}
						else
						{
							Mem209[fp - 116 + 0x00:word32] = 0x01;
							Mem211[fp - 0x78 + 0x00:word32] = Mem209[fp - 0x1C + 0x00:word32];
							Mem213[fp - 0x7C + 0x00:word32] = Mem211[fp - 0x10 + 0x00:word32];
							wtf_push_unknown(fp - 0x04, gs);
						}
					}
					else
					{
l080C0405:
						if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
						{
							Mem192[fp - 0x7C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_174 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem181[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_174:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
						Mem184[Mem181[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_174 + 0x01;
						Mem190[Mem184[Mem184[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem184[Mem184[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
				}
				else
					Mem333[fp - 0x20 + 0x00:word32] = 0x00;
			}
			else
			{
l080C02B3:
				Mem235[fp - 0x24 + 0x00:word32] = (int32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 0x081793C0:byte];
				Mem238[fp - 44 + 0x00:word32] = Mem235[fp - 44 + 0x00:word32] - 0x06;
				if (Mem238[fp - 44 + 0x00:word32] <= 0x00)
				{
					Mem269[fp - 0x30 + 0x00:word32] = Mem238[fp - 0x30 + 0x00:word32] | Mem238[(fp - 0x24) + 0x00:word32] >>u (byte) (-Mem238[(fp - 44) + 0x00:word32]);
					if (Mem269[fp - 0x30 + 0x00:word32] >u 55295 && Mem269[(fp - 0x30) + 0x00:word32] <=u 0xDBFF)
					{
						if (Mem269[fp - 0x28 + 0x00:word32] == 0x00)
							Mem327[fp - 0x28 + 0x00:word32] = Mem269[fp - 0x30 + 0x00:word32];
						else
							Mem328[fp - 0x28 + 0x00:word32] = 0x00;
					}
					else if (Mem269[fp - 0x30 + 0x00:word32] >u 0xDBFF && Mem269[(fp - 0x30) + 0x00:word32] <=u 0xDFFF)
					{
						if (Mem269[fp - 0x28 + 0x00:word32] != 0x00)
						{
							word32 eax_312 = Mem269[fp - 0x30 + 0x00:word32] & 0x03FF | (Mem269[(fp - 0x28) + 0x00:word32] & 0x03FF) << 0x0A;
							Mem317[fp - 116 + 0x00:word32] = fp - 100;
							Mem318[fp - 0x78 + 0x00:word32] = eax_312 + 0x00010000;
							Mem320[fp - 0x7C + 0x00:word32] = Mem318[fp - 0x10 + 0x00:word32];
							wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
						}
						Mem305[fp - 0x28 + 0x00:word32] = 0x00;
					}
					else if (Mem269[fp - 0x30 + 0x00:word32] != 0xFEFF)
					{
						word32 eax_290 = Mem269[fp - 0x30 + 0x00:word32];
						Mem292[fp - 116 + 0x00:word32] = fp - 100;
						Mem293[fp - 0x78 + 0x00:word32] = eax_290;
						Mem295[fp - 0x7C + 0x00:word32] = Mem293[fp - 0x10 + 0x00:word32];
						wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
					}
					Mem281[fp - 44 + 0x00:word32] = Mem269[fp - 44 + 0x00:word32] + 0x10;
					Mem282[fp - 0x30 + 0x00:word32] = 0x00;
				}
				Mem257[fp - 0x30 + 0x00:word32] = Mem238[fp - 0x24 + 0x00:word32] << (byte) Mem238[(fp - 44) + 0x00:word32] & 0xFFFF | Mem238[(fp - 0x30) + 0x00:word32];
				Mem258[fp - 0x20 + 0x00:word32] = 0x02;
			}
l080C0491:
			Mem148[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
	}
}

// 080C04AB: void wc_push_ucs_to_utf7(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_push_ucs_to_utf7(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 <=u 1114111)
	{
		if (dwArg08 >u 0xFFFF)
		{
			word32 eax_50 = dwArg08 - 0x00010000 >>u 0x0A;
			word32 eax_59 = dwArg08 - 0x00010000 & 0x03FF | DPB(eax_50, SLICE(eax_50, byte, 8) | 0xD8, 8) << 0x10;
			word32 eax_62 = DPB(eax_59, SLICE(eax_59, byte, 8) | 220, 8);
			wc_push_ucs_to_utf7(dwArg04, eax_62 >>u 0x10, dwArg0C);
			wc_push_ucs_to_utf7(dwArg04, (word32) (word16) eax_62, dwArg0C);
			return;
		}
		if (dwArg08 >u 0x7F)
		{
l080C07D2:
			if (Mem0[dwArg0C + 0x28:word32] == 0x02 && Mem0[dwArg0C + 0x38:word32] != 0x00)
			{
				Mem279[dwArg0C + 0x38:word32] = Mem0[dwArg0C + 0x38:word32] + 0x10;
				Mem292[dwArg0C + 0x34:word32] = Mem279[dwArg0C + 0x34:word32] | dwArg08 >>u (byte) Mem279[dwArg0C + 0x38:word32];
				if (Mem292[dwArg04 + 0x04:word32] + 0x01 >= Mem292[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_304 = Mem292[dwArg04 + 0x04:word32];
				Mem312[Mem292[dwArg04 + 0x00:word32] + eax_304:byte] = (byte) (word32) Mem292[Mem292[dwArg0C + 0x34:word32] + 0x08179440:byte];
				Mem315[dwArg04 + 0x04:word32] = eax_304 + 0x01;
				Mem321[Mem315[dwArg04 + 0x00:word32] + Mem315[dwArg04 + 0x04:word32]:byte] = 0x00;
			}
			else
			{
				if (Mem0[dwArg0C + 0x28:word32] != 0x02)
				{
					if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
						Strgrow(dwArg04);
					word32 eax_253 = Mem0[dwArg04 + 0x04:word32];
					Mem256[Mem0[dwArg04 + 0x00:word32] + eax_253:byte] = 0x2B;
					Mem259[dwArg04 + 0x04:word32] = eax_253 + 0x01;
					Mem265[Mem259[dwArg04 + 0x00:word32] + Mem259[dwArg04 + 0x04:word32]:byte] = 0x00;
					Mem267[dwArg0C + 0x28:word32] = 0x02;
				}
				Mem239[dwArg0C + 0x38:word32] = 0x10;
				Mem241[dwArg0C + 0x34:word32] = 0x00;
			}
			Mem118[dwArg0C + 0x38:word32] = Mem0[dwArg0C + 0x38:word32] - 0x06;
			if (Mem118[dwArg04 + 0x04:word32] + 0x01 >= Mem118[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_130 = Mem118[dwArg04 + 0x04:word32];
			Mem144[Mem118[dwArg04 + 0x00:word32] + eax_130:byte] = (byte) (word32) Mem118[(dwArg08 >>u (byte) Mem118[dwArg0C + 0x38:word32] & 0x3F) + 0x08179440:byte];
			Mem147[dwArg04 + 0x04:word32] = eax_130 + 0x01;
			Mem153[Mem147[dwArg04 + 0x00:word32] + Mem147[dwArg04 + 0x04:word32]:byte] = 0x00;
			Mem158[dwArg0C + 0x38:word32] = Mem153[dwArg0C + 0x38:word32] - 0x06;
			if (Mem158[dwArg04 + 0x04:word32] + 0x01 >= Mem158[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_170 = Mem158[dwArg04 + 0x04:word32];
			Mem184[Mem158[dwArg04 + 0x00:word32] + eax_170:byte] = (byte) (word32) Mem158[(dwArg08 >>u (byte) Mem158[dwArg0C + 0x38:word32] & 0x3F) + 0x08179440:byte];
			Mem187[dwArg04 + 0x04:word32] = eax_170 + 0x01;
			Mem193[Mem187[dwArg04 + 0x00:word32] + Mem187[dwArg04 + 0x04:word32]:byte] = 0x00;
			if (Mem193[dwArg0C + 0x38:word32] != 0x00)
			{
				Mem203[dwArg0C + 0x38:word32] = Mem193[dwArg0C + 0x38:word32] - 0x06;
				Mem218[dwArg0C + 0x34:word32] = dwArg08 << (byte) (-Mem203[dwArg0C + 0x38:word32]) & 0x3F;
			}
			return;
		}
		word32 eax_327 = (word32) (byte) (word32) Mem0[dwArg08 + 135762656:byte];
		if (eax_327 == 0x10)
		{
l080C0572:
			if (Mem0[dwArg0C + 0x28:word32] == 0x02)
			{
				if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_382 = Mem0[dwArg04 + 0x04:word32];
				Mem389[Mem0[dwArg04 + 0x00:word32] + eax_382:byte] = (byte) (word32) Mem0[Mem0[dwArg0C + 0x34:word32] + 0x08179440:byte];
				Mem392[dwArg04 + 0x04:word32] = eax_382 + 0x01;
				Mem398[Mem392[dwArg04 + 0x00:word32] + Mem392[dwArg04 + 0x04:word32]:byte] = 0x00;
				if (Mem398[dwArg04 + 0x04:word32] + 0x01 >= Mem398[dwArg04 + 0x08:word32])
					Strgrow(dwArg04);
				word32 eax_410 = Mem398[dwArg04 + 0x04:word32];
				Mem413[Mem398[dwArg04 + 0x00:word32] + eax_410:byte] = 0x2D;
				Mem416[dwArg04 + 0x04:word32] = eax_410 + 0x01;
				Mem422[Mem416[dwArg04 + 0x00:word32] + Mem416[dwArg04 + 0x04:word32]:byte] = 0x00;
				Mem424[dwArg0C + 0x28:word32] = 0x00;
			}
			if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_353 = Mem0[dwArg04 + 0x04:word32];
			Mem359[Mem0[dwArg04 + 0x00:word32] + eax_353:byte] = (byte) dwArg08;
			Mem362[dwArg04 + 0x04:word32] = eax_353 + 0x01;
			Mem368[Mem362[dwArg04 + 0x00:word32] + Mem362[dwArg04 + 0x04:word32]:byte] = 0x00;
			return;
		}
		if (eax_327 <= 0x10)
		{
			if (eax_327 != 0x00 && eax_327 != 0x04)
				goto l080C07D2;
			goto l080C0572;
		}
		if (eax_327 != 0x20)
		{
			if (eax_327 == 0x40)
				goto l080C0572;
			goto l080C07D2;
		}
		if (Mem0[dwArg0C + 0x28:word32] == 0x02)
		{
			if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_510 = Mem0[dwArg04 + 0x04:word32];
			Mem517[Mem0[dwArg04 + 0x00:word32] + eax_510:byte] = (byte) (word32) Mem0[Mem0[dwArg0C + 0x34:word32] + 0x08179440:byte];
			Mem520[dwArg04 + 0x04:word32] = eax_510 + 0x01;
			Mem526[Mem520[dwArg04 + 0x00:word32] + Mem520[dwArg04 + 0x04:word32]:byte] = 0x00;
			if (Mem526[dwArg04 + 0x04:word32] + 0x01 >= Mem526[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_538 = Mem526[dwArg04 + 0x04:word32];
			Mem541[Mem526[dwArg04 + 0x00:word32] + eax_538:byte] = 0x2D;
			Mem544[dwArg04 + 0x04:word32] = eax_538 + 0x01;
			Mem550[Mem544[dwArg04 + 0x00:word32] + Mem544[dwArg04 + 0x04:word32]:byte] = 0x00;
			Mem552[dwArg0C + 0x28:word32] = 0x00;
		}
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_458 = Mem0[dwArg04 + 0x04:word32];
		Mem461[Mem0[dwArg04 + 0x00:word32] + eax_458:byte] = 0x2B;
		Mem464[dwArg04 + 0x04:word32] = eax_458 + 0x01;
		Mem470[Mem464[dwArg04 + 0x00:word32] + Mem464[dwArg04 + 0x04:word32]:byte] = 0x00;
		if (Mem470[dwArg04 + 0x04:word32] + 0x01 >= Mem470[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_482 = Mem470[dwArg04 + 0x04:word32];
		Mem485[Mem470[dwArg04 + 0x00:word32] + eax_482:byte] = 0x2D;
		Mem488[dwArg04 + 0x04:word32] = eax_482 + 0x01;
		Mem494[Mem488[dwArg04 + 0x00:word32] + Mem488[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080C0A16: Register word32 wc_push_tag_to_utf7(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 wc_push_tag_to_utf7(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 != 0x00)
	{
		word32 eax_78 = wc_ucs_get_tag(dwArg08);
		dwLoc10 = eax_78;
	}
	if (0x00 != 0x00)
	{
		wc_push_ucs_to_utf7(dwArg04, 0x000E0001, dwArg0C);
		while ((byte) (word32) Mem0[dwLoc10 + 0x00:byte] != 0x00)
		{
			wc_push_ucs_to_utf7(dwArg04, (int32) (byte) (word32) Mem0[dwLoc10 + 0x00:byte] | 0x000E0000, dwArg0C);
			dwLoc10 = dwLoc10 + 0x01;
		}
	}
	else
		wc_push_ucs_to_utf7(dwArg04, 0x000E007F, dwArg0C);
	return 0x00;
}

// 080C0AB2: void wc_push_to_utf7(Register word32 ebp)
void wc_push_to_utf7(word32 ebp)
{
	while (true)
	{
l080C0AB8:
		word32 eax_17 = Mem0[fp + 0x08:word32];
		if ((eax_17 & 0xFFFF) != 0x2000)
			break;
		if (Mem0[fp + 0x0C:word32] <=u 1114111)
			goto l080C0B36;
		word32 eax_253;
		if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
			eax_253 = 0xC000;
		else
			eax_253 = 0x4000;
		Mem255[fp + 0x08:word32] = eax_253;
	}
	if ((eax_17 & 0xFFFF) <=u 0x2000)
	{
		if ((eax_17 & 0xFFFF) != 577)
		{
			if ((eax_17 & 0xFFFF) != 0x1000 && (eax_17 & 0xFFFF) != 322)
				goto l080C0D17;
l080C0B36:
			if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
			{
				Mem52[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
				Mem53[fp - 0x28 + 0x00:word32] = 0x00;
				Mem55[fp - 44 + 0x00:word32] = Mem53[fp + 0x04:word32];
				Mem58[Mem55[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf7(dwArg00, dwArg04, dwArg08);
			}
			word32 eax_41 = Mem0[fp + 0x0C:word32];
			Mem43[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
			Mem44[fp - 0x28 + 0x00:word32] = eax_41;
			Mem46[fp - 44 + 0x00:word32] = Mem44[fp + 0x04:word32];
			wc_push_ucs_to_utf7(dwArg00, dwArg04, dwArg08);
		}
		else
		{
			if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
			{
				Mem115[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
				Mem116[fp - 0x28 + 0x00:word32] = 0x00;
				Mem118[fp - 44 + 0x00:word32] = Mem116[fp + 0x04:word32];
				Mem121[Mem118[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf7(dwArg00, dwArg04, dwArg08);
			}
			word32 eax_102 = Mem0[fp + 0x0C:word32];
			Mem110[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
			Mem111[fp - 0x28 + 0x00:word32] = DPB(eax_102, (byte) eax_102 | 0x80, 0);
			Mem113[fp - 44 + 0x00:word32] = Mem111[fp + 0x04:word32];
			wc_push_ucs_to_utf7(dwArg00, dwArg04, dwArg08);
		}
	}
	else if ((eax_17 & 0xFFFF) != 0x4000)
	{
		if ((eax_17 & 0xFFFF) != 0xC000)
		{
			if ((eax_17 & 0xFFFF) != 0x2001)
			{
l080C0D17:
				if ((byte) (word32) Mem0[135119011:byte] != 0x00)
				{
					word32 edx_82 = Mem0[fp + 0x0C:word32];
					Mem83[fp - 44 + 0x00:word32] = Mem0[fp + 0x08:word32];
					Mem84[fp - 0x28 + 0x00:word32] = edx_82;
					Mem86[fp + 0x0C:word32] = wc_any_to_ucs(dwArg00, dwArg04);
					if (Mem86[fp + 0x0C:word32] != ~0x00)
					{
						Mem90[fp + 0x08:word32] = 0x1000;
						goto l080C0AB8;
					}
				}
				word32 eax_74;
				if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
					eax_74 = 0xC000;
				else
					eax_74 = 0x4000;
				Mem76[fp + 0x08:word32] = eax_74;
				goto l080C0AB8;
			}
			if ((byte) (word32) Mem0[135119010:byte] != 0x00 && Mem0[fp + 0x0C:word32] >>u 0x18 != Mem0[Mem0[fp + 0x10:word32] + 0x30:word32])
			{
				word32 eax_152 = Mem0[fp + 0x0C:word32];
				Mem156[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
				Mem157[fp - 0x28 + 0x00:word32] = eax_152 >>u 0x18;
				Mem159[fp - 44 + 0x00:word32] = Mem157[fp + 0x04:word32];
				Mem162[Mem159[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf7(dwArg00, dwArg04, dwArg08);
			}
			word32 eax_135 = Mem0[fp + 0x0C:word32];
			Mem141[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
			Mem142[fp - 0x28 + 0x00:word32] = eax_135 & 0x001FFFFF;
			Mem144[fp - 44 + 0x00:word32] = Mem142[fp + 0x04:word32];
			wc_push_ucs_to_utf7(dwArg00, dwArg04, dwArg08);
		}
		else if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
		{
			if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
			{
				Mem197[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
				Mem198[fp - 0x28 + 0x00:word32] = 0x00;
				Mem200[fp - 44 + 0x00:word32] = Mem198[fp + 0x04:word32];
				Mem203[Mem200[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf7(dwArg00, dwArg04, dwArg08);
			}
			Mem175[fp - 0x10 + 0x00:word32] = Mem0[0x080DB994:word32];
			while ((byte) (word32) Mem175[Mem175[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
			{
				word32 eax_187 = (int32) (byte) (word32) Mem175[Mem175[fp - 0x10 + 0x00:word32] + 0x00:byte];
				Mem189[fp - 0x24 + 0x00:word32] = Mem175[fp + 0x10:word32];
				Mem190[fp - 0x28 + 0x00:word32] = eax_187;
				Mem192[fp - 44 + 0x00:word32] = Mem190[fp + 0x04:word32];
				wc_push_ucs_to_utf7(dwArg00, dwArg04, dwArg08);
				Mem194[fp - 0x10 + 0x00:word32] = Mem192[fp - 0x10 + 0x00:word32] + 0x01;
			}
		}
	}
	else if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
	{
		if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
		{
			Mem238[fp - 0x24 + 0x00:word32] = Mem0[fp + 0x10:word32];
			Mem239[fp - 0x28 + 0x00:word32] = 0x00;
			Mem241[fp - 44 + 0x00:word32] = Mem239[fp + 0x04:word32];
			Mem244[Mem241[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf7(dwArg00, dwArg04, dwArg08);
		}
		Mem216[fp - 0x10 + 0x00:word32] = Mem0[0x080DB990:word32];
		while ((byte) (word32) Mem216[Mem216[fp - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
		{
			word32 eax_228 = (int32) (byte) (word32) Mem216[Mem216[fp - 0x10 + 0x00:word32] + 0x00:byte];
			Mem230[fp - 0x24 + 0x00:word32] = Mem216[fp + 0x10:word32];
			Mem231[fp - 0x28 + 0x00:word32] = eax_228;
			Mem233[fp - 44 + 0x00:word32] = Mem231[fp + 0x04:word32];
			wc_push_ucs_to_utf7(dwArg00, dwArg04, dwArg08);
			Mem235[fp - 0x10 + 0x00:word32] = Mem233[fp - 0x10 + 0x00:word32] + 0x01;
		}
	}
}

// 080C0D72: void wc_push_to_utf7_end(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_push_to_utf7_end(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x30:word32] != 0x00)
		Mem115[dwArg08 + 0x30:word32] = wc_push_tag_to_utf7(dwArg04, 0x00, dwArg08);
	if (Mem0[dwArg08 + 0x28:word32] == 0x02)
	{
		if (Mem0[dwArg08 + 0x38:word32] != 0x00)
		{
			if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
				Strgrow(dwArg04);
			word32 eax_88 = Mem0[dwArg04 + 0x04:word32];
			Mem96[Mem0[dwArg04 + 0x00:word32] + eax_88:byte] = (byte) (word32) Mem0[Mem0[dwArg08 + 0x34:word32] + 0x08179440:byte];
			Mem99[dwArg04 + 0x04:word32] = eax_88 + 0x01;
			Mem105[Mem99[dwArg04 + 0x00:word32] + Mem99[dwArg04 + 0x04:word32]:byte] = 0x00;
		}
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_62 = Mem0[dwArg04 + 0x04:word32];
		Mem65[Mem0[dwArg04 + 0x00:word32] + eax_62:byte] = 0x2D;
		Mem68[dwArg04 + 0x04:word32] = eax_62 + 0x01;
		Mem74[Mem68[dwArg04 + 0x00:word32] + Mem68[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080C0E5E: void wc_char_conv_from_utf7(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_utf7(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_15 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem302[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem305[0x08180428:word32] = dwArg08;
	}
	word32 eax_28 = Mem0[dwArg08 + 0x28:word32];
	if (eax_28 != 0x01)
	{
		if (eax_28 != 0x02)
		{
			if (eax_28 == 0x00 && al_15 == 0x2B)
			{
				Mem284[dwArg08 + 0x28:word32] = 0x01;
				Mem286[dwArg08 + 0x38:word32] = 0x10;
				Mem288[dwArg08 + 0x34:word32] = 0x00;
				Mem289[0x0818042C:word32] = 0x00;
				return;
			}
			goto l080C10CF;
		}
	}
	else if (al_15 == 0x2D)
	{
		wtf_push_ucs(gs, Mem0[0x08180428:word32], 0x2B, dwArg08);
		Mem299[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
		return;
	}
	word32 eax_126 = (word32) (byte) (word32) Mem0[(word32) al_15 + 135762656:byte];
	if (eax_126 != 0x20)
	{
		if (eax_126 == 0x40)
		{
			Mem274[dwArg08 + 0x28:word32] = ~0x00;
			return;
		}
		if (eax_126 != 0x10)
		{
l080C10CF:
			word32 eax_59 = (word32) (byte) (word32) Mem0[(word32) al_15 + 135762656:byte];
			if (eax_59 != 0x06)
			{
				if (eax_59 == 0x08)
					goto l080C1165;
				if (eax_59 != 0x04)
				{
					wtf_push_ucs(gs, Mem0[0x08180428:word32], (word32) al_15, dwArg08);
					goto l080C1165;
				}
			}
			if (Mem0[Mem0[0x08180428:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x08180428:word32] + 0x08:word32])
				Strgrow(Mem0[0x08180428:word32]);
			word32 eax_89 = Mem0[0x08180428:word32];
			word32 edx_90 = Mem0[eax_89 + 0x04:word32];
			Mem95[Mem0[Mem0[0x08180428:word32] + 0x00:word32] + edx_90:byte] = (byte) (word32) al_15;
			Mem98[eax_89 + 0x04:word32] = edx_90 + 0x01;
			Mem104[Mem98[Mem98[0x08180428:word32] + 0x00:word32] + Mem98[Mem98[0x08180428:word32] + 0x04:word32]:byte] = 0x00;
l080C1165:
			Mem74[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
			return;
		}
	}
	word32 eax_136 = (int32) (byte) (word32) Mem0[(word32) al_15 + 0x081793C0:byte];
	Mem142[dwArg08 + 0x38:word32] = Mem0[dwArg08 + 0x38:word32] - 0x06;
	if (Mem142[dwArg08 + 0x38:word32] <= 0x00)
	{
		Mem185[dwArg08 + 0x34:word32] = Mem142[dwArg08 + 0x34:word32] | eax_136 >>u (byte) (-Mem142[dwArg08 + 0x38:word32]);
		if (Mem185[dwArg08 + 0x34:word32] >u 55295 && Mem185[dwArg08 + 0x34:word32] <=u 0xDBFF)
		{
			if (Mem185[0x0818042C:word32] == 0x00)
				Mem265[0x0818042C:word32] = Mem185[dwArg08 + 0x34:word32];
			else
				Mem266[0x0818042C:word32] = 0x00;
		}
		else if (Mem185[dwArg08 + 0x34:word32] >u 0xDBFF && Mem185[dwArg08 + 0x34:word32] <=u 0xDFFF)
		{
			if (Mem185[0x0818042C:word32] != 0x00)
				wtf_push_ucs(gs, Mem185[0x08180428:word32], (Mem185[dwArg08 + 0x34:word32] & 0x03FF | (Mem185[0x0818042C:word32] & 0x03FF) << 0x0A) + 0x00010000, dwArg08);
			Mem238[0x0818042C:word32] = 0x00;
		}
		else if (Mem185[dwArg08 + 0x34:word32] != 0xFEFF)
			wtf_push_ucs(gs, Mem185[0x08180428:word32], Mem185[dwArg08 + 0x34:word32], dwArg08);
		Mem203[Mem185[fp + 0x08:word32] + 0x38:word32] = Mem185[Mem185[fp + 0x08:word32] + 0x38:word32] + 0x10;
		Mem205[Mem203[fp + 0x08:word32] + 0x34:word32] = 0x00;
	}
	Mem168[Mem142[fp + 0x08:word32] + 0x34:word32] = Mem142[Mem142[fp + 0x08:word32] + 0x34:word32] | Mem142[(fp - 0x10) + 0x00:word32] << (byte) Mem142[Mem142[fp + 0x08:word32] + 0x38:word32] & 0xFFFF;
	Mem170[Mem168[fp + 0x08:word32] + 0x28:word32] = 0x02;
}

// 080C117C: void wc_ucs_to_utf8(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_ucs_to_utf8(word32 dwArg04, word32 dwArg08)
{
	if (dwArg04 <=u 0x7F)
	{
		Mem25[dwArg08 + 0x00:byte] = (byte) dwArg04;
		Mem29[dwArg08 + 0x01:byte] = 0x00;
	}
	else if (dwArg04 <=u 0x07FF)
	{
		Mem43[dwArg08 + 0x00:byte] = (byte) (dwArg04 >>u 0x06 | ~0x3F);
		Mem50[dwArg08 + 0x01:byte] = (byte) (dwArg04 & 0x3F | ~0x7F);
		Mem54[dwArg08 + 0x02:byte] = 0x00;
	}
	else if (dwArg04 <=u 0xFFFF)
	{
		Mem64[dwArg08 + 0x00:byte] = (byte) (dwArg04 >>u 0x0C | ~0x1F);
		Mem72[dwArg08 + 0x01:byte] = (byte) (dwArg04 >>u 0x06 & 0x3F | ~0x7F);
		Mem79[dwArg08 + 0x02:byte] = (byte) (dwArg04 & 0x3F | ~0x7F);
		Mem83[dwArg08 + 0x03:byte] = 0x00;
	}
	else if (dwArg04 <=u 0x001FFFFF)
	{
		Mem93[dwArg08 + 0x00:byte] = (byte) (dwArg04 >>u 0x12 | ~0x0F);
		Mem101[dwArg08 + 0x01:byte] = (byte) (dwArg04 >>u 0x0C & 0x3F | ~0x7F);
		Mem109[dwArg08 + 0x02:byte] = (byte) (dwArg04 >>u 0x06 & 0x3F | ~0x7F);
		Mem116[dwArg08 + 0x03:byte] = (byte) (dwArg04 & 0x3F | ~0x7F);
		Mem120[dwArg08 + 0x04:byte] = 0x00;
	}
	else if (dwArg04 <=u 0x03FFFFFF)
	{
		Mem130[dwArg08 + 0x00:byte] = (byte) (dwArg04 >>u 0x18 | ~0x07);
		Mem138[dwArg08 + 0x01:byte] = (byte) (dwArg04 >>u 0x12 & 0x3F | ~0x7F);
		Mem146[dwArg08 + 0x02:byte] = (byte) (dwArg04 >>u 0x0C & 0x3F | ~0x7F);
		Mem154[dwArg08 + 0x03:byte] = (byte) (dwArg04 >>u 0x06 & 0x3F | ~0x7F);
		Mem161[dwArg08 + 0x04:byte] = (byte) (dwArg04 & 0x3F | ~0x7F);
		Mem165[dwArg08 + 0x05:byte] = 0x00;
	}
	else if (dwArg04 >= 0x00)
	{
		Mem177[dwArg08 + 0x00:byte] = (byte) (dwArg04 >>u 0x1E | ~0x03);
		Mem185[dwArg08 + 0x01:byte] = (byte) (dwArg04 >>u 0x18 & 0x3F | ~0x7F);
		Mem193[dwArg08 + 0x02:byte] = (byte) (dwArg04 >>u 0x12 & 0x3F | ~0x7F);
		Mem201[dwArg08 + 0x03:byte] = (byte) (dwArg04 >>u 0x0C & 0x3F | ~0x7F);
		Mem209[dwArg08 + 0x04:byte] = (byte) (dwArg04 >>u 0x06 & 0x3F | ~0x7F);
		Mem216[dwArg08 + 0x05:byte] = (byte) (dwArg04 & 0x3F | ~0x7F);
		Mem220[dwArg08 + 0x06:byte] = 0x00;
	}
	else
		Mem223[dwArg08 + 0x00:byte] = 0x00;
}

// 080C13A7: Register word32 wc_utf8_to_ucs(Stack word32 dwArg04, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 wc_utf8_to_ucs(word32 dwArg04, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 eax_15 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081794A0:byte];
	if (eax_15 >u 0x06)
	{
		word32 ebp_41;
		*ebpOut = ebp;
		word32 esp_42;
		*espOut = fp;
		return ~0x00;
	}
	else
	{
		word32 eax_28 = 0x080D28F0[eax_15 * 0x04];
		word32 esp_31;
		word32 ebp_32;
		byte SCZO_33;
		word32 eax_34;
		byte al_35;
		byte CZ_36;
		bcuiposr0 None_37;
		eax_28();
		return eax_34;
	}
}

// 080C15E5: void wc_conv_from_utf8(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_utf8(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 ebp_109 = fp - 0x04;
	word32 esp_110 = fp - 0x7C;
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_21 = eax_10;
	while (dwLoc1C_21 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_21 + 0x00:byte]) >= 0x00)
		dwLoc1C_21 = dwLoc1C_21 + 0x01;
	if (dwLoc1C_21 != eax_14)
	{
		word32 ecx_83 = 0x55555556 - (Mem0[dwArg04 + 0x04:word32] * 0x04 >> 0x1F);
		Strnew_size(ecx_83, ecx_83);
		if (dwLoc1C_21 >u eax_10)
			Strcat_charp_n(ecx_83, Mem0[dwArg04 + 0x00:word32], dwLoc1C_21 - eax_10);
		while (Mem0[ebp_109 - 0x18 + 0x00:word32] <u Mem0[(ebp_109 - 0x14) + 0x00:word32])
		{
			word32 eax_133 = Mem0[ebp_109 - 0x20 + 0x00:word32];
			if (eax_133 != 0x00)
			{
				if (eax_133 == 0x01)
				{
					if ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[ebp_109 - 0x18 + 0x00:word32] + 0x00:byte] + 0x081794A0:byte] != 0x00)
					{
						Mem173[esp_110 + 0x08:word32] = Mem0[ebp_109 - 0x18 + 0x00:word32] - Mem0[(ebp_109 - 0x1C) + 0x00:word32] + 0x01;
						Mem175[esp_110 + 0x04:word32] = Mem173[ebp_109 - 0x1C + 0x00:word32];
						Mem177[esp_110 + 0x00:word32] = Mem175[ebp_109 - 0x0C + 0x00:word32];
						wtf_push_unknown(ebp_109, gs);
						Mem178[ebp_109 - 0x20 + 0x00:word32] = 0x00;
					}
					else
					{
						Mem180[ebp_109 - 0x24 + 0x00:word32] = Mem0[ebp_109 - 0x24 + 0x00:word32] - 0x01;
						if (Mem180[ebp_109 - 0x24 + 0x00:word32] == 0x00)
						{
							Mem183[ebp_109 - 0x20 + 0x00:word32] = 0x00;
							Mem185[esp_110 + 0x00:word32] = Mem183[ebp_109 - 0x1C + 0x00:word32];
							word32 eax_189 = wc_utf8_to_ucs(dwArg00, out esp_110, out ebp_109);
							Mem190[ebp_109 - 0x28 + 0x00:word32] = eax_189;
							if (Mem190[ebp_109 - 0x28 + 0x00:word32] != ~0x00 && (Mem190[(ebp_109 - 0x28) + 0x00:word32] <=u 55295 || Mem190[(ebp_109 - 0x28) + 0x00:word32] >u 0xDFFF))
							{
								if (Mem190[ebp_109 - 0x28 + 0x00:word32] != 0xFEFF)
								{
									Mem212[esp_110 + 0x08:word32] = ebp_109 - 100;
									Mem214[esp_110 + 0x04:word32] = Mem212[ebp_109 - 0x28 + 0x00:word32];
									Mem216[esp_110 + 0x00:word32] = Mem214[ebp_109 - 0x0C + 0x00:word32];
									wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
								}
							}
							else
							{
								Mem201[esp_110 + 0x08:word32] = Mem190[ebp_109 - 0x18 + 0x00:word32] - Mem190[(ebp_109 - 0x1C) + 0x00:word32] + 0x01;
								Mem203[esp_110 + 0x04:word32] = Mem201[ebp_109 - 0x1C + 0x00:word32];
								Mem205[esp_110 + 0x00:word32] = Mem203[ebp_109 - 0x0C + 0x00:word32];
								wtf_push_unknown(ebp_109, gs);
							}
						}
					}
				}
				goto l080C1868;
			}
			Mem227[ebp_109 - 0x24 + 0x00:word32] = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[ebp_109 - 0x18 + 0x00:word32] + 0x00:byte] + 0x081794A0:byte];
			word32 eax_228 = Mem227[ebp_109 - 0x24 + 0x00:word32];
			if (eax_228 != 0x01)
			{
				if (eax_228 >=u 0x01 && eax_228 != 0x07)
				{
					if (eax_228 != 0x08)
					{
						Mem256[ebp_109 - 0x1C + 0x00:word32] = Mem227[ebp_109 - 0x18 + 0x00:word32];
						Mem258[ebp_109 - 0x24 + 0x00:word32] = Mem256[ebp_109 - 0x24 + 0x00:word32] - 0x01;
						Mem260[ebp_109 - 0x20 + 0x00:word32] = 0x01;
						goto l080C1868;
					}
					if (Mem227[Mem227[ebp_109 - 0x0C + 0x00:word32] + 0x04:word32] + 0x01 >= Mem227[Mem227[(ebp_109 - 0x0C) + 0x00:word32] + 0x08:word32])
					{
						Mem289[esp_110 + 0x00:word32] = Mem227[ebp_109 - 0x0C + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_271 = Mem227[Mem227[ebp_109 - 0x0C + 0x00:word32] + 0x04:word32];
					Mem278[Mem227[Mem227[ebp_109 - 0x0C + 0x00:word32] + 0x00:word32] + eax_271:byte] = (byte) (word32) Mem227[Mem227[ebp_109 - 0x18 + 0x00:word32] + 0x00:byte];
					Mem281[Mem278[ebp_109 - 0x0C + 0x00:word32] + 0x04:word32] = eax_271 + 0x01;
					Mem287[Mem281[Mem281[ebp_109 - 0x0C + 0x00:word32] + 0x00:word32] + Mem281[Mem281[(ebp_109 - 0x0C) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
				}
				else
				{
					Mem246[esp_110 + 0x08:word32] = 0x01;
					Mem248[esp_110 + 0x04:word32] = Mem246[ebp_109 - 0x18 + 0x00:word32];
					Mem250[esp_110 + 0x00:word32] = Mem248[ebp_109 - 0x0C + 0x00:word32];
					wtf_push_unknown(ebp_109, gs);
				}
			}
			else
			{
				word32 eax_293 = (word32) (byte) (word32) Mem227[Mem227[ebp_109 - 0x18 + 0x00:word32] + 0x00:byte];
				Mem295[esp_110 + 0x08:word32] = ebp_109 - 100;
				Mem296[esp_110 + 0x04:word32] = eax_293;
				Mem298[esp_110 + 0x00:word32] = Mem296[ebp_109 - 0x0C + 0x00:word32];
				wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
			}
l080C1868:
			Mem153[ebp_109 - 0x18 + 0x00:word32] = Mem0[ebp_109 - 0x18 + 0x00:word32] + 0x01;
		}
		if (Mem0[ebp_109 - 0x20 + 0x00:word32] == 0x01)
		{
			Mem127[esp_110 + 0x08:word32] = Mem0[ebp_109 - 0x18 + 0x00:word32] - Mem0[(ebp_109 - 0x1C) + 0x00:word32];
			Mem129[esp_110 + 0x04:word32] = Mem127[ebp_109 - 0x1C + 0x00:word32];
			Mem131[esp_110 + 0x00:word32] = Mem129[ebp_109 - 0x0C + 0x00:word32];
			wtf_push_unknown(ebp_109, gs);
		}
	}
}

// 080C18A7: Register word32 wc_push_tag_to_utf8(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_push_tag_to_utf8(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 != 0x00)
	{
		word32 eax_75 = wc_ucs_get_tag(dwArg08);
		dwLoc10 = eax_75;
	}
	if (0x00 != 0x00)
	{
		wc_ucs_to_utf8(0x000E0001, 0x08180430);
		Strcat_charp(dwArg04, 0x08180430);
		while ((byte) (word32) Mem0[dwLoc10 + 0x00:byte] != 0x00)
		{
			wc_ucs_to_utf8((int32) (byte) (word32) Mem0[dwLoc10 + 0x00:byte] | 0x000E0000, 0x08180430);
			Strcat_charp(dwArg04, 0x08180430);
			dwLoc10 = dwLoc10 + 0x01;
		}
	}
	else
	{
		wc_ucs_to_utf8(0x000E007F, 0x08180430);
		Strcat_charp(dwArg04, 0x08180430);
	}
	return 0x00;
}

// 080C196D: void wc_push_to_utf8(Register word32 ebp)
void wc_push_to_utf8(word32 ebp)
{
	while (true)
	{
		word32 eax_17 = Mem0[fp + 0x08:word32];
		if ((eax_17 & 0xFFFF) == 0x2000)
			break;
		if ((eax_17 & 0xFFFF) <=u 0x2000)
		{
			if ((eax_17 & 0xFFFF) == 577)
			{
				if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
				{
					Mem159[fp - 0x18 + 0x00:word32] = 0x00;
					Mem161[fp - 0x1C + 0x00:word32] = Mem159[fp + 0x04:word32];
					Mem164[Mem161[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf8(dwArg00, dwArg04);
				}
				word32 eax_147 = Mem0[fp + 0x0C:word32];
				Mem153[fp - 0x18 + 0x00:word32] = 0x08180430;
				Mem154[fp - 0x1C + 0x00:word32] = DPB(eax_147, (byte) eax_147 | 0x80, 0);
				wc_ucs_to_utf8(dwArg00, dwArg04);
				Mem156[fp - 0x18 + 0x00:word32] = 0x08180430;
				Mem158[fp - 0x1C + 0x00:word32] = Mem156[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
				return;
			}
			if ((eax_17 & 0xFFFF) == 0x1000)
				break;
			if ((eax_17 & 0xFFFF) == 322)
			{
				if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
				{
					Mem135[fp - 0x18 + 0x00:word32] = 0x00;
					Mem137[fp - 0x1C + 0x00:word32] = Mem135[fp + 0x04:word32];
					Mem140[Mem137[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf8(dwArg00, dwArg04);
				}
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem134[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_115 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem123[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_115:byte] = (byte) (Mem0[fp + 0x0C:word32] & 0x7F);
				Mem126[Mem123[fp + 0x04:word32] + 0x04:word32] = eax_115 + 0x01;
				Mem132[Mem126[Mem126[fp + 0x04:word32] + 0x00:word32] + Mem126[Mem126[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
		}
		else
		{
			if ((eax_17 & 0xFFFF) == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
					{
						Mem241[fp - 0x18 + 0x00:word32] = 0x00;
						Mem243[fp - 0x1C + 0x00:word32] = Mem241[fp + 0x04:word32];
						Mem246[Mem243[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf8(dwArg00, dwArg04);
					}
					Mem238[fp - 0x18 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem240[fp - 0x1C + 0x00:word32] = Mem238[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if ((eax_17 & 0xFFFF) == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
					{
						Mem220[fp - 0x18 + 0x00:word32] = 0x00;
						Mem222[fp - 0x1C + 0x00:word32] = Mem220[fp + 0x04:word32];
						Mem225[Mem222[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf8(dwArg00, dwArg04);
					}
					Mem217[fp - 0x18 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem219[fp - 0x1C + 0x00:word32] = Mem217[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if ((eax_17 & 0xFFFF) == 0x2001)
			{
				if ((byte) (word32) Mem0[135119010:byte] != 0x00 && Mem0[fp + 0x0C:word32] >>u 0x18 != Mem0[Mem0[fp + 0x10:word32] + 0x30:word32])
				{
					Mem199[fp - 0x18 + 0x00:word32] = Mem0[fp + 0x0C:word32] >>u 0x18;
					Mem201[fp - 0x1C + 0x00:word32] = Mem199[fp + 0x04:word32];
					Mem204[Mem201[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf8(dwArg00, dwArg04);
				}
				word32 eax_179 = Mem0[fp + 0x0C:word32];
				Mem183[fp - 0x18 + 0x00:word32] = 0x08180430;
				Mem184[fp - 0x1C + 0x00:word32] = eax_179 & 0x001FFFFF;
				wc_ucs_to_utf8(dwArg00, dwArg04);
				Mem186[fp - 0x18 + 0x00:word32] = 0x08180430;
				Mem188[fp - 0x1C + 0x00:word32] = Mem186[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
				return;
			}
		}
		if ((byte) (word32) Mem0[135119011:byte] == 0x00)
		{
l080C1C1E:
			word32 eax_77;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_77 = 0xC000;
			else
				eax_77 = 0x4000;
			Mem79[fp + 0x08:word32] = eax_77;
			continue;
		}
		word32 edx_85 = Mem0[fp + 0x0C:word32];
		Mem86[fp - 0x1C + 0x00:word32] = Mem0[fp + 0x08:word32];
		Mem87[fp - 0x18 + 0x00:word32] = edx_85;
		Mem89[fp + 0x0C:word32] = wc_any_to_ucs(dwArg00, dwArg04);
		if (Mem89[fp + 0x0C:word32] == ~0x00)
			goto l080C1C1E;
		Mem93[fp + 0x08:word32] = 0x1000;
	}
	if (Mem0[Mem0[fp + 0x10:word32] + 0x30:word32] != 0x00)
	{
		Mem56[fp - 0x18 + 0x00:word32] = 0x00;
		Mem58[fp - 0x1C + 0x00:word32] = Mem56[fp + 0x04:word32];
		Mem61[Mem58[fp + 0x10:word32] + 0x30:word32] = wc_push_tag_to_utf8(dwArg00, dwArg04);
	}
	word32 eax_44 = Mem0[fp + 0x0C:word32];
	Mem45[fp - 0x18 + 0x00:word32] = 0x08180430;
	Mem46[fp - 0x1C + 0x00:word32] = eax_44;
	wc_ucs_to_utf8(dwArg00, dwArg04);
	Mem50[fp - 0x18 + 0x00:word32] = 0x08180430;
	Mem52[fp - 0x1C + 0x00:word32] = Mem50[fp + 0x04:word32];
	Strcat_charp(dwArg00, dwArg04);
}

// 080C1C44: void wc_push_to_utf8_end(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_push_to_utf8_end(word32 dwArg04, word32 dwArg08)
{
	if (Mem0[dwArg08 + 0x30:word32] != 0x00)
		Mem30[dwArg08 + 0x30:word32] = wc_push_tag_to_utf8(dwArg04, 0x00);
}

// 080C1C6F: void wc_char_conv_from_utf8(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_utf8(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 ebp_102 = fp - 0x04;
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem199[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem202[0x08180438:word32] = dwArg08;
		Mem204[dwArg08 + 44:word32] = 0x00;
		Mem206[dwArg08 + 0x30:word32] = 0x00;
		Mem207[0x0818043C:word32] = 0x00;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 != 0x00)
	{
		if (eax_25 != 0x01 || (byte) ((word32) Mem0[(word32) al_12 + 0x081794A0:byte]) != 0x00)
			goto l080C1E5D;
		word32 eax_86 = Mem0[0x0818043C:word32];
		Mem89[eax_86 + 0x08180444:byte] = (byte) (word32) al_12;
		Mem91[0x0818043C:word32] = eax_86 + 0x01;
		Mem94[0x08180440:word32] = Mem91[0x08180440:word32] - 0x01;
		if (Mem94[0x08180440:word32] != 0x00)
			return;
		word32 esp_101;
		word32 eax_103 = wc_utf8_to_ucs(0x08180444, out esp_101, out ebp_102);
		Mem104[ebp_102 - 0x0C + 0x00:word32] = eax_103;
		if (Mem104[ebp_102 - 0x0C + 0x00:word32] != ~0x00 && (Mem104[(ebp_102 - 0x0C) + 0x00:word32] <=u 55295 || Mem104[(ebp_102 - 0x0C) + 0x00:word32] >u 0xDFFF) && Mem104[(ebp_102 - 0x0C) + 0x00:word32] != 0xFEFF)
		{
			word32 eax_112 = Mem104[0x08180438:word32];
			Mem114[esp_101 + 0x08:word32] = Mem104[ebp_102 + 0x0C:word32];
			Mem116[esp_101 + 0x04:word32] = Mem114[ebp_102 - 0x0C + 0x00:word32];
			Mem117[esp_101 + 0x00:word32] = eax_112;
			wtf_push_ucs(gs, dwArg00, dwArg04, dwArg08);
		}
	}
	else
	{
		Mem126[0x08180440:word32] = (word32) (byte) (word32) Mem0[(word32) al_12 + 0x081794A0:byte];
		word32 eax_127 = Mem126[0x08180440:word32];
		if (eax_127 != 0x01)
		{
			if (eax_127 >=u 0x01 && eax_127 != 0x07)
			{
				if (eax_127 != 0x08)
				{
					word32 eax_151 = Mem126[0x0818043C:word32];
					Mem154[eax_151 + 0x08180444:byte] = (byte) (word32) al_12;
					Mem156[0x0818043C:word32] = eax_151 + 0x01;
					Mem160[0x08180440:word32] = Mem156[0x08180440:word32] - 0x01;
					Mem162[dwArg08 + 0x28:word32] = 0x01;
					return;
				}
				if (Mem126[Mem126[0x08180438:word32] + 0x04:word32] + 0x01 >= Mem126[Mem126[0x08180438:word32] + 0x08:word32])
					Strgrow(Mem126[0x08180438:word32]);
				word32 eax_174 = Mem126[0x08180438:word32];
				word32 edx_175 = Mem126[eax_174 + 0x04:word32];
				Mem180[Mem126[Mem126[0x08180438:word32] + 0x00:word32] + edx_175:byte] = (byte) (word32) al_12;
				Mem183[eax_174 + 0x04:word32] = edx_175 + 0x01;
				Mem189[Mem183[Mem183[0x08180438:word32] + 0x00:word32] + Mem183[Mem183[0x08180438:word32] + 0x04:word32]:byte] = 0x00;
			}
		}
		else
			wtf_push_ucs(gs, Mem126[0x08180438:word32], (word32) al_12, dwArg08);
	}
l080C1E5D:
	Mem69[Mem0[ebp_102 + 0x0C:word32] + 0x28:word32] = ~0x00;
}

// 080C1E74: Register word32 wc_tcvn5712_precompose(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_tcvn5712_precompose(word32 dwArg04, word32 dwArg08)
{
	word32 eax_24;
	byte dl_9 = (byte) dwArg04;
	byte al_12 = (byte) dwArg08;
	if ((byte) (word32) Mem0[(word32) dl_9 + 0x081797E0:byte] == 0x01 && (byte) ((word32) Mem0[(word32) al_12 + 0x081797E0:byte]) == 0x02)
		eax_24 = (word32) al_12 | (word32) dl_9 << 0x08;
	else
		eax_24 = 0x00;
	return eax_24;
}

// 080C1EBC: void wc_tcvn57123_to_tcvn5712(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_tcvn57123_to_tcvn5712(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwArg08_27;
	word32 eax_22 = wc_map_search((word32) (word16) dwArg0C & 0x7F7F, 135763360, 0x78);
	if (eax_22 != 0x00)
	{
		word32 eax_51;
		word16 ax_50;
		if ((word16) (word32) Mem0[eax_22 + 0x02:word16] <=u 0x1F)
		{
			eax_51 = 0x081E;
			ax_50 = 0x081E;
		}
		else
		{
			eax_51 = 2077;
			ax_50 = 2077;
		}
		dwArg08_27 = eax_51;
		dwArg0C = (word32) DPB(ax_50, (byte) (word32) Mem0[eax_22 + 0x02:word16] | 0x80, 0);
	}
	else
		dwArg08_27 = 0x4000;
	Mem35[dwArg04 + 0x00:word32] = dwArg08_27;
	Mem36[dwArg04 + 0x04:word32] = dwArg0C;
}

// 080C1F3B: Register word32 wc_cp1258_precompose(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_cp1258_precompose(word32 dwArg04, word32 dwArg08)
{
	word32 eax_24;
	byte dl_9 = (byte) dwArg04;
	byte al_12 = (byte) dwArg08;
	if ((byte) (word32) Mem0[(word32) dl_9 + 0x081798E0:byte] == 0x01 && (byte) ((word32) Mem0[(word32) al_12 + 0x081798E0:byte]) == 0x02)
		eax_24 = (word32) al_12 | (word32) dl_9 << 0x08;
	else
		eax_24 = 0x00;
	return eax_24;
}

// 080C1F83: void wc_conv_from_viet(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_conv_from_viet(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	wc_create_detect_map(dwArg08, 0x00);
	word32 dwLoc1C_217 = eax_10;
	while (dwLoc1C_217 <u eax_14 && (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc1C_217 + 0x00:byte])) + 0x080DB9A0:byte]) == 0x00)
		dwLoc1C_217 = dwLoc1C_217 + 0x01;
	if (dwLoc1C_217 != eax_14)
	{
		word32 eax_87 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_87, eax_87);
		if (dwLoc1C_217 >u eax_10)
			Strcat_charp_n(eax_87, Mem0[dwArg04 + 0x00:word32], dwLoc1C_217 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			if ((byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] < 0x00)
			{
				Mem133[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem135[fp - 0x38 + 0x00:word32] = Mem133[fp - 0x20 + 0x00:word32];
				Mem137[fp - 0x3C + 0x00:word32] = Mem135[fp - 0x10 + 0x00:word32];
				wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
			}
			else if ((byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] <=u 0x1F && (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[(fp - 0x1C) + 0x00:word32] + 0x00:byte])) + Mem0[(fp - 0x28) + 0x00:word32]:byte]) != 0x00)
			{
				Mem192[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem194[fp - 0x38 + 0x00:word32] = Mem192[fp - 0x24 + 0x00:word32];
				Mem196[fp - 0x3C + 0x00:word32] = Mem194[fp - 0x10 + 0x00:word32];
				wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
			}
			else
			{
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
				{
					Mem177[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_159 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem166[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_159:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem169[Mem166[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_159 + 0x01;
				Mem175[Mem169[Mem169[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem169[Mem169[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			Mem127[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
	}
}

// 080C2164: void wc_push_to_viet(Register word32 ebp, Stack word32 dwArg10)
void wc_push_to_viet(word32 ebp, word32 dwArg10)
{
	word32 eax_20 = Mem0[Mem0[dwArg10 + 0x00:word32] + 0x00:word32];
	while (Mem0[fp + 0x08:word32] != Mem0[(fp - 0x10) + 0x00:word32])
	{
		if (Mem0[fp + 0x08:word32] == Mem0[(fp - 0x14) + 0x00:word32])
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem117[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_97 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem105[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_97:byte] = (byte) (Mem0[fp + 0x0C:word32] & 0x7F);
			Mem108[Mem105[fp + 0x04:word32] + 0x04:word32] = eax_97 + 0x01;
			Mem114[Mem108[Mem108[fp + 0x04:word32] + 0x00:word32] + Mem108[Mem108[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			return;
		}
		if (Mem0[fp + 0x08:word32] == Mem0[(fp - 0x18) + 0x00:word32])
		{
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem176[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_131 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem137[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_131:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
			Mem140[Mem137[fp + 0x04:word32] + 0x04:word32] = eax_131 + 0x01;
			Mem146[Mem140[Mem140[fp + 0x04:word32] + 0x00:word32] + Mem140[Mem140[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem146[Mem146[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem146[Mem146[fp + 0x04:word32] + 0x08:word32])
			{
				Mem174[fp - 44 + 0x00:word32] = Mem146[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_157 = Mem146[Mem146[fp + 0x04:word32] + 0x04:word32];
			Mem163[Mem146[Mem146[fp + 0x04:word32] + 0x00:word32] + eax_157:byte] = (byte) Mem146[fp + 0x0C:word32];
			Mem166[Mem163[fp + 0x04:word32] + 0x04:word32] = eax_157 + 0x01;
			Mem172[Mem166[Mem166[fp + 0x04:word32] + 0x00:word32] + Mem166[Mem166[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			return;
		}
		word32 eax_177 = Mem0[fp + 0x08:word32];
		if (eax_177 == 0x4000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem300[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
				Mem302[fp - 44 + 0x00:word32] = Mem300[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
		if (eax_177 == 0xC000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem290[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
				Mem292[fp - 44 + 0x00:word32] = Mem290[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
		if (eax_177 == 322)
		{
			if (Mem0[fp + 0x0C:word32] <=u 0x1F && (Mem0[(fp - 0x1C) + 0x00:word32] != 0x00 && (byte) ((word32) Mem0[Mem0[fp + 0x0C:word32] + Mem0[(fp - 0x1C) + 0x00:word32]:byte]) != 0x00))
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem253[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_239 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem242[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_239:byte] = 0x20;
				Mem245[Mem242[fp + 0x04:word32] + 0x04:word32] = eax_239 + 0x01;
				Mem251[Mem245[Mem245[fp + 0x04:word32] + 0x00:word32] + Mem245[Mem245[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			}
			else
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem219[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_202 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem208[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_202:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem211[Mem208[fp + 0x04:word32] + 0x04:word32] = eax_202 + 0x01;
				Mem217[Mem211[Mem211[fp + 0x04:word32] + 0x00:word32] + Mem211[Mem211[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			}
			return;
		}
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem261[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_263 = Mem261[fp + 0x0C:word32];
			Mem264[fp - 0x28 + 0x00:word32] = Mem261[fp + 0x08:word32];
			Mem265[fp - 0x24 + 0x00:word32] = edx_263;
			Mem266[fp - 44 + 0x00:word32] = fp + 0x08;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
		}
		else
		{
			word32 eax_278;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_278 = 0xC000;
			else
				eax_278 = 0x4000;
			Mem279[fp + 0x08:word32] = eax_278;
		}
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem82[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_62 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem70[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_62:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
	Mem73[Mem70[fp + 0x04:word32] + 0x04:word32] = eax_62 + 0x01;
	Mem79[Mem73[Mem73[fp + 0x04:word32] + 0x00:word32] + Mem73[Mem73[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080C250D: void wc_char_conv_from_viet(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_viet(selector gs, word32 dwArg04, word32 dwArg08)
{
	Strnew_size(dwArg04, 0x01);
	byte al_10 = (byte) dwArg04;
	word32 dwLoc14_124 = 0x00;
	word32 eax_20 = Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:word32];
	if (eax_20 != 0x00104443)
	{
		if (eax_20 != 0x00104444)
		{
			if (eax_20 == 0x00104442)
				dwLoc14_124 = 0x08179780;
		}
		else
			dwLoc14_124 = 0x081797C0;
	}
	else
		dwLoc14_124 = 0x081797A0;
	if ((byte) (word32) al_10 < 0x00)
		wtf_push(fp - 0x04, gs, dwArg04, Mem0[Mem0[Mem0[dwArg08 + 0x00:word32] + 0x0C:word32] + 0x08:word32], (word32) al_10);
	else if (al_10 <=u 0x1F && (byte) ((word32) Mem0[(word32) al_10 + dwLoc14_124:byte]) != 0x00)
		wtf_push(fp - 0x04, gs, dwArg04, Mem0[Mem0[Mem0[dwArg08 + 0x00:word32] + 0x0C:word32] + 0x10:word32], (word32) al_10);
	else
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_82 = Mem0[dwArg04 + 0x04:word32];
		Mem88[Mem0[dwArg04 + 0x00:word32] + eax_82:byte] = (byte) (word32) al_10;
		Mem91[dwArg04 + 0x04:word32] = eax_82 + 0x01;
		Mem97[Mem91[dwArg04 + 0x00:word32] + Mem91[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080C2624: void wtf_init(Stack word32 dwArg04, Stack word32 dwArg08)
void wtf_init(word32 dwArg04, word32 dwArg08)
{
	if (wc_check_ces(dwArg08) != 0x00)
		Mem93[0x08179D24:word32] = dwArg08;
	if (wc_check_ces(dwArg04) != 0x00)
	{
		word32 eax_36 = 0x0817A7AC[(dwArg04 & 0xFF) * 0x20];
		if (eax_36 != 0x00 && (Mem0[eax_36 + 0x08:word32] != 0x00 && (Mem0[eax_36 + 0x08:word32] & 0x3000) == 0x00))
		{
			Mem56[0x08180460:word32] = Mem0[eax_36 + 0x08:word32];
			if ((Mem56[0x08180460:word32] & 0x00018000) != 0x00)
			{
				word32 dwLoc10_62 = 161;
				while (dwLoc10_62 <= 0xFF)
				{
					Mem68[dwLoc10_62 + 0x081799E0:byte] = 0x02;
					Mem70[dwLoc10_62 + 0x08179AE0:byte] = 0x02;
					Mem72[dwLoc10_62 + 0x08179BE0:byte] = 0x0A;
					dwLoc10_62 = dwLoc10_62 + 0x01;
				}
			}
			else
			{
				word32 dwLoc10_76 = 161;
				while (dwLoc10_76 <= 0xFF)
				{
					Mem82[dwLoc10_76 + 0x081799E0:byte] = 0x01;
					Mem84[dwLoc10_76 + 0x08179AE0:byte] = 0x01;
					Mem86[dwLoc10_76 + 0x08179BE0:byte] = 0x02;
					dwLoc10_76 = dwLoc10_76 + 0x01;
				}
			}
		}
	}
}

// 080C272A: Register word32 wtf_strwidth(Stack word32 dwArg04)
word32 wtf_strwidth(word32 dwArg04)
{
	word32 dwLoc08_10 = 0x00;
	while ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x00)
	{
		word32 eax_33;
		if ((byte) (word32) Mem0[0x080DC0AF:byte] != 0x00)
			eax_33 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte];
		else
			eax_33 = (word32) ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[dwArg04 + 0x00:byte] + 0x081799E0:byte] != 0x00);
		dwLoc08_10 = dwLoc08_10 + eax_33;
		dwArg04 = dwArg04 + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg04 + 0x00:byte])) + 0x08179AE0:byte]));
	}
	return dwLoc08_10;
}

// 080C2799: Register word32 wtf_len(Stack word32 dwArg04)
word32 wtf_len(word32 dwArg04)
{
	word32 dwLoc08_19 = dwArg04 + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwArg04 + 0x00:byte])) + 0x08179AE0:byte]));
	while ((byte) (word32) Mem0[dwLoc08_19 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc08_19 + 0x00:byte])) + 0x081799E0:byte]) == 0x00)
		dwLoc08_19 = dwLoc08_19 + (word32) ((byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[dwLoc08_19 + 0x00:byte])) + 0x08179AE0:byte]));
	return dwLoc08_19 - dwArg04;
}

// 080C27FF: void wtf_push(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wtf_push(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 == 322)
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_74 = Mem0[dwArg04 + 0x04:word32];
		Mem83[Mem0[dwArg04 + 0x00:word32] + eax_74:byte] = (byte) (dwArg0C & 0x7F);
		Mem86[dwArg04 + 0x04:word32] = eax_74 + 0x01;
		Mem92[Mem86[dwArg04 + 0x00:word32] + Mem86[dwArg04 + 0x04:word32]:byte] = 0x00;
		goto l080C30BC;
	}
	if ((byte) (word32) Mem0[0x080DC0A4:byte] != 0x00 && (dwArg08 & 0x4000) == 0x00)
	{
		if (dwArg08 != 0x880F && (dwArg08 != 0x8810 && (dwArg08 != 34833 && dwArg08 != 34834)) || Mem0[0x08179D24:word32] != 0x00301019 && Mem0[0x08179D24:word32] != 2099221)
		{
			if (dwArg08 == 33091 && Mem0[0x08179D24:word32] == 0x00302040)
			{
				wc_ksx1001_to_johab(fp - 0x04, fp - 0x4C, dwArg08, dwArg0C);
				word32 edx_735 = Mem0[fp - 0x48 + 0x00:word32];
				Mem736[fp - 0x30 + 0x00:word32] = Mem0[fp - 0x4C + 0x00:word32];
				Mem737[fp - 44 + 0x00:word32] = edx_735;
				if ((Mem737[fp - 0x30 + 0x00:word32] & 0x4000) == 0x00)
				{
					word32 edx_744 = Mem737[fp - 44 + 0x00:word32];
					Mem745[fp - 0x28 + 0x00:word32] = Mem737[fp - 0x30 + 0x00:word32];
					Mem746[fp - 0x24 + 0x00:word32] = edx_744;
				}
			}
			else if ((byte) (word32) Mem0[135119011:byte] != 0x00)
			{
				Mem633[135119013:byte] = 0x00;
				wc_output_init(Mem633[0x08179D24:word32], 0x08180480);
				if (wc_ces_has_ccs(dwArg08 & 0xFFFF, 0x08180480) == 0x00)
				{
					wc_any_to_any_ces(fp - 0x04, fp - 0x4C, dwArg08, dwArg0C);
					word32 edx_672 = Mem633[fp - 0x48 + 0x00:word32];
					Mem673[fp - 0x30 + 0x00:word32] = Mem633[fp - 0x4C + 0x00:word32];
					Mem674[fp - 44 + 0x00:word32] = edx_672;
					if (Mem674[fp - 0x30 + 0x00:word32] == 322)
					{
						if (Mem674[Mem674[fp - 0x40 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem674[Mem674[(fp - 0x40) + 0x00:word32] + 0x08:word32])
						{
							Mem707[fp - 0x5C + 0x00:word32] = Mem674[fp - 0x40 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_688 = Mem674[Mem674[fp - 0x40 + 0x00:word32] + 0x04:word32];
						Mem696[Mem674[Mem674[fp - 0x40 + 0x00:word32] + 0x00:word32] + eax_688:byte] = (byte) (Mem674[fp - 44 + 0x00:word32] & 0x7F);
						Mem699[Mem696[fp - 0x40 + 0x00:word32] + 0x04:word32] = eax_688 + 0x01;
						Mem705[Mem699[Mem699[fp - 0x40 + 0x00:word32] + 0x00:word32] + Mem699[Mem699[(fp - 0x40) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
l080C30BC:
						if ((Mem0[fp - 0x10 + 0x00:word32] ^ Mem0[gs:0x14:word32]) != 0x00)
							__stack_chk_fail();
						return;
					}
					if ((Mem674[fp - 0x30 + 0x00:word32] & 0x4000) == 0x00 && (Mem674[(fp - 0x30) + 0x00:word32] != 0x081C && Mem674[(fp - 0x30) + 0x00:word32] != 0x081F))
					{
						word32 edx_720 = Mem674[fp - 44 + 0x00:word32];
						Mem721[fp - 0x28 + 0x00:word32] = Mem674[fp - 0x30 + 0x00:word32];
						Mem722[fp - 0x24 + 0x00:word32] = edx_720;
					}
				}
				Mem661[135119013:byte] = (byte) (word32) Mem633[fp - 0x19 + 0x00:byte];
			}
		}
		else
		{
			wc_johab_to_ksx1001(fp - 0x30, dwArg08, dwArg0C);
			if ((Mem0[fp - 0x30 + 0x00:word32] & 0x4000) == 0x00)
			{
				word32 edx_765 = Mem0[fp - 44 + 0x00:word32];
				Mem766[fp - 0x28 + 0x00:word32] = Mem0[fp - 0x30 + 0x00:word32];
				Mem767[fp - 0x24 + 0x00:word32] = edx_765;
			}
		}
	}
	word32 eax_124 = Mem0[fp - 0x28 + 0x00:word32];
	if ((eax_124 & 0xFF00) == 0x1000)
	{
		word32 edx_568;
		if ((Mem0[fp - 0x28 + 0x00:word32] & 0x00018000) != 0x00)
			edx_568 = ~0x76;
		else
			edx_568 = ~0x77;
		word32 eax_574;
		if ((Mem0[fp - 0x28 + 0x00:word32] & 0x00020000) != 0x00)
			eax_574 = 0x10;
		else
			eax_574 = 0x00;
		Mem577[fp - 0x18 + 0x00:byte] = (byte) (eax_574 | edx_568);
		Mem585[fp - 0x17 + 0x00:byte] = (byte) (Mem577[fp - 0x24 + 0x00:word32] >>u 0x0E & 0x03 | ~0x7F);
		Mem592[fp - 22 + 0x00:byte] = (byte) (Mem585[fp - 0x24 + 0x00:word32] >>u 0x07 | ~0x7F);
		Mem598[fp - 0x15 + 0x00:byte] = (byte) (Mem592[fp - 0x24 + 0x00:word32] | ~0x7F);
		Mem606[fp - 0x17 + 0x00:byte] = (byte) ((word32) Mem598[fp - 0x17 + 0x00:byte] | Mem598[(fp - 0x28) + 0x00:word32] << 0x02);
		Mem607[fp - 0x20 + 0x00:word32] = 0x04;
		goto l080C30A3;
	}
	if ((eax_124 & 0xFF00) >u 0x1000)
	{
		if ((eax_124 & 0xFF00) == 0x8100)
		{
			if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32])
			{
				Mem538[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] >>u 0x08 | ~0x7F);
				Mem544[fp - 0x17 + 0x00:byte] = (byte) (Mem538[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem545[fp - 0x20 + 0x00:word32] = 0x02;
			}
			else
			{
				Mem546[fp - 0x18 + 0x00:byte] = 0x81;
				Mem550[fp - 0x17 + 0x00:byte] = (byte) (Mem546[fp - 0x28 + 0x00:word32] | ~0x7F);
				Mem555[fp - 22 + 0x00:byte] = (byte) (Mem550[fp - 0x24 + 0x00:word32] >>u 0x08 | ~0x7F);
				Mem561[fp - 0x15 + 0x00:byte] = (byte) (Mem555[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem562[fp - 0x20 + 0x00:word32] = 0x04;
			}
			goto l080C30A3;
		}
		if ((eax_124 & 0xFF00) <=u 0x8100)
		{
			if ((eax_124 & 0xFF00) == 0x2000)
			{
				word32 edx_367;
				if ((Mem0[fp - 0x28 + 0x00:word32] & 0x00018000) != 0x00)
					edx_367 = ~0x74;
				else
					edx_367 = ~0x75;
				word32 eax_373;
				if ((Mem0[fp - 0x28 + 0x00:word32] & 0x00020000) != 0x00)
					eax_373 = 0x10;
				else
					eax_373 = 0x00;
				Mem376[fp - 0x18 + 0x00:byte] = (byte) (eax_373 | edx_367);
				Mem383[fp - 0x17 + 0x00:byte] = (byte) (Mem376[fp - 0x24 + 0x00:word32] >>u 0x1C | ~0x7F);
				Mem390[fp - 22 + 0x00:byte] = (byte) (Mem383[fp - 0x24 + 0x00:word32] >>u 0x15 | ~0x7F);
				Mem397[fp - 0x15 + 0x00:byte] = (byte) (Mem390[fp - 0x24 + 0x00:word32] >>u 0x0E | ~0x7F);
				Mem404[fp - 0x14 + 0x00:byte] = (byte) (Mem397[fp - 0x24 + 0x00:word32] >>u 0x07 | ~0x7F);
				Mem410[fp - 0x13 + 0x00:byte] = (byte) (Mem404[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem418[fp - 0x17 + 0x00:byte] = (byte) ((word32) Mem410[fp - 0x17 + 0x00:byte] | Mem410[(fp - 0x28) + 0x00:word32] << 0x04);
				Mem419[fp - 0x20 + 0x00:word32] = 0x06;
				goto l080C30A3;
			}
		}
		else
		{
			if ((eax_124 & 0xFF00) == 0x8200)
			{
				if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32] && (Mem0[(fp - 0x24) + 0x00:word32] >>u 0x08 & 0x7F) >u 0x20)
				{
					Mem522[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] >>u 0x08 | ~0x7F);
					Mem528[fp - 0x17 + 0x00:byte] = (byte) (Mem522[fp - 0x24 + 0x00:word32] | ~0x7F);
					Mem529[fp - 0x20 + 0x00:word32] = 0x02;
				}
				else
				{
					Mem496[fp - 0x18 + 0x00:byte] = 131;
					Mem500[fp - 0x17 + 0x00:byte] = (byte) (Mem496[fp - 0x28 + 0x00:word32] | ~0x7F);
					Mem505[fp - 22 + 0x00:byte] = (byte) (Mem500[fp - 0x24 + 0x00:word32] >>u 0x08 | ~0x7F);
					Mem511[fp - 0x15 + 0x00:byte] = (byte) (Mem505[fp - 0x24 + 0x00:word32] | ~0x7F);
					Mem512[fp - 0x20 + 0x00:word32] = 0x04;
				}
				goto l080C30A3;
			}
			if ((eax_124 & 0xFF00) == 0x8800)
			{
				word32 eax_430 = Mem0[fp - 0x28 + 0x00:word32];
				if (eax_430 <=u 0x881F)
				{
					word32 eax_435 = 0x080D290C[(eax_430 - 0x8801) * 0x04];
					word32 esp_436;
					word32 ebp_437;
					byte SCZO_438;
					word32 eax_439;
					selector gs_440;
					byte SZO_441;
					byte C_442;
					byte Z_443;
					word32 edx_444;
					byte SO_445;
					byte al_446;
					word32 ecx_447;
					byte CZ_448;
					byte cl_449;
					eax_435();
					return;
				}
				if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32] && (Mem0[(fp - 0x24) + 0x00:word32] >>u 0x08 & 0x7F) >u 0x20)
				{
					Mem482[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] >>u 0x08 | ~0x7F);
					Mem488[fp - 0x17 + 0x00:byte] = (byte) (Mem482[fp - 0x24 + 0x00:word32] | ~0x7F);
					Mem489[fp - 0x20 + 0x00:word32] = 0x02;
				}
				else
				{
					Mem456[fp - 0x18 + 0x00:byte] = 0x87;
					Mem460[fp - 0x17 + 0x00:byte] = (byte) (Mem456[fp - 0x28 + 0x00:word32] | ~0x7F);
					Mem465[fp - 22 + 0x00:byte] = (byte) (Mem460[fp - 0x24 + 0x00:word32] >>u 0x08 | ~0x7F);
					Mem471[fp - 0x15 + 0x00:byte] = (byte) (Mem465[fp - 0x24 + 0x00:word32] | ~0x7F);
					Mem472[fp - 0x20 + 0x00:word32] = 0x04;
				}
				goto l080C30A3;
			}
		}
l080C3086:
		Mem151[fp - 0x18 + 0x00:byte] = 133;
		Mem155[fp - 0x17 + 0x00:byte] = (byte) (Mem151[fp - 0x28 + 0x00:word32] | ~0x7F);
		Mem161[fp - 22 + 0x00:byte] = (byte) (Mem155[fp - 0x24 + 0x00:word32] | ~0x7F);
		Mem162[fp - 0x20 + 0x00:word32] = 0x03;
		goto l080C30A3;
	}
	if ((eax_124 & 0xFF00) != 0x0200)
	{
		if ((eax_124 & 0xFF00) <=u 0x0200)
		{
			if ((eax_124 & 0xFF00) != 0x0100)
				goto l080C3086;
			if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32])
			{
				Mem178[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem179[fp - 0x20 + 0x00:word32] = 0x01;
			}
			else
			{
				if (Mem0[fp - 0x28 + 0x00:word32] == 0x0149 && (byte) ((word32) Mem0[0x080DC0A9:byte]) == 0x00)
				{
					word32 edx_206 = Mem0[fp - 0x24 + 0x00:word32];
					Mem207[fp - 88 + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32];
					Mem208[fp - 0x54 + 0x00:word32] = edx_206;
					Mem209[fp - 0x5C + 0x00:word32] = fp - 0x4C;
					wc_jisx0201k_to_jisx0208(dwArg00, dwArg04, dwArg08);
					word32 edx_213 = Mem209[fp - 0x48 + 0x00:word32];
					Mem214[fp - 0x30 + 0x00:word32] = Mem209[fp - 0x4C + 0x00:word32];
					Mem215[fp - 44 + 0x00:word32] = edx_213;
					if ((Mem215[fp - 0x30 + 0x00:word32] & 0x4000) == 0x00)
					{
						word32 eax_222 = Mem215[fp - 0x30 + 0x00:word32];
						Mem223[fp - 0x54 + 0x00:word32] = Mem215[fp - 44 + 0x00:word32];
						Mem224[fp - 88 + 0x00:word32] = eax_222;
						Mem226[fp - 0x5C + 0x00:word32] = Mem224[fp - 0x40 + 0x00:word32];
						wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						goto l080C30BC;
					}
				}
				Mem187[fp - 0x18 + 0x00:byte] = 0x80;
				Mem191[fp - 0x17 + 0x00:byte] = (byte) (Mem187[fp - 0x28 + 0x00:word32] | ~0x7F);
				Mem197[fp - 22 + 0x00:byte] = (byte) (Mem191[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem198[fp - 0x20 + 0x00:word32] = 0x03;
			}
l080C30A3:
			Mem139[fp - 0x54 + 0x00:word32] = Mem0[fp - 0x20 + 0x00:word32];
			Mem140[fp - 88 + 0x00:word32] = fp - 0x18;
			Mem142[fp - 0x5C + 0x00:word32] = Mem140[fp - 0x40 + 0x00:word32];
			Strcat_charp_n(dwArg00, dwArg04, dwArg08);
			goto l080C30BC;
		}
		if ((eax_124 & 0xFF00) == 0x0400)
		{
			if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32])
			{
				Mem291[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem292[fp - 0x20 + 0x00:word32] = 0x01;
			}
			else
			{
				Mem293[fp - 0x18 + 0x00:byte] = 0x84;
				Mem297[fp - 0x17 + 0x00:byte] = (byte) (Mem293[fp - 0x28 + 0x00:word32] | ~0x7F);
				Mem303[fp - 22 + 0x00:byte] = (byte) (Mem297[fp - 0x24 + 0x00:word32] | ~0x7F);
				Mem304[fp - 0x20 + 0x00:word32] = 0x03;
			}
			goto l080C30A3;
		}
		if ((eax_124 & 0xFF00) != 0x0800)
			goto l080C3086;
		if ((byte) (word32) Mem0[135119009:byte] != 0x00)
		{
			word32 edx_274 = Mem0[fp - 0x24 + 0x00:word32];
			Mem275[fp - 0x5C + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32];
			Mem276[fp - 88 + 0x00:word32] = edx_274;
			if (wc_is_combining(dwArg00, dwArg04) != 0x00)
			{
				Mem281[fp - 0x18 + 0x00:byte] = 0x96;
				goto l080C2DA2;
			}
		}
		if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32] && (Mem0[(fp - 0x24) + 0x00:word32] & 0x7F) >u 0x20)
		{
			Mem271[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] | ~0x7F);
			Mem272[fp - 0x20 + 0x00:word32] = 0x01;
			goto l080C30A3;
		}
		Mem261[fp - 0x18 + 0x00:byte] = 0x86;
l080C2DA2:
		Mem243[fp - 0x17 + 0x00:byte] = (byte) (Mem0[fp - 0x28 + 0x00:word32] | ~0x7F);
		Mem249[fp - 22 + 0x00:byte] = (byte) (Mem243[fp - 0x24 + 0x00:word32] | ~0x7F);
		Mem250[fp - 0x20 + 0x00:word32] = 0x03;
		goto l080C30A3;
	}
	if ((byte) (word32) Mem0[135119009:byte] != 0x00)
	{
		word32 edx_348 = Mem0[fp - 0x24 + 0x00:word32];
		Mem349[fp - 0x5C + 0x00:word32] = Mem0[fp - 0x28 + 0x00:word32];
		Mem350[fp - 88 + 0x00:word32] = edx_348;
		if (wc_is_combining(dwArg00, dwArg04) != 0x00)
		{
			Mem355[fp - 0x18 + 0x00:byte] = 0x92;
			goto l080C2C81;
		}
	}
	if (Mem0[fp - 0x28 + 0x00:word32] == Mem0[0x08180460:word32] && (Mem0[(fp - 0x24) + 0x00:word32] & 0x7F) >u 0x20)
	{
		Mem345[fp - 0x18 + 0x00:byte] = (byte) (Mem0[fp - 0x24 + 0x00:word32] | ~0x7F);
		Mem346[fp - 0x20 + 0x00:word32] = 0x01;
		goto l080C30A3;
	}
	Mem335[fp - 0x18 + 0x00:byte] = 0x82;
l080C2C81:
	Mem317[fp - 0x17 + 0x00:byte] = (byte) (Mem0[fp - 0x28 + 0x00:word32] | ~0x7F);
	Mem323[fp - 22 + 0x00:byte] = (byte) (Mem317[fp - 0x24 + 0x00:word32] | ~0x7F);
	Mem324[fp - 0x20 + 0x00:word32] = 0x03;
	goto l080C30A3;
}

// 080C30CF: void wtf_push_unknown(Register word32 ebp, Register selector gs)
void wtf_push_unknown(word32 ebp, selector gs)
{
	while (true)
	{
		byte al_23 = Mem0[fp + 0x0C:word32] != 0x00;
		Mem25[fp + 0x0C:word32] = Mem0[fp + 0x0C:word32] - 0x01;
		if (al_23 == 0x00)
			break;
		if ((byte) (word32) Mem25[Mem25[fp + 0x08:word32] + 0x00:byte] < 0x00)
		{
			Mem51[fp - 0x14 + 0x00:word32] = (word32) (byte) (word32) Mem25[Mem25[fp + 0x08:word32] + 0x00:byte];
			Mem52[fp - 0x18 + 0x00:word32] = 0x4000;
			Mem54[fp - 0x1C + 0x00:word32] = Mem52[fp + 0x04:word32];
			wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
		}
		else
		{
			if (Mem25[Mem25[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem25[Mem25[fp + 0x04:word32] + 0x08:word32])
			{
				Mem87[fp - 0x1C + 0x00:word32] = Mem25[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_69 = Mem25[Mem25[fp + 0x04:word32] + 0x04:word32];
			Mem76[Mem25[Mem25[fp + 0x04:word32] + 0x00:word32] + eax_69:byte] = (byte) (word32) Mem25[Mem25[fp + 0x08:word32] + 0x00:byte];
			Mem79[Mem76[fp + 0x04:word32] + 0x04:word32] = eax_69 + 0x01;
			Mem85[Mem79[Mem79[fp + 0x04:word32] + 0x00:word32] + Mem79[Mem79[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		}
		Mem45[fp + 0x08:word32] = Mem25[fp + 0x08:word32] + 0x01;
	}
}

// 080C316B: Register word32 wtf_parse1(Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 wtf_parse1(word32 dwArg04, word32 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	word32 dwLoc10_115;
	word32 dwLoc14_113;
	word32 dwLoc18_153;
	word32 eax_15 = Mem0[dwArg08 + 0x00:word32];
	if ((byte) (word32) Mem0[eax_15 + 0x00:byte] >= 0x00)
	{
		dwLoc18_153 = 322;
		dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x00:byte];
		dwLoc10_115 = eax_15 + 0x01;
		goto l080C3401;
	}
	if ((byte) (word32) Mem0[eax_15 + 0x00:byte] >u 0xA0)
	{
		word32 eax_94 = Mem0[0x08180460:word32];
		dwLoc18_153 = eax_94;
		if ((eax_94 & 0x00018000) != 0x00)
		{
			dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x01:byte] | (word32) ((byte) ((word32) Mem0[eax_15 + 0x00:byte])) << 0x08;
			dwLoc10_115 = eax_15 + 0x02;
		}
		else
		{
			dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x00:byte];
			dwLoc10_115 = eax_15 + 0x01;
		}
l080C3401:
		Mem31[dwArg08 + 0x00:word32] = dwLoc10_115;
		word32 eax_33 = dwLoc18_153 - 0x8802;
		if (eax_33 >u 0x1F)
		{
			Mem72[dwArg04 + 0x00:word32] = dwLoc18_153;
			Mem73[dwArg04 + 0x04:word32] = dwLoc14_113;
			word32 ebp_77;
			*ebpOut = ebp;
			word32 esp_78;
			*espOut = fp;
			return ebx;
		}
		else
		{
			word32 eax_54 = 0x080D2988[eax_33 * 0x04];
			word32 esp_56;
			word32 ebp_57;
			word32 ebx_58;
			byte SCZO_59;
			word32 eax_60;
			byte al_61;
			byte SZO_62;
			byte C_63;
			byte S_64;
			byte CZ_65;
			byte Z_66;
			word32 edx_67;
			bcuiposr0 None_68;
			word16 ax_69;
			eax_54();
			return ebx_58;
		}
	}
	word32 eax_128 = (word32) (byte) (word32) Mem0[eax_15 + 0x00:byte];
	word32 eax_132 = (word32) (word16) (word32) Mem0[eax_128 + 0x08179C60 + (eax_128 + ~0x7F):word16];
	dwLoc10_115 = eax_15 + 0x01;
	word32 eax_138 = eax_132 << 0x08 & 0xFF00;
	if (eax_138 != 0x2000)
	{
		if (eax_138 <=u 0x2000)
		{
			if (eax_138 == 0x0400)
				goto l080C32B4;
			if (eax_138 <=u 0x0400)
			{
				if (eax_138 != 0x0100 && eax_138 != 0x0200)
					goto l080C33F3;
				goto l080C32B4;
			}
			if (eax_138 == 0x0800)
				goto l080C32B4;
			if (eax_138 != 0x1000)
				goto l080C33F3;
l080C3321:
			dwLoc18_153 = ((word32) (byte) (word32) Mem0[eax_15 + 0x01:byte] & 0x7C) >> 0x02 | eax_132 << 0x08;
			dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x03:byte] & 0x7F | ((word32) ((word16) ((word32) ((byte) ((word32) Mem0[eax_15 + 0x01:byte])) << 0x0E)) | ((word32) ((byte) ((word32) Mem0[eax_15 + 0x02:byte])) & 0x7F) << 0x07);
			dwLoc10_115 = eax_15 + 0x04;
			goto l080C3401;
		}
		if (eax_138 == 0x8200)
		{
l080C32E1:
			dwLoc18_153 = (word32) (byte) (word32) Mem0[eax_15 + 0x01:byte] & 0x7F | eax_132 << 0x08;
			dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x03:byte] | (word32) ((byte) ((word32) Mem0[eax_15 + 0x02:byte])) << 0x08;
			dwLoc10_115 = eax_15 + 0x04;
			goto l080C3401;
		}
		if (eax_138 <=u 0x8200)
		{
			if (eax_138 == 0x4000)
			{
l080C32B4:
				dwLoc18_153 = (word32) (byte) (word32) Mem0[eax_15 + 0x01:byte] & 0x7F | eax_132 << 0x08;
				dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x02:byte];
				dwLoc10_115 = eax_15 + 0x03;
				goto l080C3401;
			}
			if (eax_138 != 0x8100)
			{
l080C33F3:
				dwLoc18_153 = 322;
				dwLoc14_113 = 0x20;
				goto l080C3401;
			}
			goto l080C32E1;
		}
		if (eax_138 == 0x00011000)
			goto l080C3321;
		if (eax_138 != 0x00012000)
		{
			if (eax_138 != 0x8800)
				goto l080C33F3;
			goto l080C32E1;
		}
	}
	dwLoc18_153 = ((word32) (byte) (word32) Mem0[eax_15 + 0x01:byte] & 0x70) >> 0x04 | eax_132 << 0x08;
	dwLoc14_113 = (word32) (byte) (word32) Mem0[eax_15 + 0x05:byte] & 0x7F | ((((word32) ((byte) ((word32) Mem0[eax_15 + 0x01:byte])) << 0x1C | ((word32) ((byte) ((word32) Mem0[eax_15 + 0x02:byte])) & 0x7F) << 0x15) | ((word32) ((byte) ((word32) Mem0[eax_15 + 0x03:byte])) & 0x7F) << 0x0E) | ((word32) ((byte) ((word32) Mem0[eax_15 + 0x04:byte])) & 0x7F) << 0x07);
	dwLoc10_115 = eax_15 + 0x06;
	goto l080C3401;
}

// 080C34FA: void wtf_parse(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08)
void wtf_parse(word32 ebp, word32 dwArg04, word32 dwArg08)
{
	word32 ebp_29 = fp - 0x04;
	word32 esp_30 = fp - 0x4C;
	word32 ebx_11 = dwArg04;
	if ((byte) (word32) Mem0[Mem0[dwArg08 + 0x00:word32] + 0x00:byte] >= 0x00)
		Mem295[dwArg08 + 0x00:word32] = Mem0[dwArg08 + 0x00:word32] + 0x01;
	else
	{
		word32 esp_303;
		ebx_11 = wtf_parse1(fp - 0x20, dwArg08, out esp_303, out ebp_29);
		esp_30 = esp_303;
	}
	if ((byte) (word32) Mem0[135119009:byte] == 0x00 || (byte) ((word32) Mem0[(word32) ((byte) ((word32) Mem0[Mem0[Mem0[ebp_29 + 0x0C:word32] + 0x00:word32] + 0x00:byte])) + 0x081799E0:byte]) != 0x00)
	{
		word32 edx_54 = Mem0[ebp_29 - 0x18 + 0x00:word32];
		Mem55[ebx_11 + 0x00:word32] = Mem0[ebp_29 - 0x1C + 0x00:word32];
		Mem56[ebx_11 + 0x04:word32] = edx_54;
		return;
	}
	Mem69[ebp_29 - 0x0C + 0x00:word32] = Mem0[Mem0[ebp_29 + 0x0C:word32] + 0x00:word32];
	Mem72[esp_30 + 0x04:word32] = ebp_29 - 0x0C;
	Mem73[esp_30 + 0x00:word32] = ebp_29 - 0x24;
	word32 esp_75;
	word32 ebp_110;
	word32 ebx_109 = wtf_parse1(dwArg00, dwArg04, out esp_75, out ebp_110);
	word32 esp_111 = esp_75;
	if (Mem73[ebp_110 - 0x1C + 0x00:word32] != 322 && Mem73[(ebp_110 - 0x1C) + 0x00:word32] != 0x081B || (Mem73[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) != 0x081B)
	{
		if (Mem73[ebp_110 - 0x1C + 0x00:word32] != 322 && Mem73[(ebp_110 - 0x1C) + 0x00:word32] != 2077 || (Mem73[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) != 2077)
		{
			if ((Mem73[ebp_110 - 0x1C + 0x00:word32] == 322 || (Mem73[(ebp_110 - 0x1C) + 0x00:word32] == 577 || ((Mem73[(ebp_110 - 0x1C) + 0x00:word32] & 0xFFFF) == 0x1000 || ((Mem73[(ebp_110 - 0x1C) + 0x00:word32] & 0xFFFF) == 0x2000 || (Mem73[(ebp_110 - 0x1C) + 0x00:word32] & 0xFFFF) == 0x2001)))) && ((Mem73[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) == 0x1000 || ((Mem73[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) == 0x2000 || (Mem73[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) == 0x2001)))
			{
				do
				{
					word32 eax_119;
					if ((Mem73[ebp_110 - 0x1C + 0x00:word32] & 0xFFFF) == 0x2001)
						eax_119 = Mem73[ebp_110 - 0x18 + 0x00:word32] & 0x001FFFFF;
					else
						eax_119 = Mem73[ebp_110 - 0x18 + 0x00:word32];
					word32 eax_128;
					Mem120[ebp_110 - 0x10 + 0x00:word32] = eax_119;
					if ((Mem120[ebp_110 - 0x24 + 0x00:word32] & 0xFFFF) == 0x2001)
						eax_128 = Mem120[ebp_110 - 0x20 + 0x00:word32] & 0x001FFFFF;
					else
						eax_128 = Mem120[ebp_110 - 0x20 + 0x00:word32];
					Mem129[ebp_110 - 0x14 + 0x00:word32] = eax_128;
					Mem131[esp_111 + 0x04:word32] = Mem129[ebp_110 - 0x14 + 0x00:word32];
					Mem133[esp_111 + 0x00:word32] = Mem131[ebp_110 - 0x10 + 0x00:word32];
					Mem135[ebp_110 - 0x10 + 0x00:word32] = wc_ucs_precompose(dwArg00, dwArg04);
					if (Mem135[ebp_110 - 0x10 + 0x00:word32] == ~0x00)
						break;
					if ((Mem135[ebp_110 - 0x1C + 0x00:word32] & 0xFFFF) == 0x2001)
						Mem184[ebp_110 - 0x18 + 0x00:word32] = Mem135[ebp_110 - 0x18 + 0x00:word32] & 0xFF000000 | Mem135[(ebp_110 - 0x10) + 0x00:word32];
					else
					{
						Mem186[esp_111 + 0x00:word32] = Mem135[ebp_110 - 0x10 + 0x00:word32];
						Mem188[ebp_110 - 0x1C + 0x00:word32] = wc_ucs_to_ccs(dwArg00);
						Mem190[ebp_110 - 0x18 + 0x00:word32] = Mem188[ebp_110 - 0x10 + 0x00:word32];
					}
					Mem144[Mem135[ebp_110 + 0x0C:word32] + 0x00:word32] = Mem135[ebp_110 - 0x0C + 0x00:word32];
					if ((byte) (word32) Mem144[(word32) (byte) (word32) Mem144[Mem144[ebp_110 - 0x0C + 0x00:word32] + 0x00:byte] + 0x081799E0:byte] == 0x00)
						break;
					Mem156[esp_111 + 0x04:word32] = ebp_110 - 0x0C;
					Mem157[esp_111 + 0x00:word32] = ebp_110 - 0x30;
					word32 esp_158;
					ebx_109 = wtf_parse1(dwArg00, dwArg04, out esp_158, out ebp_110);
					word32 edx_164 = Mem157[ebp_110 - 44 + 0x00:word32];
					Mem165[ebp_110 - 0x24 + 0x00:word32] = Mem157[ebp_110 - 0x30 + 0x00:word32];
					Mem166[ebp_110 - 0x20 + 0x00:word32] = edx_164;
					esp_111 = esp_158;
				} while ((Mem166[ebp_110 - 0x24 + 0x00:word32] & 0xFFFF) == 0x1000 || ((Mem166[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) == 0x2000 || (Mem166[(ebp_110 - 0x24) + 0x00:word32] & 0xFFFF) == 0x2001));
			}
		}
		else
		{
			word32 eax_237 = (word32) (byte) Mem73[ebp_110 - 0x18 + 0x00:word32];
			Mem238[esp_75 + 0x04:word32] = (word32) (byte) Mem73[ebp_110 - 0x20 + 0x00:word32];
			Mem239[esp_75 + 0x00:word32] = eax_237;
			Mem241[ebp_110 - 0x20 + 0x00:word32] = wc_tcvn5712_precompose(dwArg00, dwArg04);
			if (Mem241[ebp_110 - 0x20 + 0x00:word32] != 0x00)
			{
				Mem246[ebp_110 - 0x24 + 0x00:word32] = 0x081F;
				Mem249[Mem246[ebp_110 + 0x0C:word32] + 0x00:word32] = Mem246[ebp_110 - 0x0C + 0x00:word32];
				word32 edx_251 = Mem249[ebp_110 - 0x20 + 0x00:word32];
				Mem252[ebx_109 + 0x00:word32] = Mem249[ebp_110 - 0x24 + 0x00:word32];
				Mem253[ebx_109 + 0x04:word32] = edx_251;
				return;
			}
		}
	}
	else
	{
		word32 eax_266 = (word32) (byte) Mem73[ebp_110 - 0x18 + 0x00:word32];
		Mem267[esp_75 + 0x04:word32] = (word32) (byte) Mem73[ebp_110 - 0x20 + 0x00:word32];
		Mem268[esp_75 + 0x00:word32] = eax_266;
		Mem270[ebp_110 - 0x20 + 0x00:word32] = wc_cp1258_precompose(dwArg00, dwArg04);
		if (Mem270[ebp_110 - 0x20 + 0x00:word32] != 0x00)
		{
			Mem275[ebp_110 - 0x24 + 0x00:word32] = 0x081C;
			Mem278[Mem275[ebp_110 + 0x0C:word32] + 0x00:word32] = Mem275[ebp_110 - 0x0C + 0x00:word32];
			word32 edx_280 = Mem278[ebp_110 - 0x20 + 0x00:word32];
			Mem281[ebx_109 + 0x00:word32] = Mem278[ebp_110 - 0x24 + 0x00:word32];
			Mem282[ebx_109 + 0x04:word32] = edx_280;
			return;
		}
	}
	word32 edx_92 = Mem73[ebp_110 - 0x18 + 0x00:word32];
	Mem93[ebx_109 + 0x00:word32] = Mem73[ebp_110 - 0x1C + 0x00:word32];
	Mem94[ebx_109 + 0x04:word32] = edx_92;
}

// 080C3807: void wtf_get_ccs()
void wtf_get_ccs()
{
	word32 esp_12;
	word32 ebp_13;
	wtf_parse1(fp - 0x14, fp + 0x04, out esp_12, out ebp_13);
}

// 080C3827: Register word32 wtf_get_code()
word32 wtf_get_code()
{
	word32 esp_12;
	word32 ebp_13;
	wtf_parse1(fp - 0x14, fp + 0x04, out esp_12, out ebp_13);
	return Mem0[ebp_13 - 0x0C + 0x00:word32];
}

// 080C3847: Register byte wtf_is_hangul(Stack word32 dwArg04)
byte wtf_is_hangul(word32 dwArg04)
{
	byte al_105;
	if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] >u 0xA0)
	{
		if (Mem0[0x08180460:word32] != 33091 && Mem0[0x08180460:word32] != 0x8810)
			al_105 = 0x00;
		else
			al_105 = 0x01;
	}
	else
	{
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x81)
		{
			al_105 = ((word32) (byte) (word32) Mem0[dwArg04 + 0x01:byte] & 0x7F) == 0x43;
			return al_105;
		}
		if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] != 0x87)
		{
			if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x89)
			{
				if ((byte) (((word32) (byte) (word32) Mem0[dwArg04 + 0x01:byte] & 0x7F) >> 0x02) == 0x00)
				{
					al_105 = wc_is_ucs_hangul((word32) (byte) (word32) Mem0[dwArg04 + 0x03:byte] & 0x7F | ((word32) ((word16) ((word32) ((byte) ((word32) Mem0[dwArg04 + 0x01:byte])) << 0x0E)) | ((word32) ((byte) ((word32) Mem0[dwArg04 + 0x02:byte])) & 0x7F) << 0x07));
					return al_105;
				}
			}
			else if ((byte) (word32) Mem0[dwArg04 + 0x00:byte] == 0x8B && (byte) (((word32) ((byte) ((word32) Mem0[dwArg04 + 0x01:byte])) & 0x7F) >> 0x04) == 0x01)
			{
				al_105 = wc_is_ucs_hangul(((word32) (byte) (word32) Mem0[dwArg04 + 0x05:byte] & 0x7F | ((((word32) ((byte) ((word32) Mem0[dwArg04 + 0x01:byte])) << 0x1C | ((word32) ((byte) ((word32) Mem0[dwArg04 + 0x02:byte])) & 0x7F) << 0x15) | ((word32) ((byte) ((word32) Mem0[dwArg04 + 0x03:byte])) & 0x7F) << 0x0E) | ((word32) ((byte) ((word32) Mem0[dwArg04 + 0x04:byte])) & 0x7F) << 0x07)) & 0x001FFFFF);
				return al_105;
			}
			al_105 = 0x00;
			return al_105;
		}
		byte al_82 = (byte) ((word32) Mem0[dwArg04 + 0x01:byte] & 0x7F);
		if (al_82 != 0x10 && (al_82 != 0x11 && (al_82 != 0x12 && (al_82 != 0x1D && al_82 != 0x1E))))
			al_105 = 0x00;
		else
			al_105 = 0x01;
	}
	return al_105;
}

// 080C39F2: Register word32 wtf_conv_fit(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
word32 wtf_conv_fit(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_124;
	word32 ebp_107 = fp - 0x04;
	word32 esp_108 = fp - 0x3C;
	if (dwArg08 != 0x00310000 && dwArg08 != 0x0100)
	{
		word32 dwLoc14_165 = dwArg04;
		while ((byte) (word32) Mem0[dwLoc14_165 + 0x00:byte] != 0x00 && (byte) ((word32) Mem0[dwLoc14_165 + 0x00:byte]) >= 0x00)
			dwLoc14_165 = dwLoc14_165 + 0x01;
		if ((byte) (word32) Mem0[dwLoc14_165 + 0x00:byte] == 0x00)
			eax_124 = dwArg04;
		else
		{
			word32 eax_78 = strlen(dwArg04);
			Strnew_size(eax_78, eax_78);
			if (dwLoc14_165 >u dwArg04)
				Strcopy_charp_n(eax_78, dwArg04, dwLoc14_165 - dwArg04);
			Mem101[0x08179D24:word32] = dwArg08;
			Mem102[0x080DC0A4:byte] = 0x01;
			Mem103[135119011:byte] = 0x01;
			while ((byte) (word32) Mem103[Mem103[ebp_107 - 0x10 + 0x00:word32] + 0x00:byte] != 0x00)
			{
				Mem128[esp_108 + 0x04:word32] = ebp_107 - 0x10;
				Mem129[esp_108 + 0x00:word32] = ebp_107 - 0x20;
				word32 esp_131;
				wtf_parse1(dwArg00, dwArg04, out esp_131, out ebp_107);
				word32 eax_138 = Mem129[ebp_107 - 0x20 + 0x00:word32];
				Mem139[esp_131 + 0x08:word32] = Mem129[ebp_107 - 0x1C + 0x00:word32];
				Mem140[esp_131 + 0x04:word32] = eax_138;
				Mem142[esp_131 + 0x00:word32] = Mem140[ebp_107 - 0x14 + 0x00:word32];
				wtf_push(ebp_107, gs, dwArg00, dwArg04, dwArg08);
				esp_108 = esp_131;
			}
			Mem116[0x08179D24:word32] = Mem103[ebp_107 - 0x18 + 0x00:word32];
			Mem119[0x080DC0A4:byte] = (byte) (word32) Mem116[ebp_107 - 0x09 + 0x00:byte];
			Mem122[135119011:byte] = (byte) (word32) Mem119[ebp_107 - 0x0A + 0x00:byte];
			eax_124 = Mem122[Mem122[ebp_107 - 0x14 + 0x00:word32] + 0x00:word32];
		}
	}
	else
		eax_124 = dwArg04;
	return eax_124;
}

// 080C3B1C: void wc_big5_to_cs94w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_big5_to_cs94w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_29;
	word32 edx_22 = (dwArg0C >>u 0x08 & 0xFF) *s 0x9D + (dwArg0C & 0xFF);
	if ((dwArg0C & 0xFF) <=u 0xA0)
		eax_29 = 0x40;
	else
		eax_29 = 0x62;
	word32 dwArg08_38;
	word32 ecx_31 = edx_22 - eax_29;
	word32 dwArg0C_34 = ecx_31 - 25277;
	if (ecx_31 <=u 0x7B44)
		dwArg08_38 = 0x8802;
	else
	{
		dwArg08_38 = 0x8803;
		dwArg0C_34 = ecx_31 - 31557;
	}
	Mem65[dwArg04 + 0x00:word32] = dwArg08_38;
	Mem66[dwArg04 + 0x04:word32] = dwArg0C_34 + 3107006027;
}

// 080C3BE8: void wc_cs94w_to_big5(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs94w_to_big5(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_25 = (dwArg0C >>u 0x08 & 0x7F) *s 0x5E + (dwArg0C & 0x7F);
	word32 dwArg0C_27 = eax_25 - 3135;
	if (dwArg08 == 0x8803)
		dwArg0C_27 = eax_25 + 0x0C49;
	word32 eax_65;
	word32 ecx_51 = dwArg0C_27 - ~0x5C;
	if (dwArg0C_27 <=u ~0x1E)
		eax_65 = 0x40;
	else
		eax_65 = 0x62;
	Mem72[dwArg04 + 0x00:word32] = 0x8801;
	Mem73[dwArg04 + 0x04:word32] = ecx_51 + eax_65 + 0xA16DE000;
}

// 080C3CB4: void wc_conv_from_big5(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_big5(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_19 = eax_10;
	while (dwLoc1C_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_19 + 0x00:byte]) >= 0x00)
		dwLoc1C_19 = dwLoc1C_19 + 0x01;
	if (dwLoc1C_19 != eax_14)
	{
		word32 eax_66 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_66, eax_66);
		if (dwLoc1C_19 >u eax_10)
			Strcat_charp_n(eax_66, Mem0[dwArg04 + 0x00:word32], dwLoc1C_19 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_99 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_99 != 0x00)
			{
				if (eax_99 == 0x01)
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135765312:byte] & 0x04) != 0x00)
					{
						Mem150[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
						Mem151[fp - 0x38 + 0x00:word32] = 0x8801;
						Mem153[fp - 0x3C + 0x00:word32] = Mem151[fp - 0x10 + 0x00:word32];
						wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
					}
					else
					{
						word32 eax_156 = Mem0[fp - 0x1C + 0x00:word32];
						Mem159[fp - 0x34 + 0x00:word32] = 0x02;
						Mem160[fp - 0x38 + 0x00:word32] = eax_156 - 0x01;
						Mem162[fp - 0x3C + 0x00:word32] = Mem160[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem135[fp - 0x20 + 0x00:word32] = 0x00;
				}
				goto l080C3E62;
			}
			word32 eax_169 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135765312:byte];
			if (eax_169 != 0x02)
			{
				if (eax_169 == 0x07)
				{
					Mem178[fp - 0x20 + 0x00:word32] = 0x01;
					goto l080C3DED;
				}
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
				{
					Mem207[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_189 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem196[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_189:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem199[Mem196[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_189 + 0x01;
				Mem205[Mem199[Mem199[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem199[Mem199[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			else
			{
				Mem208[fp - 0x34 + 0x00:word32] = 0x01;
				Mem210[fp - 0x38 + 0x00:word32] = Mem208[fp - 0x1C + 0x00:word32];
				Mem212[fp - 0x3C + 0x00:word32] = Mem210[fp - 0x10 + 0x00:word32];
				wtf_push_unknown(fp - 0x04, gs);
l080C3DED:
			}
l080C3E62:
			Mem114[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x20 + 0x00:word32] == 0x01)
		{
			word32 eax_91 = Mem0[fp - 0x1C + 0x00:word32];
			Mem94[fp - 0x34 + 0x00:word32] = 0x01;
			Mem95[fp - 0x38 + 0x00:word32] = eax_91 - 0x01;
			Mem97[fp - 0x3C + 0x00:word32] = Mem95[fp - 0x10 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080C3E9C: void wc_push_to_big5(Register word32 ebp)
void wc_push_to_big5(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 0x8801)
			break;
		if (eax_20 <=u 0x8801)
		{
			if (eax_20 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem178[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_161 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem167[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_161:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem170[Mem167[fp + 0x04:word32] + 0x04:word32] = eax_161 + 0x01;
				Mem176[Mem170[Mem170[fp + 0x04:word32] + 0x00:word32] + Mem170[Mem170[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem146[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem148[fp - 44 + 0x00:word32] = Mem146[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
		}
		else
		{
			if (eax_20 <=u 0x8803)
			{
				word32 edx_194 = Mem0[fp + 0x0C:word32];
				Mem195[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem196[fp - 0x24 + 0x00:word32] = edx_194;
				Mem197[fp - 44 + 0x00:word32] = fp + 0x08;
				wc_cs94w_to_big5(dwArg00, dwArg04, dwArg08);
				break;
			}
			if (eax_20 == 0xC000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem189[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
					Mem191[fp - 44 + 0x00:word32] = Mem189[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
		}
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem109[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_111 = Mem109[fp + 0x0C:word32];
			Mem112[fp - 0x28 + 0x00:word32] = Mem109[fp + 0x08:word32];
			Mem113[fp - 0x24 + 0x00:word32] = edx_111;
			Mem114[fp - 44 + 0x00:word32] = fp - 0x14;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
			word32 edx_121 = Mem114[fp - 0x10 + 0x00:word32];
			Mem122[fp + 0x08:word32] = Mem114[fp - 0x14 + 0x00:word32];
			Mem123[fp + 0x0C:word32] = edx_121;
		}
		else
		{
			word32 eax_130;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_130 = 0xC000;
			else
				eax_130 = 0x4000;
			Mem131[fp + 0x08:word32] = eax_130;
		}
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem97[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_51 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem57[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_51:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
	Mem60[Mem57[fp + 0x04:word32] + 0x04:word32] = eax_51 + 0x01;
	Mem66[Mem60[Mem60[fp + 0x04:word32] + 0x00:word32] + Mem60[Mem60[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem66[Mem66[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem66[Mem66[fp + 0x04:word32] + 0x08:word32])
	{
		Mem94[fp - 44 + 0x00:word32] = Mem66[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_77 = Mem66[Mem66[fp + 0x04:word32] + 0x04:word32];
	Mem83[Mem66[Mem66[fp + 0x04:word32] + 0x00:word32] + eax_77:byte] = (byte) Mem66[fp + 0x0C:word32];
	Mem86[Mem83[fp + 0x04:word32] + 0x04:word32] = eax_77 + 0x01;
	Mem92[Mem86[Mem86[fp + 0x04:word32] + 0x00:word32] + Mem86[Mem86[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080C40A0: void wc_char_conv_from_big5(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_big5(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem137[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem140[0x081804BC:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 != 0x00)
	{
		if (eax_25 == 0x01 && ((word32) ((byte) ((word32) Mem0[(word32) al_12 + 135765312:byte])) & 0x04) != 0x00)
			wtf_push(fp - 0x04, gs, Mem0[0x081804BC:word32], 0x8801, (word32) (byte) (word32) Mem0[0x081804C0:byte] << 0x08 | (word32) al_12);
	}
	else
	{
		word32 eax_96 = (word32) (byte) (word32) Mem0[(word32) al_12 + 135765312:byte];
		if (eax_96 != 0x02)
		{
			if (eax_96 == 0x07)
			{
				Mem104[0x081804C0:byte] = (byte) (word32) al_12;
				Mem106[dwArg08 + 0x28:word32] = 0x01;
				return;
			}
			if (Mem0[Mem0[0x081804BC:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x081804BC:word32] + 0x08:word32])
				Strgrow(Mem0[0x081804BC:word32]);
			word32 eax_118 = Mem0[0x081804BC:word32];
			word32 edx_119 = Mem0[eax_118 + 0x04:word32];
			Mem124[Mem0[Mem0[0x081804BC:word32] + 0x00:word32] + edx_119:byte] = (byte) (word32) al_12;
			Mem127[eax_118 + 0x04:word32] = edx_119 + 0x01;
			Mem133[Mem127[Mem127[0x081804BC:word32] + 0x00:word32] + Mem127[Mem127[0x081804BC:word32] + 0x04:word32]:byte] = 0x00;
		}
	}
	Mem62[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080C41D8: Register byte wc_is_combining(Stack word32 dwArg04, Stack word32 dwArg08)
byte wc_is_combining(word32 dwArg04, word32 dwArg08)
{
	byte al_103;
	if ((dwArg04 & 0xFFFF) == 0x0819)
	{
		al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 0x0817B320:byte];
		return al_103;
	}
	if ((dwArg04 & 0xFFFF) >u 0x0819)
	{
		if ((dwArg04 & 0xFFFF) != 0x1000)
		{
			if ((dwArg04 & 0xFFFF) <=u 0x1000)
			{
				if ((dwArg04 & 0xFFFF) != 0x081B)
				{
					if ((dwArg04 & 0xFFFF) != 2077)
						goto l080C42EA;
					al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 135771168:byte];
				}
				else
					al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 135771040:byte];
				return al_103;
			}
			if ((dwArg04 & 0xFFFF) >u 0x2001)
				goto l080C42EA;
		}
		al_103 = wc_is_ucs_combining(dwArg08);
		return al_103;
	}
	else
	{
		if ((dwArg04 & 0xFFFF) == 0x080D)
		{
			al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 0x0817B1A0:byte];
			return al_103;
		}
		if ((dwArg04 & 0xFFFF) <=u 0x080D)
		{
			if ((dwArg04 & 0xFFFF) == 0x0247)
			{
				al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 0x0817B0A0:byte];
				return al_103;
			}
			if ((dwArg04 & 0xFFFF) == 0x0254)
			{
				al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 135770400:byte];
				return al_103;
			}
l080C42EA:
			al_103 = 0x00;
			return al_103;
		}
		if ((dwArg04 & 0xFFFF) != 0x0811)
		{
			if ((dwArg04 & 0xFFFF) != 0x0818)
				goto l080C42EA;
			al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 135770784:byte];
		}
		else
			al_103 = (byte) (word32) Mem0[(dwArg08 & 0x7F) + 0x0817B220:byte];
		return al_103;
	}
}

// 080C42F4: void wc_gbk_ext_to_cs128w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_gbk_ext_to_cs128w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_23;
	word32 edx_18 = (dwArg0C >>u 0x08 & 0xFF) *s 0xBE + (dwArg0C & 0xFF);
	if ((dwArg0C & 0xFF) <=u 0x7F)
		eax_23 = 0x40;
	else
		eax_23 = 0x41;
	word32 dwArg08_33;
	word32 ebx_25 = edx_18 - eax_23;
	word32 dwArg0C_28 = ebx_25 - 0x5FBE;
	if (ebx_25 <=u 0x9FBD)
		dwArg08_33 = 0x881A;
	else
	{
		dwArg08_33 = 34843;
		dwArg0C_28 = ebx_25 - 40894;
	}
	Mem47[dwArg04 + 0x00:word32] = dwArg08_33;
	Mem48[dwArg04 + 0x04:word32] = (dwArg0C_28 >>u 0x07 << 0x08) + (dwArg0C_28 & 0x7F);
}

// 080C438D: void wc_cs128w_to_gbk_ext(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs128w_to_gbk_ext(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_26 = ((dwArg0C >>u 0x08 & 0x7F) << 0x07) + (dwArg0C & 0x7F);
	word32 dwArg0C_100 = eax_26;
	if (dwArg08 == 34843)
		dwArg0C_100 = eax_26 + 0x4000;
	word32 eax_74;
	word32 ecx_57 = dwArg0C_100 - ~0x0B;
	if (dwArg0C_100 <=u 0x32)
		eax_74 = 0x40;
	else
		eax_74 = 0x41;
	Mem80[dwArg04 + 0x00:word32] = 0x8819;
	Mem81[dwArg04 + 0x04:word32] = ecx_57 + eax_74 + 0xB1DAC700;
}

// 080C446B: Register word32 wc_gbk_or_gbk_ext(Stack word32 dwArg04)
word32 wc_gbk_or_gbk_ext(word32 dwArg04)
{
	word32 eax_20;
	if (wc_map3_range_search((word32) (word16) dwArg04, 0x0817B4A0, 110) != 0x00)
		eax_20 = 0x8819;
	else
		eax_20 = 34838;
	return eax_20;
}

// 080C44A6: Register word32 wc_gb18030_to_ucs(Stack word32 dwArg04, Stack word32 dwArg08)
word32 wc_gb18030_to_ucs(word32 dwArg04, word32 dwArg08)
{
	word32 eax_108;
	if ((dwArg04 & 0xFFFF) != 0x8819)
	{
		if ((dwArg04 & 0xFFFF) <=u 0x8819)
		{
			if ((dwArg04 & 0xFFFF) != 0x2002)
			{
l080C45E7:
				eax_108 = wc_any_to_ucs(dwArg04, dwArg08);
				return eax_108;
			}
			if (dwArg08 <=u 0x8130812F || dwArg08 >u 2217845817)
			{
				if (dwArg08 >u 0x9030812F && dwArg08 <=u 0xE3329A35)
				{
					word32 eax_168 = ((dwArg08 >>u 0x18 << 0x02) + (dwArg08 >>u 0x18)) * 0x02 + (dwArg08 >>u 0x10 & 0xFF);
					eax_108 = (eax_168 * 0x80 - eax_168 * 0x02 + (dwArg08 >>u 0x08 & 0xFF)) * 0x05 * 0x02 + (dwArg08 & 0xFF) - 0x001BA0FA;
				}
				else
					eax_108 = ~0x00;
			}
			else
			{
				word32 dwLoc14_235;
				word32 eax_202 = ((dwArg08 >>u 0x18 << 0x02) + (dwArg08 >>u 0x18)) * 0x02 + (dwArg08 >>u 0x10 & 0xFF);
				word32 dwLoc18_190 = 0x00;
				word32 dwLoc1C_191 = 0xCD;
				word32 eax_217 = (eax_202 * 0x80 - eax_202 * 0x02 + (dwArg08 >>u 0x08 & 0xFF)) * 0x05 * 0x02 + (dwArg08 & 0xFF);
				if (eax_217 - 1687218 >=u (word32) ((word16) ((word32) Mem0[135773874:word16])))
					dwLoc14_235 = 0xCD;
				else
				{
					while (true)
					{
						word32 eax_268 = dwLoc18_190 + dwLoc1C_191;
						word32 eax_271 = (eax_268 >>u 0x1F) + eax_268;
						dwLoc14_235 = eax_271 >> 0x01;
						if (dwLoc18_190 == dwLoc1C_191)
							break;
						if (eax_217 - 1687218 >=u (word32) ((word16) ((word32) 135772644[((eax_271 >> 0x01) * 0x02 + (eax_271 >> 0x01)) * 0x02])))
						{
							if (eax_217 - 1687218 <u (word32) ((word16) ((word32) 135772644[(((eax_271 >> 0x01) + 0x01) * 0x03) * 0x02])))
								break;
							dwLoc18_190 = (eax_271 >> 0x01) + 0x01;
							continue;
						}
						dwLoc1C_191 = (eax_271 >> 0x01) - 0x01;
					}
				}
				eax_108 = (word32) (word16) (word32) 0x0817B9E0[dwLoc14_235 * 0x03 * 0x02] + (eax_217 - 1687218) - (word32) ((word16) ((word32) 135772644[(dwLoc14_235 * 0x03) * 0x02]));
			}
			return eax_108;
		}
		if ((dwArg04 & 0xFFFF) >u 34843)
			goto l080C45E7;
		wc_cs128w_to_gbk_ext(fp + 0x04, dwArg04, dwArg08);
	}
	word32 eax_58 = wc_map3_range_search((word32) (word16) dwArg08, 0x0817B4A0, 110);
	if (eax_58 != 0x00)
	{
		word32 eax_119;
		word32 edx_65 = (word32) (word16) (word32) Mem0[eax_58 + 0x04:word16];
		word32 ecx_73 = (dwArg08 >>u 0x08 & 0xFF) *s 0xBE + (dwArg08 & 0xFF);
		if ((dwArg08 & 0xFF) <=u 0x7F)
			eax_119 = 0x40;
		else
			eax_119 = 0x41;
		word32 eax_115;
		word32 ecx_82 = edx_65 + (ecx_73 - eax_119);
		if (((word32) (word16) (word32) Mem0[eax_58 + 0x02:word16] & 0xFF) <= 0x7F)
			eax_115 = 0x40;
		else
			eax_115 = 0x41;
		eax_108 = ecx_82 + (eax_115 + (((word32) ((word16) ((word32) Mem0[eax_58 + 0x02:word16]) >>u 0x08) *s ~0xBD + 0x5FBE) - ((word32) ((word16) ((word32) Mem0[eax_58 + 0x02:word16])) & 0xFF))) - 0x5FBE;
	}
	else
		eax_108 = ~0x00;
	return eax_108;
}

// 080C47AD: void wc_ucs_to_gb18030(Stack word32 dwArg04, Stack word32 dwArg08)
void wc_ucs_to_gb18030(word32 dwArg04, word32 dwArg08)
{
	if (dwArg08 <=u 0xFFFF)
	{
		word32 eax_74 = wc_map3_range_search((word32) (word16) dwArg08, 0x0817B740, 110);
		if (eax_74 != 0x00)
		{
			word32 eax_101;
			word32 edx_91 = (word32) ((word16) (word32) Mem0[eax_74 + 0x04:word16] >>u 0x08) *s 0xBE + ~0x5FBD + ((word32) ((word16) ((word32) Mem0[eax_74 + 0x04:word16])) & 0xFF);
			if (((word32) (word16) (word32) Mem0[eax_74 + 0x04:word16] & 0xFF) <= 0x7F)
				eax_101 = 0x40;
			else
				eax_101 = 0x41;
			word32 eax_157;
			word32 ecx_112 = edx_91 - eax_101 + dwArg08 - (word32) ((word16) ((word32) Mem0[eax_74 + 0x00:word16]));
			if (ecx_112 <=u 0x32)
				eax_157 = 0x40;
			else
				eax_157 = 0x41;
			Mem164[dwArg04 + 0x00:word32] = 0x8819;
			Mem165[dwArg04 + 0x04:word32] = ecx_112 - ~0x0B + eax_157 + 0xB1DAC700;
			return;
		}
		word32 eax_188 = wc_map3_range_search((word32) (word16) dwArg08, 0x0817B9E0, 0xCE);
		if (eax_188 != 0x00)
		{
			word32 dwLoc28_287;
			word32 ecx_203 = (word32) (word16) (word32) Mem0[eax_188 + 0x04:word16] + dwArg08 - (word32) ((word16) ((word32) Mem0[eax_188 + 0x00:word16]));
			if ((byte) (word32) Mem0[0x080DC0AD:byte] != 0x00)
				dwLoc28_287 = DPB(wc_ucs_to_ccs(dwArg08), 0x00, 0) | 0x2002;
			else
				dwLoc28_287 = 0x00012002;
			Mem290[dwArg04 + 0x00:word32] = dwLoc28_287;
			Mem291[dwArg04 + 0x04:word32] = ecx_203 + 0x5AD02236;
			return;
		}
	}
	else if (dwArg08 <=u 1114111)
	{
		word32 dwLoc28_394;
		if ((byte) (word32) Mem0[0x080DC0AD:byte] != 0x00)
			dwLoc28_394 = DPB(wc_ucs_to_ccs(dwArg08), 0x00, 0) | 0x2002;
		else
			dwLoc28_394 = 0x00012002;
		Mem397[dwArg04 + 0x00:word32] = dwLoc28_394;
		Mem398[dwArg04 + 0x04:word32] = dwArg08 + 1523713150;
		return;
	}
	Mem60[dwArg04 + 0x00:word32] = 0x4000;
	Mem61[dwArg04 + 0x04:word32] = dwLoc24;
}

// 080C4B76: void wc_conv_from_gb18030(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_gb18030(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_13 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_17 = Mem0[dwArg04 + 0x04:word32] + eax_13;
	word32 dwLoc1C_22 = eax_13;
	while (dwLoc1C_22 <u eax_17 && (byte) ((word32) Mem0[dwLoc1C_22 + 0x00:byte]) >= 0x00)
		dwLoc1C_22 = dwLoc1C_22 + 0x01;
	if (dwLoc1C_22 != eax_17)
	{
		word32 eax_73 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_73, eax_73);
		if (dwLoc1C_22 >u eax_13)
			Strcat_charp_n(eax_73, Mem0[dwArg04 + 0x00:word32], dwLoc1C_22 - eax_13);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_130 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_130 != 0x01)
			{
				if (eax_130 <= 0x01)
				{
					if (eax_130 != 0x00)
						goto l080C4F23;
					word32 eax_161 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135773888:byte];
					if (eax_161 != 0x02)
					{
						if (eax_161 == 0x0C)
						{
							Mem171[fp - 0x20 + 0x00:word32] = 0x01;
							goto l080C4CCF;
						}
						if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
						{
							Mem200[fp - 0x4C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_182 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem189[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_182:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
						Mem192[Mem189[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_182 + 0x01;
						Mem198[Mem192[Mem192[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem192[Mem192[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					}
					else
					{
						Mem202[fp - 0x44 + 0x00:word32] = 0x01;
						Mem204[fp - 0x48 + 0x00:word32] = Mem202[fp - 0x1C + 0x00:word32];
						Mem206[fp - 0x4C + 0x00:word32] = Mem204[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
l080C4CCF:
					}
					goto l080C4F23;
				}
				if (eax_130 != 0x02)
				{
					if (eax_130 != 0x03)
						goto l080C4F23;
					if ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135773888:byte] == 0x10)
					{
						Mem229[fp - 0x30 + 0x00:word32] = 0x00012002;
						Mem256[fp - 44 + 0x00:word32] = (word32) (byte) (word32) Mem229[Mem229[fp - 0x1C + 0x00:word32] + 0x00:byte] | (((word32) ((byte) ((word32) Mem229[(Mem229[(fp - 0x1C) + 0x00:word32] - 0x03) + 0x00:byte])) << 0x18 | (word32) ((byte) ((word32) Mem229[(Mem229[(fp - 0x1C) + 0x00:word32] - 0x02) + 0x00:byte])) << 0x10) | (word32) ((byte) ((word32) Mem229[(Mem229[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08);
						if ((byte) (word32) Mem256[0x080DC0AD:byte] != 0x00)
						{
							word32 edx_272 = Mem256[fp - 44 + 0x00:word32];
							Mem273[fp - 0x4C + 0x00:word32] = Mem256[fp - 0x30 + 0x00:word32];
							Mem274[fp - 0x48 + 0x00:word32] = edx_272;
							Mem276[fp - 0x28 + 0x00:word32] = wc_gb18030_to_ucs(dwArg00, dwArg04);
							if (Mem276[fp - 0x28 + 0x00:word32] == ~0x00)
								goto l080C4EE4;
							word32 ebx_279 = Mem276[fp - 44 + 0x00:word32];
							Mem281[fp - 0x4C + 0x00:word32] = Mem276[fp - 0x28 + 0x00:word32];
							word32 eax_284 = DPB(wc_ucs_to_ccs(dwArg00), 0x00, 0);
							Mem288[fp - 0x44 + 0x00:word32] = ebx_279;
							Mem289[fp - 0x48 + 0x00:word32] = eax_284 | 0x2002;
							Mem291[fp - 0x4C + 0x00:word32] = Mem289[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
						else
						{
l080C4EE4:
							word32 eax_265 = Mem256[fp - 0x30 + 0x00:word32];
							Mem266[fp - 0x44 + 0x00:word32] = Mem256[fp - 44 + 0x00:word32];
							Mem267[fp - 0x48 + 0x00:word32] = eax_265;
							Mem269[fp - 0x4C + 0x00:word32] = Mem267[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
					}
					else
					{
						word32 eax_292 = Mem0[fp - 0x1C + 0x00:word32];
						Mem295[fp - 0x44 + 0x00:word32] = 0x04;
						Mem296[fp - 0x48 + 0x00:word32] = eax_292 - 0x03;
						Mem298[fp - 0x4C + 0x00:word32] = Mem296[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem228[fp - 0x20 + 0x00:word32] = 0x00;
				}
				else if ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135773888:byte] == 0x0C)
					Mem307[fp - 0x20 + 0x00:word32] = 0x03;
				else
				{
					word32 eax_308 = Mem0[fp - 0x1C + 0x00:word32];
					Mem311[fp - 0x44 + 0x00:word32] = 0x03;
					Mem312[fp - 0x48 + 0x00:word32] = eax_308 - 0x02;
					Mem314[fp - 0x4C + 0x00:word32] = Mem312[fp - 0x10 + 0x00:word32];
					wtf_push_unknown(fp - 0x04, gs);
					Mem315[fp - 0x20 + 0x00:word32] = 0x00;
				}
				goto l080C4F23;
			}
			if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135773888:byte] & 0x04) != 0x00)
			{
				Mem351[fp - 0x24 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
				Mem355[fp - 0x4C + 0x00:word32] = (word32) (word16) Mem351[fp - 0x24 + 0x00:word32];
				if (wc_gbk_or_gbk_ext(dwArg00) == 0x8819)
				{
					Mem360[fp - 0x44 + 0x00:word32] = Mem355[fp - 0x24 + 0x00:word32];
					Mem361[fp - 0x48 + 0x00:word32] = 0x8819;
					Mem363[fp - 0x4C + 0x00:word32] = Mem361[fp - 0x10 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
				else if ((byte) (word32) Mem355[Mem355[fp - 0x1C + 0x00:word32] - 0x01 + 0x00:byte] >u 0xA0 && (byte) ((word32) Mem355[Mem355[(fp - 0x1C) + 0x00:word32] + 0x00:byte]) >u 0xA0)
				{
					Mem386[fp - 0x4C + 0x00:word32] = (word32) (word16) Mem355[fp - 0x24 + 0x00:word32];
					word32 eax_387 = wc_gb2312_or_gbk(dwArg00);
					Mem389[fp - 0x44 + 0x00:word32] = Mem386[fp - 0x24 + 0x00:word32];
					Mem390[fp - 0x48 + 0x00:word32] = eax_387;
					Mem392[fp - 0x4C + 0x00:word32] = Mem390[fp - 0x10 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
				else
				{
					Mem374[fp - 0x44 + 0x00:word32] = Mem355[fp - 0x24 + 0x00:word32];
					Mem375[fp - 0x48 + 0x00:word32] = 34838;
					Mem377[fp - 0x4C + 0x00:word32] = Mem375[fp - 0x10 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
				goto l080C4DDC;
			}
			if ((byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135773888:byte] == 0x10)
				Mem401[fp - 0x20 + 0x00:word32] = 0x02;
			else
			{
				word32 eax_402 = Mem0[fp - 0x1C + 0x00:word32];
				Mem405[fp - 0x44 + 0x00:word32] = 0x02;
				Mem406[fp - 0x48 + 0x00:word32] = eax_402 - 0x01;
				Mem408[fp - 0x4C + 0x00:word32] = Mem406[fp - 0x10 + 0x00:word32];
				wtf_push_unknown(fp - 0x04, gs);
l080C4DDC:
				Mem336[fp - 0x20 + 0x00:word32] = 0x00;
			}
l080C4F23:
			Mem148[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
		word32 eax_96 = Mem0[fp - 0x20 + 0x00:word32];
		if (eax_96 != 0x02)
		{
			if (eax_96 != 0x03)
			{
				if (eax_96 == 0x01)
				{
					word32 eax_108 = Mem0[fp - 0x1C + 0x00:word32];
					Mem111[fp - 0x44 + 0x00:word32] = 0x01;
					Mem112[fp - 0x48 + 0x00:word32] = eax_108 - 0x01;
					Mem114[fp - 0x4C + 0x00:word32] = Mem112[fp - 0x10 + 0x00:word32];
					wtf_push_unknown(fp - 0x04, gs);
				}
			}
			else
			{
				word32 eax_116 = Mem0[fp - 0x1C + 0x00:word32];
				Mem119[fp - 0x44 + 0x00:word32] = 0x03;
				Mem120[fp - 0x48 + 0x00:word32] = eax_116 - 0x03;
				Mem122[fp - 0x4C + 0x00:word32] = Mem120[fp - 0x10 + 0x00:word32];
				wtf_push_unknown(fp - 0x04, gs);
			}
		}
		else
		{
			word32 eax_123 = Mem0[fp - 0x1C + 0x00:word32];
			Mem126[fp - 0x44 + 0x00:word32] = 0x02;
			Mem127[fp - 0x48 + 0x00:word32] = eax_123 - 0x02;
			Mem129[fp - 0x4C + 0x00:word32] = Mem127[fp - 0x10 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080C4FA9: void wc_push_to_gb18030(Register word32 ebp)
void wc_push_to_gb18030(word32 ebp)
{
l080C4FAF:
	word32 eax_20 = Mem0[fp + 0x08:word32];
	if ((eax_20 & 0xFFFF) >u 0x8818)
	{
		if ((eax_20 & 0xFFFF) <=u 34843)
		{
			if ((eax_20 & 0xFFFF) >=u 0x881A)
			{
				word32 edx_433 = Mem0[fp + 0x0C:word32];
				Mem434[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem435[fp - 0x24 + 0x00:word32] = edx_433;
				Mem436[fp - 44 + 0x00:word32] = fp - 0x14;
				wc_cs128w_to_gbk(dwArg00, dwArg04, dwArg08);
				word32 edx_441 = Mem436[fp - 0x10 + 0x00:word32];
				Mem442[fp + 0x08:word32] = Mem436[fp - 0x14 + 0x00:word32];
				Mem443[fp + 0x0C:word32] = edx_441;
			}
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem430[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_385 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem391[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_385:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
			Mem394[Mem391[fp + 0x04:word32] + 0x04:word32] = eax_385 + 0x01;
			Mem400[Mem394[Mem394[fp + 0x04:word32] + 0x00:word32] + Mem394[Mem394[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem400[Mem400[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem400[Mem400[fp + 0x04:word32] + 0x08:word32])
			{
				Mem428[fp - 44 + 0x00:word32] = Mem400[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_411 = Mem400[Mem400[fp + 0x04:word32] + 0x04:word32];
			Mem417[Mem400[Mem400[fp + 0x04:word32] + 0x00:word32] + eax_411:byte] = (byte) Mem400[fp + 0x0C:word32];
			Mem420[Mem417[fp + 0x04:word32] + 0x04:word32] = eax_411 + 0x01;
			Mem426[Mem420[Mem420[fp + 0x04:word32] + 0x00:word32] + Mem420[Mem420[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			return;
		}
		if ((eax_20 & 0xFFFF) == 0xC000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem452[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
				Mem454[fp - 44 + 0x00:word32] = Mem452[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
l080C5436:
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem34[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_36 = Mem34[fp + 0x0C:word32];
			Mem37[fp - 0x28 + 0x00:word32] = Mem34[fp + 0x08:word32];
			Mem38[fp - 0x24 + 0x00:word32] = edx_36;
			Mem39[fp - 44 + 0x00:word32] = fp - 0x14;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
			word32 edx_47 = Mem39[fp - 0x10 + 0x00:word32];
			Mem48[fp + 0x08:word32] = Mem39[fp - 0x14 + 0x00:word32];
			Mem49[fp + 0x0C:word32] = edx_47;
		}
		else
		{
			word32 eax_56;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_56 = 0xC000;
			else
				eax_56 = 0x4000;
			Mem57[fp + 0x08:word32] = eax_56;
		}
		goto l080C4FAF;
	}
	else
	{
		if ((eax_20 & 0xFFFF) <u 0x8817)
		{
			if ((eax_20 & 0xFFFF) == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem355[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem357[fp - 44 + 0x00:word32] = Mem355[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if ((eax_20 & 0xFFFF) <=u 0x4000)
			{
				if ((eax_20 & 0xFFFF) != 322)
				{
					if ((eax_20 & 0xFFFF) != 0x2002)
						goto l080C5436;
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem257[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_156 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem162[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_156:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x18);
					Mem165[Mem162[fp + 0x04:word32] + 0x04:word32] = eax_156 + 0x01;
					Mem171[Mem165[Mem165[fp + 0x04:word32] + 0x00:word32] + Mem165[Mem165[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					if (Mem171[Mem171[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem171[Mem171[fp + 0x04:word32] + 0x08:word32])
					{
						Mem255[fp - 44 + 0x00:word32] = Mem171[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_182 = Mem171[Mem171[fp + 0x04:word32] + 0x04:word32];
					Mem188[Mem171[Mem171[fp + 0x04:word32] + 0x00:word32] + eax_182:byte] = (byte) (Mem171[fp + 0x0C:word32] >>u 0x10);
					Mem191[Mem188[fp + 0x04:word32] + 0x04:word32] = eax_182 + 0x01;
					Mem197[Mem191[Mem191[fp + 0x04:word32] + 0x00:word32] + Mem191[Mem191[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					if (Mem197[Mem197[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem197[Mem197[fp + 0x04:word32] + 0x08:word32])
					{
						Mem253[fp - 44 + 0x00:word32] = Mem197[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_208 = Mem197[Mem197[fp + 0x04:word32] + 0x04:word32];
					Mem214[Mem197[Mem197[fp + 0x04:word32] + 0x00:word32] + eax_208:byte] = (byte) (Mem197[fp + 0x0C:word32] >>u 0x08);
					Mem217[Mem214[fp + 0x04:word32] + 0x04:word32] = eax_208 + 0x01;
					Mem223[Mem217[Mem217[fp + 0x04:word32] + 0x00:word32] + Mem217[Mem217[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
					if (Mem223[Mem223[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem223[Mem223[fp + 0x04:word32] + 0x08:word32])
					{
						Mem251[fp - 44 + 0x00:word32] = Mem223[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_234 = Mem223[Mem223[fp + 0x04:word32] + 0x04:word32];
					Mem240[Mem223[Mem223[fp + 0x04:word32] + 0x00:word32] + eax_234:byte] = (byte) Mem223[fp + 0x0C:word32];
					Mem243[Mem240[fp + 0x04:word32] + 0x04:word32] = eax_234 + 0x01;
					Mem249[Mem243[Mem243[fp + 0x04:word32] + 0x00:word32] + Mem243[Mem243[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				}
				else
				{
					if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
					{
						Mem285[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
						Strgrow(dwArg00);
					}
					word32 eax_268 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
					Mem274[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_268:byte] = (byte) Mem0[fp + 0x0C:word32];
					Mem277[Mem274[fp + 0x04:word32] + 0x04:word32] = eax_268 + 0x01;
					Mem283[Mem277[Mem277[fp + 0x04:word32] + 0x00:word32] + Mem277[Mem277[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				}
				return;
			}
			if ((eax_20 & 0xFFFF) == 0x8141)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem348[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_300 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem307[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_300:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 | ~0x7F);
				Mem310[Mem307[fp + 0x04:word32] + 0x04:word32] = eax_300 + 0x01;
				Mem316[Mem310[Mem310[fp + 0x04:word32] + 0x00:word32] + Mem310[Mem310[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				if (Mem316[Mem316[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem316[Mem316[fp + 0x04:word32] + 0x08:word32])
				{
					Mem346[fp - 44 + 0x00:word32] = Mem316[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_327 = Mem316[Mem316[fp + 0x04:word32] + 0x04:word32];
				Mem335[Mem316[Mem316[fp + 0x04:word32] + 0x00:word32] + eax_327:byte] = (byte) (Mem316[fp + 0x0C:word32] | ~0x7F);
				Mem338[Mem335[fp + 0x04:word32] + 0x04:word32] = eax_327 + 0x01;
				Mem344[Mem338[Mem338[fp + 0x04:word32] + 0x00:word32] + Mem338[Mem338[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if ((eax_20 & 0xFFFF) != 34838)
				goto l080C5436;
		}
		else
		{
			word32 edx_362 = Mem0[fp + 0x0C:word32];
			Mem363[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem364[fp - 0x24 + 0x00:word32] = edx_362;
			Mem365[fp - 44 + 0x00:word32] = fp + 0x08;
			wc_cs128w_to_gbk(dwArg00, dwArg04, dwArg08);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
		{
			Mem137[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_92 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
		Mem98[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_92:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
		Mem101[Mem98[fp + 0x04:word32] + 0x04:word32] = eax_92 + 0x01;
		Mem107[Mem101[Mem101[fp + 0x04:word32] + 0x00:word32] + Mem101[Mem101[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		if (Mem107[Mem107[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem107[Mem107[fp + 0x04:word32] + 0x08:word32])
		{
			Mem135[fp - 44 + 0x00:word32] = Mem107[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_118 = Mem107[Mem107[fp + 0x04:word32] + 0x04:word32];
		Mem124[Mem107[Mem107[fp + 0x04:word32] + 0x00:word32] + eax_118:byte] = (byte) Mem107[fp + 0x0C:word32];
		Mem127[Mem124[fp + 0x04:word32] + 0x04:word32] = eax_118 + 0x01;
		Mem133[Mem127[Mem127[fp + 0x04:word32] + 0x00:word32] + Mem127[Mem127[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	}
}

// 080C549B: void wc_char_conv_from_gb18030(Register byte bpl, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_gb18030(byte bpl, selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_13 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem277[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem280[0x081804C4:word32] = dwArg08;
	}
	word32 eax_26 = Mem0[dwArg08 + 0x28:word32];
	if (eax_26 != 0x01)
	{
		if (eax_26 <= 0x01)
		{
			if (eax_26 != 0x00)
				goto l080C5788;
			word32 eax_92 = (word32) (byte) (word32) Mem0[(word32) al_13 + 135773888:byte];
			if (eax_92 != 0x02)
			{
				if (eax_92 == 0x0C)
				{
					Mem101[0x081804C8:byte] = (byte) (word32) al_13;
					Mem103[dwArg08 + 0x28:word32] = 0x01;
					return;
				}
				if (Mem0[Mem0[0x081804C4:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x081804C4:word32] + 0x08:word32])
					Strgrow(Mem0[0x081804C4:word32]);
				word32 eax_115 = Mem0[0x081804C4:word32];
				word32 edx_116 = Mem0[eax_115 + 0x04:word32];
				Mem121[Mem0[Mem0[0x081804C4:word32] + 0x00:word32] + edx_116:byte] = (byte) (word32) al_13;
				Mem124[eax_115 + 0x04:word32] = edx_116 + 0x01;
				Mem130[Mem124[Mem124[0x081804C4:word32] + 0x00:word32] + Mem124[Mem124[0x081804C4:word32] + 0x04:word32]:byte] = 0x00;
			}
		}
		else
		{
			if (eax_26 == 0x02)
			{
				if ((byte) (word32) Mem0[(word32) al_13 + 135773888:byte] == 0x0C)
				{
					Mem208[0x081804CA:byte] = (byte) (word32) al_13;
					Mem210[dwArg08 + 0x28:word32] = 0x03;
					return;
				}
				goto l080C5788;
			}
			if (eax_26 == 0x03 && (byte) ((word32) Mem0[(word32) al_13 + 135773888:byte]) == 0x10)
			{
				word32 eax_160 = (word32) al_13 | (((word32) ((byte) ((word32) Mem0[0x081804C8:byte])) << 0x18 | (word32) ((byte) ((word32) Mem0[0x081804C9:byte])) << 0x10) | (word32) ((byte) ((word32) Mem0[0x081804CA:byte])) << 0x08);
				if ((byte) (word32) Mem0[0x080DC0AD:byte] != 0x00)
				{
					Mem184[fp - 0x14 + 0x00:word32] = wc_gb18030_to_ucs(0x00012002, eax_160);
					if (Mem184[fp - 0x14 + 0x00:word32] != ~0x00)
					{
						word32 ebx_187 = Mem184[fp - 0x18 + 0x00:word32];
						Mem189[fp - 0x3C + 0x00:word32] = Mem184[fp - 0x14 + 0x00:word32];
						word32 eax_192 = DPB(wc_ucs_to_ccs(dwArg00), 0x00, 0);
						word32 eax_197 = Mem189[0x081804C4:word32];
						Mem198[fp - 0x34 + 0x00:word32] = ebx_187;
						Mem199[fp - 0x38 + 0x00:word32] = eax_192 | 0x2002;
						Mem200[fp - 0x3C + 0x00:word32] = eax_197;
						wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						goto l080C5788;
					}
				}
				word32 edx_172 = Mem0[fp - 0x1C + 0x00:word32];
				word32 eax_173 = Mem0[0x081804C4:word32];
				Mem174[fp - 0x34 + 0x00:word32] = Mem0[fp - 0x18 + 0x00:word32];
				Mem175[fp - 0x38 + 0x00:word32] = edx_172;
				Mem176[fp - 0x3C + 0x00:word32] = eax_173;
				wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				goto l080C5788;
			}
		}
	}
	else if (((word32) (byte) (word32) Mem0[(word32) al_13 + 135773888:byte] & 0x04) != 0x00)
	{
		word32 eax_226 = (word32) al_13 | (word32) ((byte) ((word32) Mem0[0x081804C8:byte])) << 0x08;
		if (wc_gbk_or_gbk_ext((word32) (word16) eax_226) == 0x8819)
			wtf_push(fp - 0x04, gs, Mem0[0x081804C4:word32], 0x8819, eax_226);
		else if ((byte) (word32) Mem0[0x081804C8:byte] >u 0xA0 && al_13 >u 0xA0)
			wtf_push(fp - 0x04, gs, Mem0[0x081804C4:word32], wc_gb2312_or_gbk((word32) (word16) eax_226), eax_226);
		else
			wtf_push(fp - 0x04, gs, Mem0[0x081804C4:word32], 34838, eax_226);
	}
	else if ((byte) (word32) Mem0[(word32) al_13 + 135773888:byte] == 0x10)
	{
		Mem272[0x081804C9:byte] = (byte) (word32) al_13;
		Mem274[dwArg08 + 0x28:word32] = 0x02;
		return;
	}
l080C5788:
	Mem73[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080C57A0: Register word32 wc_gb2312_or_gbk(Stack word32 dwArg04)
word32 wc_gb2312_or_gbk(word32 dwArg04)
{
	word32 eax_20;
	if (wc_map_range_search((word32) (word16) dwArg04, 135774144, 0x07) != 0x00)
		eax_20 = 34838;
	else
		eax_20 = 0x8141;
	return eax_20;
}

// 080C57DB: void wc_gbk_to_cs128w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_gbk_to_cs128w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_23;
	word32 edx_18 = (dwArg0C >>u 0x08 & 0xFF) *s 0xBE + (dwArg0C & 0xFF);
	if ((dwArg0C & 0xFF) <=u 0x7F)
		eax_23 = 0x40;
	else
		eax_23 = 0x41;
	word32 dwArg08_33;
	word32 ebx_25 = edx_18 - eax_23;
	word32 dwArg0C_28 = ebx_25 - 0x5FBE;
	if (ebx_25 <=u 0x9FBD)
		dwArg08_33 = 0x8817;
	else
	{
		dwArg08_33 = 0x8818;
		dwArg0C_28 = ebx_25 - 40894;
	}
	Mem47[dwArg04 + 0x00:word32] = dwArg08_33;
	Mem48[dwArg04 + 0x04:word32] = (dwArg0C_28 >>u 0x07 << 0x08) + (dwArg0C_28 & 0x7F);
}

// 080C5874: void wc_cs128w_to_gbk(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs128w_to_gbk(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_26 = ((dwArg0C >>u 0x08 & 0x7F) << 0x07) + (dwArg0C & 0x7F);
	word32 dwArg0C_100 = eax_26;
	if (dwArg08 == 0x8818)
		dwArg0C_100 = eax_26 + 0x4000;
	word32 eax_74;
	word32 ecx_57 = dwArg0C_100 - ~0x0B;
	if (dwArg0C_100 <=u 0x32)
		eax_74 = 0x40;
	else
		eax_74 = 0x41;
	Mem80[dwArg04 + 0x00:word32] = 34838;
	Mem81[dwArg04 + 0x04:word32] = ecx_57 + eax_74 + 0xB1DAC700;
}

// 080C5952: void wc_gbk_to_N(Stack word32 dwArg04)
void wc_gbk_to_N(word32 dwArg04)
{
}

// 080C5BB1: void wc_conv_from_gbk(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_gbk(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_19 = eax_10;
	while (dwLoc1C_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_19 + 0x00:byte]) >= 0x00)
		dwLoc1C_19 = dwLoc1C_19 + 0x01;
	if (dwLoc1C_19 != eax_14)
	{
		word32 eax_68 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_68, eax_68);
		if (dwLoc1C_19 >u eax_10)
			Strcat_charp_n(eax_68, Mem0[dwArg04 + 0x00:word32], dwLoc1C_19 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_103 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_103 != 0x00)
			{
				if (eax_103 == 0x01)
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135774176:byte] & 0x04) != 0x00)
					{
						Mem155[fp - 0x24 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
						if ((byte) (word32) Mem155[Mem155[fp - 0x1C + 0x00:word32] - 0x01 + 0x00:byte] >u 0xA0 && (byte) ((word32) Mem155[Mem155[(fp - 0x1C) + 0x00:word32] + 0x00:byte]) >u 0xA0)
						{
							Mem180[fp - 0x3C + 0x00:word32] = (word32) (word16) Mem155[fp - 0x24 + 0x00:word32];
							word32 eax_181 = wc_gb2312_or_gbk(dwArg00);
							Mem183[fp - 0x34 + 0x00:word32] = Mem180[fp - 0x24 + 0x00:word32];
							Mem184[fp - 0x38 + 0x00:word32] = eax_181;
							Mem186[fp - 0x3C + 0x00:word32] = Mem184[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
						else
						{
							Mem166[fp - 0x34 + 0x00:word32] = Mem155[fp - 0x24 + 0x00:word32];
							Mem167[fp - 0x38 + 0x00:word32] = 34838;
							Mem169[fp - 0x3C + 0x00:word32] = Mem167[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
					}
					else
					{
						word32 eax_187 = Mem0[fp - 0x1C + 0x00:word32];
						Mem190[fp - 0x34 + 0x00:word32] = 0x02;
						Mem191[fp - 0x38 + 0x00:word32] = eax_187 - 0x01;
						Mem193[fp - 0x3C + 0x00:word32] = Mem191[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem142[fp - 0x20 + 0x00:word32] = 0x00;
				}
				goto l080C5DD5;
			}
			word32 eax_200 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 135774176:byte];
			if (eax_200 != 0x0C)
			{
				if (eax_200 != 0x14)
				{
					if (eax_200 != 0x02)
					{
						if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
						{
							Mem241[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
							Strgrow(dwArg00);
						}
						word32 eax_223 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
						Mem230[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_223:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
						Mem233[Mem230[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_223 + 0x01;
						Mem239[Mem233[Mem233[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem233[Mem233[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
						goto l080C5DD5;
					}
					Mem242[fp - 0x34 + 0x00:word32] = 0x01;
					Mem244[fp - 0x38 + 0x00:word32] = Mem242[fp - 0x1C + 0x00:word32];
					Mem246[fp - 0x3C + 0x00:word32] = Mem244[fp - 0x10 + 0x00:word32];
					wtf_push_unknown(fp - 0x04, gs);
				}
				else
				{
					Mem251[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
					Mem252[fp - 0x38 + 0x00:word32] = 0x0827;
					Mem254[fp - 0x3C + 0x00:word32] = Mem252[fp - 0x10 + 0x00:word32];
					wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
				}
			}
			else
				Mem255[fp - 0x20 + 0x00:word32] = 0x01;
l080C5DD5:
			Mem121[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x20 + 0x00:word32] == 0x01)
		{
			word32 eax_95 = Mem0[fp - 0x1C + 0x00:word32];
			Mem98[fp - 0x34 + 0x00:word32] = 0x01;
			Mem99[fp - 0x38 + 0x00:word32] = eax_95 - 0x01;
			Mem101[fp - 0x3C + 0x00:word32] = Mem99[fp - 0x10 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080C5E0F: void wc_push_to_gbk(Register word32 ebp)
void wc_push_to_gbk(word32 ebp)
{
	while (true)
	{
		word32 eax_20 = Mem0[fp + 0x08:word32];
		if (eax_20 == 0x8141)
			break;
		if (eax_20 <=u 0x8141)
		{
			if (eax_20 == 0x0827)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem151[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_132 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem140[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_132:byte] = (byte) (Mem0[fp + 0x0C:word32] | ~0x7F);
				Mem143[Mem140[fp + 0x04:word32] + 0x04:word32] = eax_132 + 0x01;
				Mem149[Mem143[Mem143[fp + 0x04:word32] + 0x00:word32] + Mem143[Mem143[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem117[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem119[fp - 44 + 0x00:word32] = Mem117[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if (eax_20 == 322)
			{
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem110[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_93 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem99[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_93:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem102[Mem99[fp + 0x04:word32] + 0x04:word32] = eax_93 + 0x01;
				Mem108[Mem102[Mem102[fp + 0x04:word32] + 0x00:word32] + Mem102[Mem102[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
			goto l080C60CE;
		}
		if (eax_20 <=u 0x8818)
		{
			if (eax_20 <u 0x8817)
			{
				if (eax_20 != 34838)
					goto l080C60CE;
			}
			else
			{
				word32 edx_219 = Mem0[fp + 0x0C:word32];
				Mem220[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
				Mem221[fp - 0x24 + 0x00:word32] = edx_219;
				Mem222[fp - 44 + 0x00:word32] = fp + 0x08;
				wc_cs128w_to_gbk(dwArg00, dwArg04, dwArg08);
			}
			if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
			{
				Mem214[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_169 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
			Mem175[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_169:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
			Mem178[Mem175[fp + 0x04:word32] + 0x04:word32] = eax_169 + 0x01;
			Mem184[Mem178[Mem178[fp + 0x04:word32] + 0x00:word32] + Mem178[Mem178[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			if (Mem184[Mem184[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem184[Mem184[fp + 0x04:word32] + 0x08:word32])
			{
				Mem212[fp - 44 + 0x00:word32] = Mem184[fp + 0x04:word32];
				Strgrow(dwArg00);
			}
			word32 eax_195 = Mem184[Mem184[fp + 0x04:word32] + 0x04:word32];
			Mem201[Mem184[Mem184[fp + 0x04:word32] + 0x00:word32] + eax_195:byte] = (byte) Mem184[fp + 0x0C:word32];
			Mem204[Mem201[fp + 0x04:word32] + 0x04:word32] = eax_195 + 0x01;
			Mem210[Mem204[Mem204[fp + 0x04:word32] + 0x00:word32] + Mem204[Mem204[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
			return;
		}
		if (eax_20 == 0xC000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem234[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
				Mem236[fp - 44 + 0x00:word32] = Mem234[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
l080C60CE:
		if ((byte) (word32) Mem0[135119011:byte] != 0x00)
		{
			Mem49[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
			word32 edx_51 = Mem49[fp + 0x0C:word32];
			Mem52[fp - 0x28 + 0x00:word32] = Mem49[fp + 0x08:word32];
			Mem53[fp - 0x24 + 0x00:word32] = edx_51;
			Mem54[fp - 44 + 0x00:word32] = fp - 0x14;
			wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
			word32 edx_62 = Mem54[fp - 0x10 + 0x00:word32];
			Mem63[fp + 0x08:word32] = Mem54[fp - 0x14 + 0x00:word32];
			Mem64[fp + 0x0C:word32] = edx_62;
		}
		else
		{
			word32 eax_71;
			if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
				eax_71 = 0xC000;
			else
				eax_71 = 0x4000;
			Mem72[fp + 0x08:word32] = eax_71;
		}
	}
	if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
	{
		Mem295[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_247 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
	Mem254[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_247:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08 | ~0x7F);
	Mem257[Mem254[fp + 0x04:word32] + 0x04:word32] = eax_247 + 0x01;
	Mem263[Mem257[Mem257[fp + 0x04:word32] + 0x00:word32] + Mem257[Mem257[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	if (Mem263[Mem263[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem263[Mem263[fp + 0x04:word32] + 0x08:word32])
	{
		Mem293[fp - 44 + 0x00:word32] = Mem263[fp + 0x04:word32];
		Strgrow(dwArg00);
	}
	word32 eax_274 = Mem263[Mem263[fp + 0x04:word32] + 0x04:word32];
	Mem282[Mem263[Mem263[fp + 0x04:word32] + 0x00:word32] + eax_274:byte] = (byte) (Mem263[fp + 0x0C:word32] | ~0x7F);
	Mem285[Mem282[fp + 0x04:word32] + 0x04:word32] = eax_274 + 0x01;
	Mem291[Mem285[Mem285[fp + 0x04:word32] + 0x00:word32] + Mem285[Mem285[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
}

// 080C6133: void wc_char_conv_from_gbk(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_gbk(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem179[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem182[0x081804CC:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 != 0x00)
	{
		if (eax_25 == 0x01 && ((word32) ((byte) ((word32) Mem0[(word32) al_12 + 135774176:byte])) & 0x04) != 0x00)
		{
			word32 eax_94 = (word32) al_12 | (word32) ((byte) ((word32) Mem0[0x081804D0:byte])) << 0x08;
			if ((byte) (word32) Mem0[0x081804D0:byte] >u 0xA0 && al_12 >u 0xA0)
				wtf_push(fp - 0x04, gs, Mem0[0x081804CC:word32], wc_gb2312_or_gbk((word32) (word16) eax_94), eax_94);
			else
				wtf_push(fp - 0x04, gs, Mem0[0x081804CC:word32], 34838, eax_94);
		}
		goto l080C62C0;
	}
	word32 eax_123 = (word32) (byte) (word32) Mem0[(word32) al_12 + 135774176:byte];
	if (eax_123 == 0x0C)
	{
		Mem174[0x081804D0:byte] = (byte) (word32) al_12;
		Mem176[dwArg08 + 0x28:word32] = 0x01;
		return;
	}
	if (eax_123 != 0x14)
	{
		if (eax_123 != 0x02)
		{
			if (Mem0[Mem0[0x081804CC:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x081804CC:word32] + 0x08:word32])
				Strgrow(Mem0[0x081804CC:word32]);
			word32 eax_149 = Mem0[0x081804CC:word32];
			word32 edx_150 = Mem0[eax_149 + 0x04:word32];
			Mem155[Mem0[Mem0[0x081804CC:word32] + 0x00:word32] + edx_150:byte] = (byte) (word32) al_12;
			Mem158[eax_149 + 0x04:word32] = edx_150 + 0x01;
			Mem164[Mem158[Mem158[0x081804CC:word32] + 0x00:word32] + Mem158[Mem158[0x081804CC:word32] + 0x04:word32]:byte] = 0x00;
l080C62C0:
			Mem69[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
			return;
		}
	}
	else
		wtf_push(fp - 0x04, gs, Mem0[0x081804CC:word32], 0x0827, (word32) al_12);
	goto l080C62C0;
}

// 080C62D8: void wc_hkscs_to_cs128w(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_hkscs_to_cs128w(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_23;
	word32 edx_18 = (dwArg0C >>u 0x08 & 0xFF) *s 0x9D + (dwArg0C & 0xFF);
	if ((dwArg0C & 0xFF) <=u 0xA0)
		eax_23 = 0x40;
	else
		eax_23 = 0x62;
	word32 dwArg08_33;
	word32 ebx_25 = edx_18 - eax_23;
	word32 dwArg0C_28 = ebx_25 - 21352;
	if (ebx_25 <=u 37735)
		dwArg08_33 = 0x8820;
	else
	{
		dwArg08_33 = 0x8821;
		dwArg0C_28 = ebx_25 - 37736;
	}
	Mem47[dwArg04 + 0x00:word32] = dwArg08_33;
	Mem48[dwArg04 + 0x04:word32] = (dwArg0C_28 >>u 0x07 << 0x08) + (dwArg0C_28 & 0x7F);
}

// 080C6373: void wc_cs128w_to_hkscs(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_cs128w_to_hkscs(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_26 = ((dwArg0C >>u 0x08 & 0x7F) << 0x07) + (dwArg0C & 0x7F);
	word32 dwArg0C_27 = eax_26;
	if (dwArg08 == 0x8821)
		dwArg0C_27 = eax_26 + 0x4000;
	word32 eax_66;
	word32 ecx_52 = dwArg0C_27 - ~0x5C;
	if (dwArg0C_27 <=u ~0x1E)
		eax_66 = 0x40;
	else
		eax_66 = 0x62;
	Mem72[dwArg04 + 0x00:word32] = 0x881F;
	Mem73[dwArg04 + 0x04:word32] = ecx_52 + eax_66 + 0xA16DC700;
}

// 080C643D: void wc_hkscs_to_N(Stack word32 dwArg04)
void wc_hkscs_to_N(word32 dwArg04)
{
}

// 080C64D3: void wc_conv_from_hkscs(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_hkscs(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_19 = eax_10;
	while (dwLoc1C_19 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_19 + 0x00:byte]) >= 0x00)
		dwLoc1C_19 = dwLoc1C_19 + 0x01;
	if (dwLoc1C_19 != eax_14)
	{
		word32 eax_66 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_66, eax_66);
		if (dwLoc1C_19 >u eax_10)
			Strcat_charp_n(eax_66, Mem0[dwArg04 + 0x00:word32], dwLoc1C_19 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			word32 eax_100 = Mem0[fp - 0x20 + 0x00:word32];
			if (eax_100 != 0x00)
			{
				if (eax_100 == 0x01)
				{
					if (((word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 0x0817C0E0:byte] & 0x04) != 0x00)
					{
						Mem149[fp - 0x24 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] | (word32) ((byte) ((word32) Mem0[(Mem0[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte])) << 0x08;
						if ((byte) (word32) Mem149[Mem149[fp - 0x1C + 0x00:word32] - 0x01 + 0x00:byte] >u 0xA0 && (byte) ((word32) Mem149[(Mem149[(fp - 0x1C) + 0x00:word32] - 0x01) + 0x00:byte]) <=u ~0x06)
						{
							Mem173[fp - 0x34 + 0x00:word32] = Mem149[fp - 0x24 + 0x00:word32];
							Mem174[fp - 0x38 + 0x00:word32] = 0x8801;
							Mem176[fp - 0x3C + 0x00:word32] = Mem174[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
						else
						{
							Mem160[fp - 0x34 + 0x00:word32] = Mem149[fp - 0x24 + 0x00:word32];
							Mem161[fp - 0x38 + 0x00:word32] = 0x881F;
							Mem163[fp - 0x3C + 0x00:word32] = Mem161[fp - 0x10 + 0x00:word32];
							wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
						}
					}
					else
					{
						word32 eax_177 = Mem0[fp - 0x1C + 0x00:word32];
						Mem180[fp - 0x34 + 0x00:word32] = 0x02;
						Mem181[fp - 0x38 + 0x00:word32] = eax_177 - 0x01;
						Mem183[fp - 0x3C + 0x00:word32] = Mem181[fp - 0x10 + 0x00:word32];
						wtf_push_unknown(fp - 0x04, gs);
					}
					Mem136[fp - 0x20 + 0x00:word32] = 0x00;
				}
				goto l080C66CB;
			}
			word32 eax_190 = (word32) (byte) (word32) Mem0[(word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] + 0x0817C0E0:byte];
			if (eax_190 != 0x0C && eax_190 != 0x10)
			{
				if (eax_190 != 0x02)
				{
					if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
					{
						Mem232[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
						Strgrow(dwArg00);
					}
					word32 eax_214 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
					Mem221[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_214:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
					Mem224[Mem221[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_214 + 0x01;
					Mem230[Mem224[Mem224[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem224[Mem224[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
					goto l080C66CB;
				}
				Mem233[fp - 0x34 + 0x00:word32] = 0x01;
				Mem235[fp - 0x38 + 0x00:word32] = Mem233[fp - 0x1C + 0x00:word32];
				Mem237[fp - 0x3C + 0x00:word32] = Mem235[fp - 0x10 + 0x00:word32];
				wtf_push_unknown(fp - 0x04, gs);
			}
			else
				Mem199[fp - 0x20 + 0x00:word32] = 0x01;
l080C66CB:
			Mem116[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
		if (Mem0[fp - 0x20 + 0x00:word32] == 0x01)
		{
			word32 eax_92 = Mem0[fp - 0x1C + 0x00:word32];
			Mem95[fp - 0x34 + 0x00:word32] = 0x01;
			Mem96[fp - 0x38 + 0x00:word32] = eax_92 - 0x01;
			Mem98[fp - 0x3C + 0x00:word32] = Mem96[fp - 0x10 + 0x00:word32];
			wtf_push_unknown(fp - 0x04, gs);
		}
	}
}

// 080C6705: void wc_push_to_hkscs(Register word32 ebp)
void wc_push_to_hkscs(word32 ebp)
{
l080C670B:
	word32 eax_20 = Mem0[fp + 0x08:word32];
	if (eax_20 <=u 0x8803)
	{
		if (eax_20 <u 0x8802)
		{
			if (eax_20 == 0x4000)
			{
				if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
				{
					Mem176[fp - 0x28 + 0x00:word32] = Mem0[0x080DB990:word32];
					Mem178[fp - 44 + 0x00:word32] = Mem176[fp + 0x04:word32];
					Strcat_charp(dwArg00, dwArg04);
				}
				return;
			}
			if (eax_20 != 0x8801)
			{
				if (eax_20 != 322)
					goto l080C6992;
				if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
				{
					Mem169[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
					Strgrow(dwArg00);
				}
				word32 eax_152 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
				Mem158[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_152:byte] = (byte) Mem0[fp + 0x0C:word32];
				Mem161[Mem158[fp + 0x04:word32] + 0x04:word32] = eax_152 + 0x01;
				Mem167[Mem161[Mem161[fp + 0x04:word32] + 0x00:word32] + Mem161[Mem161[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
				return;
			}
		}
		else
		{
			word32 edx_183 = Mem0[fp + 0x0C:word32];
			Mem184[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem185[fp - 0x24 + 0x00:word32] = edx_183;
			Mem186[fp - 44 + 0x00:word32] = fp + 0x08;
			wc_cs94w_to_big5(dwArg00, dwArg04, dwArg08);
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
		{
			Mem135[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_90 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
		Mem96[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_90:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
		Mem99[Mem96[fp + 0x04:word32] + 0x04:word32] = eax_90 + 0x01;
		Mem105[Mem99[Mem99[fp + 0x04:word32] + 0x00:word32] + Mem99[Mem99[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		if (Mem105[Mem105[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem105[Mem105[fp + 0x04:word32] + 0x08:word32])
		{
			Mem133[fp - 44 + 0x00:word32] = Mem105[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_116 = Mem105[Mem105[fp + 0x04:word32] + 0x04:word32];
		Mem122[Mem105[Mem105[fp + 0x04:word32] + 0x00:word32] + eax_116:byte] = (byte) Mem105[fp + 0x0C:word32];
		Mem125[Mem122[fp + 0x04:word32] + 0x04:word32] = eax_116 + 0x01;
		Mem131[Mem125[Mem125[fp + 0x04:word32] + 0x00:word32] + Mem125[Mem125[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		return;
	}
	if (eax_20 >u 0x8821)
	{
		if (eax_20 == 0xC000)
		{
			if ((byte) (word32) Mem0[0x080DC0AE:byte] == 0x00)
			{
				Mem276[fp - 0x28 + 0x00:word32] = Mem0[0x080DB994:word32];
				Mem278[fp - 44 + 0x00:word32] = Mem276[fp + 0x04:word32];
				Strcat_charp(dwArg00, dwArg04);
			}
			return;
		}
		goto l080C6992;
	}
	else
	{
		if (eax_20 <u 0x8820)
		{
			if (eax_20 != 0x881F)
			{
l080C6992:
				if ((byte) (word32) Mem0[135119011:byte] != 0x00)
				{
					Mem33[fp - 0x20 + 0x00:word32] = Mem0[fp + 0x10:word32];
					word32 edx_35 = Mem33[fp + 0x0C:word32];
					Mem36[fp - 0x28 + 0x00:word32] = Mem33[fp + 0x08:word32];
					Mem37[fp - 0x24 + 0x00:word32] = edx_35;
					Mem38[fp - 44 + 0x00:word32] = fp - 0x14;
					wc_any_to_any_ces(fp - 0x04, dwArg00, dwArg04, dwArg08);
					word32 edx_46 = Mem38[fp - 0x10 + 0x00:word32];
					Mem47[fp + 0x08:word32] = Mem38[fp - 0x14 + 0x00:word32];
					Mem48[fp + 0x0C:word32] = edx_46;
				}
				else
				{
					word32 eax_55;
					if ((Mem0[fp + 0x08:word32] & 0x00018000) != 0x00)
						eax_55 = 0xC000;
					else
						eax_55 = 0x4000;
					Mem56[fp + 0x08:word32] = eax_55;
				}
				goto l080C670B;
			}
		}
		else
		{
			word32 edx_257 = Mem0[fp + 0x0C:word32];
			Mem258[fp - 0x28 + 0x00:word32] = Mem0[fp + 0x08:word32];
			Mem259[fp - 0x24 + 0x00:word32] = edx_257;
			Mem260[fp - 44 + 0x00:word32] = fp - 0x14;
			wc_cs128w_to_hkscs(dwArg00, dwArg04, dwArg08);
			word32 edx_265 = Mem260[fp - 0x10 + 0x00:word32];
			Mem266[fp + 0x08:word32] = Mem260[fp - 0x14 + 0x00:word32];
			Mem267[fp + 0x0C:word32] = edx_265;
		}
		if (Mem0[Mem0[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[fp + 0x04:word32] + 0x08:word32])
		{
			Mem252[fp - 44 + 0x00:word32] = Mem0[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_207 = Mem0[Mem0[fp + 0x04:word32] + 0x04:word32];
		Mem213[Mem0[Mem0[fp + 0x04:word32] + 0x00:word32] + eax_207:byte] = (byte) (Mem0[fp + 0x0C:word32] >>u 0x08);
		Mem216[Mem213[fp + 0x04:word32] + 0x04:word32] = eax_207 + 0x01;
		Mem222[Mem216[Mem216[fp + 0x04:word32] + 0x00:word32] + Mem216[Mem216[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
		if (Mem222[Mem222[fp + 0x04:word32] + 0x04:word32] + 0x01 >= Mem222[Mem222[fp + 0x04:word32] + 0x08:word32])
		{
			Mem250[fp - 44 + 0x00:word32] = Mem222[fp + 0x04:word32];
			Strgrow(dwArg00);
		}
		word32 eax_233 = Mem222[Mem222[fp + 0x04:word32] + 0x04:word32];
		Mem239[Mem222[Mem222[fp + 0x04:word32] + 0x00:word32] + eax_233:byte] = (byte) Mem222[fp + 0x0C:word32];
		Mem242[Mem239[fp + 0x04:word32] + 0x04:word32] = eax_233 + 0x01;
		Mem248[Mem242[Mem242[fp + 0x04:word32] + 0x00:word32] + Mem242[Mem242[fp + 0x04:word32] + 0x04:word32]:byte] = 0x00;
	}
}

// 080C69F7: void wc_char_conv_from_hkscs(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_hkscs(selector gs, word32 dwArg04, word32 dwArg08)
{
	byte al_12 = (byte) dwArg04;
	if (Mem0[dwArg08 + 0x28:word32] == ~0x00)
	{
		Mem165[dwArg08 + 0x28:word32] = 0x00;
		Strnew_size(dwArg08, 0x08);
		Mem168[0x081804D4:word32] = dwArg08;
	}
	word32 eax_25 = Mem0[dwArg08 + 0x28:word32];
	if (eax_25 != 0x00)
	{
		if (eax_25 == 0x01 && ((word32) ((byte) ((word32) Mem0[(word32) al_12 + 0x0817C0E0:byte])) & 0x04) != 0x00)
		{
			word32 eax_91 = (word32) al_12 | (word32) ((byte) ((word32) Mem0[0x081804D8:byte])) << 0x08;
			if ((byte) (word32) Mem0[0x081804D8:byte] >u 0xA0 && ((byte) ((word32) Mem0[0x081804D8:byte]) <=u ~0x06 && al_12 >u 0xA0))
				wtf_push(fp - 0x04, gs, Mem0[0x081804D4:word32], 0x8801, eax_91);
			else
				wtf_push(fp - 0x04, gs, Mem0[0x081804D4:word32], 0x881F, eax_91);
		}
	}
	else
	{
		word32 eax_120 = (word32) (byte) (word32) Mem0[(word32) al_12 + 0x0817C0E0:byte];
		if (eax_120 == 0x0C || eax_120 == 0x10)
		{
			Mem128[0x081804D8:byte] = (byte) (word32) al_12;
			Mem130[dwArg08 + 0x28:word32] = 0x01;
			return;
		}
		if (eax_120 != 0x02)
		{
			if (Mem0[Mem0[0x081804D4:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[0x081804D4:word32] + 0x08:word32])
				Strgrow(Mem0[0x081804D4:word32]);
			word32 eax_146 = Mem0[0x081804D4:word32];
			word32 edx_147 = Mem0[eax_146 + 0x04:word32];
			Mem152[Mem0[Mem0[0x081804D4:word32] + 0x00:word32] + edx_147:byte] = (byte) (word32) al_12;
			Mem155[eax_146 + 0x04:word32] = edx_147 + 0x01;
			Mem161[Mem155[Mem155[0x081804D4:word32] + 0x00:word32] + Mem155[Mem155[0x081804D4:word32] + 0x04:word32]:byte] = 0x00;
		}
	}
	Mem66[Mem0[fp + 0x08:word32] + 0x28:word32] = ~0x00;
}

// 080C6B7C: void wc_conv_from_priv1(Register word32 ebp, Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_conv_from_priv1(word32 ebp, selector gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_166 = eax_10;
	while (dwLoc1C_166 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_166 + 0x00:byte]) >= 0x00)
		dwLoc1C_166 = dwLoc1C_166 + 0x01;
	if (dwLoc1C_166 != eax_14)
	{
		word32 eax_73 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_73, eax_73);
		if (dwLoc1C_166 >u eax_10)
			Strcat_charp_n(eax_73, Mem0[dwArg04 + 0x00:word32], dwLoc1C_166 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			if ((byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] < 0x00)
			{
				Mem113[fp - 0x34 + 0x00:word32] = (word32) (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem115[fp - 0x38 + 0x00:word32] = Mem113[fp - 0x20 + 0x00:word32];
				Mem117[fp - 0x3C + 0x00:word32] = Mem115[fp - 0x10 + 0x00:word32];
				wtf_push(fp - 0x04, gs, dwArg00, dwArg04, dwArg08);
			}
			else
			{
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
				{
					Mem148[fp - 0x3C + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_130 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem137[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_130:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem140[Mem137[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_130 + 0x01;
				Mem146[Mem140[Mem140[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem140[Mem140[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			Mem107[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
	}
}

// 080C6CAB: void wc_char_conv_from_priv1(Register selector gs, Stack word32 dwArg04, Stack word32 dwArg08)
void wc_char_conv_from_priv1(selector gs, word32 dwArg04, word32 dwArg08)
{
	Strnew_size(dwArg04, 0x01);
	byte al_10 = (byte) dwArg04;
	if ((byte) (word32) al_10 < 0x00)
		wtf_push(fp - 0x04, gs, dwArg04, Mem0[Mem0[Mem0[dwArg08 + 0x00:word32] + 0x0C:word32] + 0x08:word32], (word32) al_10);
	else
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_60 = Mem0[dwArg04 + 0x04:word32];
		Mem66[Mem0[dwArg04 + 0x00:word32] + eax_60:byte] = (byte) (word32) al_10;
		Mem69[dwArg04 + 0x04:word32] = eax_60 + 0x01;
		Mem75[Mem69[dwArg04 + 0x00:word32] + Mem69[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080C6D46: void wc_conv_from_ascii(Register word32 ebp, Register selector gs, Stack word32 dwArg04)
void wc_conv_from_ascii(word32 ebp, selector gs, word32 dwArg04)
{
	word32 eax_10 = Mem0[dwArg04 + 0x00:word32];
	word32 eax_14 = Mem0[dwArg04 + 0x04:word32] + eax_10;
	word32 dwLoc1C_153 = eax_10;
	while (dwLoc1C_153 <u eax_14 && (byte) ((word32) Mem0[dwLoc1C_153 + 0x00:byte]) >= 0x00)
		dwLoc1C_153 = dwLoc1C_153 + 0x01;
	if (dwLoc1C_153 != eax_14)
	{
		word32 eax_65 = Mem0[dwArg04 + 0x04:word32];
		Strnew_size(eax_65, eax_65);
		if (dwLoc1C_153 >u eax_10)
			Strcat_charp_n(eax_65, Mem0[dwArg04 + 0x00:word32], dwLoc1C_153 - eax_10);
		while (Mem0[fp - 0x1C + 0x00:word32] <u Mem0[(fp - 0x18) + 0x00:word32])
		{
			if ((byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte] < 0x00)
			{
				Mem100[fp - 0x24 + 0x00:word32] = 0x01;
				Mem102[fp - 0x28 + 0x00:word32] = Mem100[fp - 0x1C + 0x00:word32];
				Mem104[fp - 44 + 0x00:word32] = Mem102[fp - 0x10 + 0x00:word32];
				wtf_push_unknown(fp - 0x04, gs);
			}
			else
			{
				if (Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32] + 0x01 >= Mem0[Mem0[(fp - 0x10) + 0x00:word32] + 0x08:word32])
				{
					Mem134[fp - 44 + 0x00:word32] = Mem0[fp - 0x10 + 0x00:word32];
					Strgrow(dwArg00);
				}
				word32 eax_116 = Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x04:word32];
				Mem123[Mem0[Mem0[fp - 0x10 + 0x00:word32] + 0x00:word32] + eax_116:byte] = (byte) (word32) Mem0[Mem0[fp - 0x1C + 0x00:word32] + 0x00:byte];
				Mem126[Mem123[fp - 0x10 + 0x00:word32] + 0x04:word32] = eax_116 + 0x01;
				Mem132[Mem126[Mem126[fp - 0x10 + 0x00:word32] + 0x00:word32] + Mem126[Mem126[(fp - 0x10) + 0x00:word32] + 0x04:word32]:byte] = 0x00;
			}
			Mem98[fp - 0x1C + 0x00:word32] = Mem0[fp - 0x1C + 0x00:word32] + 0x01;
		}
	}
}

// 080C6E57: void wc_push_to_raw(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void wc_push_to_raw(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg08 == 322 || dwArg08 == 0x0828)
	{
		if (Mem0[dwArg04 + 0x04:word32] + 0x01 >= Mem0[dwArg04 + 0x08:word32])
			Strgrow(dwArg04);
		word32 eax_37 = Mem0[dwArg04 + 0x04:word32];
		Mem44[Mem0[dwArg04 + 0x00:word32] + eax_37:byte] = (byte) dwArg0C;
		Mem47[dwArg04 + 0x04:word32] = eax_37 + 0x01;
		Mem53[Mem47[dwArg04 + 0x00:word32] + Mem47[dwArg04 + 0x04:word32]:byte] = 0x00;
	}
}

// 080C6EC0: Register word32 __divdi3(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Register out ptr32 edxOut)
word32 __divdi3(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, ptr32 & edxOut)
{
	word32 ecx_14 = dwArg08;
	word32 edx_21 = dwArg04;
	word32 dwLoc14_231 = dwArg0C;
	word32 dwLoc10_238 = dwArg10;
	word32 dwLoc18_236 = 0x00;
	if (dwArg08 >= 0x00)
	{
		if (dwArg10 >= 0x00)
			goto l080C6EF4;
	}
	else
	{
		edx_21 = -dwArg04;
		ecx_14 = -(dwArg08 + (edx_21 == 0x00));
		dwLoc18_236 = ~0x00;
		if (dwArg10 >= 0x00)
			goto l080C6EF4;
	}
	dwLoc14_231 = -Mem0[fp - 0x14 + 0x00:word32];
	dwLoc18_236 = ~Mem0[fp - 0x18 + 0x00:word32];
	dwLoc10_238 = -Mem0[fp - 0x10 + 0x00:word32];
l080C6EF4:
	word32 edi_109;
	word32 ecx_116;
	word32 esi_101 = dwLoc14_231;
	if (dwLoc10_238 != 0x00)
	{
		if (dwLoc10_238 <=u ecx_14)
		{
			word32 edx_139 = __bsr(dwLoc10_238);
			if ((edx_139 ^ 0x1F) != 0x00)
			{
				word32 eax_163 = 0x20 - (edx_139 ^ 0x1F);
				word32 edx_169 = dwLoc14_231 >>u (byte) eax_163 | dwLoc10_238 << (byte) ((word32) bLoc1C);
				word64 edx_eax_187 = SEQ(ecx_14 >>u (byte) eax_163, ecx_14 << (byte) ((word32) bLoc1C) | edx_21 >>u (byte) eax_163);
				word32 eax_190 = (uint32) (edx_eax_187 /u edx_169);
				word64 edx_eax_193 = (dwLoc14_231 << (byte) ((word32) bLoc1C)) *u eax_190;
				word32 edx_189 = (uint32) (edx_eax_187 % edx_169);
				word32 edx_194 = SLICE(edx_eax_193, word32, 32);
				word32 eax_195 = (word32) edx_eax_193;
				if (edx_189 >=u edx_194 && (edx_21 << (byte) ((word32) bLoc1C) >=u eax_195 || edx_189 != edx_194))
				{
					ecx_116 = eax_190;
					edi_109 = 0x00;
				}
				else
				{
					ecx_116 = eax_190 - 0x01;
					edi_109 = 0x00;
				}
l080C6F20:
				word32 eax_55 = ecx_116;
				word32 edx_57;
				*edxOut = edi_109;
				if (dwLoc18_236 != 0x00)
				{
					eax_55 = -ecx_116;
					word32 edx_78;
					*edxOut = -(edi_109 + (eax_55 == 0x00));
				}
				return eax_55;
			}
			if (dwLoc14_231 <=u edx_21 || dwLoc10_238 <u ecx_14)
			{
				edi_109 = 0x00;
				ecx_116 = 0x01;
				goto l080C6F20;
			}
		}
		edi_109 = 0x00;
		ecx_116 = 0x00;
		goto l080C6F20;
	}
	else
	{
		if (dwLoc14_231 >u ecx_14)
		{
			edi_109 = 0x00;
			ecx_116 = (uint32) (SEQ(ecx_14, edx_21) /u dwLoc14_231);
		}
		else
		{
			if (dwLoc14_231 == 0x00)
				esi_101 = (uint32) (0x01 /u dwLoc14_231);
			word64 edx_eax_105 = (uint64) (uint32) ecx_14;
			edi_109 = (uint32) (edx_eax_105 /u esi_101);
			ecx_116 = (uint32) (SEQ((uint32) (edx_eax_105 % esi_101), edx_21) /u esi_101);
		}
		goto l080C6F20;
	}
}

// 080C7040: Register word32 __moddi3(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
word32 __moddi3(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 ecx_14 = dwArg08;
	word32 edx_22 = dwArg04;
	word32 dwLoc24_29 = dwArg0C;
	word32 dwLoc20_30 = dwArg10;
	word32 dwLoc30_31 = 0x00;
	if (dwArg08 < 0x00)
	{
		edx_22 = -dwArg04;
		ecx_14 = -(dwArg08 + (edx_22 == 0x00));
		dwLoc30_31 = ~0x00;
	}
	if (dwArg10 < 0x00)
	{
		dwLoc24_29 = -Mem0[fp - 0x24 + 0x00:word32];
		dwLoc20_30 = -Mem0[fp - 0x20 + 0x00:word32];
	}
	word32 dwLoc14_126;
	word32 dwLoc2C_238 = edx_22;
	word32 dwLoc28_176 = dwLoc24_29;
	ui64 eax__58 = SEQ(dwLoc20_30, dwLoc24_29);
	if (dwLoc20_30 == 0x00)
	{
		word32 edx_150;
		if (dwLoc24_29 >u ecx_14)
			edx_150 = (uint32) (SEQ(ecx_14, edx_22) % dwLoc24_29);
		else
		{
			if (dwLoc24_29 == 0x00)
				dwLoc28_176 = (uint32) (0x01 /u dwLoc24_29);
			edx_150 = (uint32) (SEQ((uint32) ((uint64) (uint32) ecx_14 % dwLoc28_176), edx_22) % dwLoc28_176);
		}
		dwLoc14_126 = edx_150;
		if (dwLoc30_31 == 0x00)
			return dwLoc14_126;
	}
	else
	{
		if (dwLoc20_30 >u ecx_14)
			dwLoc14_126 = edx_22;
		else
		{
			word32 edx_226 = __bsr(dwLoc20_30);
			if ((edx_226 ^ 0x1F) == 0x00)
			{
				if (dwLoc24_29 <=u edx_22 || dwLoc20_30 <u ecx_14)
					dwLoc2C_238 = (word32) (SEQ(ecx_14, edx_22 - dwLoc24_29) - eax__58);
				dwLoc14_126 = dwLoc2C_238;
			}
			else
			{
				byte bLoc2C_267 = (byte) (0x20 - (edx_226 ^ 0x1F));
				word32 eax_274 = dwLoc24_29 >>u (byte) ((word32) bLoc2C_267) | dwLoc20_30 << (byte) ((word32) bLoc24);
				word64 edx_eax_293 = SEQ(ecx_14 >>u (byte) ((word32) bLoc2C_267), edx_22 >>u (byte) ((word32) bLoc2C_267) | ecx_14 << (byte) ((word32) bLoc24));
				word32 eax_278 = dwLoc24_29 << (byte) ((word32) bLoc24);
				word64 edx_eax_304 = eax_278 *u (uint32) (edx_eax_293 /u eax_274);
				word32 edx_296 = (uint32) (edx_eax_293 % eax_274);
				word32 edi_298 = edx_22 << (byte) ((word32) bLoc24);
				word32 edx_305 = SLICE(edx_eax_304, word32, 32);
				word32 eax_306 = (word32) edx_eax_304;
				if (edx_296 <u edx_305 || edi_298 <u eax_306 && edx_296 == edx_305)
				{
					edx_eax_304 = SEQ(edx_305, eax_306 - eax_278) - _;
					eax_306 = (word32) edx_eax_304;
				}
				ui64 edi_ecx_318 = SEQ(edx_296, edi_298 - eax_306) - edx_eax_304;
				dwLoc14_126 = SLICE(edi_ecx_318, word32, 32) << (byte) ((word32) bLoc2C_267) | (word32) edi_ecx_318 >>u (byte) ((word32) bLoc24);
			}
		}
		if (dwLoc30_31 == 0x00)
			return dwLoc14_126;
	}
	return -dwLoc14_126;
}

// 080C7210: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 080C7220: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 ebx_16 = __i686.get_pc_thunk.bx(dwLoc14);
	_init();
	if (ebx_16 + 56505 - (ebx_16 + 56505) >> 0x02 != 0x00)
	{
		do
		{
			word32 esp_60;
			word32 ebp_61;
			word32 edi_62;
			word32 esi_63;
			word32 ebx_64;
			byte SCZO_65;
			word32 eax_66;
			byte SZO_67;
			byte C_68;
			byte Z_69;
			Mem0[ebx_16 + 56505:word32]();
		} while (esi_63 + 0x01 <u edi_62);
	}
}

// 080C727A: Register word32 __i686.get_pc_thunk.bx(Stack word32 dwArg00)
word32 __i686.get_pc_thunk.bx(word32 dwArg00)
{
	return dwArg00;
}

// 080C7280: Register word32 stat(Stack word32 dwArg04, Stack word32 dwArg08)
word32 stat(word32 dwArg04, word32 dwArg08)
{
	__i686.get_pc_thunk.bx(dwLoc18);
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	!__xstat();
	return eax_26;
}

// 080C72C0: Register word32 fstat(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fstat(word32 dwArg04, word32 dwArg08)
{
	__i686.get_pc_thunk.bx(dwLoc18);
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	!__fxstat();
	return eax_26;
}

// 080C7300: Register word32 lstat(Stack word32 dwArg04, Stack word32 dwArg08)
word32 lstat(word32 dwArg04, word32 dwArg08)
{
	__i686.get_pc_thunk.bx(dwLoc18);
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	!__lxstat();
	return eax_26;
}

// 080C7340: void __do_global_ctors_aux()
void __do_global_ctors_aux()
{
	word32 eax_11 = Mem0[0x080D4EE4:word32];
	if (eax_11 != ~0x00)
	{
		do
		{
			word32 esp_26;
			word32 ebp_27;
			word32 ebx_28;
			byte SCZO_29;
			word32 eax_30;
			byte Z_31;
			eax_11();
		} while (Mem0[ebx_28 + 0x00:word32] != ~0x00);
	}
}

// 080C736C: void _fini(Register word32 esi)
void _fini(word32 esi)
{
	__do_global_dtors_aux(esi);
}

