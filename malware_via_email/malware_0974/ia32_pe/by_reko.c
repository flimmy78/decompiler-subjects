// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401040: void fn00401040(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401040(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	GetCommandLineA();
	word32 dwLoc08_10 = 0x00;
	while (dwLoc08_10 < dwArg0C)
	{
		Mem30[dwArg04 + dwLoc08_10:byte] = Mem0[dwArg08 + dwLoc08_10:byte];
		dwLoc08_10 = dwLoc08_10 + 0x01;
	}
}

// 00401140: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 esp_17;
	word32 ebp_18;
	byte SCZO_19;
	word32 ebx_20;
	word32 esi_21;
	word32 edi_22;
	word32 eax_23;
	byte SZO_24;
	byte C_25;
	byte Z_26;
	word32 ecx_27;
	word32 edx_28;
	selector fs_29;
	COMCTL32.dll!Ordinal_17();
	word32 eax_32 = GetModuleHandleA(0x00);
	if (RegOpenKeyA(0x80000002, 0x00409058, fp - 0x18) == 0x00)
	{
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		Mem155[fp - 0x40 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem155[fp - 0x40 + 0x00:LPCSTR]);
		Mem158[fp - 0x44 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem158[fp - 0x44 + 0x00:LPCSTR]);
		Mem161[fp - 0x48 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem161[fp - 0x48 + 0x00:LPCSTR]);
		Mem164[fp - 0x4C + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem164[fp - 0x4C + 0x00:LPCSTR]);
		Mem167[fp - 0x50 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem167[fp - 0x50 + 0x00:LPCSTR]);
		Mem170[fp - 0x54 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem170[fp - 0x54 + 0x00:LPCSTR]);
		Mem173[fp - 88 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem173[fp - 88 + 0x00:LPCSTR]);
		Mem176[fp - 0x5C + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem176[fp - 0x5C + 0x00:LPCSTR]);
		Mem179[fp - 0x60 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem179[fp - 0x60 + 0x00:LPCSTR]);
		Mem182[fp - 100 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem182[fp - 100 + 0x00:LPCSTR]);
		Mem185[fp - 0x68 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem185[fp - 0x68 + 0x00:LPCSTR]);
		Mem188[fp - 0x6C + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem188[fp - 0x6C + 0x00:LPCSTR]);
		Mem191[fp - 0x70 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem191[fp - 0x70 + 0x00:LPCSTR]);
		Mem194[fp - 116 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem194[fp - 116 + 0x00:LPCSTR]);
		Mem197[fp - 0x78 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem197[fp - 0x78 + 0x00:LPCSTR]);
		Mem200[fp - 0x7C + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem200[fp - 0x7C + 0x00:LPCSTR]);
		Mem203[fp - 0x80 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem203[fp - 0x80 + 0x00:LPCSTR]);
		Mem206[fp - 0x84 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem206[fp - 0x84 + 0x00:LPCSTR]);
		Mem209[fp - 0x88 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem209[fp - 0x88 + 0x00:LPCSTR]);
		Mem212[fp - 0x8C + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem212[fp - 0x8C + 0x00:LPCSTR]);
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		if ((dwArg04 & 0xFFFF) != 0x00)
			Mem404[0x004090E8:word32] = 0x00;
		else
			Mem405[0x004090E8:word32] = 0x01;
		if (Mem212[0x004090E8:word32] != 0x00)
			Mem403[0x004090D8:word32] = dwArg04;
		word32 edx_231 = Mem212[0x00405000:word32];
		word32 ecx_234 = Mem212[0x00405004:word32];
		word32 dwLoc08_236 = 0x00;
		while (dwLoc08_236 <u edx_231)
		{
			Mem250[dwLoc08_236 + 0x00405008:word32] = Mem212[dwLoc08_236 + 0x00405008:word32] ^ 1222211;
			dwLoc08_236 = dwLoc08_236 + 0x08;
		}
		word32 ebp_355;
		Mem257[fp - 0x90 + 0x00:word32] = ecx_234;
		Mem261[0x004090E4:word32] = fn00401FD0(dwArg00);
		Mem264[fp - 0x90 + 0x00:word32] = edx_231;
		Mem267[fp - 0x94 + 0x00:word32] = Mem264[0x004090E4:word32];
		Mem272[fp - 0x98 + 0x00:word32] = 0x00405008;
		fn00402180(dwArg00, dwArg04, dwArg08);
		Mem275[0x004090D4:word32] = edi_22;
		Mem276[0x004090D0:word32] = esi_21;
		Mem277[0x004090E0:word32] = ebx_20;
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		GetCommandLineA();
		Mem285[fp - 0x90 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem285[fp - 0x90 + 0x00:LPCSTR]);
		Mem288[fp - 0x94 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem288[fp - 0x94 + 0x00:LPCSTR]);
		Mem291[fp - 0x98 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem291[fp - 0x98 + 0x00:LPCSTR]);
		Mem294[fp - 0x9C + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem294[fp - 0x9C + 0x00:LPCSTR]);
		Mem297[fp - 0xA0 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem297[fp - 0xA0 + 0x00:LPCSTR]);
		Mem300[fp - 0xA4 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem300[fp - 0xA4 + 0x00:LPCSTR]);
		Mem303[fp - 0xA8 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem303[fp - 0xA8 + 0x00:LPCSTR]);
		Mem306[fp - 0xAC + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem306[fp - 0xAC + 0x00:LPCSTR]);
		Mem309[fp - 0xB0 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem309[fp - 0xB0 + 0x00:LPCSTR]);
		Mem312[fp - 0xB4 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem312[fp - 0xB4 + 0x00:LPCSTR]);
		Mem315[fp - 0xB8 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem315[fp - 0xB8 + 0x00:LPCSTR]);
		Mem318[fp - 188 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem318[fp - 188 + 0x00:LPCSTR]);
		Mem321[fp - 0xC0 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem321[fp - 0xC0 + 0x00:LPCSTR]);
		Mem324[fp - 0xC4 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem324[fp - 0xC4 + 0x00:LPCSTR]);
		Mem327[fp - 200 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem327[fp - 200 + 0x00:LPCSTR]);
		Mem330[fp - 0xCC + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem330[fp - 0xCC + 0x00:LPCSTR]);
		Mem333[fp - 0xD0 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem333[fp - 0xD0 + 0x00:LPCSTR]);
		Mem336[fp - 212 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem336[fp - 212 + 0x00:LPCSTR]);
		Mem339[fp - 0xD8 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem339[fp - 0xD8 + 0x00:LPCSTR]);
		Mem342[fp - 220 + 0x00:word32] = 0x00;
		GetModuleHandleA(Mem342[fp - 220 + 0x00:LPCSTR]);
		Mem351[0x004090EC:word32] = Mem342[fs_29:0x18:word32];
		Mem352[0x004090DC:word32] = fp - 0x04;
		if (Mem352[0x004090E8:word32] != 0x00)
		{
			Mem382[fp - 0xE0 + 0x00:word32] = dwArg04;
			Mem387[fp - 228 + 0x00:word32] = 0x004015B0 - dwArg04;
			ebp_355 = fn00402000(dwArg00, dwArg04);
		}
		else
		{
			Mem393[fp - 0xE0 + 0x00:word32] = eax_32;
			Mem398[fp - 228 + 0x00:word32] = 0x004015B0 - eax_32;
			ebp_355 = fn00402000(dwArg00, dwArg04);
		}
		Mem359[fp - 0xE0 + 0x00:word32] = Mem352[0x004090E4:word32];
		word32 eax_360 = fn00401610(ebp_355, dwArg00);
		word32 esp_367;
		word32 ebp_368;
		byte SCZO_369;
		word32 ebx_370;
		word32 esi_371;
		word32 edi_372;
		word32 eax_373;
		byte SZO_374;
		byte C_375;
		byte Z_376;
		word32 ecx_377;
		word32 edx_378;
		selector fs_379;
		Mem359[0x004090F0:word32]();
		return eax_373;
	}
	else
	{
		Mem64[fp - 0x40 + 0x00:word32] = 0x00;
		Mem66[fp - 0x44 + 0x00:word32] = 0x004010C0;
		Mem68[fp - 0x48 + 0x00:word32] = 0x00;
		Mem70[fp - 0x4C + 0x00:word32] = 1000;
		Mem73[fp - 0x50 + 0x00:word32] = eax_32;
		DialogBoxParamA(Mem73[fp - 0x50 + 0x00:HINSTANCE], Mem73[fp - 0x4C + 0x00:LPCSTR], Mem73[fp - 0x48 + 0x00:HWND], Mem73[fp - 0x44 + 0x00:DLGPROC], Mem73[fp - 0x40 + 0x00:LPARAM]);
		return 0x00;
	}
}

// 004015F0: Register word32 fn004015F0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn004015F0(word32 dwArg04, word32 dwArg08)
{
	return GetProcAddress(dwArg04, dwArg08);
}

// 00401610: Register word32 fn00401610(Register word32 ebp, Stack word32 dwArg04)
word32 fn00401610(word32 ebp, word32 dwArg04)
{
	word32 eax_225;
	word32 eax_17 = GetProcAddress(GetModuleHandleA(0x00409080), 0x00409080);
	word32 edx_25 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc28_142 = edx_25 + 0x18 + (word32) Mem0[edx_25 + 0x14:word16];
	word32 eax_42 = VirtualAlloc(0x00, Mem0[edx_25 + 0x50:word32], 0x3000, 0x40);
	if (eax_42 == 0x00)
	{
		eax_225 = 0x00;
		return eax_225;
	}
	word32 eax_117 = GetProcAddress(GetModuleHandleA(0x0040909C), 0x0040909C);
	fn00401040(eax_42, dwArg04, Mem0[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem0[edx_25 + 0x06:word16] *s 0x28);
	word32 dwLoc0C_136 = 0x00;
	while (dwLoc0C_136 <u (word32) Mem0[edx_25 + 0x06:word16])
	{
		if (Mem0[dwLoc28_142 + 0x14:word32] != 0x00 && Mem0[dwLoc28_142 + 0x10:word32] != 0x00)
			fn00401040(eax_42 + Mem0[dwLoc28_142 + 0x0C:word32], dwArg04 + Mem0[dwLoc28_142 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem0[dwLoc28_142 + 0x10:word32] - 0x01 + Mem0[edx_25 + 0x3C:word32]) /u Mem0[edx_25 + 0x3C:word32]) *s Mem0[edx_25 + 0x3C:word32]);
		dwLoc28_142 = dwLoc28_142 + 0x28;
		dwLoc0C_136 = dwLoc0C_136 + 0x01;
	}
	word32 ecx_205 = eax_42 + Mem0[eax_42 + 0x3C:word32];
	word32 esp_219 = fp - 0x90;
	word32 eax_221 = CreateFileMappingA(~0x00, 0x00, 0x04, 0x00, Mem0[ecx_205 + 0x50:word32], 0x00);
	if (eax_221 == 0x00)
	{
		eax_225 = 0x00;
		return eax_225;
	}
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	GetCommandLineA();
	word32 dwLoc4C_410 = eax_42 + Mem0[ecx_205 + 0x80:word32];
	while (Mem0[dwLoc4C_410 + 0x10:word32] != 0x00)
	{
		word32 dwLoc34_436;
		word32 dwLoc24_435;
		word32 esp_428 = esp_219 - 0x04;
		Mem429[esp_428 + 0x00:word32] = eax_42 + Mem0[dwLoc4C_410 + 0x0C:word32];
		word32 eax_430 = LoadLibraryA(Mem429[esp_428 + 0x00:LPCSTR]);
		if (Mem429[dwLoc4C_410 + 0x00:word32] != 0x00)
		{
			dwLoc24_435 = eax_42 + Mem429[dwLoc4C_410 + 0x00:word32];
			dwLoc34_436 = eax_42 + Mem429[dwLoc4C_410 + 0x10:word32];
		}
		else
		{
			dwLoc24_435 = eax_42 + Mem429[dwLoc4C_410 + 0x10:word32];
			dwLoc34_436 = eax_42 + Mem429[dwLoc4C_410 + 0x00:word32];
		}
		word32 dwLoc18_439 = 0x00;
		if (Mem429[dwLoc4C_410 + 0x10:word32] != 0x00 && Mem429[dwLoc4C_410 + 0x00:word32] != 0x00)
			dwLoc18_439 = 0x01;
		while (true)
		{
			esp_219 = esp_428;
			if (Mem429[dwLoc24_435 + 0x00:word32] == 0x00)
				break;
			if ((Mem429[dwLoc24_435 + 0x00:word32] & 0x80000000) != 0x00)
			{
				Mem492[esp_428 - 0x04 + 0x00:word32] = Mem429[dwLoc24_435 + 0x00:word32] & 0x7FFFFFFF;
				Mem495[esp_428 - 0x08 + 0x00:word32] = eax_430;
				Mem501[dwLoc24_435 + 0x00:word32] = fn004015F0(dwArg00, dwArg04);
			}
			else
			{
				Mem507[esp_428 - 0x04 + 0x00:word32] = Mem429[dwLoc24_435 + 0x00:word32] + 0x02 + eax_42;
				Mem510[esp_428 - 0x08 + 0x00:word32] = eax_430;
				Mem515[dwLoc24_435 + 0x00:word32] = fn004015F0(dwArg00, dwArg04);
			}
			if (Mem429[dwLoc24_435 + 0x00:word32] == 0x00)
			{
				eax_225 = 0x00;
				return eax_225;
			}
			if (dwLoc18_439 != 0x00)
				Mem485[dwLoc34_436 + 0x00:word32] = Mem429[dwLoc24_435 + 0x00:word32];
			dwLoc24_435 = dwLoc24_435 + 0x04;
			dwLoc34_436 = dwLoc34_436 + 0x04;
		}
		dwLoc4C_410 = dwLoc4C_410 + 0x14;
	}
	if (Mem0[0x004090E8:word32] != 0x00)
	{
		word32 edx_876 = Mem0[0x004090D8:word32] - Mem0[ecx_205 + 0x34:word32];
		if (Mem0[ecx_205 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc20_885 = eax_42 + Mem0[ecx_205 + 0xA0:word32];
			while (Mem0[dwLoc20_885 + 0x04:word32] != 0x00)
			{
				word32 edx_900 = Mem0[dwLoc20_885 + 0x04:word32] - 0x08 >>u 0x01;
				word32 eax_903 = dwLoc20_885 + 0x08;
				word32 dwLoc0C_906 = 0x00;
				while (dwLoc0C_906 <u edx_900)
				{
					if ((word32) eax_903[dwLoc0C_906 * 0x02] >> 0x0C == 0x03)
						Mem947[eax_42 + Mem0[dwLoc20_885 + 0x00:word32] + ((word32) eax_903[dwLoc0C_906 * 0x02] & 0x0FFF):word32] = Mem0[eax_42 + Mem0[dwLoc20_885 + 0x00:word32] + ((word32) eax_903[dwLoc0C_906 * 0x02] & 0x0FFF):word32] + edx_876;
					dwLoc0C_906 = dwLoc0C_906 + 0x01;
				}
				dwLoc20_885 = dwLoc20_885 + Mem0[dwLoc20_885 + 0x04:word32];
			}
		}
	}
	word32 esp_553 = esp_219 - 0x04;
	Mem554[esp_553 + 0x00:word32] = 0x004090AC;
	Mem556[esp_553 - 0x04 + 0x00:word32] = 0x004090BC;
	Mem559[esp_553 - 0x08 + 0x00:word32] = GetModuleHandleA(Mem556[esp_553 - 0x04 + 0x00:LPCSTR]);
	word32 eax_560 = GetProcAddress(Mem559[esp_553 - 0x08 + 0x00:HMODULE], Mem559[esp_553 - 0x04 + 0x00:LPCSTR]);
	if (Mem559[0x004090E8:word32] != 0x00)
	{
		Mem823[esp_553 - 0x0C + 0x00:word32] = Mem559[0x004090D8:word32];
		Mem825[esp_553 - 0x10 + 0x00:word32] = 0x00;
		Mem827[esp_553 - 0x14 + 0x00:word32] = 0x00;
		Mem829[esp_553 - 0x18 + 0x00:word32] = 0x00;
		Mem831[esp_553 - 0x1C + 0x00:word32] = 0x22;
		Mem835[esp_553 - 0x20 + 0x00:word32] = eax_221;
		Mem846[0x004090CC:word32] = eax_560();
	}
	else
	{
		Mem850[esp_553 - 0x0C + 0x00:word32] = Mem559[ecx_205 + 0x34:word32];
		Mem852[esp_553 - 0x10 + 0x00:word32] = 0x00;
		Mem854[esp_553 - 0x14 + 0x00:word32] = 0x00;
		Mem856[esp_553 - 0x18 + 0x00:word32] = 0x00;
		Mem858[esp_553 - 0x1C + 0x00:word32] = 0x22;
		Mem862[esp_553 - 0x20 + 0x00:word32] = eax_221;
		Mem873[0x004090CC:word32] = eax_560();
	}
	word32 esp_572 = esp_219 - 0x24;
	if (Mem559[0x004090CC:word32] == 0x00)
	{
		word32 esp_632;
		if (Mem559[0x004090E8:word32] != 0x00)
		{
			Mem727[esp_572 - 0x04 + 0x00:word32] = Mem559[0x004090D8:word32];
			esp_632 = esp_572 - 0x04;
			if (eax_17() == 0x00)
			{
				Mem753[esp_572 - 0x08 + 0x00:word32] = 0x8000;
				Mem755[esp_572 - 0x0C + 0x00:word32] = 0x00;
				Mem759[esp_572 - 0x10 + 0x00:word32] = Mem755[0x004090D8:word32];
				esp_632 = esp_572 - 0x10;
				if (eax_117() == 0x00)
				{
					eax_225 = 0x00;
					return eax_225;
				}
			}
		}
		else
		{
			Mem781[esp_572 - 0x04 + 0x00:word32] = Mem559[ecx_205 + 0x34:word32];
			esp_632 = esp_572 - 0x04;
			if (eax_17() == 0x00)
			{
				Mem796[esp_572 - 0x08 + 0x00:word32] = 0x8000;
				Mem798[esp_572 - 0x0C + 0x00:word32] = 0x00;
				Mem803[esp_572 - 0x10 + 0x00:word32] = Mem798[ecx_205 + 0x34:word32];
				esp_632 = esp_572 - 0x10;
				if (eax_117() == 0x00)
				{
					eax_225 = 0x00;
					return eax_225;
				}
			}
		}
		if (Mem559[0x004090E8:word32] != 0x00)
		{
			word32 esp_675 = esp_632 - 0x04;
			Mem676[esp_675 + 0x00:word32] = Mem559[0x004090D8:word32];
			Mem678[esp_675 - 0x04 + 0x00:word32] = 0x00;
			Mem680[esp_675 - 0x08 + 0x00:word32] = 0x00;
			Mem682[esp_675 - 0x0C + 0x00:word32] = 0x00;
			Mem684[esp_675 - 0x10 + 0x00:word32] = 0x22;
			Mem687[esp_675 - 0x14 + 0x00:word32] = eax_221;
			Mem698[0x004090CC:word32] = eax_560();
		}
		else
		{
			word32 esp_701 = esp_632 - 0x04;
			Mem702[esp_701 + 0x00:word32] = Mem559[ecx_205 + 0x34:word32];
			Mem704[esp_701 - 0x04 + 0x00:word32] = 0x00;
			Mem706[esp_701 - 0x08 + 0x00:word32] = 0x00;
			Mem708[esp_701 - 0x0C + 0x00:word32] = 0x00;
			Mem710[esp_701 - 0x10 + 0x00:word32] = 0x22;
			Mem713[esp_701 - 0x14 + 0x00:word32] = eax_221;
			Mem724[0x004090CC:word32] = eax_560();
		}
		esp_572 = esp_632 - 0x18;
		if (Mem559[0x004090CC:word32] == 0x00)
		{
			if (Mem559[0x004090E8:word32] == 0x00)
			{
				Mem648[esp_572 - 0x04 + 0x00:word32] = 0x40;
				Mem650[esp_572 - 0x08 + 0x00:word32] = 0x3000;
				Mem654[esp_572 - 0x0C + 0x00:word32] = Mem650[ecx_205 + 0x50:word32];
				Mem658[esp_572 - 0x10 + 0x00:word32] = Mem654[ecx_205 + 0x34:word32];
				Mem660[0x004090CC:word32] = VirtualAlloc(Mem658[esp_572 - 0x10 + 0x00:LPVOID], Mem658[esp_572 - 0x0C + 0x00:SIZE_T], Mem658[esp_572 - 0x08 + 0x00:DWORD], Mem658[esp_572 - 0x04 + 0x00:DWORD]);
				esp_572 = esp_572 - 0x10;
			}
			else
			{
				Mem662[esp_572 - 0x04 + 0x00:word32] = 0x40;
				Mem664[esp_572 - 0x08 + 0x00:word32] = 0x3000;
				Mem668[esp_572 - 0x0C + 0x00:word32] = Mem664[ecx_205 + 0x50:word32];
				Mem671[esp_572 - 0x10 + 0x00:word32] = Mem668[0x004090D8:word32];
				Mem673[0x004090CC:word32] = VirtualAlloc(Mem671[esp_572 - 0x10 + 0x00:LPVOID], Mem671[esp_572 - 0x0C + 0x00:SIZE_T], Mem671[esp_572 - 0x08 + 0x00:DWORD], Mem671[esp_572 - 0x04 + 0x00:DWORD]);
				esp_572 = esp_572 - 0x10;
			}
		}
	}
	word32 esp_583 = esp_572 - 0x04;
	Mem584[esp_583 + 0x00:word32] = Mem559[ecx_205 + 0x50:word32];
	Mem587[esp_583 - 0x04 + 0x00:word32] = eax_42;
	Mem590[esp_583 - 0x08 + 0x00:word32] = Mem587[0x004090CC:word32];
	fn00401040(dwArg00, dwArg04, dwArg08);
	if (Mem590[0x004090E8:word32] != 0x00)
	{
		Mem611[esp_583 + 0x00:word32] = Mem590[0x004090CC:word32] + Mem590[ecx_205 + 0x28:word32];
		Mem614[esp_583 - 0x04 + 0x00:word32] = Mem611[0x004090D8:word32];
		fn00401F60(dwArg00, dwArg04);
	}
	else
	{
		Mem619[esp_583 + 0x00:word32] = Mem590[0x004090CC:word32];
		fn00402150(dwArg00);
	}
	Mem600[0x004090F0:word32] = Mem590[0x004090CC:word32] + Mem590[ecx_205 + 0x28:word32];
	Mem603[ecx_205 + 0x28:word32] = Mem600[0x004090F0:word32];
	eax_225 = 0x01;
	return eax_225;
}

// 00401F60: void fn00401F60(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00401F60(word32 dwArg04, word32 dwArg08)
{
	word32 ecx_14 = Mem0[Mem0[Mem0[Mem0[0x004090EC:word32] + 0x30:word32] + 0x0C:word32] + 0x0C:word32];
	word32 dwLoc0C_15 = ecx_14;
	while (0x01 != 0x00 && dwLoc0C_15 != 0x00)
	{
		if (Mem0[dwLoc0C_15 + 0x18:word32] == dwArg04)
		{
			Mem50[dwLoc0C_15 + 0x1C:word32] = dwArg08;
			return;
		}
		word32 eax_53 = Mem0[dwLoc0C_15 + 0x00:word32];
		dwLoc0C_15 = eax_53;
		if (eax_53 == ecx_14)
			return;
	}
}

// 00401FD0: Register word32 fn00401FD0(Stack word32 dwArg04)
word32 fn00401FD0(word32 dwArg04)
{
	return HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
}

// 00402000: Register word32 fn00402000(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00402000(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc20_13;
	if (Mem0[0x004090E8:word32] != 0x00)
		dwLoc20_13 = Mem0[0x004090D8:word32];
	else
		dwLoc20_13 = dwArg08;
	word32 eax_16 = dwLoc20_13 + Mem0[dwLoc20_13 + 0x3C:word32];
	Mem29[0x004090CC:word32] = VirtualAlloc(0x00, Mem0[eax_16 + 0x50:word32], 0x3000, 0x40);
	if (Mem29[0x004090CC:word32] != 0x00)
	{
		word32 eax_72 = Mem29[0x004090CC:word32];
		fn00401040(eax_72, dwLoc20_13, Mem29[eax_16 + 0x50:word32]);
		word32 ecx_77 = Mem29[0x004090CC:word32] - dwLoc20_13;
		if (Mem29[eax_16 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc0C_104 = dwLoc20_13 + Mem29[eax_16 + 0xA0:word32];
			while (Mem29[dwLoc0C_104 + 0x04:word32] != 0x00)
			{
				word32 ecx_119 = Mem29[dwLoc0C_104 + 0x04:word32] - 0x08 >>u 0x01;
				word32 edx_122 = dwLoc0C_104 + 0x08;
				word32 dwLoc08_125 = 0x00;
				while (dwLoc08_125 <u ecx_119)
				{
					if ((word32) edx_122[dwLoc08_125 * 0x02] >> 0x0C == 0x03)
						Mem166[Mem29[0x004090CC:word32] + Mem29[dwLoc0C_104 + 0x00:word32] + ((word32) edx_122[dwLoc08_125 * 0x02] & 0x0FFF):word32] = Mem29[Mem29[0x004090CC:word32] + Mem29[dwLoc0C_104 + 0x00:word32] + ((word32) edx_122[dwLoc08_125 * 0x02] & 0x0FFF):word32] + ecx_77;
					dwLoc08_125 = dwLoc08_125 + 0x01;
				}
				dwLoc0C_104 = dwLoc0C_104 + Mem29[dwLoc0C_104 + 0x04:word32];
			}
		}
		word32 edx_88 = dwArg04 + Mem29[0x004090CC:word32];
		word32 esp_90;
		word32 ebp_91;
		byte SCZO_92;
		word32 esi_93;
		byte Z_94;
		word32 eax_95;
		word32 ecx_96;
		word32 edx_97;
		byte C_98;
		byte SZO_99;
		edx_88();
		return ebp_91;
	}
	else
		return ebp;
}

// 00402150: void fn00402150(Stack word32 dwArg04)
void fn00402150(word32 dwArg04)
{
	Mem13[Mem0[Mem0[0x004090EC:word32] + 0x30:word32] + 0x08:word32] = dwArg04;
}

// 00402180: void fn00402180(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00402180(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc0C_112 = 0x01;
	byte cl_12 = Mem0[dwArg04 + 0x00:byte];
	word32 dwLoc18_118 = 0x00;
	do
	{
		word32 ecx_34 = dwLoc0C_112 + 0x01;
		byte al_31 = Mem0[dwArg04 + dwLoc0C_112:byte];
		dwLoc0C_112 = ecx_34;
		if ((word32) al_31 == (word32) cl_12)
		{
			if ((word32) Mem0[dwArg04 + ecx_34:byte] == 0x00)
			{
				Mem80[dwArg08 + dwLoc18_118:byte] = cl_12;
				dwLoc18_118 = dwLoc18_118 + 0x01;
				dwLoc0C_112 = ecx_34 + 0x01;
			}
			else
			{
				word32 eax_98 = fn00402280(fp - 0x10, dwArg04 + ecx_34) + ecx_34;
				dwLoc0C_112 = fn00402280(fp - 0x20, dwArg04 + eax_98) + eax_98;
				word32 dwLoc1C_113 = 0x00;
				while (dwLoc1C_113 <u dwLoc10)
				{
					Mem130[dwArg08 + dwLoc18_118:byte] = Mem0[dwArg08 + (dwLoc18_118 - dwLoc20):byte];
					dwLoc18_118 = dwLoc18_118 + 0x01;
					dwLoc1C_113 = dwLoc1C_113 + 0x01;
				}
			}
		}
		else
		{
			Mem142[dwArg08 + dwLoc18_118:byte] = al_31;
			dwLoc18_118 = dwLoc18_118 + 0x01;
		}
	} while (dwLoc0C_112 <u dwArg0C);
}

// 00402280: Register word32 fn00402280(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00402280(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_12 = 0x00;
	word32 dwLoc10_13 = 0x00;
	do
	{
		word32 ecx_16 = (word32) Mem0[dwArg08 + 0x00:byte];
		word32 ecx_26 = ecx_16 & 0x7F | dwLoc08_12 << 0x07;
		word32 edx_29 = dwLoc10_13 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc08_12 = ecx_26;
		dwLoc10_13 = edx_29;
	} while ((ecx_16 & 0x80) != 0x00);
	Mem39[dwArg04 + 0x00:word32] = ecx_26;
	return edx_29;
}

