// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0055A4D0: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	ptr32 esp_1 = fp;
	word32 * edi_25 = &globals->dw55B200;
	<anonymous> * esi_23 = &globals->dw55B200;
l0055A4EF:
	word32 * esp_26 = esp_1 - 0x04;
	*esp_26 = 0x00;
	*(esp_26 - 0x04) = esp_26;
	*(esp_26 - 0x08) = esp_26;
	*(esp_26 - 0x0C) = esp_26;
	*(esp_26 - 0x10) = 0x00;
	*(esp_26 - 0x14) = 0x00;
	esp_1 = esp_26 - 0x10;
	DWORD eax_43 = GetTapePosition(*(esp_26 - 0x14), *(esp_26 - 0x10), *(esp_26 - 0x0C), *(esp_26 - 0x08), *(esp_26 - 0x04)) + ~0x40DC2006;
	do
	{
		*edi_25 = (word32) eax_43 + *edi_25;
		*edi_25 = __ror(*edi_25, 0x10);
		Eq_136 edi_63 = (char *) edi_25 + 0x0012;
		edi_25 = edi_63 - 0x0E;
		if (edi_63 <= 0x0055B68A)
			goto l0055A4EF;
		word32 esp_70;
		word32 esi_71;
		byte * edi_72;
		byte SCZO_73;
		word32 ebx_74;
		word32 edx_75;
		word32 ecx_77;
		byte C_78;
		byte SZO_79;
		byte cl_80;
		byte al_81;
		byte ch_82;
		word32 ebp_83;
		word16 si_84;
		word16 di_85;
		bool P_86;
		esi_23();
		__outb(0xC5, al_81);
		*edi_72 = al_81;
		esp_1 = esp_70 + 0x04;
		esi_23 = DPB(esi_71, si_84 + 0x01, 0);
		edi_25 = (word32 *) DPB(edi_72 + 0x01, (word16) (edi_72 + 0x01) + 0x01, 0);
	} while (P_86);
}

