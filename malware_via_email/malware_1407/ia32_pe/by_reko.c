// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00402188: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_3 * esp_1 = fp;
	Eq_5 eax_2 = 4422360;
l00402189:
	struct Eq_160 * esp_55 = esp_1 - (struct Eq_161 *) 0x04;
	esp_55->t0000 = eax_2;
	(esp_55 - (struct Eq_169 *) 0x04)->t0000 = fs->t0000;
	fs->t0000 = esp_55 - (struct Eq_169 *) 0x04;
	null = (union Eq_5 *) ecx;
	struct Eq_8 * esp_318 = esp_55 - (struct Eq_169 *) 0x04;
	Eq_5 eax_168 = 0x00;
	char al_357 = 0x00;
	do
	{
		*eax_168 = (word32) *eax_168 + al_357;
		*eax_168 = (word32) *eax_168 + al_357;
		*eax_168 = (word32) *eax_168 + al_357;
		*eax_168 = (word32) *eax_168 + al_357;
		*eax_168 = (word32) *eax_168 + al_357;
		*(ebx - 118) = *(ebx - 118) + bl;
		ecx = ecx - 0x01;
		if (ecx != 0x00)
		{
			*(esp_318 - 0x02) = (union Eq_5 *) ebx;
			word32 esp_560;
			word32 eax_561;
			struct Eq_16 * fs_562;
			byte SZO_563;
			byte C_564;
			word32 ecx_565;
			byte al_566;
			byte SCZO_567;
			word32 ebx_568;
			byte bl_569;
			word32 esi_570;
			byte Z_571;
			word16 bx_572;
			word32 edi_573;
			word32 ebp_574;
			byte CZ_575;
			byte FPUF_576;
			byte dl_577;
			word32 edx_578;
			struct Eq_33 * es_579;
			byte dh_580;
			byte ah_581;
			byte SCZDOP_582;
			word16 dx_583;
			byte D_584;
			word16 ax_585;
			struct Eq_40 * cs_586;
			struct Eq_41 * ds_587;
			byte cl_588;
			byte bh_589;
			struct Eq_44 * ss_590;
			byte S_591;
			byte SO_592;
			fn9B36B1C7();
			return eax_561;
		}
		ui32 eax_155 = (word32) (int64) DPB(eax_168, esi->t0000, 0);
		word16 bx_160;
		__arpl(bx, bx, &bx_160);
		*((word32) ebp + 99) = *((word32) ebp + 99) | ecx;
		struct Eq_76 * esi_153 = (char *) &esi->t0000 + 0x01;
		esi = esi_153 + 0x04;
		struct Eq_81 * edi_164 = (word32) edi + 0x04;
		eax_168 = eax_155 | 2825773386;
		Eq_54 al_170 = (byte) (eax_155 | 2825773386);
		Eq_5 esp_174 = (char *) &esp_318->t0000 + 0x01;
		if (esp_174 <= 0x00)
			return eax_168;
		edi = &edi_164->b82B6F0C7 + 2101940028;
		if (al_170 > 227)
		{
			esi_153->b0024 = 0x1E;
			__outb(0x8E, al_170);
			return eax_168;
		}
		Mem245[esi_153 + 0x7F:word32] = Mem166[esi_153 + 0x7F:word32] & esi_153 + 0x04;
		ebx = (word32) ebx + 0x01;
		esp_1 = esp_174 - (struct Eq_109 *) 0x01;
		bl = (byte) ebx;
		bx = (word16) ebx;
		eax_2.u0 = 0x60869F1E;
		Eq_5 edx_239 = eax_155 | 2825773386;
		char dl_240 = (byte) (eax_155 | 2825773386);
		word16 dx_243 = (word16) (eax_155 | 2825773386);
		if (true)
			goto l00402189;
		(esp_174 - (struct Eq_135 *) 0x05)->t0000 = eax_155 | 2825773386;
		bl = (byte) (ebx - 0x01);
		*((word32) ebx + 0x79573303) = *((word32) ebx + 0x79573303) & bl;
		edi = edi_164 + 0x02;
		ebx = ebx - 0x01;
		bx = (word16) (ebx - 0x01);
		byte bh_257 = SLICE(ebx - 0x01, byte, 8);
		if (ecx == 0x01)
			return 0x60869F1C;
		bool C_359;
		eax_168 = __indw(dx_243);
		*(ebx - 0x01) = *(ebx - 0x01) - (eax_155 | 2825773386);
		byte al_271 = (byte) eax_168;
		edi_164->b82B6F0C7 = al_271;
		(esp_174 - (struct Eq_203 *) 0x04)->t0000 = ebp;
		ebp = (esp_174 - (struct Eq_203 *) 0x04)->t0000;
		Eq_5 esp_286 = esp_174;
		ecx = ecx - 0x01;
		byte cl_288 = (byte) (ecx - 0x01);
		if (ecx <= 0x01)
		{
			Mem455[ebp + 403532204 + (edi_164 + 0x02):byte] = Mem282[ebp + 403532204 + (edi_164 + 0x02):byte] & bh_257;
			do
			{
				char al_470 = __inb(dx_243);
				__bound(edx_239, (word32 *) 4008049066);
				__outb(dx_243, al_470);
				esp_286 = esp_286 - (struct Eq_483 *) 0x02;
				*esp_286 = ss;
				__wait();
				al_357 = (byte) edi_593;
				cu8 v54_482 = (word32) *((word32) (ebp - 0x66) + edi_593 * 0x08) + al_357;
				*((word32) (ebp - 0x66) + edi_593 * 0x08) = v54_482;
				Eq_5 eax_471 = DPB(eax_168, al_470, 0);
				dl_240 = (byte) (v54_482 < 0x00) + ((word32) (*edi_593) + dl_240);
				eax_168 = edi_593;
				edi = eax_471;
				edx_239 = DPB(edx_239, dl_240, 0);
				dx_243 = DPB(dx_243, dl_240, 0);
				C_359 = cond(dl_240);
				ebp = *((word32) ebp + 0x004B);
				if (dl_240 < 0x00)
				{
					ecx.u0 = 1840049319;
					cl_288 = ~0x58;
					if (dl_240 == 0x00 && true)
						goto l004020BE;
					(esp_286 - (struct Eq_369 *) 0x04)->t0000 = eax_471;
					esp_318 = esp_286 - (struct Eq_369 *) 0x04;
					esi = esi_153 + 0x05;
					if (esi_153 >= (struct Eq_76 *) 0x04)
						goto l0040210F;
					if (esi_153 < (struct Eq_76 *) 0x05)
						goto l00402100;
					*edx_239 = (word32) *edx_239 + bl + (dl_240 < 0x00);
					(esp_286 - (struct Eq_423 *) 0x08)->t0000 = edi_593;
					(esp_286 - (struct Eq_429 *) 0x0C)->t0000 = 1840049319;
					(esp_286 - (struct Eq_434 *) 0x10)->t0000 = edx_239;
					(esp_286 - (struct Eq_439 *) 0x14)->t0000 = ebx;
					(esp_286 - (struct Eq_445 *) 0x18)->t0000 = esp_286 - (struct Eq_369 *) 0x04;
					(esp_286 - (struct Eq_450 *) 0x1C)->t0000 = ebp;
					Mem528[esp_286 - 0x20 + 0x00:word32] = esi_153 + 0x05;
					(esp_286 - (struct Eq_461 *) 0x24)->t0000 = eax_471;
					int3();
				}
				bl = 0x8E;
				ebx = DPB(ebx, 0x8E, 0);
				bx = DPB(bx, 0x8E, 0);
				edi.u0 = 560647424;
				Eq_5 edi_593 = edi;
			} while (dl_240 >= 0x00);
			Mem542[esp_286 + 0x00:word32] = esp_286 + 0x04;
			(esp_286 - (struct Eq_527 *) 0x02)->t0000 = es;
			(esp_286 - (struct Eq_527 *) 0x02)->t0000.u0 = (esp_286 - (struct Eq_527 *) 0x02)->t0000 | 0xA8;
			return (word32) edi_593 - 533650067;
		}
		if (ecx != 0x01)
		{
			(byte *) 0xC26B7028 = (byte *) ((byte *) 0xC26B7028 - cl_288);
l004020BE:
		}
		Eq_5 eax_413 = DPB(eax_168, __aam(al_271), 0);
		C_359 = cond(ebx - 0x01 - *(ebp - 0x14));
		(esp_174 - (struct Eq_252 *) 0x04)->t0000 = eax_413;
		(esp_174 - (struct Eq_258 *) 0x08)->t0000 = ecx - 0x01;
		(esp_174 - (struct Eq_264 *) 0x0C)->t0000 = eax_155 | 2825773386;
		(esp_174 - (struct Eq_270 *) 0x10)->t0000 = ebx - 0x01;
		(esp_174 - (struct Eq_275 *) 0x14)->t0000 = esp_174;
		(esp_174 - (struct Eq_280 *) 0x18)->t0000 = ebp;
		Mem430[esp_174 - 0x1C + 0x00:word32] = esi_153 + 0x04;
		Mem432[esp_174 - 0x20 + 0x00:word32] = edi_164 + 0x02;
		eax_168 = __indw(dx_243);
		al_357 = (byte) eax_168;
		__outb(dx_243, al_357);
		(esp_174 - (struct Eq_306 *) 0x22)->t0000 = cs;
		(eax_155 | 2825773386)->dw4E6352 = (eax_155 | 2825773386)->dw4E6352 - 0x01;
		esi = esi_153 + 0x03 + 0x01;
		esp_318 = esp_174 - (struct Eq_306 *) 0x22;
l00402100:
		if (!C_359)
		{
			word32 esi_371 = esi + 0x00;
			__outb(0x3C, esi_371->t0000);
			esp_318 = esp_318 + 0x01;
			esi = esi_371 - (struct Eq_351 *) 0x01;
l0040210F:
			word32 esp_329 = esp_318 + 0x02 + Mem282[DPB(ebx, bl ^ cl_288, 0) + 0x5B0FB2F0:word32];
			*(esi->t0000 - 66) = cl_288;
			byte al_335;
			__das((byte) (esi - (struct Eq_401 *) 0x04), &al_335);
			(esp_329 - (struct Eq_406 *) 0x04)->t0000 = ecx;
		}
		Eq_54 v63_375 = -(esi - (struct Eq_327 *) 100)->t0000;
		(esi - (struct Eq_333 *) 100)->t0000 = v63_375;
	} while (v63_375 <= 0x00);
	cu8 v64_380 = *(edx_239 - 0x56) + bh_257;
	*(edx_239 - 0x56) = v64_380;
	__frstor(*(ebp - 0x46));
	if (v64_380 < 0x00)
		return eax_168;
}

