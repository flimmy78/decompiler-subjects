// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0055A4D0: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	ptr32 esp_1 = fp;
	word32 * edi_3 = globals->a55B200;
	do
	{
		word32 * esp_10 = esp_1 - 0x04;
		*esp_10 = 0x00;
		*(esp_10 - 0x04) = esp_10;
		*(esp_10 - 0x08) = esp_10;
		*(esp_10 - 0x0C) = esp_10;
		*(esp_10 - 0x10) = 0x00;
		*(esp_10 - 0x14) = 0x00;
		Mem31[edi_3 + 0x00:word32] = Mem23[edi_3 + 0x00:word32] + (GetTapePosition(*(esp_10 - 0x14), *(esp_10 - 0x10), *(esp_10 - 0x0C), *(esp_10 - 0x08), *(esp_10 - 0x04)) + ~0x40DC2006);
		*edi_3 = __ror(*edi_3, 0x10);
		Eq_94 edi_34 = (char *) edi_3 + 0x0012;
		esp_1 = esp_10 - 0x10;
		edi_3 = edi_34 - 0x0E;
	} while (edi_34 <= 0x0055B68A);
	word32 esi_40;
	word32 edi_41;
	byte SCZO_42;
	word32 ebx_43;
	byte C_47;
	byte SZO_48;
	byte cl_49;
	struct Eq_110 * ds_52;
	struct Eq_111 * cs_53;
	struct Eq_112 * ebp_54;
	byte al_51;
	ci8 dl_50;
	word32 ecx_100;
	ptr32 * eax_45;
	word32 edx_44;
	struct Eq_118 * esp_39;
	globals->a55B200();
	(byte *) 734884612 = (byte *) __ror((byte *) 734884612, cl_49);
	do
	{
		dl_50 = dl_50 & al_51;
		esp_39 = esp_39 - 0x04;
		esp_39->w0000 = (word16) 2253164159;
		edx_44 = DPB(edx_44, dl_50, 0);
		if (dl_50 <= 0x00)
		{
			esp_39->w0000 = cs_53;
			word32 esp_80;
			word32 esi_81;
			word32 edi_82;
			byte SCZO_83;
			word32 ebx_84;
			word32 edx_85;
			word32 eax_86;
			word32 ecx_87;
			byte C_88;
			byte SZO_89;
			byte cl_90;
			byte dl_91;
			byte al_92;
			struct Eq_152 * ds_93;
			struct Eq_153 * cs_94;
			word32 ebp_95;
			fnA5005CF3();
		}
		eax_45 = eax_45 ^ ~0x12B449C9;
		al_51 = (byte) eax_45;
		ecx_100 = ecx_100 - 0x01;
	} while (ecx_100 != 0x00);
	Eq_167 v20_104 = ebp_54->t60BFB5B9;
	ebp_54->t60BFB5B9 = (byte) (ecx_100 + 0x01);
	*(esp_39 - 0x02) = (struct Eq_110 **) ds_52;
	ptr32 v22_110 = *(eax_45 - 0x27);
	*(eax_45 - (ptr32 *) 0x27) = esp_39 - 0x02;
	*(v22_110 - 0x04) = eax_45;
	*(v22_110 - 0x08) = DPB(ecx_100 + 0x01, v20_104, 0);
	*(v22_110 - 0x0C) = edx_44;
	*(v22_110 - 0x10) = 5617276;
	*(v22_110 - 0x14) = v22_110;
	*(v22_110 - 0x18) = (struct Eq_112 **) ebp_54;
	*(v22_110 - 0x1C) = 0x0055B200;
	*(v22_110 - 0x20) = edi_41;
	*(v22_110 - 0x22) = (struct Eq_111 **) cs_53;
	*(v22_110 - 0x24) = (struct Eq_110 **) ds_52;
	return eax_45;
}

