// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004112B0: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_3 * esp_107 = fp - 44;
l00411329:
	esp_107->dw000C = 0x00;
	esp_107->t0018.u0 = 0xCB0BC92A;
	word32 * esp_14 = esp_107 - 0x04;
	*esp_14 = ecx;
	*(esp_14 - 0x04) = 0x00;
	*(esp_14 - 0x08) = 0x00;
	UINT eax_27 = GetMenuItemID(*(esp_14 - 0x08), *(esp_14 - 0x04));
	ecx = esp_23->dw0000;
	esp_23->dw001C = (word32) eax_27 + esp_23->dw001C;
	esp_107 = (struct Eq_3 *) (&esp_23->dw0000 + 0x01);
	byte * esi_39 = &globals->b411358;
	al_40 = al_33;
	edi_106 = edi_24;
	do
	{
		byte al_40;
		***************************************************************************************************** edi_106;
		esp_107->ptr0020 = esi_39;
		while (true)
		{
			byte * esi_59 = esp_107->ptr0020;
			Eq_11 bl_60 = esp_107->t0018;
			if (esp_107->dw0008 == 666)
				*esi_59 = *esi_59 - bl_60;
			esp_107->ptr0020 = esp_107->ptr0020 + 0x01;
			esi_39 = &globals->b4115FA;
			if (esp_107->ptr0020 > &globals->b4115FA)
				break;
			esp_107->t0018 = esp_107->t0018 >> 0x08;
			esp_107->dw000C = esp_107->dw000C + 0x01;
			if (esp_107->dw000C == 0x04)
			{
				esp_107->dw000C = 0x00;
				esp_107->t0018.u0 = 0xCB0BC92A;
				word32 * esp_76 = esp_107 - 0x04;
				*esp_76 = ecx;
				*(esp_76 - 0x04) = 0x00;
				*(esp_76 - 0x08) = 0x00;
				UINT eax_89 = GetMenuItemID(*(esp_76 - 0x08), *(esp_76 - 0x04));
				ecx = esp_85->dw0000;
				esp_85->dw001C = (word32) eax_89 + esp_85->dw001C;
				esp_107 = (struct Eq_3 *) (&esp_85->dw0000 + 0x01);
				al_40 = al_95;
				edi_106 = edi_86;
			}
		}
		esp_107->dw0008 = esp_107->dw0008 + 0x01;
		if (esp_107->dw0008 != 1000)
			goto l00411329;
		edi_106 = Mem102[edi_106 + 0x00:word32];
		esp_107 = (struct Eq_3 *) ((char *) edi_106 + 0x04);
		ecx = ecx - 0x01;
	} while (ecx != 0x00);
	__aam(al_40);
	__hlt();
}

