// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08048A44: void _init()
void _init()
{
	word32 edx_13 = globals->dw8058FFC;
	if (edx_13 != 0x00)
	{
		word32 esp_31;
		word32 ebp_32;
		word32 ebx_33;
		byte SCZO_34;
		word32 edx_35;
		byte SZO_36;
		byte C_37;
		byte Z_38;
		word32 eax_39;
		!__gmon_start__();
	}
	frame_dummy();
	__do_global_ctors_aux();
}

// 08048DD0: void _start(Register (ptr Eq_25) edx, Stack int32 dwArg00)
void _start( * edx, int32 dwArg00)
{
	__align((char *) fp + 0x04);
	__libc_start_main(&globals->t805331E, dwArg00, (char *) fp + 0x04, &globals->t80546F0, &globals->t80546E0, edx, fp);
	__hlt();
}

// 08048E00: void __do_global_dtors_aux(Register word32 esi)
void __do_global_dtors_aux(word32 esi)
{
	if (globals->b8059284 == 0x00)
	{
		uint32 eax_23 = globals->dw8059288;
		if (eax_23 < 0x00)
			globals->dw8059288 = eax_23 + 0x01;
		globals->b8059284 = 0x01;
	}
}

// 08048E60: void frame_dummy()
void frame_dummy()
{
	if (globals->dw8058F20 != 0x00 && 0x00 != 0x00)
	{
		word32 esp_28;
		word32 ebp_29;
		byte SCZO_30;
		word32 eax_31;
		byte SZO_32;
		byte C_33;
		byte Z_34;
		null();
	}
}

// 08048E84: void exit_env()
void exit_env()
{
}

// 08048E89: void exit_tmp(Register (ptr Eq_83) gs)
void exit_tmp(Eq_83 * gs)
{
	word32 eax_9 = gs->dw0014;
	byte al_14 = (byte) (word32) globals->b80632C0;
	if (al_14 == 0x00)
		globals->dw80682C0 = 0x01;
	else
	{
		word32 eax_47 = globals->dw80682C0;
		if (eax_47 == 0x00)
		{
			word32 esp_52;
			word32 ebp_53;
			byte SCZO_54;
			word32 eax_55;
			struct Eq_111 * gs_56;
			byte SZO_57;
			byte C_58;
			byte al_59;
			byte Z_60;
			word32 edx_61;
			!chdir();
			sprintf(fp + ~0x080F, 0x08054820, tLoc0830);
			if (globals->dw80632A0 != 0x00)
				fwrite(&globals->v805482C, 0x01, 0x25, globals->t8059260);
			word32 esp_76;
			word32 ebp_77;
			byte SCZO_78;
			word32 eax_79;
			struct Eq_137 * gs_80;
			byte SZO_81;
			byte C_82;
			byte al_83;
			byte Z_84;
			word32 edx_85;
			!system();
			sprintf(fp + ~0x080F, 0x08054852, tLoc0830);
			word32 esp_95;
			word32 ebp_96;
			byte SCZO_97;
			word32 eax_98;
			struct Eq_153 * gs_99;
			byte SZO_100;
			byte C_101;
			byte al_102;
			byte Z_103;
			word32 edx_104;
			!system();
			word32 esp_107;
			word32 ebp_108;
			byte SCZO_109;
			word32 eax_110;
			byte SZO_112;
			byte C_113;
			byte al_114;
			byte Z_115;
			word32 edx_116;
			!opendir();
			if (fp != ~0x080F)
				print_warning(gs, 0x0805485C);
			if (globals->dw80632A0 != 0x00)
				print_done();
			globals->dw80682C0 = 0x01;
		}
	}
	if ((eax_9 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08048FC2: void exit_db(Register (ptr Eq_83) gs)
void exit_db(Eq_83 * gs)
{
	word32 eax_9 = gs->dw0014;
	word32 eax_12 = globals->dw80682C4;
	if (eax_12 == 0x00)
	{
		word32 esp_44;
		word32 ebp_45;
		byte SCZO_46;
		word32 eax_47;
		byte SZO_49;
		byte C_50;
		byte Z_51;
		word32 edx_52;
		byte al_53;
		!chdir();
		if (globals->dw80632A0 != 0x00)
			fwrite(&globals->v80548A0, 0x01, 0x28, globals->t8059260);
		byte al_65 = (byte) (word32) globals->b8063AC0;
		if (al_65 != 0x00)
		{
			sprintf(fp + ~0x080F, 0x080548C9, tLoc0830);
			word32 esp_402;
			word32 ebp_403;
			byte SCZO_404;
			word32 eax_405;
			byte SZO_407;
			byte C_408;
			byte Z_409;
			word32 edx_410;
			byte al_411;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_80 = (byte) (word32) globals->b80642C0;
		if (al_80 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_379;
			word32 ebp_380;
			byte SCZO_381;
			word32 eax_382;
			byte SZO_384;
			byte C_385;
			byte Z_386;
			word32 edx_387;
			byte al_388;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_95 = (byte) (word32) globals->b8064AC0;
		if (al_95 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_356;
			word32 ebp_357;
			byte SCZO_358;
			word32 eax_359;
			byte SZO_361;
			byte C_362;
			byte Z_363;
			word32 edx_364;
			byte al_365;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_110 = (byte) (word32) globals->b80652C0;
		if (al_110 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_333;
			word32 ebp_334;
			byte SCZO_335;
			word32 eax_336;
			byte SZO_338;
			byte C_339;
			byte Z_340;
			word32 edx_341;
			byte al_342;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_125 = (byte) (word32) globals->b8065AC0;
		if (al_125 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_310;
			word32 ebp_311;
			byte SCZO_312;
			word32 eax_313;
			byte SZO_315;
			byte C_316;
			byte Z_317;
			word32 edx_318;
			byte al_319;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_140 = (byte) (word32) globals->b80662C0;
		if (al_140 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_287;
			word32 ebp_288;
			byte SCZO_289;
			word32 eax_290;
			byte SZO_292;
			byte C_293;
			byte Z_294;
			word32 edx_295;
			byte al_296;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_155 = (byte) (word32) globals->b8066AC0;
		if (al_155 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_264;
			word32 ebp_265;
			byte SCZO_266;
			word32 eax_267;
			byte SZO_269;
			byte C_270;
			byte Z_271;
			word32 edx_272;
			byte al_273;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		byte al_170 = (byte) (word32) globals->b8067AC0;
		if (al_170 != 0x00)
		{
			sprintf(fp + ~0x080F, 134564113, tLoc0830);
			word32 esp_241;
			word32 ebp_242;
			byte SCZO_243;
			word32 eax_244;
			byte SZO_246;
			byte C_247;
			byte Z_248;
			word32 edx_249;
			byte al_250;
			!system();
			if (fp != ~0x080F)
				print_warning(gs, 0x080548D4);
		}
		if (globals->dw80632A0 == 0x00)
		{
			byte al_205 = (byte) (word32) globals->b80672C0;
			if (al_205 != 0x00)
			{
				sprintf(fp + ~0x080F, 134564113, tLoc0830);
				word32 esp_218;
				word32 ebp_219;
				byte SCZO_220;
				word32 eax_221;
				byte SZO_223;
				byte C_224;
				byte Z_225;
				word32 edx_226;
				byte al_227;
				!system();
				if (fp != ~0x080F)
					print_warning(gs, 0x080548D4);
			}
		}
		if (globals->dw80632A0 != 0x00)
			print_done();
		globals->dw80682C4 = 0x01;
	}
	if ((eax_9 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08049390: void exit_msg()
void exit_msg()
{
	if (globals->t806CAE0 < 0x00)
		fprintf(globals->t8059260, 134564124, globals->t806CAE0);
	else
	{
		if (globals->dw806CAE4 == 0x01)
			fwrite(&globals->v8054958, 0x01, 0x32, globals->t8059260);
		if (globals->dw806CAE4 > 0x01)
			fprintf(globals->t8059260, 0x0805498C, globals->dw806CAE4);
	}
}

// 08049420: void print_error(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void print_error(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 esp_25;
	word32 ebp_26;
	byte SCZO_27;
	word32 eax_28;
	struct Eq_544 * gs_29;
	byte SZO_30;
	byte C_31;
	word32 edx_32;
	word32 ecx_33;
	!vsprintf();
	fprintf(globals->t8059244, 0x080549C0, fp + ~0x080F);
	globals->t806CAE0 = dwArg04;
	exit(dwArg04);
}

// 0804949B: void print_warning(Register (ptr Eq_83) gs, Stack word32 dwArg04)
void print_warning(Eq_83 * gs, word32 dwArg04)
{
	word32 esp_25;
	word32 ebp_26;
	byte SCZO_27;
	word32 eax_28;
	struct Eq_570 * gs_29;
	byte SZO_30;
	byte C_31;
	word32 edx_32;
	word32 ecx_33;
	byte Z_34;
	!vsprintf();
	word32 eax_12 = gs->dw0014;
	fprintf(globals->t8059244, 134564310, fp + ~0x080F);
	globals->dw806CAE4 = globals->dw806CAE4 + 0x01;
	if ((eax_12 ^ gs_29->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08049523: void print_done()
void print_done()
{
	fwrite(&globals->v80549EE, 0x01, 0x11, globals->t8059260);
}

// 08049554: Register Eq_120 basename(Stack Eq_120 dwArg04)
Eq_120 basename(Eq_120 dwArg04)
{
	Eq_120 eax_37;
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	Eq_120 eax_14;
	byte Z_15;
	byte al_16;
	byte SZO_17;
	byte C_18;
	!strdup();
	Eq_120 eax_25 = strtok(eax_14, 0x08054A00);
	Eq_120 dwLoc14_26 = eax_25;
	if (eax_25 == 0x00)
	{
		if (eax_14 != 0x00)
			free(eax_14);
		eax_37.u0 = 0x00;
	}
	else
	{
		word32 esp_51;
		word32 ebp_52;
		byte SCZO_53;
		Eq_120 eax_54;
		byte Z_55;
		byte al_56;
		byte SZO_57;
		byte C_58;
		!strdup();
		Eq_120 dwLoc18_107 = eax_54;
		while (dwLoc14_26 != 0x00)
		{
			Eq_120 eax_82 = strtok(0x00, 0x08054A00);
			dwLoc14_26 = eax_82;
			if (dwLoc18_107 != 0x00 && eax_82 != 0x00)
				free(dwLoc18_107);
			if (eax_82 != 0x00)
			{
				byte al_93 = (byte) (word32) *eax_82;
				if (al_93 != 0x00)
				{
					word32 esp_99;
					word32 ebp_100;
					byte SCZO_101;
					Eq_120 eax_102;
					byte Z_103;
					byte al_104;
					byte SZO_105;
					byte C_106;
					!strdup();
					dwLoc18_107 = eax_102;
				}
			}
		}
		if (eax_14 != 0x00)
			free(eax_14);
		eax_37 = dwLoc18_107;
	}
	return eax_37;
}

// 0804961D: void mkdir_s(Register (ptr Eq_685) gs, Stack word32 dwArg04, Stack word32 dwArg08)
void mkdir_s(Eq_685 * gs, word32 dwArg04, word32 dwArg08)
{
	word32 eax_15 = gs->dw0014;
	sprintf(fp + ~0x1397, 134564354, tLoc13C0);
	word32 esp_32;
	word32 ebp_33;
	byte SCZO_34;
	word32 eax_35;
	struct Eq_702 * gs_36;
	byte SZO_37;
	byte C_38;
	word32 edx_39;
	byte Z_40;
	!system();
	if ((eax_15 ^ gs_36->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804968F: void chop(Stack Eq_120 dwArg04)
void chop(Eq_120 dwArg04)
{
	Eq_716 dwLoc14_19 = 0x00;
	Eq_718 dwLoc10_15 = strlen(dwArg04) - 0x01;
	while (dwLoc10_15 >= null)
	{
		word32 dwLoc18_42 = 0x01;
		if ((byte) (word32) Mem0[dwLoc10_15 + dwArg04:byte] == 0x0A || ((byte) ((word32) Mem0[dwLoc10_15 + dwArg04:byte]) == 0x09 || ((byte) ((word32) Mem0[dwLoc10_15 + dwArg04:byte]) == 0x20 || ((byte) ((word32) Mem0[dwLoc10_15 + dwArg04:byte]) == 0x0C || (byte) ((word32) Mem0[dwLoc10_15 + dwArg04:byte]) == 0x0D))))
		{
			dwLoc14_19 = dwLoc14_19 + 0x01;
			dwLoc18_42 = 0x00;
		}
		if (dwLoc18_42 == 0x01)
			break;
		dwLoc10_15 = dwLoc10_15 - (char *) 0x01;
	}
	Mem37[strlen(dwArg04) - dwLoc14_19 + dwArg04:byte] = 0x00;
}

// 08049737: void insert_str(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack int32 dwArg08, Stack Eq_120 dwArg0C)
void insert_str(Eq_83 * gs, Eq_120 dwArg04, int32 dwArg08, Eq_120 dwArg0C)
{
	word32 eax_18 = gs->dw0014;
	int32 dwLoc1814_23 = 0x00;
	while (*((word32) dwArg0C + dwLoc1814_23 * 0x04) != 0x00)
		dwLoc1814_23 = dwLoc1814_23 + 0x01;
	if (dwArg08 < 0x00 || dwArg08 > dwLoc1814_23)
		print_error(gs, ~0x14, 0x08054A18);
	if (dwArg08 == dwLoc1814_23)
	{
		dwArg0C[dwLoc1814_23 * 0x04] = malloc(strlen(dwArg04) + 0x01);
		strcpy(*((word32) dwArg0C + dwLoc1814_23 * 0x04), dwArg04);
		((word32) dwArg0C + (dwLoc1814_23 + 0x01) * 0x04)->u0 = 0x00;
	}
	else
	{
		strcpy(fp + ~0x180F, *((word32) dwArg0C + (dwLoc1814_23 - 0x01) * 0x04));
		strcpy(fp + ~0x100F, *((word32) dwArg0C + dwArg08 * 0x04));
		free(*((word32) dwArg0C + dwArg08 * 0x04));
		dwArg0C[dwArg08 * 0x04] = malloc(strlen(dwArg04) + 0x01);
		strcpy(*((word32) dwArg0C + dwArg08 * 0x04), dwArg04);
		int32 dwLoc1818_137 = dwArg08;
		while (dwLoc1814_23 - 0x01 > dwLoc1818_137)
		{
			strcpy(fp + ~0x080F, *((word32) dwArg0C + (dwLoc1818_137 + 0x01) * 0x04));
			free(*((word32) dwArg0C + (dwLoc1818_137 + 0x01) * 0x04));
			dwArg0C[(dwLoc1818_137 + 0x01) * 0x04] = malloc(strlen(fp + ~0x100F) + 0x01);
			strcpy(*((word32) dwArg0C + (dwLoc1818_137 + 0x01) * 0x04), fp + ~0x100F);
			strcpy(fp + ~0x100F, fp + ~0x080F);
			dwLoc1818_137 = dwLoc1818_137 + 0x01;
		}
		dwArg0C[dwLoc1814_23 * 0x04] = malloc(strlen(fp + ~0x180F) + 0x01);
		strcpy(*((word32) dwArg0C + dwLoc1814_23 * 0x04), fp + ~0x180F);
		((word32) dwArg0C + (dwLoc1814_23 + 0x01) * 0x04)->u0 = 0x00;
	}
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08049A5E: void delete_str(Register (ptr Eq_83) gs, Stack int32 dwArg04, Stack Eq_120 dwArg08)
void delete_str(Eq_83 * gs, int32 dwArg04, Eq_120 dwArg08)
{
	int32 dwLoc10_11 = 0x00;
	while (*((word32) dwArg08 + dwLoc10_11 * 0x04) != 0x00)
		dwLoc10_11 = dwLoc10_11 + 0x01;
	if (dwArg04 < 0x00 || dwArg04 > dwLoc10_11)
		print_error(gs, ~0x14, 134564412);
	int32 dwLoc10_32 = dwArg04;
	while (*((word32) dwArg08 + dwLoc10_32 * 0x04) != 0x00)
	{
		free(*((word32) dwArg08 + dwLoc10_32 * 0x04));
		if (*((word32) dwArg08 + (dwLoc10_32 + 0x01) * 0x04) != 0x00)
		{
			dwArg08[dwLoc10_32 * 0x04] = malloc(strlen(*((word32) dwArg08 + (dwLoc10_32 + 0x01) * 0x04)) + 0x01);
			strcpy(*((word32) dwArg08 + dwLoc10_32 * 0x04), *((word32) dwArg08 + (dwLoc10_32 + 0x01) * 0x04));
		}
		dwLoc10_32 = dwLoc10_32 + 0x01;
	}
	((word32) dwArg08 + (dwLoc10_32 - 0x01) * 0x04)->u0 = 0x00;
}

// 08049B5F: Register int32 find_pos(Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack int32 dwArg0C)
int32 find_pos(Eq_120 dwArg04, Eq_120 dwArg08, int32 dwArg0C)
{
	int32 dwLoc10_73 = 0x00;
	while (*((word32) dwArg08 + dwLoc10_73 * 0x04) != 0x00)
		dwLoc10_73 = dwLoc10_73 + 0x01;
	if (dwArg0C < 0x00 || dwArg0C > dwLoc10_73)
		exit(~0x14);
	else
	{
		int32 dwLoc14_31 = dwArg0C;
		while (true)
		{
			int32 eax_50;
			if (dwLoc14_31 >= dwLoc10_73)
				break;
			if (strstr(*((word32) dwArg08 + dwLoc14_31 * 0x04), dwArg04) != null)
			{
				eax_50 = dwLoc14_31;
				return eax_50;
			}
			dwLoc14_31 = dwLoc14_31 + 0x01;
		}
		eax_50 = ~0x00;
		return eax_50;
	}
}

// 08049BD9: void dump_str(Stack Eq_120 dwArg04, Stack (arr (ptr char)) dwArg08)
void dump_str(Eq_120 dwArg04, char * dwArg08[])
{
	int32 dwLoc10_19 = 0x00;
	while (dwArg08[dwLoc10_19] != null)
	{
		fprintf(dwArg04, 134564445, dwLoc10_19, dwArg08[dwLoc10_19]);
		dwLoc10_19 = dwLoc10_19 + 0x01;
	}
}

// 08049C27: Register ptr32 get_package_name(Register (ptr Eq_83) gs, Stack ptr32 dwArg04, Stack Eq_120 dwArg08, Register out ptr32 ebpOut)
ptr32 get_package_name(Eq_83 * gs, ptr32 dwArg04, Eq_120 dwArg08, ptr32 & ebpOut)
{
	word32 eax_15 = gs->dw0014;
	sprintf(fp + ~0x080F, 134564452, tLoc1040);
	Eq_120 eax_31 = fopen(fp + ~0x080F, 134564463);
	if (eax_31 == 0x00)
		print_error(gs, ~0x05, 134564465);
	else if (nc_fgets_nb(fp + ~0x100F, 0x0800, eax_31) == 0x00)
	{
		fclose(eax_31);
		print_error(gs, ~0x05, 0x08054A8C);
	}
	else
	{
		chop(fp + ~0x100F);
		strcpy(dwArg08, fp + ~0x100F);
	}
	fclose(eax_31);
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	word32 ebp_46;
	*ebpOut = ebp;
	return fp;
}

// 08049D41: Register Eq_120 nc_fgets(Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
Eq_120 nc_fgets(Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	Eq_120 eax_29;
	if (fgets(dwArg04, dwArg08, dwArg0C) == null)
	{
		eax_29.u0 = 0x00;
		return eax_29;
	}
	Eq_120 eax_43 = strchr(dwArg04, '#');
	if (eax_43 != 0x00)
	{
		if (dwArg04 == eax_43)
		{
			eax_29 = nc_fgets(dwArg04, dwArg08, dwArg0C);
			return eax_29;
		}
		Eq_120 eax_66 = malloc(0x0800);
		strcpy(eax_66, dwArg04);
		Eq_120 eax_77 = strtok(eax_66, 0x08054AB0);
		sprintf(dwArg04, 134564530, tLoc30);
		free(eax_77);
	}
	eax_29 = dwArg04;
	return eax_29;
}

// 08049E14: Register Eq_120 nc_fgets_html(Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
Eq_120 nc_fgets_html(Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	Eq_120 eax_125;
	if (fgets(dwArg04, dwArg08, dwArg0C) == null)
	{
		eax_125.u0 = 0x00;
		return eax_125;
	}
	word32 eax_66 = malloc(strlen(dwArg04) + 0x01);
	word32 eax_74 = malloc(strlen(dwArg04) + 0x01);
	Eq_120 dwLoc2C_185 = eax_66;
	Eq_120 dwLoc28_175 = dwArg04;
	while ((byte) (word32) *dwLoc28_175 != 0x00)
	{
		if ((byte) (word32) *dwLoc28_175 == 0x3C)
		{
			Eq_120 v10_203 = dwLoc28_175 - 0x01;
			Eq_120 dwLoc18_200 = dwLoc28_175;
			dwLoc28_175 = v10_203;
			if (v10_203 >= dwArg04)
			{
				if ((byte) (word32) *v10_203 == 0x20)
					dwLoc30 = 0x01;
				else
					dwLoc30 = 0x00;
			}
			while ((byte) (word32) *dwLoc18_200 != 0x00)
			{
				*eax_74 = (byte) (word32) *dwLoc18_200;
				*eax_74 = (byte) ((word32) *eax_74 + 0x01);
				if ((byte) (word32) *dwLoc18_200 == 0x3E)
				{
					*eax_74 = 0x00;
					if ((byte) (word32) *((word32) dwLoc18_200 + 0x01) != 0x0A)
					{
						if (strstr(eax_74, 134564534) != null && dwLoc2C_185 > eax_66)
						{
							*dwLoc2C_185 = 0x0A;
							*dwLoc2C_185 = (byte) ((word32) *dwLoc2C_185 + 0x01);
						}
						if (strstr(eax_74, 0x08054ABB) != null && dwLoc2C_185 > eax_66)
						{
							*dwLoc2C_185 = 0x0A;
							*dwLoc2C_185 = (byte) ((word32) *dwLoc2C_185 + 0x01);
						}
						if (strstr(eax_74, 134564544) != null)
						{
							if (dwLoc2C_185 > eax_66)
							{
								*dwLoc2C_185 = 0x0A;
								*dwLoc2C_185 = (byte) ((word32) *dwLoc2C_185 + 0x01);
							}
							*dwLoc2C_185 = 0x0A;
							*dwLoc2C_185 = (byte) ((word32) *dwLoc2C_185 + 0x01);
						}
						if (strstr(eax_74, 134564548) != null)
						{
							if (dwLoc2C_185 > eax_66)
							{
								*dwLoc2C_185 = 0x0A;
								*dwLoc2C_185 = (byte) ((word32) *dwLoc2C_185 + 0x01);
							}
							*dwLoc2C_185 = 0x0A;
							*dwLoc2C_185 = (byte) ((word32) *dwLoc2C_185 + 0x01);
						}
					}
					dwLoc28_175 = dwLoc18_200;
					if ((byte) (word32) *dwLoc18_200 == 0x20 && dwLoc30 == 0x01)
					{
						dwLoc28_175 = (word32) dwLoc18_200 + 0x01;
						dwLoc30 = 0x00;
					}
					break;
				}
				dwLoc18_200 = (word32) dwLoc18_200 + 0x01;
			}
		}
		if ((byte) (word32) *dwLoc28_175 != 0x3E)
		{
			*dwLoc2C_185 = (byte) (word32) *dwLoc28_175;
			dwLoc2C_185 = (word32) dwLoc2C_185 + 0x01;
		}
		dwLoc28_175 = (word32) dwLoc28_175 + 0x01;
	}
	*dwLoc2C_185 = 0x00;
	strcpy(dwArg04, eax_66);
	free(eax_66);
	free(eax_74);
	Eq_120 eax_114 = strchr(dwArg04, '#');
	if (eax_114 != 0x00)
	{
		if (dwArg04 == eax_114)
		{
			eax_125 = nc_fgets_html(dwArg04, dwArg08, dwArg0C);
			return eax_125;
		}
		Eq_120 eax_139 = malloc(0x0800);
		strcpy(eax_139, dwArg04);
		Eq_120 eax_150 = strtok(eax_139, 0x08054AB0);
		sprintf(dwArg04, 134564530, tLoc50);
		free(eax_150);
	}
	eax_125 = dwArg04;
	return eax_125;
}

// 0804A146: Register word32 is_text(Stack Eq_120 dwArg04)
word32 is_text(Eq_120 dwArg04)
{
	Eq_1453 dwLoc10_14 = strlen(dwArg04) - 0x01;
	while (true)
	{
		word32 dwLoc14_18 = 0x00;
		if (dwLoc10_14 < null)
			break;
		if ((byte) (word32) Mem0[dwLoc10_14 + dwArg04:byte] != 0x20 && ((byte) ((word32) Mem0[dwLoc10_14 + dwArg04:byte]) != 0x09 && ((byte) ((word32) Mem0[dwLoc10_14 + dwArg04:byte]) != 0x0A && ((byte) ((word32) Mem0[dwLoc10_14 + dwArg04:byte]) != 0x0C && (byte) ((word32) Mem0[dwLoc10_14 + dwArg04:byte]) != 0x0D))))
		{
			dwLoc14_18 = 0x01;
			return dwLoc14_18;
		}
		dwLoc10_14 = dwLoc10_14 - (char *) 0x01;
	}
	return dwLoc14_18;
}

// 0804A1C8: Register Eq_120 nc_fgets_nb(Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
Eq_120 nc_fgets_nb(Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	Eq_120 eax_31;
	if (fgets(dwArg04, dwArg08, dwArg0C) == null)
	{
		eax_31.u0 = 0x00;
		return eax_31;
	}
	if (is_text(dwArg04) == 0x00)
	{
		eax_31 = nc_fgets_nb(dwArg04, dwArg08, dwArg0C);
		return eax_31;
	}
	Eq_120 eax_58 = strchr(dwArg04, '#');
	if (eax_58 != 0x00)
	{
		if (dwArg04 == eax_58)
		{
			eax_31 = nc_fgets_nb(dwArg04, dwArg08, dwArg0C);
			return eax_31;
		}
		Eq_120 eax_81 = malloc(0x0800);
		strcpy(eax_81, dwArg04);
		Eq_120 eax_92 = strtok(eax_81, 0x08054AB0);
		sprintf(dwArg04, 134564530, tLoc30);
		free(eax_92);
	}
	eax_31 = dwArg04;
	return eax_31;
}

// 0804A2C8: void dump_ascii(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack (ptr char) dwArg08)
void dump_ascii(Eq_83 * gs, Eq_120 dwArg04, char * dwArg08)
{
	word32 eax_15 = gs->dw0014;
	fprintf(globals->t8059260, 134564530, dwArg08);
	Eq_120 eax_29 = fopen(dwArg04, 134564463);
	if (eax_29 == 0x00)
		fwrite(&globals->v8054AC8, 0x01, 0x1C, globals->t8059260);
	else
	{
		while (nc_fgets_html(fp + ~0x080F, 0x0800, eax_29) != 0x00)
			fprintf(globals->t8059260, 0x08054AE5, fp + ~0x080F);
		fputc(0x0A, globals->t8059260);
		fclose(eax_29);
	}
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804A3DB: void dump_plain(Register (ptr Eq_1594) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void dump_plain(Eq_1594 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_15 = gs->dw0014;
	memcpy(dwArg08, &globals->v8054AEC, 0x20);
	word32 esp_28;
	word32 ebp_29;
	byte SCZO_30;
	word32 eax_31;
	struct Eq_83 * gs_32;
	byte SZO_33;
	byte C_34;
	word32 edx_35;
	byte Z_36;
	!mkstemp();
	Eq_120 eax_41 = fopen(dwArg08, 0x08054B0C);
	if (eax_41 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs_32, ~0x16, 0x08054B10);
	}
	atexit(0x08048FC2);
	Eq_120 eax_53 = fopen(dwArg04, 134564463);
	while (nc_fgets(fp + ~0x080F, 0x0800, eax_53) != 0x00)
		fprintf(eax_41, fp + ~0x080F, tLoc0840);
	fclose(eax_53);
	fclose(eax_41);
	if ((eax_15 ^ gs_32->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804A51B: void dump_html(Register (ptr Eq_1673) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void dump_html(Eq_1673 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_15 = gs->dw0014;
	memcpy(dwArg08, &globals->v8054AEC, 0x20);
	word32 esp_28;
	word32 ebp_29;
	byte SCZO_30;
	word32 eax_31;
	struct Eq_83 * gs_32;
	byte SZO_33;
	byte C_34;
	word32 edx_35;
	byte Z_36;
	!mkstemp();
	Eq_120 eax_41 = fopen(dwArg08, 0x08054B0C);
	if (eax_41 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs_32, ~0x16, 0x08054B10);
	}
	atexit(0x08048FC2);
	Eq_120 eax_53 = fopen(dwArg04, 134564463);
	while (nc_fgets(fp + ~0x100F, 0x0800, eax_53) != 0x00)
	{
		chop(fp + ~0x100F);
		if (is_text(fp + ~0x100F) == 0x00)
			fwrite(&globals->v8054B8B, 0x01, 0x04, eax_41);
		else
		{
			sprintf(fp + ~0x080F, 0x08054B90, tLoc1040);
			fprintf(eax_41, fp + ~0x080F, fp + ~0x100F);
		}
	}
	fclose(eax_53);
	fclose(eax_41);
	close(dwLoc101C);
	if ((eax_15 ^ gs_32->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804A6DA: void list_binaries(Register (ptr Eq_83) gs, Stack (ptr char) dwArg04)
void list_binaries(Eq_83 * gs, char * dwArg04)
{
	word32 eax_12 = gs->dw0014;
	fwrite(&globals->v8054B99, 0x01, 0x1A, globals->t8059260);
	word32 dwLoc081C_125 = 0x00;
	word32 esp_28;
	word32 ebp_29;
	byte SCZO_30;
	word32 eax_31;
	byte SZO_33;
	byte C_34;
	word32 edx_35;
	byte Z_36;
	word32 ecx_37;
	struct Eq_1793 * gs_135;
	!opendir();
	if (eax_31 == 0x00)
		fwrite(&globals->v8054BB4, 0x01, 0x09, globals->t8059260);
	else
	{
		word32 esp_72;
		word32 ebp_73;
		byte SCZO_74;
		word32 eax_75;
		byte SZO_77;
		byte C_78;
		word32 edx_79;
		byte Z_80;
		word32 ecx_81;
		!readdir();
		word32 dwLoc0818_141 = eax_75;
		while (dwLoc0818_141 != 0x00)
		{
			if (strcmp(dwLoc0818_141 + 11, 0x08054BBE) != 0x00 && (strcmp(dwLoc0818_141 + 11, 0x08054BC0) != 0x00 && strcmp(dwLoc0818_141 + 11, 0x08054BC3) != 0x00))
			{
				sprintf(fp + ~0x080F, 134564452, tLoc08A0);
				stat(fp + ~0x080F, fp + ~0x0873);
				if ((dwLoc0864 & 0xF000) == 0x4000)
				{
					if (dwLoc081C_125 == 0x00)
						fprintf(globals->t8059260, 0x08054AE5, dwLoc0818_141 + 11);
					else
						fprintf(globals->t8059260, 0x08054BC7, dwLoc0818_141 + 11);
					dwLoc081C_125 = dwLoc081C_125 + 0x01;
				}
			}
			word32 esp_131;
			word32 ebp_132;
			byte SCZO_133;
			word32 eax_134;
			byte SZO_136;
			byte C_137;
			word32 edx_138;
			byte Z_139;
			word32 ecx_140;
			!readdir();
			dwLoc0818_141 = eax_134;
		}
		if (dwLoc081C_125 == 0x00)
			fwrite(&globals->v8054BCC, 0x01, 0x07, globals->t8059260);
		fwrite(&globals->v8054BD4, 0x01, 0x02, globals->t8059260);
	}
	if ((eax_12 ^ gs_135->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804A92C: Register word32 binaries_exist(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
word32 binaries_exist(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_153;
	word32 esp_22;
	word32 ebp_23;
	byte SCZO_24;
	word32 eax_25;
	byte SZO_27;
	byte C_28;
	byte Z_29;
	word32 edx_30;
	struct Eq_1930 * gs_101;
	!opendir();
	word32 eax_15 = gs->dw0014;
	if (eax_25 == 0x00)
		eax_153 = 0x00;
	else
	{
		word32 esp_59;
		word32 ebp_60;
		byte SCZO_61;
		word32 eax_62;
		byte SZO_64;
		byte C_65;
		byte Z_66;
		word32 edx_67;
		!readdir();
		word32 dwLoc0818_106 = eax_62;
		while (dwLoc0818_106 != 0x00)
		{
			if (strcmp(dwLoc0818_106 + 11, 0x08054BBE) != 0x00 && (strcmp(dwLoc0818_106 + 11, 0x08054BC0) != 0x00 && strcmp(dwLoc0818_106 + 11, 0x08054BC3) != 0x00))
			{
				sprintf(fp + ~0x080F, 134564452, tLoc08A0);
				stat(fp + ~0x080F, fp + ~0x086F);
				if ((dwLoc0860 & 0xF000) == 0x4000 && strcmp(dwLoc0818_106 + 11, dwArg08) == 0x00)
				{
					eax_153 = 0x01;
					goto l0804AA95;
				}
			}
			word32 esp_97;
			word32 ebp_98;
			byte SCZO_99;
			word32 eax_100;
			byte SZO_102;
			byte C_103;
			byte Z_104;
			word32 edx_105;
			!readdir();
			dwLoc0818_106 = eax_100;
		}
		eax_153 = 0x00;
	}
l0804AA95:
	if ((eax_15 ^ gs_101->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_153;
}

// 0804AAA8: Register word32 check_filetype(Stack Eq_120 dwArg04)
word32 check_filetype(Eq_120 dwArg04)
{
	word32 eax_20;
	if (strstr(dwArg04, 0x08054BD7) != null)
		eax_20 = 0x01;
	else if (strstr(dwArg04, 134564831) != null)
		eax_20 = 0x01;
	else if (strstr(dwArg04, 0x08054BE4) != null)
		eax_20 = 0x02;
	else if (strstr(dwArg04, 134564845) != null)
		eax_20 = 0x02;
	else if (strstr(dwArg04, 0x08054BF2) != null)
		eax_20 = 0x03;
	else if (strstr(dwArg04, 134564855) != null)
		eax_20 = 0x04;
	else
		eax_20 = 0x00;
	return eax_20;
}

// 0804AB6C: void wget_extension(Register (ptr Eq_83) gs, Stack ptr32 dwArg04)
void wget_extension(Eq_83 * gs, ptr32 dwArg04)
{
	word32 eax_12 = gs->dw0014;
	fwrite(&globals->v8054BFC, 0x01, 0x0E, globals->t8059260);
	if (globals->dw80632A0 != 0x00)
		sprintf((word32) fp - 0x0810, 0x08054C0B, tLoc0840);
	else
		sprintf((word32) fp - 0x0810, 134564886, tLoc0840);
	word32 esp_31;
	word32 ebp_32;
	byte SCZO_33;
	word32 eax_34;
	struct Eq_83 * gs_35;
	byte SZO_36;
	byte C_37;
	word32 edx_38;
	byte Z_39;
	!system();
	if (fp == ~0x080E)
		print_error(gs_35, ~0x13, 0x08054C24);
	if (fp > ~0x080F)
		print_error(gs_35, ~0x13, 0x08054C62);
	print_done();
	if ((eax_12 ^ gs_35->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804AC6E: void su(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_2114 dwArg08)
void su(Eq_83 * gs, Eq_120 dwArg04, Eq_2114 dwArg08)
{
	word32 eax_15 = gs->dw0014;
	globals->t805928C = globals->t805928C *s 1103515245 + 0xD431;
	globals->t805928C = globals->t805928C >> 0x10 & 0x7FFF;
	word32 esp_30;
	word32 ebp_31;
	byte SCZO_32;
	word32 eax_33;
	struct Eq_2138 * gs_34;
	byte SZO_35;
	byte C_36;
	word32 edx_37;
	byte Z_38;
	!srand();
	word32 esp_39;
	word32 ebp_40;
	byte SCZO_41;
	word32 eax_42;
	byte SZO_44;
	byte C_45;
	word32 edx_46;
	byte Z_47;
	struct Eq_83 * gs_107;
	!rand();
	sprintf(fp + ~0x080F, 0x08054C79, tLoc0840);
	Eq_120 eax_61 = fopen(fp + ~0x080F, 0x08054B0C);
	if (*__errno_location() == 0x0D)
		print_error(gs_107, ~0x04, 0x08054C88);
	else
	{
		word32 esp_89;
		word32 ebp_90;
		byte SCZO_91;
		word32 eax_92;
		struct Eq_2178 * gs_93;
		byte SZO_94;
		byte C_95;
		word32 edx_96;
		byte Z_97;
		!remove();
		fclose(eax_61);
		word32 esp_103;
		word32 ebp_104;
		byte SCZO_105;
		word32 eax_106;
		byte SZO_108;
		byte C_109;
		word32 edx_110;
		byte Z_111;
		!system();
		if (eax_106 != 0x00)
			print_error(gs_107, ~0x08, 134565105);
	}
	if ((eax_15 ^ gs_107->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804AD9B: Register word32 vercmp(Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18)
word32 vercmp(Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18)
{
	word32 eax_15;
	if (dwArg04 == dwArg10 && (dwArg08 == dwArg14 && dwArg0C == dwArg18))
		eax_15 = 0x00;
	else if (dwArg10 > dwArg04)
		eax_15 = ~0x00;
	else if (dwArg10 < dwArg04)
		eax_15 = 0x01;
	else if (dwArg14 > dwArg08)
		eax_15 = ~0x00;
	else if (dwArg14 < dwArg08)
		eax_15 = 0x01;
	else if (dwArg18 > dwArg0C)
		eax_15 = ~0x00;
	else if (dwArg18 < dwArg0C)
		eax_15 = 0x01;
	else
		eax_15 = 0x00;
	return eax_15;
}

// 0804AE20: Register Eq_120 depstr(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
Eq_120 depstr(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	Eq_120 eax_151;
	word32 eax_15 = gs->dw0014;
	memcpy(fp + -0x0810, &globals->v8054D08, 11);
	Eq_120 eax_28 = fopen(fp + -0x0810, 134565139);
	if (eax_28 == 0x00)
	{
		if (*__errno_location() == 0x02)
		{
			eax_151.u0 = 134565141;
			goto l0804B001;
		}
		strerror(*__errno_location());
		print_error(gs, ~0x10, 134565142);
	}
	word32 dwLoc1818_136 = 0x01;
	Eq_120 eax_62 = malloc(0x0800);
	while (nc_fgets_nb(fp + -0x00001010, 0x0800, eax_28) != 0x00)
	{
		byte al_93 = (byte) (word32) bLoc1010;
		if (al_93 != 0x00)
		{
			word32 esp_103;
			word32 ebp_104;
			byte SCZO_105;
			word32 eax_106;
			byte SZO_108;
			byte C_109;
			word32 edx_110;
			byte Z_111;
			byte al_112;
			word32 ecx_113;
			!__isoc99_sscanf();
			if (fp > (char *) ~0x100F && strcmp(0x08054D35, fp + ~0x180F) != 0x00)
			{
				if (dwLoc1818_136 != 0x00)
				{
					strcat(eax_62, 0x08054D3B);
					strcat(eax_62, fp + ~0x180F);
					dwLoc1818_136 = 0x00;
				}
				else
				{
					strcat(eax_62, 0x08054D3D);
					strcat(eax_62, fp + ~0x180F);
				}
			}
		}
	}
	fclose(eax_28);
	eax_151 = eax_62;
l0804B001:
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_151;
}

// 0804B014: void register_extension(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18)
void register_extension(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18)
{
	word32 eax_21 = gs->dw0014;
	sprintf(fp + ~0x080F, 134565183, tLoc2870);
	word32 dwLoc281C_24 = 0x01;
	Eq_120 eax_37 = fopen(fp + ~0x080F, 134565139);
	if (eax_37 == 0x00)
	{
		if (*__errno_location() == 0x02)
			dwLoc281C_24 = 0x00;
		else
		{
			fclose(eax_37);
			strerror(*__errno_location());
			print_error(gs, ~0x0E, 134565142);
		}
	}
	if (dwLoc281C_24 != 0x00)
	{
		void * eax_192 = memcpy(0x08063AC0, &globals->v8054D54, 0x20);
		word32 esp_194;
		word32 ebp_195;
		word32 ebx_196;
		byte SCZO_197;
		word32 eax_198;
		byte SZO_200;
		byte C_201;
		word32 edx_202;
		byte Z_203;
		word32 ecx_204;
		byte S_205;
		!mkstemp();
		Eq_120 eax_210 = fopen(0x08063AC0, 0x08054D74);
		if (eax_210 == 0x00)
		{
			strerror(*__errno_location());
			print_error(gs, ~0x0E, 0x08054D78);
		}
		atexit(0x08048FC2);
		dwLoc2814 = 0x00;
		word32 dwLoc2820_220 = 0x01;
		word32 dwLoc2828_221 = 0x00;
		while (nc_fgets_nb(fp + ~0x100F, 0x0800, eax_37) != 0x00)
		{
			dwLoc2814 = dwLoc2814 + 0x01;
			word32 dwLoc2824_324 = 0x01;
			word32 esp_341;
			word32 ebp_342;
			word32 ebx_343;
			byte SCZO_344;
			word32 eax_345;
			byte SZO_347;
			byte C_348;
			word32 edx_349;
			byte Z_350;
			word32 ecx_351;
			byte S_352;
			!__isoc99_sscanf();
			if (strcmp(fp + ~0x180F, dwArg0C) == 0x00)
			{
				int32 eax_404 = vercmp(dwLoc2834, dwLoc2838, dwLoc283C, dwArg10, dwArg14, dwArg18);
				dwLoc2828_221 = 0x01;
				if (globals->dw80682C8 == 0x00)
				{
					if (eax_404 < 0x00)
						print_error(gs, ~0x0F, 0x08054E0C);
					else
						print_error(gs, ~0x0F, 0x08054E98);
				}
				if (globals->dw80682C8 != 0x00)
				{
					if (eax_404 == 0x00)
						dwLoc2820_220 = 0x00;
					else
					{
						dwLoc2820_220 = 0x01;
						dwLoc2824_324 = 0x00;
					}
				}
			}
			if (dwLoc2824_324 != 0x00)
			{
				fprintf(eax_210, fp + ~0x100F, tLoc2870);
				fflush(eax_210);
			}
		}
		if (dwLoc2820_220 != 0x00)
		{
			if (dwLoc2828_221 == 0x00)
			{
				strcpy(fp + ~0x280F, depstr(gs, dwArg0C, dwArg04));
				fprintf(eax_210, 134565676, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg08, fp + ~0x280F);
			}
			else
			{
				strcpy(fp + ~0x280F, depstr(gs, dwArg0C, dwArg04));
				fprintf(eax_210, 134565676, fp + ~0x180F, dwArg10, dwArg14, dwArg18, fp + ~0x200F, fp + ~0x280F);
			}
		}
		fclose(eax_210);
		fclose(eax_37);
	}
	if (dwLoc2814 == 0x00 || dwLoc281C_24 == 0x00)
	{
		void * eax_122 = memcpy(0x08063AC0, &globals->v8054D54, 0x20);
		word32 esp_124;
		word32 ebp_125;
		word32 ebx_126;
		byte SCZO_127;
		word32 eax_128;
		byte SZO_130;
		byte C_131;
		word32 edx_132;
		byte Z_133;
		word32 ecx_134;
		byte S_135;
		!mkstemp();
		Eq_120 eax_140 = fopen(0x08063AC0, 0x08054D74);
		if (eax_140 == 0x00)
		{
			strerror(*__errno_location());
			print_error(gs, ~0x0E, 0x08054F40);
		}
		atexit(0x08048FC2);
		strcpy(fp + ~0x280F, depstr(gs, dwArg0C, dwArg04));
		fprintf(eax_140, 134565676, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg08, fp + ~0x280F);
		fclose(eax_140);
	}
	if ((eax_21 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804B5E3: void deregister_extension(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
void deregister_extension(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	word32 eax_18 = gs->dw0014;
	sprintf(fp + -0x0810, 134565183, tLoc2870);
	word32 dwLoc2818_21 = 0x00;
	Eq_120 eax_34 = fopen(fp + -0x0810, 134565139);
	if (eax_34 == 0x00)
	{
		if (*__errno_location() == 0x02 && globals->dw80682C8 == 0x00)
		{
			fclose(eax_34);
			print_error(gs, ~0x12, 0x08054FBC);
		}
		else if (globals->dw80682C8 == 0x00)
		{
			fclose(eax_34);
			strerror(*__errno_location());
			print_error(gs, ~0x12, 134565142);
		}
	}
	else
		dwLoc2818_21 = 0x01;
	if (dwLoc2818_21 != 0x00)
	{
		dwLoc2818_21 = 0x00;
		void * eax_216 = memcpy(0x08063AC0, &globals->v8054D54, 0x20);
		word32 esp_218;
		word32 ebp_219;
		byte SCZO_220;
		word32 eax_221;
		byte SZO_223;
		byte C_224;
		word32 edx_225;
		byte Z_226;
		word32 ecx_227;
		!mkstemp();
		Eq_120 eax_232 = fopen(0x08063AC0, 0x08054D74);
		dwLoc2824 = eax_232;
		if (eax_232 == 0x00 && globals->dw80682C8 == 0x00)
		{
			strerror(*__errno_location());
			print_error(gs, ~0x12, 134565868);
		}
		else
		{
			atexit(0x08048FC2);
			dwLoc2818_21 = 0x01;
		}
	}
	if (dwLoc2818_21 != 0x00)
	{
		word32 dwLoc2828_108 = 0x00;
		while (nc_fgets_nb(fp + -0x00001010, 0x0800, eax_34) != 0x00)
		{
			word32 esp_155;
			word32 ebp_156;
			byte SCZO_157;
			word32 eax_158;
			byte SZO_160;
			byte C_161;
			word32 edx_162;
			byte Z_163;
			word32 ecx_164;
			!__isoc99_sscanf();
			if (fp > (char *) ~0x100F)
			{
				word32 dwLoc281C_168 = 0x01;
				if (strcmp(dwArg08, fp + ~0x180F) == 0x00)
				{
					dwLoc281C_168 = 0x00;
					dwLoc2828_108 = 0x01;
				}
				if (dwLoc281C_168 != 0x00)
				{
					if (strstr(fp + ~0x280F, dwArg08) != 0x00 && globals->dw80682C8 == 0x00)
						print_error(gs, ~0x12, 0x0805506C);
					fprintf(dwLoc2824, fp + ~0x100F, tLoc2870);
				}
			}
		}
		if (dwLoc2828_108 == 0x00)
			print_error(gs, ~0x12, 0x080550A4);
		fclose(eax_34);
		fclose(dwLoc2824);
	}
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804B961: void check_dependencies(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
void check_dependencies(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	word32 eax_27 = gs->dw0014;
	if (globals->dw80682C8 == 0x00)
	{
		Eq_120 eax_83 = fopen(0x08054D08, 134565139);
		if (eax_83 == 0x00)
		{
			if (*__errno_location() == 0x02)
			{
				fprintf(globals->t8059244, 0x080550D5, dwArg04);
				goto l0804BE67;
			}
			fclose(eax_83);
			strerror(*__errno_location());
			print_error(gs, ~0x10, 134565142);
		}
		sprintf(fp + -2080, 134565183, tLoc2890);
		word32 dwLoc2828_106 = 0x01;
		Eq_120 eax_102 = fopen(fp + -2080, 134565139);
		if (eax_102 == 0x00)
		{
			if (*__errno_location() == 0x02)
				dwLoc2828_106 = 0x00;
			else
			{
				fclose(eax_102);
				strerror(*__errno_location());
				print_error(gs, ~0x10, 134565142);
			}
		}
		while (nc_fgets_nb(fp + -0x00001020, 0x0800, eax_83) != 0x00)
		{
			word32 esp_188;
			word32 ebp_189;
			word32 edi_190;
			word32 esi_191;
			word32 ebx_192;
			byte SCZO_193;
			word32 eax_194;
			byte SZO_196;
			byte C_197;
			byte Z_198;
			word32 edx_199;
			word32 ecx_200;
			byte S_201;
			!__isoc99_sscanf();
			if (fp > (char *) ~0x101F)
			{
				if (strcmp(fp + ~0x281F, 0x08054D35) == 0x00)
				{
					word32 esp_222;
					word32 ebp_223;
					word32 edi_224;
					word32 esi_225;
					word32 ebx_226;
					byte SCZO_227;
					word32 eax_228;
					byte SZO_230;
					byte C_231;
					byte Z_232;
					word32 edx_233;
					word32 ecx_234;
					byte S_235;
					!__isoc99_sscanf();
					if (vercmp(0x00, 0x00, 0x00, 0x00, 0x00, 0x00) < 0x00)
						print_error(gs, ~0x11, 0x08055100);
				}
				else if (dwLoc2828_106 != 0x00)
				{
					word32 dwLoc282C_274 = 0x00;
					word32 esp_277;
					word32 ebp_278;
					word32 edi_279;
					word32 esi_280;
					word32 ebx_281;
					byte SCZO_282;
					word32 eax_283;
					byte SZO_285;
					byte C_286;
					byte Z_287;
					word32 edx_288;
					word32 ecx_289;
					byte S_290;
					!rewind();
					while (nc_fgets_nb(fp + ~0x181F, 0x0800, eax_102) != 0x00)
					{
						word32 esp_344;
						word32 ebp_345;
						word32 edi_346;
						word32 esi_347;
						word32 ebx_348;
						byte SCZO_349;
						word32 eax_350;
						byte SZO_352;
						byte C_353;
						byte Z_354;
						word32 edx_355;
						word32 ecx_356;
						byte S_357;
						!__isoc99_sscanf();
						if (fp > (char *) ~0x181F && strcmp(fp + ~0x201F, fp + ~0x281F) == 0x00)
						{
							if (vercmp(0x00, 0x00, 0x00, 0x00, 0x00, 0x00) < 0x00)
								print_error(gs, ~0x11, 0x0805514C);
							dwLoc282C_274 = 0x01;
						}
					}
					if (dwLoc282C_274 == 0x00)
						print_error(gs, ~0x11, 0x080551BC);
				}
			}
		}
		if (dwLoc2828_106 != 0x00)
			fclose(eax_102);
		fclose(eax_83);
	}
l0804BE67:
	if ((eax_27 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804BE84: Register word32 is_submenu(Stack Eq_120 dwArg04)
word32 is_submenu(Eq_120 dwArg04)
{
	word32 eax_26;
	if (strchr(dwArg04, '[') == 0x00)
		eax_26 = 0x00;
	else if (strrchr(dwArg04, ']') == 0x00)
		eax_26 = 0x00;
	else if (strchr(dwArg04, '[') > strrchr(dwArg04, ']'))
		eax_26 = 0x00;
	else
		eax_26 = 0x01;
	return eax_26;
}

// 0804BF05: void check_ext_menu(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
void check_ext_menu(Eq_83 * gs, Eq_120 dwArg04)
{
	if (find_pos(0x080551E8, dwArg04, 0x00) == ~0x00)
	{
		int32 eax_38 = find_pos(0x080551FE, dwArg04, 0x00);
		if (eax_38 == ~0x00)
		{
			int32 eax_46 = find_pos(0x08055212, dwArg04, 0x00);
			if (eax_46 == ~0x00)
				print_error(gs, ~0x14, 0x08055215);
			insert_str(gs, 0x08055232, eax_46, dwArg04);
			insert_str(gs, 0x0805524C, eax_46 + 0x01, dwArg04);
			return;
		}
		insert_str(gs, 0x08055232, eax_38, dwArg04);
		insert_str(gs, 0x0805524C, eax_38 + 0x01, dwArg04);
	}
}

// 0804C009: Register word32 new_submenu(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
word32 new_submenu(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	word32 eax_21 = gs->dw0014;
	int32 eax_30 = find_pos(0x08055250, dwArg0C, 0x00);
	int32 eax_39 = find_pos(0x08055264, dwArg0C, eax_30 + 0x01);
	int32 dwLoc1814_163 = eax_30;
	int32 dwLoc1820_296 = eax_39 - 0x01;
	if (eax_39 == 0x00)
		dwLoc1820_296 = find_pos(0x08055212, dwArg0C, 0x00);
	word32 eax_226;
	if (is_submenu(dwArg08) == 0x00)
	{
		print_warning(gs, 134566516);
		eax_226 = ~0x00;
	}
	else
	{
		int32 edx_107 = strrchr(dwArg08, ']') - strchr(dwArg08, '[');
		strncpy(fp->aFFFFF7F0, (word32) strchr(dwArg08, '[') + 0x01, edx_107);
		fp->aFFFFF7F0[edx_107 - 0x01] = 0x00;
		sprintf((char *) fp - 0x00001810, 0x080552AD, tLoc1860);
		int32 eax_140 = find_pos((char *) fp - 0x00001810, dwArg0C, eax_30);
		if (eax_140 != ~0x00 && eax_140 < dwLoc1820_296)
		{
			print_warning(gs, 0x080552BC);
			eax_226 = ~0x00;
		}
		else
		{
			int32 dwLoc181C_148 = eax_30 + 0x01;
			int32 dwLoc1818_155 = find_pos(0x080552ED, dwArg0C, eax_30);
			while (dwLoc1818_155 != ~0x00 && dwLoc1818_155 < dwLoc1820_296)
			{
				Eq_120 eax_238 = strchr(*((word32) dwArg0C + dwLoc1818_155 * 0x04), '"');
				int32 ecx_250 = strchr((word32) eax_238 + 0x01, '"') - eax_238;
				strncpy(fp->aFFFFEFF0, (word32) eax_238 + 0x01, ecx_250);
				fp->aFFFFEFF0[ecx_250 - 0x01] = 0x00;
				if (strcmp(fp->aFFFFF7F0, fp->aFFFFEFF0) < 0x00)
				{
					dwLoc181C_148 = dwLoc1818_155;
					break;
				}
				int32 v15_274 = dwLoc1814_163 + 0x01;
				dwLoc1814_163 = v15_274;
				dwLoc1818_155 = find_pos(0x080552ED, dwArg0C, v15_274);
			}
			sprintf(fp->aFFFFF7F0, 134566646, tLoc1860);
			insert_str(gs, fp->aFFFFF7F0, dwLoc181C_148, dwArg0C);
			insert_str(gs, 0x08055308, dwLoc181C_148 + 0x01, dwArg0C);
			int32 eax_207 = find_pos(0x08055212, dwArg0C, 0x00);
			sprintf(fp->aFFFFF7F0, 0x08055310, tLoc1860);
			insert_str(gs, fp->aFFFFF7F0, eax_207 + 0x01, dwArg0C);
			eax_226 = dwLoc181C_148 + 0x01;
		}
	}
	if ((eax_21 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_226;
}

// 0804C41B: Register word32 new_item(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack ptr32 dwArg08, Stack Eq_120 dwArg0C, Stack int32 dwArg10)
word32 new_item(Eq_83 * gs, Eq_120 dwArg04, ptr32 dwArg08, Eq_120 dwArg0C, int32 dwArg10)
{
	word32 eax_42;
	word32 eax_18 = gs->dw0014;
	chop(dwArg04);
	Eq_120 eax_29 = strtok(dwArg04, 0x08055341);
	Eq_120 dwLoc1814_133 = eax_29;
	if (eax_29 == 0x00)
	{
		print_warning(gs, 0x08055344);
		eax_42 = ~0x00;
	}
	else
	{
		strcpy(fp + ~0x080F, eax_29);
		int32 dwLoc1818_140 = 0x00;
		while (dwLoc1814_133 != 0x00)
		{
			Eq_120 eax_132 = strtok(0x00, 0x08055341);
			dwLoc1814_133 = eax_132;
			if (eax_132 != 0x00)
				strcpy(fp + ~0x100F, eax_132);
			dwLoc1818_140 = dwLoc1818_140 + 0x01;
		}
		if (dwLoc1818_140 > 0x02)
		{
			print_warning(gs, 0x08055368);
			eax_42 = ~0x00;
		}
		else
		{
			if (strcmp(fp + ~0x080F, 0x0805539C) == 0x00 && strcmp(fp + ~0x080F, 0x0805539C) == 0x00)
				memcpy(fp + ~0x180F, &globals->v805539E, 0x12);
			else
				sprintf(fp + ~0x180F, 0x080553B0, tLoc1850);
			insert_str(gs, fp + ~0x180F, dwArg10, dwArg0C);
			eax_42 = dwArg10 + 0x01;
		}
	}
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_42;
}

// 0804C5F0: void register_entries_gisman(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void register_entries_gisman(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_18 = gs->dw0014;
	memcpy(fp->aFFFFE7F0 + 0x00001000, &globals->v80553DF, 0x12);
	Eq_120 eax_31 = fopen(fp->aFFFFE7F0 + 0x00001000, 0x080553F1);
	if (eax_31 == 0x00)
	{
		if (*__errno_location() == 0x02)
			goto l0804CD52;
		fclose(eax_31);
		strerror(*__errno_location());
		print_error(gs, ~0x14, 0x080553F3);
	}
	sprintf(fp->aFFFFE7F0 + 0x00001000, 0x0805540F, tLoc1890);
	Eq_120 eax_94 = fopen(fp->aFFFFE7F0 + 0x00001000, 0x080553F1);
	if (eax_94 == 0x00)
	{
		if (*__errno_location() == 0x02)
			goto l0804CD52;
		fclose(eax_94);
		strerror(*__errno_location());
		print_error(gs, ~0x14, 0x080553F3);
	}
	void * eax_103 = memcpy(0x080642C0, &globals->v8055424, 0x20);
	word32 esp_130;
	word32 ebp_131;
	word32 ebx_132;
	byte SCZO_133;
	word32 eax_134;
	byte SZO_136;
	byte C_137;
	word32 edx_138;
	byte Z_139;
	byte S_140;
	byte SO_141;
	!mkstemp();
	Eq_120 eax_146 = fopen(0x080642C0, 0x08055444);
	if (eax_146 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x14, 0x08055448);
	}
	atexit(0x08048FC2);
	if (globals->dw80632A0 != 0x00)
		sprintf(fp->aFFFFE7F0 + 0x0800, 0x080554C4, tLoc1890);
	else
		sprintf(fp->aFFFFE7F0 + 0x0800, 0x080555A4, tLoc1890);
	strcpy(134644448, fp->aFFFFE7F0 + 0x0800);
	ui32 dwLoc181C_176 = 0x00;
	while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_31) != null)
		dwLoc181C_176 = dwLoc181C_176 + 0x01;
	if (dwLoc181C_176 != 0x00)
	{
		word32 esp_192;
		word32 ebp_193;
		word32 ebx_194;
		byte SCZO_195;
		word32 eax_196;
		byte SZO_198;
		byte C_199;
		word32 edx_200;
		byte Z_201;
		byte S_202;
		byte SO_203;
		!rewind();
		int32 dwLoc1820_204 = 0x00;
		while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_94) != null)
			dwLoc1820_204 = dwLoc1820_204 + 0x01;
		if (dwLoc1820_204 != 0x00)
		{
			word32 esp_222;
			word32 ebp_223;
			word32 ebx_224;
			byte SCZO_225;
			word32 eax_226;
			struct Eq_83 * gs_227;
			byte SZO_228;
			byte C_229;
			word32 edx_230;
			byte Z_231;
			byte S_232;
			byte SO_233;
			!rewind();
			Eq_120 eax_241 = calloc(dwLoc181C_176 * 0x02 + dwLoc1820_204 + 0x06, 0x04);
			int32 dwLoc1824_243 = 0x00;
			while (dwLoc181C_176 * 0x02 + dwLoc1820_204 + 0x06 > dwLoc1824_243)
			{
				((word32) eax_241 + dwLoc1824_243 * 0x04)->u0 = 0x00;
				dwLoc1824_243 = dwLoc1824_243 + 0x01;
			}
			ui32 dwLoc1824_251 = 0x00;
			while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_94) != null)
			{
				eax_241[dwLoc1824_251 * 0x04] = malloc(strlen(fp->aFFFFE7F0 + 0x0800) + 0x01);
				strcpy(*((word32) eax_241 + dwLoc1824_251 * 0x04), fp->aFFFFE7F0 + 0x0800);
				dwLoc1824_251 = dwLoc1824_251 + 0x01;
			}
			check_ext_menu(gs_227, eax_241);
			word32 dwLoc1824_267 = 0x01;
			while (nc_fgets_nb(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_31) != 0x00)
			{
				if (dwLoc1824_267 != 0x01)
				{
					int32 eax_454 = new_item(gs_227, fp->aFFFFE7F0 + 0x0800, fp->aFFFFE7F0, eax_241, dwLoc1830);
					dwLoc1830 = eax_454;
					if (eax_454 >= 0x00)
					{
						dwLoc1824_267 = dwLoc1824_267 + 0x01;
						continue;
					}
					else
					{
						print_warning(gs_227, 0x080556B8);
						break;
					}
				}
				int32 edx_413 = strrchr(fp->aFFFFE7F0 + 0x0800, ']') - strchr(fp->aFFFFE7F0 + 0x0800, '[');
				strncpy(fp->aFFFFE7F0, (word32) strchr(fp->aFFFFE7F0 + 0x0800, '[') + 0x01, edx_413);
				fp->aFFFFE7F0[edx_413 - 0x01] = 0x00;
				int32 eax_438 = new_submenu(gs_227, dwArg04, fp->aFFFFE7F0 + 0x0800, eax_241);
				dwLoc1830 = eax_438;
				if (eax_438 < 0x00)
				{
					print_warning(gs_227, 0x08055690);
					break;
				}
				dwLoc1824_267 = dwLoc1824_267 + 0x01;
			}
			ui32 dwLoc1824_299 = 0x00;
			while (*((word32) eax_241 + dwLoc1824_299 * 0x04) != 0x00)
			{
				fprintf(eax_146, *((word32) eax_241 + dwLoc1824_299 * 0x04), tLoc1890);
				dwLoc1824_299 = dwLoc1824_299 + 0x01;
			}
			fflush(eax_146);
			word32 esp_316;
			word32 ebp_317;
			word32 ebx_318;
			byte SCZO_319;
			word32 eax_320;
			byte SZO_322;
			byte C_323;
			word32 edx_324;
			byte Z_325;
			byte S_326;
			byte SO_327;
			!rewind();
			int32 dwLoc182C_328 = 0x00;
			while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_146) != null)
				dwLoc182C_328 = dwLoc182C_328 + 0x01;
			if (dwLoc182C_328 == 0x00 || dwLoc182C_328 < dwLoc1820_204)
			{
				print_warning(gs, 0x080556E4);
				memcpy(134644448, &globals->v8055722, 0x01);
			}
			fclose(eax_94);
			fclose(eax_31);
			fclose(eax_146);
			int32 dwLoc1824_355 = 0x00;
			while (dwLoc181C_176 * 0x02 + dwLoc1820_204 + 0x06 > dwLoc1824_355)
			{
				free(*((word32) eax_241 + dwLoc1824_355 * 0x04));
				dwLoc1824_355 = dwLoc1824_355 + 0x01;
			}
			free(eax_241);
		}
	}
l0804CD52:
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804CD6C: void register_entries_gisman2(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void register_entries_gisman2(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_15 = gs->dw0014;
	memcpy(fp + ~0x080F, &globals->v8055723, 0x13);
	Eq_120 eax_28 = fopen(fp + ~0x080F, 0x080553F1);
	if (eax_28 == 0x00)
	{
		if (*__errno_location() == 0x02)
			goto l0804CEB4;
		fclose(eax_28);
		strerror(*__errno_location());
		print_error(gs, ~0x1F, 0x080553F3);
	}
	if (globals->dw80632A0 != 0x00)
		sprintf(fp + ~0x100F, 0x08055738, tLoc1050);
	else
		sprintf(fp + ~0x100F, 0x08055790, tLoc1050);
	strcpy(0x08068AE0, fp + ~0x100F);
l0804CEB4:
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804CEC7: Register word32 deregister_entries_gisman(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
word32 deregister_entries_gisman(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_166;
	word32 eax_18 = gs->dw0014;
	sprintf(fp->aFFFFE7F0 + 0x00001000, 0x0805540F, tLoc1890);
	Eq_120 eax_33 = fopen(fp->aFFFFE7F0 + 0x00001000, 0x080553F1);
	if (eax_33 == 0x00)
	{
		if (*__errno_location() == 0x02)
		{
			eax_166 = 0x00;
			goto l0804D729;
		}
		fclose(eax_33);
		strerror(*__errno_location());
		print_error(gs, ~0x15, 0x080553F3);
	}
	void * eax_86 = memcpy(0x080642C0, &globals->v8055424, 0x20);
	word32 esp_112;
	word32 ebp_113;
	word32 ebx_114;
	byte SCZO_115;
	word32 eax_116;
	byte SZO_118;
	byte C_119;
	word32 edx_120;
	byte Z_121;
	word32 ecx_122;
	!mkstemp();
	Eq_120 eax_127 = fopen(0x080642C0, 0x08055444);
	if (eax_127 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x14, 0x08055448);
	}
	atexit(0x08048FC2);
	if (globals->dw80632A0 != 0x00)
		sprintf(fp->aFFFFE7F0 + 0x0800, 0x080557DC, tLoc1890);
	else
		sprintf(fp->aFFFFE7F0 + 0x0800, 0x0805585C, tLoc1890);
	strcpy(134644448, fp->aFFFFE7F0 + 0x0800);
	int32 dwLoc1818_152 = 0x00;
	while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_33) != null)
		dwLoc1818_152 = dwLoc1818_152 + 0x01;
	if (dwLoc1818_152 == 0x00)
		eax_166 = ~0x00;
	else
	{
		word32 esp_169;
		word32 ebp_170;
		word32 ebx_171;
		byte SCZO_172;
		word32 eax_173;
		byte SZO_175;
		byte C_176;
		word32 edx_177;
		byte Z_178;
		word32 ecx_179;
		!rewind();
		Eq_120 eax_187 = calloc(dwLoc1818_152 + 0x01, 0x04);
		int32 dwLoc181C_189 = 0x00;
		while (dwLoc1818_152 + 0x01 > dwLoc181C_189)
		{
			((word32) eax_187 + dwLoc181C_189 * 0x04)->u0 = 0x00;
			dwLoc181C_189 = dwLoc181C_189 + 0x01;
		}
		ui32 dwLoc181C_195 = 0x00;
		while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_33) != null)
		{
			eax_187[dwLoc181C_195 * 0x04] = malloc(strlen(fp->aFFFFE7F0 + 0x0800) + 0x01);
			strcpy(*((word32) eax_187 + dwLoc181C_195 * 0x04), fp->aFFFFE7F0 + 0x0800);
			dwLoc181C_195 = dwLoc181C_195 + 0x01;
		}
		sprintf(fp->aFFFFE7F0 + 0x0800, 0x080558E8, tLoc1890);
		int32 eax_221 = find_pos(fp->aFFFFE7F0 + 0x0800, eax_187, 0x00);
		if (eax_221 == ~0x00)
		{
			print_warning(gs, 0x08055914);
			eax_166 = ~0x00;
		}
		else
		{
			Eq_120 eax_234 = strchr(*((word32) eax_187 + eax_221 * 0x04), '"');
			Eq_120 eax_242 = strchr((word32) eax_234 + 0x01, '"');
			strcpy(fp->aFFFFE7F0, (word32) eax_234 + 0x01);
			fp->aFFFFE7F0[eax_242 - ((word32) eax_234 + 0x01)] = 0x00;
			int32 eax_260 = find_pos(0x080551E8, eax_187, 0x00);
			int32 eax_269 = find_pos(0x08055264, eax_187, eax_260 + 0x01);
			int32 dwLoc1838_271 = eax_269 - 0x01;
			if (eax_269 == 0x00)
				dwLoc1838_271 = find_pos(0x08055212, eax_187, 0x00);
			if (eax_260 == ~0x00)
			{
				print_warning(gs, 0x08055949);
				eax_166 = ~0x00;
			}
			else
			{
				sprintf(fp->aFFFFE7F0 + 0x0800, 0x080552AD, tLoc1890);
				int32 eax_296 = find_pos(fp->aFFFFE7F0 + 0x0800, eax_187, eax_260);
				if (eax_296 != ~0x00 && eax_296 <= dwLoc1838_271)
				{
					int32 eax_314 = find_pos(0x0805599A, eax_187, eax_296);
					if (eax_314 != ~0x00 && eax_314 <= dwLoc1838_271)
					{
						word32 dwLoc184C_327 = 0x01;
						int32 dwLoc181C_328 = 0x00;
						while (eax_314 - eax_296 + 0x01 > dwLoc181C_328)
						{
							delete_str(gs, eax_296, eax_187);
							dwLoc184C_327 = dwLoc184C_327 + 0x01;
							dwLoc181C_328 = dwLoc181C_328 + 0x01;
						}
						sprintf(fp->aFFFFE7F0 + 0x0800, 0x080558E8, tLoc1890);
						delete_str(gs, find_pos(fp->aFFFFE7F0 + 0x0800, eax_187, 0x00), eax_187);
						int32 eax_366 = find_pos(0x080551E8, eax_187, 0x00);
						int32 eax_375 = find_pos(0x08055264, eax_187, eax_366 + 0x01);
						word32 dwLoc184C_360 = dwLoc184C_327 + 0x00;
						if (eax_375 - 0x01 - eax_366 <= 0x02)
						{
							int32 dwLoc181C_481 = 0x00;
							while (eax_375 - 0x01 - eax_366 + 0x01 > dwLoc181C_481)
							{
								delete_str(gs, eax_366, eax_187);
								dwLoc184C_360 = dwLoc184C_360 + 0x01;
								dwLoc181C_481 = dwLoc181C_481 + 0x01;
							}
						}
						ui32 dwLoc181C_393 = 0x00;
						while (*((word32) eax_187 + dwLoc181C_393 * 0x04) != 0x00)
						{
							fprintf(eax_127, *((word32) eax_187 + dwLoc181C_393 * 0x04), tLoc1890);
							dwLoc181C_393 = dwLoc181C_393 + 0x01;
						}
						fflush(eax_127);
						word32 esp_410;
						word32 ebp_411;
						word32 ebx_412;
						byte SCZO_413;
						word32 eax_414;
						byte SZO_416;
						byte C_417;
						word32 edx_418;
						byte Z_419;
						word32 ecx_420;
						!rewind();
						word32 dwLoc1824_421 = 0x00;
						while (fgets(fp->aFFFFE7F0 + 0x0800, 0x0800, eax_127) != null)
							dwLoc1824_421 = dwLoc1824_421 + 0x01;
						if (dwLoc1824_421 == 0x00)
						{
							print_warning(gs, 0x080556E4);
							memcpy(134644448, &globals->v8055722, 0x01);
						}
						fclose(eax_33);
						fclose(eax_127);
						int32 dwLoc181C_443 = 0x00;
						while (dwLoc1818_152 + 0x01 > dwLoc181C_443)
						{
							free(*((word32) eax_187 + dwLoc181C_443 * 0x04));
							dwLoc181C_443 = dwLoc181C_443 + 0x01;
						}
						free(eax_187);
						eax_166 = dwLoc184C_360;
					}
					else
					{
						print_warning(gs, 0x080559A4);
						eax_166 = ~0x00;
					}
				}
				else
				{
					print_warning(gs, 0x08055968);
					eax_166 = ~0x00;
				}
			}
		}
	}
l0804D729:
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_166;
}

// 0804D743: void deregister_entries_gisman2(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void deregister_entries_gisman2(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_15 = gs->dw0014;
	sprintf(fp + ~0x080F, 0x080559DD, tLoc1040);
	Eq_120 eax_32 = fopen(fp + ~0x080F, 0x080553F1);
	if (eax_32 == 0x00)
	{
		if (*__errno_location() == 0x02)
			goto l0804D883;
		fclose(eax_32);
		strerror(*__errno_location());
		print_error(gs, ~0x20, 0x080553F3);
	}
	if (globals->dw80632A0 != 0x00)
		sprintf(fp + ~0x100F, 0x080559F4, tLoc1040);
	else
		sprintf(fp + ~0x100F, 0x08055A14, tLoc1040);
	strcpy(134644448, fp + ~0x100F);
l0804D883:
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804D896: Register word32 restore_entries_gisman(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
word32 restore_entries_gisman(Eq_83 * gs, Eq_120 dwArg04)
{
	word32 eax_170;
	word32 eax_15 = gs->dw0014;
	sprintf((char *) fp - 0x00001810, 0x0805540F, tLoc2890);
	Eq_120 eax_30 = fopen((char *) fp - 0x00001810, 0x080553F1);
	if (eax_30 == 0x00)
	{
		if (*__errno_location() == 0x02)
		{
			eax_170 = 0x00;
			goto l0804E0E6;
		}
		fclose(eax_30);
		strerror(*__errno_location());
		print_error(gs, ~0x14, 0x080553F3);
	}
	void * eax_82 = memcpy(0x080642C0, &globals->v8055424, 0x20);
	word32 esp_107;
	word32 ebp_108;
	word32 ebx_109;
	byte SCZO_110;
	word32 eax_111;
	struct Eq_83 * gs_112;
	byte SZO_113;
	byte C_114;
	word32 edx_115;
	byte Z_116;
	word32 ecx_117;
	byte S_118;
	!mkstemp();
	Eq_120 eax_123 = fopen(0x080642C0, 0x08055444);
	if (eax_123 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs_112, ~0x14, 0x08055448);
	}
	atexit(0x08048FC2);
	if (globals->dw80632A0 != 0x00)
		sprintf(fp->aFFFFEFF0 + 0x0800, 0x080557DC, tLoc2890);
	else
		sprintf(fp->aFFFFEFF0 + 0x0800, 0x0805585C, tLoc2890);
	strcpy(134644448, fp->aFFFFEFF0 + 0x0800);
	sprintf((char *) fp - 0x00002010, 0x08055A33, tLoc2890);
	word32 esp_155;
	word32 ebp_156;
	word32 ebx_157;
	byte SCZO_158;
	word32 eax_159;
	byte SZO_161;
	byte C_162;
	word32 edx_163;
	byte Z_164;
	word32 ecx_165;
	byte S_166;
	!opendir();
	if (fp == (struct Eq_4302 *) ~0x200F)
		eax_170 = 0x00;
	else
	{
		ui32 dwLoc281C_171 = 0x00;
		ui32 dwLoc2844_172 = 0x00;
		while (true)
		{
			word32 esp_181;
			word32 ebp_182;
			word32 ebx_183;
			byte SCZO_184;
			word32 eax_185;
			struct Eq_4432 * gs_186;
			byte SZO_187;
			byte C_188;
			word32 edx_189;
			byte Z_190;
			word32 ecx_191;
			byte S_192;
			!readdir();
			if (eax_185 == 0x00)
				break;
			sprintf((char *) fp - 0x00001810, 0x08055A49, tLoc2890);
			Eq_120 eax_579 = fopen((char *) fp - 0x00001810, 0x080553F1);
			if (strcmp(eax_185 + 11, 0x08055A4F) != 0x00 && strcmp(eax_185 + 11, 0x08055A51) != 0x00)
			{
				if (eax_579 == 0x00)
					fclose(eax_579);
				else
				{
					while (fgets(fp->aFFFFEFF0 + 0x0800, 0x0800, eax_579) != null)
						dwLoc281C_171 = dwLoc281C_171 + 0x01;
					fclose(eax_579);
					dwLoc2844_172 = dwLoc2844_172 + 0x01;
				}
			}
			else
				fclose(eax_579);
		}
		word32 esp_198;
		word32 ebp_199;
		word32 ebx_200;
		byte SCZO_201;
		word32 eax_202;
		byte SZO_204;
		byte C_205;
		word32 edx_206;
		byte Z_207;
		word32 ecx_208;
		byte S_209;
		!closedir();
		int32 dwLoc2820_210 = 0x00;
		while (fgets(fp->aFFFFEFF0 + 0x0800, 0x0800, eax_30) != null)
			dwLoc2820_210 = dwLoc2820_210 + 0x01;
		if (dwLoc2820_210 == 0x00)
			eax_170 = 0x00;
		else
		{
			word32 esp_227;
			word32 ebp_228;
			word32 ebx_229;
			byte SCZO_230;
			word32 eax_231;
			struct Eq_83 * gs_232;
			byte SZO_233;
			byte C_234;
			word32 edx_235;
			byte Z_236;
			word32 ecx_237;
			byte S_238;
			!rewind();
			Eq_120 eax_251 = calloc(dwLoc281C_171 * 0x02 + dwLoc2844_172 * 0x05 + dwLoc2820_210 + 0x01, 0x04);
			int32 dwLoc2824_253 = 0x00;
			while (true)
			{
				int32 ecx_256 = dwLoc281C_171 * 0x02;
				if (ecx_256 + dwLoc2844_172 * 0x05 + dwLoc2820_210 + 0x01 <= dwLoc2824_253)
					break;
				((word32) eax_251 + dwLoc2824_253 * 0x04)->u0 = 0x00;
				dwLoc2824_253 = dwLoc2824_253 + 0x01;
			}
			ui32 dwLoc2824_266 = 0x00;
			while (fgets(fp->aFFFFEFF0 + 0x0800, 0x0800, eax_30) != null)
			{
				eax_251[dwLoc2824_266 * 0x04] = malloc(strlen(fp->aFFFFEFF0 + 0x0800) + 0x01);
				strcpy(*((word32) eax_251 + dwLoc2824_266 * 0x04), fp->aFFFFEFF0 + 0x0800);
				dwLoc2824_266 = dwLoc2824_266 + 0x01;
			}
			((word32) eax_251 + dwLoc2824_266 * 0x04)->u0 = 0x00;
			check_ext_menu(gs_232, eax_251);
			word32 esp_289;
			word32 ebp_290;
			word32 ebx_291;
			byte SCZO_292;
			word32 eax_293;
			struct Eq_4595 * gs_294;
			byte SZO_295;
			byte C_296;
			word32 edx_297;
			byte Z_298;
			word32 ecx_299;
			byte S_300;
			!opendir();
			word32 dwLoc2840_302 = 0x00;
			while (true)
			{
				word32 esp_314;
				word32 ebp_315;
				word32 ebx_316;
				byte SCZO_317;
				word32 eax_318;
				struct Eq_83 * gs_319;
				byte SZO_320;
				byte C_321;
				word32 edx_322;
				byte Z_323;
				word32 ecx_324;
				byte S_325;
				!readdir();
				if (eax_318 == 0x00)
					break;
				sprintf((char *) fp - 0x00001810, 0x08055A49, tLoc2890);
				if (strcmp(eax_318 + 11, 0x08055A4F) != 0x00 && strcmp(eax_318 + 11, 0x08055A51) != 0x00)
				{
					Eq_120 eax_430 = fopen((char *) fp - 0x00001810, 0x080553F1);
					if (eax_430 != 0x00)
					{
						word32 dwLoc2824_434 = 0x01;
						while (nc_fgets_nb(fp->aFFFFEFF0 + 0x0800, 0x0800, eax_430) != 0x00)
						{
							if (dwLoc2824_434 != 0x01)
							{
								int32 eax_524 = new_item(gs_319, fp->aFFFFEFF0 + 0x0800, fp->aFFFFEFF0, eax_251, dwLoc2828);
								dwLoc2828 = eax_524;
								if (eax_524 < 0x00)
									break;
								dwLoc2824_434 = dwLoc2824_434 + 0x01;
								dwLoc2840_302 = dwLoc2840_302 + 0x01;
								continue;
							}
							int32 edx_482 = strrchr(fp->aFFFFEFF0 + 0x0800, ']') - strchr(fp->aFFFFEFF0 + 0x0800, '[');
							strncpy(fp->aFFFFEFF0, (word32) strchr(fp->aFFFFEFF0 + 0x0800, '[') + 0x01, edx_482);
							fp->aFFFFEFF0[edx_482 - 0x01] = 0x00;
							int32 eax_507 = new_submenu(gs_319, (char *) fp - 0x00002810, fp->aFFFFEFF0 + 0x0800, eax_251);
							dwLoc2828 = eax_507;
							if (eax_507 < 0x00)
								break;
							dwLoc2824_434 = dwLoc2824_434 + 0x01;
							dwLoc2840_302 = dwLoc2840_302 + 0x01;
						}
						fclose(eax_430);
					}
				}
			}
			word32 esp_331;
			word32 ebp_332;
			word32 ebx_333;
			byte SCZO_334;
			word32 eax_335;
			byte SZO_337;
			byte C_338;
			word32 edx_339;
			byte Z_340;
			word32 ecx_341;
			byte S_342;
			!closedir();
			ui32 dwLoc2824_343 = 0x00;
			while (*((word32) eax_251 + dwLoc2824_343 * 0x04) != 0x00)
			{
				fprintf(eax_123, *((word32) eax_251 + dwLoc2824_343 * 0x04), tLoc2890);
				dwLoc2824_343 = dwLoc2824_343 + 0x01;
			}
			fflush(eax_123);
			fclose(eax_30);
			fclose(eax_123);
			int32 dwLoc2824_364 = 0x00;
			while (dwLoc281C_171 * 0x02 + dwLoc2844_172 * 0x05 + dwLoc2820_210 + 0x01 > dwLoc2824_364)
			{
				free(*((word32) eax_251 + dwLoc2824_364 * 0x04));
				dwLoc2824_364 = dwLoc2824_364 + 0x01;
			}
			free(eax_251);
			eax_170 = dwLoc2840_302;
		}
	}
l0804E0E6:
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_170;
}

// 0804E100: void new_ext_html(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18)
void new_ext_html(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18)
{
	word32 eax_18 = gs->dw0014;
	int32 eax_27 = find_pos(0x08055A54, dwArg0C, 0x00);
	int32 dwLoc0814_28 = eax_27;
	if (eax_27 < 0x00)
	{
		int32 eax_304 = find_pos(0x08055A70, dwArg0C, 0x00);
		dwLoc0814_28 = eax_304;
		if (eax_304 < 0x00)
		{
			print_warning(gs, 134568636);
			goto l0804E55C;
		}
	}
	int32 eax_68 = find_pos(0x08055AFE, dwArg0C, dwLoc0814_28);
	if (find_pos(0x08055B04, dwArg0C, dwLoc0814_28) == ~0x00)
	{
		insert_str(gs, 0x08055B24, eax_68, dwArg0C);
		insert_str(gs, 0x08055B44, eax_68 + 0x01, dwArg0C);
		insert_str(gs, 0x08055B4A, eax_68 + 0x02, dwArg0C);
		insert_str(gs, 0x08055B51, eax_68 + 0x03, dwArg0C);
	}
	int32 eax_83 = find_pos(0x08055B04, dwArg0C, dwLoc0814_28);
	int32 eax_90 = find_pos(0x08055B56, dwArg0C, eax_83);
	sprintf(fp->aFFFFF7F0, 0x08055B5C, tLoc0870);
	int32 dwLoc0820_176 = eax_83;
	int32 dwLoc0828_194 = eax_83 + 0x02;
	int32 eax_110 = find_pos(fp->aFFFFF7F0, dwArg0C, eax_83 + 0x02);
	if (eax_110 != ~0x00)
	{
		print_warning(gs, 0x08055B64);
		if (globals->dw80682C8 != 0x00 && globals->dw80682CC != 0x00)
		{
			sprintf(fp->aFFFFF7F0, 0x08055B8C, tLoc0870);
			strcpy(*((word32) dwArg0C + eax_110 * 0x04), fp->aFFFFF7F0);
		}
	}
	else
	{
		int32 dwLoc081C_168 = find_pos(0x08055BC9, dwArg0C, eax_83);
		while (dwLoc081C_168 != ~0x00 && dwLoc081C_168 < eax_90)
		{
			Eq_120 eax_229 = strrchr(*((word32) dwArg0C + dwLoc081C_168 * 0x04), '"');
			int32 ecx_243 = strrchr(*((word32) dwArg0C + dwLoc081C_168 * 0x04), '<') - eax_229;
			strncpy(fp->aFFFFF7F0, (word32) eax_229 + 0x02, ecx_243);
			fp->aFFFFF7F0[ecx_243 - 0x01] = 0x00;
			if (strcmp(dwArg04, fp->aFFFFF7F0) < 0x00)
			{
				dwLoc0828_194 = dwLoc081C_168;
				break;
			}
			int32 v14_267 = dwLoc0820_176 + 0x01;
			dwLoc0820_176 = v14_267;
			dwLoc081C_168 = find_pos(0x08055BC9, dwArg0C, v14_267);
		}
		sprintf(fp->aFFFFF7F0, 0x08055B8C, tLoc0870);
		insert_str(gs, fp->aFFFFF7F0, dwLoc0828_194, dwArg0C);
	}
l0804E55C:
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804E56F: void delete_ext_html(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C)
void delete_ext_html(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C)
{
	word32 eax_18 = gs->dw0014;
	int32 eax_27 = find_pos(0x08055A54, dwArg0C, 0x00);
	int32 dwLoc0814_166 = eax_27;
	if (eax_27 < 0x00)
	{
		int32 eax_165 = find_pos(0x08055A70, dwArg0C, 0x00);
		dwLoc0814_166 = eax_165;
		if (eax_165 < 0x00)
		{
			print_warning(gs, 0x08055BD8);
			goto l0804E7E0;
		}
	}
	find_pos(0x08055AFE, dwArg0C, dwLoc0814_166);
	if (find_pos(0x08055B04, dwArg0C, dwLoc0814_166) == ~0x00)
		print_warning(gs, 0x08055C20);
	else
	{
		int32 eax_85 = find_pos(0x08055B04, dwArg0C, dwLoc0814_166);
		int32 eax_92 = find_pos(0x08055B56, dwArg0C, eax_85);
		sprintf(fp + ~0x080F, 0x08055B5C, tLoc0850);
		int32 eax_109 = find_pos(fp + ~0x080F, dwArg0C, eax_85);
		if (eax_109 == ~0x00)
			print_warning(gs, 0x08055C4C);
		else
		{
			if (eax_109 < eax_92)
				delete_str(gs, eax_109, dwArg0C);
			int32 eax_127 = find_pos(0x08055C76, dwArg0C, eax_85);
			if (eax_127 != ~0x00 && (eax_92 - 0x01 > eax_127 && (eax_92 - 0x01) - eax_127 <= 0x01))
			{
				int32 dwLoc082C_141 = 0x00;
				while (dwLoc082C_141 <= 0x03)
				{
					delete_str(gs, eax_127 - 0x01, dwArg0C);
					dwLoc082C_141 = dwLoc082C_141 + 0x01;
				}
			}
		}
	}
l0804E7E0:
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804E7F3: void register_html(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14)
void register_html(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14)
{
	word32 eax_18 = gs->dw0014;
	sprintf(fp + ~0x080F, 0x08055C7B, tLoc1060);
	Eq_120 eax_33 = fopen(fp + ~0x080F, 0x08055C93);
	if (eax_33 == 0x00)
	{
		if (*__errno_location() == 0x02)
			goto l0804EBFD;
		fclose(eax_33);
		strerror(*__errno_location());
		print_error(gs, ~0x17, 0x08055C95);
	}
	void * eax_71 = memcpy(0x08067AC0, &globals->v8055CB4, 0x20);
	word32 esp_82;
	word32 ebp_83;
	word32 ebx_84;
	byte SCZO_85;
	word32 eax_86;
	byte SZO_88;
	byte C_89;
	word32 edx_90;
	byte Z_91;
	!mkstemp();
	Eq_120 eax_96 = fopen(0x08067AC0, 0x08055CD4);
	if (eax_96 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x17, 0x08055CD8);
	}
	atexit(0x08048FC2);
	if (globals->dw80632A0 != 0x00)
		sprintf(fp + ~0x100F, 0x08055D54, tLoc1060);
	else
		sprintf(fp + ~0x100F, 0x08055DA0, tLoc1060);
	strcpy(0x080692E0, fp + ~0x100F);
	int32 dwLoc1018_118 = 0x00;
	while (fgets(fp + ~0x100F, 0x0800, eax_33) != null)
		dwLoc1018_118 = dwLoc1018_118 + 0x01;
	if (dwLoc1018_118 != 0x00)
	{
		word32 esp_134;
		word32 ebp_135;
		word32 ebx_136;
		byte SCZO_137;
		word32 eax_138;
		byte SZO_140;
		byte C_141;
		word32 edx_142;
		byte Z_143;
		!rewind();
		Eq_120 eax_149 = calloc(dwLoc1018_118 + 0x0A, 0x04);
		int32 dwLoc101C_151 = 0x00;
		while (dwLoc1018_118 + 0x0A > dwLoc101C_151)
		{
			((word32) eax_149 + dwLoc101C_151 * 0x04)->u0 = 0x00;
			dwLoc101C_151 = dwLoc101C_151 + 0x01;
		}
		ui32 dwLoc101C_157 = 0x00;
		while (fgets(fp + ~0x100F, 0x0800, eax_33) != null)
		{
			eax_149[dwLoc101C_157 * 0x04] = malloc(strlen(fp + ~0x100F) + 0x01);
			strcpy(*((word32) eax_149 + dwLoc101C_157 * 0x04), fp + ~0x100F);
			dwLoc101C_157 = dwLoc101C_157 + 0x01;
		}
		new_ext_html(gs, dwArg04, dwArg08, eax_149, dwArg0C, dwArg10, dwArg14);
		ui32 dwLoc101C_186 = 0x00;
		while (*((word32) eax_149 + dwLoc101C_186 * 0x04) != 0x00)
		{
			fprintf(eax_96, *((word32) eax_149 + dwLoc101C_186 * 0x04), tLoc1060);
			dwLoc101C_186 = dwLoc101C_186 + 0x01;
		}
		fflush(eax_96);
		fclose(eax_33);
		fclose(eax_96);
		int32 dwLoc101C_207 = 0x00;
		while (dwLoc1018_118 + 0x0A > dwLoc101C_207)
		{
			free(*((word32) eax_149 + dwLoc101C_207 * 0x04));
			dwLoc101C_207 = dwLoc101C_207 + 0x01;
		}
		free(eax_149);
	}
l0804EBFD:
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804EC17: void deregister_html(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void deregister_html(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	word32 eax_18 = gs->dw0014;
	sprintf(fp + ~0x080F, 0x08055C7B, tLoc1060);
	Eq_120 eax_33 = fopen(fp + ~0x080F, 0x08055C93);
	if (eax_33 == 0x00)
	{
		if (*__errno_location() == 0x02)
			goto l0804F00C;
		fclose(eax_33);
		strerror(*__errno_location());
		print_error(gs, ~0x17, 0x08055C95);
	}
	void * eax_71 = memcpy(0x08067AC0, &globals->v8055CB4, 0x20);
	word32 esp_82;
	word32 ebp_83;
	word32 ebx_84;
	byte SCZO_85;
	word32 eax_86;
	byte SZO_88;
	byte C_89;
	word32 edx_90;
	byte Z_91;
	!mkstemp();
	Eq_120 eax_96 = fopen(0x08067AC0, 0x08055CD4);
	if (eax_96 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x17, 0x08055CD8);
	}
	atexit(0x08048FC2);
	if (globals->dw80632A0 != 0x00)
		sprintf(fp + ~0x100F, 0x08055D54, tLoc1060);
	else
		sprintf(fp + ~0x100F, 0x08055DA0, tLoc1060);
	strcpy(0x080692E0, fp + ~0x100F);
	int32 dwLoc1018_118 = 0x00;
	while (fgets(fp + ~0x100F, 0x0800, eax_33) != null)
		dwLoc1018_118 = dwLoc1018_118 + 0x01;
	if (dwLoc1018_118 != 0x00)
	{
		word32 esp_134;
		word32 ebp_135;
		word32 ebx_136;
		byte SCZO_137;
		word32 eax_138;
		byte SZO_140;
		byte C_141;
		word32 edx_142;
		byte Z_143;
		!rewind();
		Eq_120 eax_149 = calloc(dwLoc1018_118 + 0x01, 0x04);
		int32 dwLoc101C_151 = 0x00;
		while (dwLoc1018_118 + 0x01 > dwLoc101C_151)
		{
			((word32) eax_149 + dwLoc101C_151 * 0x04)->u0 = 0x00;
			dwLoc101C_151 = dwLoc101C_151 + 0x01;
		}
		ui32 dwLoc101C_157 = 0x00;
		while (fgets(fp + ~0x100F, 0x0800, eax_33) != null)
		{
			eax_149[dwLoc101C_157 * 0x04] = malloc(strlen(fp + ~0x100F) + 0x01);
			strcpy(*((word32) eax_149 + dwLoc101C_157 * 0x04), fp + ~0x100F);
			dwLoc101C_157 = dwLoc101C_157 + 0x01;
		}
		delete_ext_html(gs, dwArg04, dwArg08, eax_149);
		ui32 dwLoc101C_177 = 0x00;
		while (*((word32) eax_149 + dwLoc101C_177 * 0x04) != 0x00)
		{
			fprintf(eax_96, *((word32) eax_149 + dwLoc101C_177 * 0x04), tLoc1060);
			dwLoc101C_177 = dwLoc101C_177 + 0x01;
		}
		fflush(eax_96);
		fclose(eax_33);
		fclose(eax_96);
		int32 dwLoc101C_198 = 0x00;
		while (dwLoc1018_118 + 0x01 > dwLoc101C_198)
		{
			free(*((word32) eax_149 + dwLoc101C_198 * 0x04));
			dwLoc101C_198 = dwLoc101C_198 + 0x01;
		}
		free(eax_149);
	}
l0804F00C:
	if ((eax_18 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0804F026: Register word32 restore_html(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
word32 restore_html(Eq_83 * gs, Eq_120 dwArg04)
{
	word32 eax_162;
	word32 eax_15 = gs->dw0014;
	sprintf(fp + ~0x100F, 0x08055C7B, tLoc2880);
	Eq_120 eax_30 = fopen(fp + ~0x100F, 0x08055C93);
	if (eax_30 == 0x00)
	{
		if (*__errno_location() == 0x02)
		{
			eax_162 = 0x00;
			goto l0804F7CB;
		}
		fclose(eax_30);
		strerror(*__errno_location());
		print_error(gs, ~0x17, 0x08055C95);
	}
	void * eax_80 = memcpy(0x08067AC0, &globals->v8055CB4, 0x20);
	word32 esp_103;
	word32 ebp_104;
	word32 ebx_105;
	byte SCZO_106;
	word32 eax_107;
	struct Eq_83 * gs_108;
	byte SZO_109;
	byte C_110;
	word32 edx_111;
	byte Z_112;
	word32 ecx_113;
	!mkstemp();
	Eq_120 eax_118 = fopen(0x08067AC0, 0x08055CD4);
	if (eax_118 == 0x00)
	{
		strerror(*__errno_location());
		print_error(gs_108, ~0x17, 0x08055CD8);
	}
	if (globals->dw80632A0 != 0x00)
		sprintf(fp + ~0x080F, 0x08055D54, tLoc2880);
	else
		sprintf(fp + ~0x080F, 0x08055DA0, tLoc2880);
	strcpy(0x080692E0, fp + ~0x080F);
	atexit(0x08048FC2);
	sprintf(fp + ~0x200F, 0x08055DF1, tLoc2880);
	word32 esp_148;
	word32 ebp_149;
	word32 ebx_150;
	byte SCZO_151;
	word32 eax_152;
	byte SZO_154;
	byte C_155;
	word32 edx_156;
	byte Z_157;
	word32 ecx_158;
	!opendir();
	if (fp == ~0x200F)
		eax_162 = 0x00;
	else
	{
		int32 dwLoc2840_164 = 0x00;
		while (true)
		{
			word32 esp_172;
			word32 ebp_173;
			word32 ebx_174;
			byte SCZO_175;
			word32 eax_176;
			struct Eq_5588 * gs_177;
			byte SZO_178;
			byte C_179;
			word32 edx_180;
			byte Z_181;
			word32 ecx_182;
			!readdir();
			if (eax_176 == 0x00)
				break;
			sprintf(fp + ~0x280F, 0x08055E04, tLoc2880);
			if (strcmp(eax_176 + 11, 0x08055E0A) != 0x00 && strcmp(eax_176 + 11, 0x08055E0C) != 0x00)
			{
				word32 esp_577;
				word32 ebp_578;
				word32 ebx_579;
				byte SCZO_580;
				word32 eax_581;
				struct Eq_5641 * gs_582;
				byte SZO_583;
				byte C_584;
				word32 edx_585;
				byte Z_586;
				word32 ecx_587;
				!opendir();
				if (fp != ~0x280F)
				{
					dwLoc2840_164 = dwLoc2840_164 + 0x01;
					word32 esp_596;
					word32 ebp_597;
					word32 ebx_598;
					byte SCZO_599;
					word32 eax_600;
					struct Eq_5657 * gs_601;
					byte SZO_602;
					byte C_603;
					word32 edx_604;
					byte Z_605;
					word32 ecx_606;
					!closedir();
				}
			}
		}
		word32 esp_188;
		word32 ebp_189;
		word32 ebx_190;
		byte SCZO_191;
		word32 eax_192;
		byte SZO_194;
		byte C_195;
		word32 edx_196;
		byte Z_197;
		word32 ecx_198;
		!closedir();
		int32 dwLoc281C_199 = 0x00;
		while (fgets(fp + ~0x080F, 0x0800, eax_30) != null)
			dwLoc281C_199 = dwLoc281C_199 + 0x01;
		if (dwLoc281C_199 == 0x00)
			eax_162 = 0x00;
		else
		{
			word32 esp_216;
			word32 ebp_217;
			word32 ebx_218;
			byte SCZO_219;
			word32 eax_220;
			struct Eq_5673 * gs_221;
			byte SZO_222;
			byte C_223;
			word32 edx_224;
			byte Z_225;
			word32 ecx_226;
			!rewind();
			Eq_120 eax_234 = calloc(dwLoc281C_199 + dwLoc2840_164 + 0x0A, 0x04);
			int32 dwLoc2820_236 = 0x00;
			while (dwLoc281C_199 + dwLoc2840_164 + 0x0A > dwLoc2820_236)
			{
				((word32) eax_234 + dwLoc2820_236 * 0x04)->u0 = 0x00;
				dwLoc2820_236 = dwLoc2820_236 + 0x01;
			}
			ui32 dwLoc2820_244 = 0x00;
			while (fgets(fp + ~0x080F, 0x0800, eax_30) != null)
			{
				eax_234[dwLoc2820_244 * 0x04] = malloc(strlen(fp + ~0x080F) + 0x01);
				strcpy(*((word32) eax_234 + dwLoc2820_244 * 0x04), fp + ~0x080F);
				dwLoc2820_244 = dwLoc2820_244 + 0x01;
			}
			((word32) eax_234 + dwLoc2820_244 * 0x04)->u0 = 0x00;
			word32 esp_265;
			word32 ebp_266;
			word32 ebx_267;
			byte SCZO_268;
			word32 eax_269;
			struct Eq_5738 * gs_270;
			byte SZO_271;
			byte C_272;
			word32 edx_273;
			byte Z_274;
			word32 ecx_275;
			!opendir();
			word32 dwLoc283C_277 = 0x00;
			while (true)
			{
				word32 esp_293;
				word32 ebp_294;
				word32 ebx_295;
				byte SCZO_296;
				word32 eax_297;
				struct Eq_5752 * gs_298;
				byte SZO_299;
				byte C_300;
				word32 edx_301;
				byte Z_302;
				word32 ecx_303;
				!readdir();
				if (eax_297 == 0x00)
					break;
				sprintf(fp + ~0x280F, 0x08055E04, tLoc2880);
				if (strcmp(eax_297 + 11, 0x08055E0A) != 0x00 && strcmp(eax_297 + 11, 0x08055E0C) != 0x00)
				{
					word32 esp_400;
					word32 ebp_401;
					word32 ebx_402;
					byte SCZO_403;
					word32 eax_404;
					struct Eq_5803 * gs_405;
					byte SZO_406;
					byte C_407;
					word32 edx_408;
					byte Z_409;
					word32 ecx_410;
					!opendir();
					if (fp != ~0x280F)
					{
						word32 esp_416;
						word32 ebp_417;
						word32 ebx_418;
						byte SCZO_419;
						word32 eax_420;
						struct Eq_5817 * gs_421;
						byte SZO_422;
						byte C_423;
						word32 edx_424;
						byte Z_425;
						word32 ecx_426;
						!closedir();
						sprintf(fp + ~0x180F, 0x08055E0F, tLoc2880);
						Eq_120 eax_438 = fopen(fp + ~0x180F, 0x08055C93);
						if (eax_438 != 0x00)
						{
							word32 dwLoc2820_445 = 0x00;
							do
							{
								if (fgets(fp + ~0x080F, 0x0800, eax_438) == null)
									goto l0804F611;
							} while (strstr(fp + ~0x080F, 0x08055E1D) == null);
							dwLoc2820_445 = 0x01;
l0804F611:
							if (dwLoc2820_445 != 0x00)
							{
								strchr(fp + ~0x080F, '(');
								word32 esp_478;
								word32 ebp_479;
								word32 ebx_480;
								byte SCZO_481;
								word32 eax_482;
								struct Eq_83 * gs_483;
								byte SZO_484;
								byte C_485;
								word32 edx_486;
								byte Z_487;
								word32 ecx_488;
								!__isoc99_sscanf();
								new_ext_html(gs_483, eax_297 + 11, dwArg04, eax_234, 0x00, 0x00, 0x00);
								fclose(eax_438);
								dwLoc283C_277 = dwLoc283C_277 + 0x01;
							}
						}
					}
				}
			}
			word32 esp_309;
			word32 ebp_310;
			word32 ebx_311;
			byte SCZO_312;
			word32 eax_313;
			byte SZO_315;
			byte C_316;
			word32 edx_317;
			byte Z_318;
			word32 ecx_319;
			!closedir();
			ui32 dwLoc2820_320 = 0x00;
			while (*((word32) eax_234 + dwLoc2820_320 * 0x04) != 0x00)
			{
				fprintf(eax_118, *((word32) eax_234 + dwLoc2820_320 * 0x04), tLoc2880);
				dwLoc2820_320 = dwLoc2820_320 + 0x01;
			}
			fflush(eax_118);
			fclose(eax_30);
			fclose(eax_118);
			int32 dwLoc2820_341 = 0x00;
			while (dwLoc281C_199 + dwLoc2840_164 + 0x0A > dwLoc2820_341)
			{
				free(*((word32) eax_234 + dwLoc2820_341 * 0x04));
				dwLoc2820_341 = dwLoc2820_341 + 0x01;
			}
			free(eax_234);
			eax_162 = dwLoc283C_277;
		}
	}
l0804F7CB:
	if ((eax_15 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
	return eax_162;
}

// 0804F7E8: Register ptr32 check_extension(Register word32 ebp, Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14)
ptr32 check_extension(word32 ebp, Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14)
{
	word32 * edi_39 = (word32) fp - 2060;
	word32 ecx_40 = 0x01FF;
	while (ecx_40 != 0x00)
	{
		*edi_39 = 0x00;
		edi_39 = edi_39 + 0x01;
		ecx_40 = ecx_40 - 0x01;
	}
	fwrite(&globals->v8055E30, 0x01, 22, globals->t8059260);
	strcpy((word32) fp - 0x0810, dwArg04);
	word32 esp_61;
	word32 ebp_62;
	word32 edi_63;
	word32 ebx_64;
	byte SCZO_65;
	word32 eax_66;
	byte SZO_68;
	byte C_69;
	word32 edx_70;
	word32 ecx_71;
	byte S_72;
	byte Z_73;
	struct Eq_83 * gs_200;
	!chdir();
	if (fp < ~0x080F)
	{
		strerror(*__errno_location());
		print_error(gs_200, ~0x01, 0x08055E48);
	}
	Eq_120 eax_83 = fopen(0x08055E6D, 0x08055E6B);
	if (eax_83 == 0x00)
		print_error(gs_200, ~0x05, 0x08055E70);
	else
	{
		word32 esp_194;
		word32 ebp_195;
		word32 edi_196;
		word32 ebx_197;
		byte SCZO_198;
		word32 eax_199;
		byte SZO_201;
		byte C_202;
		word32 edx_203;
		word32 ecx_204;
		byte S_205;
		byte Z_206;
		!__isoc99_fscanf();
		if (strcmp(0x08055EA7, fp + ~0x080F) != 0x00)
		{
			fclose(eax_83);
			print_error(gs_200, ~0x05, 0x08055EC1);
		}
	}
	fclose(eax_83);
	struct Eq_6007 * ebp_101;
	struct Eq_6008 * esp_102 = get_package_name(gs_200, 0x08055EDB, dwArg08, out ebp_101);
	esp_102->t0004.u0 = 0x08055E6B;
	esp_102->t0000.u0 = 0x08055EDD;
	Eq_120 eax_107 = fopen(esp_102->t0000, esp_102->t0004);
	ebp_101->tFFFFF7EC = eax_107;
	if (ebp_101->tFFFFF7EC == 0x00)
	{
		esp_102->t0004.u0 = 0x08055EE5;
		esp_102->t0000.u0 = ~0x05;
		print_error(gs_200, dwArg00, dwArg04);
	}
	else
	{
		esp_102->t0008 = ebp_101->tFFFFF7EC;
		esp_102->t0004.u0 = 0x0800;
		esp_102->t0000 = (char *) &ebp_101->tFFFFF7EC + 0x08;
		nc_fgets_nb(dwArg00, dwArg04, dwArg08);
		*ebp_101->tFFFFF7D8 = 0x00;
		*ebp_101->tFFFFF7D4 = 0x00;
		esp_102->t0010 = ebp_101->tFFFFF7D4;
		esp_102->t000C = ebp_101->tFFFFF7D8;
		Eq_120 ecx_161 = ebp_101->tFFFFF7DC;
		esp_102->t0008 = ecx_161;
		esp_102->t0004.u0 = 0x08055F03;
		esp_102->t0000 = (char *) &ebp_101->tFFFFF7EC + 0x08;
		struct Eq_6105 * ebp_166;
		word32 edi_167;
		word32 ebx_168;
		byte SCZO_169;
		int32 eax_170;
		struct Eq_83 * gs_171;
		byte SZO_172;
		byte C_173;
		word32 edx_174;
		word32 ecx_175;
		byte S_176;
		byte Z_177;
		!__isoc99_sscanf();
		ebp_166->dwFFFFF7F0 = eax_170;
		if (ebp_166->dwFFFFF7F0 <= 0x00)
		{
			esp_102->t0000 = ebp_166->tFFFFF7EC;
			fclose(esp_102->t0000);
			esp_102->t0004.u0 = 0x08055F0C;
			esp_102->t0000.u0 = ~0x05;
			print_error(gs_171, dwArg00, dwArg04);
		}
	}
	print_done();
	esp_102->t0000.u0 = 0x08055F35;
	union Eq_120 * esp_113;
	struct Eq_6143 * ebp_114;
	word32 edi_115;
	word32 ebx_116;
	byte SCZO_117;
	word32 eax_118;
	struct Eq_6148 * gs_119;
	byte SZO_120;
	byte C_121;
	word32 edx_122;
	word32 ecx_123;
	byte S_124;
	byte Z_125;
	!chdir();
	*esp_113 = (union Eq_120 *) ebp_114->tFFFFF7EC;
	fclose(*esp_113);
	if ((*(ebp_114 - 0x0C) ^ gs_119->dw0014) != 0x00)
		__stack_chk_fail();
	return (char *) esp_113 + 0x085C;
}

// 0804FAAB: Register ui32 unpack_extension(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
ui32 unpack_extension(Eq_83 * gs, Eq_120 dwArg04)
{
	word32 eax_12 = gs->dw0014;
	fwrite(&globals->v8055F38, 0x01, 22, globals->t8059260);
	void * eax_29 = memcpy(0x080632C0, &globals->v8055F4F, 0x1C);
	word32 esp_31;
	word32 ebp_32;
	byte SCZO_33;
	word32 eax_34;
	struct Eq_83 * gs_35;
	byte SZO_36;
	byte C_37;
	word32 edx_38;
	byte Z_39;
	byte S_40;
	!mkstemp();
	int32 eax_44 = open(&globals->b80632C0, 0x40);
	if (eax_44 != ~0x00)
	{
		if (globals->dw80632A0 != 0x00)
			fprintf(globals->t8059260, 0x08055F95, &globals->b80632C0);
		int32 eax_62 = close(eax_44);
		word32 esp_64;
		word32 ebp_65;
		byte SCZO_66;
		word32 eax_67;
		struct Eq_685 * gs_68;
		byte SZO_69;
		byte C_70;
		word32 edx_71;
		byte Z_72;
		byte S_73;
		!remove();
		mkdir_s(gs_68, 0x080632C0, 0x08055FAD);
		atexit(0x08048E89);
		sprintf(fp + -0x0810, 0x08055FB2, tLoc0850);
		word32 esp_88;
		word32 ebp_89;
		byte SCZO_90;
		word32 eax_91;
		struct Eq_83 * gs_92;
		byte SZO_93;
		byte C_94;
		word32 edx_95;
		byte Z_96;
		byte S_97;
		!system();
		if (fp >= (char *) ~0x080F)
		{
			word32 eax_106 = check_filetype(dwArg04);
			word32 dwLoc081C_107 = eax_106;
			if (eax_106 == 0x00)
			{
				print_warning(gs_92, 0x08055FEC);
				dwLoc081C_107 = 0x01;
			}
			if (dwLoc081C_107 == 0x01)
			{
				if (globals->dw80632A0 != 0x00)
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x0805603D, tLoc0850);
				}
				else
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x08056053, tLoc0850);
				}
			}
			if (dwLoc081C_107 == 0x02)
			{
				if (globals->dw80632A0 != 0x00)
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x08056068, tLoc0850);
				}
				else
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x08056068, tLoc0850);
				}
			}
			if (dwLoc081C_107 == 0x03)
			{
				if (globals->dw80632A0 != 0x00)
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x0805607E, tLoc0850);
				}
				else
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x08056090, tLoc0850);
				}
			}
			if (dwLoc081C_107 == 0x04)
			{
				if (globals->dw80632A0 != 0x00)
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x080560A6, tLoc0850);
				}
				else
				{
					basename(dwArg04);
					sprintf(fp + ~0x080F, 0x080560BB, tLoc0850);
				}
			}
			word32 esp_154;
			word32 ebp_155;
			byte SCZO_156;
			word32 eax_157;
			struct Eq_83 * gs_158;
			byte SZO_159;
			byte C_160;
			word32 edx_161;
			byte Z_162;
			byte S_163;
			!system();
			if (fp >= (char *) ~0x080F)
			{
				print_done();
				ui32 eax_198 = eax_12 ^ gs_158->dw0014;
				if (eax_198 != 0x00)
					__stack_chk_fail();
				return eax_198;
			}
			else
			{
				if (dwLoc081C_107 == 0x01)
					print_error(gs_158, ~0x06, 0x080560D0);
				if (dwLoc081C_107 == 0x02)
					print_error(gs_158, ~0x06, 0x08056130);
				if (dwLoc081C_107 == 0x03)
					print_error(gs_158, ~0x06, 0x08056190);
				exit(~0x06);
			}
		}
		else
		{
			print_error(gs_92, ~0x06, 0x08055FBC);
			exit(~0x06);
		}
	}
	else
	{
		strerror(*__errno_location());
		print_error(gs_35, ~0x06, 0x08055F6C);
		exit(~0x06);
	}
}

// 0804FF43: void query_extension(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18, Stack Eq_120 dwArg1C, Stack Eq_120 dwArg20)
void query_extension(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18, Eq_120 dwArg1C, Eq_120 dwArg20)
{
	strcpy(fp + -0x0810, basename(dwArg04));
	word32 esp_38;
	word32 ebp_39;
	byte SCZO_40;
	word32 eax_41;
	struct Eq_83 * gs_42;
	byte SZO_43;
	byte C_44;
	byte S_45;
	word32 edx_46;
	word32 ecx_47;
	!chdir();
	if (fp < (char *) ~0x080F)
	{
		strerror(*__errno_location());
		print_error(gs_42, ~0x01, 0x08055E48);
	}
	fprintf(globals->t8059260, 0x080561E0, dwArg08, dwArg0C, dwArg10, dwArg14);
	dump_ascii(gs_42, 0x08056210, "Description");
	dump_ascii(gs_42, 0x0805622E, "Commands provided");
	dump_ascii(gs_42, 134570570, "Libraries provided");
	dump_ascii(gs_42, 0x08056265, "Header files provided");
	dump_ascii(gs_42, 0x0805627A, "Dependencies");
	dump_ascii(gs_42, 0x08056287, "Bugs");
	sprintf(fp + ~0x080F, 0x0805628C, tLoc0860);
	list_binaries(gs_42, fp + ~0x080F);
	dump_ascii(gs_42, 0x0805629C, "Author(s)");
	fprintf(globals->t8059260, 0x080562A4, dwArg1C, dwArg20);
	int32 eax_108 = fprintf(globals->t8059260, 0x080562D8, dwArg1C, dwArg20);
	word32 esp_110;
	word32 ebp_111;
	byte SCZO_112;
	word32 eax_113;
	struct Eq_6553 * gs_114;
	byte SZO_115;
	byte C_116;
	byte S_117;
	word32 edx_118;
	word32 ecx_119;
	!system();
	exit(0x00);
}

// 0805014E: void print_cfg(Register (ptr Eq_83) gs)
void print_cfg(Eq_83 * gs)
{
	word32 eax_9 = gs->dw0014;
	Eq_120 eax_16 = fopen(0x0805630F, 0x08055E6B);
	if (eax_16 != 0x00)
	{
		fwrite(&globals->v805631A, 0x01, 0x1B, globals->t8059260);
		while (fgets(fp + ~0x080F, 0x0800, eax_16) != null)
			fputs(fp + ~0x080F, globals->t8059260);
		fputc(0x0A, globals->t8059260);
	}
	word32 esp_28;
	word32 ebp_29;
	byte SCZO_30;
	word32 eax_31;
	struct Eq_6589 * gs_32;
	byte SZO_33;
	byte C_34;
	word32 edx_35;
	byte Z_36;
	!remove();
	if ((eax_9 ^ gs_32->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08050220: void source_install(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18, Stack Eq_120 dwArg1C)
void source_install(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18, Eq_120 dwArg1C)
{
	word32 eax_21 = gs->dw0014;
	if (stat(dwArg08, (word32) fp - 0x0000288C) < 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x04, 0x08056338);
	}
	int32 eax_40 = sprintf(0x080592A0, 0x0805635C, tLoc28D0);
	word32 esp_42;
	word32 ebp_43;
	byte SCZO_44;
	word32 eax_45;
	struct Eq_6659 * gs_46;
	byte SZO_47;
	byte C_48;
	word32 edx_49;
	byte S_50;
	byte Z_51;
	!putenv();
	sprintf((word32) fp - 0x0810, 0x0805636C, tLoc28D0);
	int32 eax_64 = sprintf(0x08059AA0, 0x08056377, tLoc28D0);
	word32 esp_66;
	word32 ebp_67;
	byte SCZO_68;
	word32 eax_69;
	struct Eq_6680 * gs_70;
	byte SZO_71;
	byte C_72;
	word32 edx_73;
	byte S_74;
	byte Z_75;
	!putenv();
	sprintf((word32) fp - 0x0810, 0x08056387, tLoc28D0);
	int32 eax_88 = sprintf(0x0805A2A0, 0x0805638E, tLoc28D0);
	word32 esp_90;
	word32 ebp_91;
	byte SCZO_92;
	word32 eax_93;
	struct Eq_6701 * gs_94;
	byte SZO_95;
	byte C_96;
	word32 edx_97;
	byte S_98;
	byte Z_99;
	!putenv();
	int32 eax_105 = sprintf(0x0805EAA0, 0x0805639E, tLoc28D0);
	word32 esp_107;
	word32 ebp_108;
	byte SCZO_109;
	word32 eax_110;
	struct Eq_6717 * gs_111;
	byte SZO_112;
	byte C_113;
	word32 edx_114;
	byte S_115;
	byte Z_116;
	!putenv();
	word32 esp_119;
	word32 ebp_120;
	byte SCZO_121;
	Eq_120 eax_122;
	struct Eq_6728 * gs_123;
	byte SZO_124;
	byte C_125;
	word32 edx_126;
	byte S_127;
	byte Z_128;
	!strdup();
	Eq_120 eax_134 = strtok(eax_122, 0x08055EDB);
	Eq_120 eax_139 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_144 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_150 = strtol(eax_134);
	Eq_120 eax_156 = strtol(eax_139);
	strtol(eax_144);
	free(eax_122);
	atexit(0x08048E89);
	basename(dwArg04);
	sprintf((word32) fp - 0x00001010, 0x080563AF, tLoc28D0);
	word32 esp_178;
	word32 ebp_179;
	byte SCZO_180;
	word32 eax_181;
	struct Eq_83 * gs_182;
	byte SZO_183;
	byte C_184;
	word32 edx_185;
	byte S_186;
	byte Z_187;
	!chdir();
	if (fp < ~0x100F)
	{
		strerror(*__errno_location());
		print_error(gs_182, ~0x01, 0x080563B8);
	}
	if (globals->dw80682D0 == 0x00)
	{
		struct Eq_83 * gs_635;
		if (globals->dw80632A0 != 0x00)
		{
			fwrite(&globals->v80563E4, 0x01, 0x1A, globals->t8059260);
			sprintf(fp + ~0x280F, 0x080563FF, tLoc28D0);
			word32 esp_678;
			word32 ebp_679;
			byte SCZO_680;
			word32 eax_681;
			byte SZO_683;
			byte C_684;
			word32 edx_685;
			byte S_686;
			byte Z_687;
			!system();
		}
		else
		{
			fwrite(&globals->v8056408, 0x01, 0x0E, globals->t8059260);
			sprintf(fp + ~0x280F, 134571031, tLoc28D0);
			word32 esp_707;
			word32 ebp_708;
			byte SCZO_709;
			word32 eax_710;
			byte SZO_712;
			byte C_713;
			word32 edx_714;
			byte S_715;
			byte Z_716;
			!system();
		}
		if (fp == ~0x280E)
			print_error(gs_635, ~0x1A, 0x08056430);
		if (fp > ~0x280F)
			print_error(gs_635, ~0x02, 0x08056451);
		print_done();
		print_cfg(gs_635);
	}
	struct Eq_83 * gs_351;
	int32 eax_206 = sprintf(0x0805B2A0, 134571119, tLoc28D0);
	word32 esp_208;
	word32 ebp_209;
	byte SCZO_210;
	word32 eax_211;
	struct Eq_6820 * gs_212;
	byte SZO_213;
	byte C_214;
	word32 edx_215;
	byte S_216;
	byte Z_217;
	!putenv();
	sprintf(fp + ~0x080F, 0x08055F03, tLoc28D0);
	int32 eax_237 = sprintf(0x0805BAA0, 134571135, tLoc28D0);
	word32 esp_239;
	word32 ebp_240;
	byte SCZO_241;
	word32 eax_242;
	struct Eq_1673 * gs_243;
	byte SZO_244;
	byte C_245;
	word32 edx_246;
	byte S_247;
	byte Z_248;
	!putenv();
	dump_html(gs_243, 134571154, 0x08064AC0);
	dump_html(gs_243, 0x080564A1, 0x080652C0);
	dump_html(gs_243, 134571177, 134634176);
	dump_html(gs_243, 134571188, 0x080662C0);
	dump_html(gs_243, 0x080564BC, 0x08066AC0);
	int32 eax_263 = sprintf(0x0805C2A0, 0x080564C7, tLoc28D0);
	word32 esp_265;
	word32 ebp_266;
	byte SCZO_267;
	word32 eax_268;
	struct Eq_6878 * gs_269;
	byte SZO_270;
	byte C_271;
	word32 edx_272;
	byte S_273;
	byte Z_274;
	!putenv();
	int32 eax_279 = sprintf(0x0805CAA0, 0x080564D8, tLoc28D0);
	word32 esp_281;
	word32 ebp_282;
	byte SCZO_283;
	word32 eax_284;
	struct Eq_6894 * gs_285;
	byte SZO_286;
	byte C_287;
	word32 edx_288;
	byte S_289;
	byte Z_290;
	!putenv();
	int32 eax_295 = sprintf(0x0805D2A0, 0x080564E8, tLoc28D0);
	word32 esp_297;
	word32 ebp_298;
	byte SCZO_299;
	word32 eax_300;
	struct Eq_6910 * gs_301;
	byte SZO_302;
	byte C_303;
	word32 edx_304;
	byte S_305;
	byte Z_306;
	!putenv();
	int32 eax_311 = sprintf(0x0805DAA0, 0x080564F8, tLoc28D0);
	word32 esp_313;
	word32 ebp_314;
	byte SCZO_315;
	word32 eax_316;
	struct Eq_6926 * gs_317;
	byte SZO_318;
	byte C_319;
	word32 edx_320;
	byte S_321;
	byte Z_322;
	!putenv();
	int32 eax_327 = sprintf(0x0805E2A0, 0x08056508, tLoc28D0);
	word32 esp_329;
	word32 ebp_330;
	byte SCZO_331;
	word32 eax_332;
	struct Eq_83 * gs_333;
	byte SZO_334;
	byte C_335;
	word32 edx_336;
	byte S_337;
	byte Z_338;
	!putenv();
	atexit(0x08048E89);
	check_dependencies(gs_333, dwArg04, dwArg08, dwArg1C);
	if (globals->dw80632A0 != 0x00)
	{
		fprintf(globals->t8059260, 0x0805651B, &globals->b806BAE0);
		sprintf(fp + ~0x280F, 0x0805652A, tLoc28D0);
		word32 esp_591;
		word32 ebp_592;
		byte SCZO_593;
		word32 eax_594;
		byte SZO_596;
		byte C_597;
		word32 edx_598;
		byte S_599;
		byte Z_600;
		!system();
	}
	else
	{
		fwrite(&globals->v8056539, 0x01, 0x0C, globals->t8059260);
		sprintf(fp + ~0x280F, 0x08056546, tLoc28D0);
		word32 esp_619;
		word32 ebp_620;
		byte SCZO_621;
		word32 eax_622;
		byte SZO_624;
		byte C_625;
		word32 edx_626;
		byte S_627;
		byte Z_628;
		!system();
	}
	if (fp == ~0x280E && globals->dw80632A0 == 0x00)
		print_error(gs_351, ~0x08, 0x0805655C);
	if (fp > ~0x280F)
		print_error(gs_351, ~0x03, 0x08056594);
	print_done();
	fwrite(&globals->v80565F5, 0x01, 0x0D, globals->t8059260);
	Eq_120 eax_385 = fopen(0x08056603, 0x08055E6B);
	if (eax_385 == 0x00)
	{
		strerror(*__errno_location());
		print_warning(gs_351, 0x08056610);
	}
	else
	{
		if (globals->dw80632A0 != 0x00)
		{
			sprintf(fp + ~0x080F, 0x08056684, tLoc28D0);
			strcpy(0x0806A2E0, fp + ~0x080F);
		}
		else
		{
			sprintf(fp + ~0x080F, 0x080566B0, tLoc28D0);
			strcpy(0x0806A2E0, fp + ~0x080F);
		}
		fclose(eax_385);
	}
	register_extension(gs_351, dwArg08, 134571743, dwArg0C, dwArg10, dwArg14, dwArg18);
	check_dependencies(gs_351, dwArg04, dwArg08, dwArg1C);
	if (eax_150 == 0x06 && eax_156 <= 0x00)
		register_entries_gisman(gs_351, dwArg0C, dwArg08);
	register_entries_gisman2(gs_351, dwArg0C, dwArg08);
	register_html(gs_351, dwArg0C, dwArg08, dwArg10, dwArg14, dwArg18);
	if (globals->dw80632A0 != 0x00)
	{
		fprintf(globals->t8059260, 134571747, &globals->b806BAE0);
		sprintf(fp + ~0x180F, 0x080566FC, tLoc28D0);
	}
	else
		sprintf(fp + ~0x180F, 0x08056760, tLoc28D0);
	if (globals->dw80632A0 != 0x00)
		memcpy(fp + ~0x200F, 0x080567D4, 11);
	else
		sprintf(fp + ~0x200F, 134571999, tLoc28D0);
	sprintf(fp + ~0x080F, 0x080567F0, tLoc28D0);
	su(gs_351, dwArg08, fp + ~0x080F);
	print_done();
	if ((eax_21 ^ gs_351->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08050C67: void bin_install(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18, Stack Eq_120 dwArg1C, Stack Eq_120 dwArg20)
void bin_install(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18, Eq_120 dwArg1C, Eq_120 dwArg20)
{
	word32 eax_24 = gs->dw0014;
	if (stat(dwArg08, (word32) fp - 8332) < 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x04, 0x08056338);
	}
	int32 eax_43 = sprintf(0x080592A0, 0x0805635C, tLoc20E0);
	word32 esp_45;
	word32 ebp_46;
	byte SCZO_47;
	word32 eax_48;
	struct Eq_7242 * gs_49;
	byte SZO_50;
	byte C_51;
	word32 edx_52;
	byte S_53;
	word32 ecx_54;
	byte Z_55;
	!putenv();
	sprintf((word32) fp - 0x0810, 0x0805636C, tLoc20E0);
	int32 eax_68 = sprintf(0x08059AA0, 0x08056377, tLoc20E0);
	word32 esp_70;
	word32 ebp_71;
	byte SCZO_72;
	word32 eax_73;
	struct Eq_7264 * gs_74;
	byte SZO_75;
	byte C_76;
	word32 edx_77;
	byte S_78;
	word32 ecx_79;
	byte Z_80;
	!putenv();
	sprintf((word32) fp - 0x0810, 0x08056387, tLoc20E0);
	int32 eax_93 = sprintf(0x0805A2A0, 0x0805638E, tLoc20E0);
	word32 esp_95;
	word32 ebp_96;
	byte SCZO_97;
	word32 eax_98;
	struct Eq_7286 * gs_99;
	byte SZO_100;
	byte C_101;
	word32 edx_102;
	byte S_103;
	word32 ecx_104;
	byte Z_105;
	!putenv();
	int32 eax_111 = sprintf(0x0805EAA0, 0x0805639E, tLoc20E0);
	word32 esp_113;
	word32 ebp_114;
	byte SCZO_115;
	word32 eax_116;
	struct Eq_7303 * gs_117;
	byte SZO_118;
	byte C_119;
	word32 edx_120;
	byte S_121;
	word32 ecx_122;
	byte Z_123;
	!putenv();
	word32 esp_126;
	word32 ebp_127;
	byte SCZO_128;
	Eq_120 eax_129;
	struct Eq_7315 * gs_130;
	byte SZO_131;
	byte C_132;
	word32 edx_133;
	byte S_134;
	word32 ecx_135;
	byte Z_136;
	!strdup();
	Eq_120 eax_142 = strtok(eax_129, 0x08055EDB);
	Eq_120 eax_147 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_152 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_158 = strtol(eax_142);
	Eq_120 eax_164 = strtol(eax_147);
	strtol(eax_152);
	free(eax_129);
	atexit(0x08048E89);
	basename(dwArg04);
	sprintf((word32) fp - 0x00001010, 0x08056802, tLoc20E0);
	word32 esp_188;
	word32 ebp_189;
	byte SCZO_190;
	word32 eax_191;
	struct Eq_83 * gs_192;
	byte SZO_193;
	byte C_194;
	word32 edx_195;
	byte S_196;
	word32 ecx_197;
	byte Z_198;
	!chdir();
	if (fp < ~0x100F)
	{
		strerror(*__errno_location());
		print_error(gs_192, ~0x01, 0x08056808);
	}
	int32 eax_207 = sprintf(0x0805B2A0, 134571119, tLoc20E0);
	word32 esp_209;
	word32 ebp_210;
	byte SCZO_211;
	word32 eax_212;
	struct Eq_7391 * gs_213;
	byte SZO_214;
	byte C_215;
	word32 edx_216;
	byte S_217;
	word32 ecx_218;
	byte Z_219;
	!putenv();
	sprintf(fp + ~0x080F, 0x08055F03, tLoc20E0);
	int32 eax_239 = sprintf(0x0805BAA0, 134571135, tLoc20E0);
	word32 esp_241;
	word32 ebp_242;
	byte SCZO_243;
	word32 eax_244;
	struct Eq_1673 * gs_245;
	byte SZO_246;
	byte C_247;
	word32 edx_248;
	byte S_249;
	word32 ecx_250;
	byte Z_251;
	!putenv();
	dump_html(gs_245, 134571154, 0x08064AC0);
	dump_html(gs_245, 0x080564A1, 0x080652C0);
	dump_html(gs_245, 134571177, 134634176);
	dump_html(gs_245, 134571188, 0x080662C0);
	dump_html(gs_245, 0x080564BC, 0x08066AC0);
	int32 eax_266 = sprintf(0x0805C2A0, 0x080564C7, tLoc20E0);
	word32 esp_268;
	word32 ebp_269;
	byte SCZO_270;
	word32 eax_271;
	struct Eq_7450 * gs_272;
	byte SZO_273;
	byte C_274;
	word32 edx_275;
	byte S_276;
	word32 ecx_277;
	byte Z_278;
	!putenv();
	int32 eax_283 = sprintf(0x0805CAA0, 0x080564D8, tLoc20E0);
	word32 esp_285;
	word32 ebp_286;
	byte SCZO_287;
	word32 eax_288;
	struct Eq_7467 * gs_289;
	byte SZO_290;
	byte C_291;
	word32 edx_292;
	byte S_293;
	word32 ecx_294;
	byte Z_295;
	!putenv();
	int32 eax_300 = sprintf(0x0805D2A0, 0x080564E8, tLoc20E0);
	word32 esp_302;
	word32 ebp_303;
	byte SCZO_304;
	word32 eax_305;
	struct Eq_7484 * gs_306;
	byte SZO_307;
	byte C_308;
	word32 edx_309;
	byte S_310;
	word32 ecx_311;
	byte Z_312;
	!putenv();
	int32 eax_317 = sprintf(0x0805DAA0, 0x080564F8, tLoc20E0);
	word32 esp_319;
	word32 ebp_320;
	byte SCZO_321;
	word32 eax_322;
	struct Eq_7501 * gs_323;
	byte SZO_324;
	byte C_325;
	word32 edx_326;
	byte S_327;
	word32 ecx_328;
	byte Z_329;
	!putenv();
	int32 eax_334 = sprintf(0x0805E2A0, 0x08056508, tLoc20E0);
	word32 esp_336;
	word32 ebp_337;
	byte SCZO_338;
	word32 eax_339;
	struct Eq_83 * gs_340;
	byte SZO_341;
	byte C_342;
	word32 edx_343;
	byte S_344;
	word32 ecx_345;
	byte Z_346;
	!putenv();
	atexit(0x08048E89);
	check_dependencies(gs_340, dwArg04, dwArg08, dwArg20);
	fwrite(&globals->v80565F5, 0x01, 0x0D, globals->t8059260);
	Eq_120 eax_366 = fopen(0x08056603, 0x08055E6B);
	if (eax_366 == 0x00)
	{
		strerror(*__errno_location());
		print_warning(gs_340, 0x08056610);
	}
	else
	{
		if (globals->dw80632A0 != 0x00)
		{
			sprintf(fp + ~0x080F, 0x08056684, tLoc20E0);
			strcpy(0x0806A2E0, fp + ~0x080F);
		}
		else
		{
			sprintf(fp + ~0x080F, 0x080566B0, tLoc20E0);
			strcpy(0x0806A2E0, fp + ~0x080F);
		}
		fclose(eax_366);
	}
	register_extension(gs_340, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
	check_dependencies(gs_340, dwArg04, dwArg08, dwArg20);
	if (eax_158 == 0x06 && eax_164 <= 0x00)
		register_entries_gisman(gs_340, dwArg10, dwArg08);
	register_entries_gisman2(gs_340, dwArg10, dwArg08);
	register_html(gs_340, dwArg10, dwArg08, dwArg14, dwArg18, dwArg1C);
	if (globals->dw80632A0 != 0x00)
	{
		fprintf(globals->t8059260, 134571747, &globals->b806BAE0);
		sprintf(fp + ~0x180F, 0x0805683C, tLoc20E0);
	}
	else
		sprintf(fp + ~0x180F, 0x080568A4, tLoc20E0);
	if (globals->dw80632A0 != 0x00)
		memcpy(fp + ~0x200F, 0x080567D4, 11);
	else
		sprintf(fp + ~0x200F, 134571999, tLoc20E0);
	sprintf(fp + ~0x080F, 0x080567F0, tLoc20E0);
	su(gs_340, dwArg08, fp + ~0x080F);
	print_done();
	if ((eax_24 ^ gs_340->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0805148A: void test_install(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Stack Eq_120 dwArg14, Stack Eq_120 dwArg18, Stack Eq_120 dwArg1C)
void test_install(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, Eq_120 dwArg14, Eq_120 dwArg18, Eq_120 dwArg1C)
{
	word32 eax_21 = gs->dw0014;
	if (stat(dwArg08, fp + -0x0000188C) < 0x00)
	{
		strerror(*__errno_location());
		print_error(gs, ~0x04, 0x08056338);
	}
	int32 eax_40 = sprintf(0x080592A0, 0x0805635C, tLoc18C0);
	word32 esp_42;
	word32 ebp_43;
	byte SCZO_44;
	word32 eax_45;
	struct Eq_7689 * gs_46;
	byte SZO_47;
	byte C_48;
	word32 edx_49;
	byte S_50;
	byte Z_51;
	!putenv();
	sprintf(fp + -0x0810, 0x0805636C, tLoc18C0);
	int32 eax_64 = sprintf(0x08059AA0, 0x08056377, tLoc18C0);
	word32 esp_66;
	word32 ebp_67;
	byte SCZO_68;
	word32 eax_69;
	struct Eq_7710 * gs_70;
	byte SZO_71;
	byte C_72;
	word32 edx_73;
	byte S_74;
	byte Z_75;
	!putenv();
	sprintf(fp + -0x0810, 0x08056387, tLoc18C0);
	int32 eax_88 = sprintf(0x0805A2A0, 0x0805638E, tLoc18C0);
	word32 esp_90;
	word32 ebp_91;
	byte SCZO_92;
	word32 eax_93;
	struct Eq_7731 * gs_94;
	byte SZO_95;
	byte C_96;
	word32 edx_97;
	byte S_98;
	byte Z_99;
	!putenv();
	int32 eax_105 = sprintf(0x0805EAA0, 0x0805639E, tLoc18C0);
	word32 esp_107;
	word32 ebp_108;
	byte SCZO_109;
	word32 eax_110;
	struct Eq_7747 * gs_111;
	byte SZO_112;
	byte C_113;
	word32 edx_114;
	byte S_115;
	byte Z_116;
	!putenv();
	word32 esp_119;
	word32 ebp_120;
	byte SCZO_121;
	Eq_120 eax_122;
	struct Eq_7758 * gs_123;
	byte SZO_124;
	byte C_125;
	word32 edx_126;
	byte S_127;
	byte Z_128;
	!strdup();
	Eq_120 eax_134 = strtok(eax_122, 0x08055EDB);
	Eq_120 eax_139 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_144 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_150 = strtol(eax_134);
	Eq_120 eax_156 = strtol(eax_139);
	strtol(eax_144);
	free(eax_122);
	atexit(0x08048E89);
	basename(dwArg04);
	sprintf(fp + -0x00001010, 0x080563AF, tLoc18C0);
	word32 esp_178;
	word32 ebp_179;
	byte SCZO_180;
	word32 eax_181;
	struct Eq_83 * gs_182;
	byte SZO_183;
	byte C_184;
	word32 edx_185;
	byte S_186;
	byte Z_187;
	!chdir();
	if (fp < (char *) ~0x100F)
	{
		strerror(*__errno_location());
		print_error(gs_182, ~0x01, 0x080563B8);
	}
	if (globals->dw80682D0 == 0x00)
	{
		struct Eq_83 * gs_521;
		if (globals->dw80632A0 != 0x00)
		{
			fwrite(&globals->v80563E4, 0x01, 0x1A, globals->t8059260);
			sprintf(fp + ~0x180F, 0x080563FF, tLoc18C0);
			word32 esp_564;
			word32 ebp_565;
			byte SCZO_566;
			word32 eax_567;
			byte SZO_569;
			byte C_570;
			word32 edx_571;
			byte S_572;
			byte Z_573;
			!system();
		}
		else
		{
			fwrite(&globals->v8056408, 0x01, 0x0E, globals->t8059260);
			sprintf(fp + ~0x180F, 134571031, tLoc18C0);
			word32 esp_593;
			word32 ebp_594;
			byte SCZO_595;
			word32 eax_596;
			byte SZO_598;
			byte C_599;
			word32 edx_600;
			byte S_601;
			byte Z_602;
			!system();
		}
		if (fp == (char *) ~0x180E)
			print_error(gs_521, ~0x1A, 0x08056430);
		if (fp > (char *) ~0x180F)
			print_error(gs_521, ~0x02, 0x08056451);
		print_done();
		print_cfg(gs_521);
	}
	struct Eq_83 * gs_351;
	int32 eax_206 = sprintf(0x0805B2A0, 134571119, tLoc18C0);
	word32 esp_208;
	word32 ebp_209;
	byte SCZO_210;
	word32 eax_211;
	struct Eq_7848 * gs_212;
	byte SZO_213;
	byte C_214;
	word32 edx_215;
	byte S_216;
	byte Z_217;
	!putenv();
	sprintf(fp + ~0x080F, 0x08055F03, tLoc18C0);
	int32 eax_237 = sprintf(0x0805BAA0, 134571135, tLoc18C0);
	word32 esp_239;
	word32 ebp_240;
	byte SCZO_241;
	word32 eax_242;
	struct Eq_1594 * gs_243;
	byte SZO_244;
	byte C_245;
	word32 edx_246;
	byte S_247;
	byte Z_248;
	!putenv();
	dump_plain(gs_243, 134571154, 0x08064AC0);
	dump_plain(gs_243, 0x080564A1, 0x080652C0);
	dump_plain(gs_243, 134571177, 134634176);
	dump_plain(gs_243, 134571188, 0x080662C0);
	dump_plain(gs_243, 0x080564BC, 0x08066AC0);
	int32 eax_263 = sprintf(0x0805C2A0, 0x080564C7, tLoc18C0);
	word32 esp_265;
	word32 ebp_266;
	byte SCZO_267;
	word32 eax_268;
	struct Eq_7906 * gs_269;
	byte SZO_270;
	byte C_271;
	word32 edx_272;
	byte S_273;
	byte Z_274;
	!putenv();
	int32 eax_279 = sprintf(0x0805CAA0, 0x080564D8, tLoc18C0);
	word32 esp_281;
	word32 ebp_282;
	byte SCZO_283;
	word32 eax_284;
	struct Eq_7922 * gs_285;
	byte SZO_286;
	byte C_287;
	word32 edx_288;
	byte S_289;
	byte Z_290;
	!putenv();
	int32 eax_295 = sprintf(0x0805D2A0, 0x080564E8, tLoc18C0);
	word32 esp_297;
	word32 ebp_298;
	byte SCZO_299;
	word32 eax_300;
	struct Eq_7938 * gs_301;
	byte SZO_302;
	byte C_303;
	word32 edx_304;
	byte S_305;
	byte Z_306;
	!putenv();
	int32 eax_311 = sprintf(0x0805DAA0, 0x080564F8, tLoc18C0);
	word32 esp_313;
	word32 ebp_314;
	byte SCZO_315;
	word32 eax_316;
	struct Eq_7954 * gs_317;
	byte SZO_318;
	byte C_319;
	word32 edx_320;
	byte S_321;
	byte Z_322;
	!putenv();
	int32 eax_327 = sprintf(0x0805E2A0, 0x08056508, tLoc18C0);
	word32 esp_329;
	word32 ebp_330;
	byte SCZO_331;
	word32 eax_332;
	struct Eq_83 * gs_333;
	byte SZO_334;
	byte C_335;
	word32 edx_336;
	byte S_337;
	byte Z_338;
	!putenv();
	atexit(0x08048E89);
	check_dependencies(gs_333, dwArg04, dwArg08, dwArg1C);
	if (globals->dw80632A0 != 0x00)
	{
		fprintf(globals->t8059260, 0x0805651B, &globals->b806BAE0);
		sprintf(fp + ~0x180F, 0x0805652A, tLoc18C0);
		word32 esp_477;
		word32 ebp_478;
		byte SCZO_479;
		word32 eax_480;
		byte SZO_482;
		byte C_483;
		word32 edx_484;
		byte S_485;
		byte Z_486;
		!system();
	}
	else
	{
		fwrite(&globals->v8056539, 0x01, 0x0C, globals->t8059260);
		sprintf(fp + ~0x180F, 0x08056546, tLoc18C0);
		word32 esp_505;
		word32 ebp_506;
		byte SCZO_507;
		word32 eax_508;
		byte SZO_510;
		byte C_511;
		word32 edx_512;
		byte S_513;
		byte Z_514;
		!system();
	}
	if (fp == (char *) ~0x180E && globals->dw80632A0 == 0x00)
		print_error(gs_351, ~0x08, 0x0805655C);
	if (fp > (char *) ~0x180F)
		print_error(gs_351, ~0x03, 0x08056594);
	print_done();
	fwrite(&globals->v80565F5, 0x01, 0x0D, globals->t8059260);
	Eq_120 eax_385 = fopen(0x08056603, 0x08055E6B);
	if (eax_385 == 0x00)
	{
		strerror(*__errno_location());
		print_warning(gs_351, 0x08056610);
	}
	else
		fclose(eax_385);
	register_extension(gs_351, dwArg08, 134571743, dwArg0C, dwArg10, dwArg14, dwArg18);
	check_dependencies(gs_351, dwArg04, dwArg08, dwArg1C);
	if (eax_150 == 0x06 && eax_156 <= 0x00)
		register_entries_gisman(gs_351, dwArg0C, dwArg08);
	register_entries_gisman2(gs_351, dwArg0C, dwArg08);
	register_html(gs_351, dwArg0C, dwArg08, dwArg10, dwArg14, dwArg18);
	fprintf(globals->t8059260, 0x0805691C, &globals->b806BAE0);
	print_done();
	if ((eax_21 ^ gs_351->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08051CF4: void uninstall(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10)
void uninstall(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10)
{
	word32 eax_21 = gs->dw0014;
	fwrite(&globals->v8056937, 0x01, 0x10, globals->t8059260);
	int32 eax_40 = sprintf(0x0805AAA0, 0x08056948, tLoc10F0);
	word32 esp_42;
	word32 ebp_43;
	byte SCZO_44;
	word32 eax_45;
	struct Eq_8197 * gs_46;
	byte SZO_47;
	byte C_48;
	word32 edx_49;
	byte Z_50;
	byte S_51;
	!putenv();
	word32 esp_54;
	word32 ebp_55;
	byte SCZO_56;
	Eq_120 eax_57;
	struct Eq_83 * gs_58;
	byte SZO_59;
	byte C_60;
	word32 edx_61;
	byte Z_62;
	byte S_63;
	!strdup();
	Eq_120 eax_69 = strtok(eax_57, 0x08055EDB);
	Eq_120 eax_74 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_79 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_85 = strtol(eax_69);
	Eq_120 eax_91 = strtol(eax_74);
	strtol(eax_79);
	free(eax_57);
	atexit(0x08048E89);
	deregister_extension(gs_58, dwArg04, dwArg08, dwArg0C);
	if (eax_85 == 0x06 && eax_91 <= 0x00)
	{
		word32 eax_263 = deregister_entries_gisman(gs_58, dwArg08, dwArg0C);
		if (eax_263 == ~0x00)
		{
			print_warning(gs_58, 0x0805695C);
			memcpy(134644448, &globals->str805698C, 0x01);
		}
		if (eax_263 == 0x00)
		{
			print_warning(gs_58, 0x08056990);
			memcpy(134644448, &globals->str805698C, 0x01);
		}
	}
	deregister_entries_gisman2(gs_58, dwArg08, dwArg0C);
	deregister_html(gs_58, dwArg08, dwArg0C);
	sprintf(fp + ~0x100F, 0x080569BE, tLoc10F0);
	word32 dwLoc1018_129 = 0x00;
	if (stat(fp + ~0x100F, fp + ~0x108B) < 0x00)
	{
		print_warning(gs_58, 0x080569D4);
		dwLoc1018_129 = 0x01;
	}
	if (dwLoc1018_129 != 0x00)
	{
		strerror(*__errno_location());
		print_warning(gs_58, 0x08056610);
	}
	else if (globals->dw80632A0 != 0x00)
	{
		sprintf(fp + ~0x080F, 0x08056A40, tLoc10F0);
		strcpy(0x0806A2E0, fp + ~0x080F);
	}
	else
	{
		sprintf(fp + ~0x080F, 0x08056AEC, tLoc10F0);
		strcpy(0x0806A2E0, fp + ~0x080F);
	}
	sprintf(fp + ~0x080F, 0x08056BBA, tLoc10F0);
	su(gs_58, dwArg0C, fp + ~0x080F);
	print_done();
	if ((eax_21 ^ gs_58->dw0014) != 0x00)
		__stack_chk_fail();
}

// 080521A4: void source_clean(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
void source_clean(Eq_83 * gs, Eq_120 dwArg04)
{
	word32 eax_12 = gs->dw0014;
	basename(dwArg04);
	sprintf(fp + -0x0810, 0x080563AF, tLoc1040);
	word32 esp_29;
	word32 ebp_30;
	byte SCZO_31;
	word32 eax_32;
	struct Eq_83 * gs_33;
	byte SZO_34;
	byte C_35;
	word32 edx_36;
	byte S_37;
	byte Z_38;
	!chdir();
	if (fp < (char *) ~0x080F)
		print_error(gs_33, ~0x01, 0x08056BC4);
	struct Eq_83 * gs_108;
	if (globals->dw80632A0 != 0x00)
	{
		fprintf(globals->t8059260, 0x08056BE4, &globals->b806BAE0);
		sprintf(fp + ~0x100F, 0x08056BF9, tLoc1040);
		word32 esp_104;
		word32 ebp_105;
		byte SCZO_106;
		word32 eax_107;
		byte SZO_109;
		byte C_110;
		word32 edx_111;
		byte S_112;
		byte Z_113;
		!system();
	}
	else
	{
		fwrite(&globals->v8056C0E, 0x01, 0x0E, globals->t8059260);
		sprintf(fp + ~0x100F, 0x08056C1D, tLoc1040);
		word32 esp_132;
		word32 ebp_133;
		byte SCZO_134;
		word32 eax_135;
		byte SZO_137;
		byte C_138;
		word32 edx_139;
		byte S_140;
		byte Z_141;
		!system();
	}
	if (fp == (char *) ~0x100E)
		print_error(gs_108, ~0x08, 0x08056C3C);
	else
		print_done();
	word32 esp_67;
	word32 ebp_68;
	byte SCZO_69;
	word32 eax_70;
	struct Eq_8446 * gs_71;
	byte SZO_72;
	byte C_73;
	word32 edx_74;
	byte S_75;
	byte Z_76;
	!system();
	if ((eax_12 ^ gs_71->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08052334: void restore(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack word32 dwArg08)
void restore(Eq_83 * gs, Eq_120 dwArg04, word32 dwArg08)
{
	word32 esp_22;
	word32 ebp_23;
	byte SCZO_24;
	Eq_120 eax_25;
	struct Eq_83 * gs_26;
	byte SZO_27;
	byte C_28;
	word32 edx_29;
	byte Z_30;
	word32 ecx_31;
	!strdup();
	word32 eax_15 = gs->dw0014;
	Eq_120 eax_37 = strtok(eax_25, 0x08055EDB);
	Eq_120 eax_42 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_47 = strtok(0x00, 0x08055EDB);
	Eq_120 eax_53 = strtol(eax_37);
	Eq_120 eax_59 = strtol(eax_42);
	strtol(eax_47);
	free(eax_25);
	fwrite(&globals->v8056C78, 0x01, 0x0C, globals->t8059260);
	if (eax_53 == 0x06 && eax_59 <= 0x00)
	{
		int32 eax_191 = restore_entries_gisman(gs_26, dwArg04);
		if (globals->dw80632A0 != 0x00)
			fprintf(globals->t8059260, 0x08056C88, eax_191);
	}
	int32 eax_86 = restore_html(gs_26, dwArg04);
	if (globals->dw80632A0 != 0x00)
		fprintf(globals->t8059260, 0x08056CB0, eax_86);
	if (eax_86 > 0x00)
	{
		if (globals->dw80632A0 != 0x00)
			sprintf(fp + ~0x080F, 0x08056CD4, tLoc0880);
		else
			sprintf(fp + ~0x080F, 0x08056D60, tLoc0880);
		su(gs_26, dwArg04, fp + ~0x080F);
	}
	if (eax_86 == 0x00)
		print_error(gs_26, ~0x19, 0x08056DF0);
	else
		print_done();
	if ((eax_15 ^ gs_26->dw0014) != 0x00)
		__stack_chk_fail();
}

// 080525FC: void list_extensions(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
void list_extensions(Eq_83 * gs, Eq_120 dwArg04)
{
	word32 eax_12 = gs->dw0014;
	fprintf(globals->t8059260, 0x08056E18, dwArg04);
	sprintf(fp + ~0x080F, 134573645, tLoc0840);
	Eq_120 eax_34 = fopen(fp + ~0x080F, 0x08055E6B);
	if (eax_34 == 0x00)
	{
		if (*__errno_location() == 0x02)
		{
			fwrite(&globals->v8056E62, 0x01, 0x06, globals->t8059244);
			fclose(eax_34);
			exit(0x00);
		}
		fclose(eax_34);
		strerror(*__errno_location());
		print_error(gs, ~0x1C, 0x08056E69);
	}
	fclose(eax_34);
	dump_ascii(gs, fp + ~0x080F, "");
	if ((eax_12 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 08052748: Register ptr32 run_post(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08, Stack Eq_120 dwArg0C, Stack Eq_120 dwArg10, Register out ptr32 ebpOut)
ptr32 run_post(Eq_83 * gs, Eq_120 dwArg04, Eq_120 dwArg08, Eq_120 dwArg0C, Eq_120 dwArg10, ptr32 & ebpOut)
{
	word32 eax_18 = gs->dw0014;
	if (dwArg08 > 0x09)
	{
		word32 esp_64;
		word32 ebp_65;
		byte SCZO_66;
		word32 eax_67;
		struct Eq_8668 * gs_68;
		byte SZO_69;
		byte C_70;
		byte CZ_71;
		bcuiposr0 None_72;
		byte Z_73;
		word32 edx_74;
		!putenv();
		if (dwArg10 != 0x00)
			sprintf(0x0805FAA0, 0x08056EE0, tLoc1040);
		else
			memcpy(0x0805FAA0, &globals->v8056EF0, 0x17);
		word32 esp_78;
		word32 ebp_79;
		byte SCZO_80;
		word32 eax_81;
		struct Eq_8710 * gs_82;
		byte SZO_83;
		byte C_84;
		byte CZ_85;
		bcuiposr0 None_86;
		byte Z_87;
		word32 edx_88;
		!putenv();
		word32 esp_92;
		word32 ebp_93;
		byte SCZO_94;
		word32 eax_95;
		struct Eq_8722 * gs_96;
		byte SZO_97;
		byte C_98;
		byte CZ_99;
		bcuiposr0 None_100;
		byte Z_101;
		word32 edx_102;
		!getcwd();
		basename(dwArg04);
		sprintf(fp + ~0x100F, 0x08056F07, tLoc1040);
		int32 eax_120 = sprintf(0x08062AA0, 0x08056F11, tLoc1040);
		word32 esp_122;
		word32 ebp_123;
		byte SCZO_124;
		word32 eax_125;
		struct Eq_8747 * gs_126;
		byte SZO_127;
		byte C_128;
		byte CZ_129;
		bcuiposr0 None_130;
		byte Z_131;
		word32 edx_132;
		!putenv();
		if (dwArg0C == 0x00)
			memcpy(134611616, &globals->v8056F1D, 0x11);
		else
			sprintf(134611616, 0x08056F2E, tLoc1040);
		word32 esp_136;
		word32 ebp_137;
		byte SCZO_138;
		word32 eax_139;
		struct Eq_8770 * gs_140;
		byte SZO_141;
		byte C_142;
		byte CZ_143;
		bcuiposr0 None_144;
		byte Z_145;
		word32 edx_146;
		!putenv();
		sprintf(fp + ~0x080F, 0x08056F3E, tLoc1040);
		int32 eax_159 = sprintf(0x08060AA0, 0x08056F41, tLoc1040);
		word32 esp_161;
		word32 ebp_162;
		byte SCZO_163;
		word32 eax_164;
		struct Eq_8792 * gs_165;
		byte SZO_166;
		byte C_167;
		byte CZ_168;
		bcuiposr0 None_169;
		byte Z_170;
		word32 edx_171;
		!putenv();
		sprintf(fp + ~0x080F, 0x08056F3E, tLoc1040);
		int32 eax_184 = sprintf(0x080612A0, 0x08056F4E, tLoc1040);
		word32 esp_186;
		word32 ebp_187;
		byte SCZO_188;
		word32 eax_189;
		struct Eq_8814 * gs_190;
		byte SZO_191;
		byte C_192;
		byte CZ_193;
		bcuiposr0 None_194;
		byte Z_195;
		word32 edx_196;
		!putenv();
		void * eax_201 = memcpy(0x08061AA0, &globals->v8056F5D, 0x0A);
		word32 esp_203;
		word32 ebp_204;
		byte SCZO_205;
		word32 eax_206;
		struct Eq_8832 * gs_207;
		byte SZO_208;
		byte C_209;
		byte CZ_210;
		bcuiposr0 None_211;
		byte Z_212;
		word32 edx_213;
		!putenv();
		atexit(0x08048E89);
		if ((eax_18 ^ gs_207->dw0014) != 0x00)
			__stack_chk_fail();
		word32 ebp_221;
		*ebpOut = ebp;
		return fp;
	}
	else
	{
		<anonymous> * eax_42 = *((char *) globals->a8056F68 + (dwArg08 - 0x03) * 0x04);
		ptr32 esp_52;
		word32 ebp_53;
		byte SCZO_54;
		word32 eax_55;
		struct Eq_8689 * gs_56;
		byte SZO_57;
		byte C_58;
		byte CZ_59;
		bcuiposr0 None_60;
		byte Z_61;
		word32 edx_62;
		eax_42();
		return esp_52;
	}
}

// 08052A50: void show_help()
void show_help()
{
	fwrite(&globals->v8056F88, 0x01, 0x2A, globals->t8059260);
	fwrite(&globals->v8056FB4, 0x01, 44, globals->t8059260);
	fwrite(&globals->v8056FE4, 0x01, 0x27, globals->t8059260);
	fwrite(&globals->v805700C, 0x01, 0x17, globals->t8059260);
	fwrite(&globals->v8057024, 0x01, 0x2E, globals->t8059260);
	fwrite(&globals->v8057054, 0x01, 0x35, globals->t8059260);
	fwrite(&globals->v805708C, 0x01, 0x45, globals->t8059260);
	fwrite(&globals->v80570D4, 0x01, 66, globals->t8059260);
	fwrite(&globals->v8057118, 0x01, 0x3C, globals->t8059260);
	fwrite(&globals->v8057158, 0x01, 0x44, globals->t8059260);
	fwrite(&globals->v80571A0, 0x01, 0x40, globals->t8059260);
	fwrite(&globals->v80571E4, 0x01, 0x3D, globals->t8059260);
	fwrite(&globals->v8057224, 0x01, 0x29, globals->t8059260);
	fwrite(&globals->v8057250, 0x01, 0x36, globals->t8059260);
	fwrite(&globals->v8057287, 0x01, 0x17, globals->t8059260);
	fwrite(&globals->v80572A0, 0x01, 0x32, globals->t8059260);
	fwrite(&globals->v80572D4, 0x01, 0x45, globals->t8059260);
	fwrite(&globals->v805731C, 0x01, 0x38, globals->t8059260);
	fwrite(&globals->v8057358, 0x01, 0x35, globals->t8059260);
	fwrite(&globals->v8057390, 0x01, 0x2A, globals->t8059260);
	fwrite(&globals->v80573BC, 0x01, 55, globals->t8059260);
	fwrite(&globals->v80573F4, 0x01, 0x3E, globals->t8059260);
	fwrite(&globals->v8057434, 0x01, 77, globals->t8059260);
	fwrite(&globals->v8057484, 0x01, 0x41, globals->t8059260);
	fwrite(&globals->v80574C8, 0x01, 0x47, globals->t8059260);
	fwrite(&globals->v8057510, 0x01, 0x49, globals->t8059260);
	fwrite(&globals->v805755A, 0x01, 0x0F, globals->t8059260);
	fwrite(&globals->v805756C, 0x01, 0x4A, globals->t8059260);
	fwrite(&globals->v80575B7, 0x01, 0x14, globals->t8059260);
	fwrite(&globals->v80575CC, 0x01, 0x49, globals->t8059260);
	fwrite(&globals->v8057618, 0x01, 0x4C, globals->t8059260);
	fwrite(&globals->v8057668, 0x01, 0x2A, globals->t8059260);
	fwrite(&globals->v8057694, 0x01, 0x4B, globals->t8059260);
	fwrite(&globals->v80576E0, 0x01, 0x0A, globals->t8059260);
	fwrite(&globals->v80576EC, 0x01, 0x3F, globals->t8059260);
	fwrite(&globals->v805772C, 0x01, 0x4B, globals->t8059260);
	exit(0x00);
}

// 08053002: void show_details(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
void show_details(Eq_83 * gs, Eq_120 dwArg04)
{
	strcpy((word32) fp - 0x0810, basename(dwArg04));
	word32 esp_26;
	word32 ebp_27;
	byte SCZO_28;
	word32 eax_29;
	struct Eq_83 * gs_30;
	byte SZO_31;
	byte C_32;
	byte S_33;
	!chdir();
	if (fp < ~0x080F)
	{
		strerror(*__errno_location());
		print_error(gs_30, ~0x01, 0x08057778);
	}
	dump_ascii(gs_30, 0x080577B2, "Detailed information");
	word32 esp_44;
	word32 ebp_45;
	byte SCZO_46;
	word32 eax_47;
	struct Eq_9136 * gs_48;
	byte SZO_49;
	byte C_50;
	byte S_51;
	!system();
	exit(0x00);
}

// 080530B9: void show_license(Register (ptr Eq_83) gs, Stack Eq_120 dwArg04)
void show_license(Eq_83 * gs, Eq_120 dwArg04)
{
	strcpy((word32) fp - 0x0810, basename(dwArg04));
	word32 esp_26;
	word32 ebp_27;
	byte SCZO_28;
	word32 eax_29;
	struct Eq_83 * gs_30;
	byte SZO_31;
	byte C_32;
	byte S_33;
	!chdir();
	if (fp < ~0x080F)
	{
		strerror(*__errno_location());
		print_error(gs_30, ~0x01, 0x08057778);
	}
	dump_ascii(gs_30, 0x080577BF, "Detailed information");
	word32 esp_44;
	word32 ebp_45;
	byte SCZO_46;
	word32 eax_47;
	struct Eq_9183 * gs_48;
	byte SZO_49;
	byte C_50;
	byte S_51;
	!system();
	exit(0x00);
}

// 08053170: void show_version()
void show_version()
{
	fprintf(globals->t8059260, 0x080577C8, SLICE(0x080577C8, <unknown>, 32));
	fwrite(&globals->v80577EF, 0x01, 0x1A, globals->t8059260);
	fwrite(&globals->v805780C, 0x01, 0x23, globals->t8059260);
	fwrite(&globals->v8057830, 0x01, 0x4B, globals->t8059260);
	fwrite(&globals->v805787C, 0x01, 0x4C, globals->t8059260);
	exit(0x00);
}

// 08053242: void get_configure_options(Register (ptr Eq_83) gs, Stack word32 dwArg04)
void get_configure_options(Eq_83 * gs, word32 dwArg04)
{
	word32 eax_12 = gs->dw0014;
	if ((byte) (word32) globals->b806AAE0 == 0x00)
	{
		sprintf(fp + ~0x080F, 0x080578C9, tLoc0840);
		Eq_120 eax_47 = fopen(fp + ~0x080F, 0x080578DE);
		if (eax_47 == 0x00)
			print_warning(gs, 0x080578E0);
		else if (nc_fgets_nb(fp + ~0x080F, 0x0800, eax_47) != 0x00)
			strcpy(0x0806AAE0, fp + ~0x080F);
	}
	if ((eax_12 ^ gs->dw0014) != 0x00)
		__stack_chk_fail();
}

// 0805331E: void main(Register word32 ebp, Register (ptr Eq_9291) gs, Stack Eq_120 dwArg04, Stack Eq_120 dwArg08)
void main(word32 ebp, Eq_9291 * gs, Eq_120 dwArg04, Eq_120 dwArg08)
{
	__align(fp - 0x04);
	globals->dw80632A0 = 0x00;
	globals->dw80682C0 = 0x00;
	globals->dw80682C4 = 0x00;
	globals->dw80682C8 = 0x00;
	globals->dw80682CC = 0x00;
	globals->t806CAE0.u0 = 0x00;
	globals->dw806CAE4 = 0x00;
	globals->dw80682D0 = 0x00;
	memcpy(134644448, &globals->v8057925, 0x01);
	memcpy(0x08068AE0, &globals->v8057925, 0x01);
	memcpy(0x08069AE0, &globals->v8057925, 0x01);
	memcpy(0x0806A2E0, &globals->v8057925, 0x01);
	memcpy(0x080692E0, &globals->v8057925, 0x01);
	memcpy(0x080632C0, &globals->v8057925, 0x01);
	memcpy(0x08063AC0, &globals->v8057925, 0x01);
	memcpy(0x080642C0, &globals->v8057925, 0x01);
	memcpy(0x08064AC0, &globals->v8057925, 0x01);
	memcpy(0x080652C0, &globals->v8057925, 0x01);
	memcpy(134634176, &globals->v8057925, 0x01);
	memcpy(0x080662C0, &globals->v8057925, 0x01);
	memcpy(0x08066AC0, &globals->v8057925, 0x01);
	memcpy(0x08067AC0, &globals->v8057925, 0x01);
	memcpy(0x080672C0, &globals->v8057925, 0x01);
	memcpy(0x0806AAE0, &globals->v8057925, 0x01);
	memcpy(0x0806B2E0, &globals->v8057926, 0x0A);
	void * eax_119 = memcpy(0x0806BAE0, &globals->v8057930, 0x05);
	word32 esp_122;
	word32 ebp_123;
	word32 ebx_124;
	byte SCZO_125;
	word32 eax_126;
	struct Eq_9419 * gs_127;
	byte SZO_128;
	byte C_129;
	word32 edx_130;
	byte Z_131;
	byte CZ_132;
	word32 ecx_133;
	byte S_134;
	!getcwd();
	fwrite(&globals->v8057935, 0x01, 0x04, globals->t8059260);
	Eq_120 eax_144 = malloc(0x0800);
	strcpy(fp - 12312, *dwArg08);
	setvbuf(globals->t8059260, null, 0x02, 0x00);
	if (dwArg04 != 0x01)
	{
		atexit(0x08049390);
		globals->dw8059264 = 0x00;
		int32 dwLoc3868_1035 = 0x00;
		Eq_120 dwLoc381C_1044 = 0x00;
		word32 esp_175;
		word32 ebp_176;
		word32 ebx_177;
		byte SCZO_178;
		word32 eax_179;
		byte SZO_181;
		byte C_182;
		word32 edx_183;
		byte Z_184;
		byte CZ_185;
		word32 ecx_186;
		byte S_187;
		struct Eq_83 * gs_1091;
		!getopt_long();
		word32 dwLoc3860_1099 = eax_179;
		while (dwLoc3860_1099 != ~0x00)
		{
			if (dwLoc3860_1099 == 0x3F)
				print_error(gs_1091, ~0x00, 0x08057960);
			if (dwLoc3860_1099 == 0x3A)
			{
				if (globals->dw8059240 == 0x69 || (globals->dw8059240 == 117 || (globals->dw8059240 == 100 || (globals->dw8059240 == 99 || (globals->dw8059240 == 116 || (globals->dw8059240 == 0x6C || globals->dw8059240 == 114))))))
					print_error(gs_1091, ~0x00, 0x08057988);
				if (globals->dw8059240 == 0x67)
					print_error(gs_1091, ~0x00, 0x080579A9);
				if (globals->dw8059240 == 0x62)
					print_error(gs_1091, ~0x00, 0x080579C4);
				if (globals->dw8059240 == 0x62)
					print_error(gs_1091, ~0x00, 0x080579EA);
				if (globals->dw8059240 == 113)
				{
					dwLoc3864 = 0x0C;
					dwLoc3868_1035 = dwLoc3868_1035 + 0x01;
					break;
				}
			}
			if (dwLoc3860_1099 == 0x69 || (dwLoc3860_1099 == 117 || (dwLoc3860_1099 == 113 || (dwLoc3860_1099 == 100 || (dwLoc3860_1099 == 99 || (dwLoc3860_1099 == 116 || (dwLoc3860_1099 == 0x6C || (dwLoc3860_1099 == 114 || (dwLoc3860_1099 == 0x68 || dwLoc3860_1099 == 0x56)))))))))
			{
				dwLoc3868_1035 = dwLoc3868_1035 + 0x01;
				uint32 eax_1151 = dwLoc3860_1099 - 0x56;
				if (eax_1151 <= 0x1F)
				{
					<anonymous> * eax_1154 = *((char *) globals->a8057D30 + eax_1151 * 0x04);
					word32 esp_1155;
					word32 ebp_1156;
					word32 ebx_1157;
					byte SCZO_1158;
					word32 eax_1159;
					struct Eq_9718 * gs_1160;
					byte SZO_1161;
					byte C_1162;
					word32 edx_1163;
					byte Z_1164;
					byte CZ_1165;
					word32 ecx_1166;
					byte S_1167;
					eax_1154();
					return;
				}
				if (globals->t8059280 != 0x00)
				{
					strcpy(fp - 0x1018, globals->t8059280);
					strcpy(fp - 0x1818, globals->t8059280);
				}
			}
			if (dwLoc3860_1099 == 0x67)
			{
				word32 eax_1140 = malloc(strlen(globals->t8059280) + 0x01);
				strcpy(eax_1140, globals->t8059280);
				dwLoc381C_1044 = eax_1140;
			}
			if (dwLoc3860_1099 == 0x62)
			{
				strcpy(malloc(strlen(globals->t8059280) + 0x01), Mem166[0x08059280:word32]);
				dwLoc3864 = 0x04;
			}
			if (dwLoc3860_1099 == 0x78)
				strcpy(0x0806AAE0, globals->t8059280);
			if (dwLoc3860_1099 == 0x66)
				globals->dw80682C8 = 0x01;
			if (dwLoc3860_1099 == 118)
				globals->dw80632A0 = 0x01;
			if (dwLoc3860_1099 == 115)
				globals->dw80682D0 = 0x01;
			if (dwLoc3860_1099 == 111)
				strcat(fp - 0x3818, globals->t8059280);
			if (dwLoc3860_1099 == 0x43)
				strcpy(0x0806B2E0, globals->t8059280);
			if (dwLoc3860_1099 == 0x6D)
				strcpy(0x0806BAE0, globals->t8059280);
			word32 esp_1086;
			word32 ebp_1087;
			word32 ebx_1088;
			byte SCZO_1089;
			word32 eax_1090;
			byte SZO_1092;
			byte C_1093;
			word32 edx_1094;
			byte Z_1095;
			byte CZ_1096;
			word32 ecx_1097;
			byte S_1098;
			!getopt_long();
			dwLoc3860_1099 = eax_1090;
		}
		if (dwLoc3868_1035 <= 0x00)
			print_error(gs_1091, ~0x00, 134576676);
		if (dwLoc3868_1035 > 0x01)
			print_error(gs_1091, ~0x00, 0x08057A44);
		int32 eax_231 = sprintf(0x080622A0, 0x08057A65, tLoc3968);
		word32 ebx_235;
		byte SCZO_236;
		word32 eax_237;
		byte SZO_239;
		byte C_240;
		word32 edx_241;
		byte Z_242;
		byte CZ_243;
		word32 ecx_244;
		byte S_245;
		struct Eq_83 * gs_238;
		word32 ebp_234;
		struct Eq_6008 * esp_233;
		!putenv();
		if (dwLoc3864 != 0x01)
		{
			if (dwLoc3864 != 0x02)
			{
				if (globals->dw80632A0 == 0x00)
				{
					void * eax_990 = memcpy(0x080672C0, &globals->v8057A74, 0x20);
					word32 ebx_994;
					byte SCZO_995;
					word32 eax_996;
					byte SZO_998;
					byte C_999;
					word32 edx_1000;
					byte Z_1001;
					byte CZ_1002;
					word32 ecx_1003;
					byte S_1004;
					!mkstemp();
					if (open(&globals->b80672C0, 0x40) == ~0x00)
					{
						strerror(*__errno_location());
						print_error(gs_238, ~0x1D, 0x08057A94);
						exit(~0x1D);
					}
				}
				if (dwLoc3864 != 11)
				{
					if (dwLoc3864 != 0x0C)
					{
						if (strstr(fp - 0x1018, 0x08057B15) != null || strstr(fp - 0x1018, 0x08057B1D) != null)
						{
							wget_extension(gs_238, fp - 0x1018);
							Eq_120 eax_953 = malloc(0x0800);
							strcpy(eax_953, fp - 0x1018);
							strcpy(fp - 0x1018, (word32) strrchr(eax_953, '/') + 0x01);
							free(eax_953);
						}
						if (globals->dw80632A0 != 0x00)
							fprintf(globals->t8059260, 0x08057B24, fp - 0x1018);
						if (dwLoc3864 != 0x0A)
						{
							if (stat(fp - 0x1018, fp - 0x38D8) < 0x00)
							{
								strerror(*__errno_location());
								print_error(gs_238, ~0x01, 0x08057B44);
							}
							if ((dwLoc38C8 & 0xF000) == 0x4000)
							{
								if (globals->dw80632A0 != 0x00)
									fwrite(&globals->v8057B6C, 0x01, 0x27, globals->t8059260);
							}
							else
							{
								if (globals->dw80632A0 != 0x00)
									fwrite(&globals->v8057B94, 0x01, 0x2A, globals->t8059260);
								word32 eax_802 = unpack_extension(gs_238, fp - 0x1018);
								word32 esp_804;
								word32 ebp_805;
								word32 ebx_806;
								byte SCZO_807;
								word32 eax_808;
								struct Eq_9938 * gs_809;
								byte SZO_810;
								byte C_811;
								word32 edx_812;
								byte Z_813;
								byte CZ_814;
								word32 ecx_815;
								byte S_816;
								!opendir();
								word32 ebx_822;
								byte SCZO_823;
								word32 eax_824;
								byte SZO_826;
								byte C_827;
								word32 edx_828;
								byte Z_829;
								byte CZ_830;
								word32 ecx_831;
								byte S_832;
								!readdir();
								word32 dwLoc3878_833 = eax_824;
								word32 dwLoc387C_834 = 0x00;
								while (dwLoc3878_833 != 0x00)
								{
									if (strcmp(dwLoc3878_833 + 11, 0x08057BBF) != 0x00 && strcmp(dwLoc3878_833 + 11, 0x08057BC1) != 0x00)
									{
										sprintf(eax_144, 0x08057BC4, tLoc3968);
										stat(eax_144, fp - 0x3930);
										if ((dwLoc3920 & 0xF000) == 0x4000)
										{
											dwLoc387C_834 = 0x01;
											break;
										}
									}
									word32 ebx_883;
									byte SCZO_884;
									word32 eax_885;
									byte SZO_887;
									byte C_888;
									word32 edx_889;
									byte Z_890;
									byte CZ_891;
									word32 ecx_892;
									byte S_893;
									!readdir();
									dwLoc3878_833 = eax_885;
								}
								strcpy(fp - 0x1018, eax_144);
								if (dwLoc387C_834 == 0x00)
									print_error(gs_238, ~0x06, 0x08057BCC);
							}
						}
						if (dwLoc3864 == 0x0A)
							strcpy(fp - 0x2818, fp - 0x1018);
						else
							esp_233 = get_package_name(gs_238, fp - 0x1018, fp - 0x2818, out ebp_234);
						if (esp_233->dw00FC > 0x00)
						{
							if (esp_233->t0148 == 0x00)
							{
								esp_233->t0000.u0 = 0x08057AB3;
								esp_233->t0148 = getenv(esp_233->t0000);
							}
							esp_233->t000C = esp_233->t0148;
							esp_233->t0008 = esp_233->t0128;
							esp_233->t0004 = esp_233->t0100;
							esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
							esp_233 = run_post(gs_238, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_234);
						}
						if (globals->dw80632A0 != 0x00)
						{
							Eq_120 eax_731 = globals->t8059260;
							esp_233->t0008 = (char *) &esp_233->t0148 + 10244;
							esp_233->t0004.u0 = 0x08057C00;
							esp_233->t0000 = eax_731;
							fprintf(esp_233->t0000, esp_233->t0004, esp_233->t0008);
						}
						if (esp_233->t0100 != 0x0A)
						{
							esp_233->t0010 = &esp_233->t011C;
							esp_233->t000C = &esp_233->t0120;
							esp_233->t0008 = &esp_233->t0124;
							esp_233->t0004 = (char *) &esp_233->t0148 + 0x00001804;
							esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
							esp_233 = check_extension(ebp_234, gs_238, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
						}
						if (esp_233->t0100 != 0x05)
						{
							if (esp_233->t0100 != 0x09)
							{
								if (esp_233->t0100 != 0x07)
								{
									if (esp_233->t0100 != 0x06)
									{
										if (esp_233->t0148 == 0x00)
										{
											esp_233->t0000.u0 = 0x08057AB3;
											esp_233->t0148 = getenv(esp_233->t0000);
											if (esp_233->t0148 == 0x00)
											{
												esp_233->t0004.u0 = 0x08057ABC;
												esp_233->t0000.u0 = ~0x00;
												print_error(gs_238, dwArg00, dwArg04);
											}
										}
										if (globals->dw80632A0 != 0x00)
										{
											Eq_120 eax_706 = globals->t8059260;
											esp_233->t0008 = esp_233->t0148;
											esp_233->t0004.u0 = 0x08057AFF;
											esp_233->t0000 = eax_706;
											fprintf(esp_233->t0000, esp_233->t0004, esp_233->t0008);
										}
										esp_233->t0000.u0 = 0x08057C27;
										esp_233->t0144 = getenv(esp_233->t0000);
										if (esp_233->t0144 == 0x00)
										{
											esp_233->t0008 = esp_233->t0148;
											esp_233->t0004.u0 = 0x08057C35;
											esp_233->t0000 = (char *) &esp_233->t0148 + 12292;
											sprintf(esp_233->t0000, esp_233->t0004, esp_233->tFFFFFFFC);
											esp_233->t0004.u0 = 0x080578DE;
											esp_233->t0000 = (char *) &esp_233->t0148 + 12292;
											esp_233->t0118 = fopen(esp_233->t0000, esp_233->t0004);
											if (esp_233->t0118 == 0x00)
											{
												esp_233->t0004.u0 = 0x08057C4C;
												esp_233->t0000.u0 = ~0x0A;
												print_error(gs_238, dwArg00, dwArg04);
											}
											else
											{
												esp_233->t0000.u0 = 0x10;
												esp_233->t0144 = malloc(esp_233->t0000);
												Eq_120 edx_679 = esp_233->t0144;
												esp_233->t0008 = edx_679;
												esp_233->t0004.u0 = 0x08057C8B;
												Eq_120 eax_682 = esp_233->t0118;
												esp_233->t0000 = eax_682;
												word32 ebp_685;
												word32 ebx_686;
												byte SCZO_687;
												int32 eax_688;
												byte SZO_690;
												byte C_691;
												word32 edx_692;
												byte Z_693;
												byte CZ_694;
												word32 ecx_695;
												byte S_696;
												!__isoc99_fscanf();
												esp_233->dw00F8 = eax_688;
												esp_233->t0000 = esp_233->t0118;
												fclose(esp_233->t0000);
												if (esp_233->dw00F8 <= 0x00)
												{
													esp_233->t0004.u0 = 0x08057C4C;
													esp_233->t0000.u0 = ~0x0A;
													print_error(gs_238, dwArg00, dwArg04);
												}
											}
										}
										if (esp_233->t0144 != 0x00)
										{
											Eq_120 eax_576 = esp_233->t0144;
											esp_233->t0000 = eax_576;
											word32 ebp_579;
											word32 ebx_580;
											byte SCZO_581;
											Eq_120 eax_582;
											byte SZO_584;
											byte C_585;
											word32 edx_586;
											byte Z_587;
											byte CZ_588;
											word32 ecx_589;
											byte S_590;
											!strdup();
											esp_233->t0134 = eax_582;
											esp_233->t0004.u0 = 0x08057BBF;
											esp_233->t0000 = esp_233->t0134;
											esp_233->t0140 = strtok(esp_233->t0000, esp_233->t0004);
											esp_233->t0004.u0 = 0x08057BBF;
											esp_233->t0000.u0 = 0x00;
											esp_233->t013C = strtok(esp_233->t0000, esp_233->t0004);
											esp_233->t0004.u0 = 0x08057BBF;
											esp_233->t0000.u0 = 0x00;
											esp_233->t0138 = strtok(esp_233->t0000, esp_233->t0004);
											Eq_120 eax_608 = esp_233->t0140;
											esp_233->t0008.u0 = 0x0A;
											esp_233->t0004.u0 = 0x00;
											esp_233->t0000 = eax_608;
											esp_233->t0110 = strtol(esp_233->t0000);
											Eq_120 eax_614 = esp_233->t013C;
											esp_233->t0008.u0 = 0x0A;
											esp_233->t0004.u0 = 0x00;
											esp_233->t0000 = eax_614;
											esp_233->t010C = strtol(esp_233->t0000);
											Eq_120 eax_620 = esp_233->t0138;
											esp_233->t0008.u0 = 0x0A;
											esp_233->t0004.u0 = 0x00;
											esp_233->t0000 = eax_620;
											esp_233->t0108 = strtol(esp_233->t0000);
											esp_233->t0000.u0 = 0x0800;
											esp_233->t0144 = malloc(esp_233->t0000);
											esp_233->t0010 = esp_233->t0108;
											esp_233->t000C = esp_233->t010C;
											esp_233->t0008 = esp_233->t0110;
											esp_233->t0004.u0 = 0x08057C8E;
											esp_233->t0000 = esp_233->t0144;
											sprintf(esp_233->t0000, esp_233->t0004, esp_233->tFFFFFFFC);
											if (globals->dw80632A0 != 0x00)
											{
												Eq_120 eax_652 = globals->t8059260;
												esp_233->t0008 = esp_233->t0144;
												esp_233->t0004.u0 = 0x08057C97;
												esp_233->t0000 = eax_652;
												fprintf(esp_233->t0000, esp_233->t0004, esp_233->t0008);
											}
											if (esp_233->t0110 <= 0x05)
											{
												esp_233->t0004.u0 = 0x08057CB0;
												esp_233->t0000.u0 = ~0x0A;
												print_error(gs_238, dwArg00, dwArg04);
											}
										}
										esp_233->t0008 = esp_233->t0148;
										esp_233->t0004.u0 = 0x08057CE8;
										esp_233->t0000 = (char *) &esp_233->t0148 + 0x04;
										sprintf(esp_233->t0000, esp_233->t0004, esp_233->tFFFFFFFC);
										if (esp_233->t0100 != 0x03)
										{
											if (esp_233->t0100 != 0x0A)
											{
												if (esp_233->t0100 != 0x08)
												{
													if (esp_233->t0100 == 0x04)
													{
														esp_233->t0004 = esp_233->t0128;
														esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
														if (binaries_exist(gs_238, dwArg00, dwArg04) != 0x00)
														{
															Eq_120 ecx_555 = esp_233->t011C;
															Eq_120 edx_556 = esp_233->t0120;
															Eq_120 eax_557 = esp_233->t0124;
															esp_233->t001C = esp_233->t0144;
															esp_233->t0018 = ecx_555;
															esp_233->t0014 = edx_556;
															esp_233->t0010 = eax_557;
															esp_233->t000C = (char *) &esp_233->t0148 + 0x00001004;
															esp_233->t0008 = esp_233->t0128;
															esp_233->t0004 = esp_233->t0148;
															esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
															bin_install(gs_238, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
															esp_233->t0000.u0 = 0x00;
															exit(esp_233->t0000);
														}
														esp_233->t0008 = esp_233->t0128;
														esp_233->t0004.u0 = 0x08057D11;
														esp_233->t0000.u0 = ~0x0B;
														print_error(gs_238, dwArg00, dwArg04);
													}
													esp_233->t0000.u0 = 0x00;
													exit(esp_233->t0000);
												}
												else
												{
													Eq_120 ecx_525 = esp_233->t011C;
													Eq_120 edx_526 = esp_233->t0120;
													Eq_120 eax_527 = esp_233->t0124;
													esp_233->t0018 = esp_233->t0144;
													esp_233->t0014 = ecx_525;
													esp_233->t0010 = edx_526;
													esp_233->t000C = eax_527;
													esp_233->t0008 = (char *) &esp_233->t0148 + 0x00001004;
													esp_233->t0004 = esp_233->t0148;
													esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
													test_install(gs_238, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
													esp_233->t0000.u0 = 0x00;
													exit(esp_233->t0000);
												}
											}
											else
											{
												esp_233->t000C = esp_233->t0144;
												esp_233->t0008 = esp_233->t0148;
												esp_233->t0004 = (char *) &esp_233->t0148 + 0x00001004;
												esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
												uninstall(gs_238, dwArg00, dwArg04, dwArg08, dwArg0C);
												esp_233->t0000.u0 = 0x00;
												exit(esp_233->t0000);
											}
										}
										else
										{
											Eq_120 ecx_497 = esp_233->t011C;
											Eq_120 edx_498 = esp_233->t0120;
											Eq_120 eax_499 = esp_233->t0124;
											esp_233->t0018 = esp_233->t0144;
											esp_233->t0014 = ecx_497;
											esp_233->t0010 = edx_498;
											esp_233->t000C = eax_499;
											esp_233->t0008 = (char *) &esp_233->t0148 + 0x00001004;
											esp_233->t0004 = esp_233->t0148;
											esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
											source_install(gs_238, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
											esp_233->t0000.u0 = 0x00;
											exit(esp_233->t0000);
										}
									}
									else
									{
										esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
										source_clean(gs_238, dwArg00);
										esp_233->t0000.u0 = 0x00;
										exit(esp_233->t0000);
									}
								}
								else
								{
									esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
									show_license(gs_238, dwArg00);
									esp_233->t0000.u0 = 0x00;
									exit(esp_233->t0000);
								}
							}
							else
							{
								esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
								show_details(gs_238, dwArg00);
								esp_233->t0000.u0 = 0x00;
								exit(esp_233->t0000);
							}
						}
						else
						{
							Eq_120 ecx_414 = esp_233->t011C;
							Eq_120 edx_415 = esp_233->t0120;
							Eq_120 eax_416 = esp_233->t0124;
							esp_233->t001C = (char *) &esp_233->t0148 + 0x00002004;
							esp_233->t0018 = (char *) &esp_233->t0148 + 2052;
							esp_233->t0014 = (char *) &esp_233->t0148 + 0x00001004;
							esp_233->t0010 = ecx_414;
							esp_233->t000C = edx_415;
							esp_233->t0008 = eax_416;
							esp_233->t0004 = (char *) &esp_233->t0148 + 0x00001804;
							esp_233->t0000 = (char *) &esp_233->t0148 + 10244;
							query_extension(gs_238, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C);
							esp_233->t0000.u0 = 0x00;
							exit(esp_233->t0000);
						}
					}
					else
					{
						if (dwLoc381C_1044 == 0x00)
						{
							Eq_120 eax_334 = getenv(0x08057AB3);
							dwLoc381C_1044 = eax_334;
							if (eax_334 == 0x00)
								print_error(gs_238, ~0x00, 0x08057ABC);
						}
						if (globals->dw80632A0 != 0x00)
							fprintf(globals->t8059260, 0x08057AFF, dwLoc381C_1044);
						list_extensions(gs_238, dwLoc381C_1044);
						exit(0x00);
					}
				}
				else
				{
					if (dwLoc381C_1044 == 0x00)
					{
						Eq_120 eax_301 = getenv(0x08057AB3);
						dwLoc381C_1044 = eax_301;
						if (eax_301 == 0x00)
							print_error(gs_238, ~0x00, 0x08057ABC);
					}
					if (globals->dw80632A0 != 0x00)
						fprintf(globals->t8059260, 0x08057AFF, dwLoc381C_1044);
					restore(gs_238, dwLoc381C_1044, dwLoc3820);
					exit(0x00);
				}
			}
			else
			{
				show_version();
				exit(0x00);
			}
		}
		else
		{
			show_help();
			exit(0x00);
		}
	}
	else
	{
		show_help();
		exit(0x00);
	}
}

// 080546E0: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 080546F0: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	struct Eq_11076 * ebx_16 = __i686.get_pc_thunk.bx(dwLoc14);
	_init();
	if (&ebx_16->ptr4815 - &ebx_16->ptr4815 >> 0x02 != 0x00)
	{
		do
		{
			word32 esp_60;
			word32 ebp_61;
			uint32 edi_62;
			uint32 esi_63;
			word32 ebx_64;
			byte SCZO_65;
			word32 eax_66;
			byte SZO_67;
			byte C_68;
			byte Z_69;
			ebx_16->ptr4815();
		} while (esi_63 + 0x01 < edi_62);
	}
}

// 0805474A: Register word32 __i686.get_pc_thunk.bx(Stack word32 dwArg00)
word32 __i686.get_pc_thunk.bx(word32 dwArg00)
{
	return dwArg00;
}

// 08054750: void atexit(Stack word32 dwArg04)
void atexit(word32 dwArg04)
{
	word32 esp_24;
	word32 ebp_25;
	word32 ebx_26;
	byte SCZO_27;
	word32 eax_28;
	byte SZO_29;
	byte C_30;
	byte Z_31;
	!__cxa_atexit();
}

// 08054790: Register word32 stat(Stack Eq_120 dwArg04, Stack ptr32 dwArg08)
word32 stat(Eq_120 dwArg04, ptr32 dwArg08)
{
	__i686.get_pc_thunk.bx(dwLoc18);
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	!__xstat();
	return eax_26;
}

// 080547D0: void __do_global_ctors_aux()
void __do_global_ctors_aux()
{
	<anonymous> * eax_11 = globals->ptr8058F10;
	if (eax_11 != (<anonymous> *) ~0x00)
	{
		do
		{
			word32 esp_26;
			word32 ebp_27;
			word32 * ebx_28;
			byte SCZO_29;
			word32 eax_30;
			byte Z_31;
			eax_11();
		} while (*ebx_28 != ~0x00);
	}
}

// 080547FC: void _fini(Register word32 esi)
void _fini(word32 esi)
{
	__do_global_dtors_aux(esi);
}

