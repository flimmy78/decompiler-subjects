// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08048714: Register ptr32 fn08048714(Register out ptr32 ediOut)
ptr32 fn08048714(ptr32 & ediOut)
{
	ptr32 esp_112 = fp - 0x20;
	cu16 * esi_27 = &globals->w804A6B8;
	word16 * edi_28 = &globals->w804A6A0;
	word32 ecx_29 = 0x3C;
	do
	{
		*edi_28 = *esi_27 >> 0x01;
		esi_27 = esi_27 - 0x02;
		edi_28 = edi_28 - 0x02;
		ecx_29 = ecx_29 - 0x01;
	} while (ecx_29 != 0x00);
	struct Eq_30 * edi_42 = globals->a804AB70;
	ui32 ebx_105 = 0x00;
	word32 ecx_107 = 0x00010000;
	do
	{
		word32 eax_137 = 0x7FFF;
		if (((byte) (uint32) ((int64) (ebx_105 * 0x02) /u 0xA8) & 0x01) != 0x00)
			eax_137 = -0x7FFF;
		edi_42->dw0000 = eax_137;
		edi_42 = edi_42 + 0x01;
		edi_42[0x0001FFFF] = (struct Eq_30) ((uint32) ((int64) ((uint32) ((int64) ebx_105 % 0xA8) << 0x10) /u 0xA8) - 0x8000);
		edi_42[0x0002FFFF] = (struct Eq_30) ((fn0804890C() & 0xFFFF) - 0x8000);
		real64 rLoc1_96 = globals->r804A71E;
		rLoc2 = sin(rLoc2) * globals->r804A726;
		globals->dw804A712 = (int32) rLoc2;
		globals->r804A71E = rLoc1_96 + globals->r804A716;
		edi_42[0x0000FFFF] = (struct Eq_30) globals->dw804A712;
		ebx_105 = ebx_105 + 0x01;
		ecx_107 = ecx_107 - 0x01;
	} while (ecx_107 != 0x00);
	struct Eq_111 * ebp_108 = &globals->t804A200;
	word32 ecx_109 = 0x09;
	do
	{
		*(esp_112 - 0x04) = ecx_109;
		struct Eq_120 * esp_115 = fn080487CB(ebp_108);
		word32 ecx_118 = esp_115->dw0000;
		ebp_108 = &ebp_108->dw001C + 0x01;
		esp_112 = &esp_115->dw0004;
		ecx_109 = ecx_118 - 0x01;
	} while (ecx_118 != 0x01);
	word32 edi_121;
	*ediOut = esp_115->dw0004;
	return &esp_115->dw0004 + 0x08;
}

// 080487CB: Register ptr32 fn080487CB(Register (ptr Eq_111) ebp)
ptr32 fn080487CB(Eq_111 * ebp)
{
	globals->dw804AB40 = 0x00;
	globals->dw804AB44 = 0x00;
	globals->dw804AB48 = 0x00;
	globals->dw804AB4C = 0x00;
	globals->dw804AB50 = 0x00;
	globals->dw804AB60 = 0x00;
	globals->dw804AB64 = 0x00010000;
	globals->dw804AB68 = (int32) ((int64) (ebp->dw001C << 0x10) / 0x00029040);
	word32 eax_24 = ebp->dw0018;
	if (eax_24 != 0x00)
	{
		Eq_185 edx_eax_67 = (int64) eax_24;
		globals->dw804AB40 = (uint32) (edx_eax_67 /u 0x67);
		globals->dw804AB44 = (word32) ((uint32) (edx_eax_67 % 0x67) * 41698711);
	}
	else
		globals->dw804AB48 = 0x2A;
	Eq_200 ecx_37 = ebp->t0008;
	int32 (* esi_35)[] = (ebp->dw0004 << 0x12) + 0x0804AB70;
	word32 * edi_43 = fn0804888C((uint32) (0x00200000 /u ecx_37), ecx_37, esi_35, (ebp->dw0000 << 0x12) + 0x082CAB70);
	globals->t804AB54 = -globals->t804AB54;
	word32 * edi_55 = fn0804888C(0x00, ebp->t0010, esi_35, fn08048891(ebp->t000C, esi_35, edi_43));
	Eq_200 ecx_56 = ebp->t0014;
	fn0804888C(-(int32) ((int64) globals->dw804AB50 / ecx_56), ecx_56, esi_35, edi_55);
	return fp + 0x04;
}

// 0804888C: Register (ptr word32) fn0804888C(Register Eq_215 eax, Register Eq_200 ecx, Register (ptr (arr int32)) esi, Register (ptr word32) edi)
word32 * fn0804888C(Eq_215 eax, Eq_200 ecx, int32 * esi[], word32 * edi)
{
	globals->t804AB54 = eax;
	return fn08048891(ecx, esi, edi);
}

// 08048891: Register (ptr word32) fn08048891(Register Eq_200 ecx, Register (arr int32) esi, Register (ptr word32) edi)
word32 * fn08048891(Eq_200 ecx, int32 esi[], word32 * edi)
{
	do
	{
		if (ecx == 0x00)
			return edi;
		globals->dw804AB60 = globals->dw804AB60 + globals->dw804AB64;
		globals->dw804AB64 = globals->dw804AB64 + globals->dw804AB68;
		*edi = (word32) (((word32) ((globals->dw804AB50 >> 0x0A) *s esi[globals->dw804AB60 >> 0x10]) >> 11) *s ((globals->a808AB70)[(globals->dw804AB48 & 0xFFFF) * 0x04] >> 0x04)) >> 0x0C;
		globals->dw804AB50 = (word32) globals->t804AB54 + globals->dw804AB50;
		uint32 v17_60 = globals->dw804AB4C + globals->dw804AB44;
		globals->dw804AB4C = v17_60;
		globals->dw804AB48 = (ui32) ((byte) (v17_60 < 0x00) + (globals->dw804AB48 + globals->dw804AB40));
		edi = edi + 0x01;
		ecx = ecx - 0x01;
	} while (ecx != 0x00);
	return edi;
}

// 0804890C: Register word32 fn0804890C()
word32 fn0804890C()
{
	word32 eax_8 = __ror(globals->dw804A626 + 4078404302 ^ 4078404302, 0x01);
	globals->dw804A626 = eax_8;
	return eax_8;
}

// 08048930: void fn08048930()
void fn08048930()
{
	word32 edi_2;
	*(fn08048714(out edi_2) - 0x04) = 0x31;
	ptr32 esp_11;
	word32 eax_12;
	byte SZO_13;
	byte C_14;
	byte al_15;
	word16 ax_16;
	byte SCZO_17;
	byte Z_18;
	word32 ebx_19;
	word32 esi_20;
	word16 cx_21;
	word32 edi_22;
	word32 ecx_23;
	word32 edx_24;
	byte S_25;
	byte SO_26;
	!SDL_Init();
	*(esp_11 - 0x04) = 0x00;
	*(esp_11 - 0x08) = 0x0804A734;
	ptr32 esp_35;
	word32 eax_36;
	byte SZO_37;
	byte C_38;
	byte al_39;
	word16 ax_40;
	byte SCZO_41;
	byte Z_42;
	word32 ebx_43;
	word32 esi_44;
	word16 cx_45;
	word32 edi_46;
	word32 ecx_47;
	word32 edx_48;
	byte S_49;
	byte SO_50;
	!SDL_OpenAudio();
	*(esp_35 - 0x04) = 0x80000003;
	*(esp_35 - 0x08) = 0x20;
	*(esp_35 - 0x0C) = 0x01E0;
	*(esp_35 - 0x10) = 0x0280;
	ptr32 esp_69;
	word32 eax_70;
	byte SZO_71;
	byte C_72;
	byte al_73;
	word16 ax_74;
	byte SCZO_75;
	byte Z_76;
	word32 ebx_77;
	word32 esi_78;
	word16 cx_79;
	word32 edi_80;
	word32 ecx_81;
	word32 edx_82;
	byte S_83;
	byte SO_84;
	!SDL_SetVideoMode();
	fn080491C0();
	*(esp_69 - 0x04) = 0x00;
	word32 esp_92;
	word32 eax_93;
	byte SZO_94;
	byte C_95;
	byte al_96;
	word16 ax_97;
	byte SCZO_98;
	byte Z_99;
	word32 ebx_100;
	word32 esi_101;
	word16 cx_102;
	word32 edi_103;
	word32 ecx_104;
	word32 edx_105;
	byte S_106;
	byte SO_107;
	!SDL_ShowCursor();
	word32 esp_108;
	word32 eax_109;
	byte SZO_110;
	byte C_111;
	byte al_112;
	word16 ax_113;
	byte SCZO_114;
	byte Z_115;
	word32 ebx_116;
	word32 esi_117;
	word16 cx_118;
	word32 edi_119;
	word32 ecx_120;
	word32 edx_121;
	byte S_122;
	byte SO_123;
	!SDL_PauseAudio();
	word32 esp_124;
	word32 eax_125;
	byte SZO_126;
	byte C_127;
	byte al_128;
	word16 ax_129;
	byte SCZO_130;
	byte Z_131;
	word32 ebx_132;
	word32 esi_133;
	word16 cx_134;
	word32 edi_135;
	word32 ecx_136;
	word32 edx_137;
	byte S_138;
	byte SO_139;
	!SDL_GetTicks();
	globals->dw87CABE8 = 0x00;
	do
	{
		ptr32 esp_141;
		word32 eax_142;
		byte SZO_143;
		byte C_144;
		byte al_145;
		word16 ax_146;
		byte SCZO_147;
		byte Z_148;
		word32 ebx_149;
		word32 esi_150;
		word16 cx_151;
		word32 edi_152;
		word32 ecx_153;
		word32 edx_154;
		byte S_155;
		byte SO_156;
		!SDL_GetTicks();
		*(esp_141 - 0x04) = eax_142 - globals->dw87CABE8;
		fn08048E99(dwArg00);
		ptr32 esp_164;
		word32 eax_165;
		byte SZO_166;
		byte C_167;
		byte al_168;
		word16 ax_169;
		byte SCZO_170;
		byte Z_171;
		word32 ebx_172;
		word32 esi_173;
		word16 cx_174;
		word32 edi_175;
		word32 ecx_176;
		word32 edx_177;
		byte S_178;
		byte SO_179;
		!SDL_GL_SwapBuffers();
		if (globals->b804A74C != 0x00)
			break;
		*(esp_164 - 0x04) = 142388204;
		word32 esp_252;
		word32 eax_253;
		byte SZO_254;
		byte C_255;
		byte al_256;
		word16 ax_257;
		byte SCZO_258;
		byte Z_259;
		word32 ebx_260;
		word32 esi_261;
		word16 cx_262;
		word32 edi_263;
		word32 ecx_264;
		word32 edx_265;
		byte S_266;
		byte SO_267;
		!SDL_PollEvent();
	} while (globals->b87CABEC != 0x02);
	ptr32 esp_182;
	word32 eax_183;
	byte SZO_184;
	byte C_185;
	byte al_186;
	word16 ax_187;
	byte SCZO_188;
	byte Z_189;
	word32 ebx_190;
	word32 esi_191;
	word16 cx_192;
	word16 edi_193[];
	word32 edx_195;
	byte S_196;
	byte SO_197;
	word32 ecx_194;
	!SDL_Quit();
	__syscall(0x80);
	int32 esi_201 = 0x00;
	int32 ebx_202 = 0x00;
	do
	{
		word16 cx_211 = edi_193[ebx_202];
		ecx_194 = DPB(ecx_194, cx_211, 0);
		*(esp_182 - 0x04) = ecx_194;
		globals->a87D55E0[ebx_202 * 0x04] = (real32) ((real64) *(esp_182 - 0x04) * globals->t804A8C8);
		int32 edx_219 = (int32) cx_211;
		if (edx_219 < 0x00)
			edx_219 = -edx_219;
		if (edx_219 >= esi_201)
			esi_201 = edx_219;
		ebx_202 = ebx_202 + 0x01;
	} while (ebx_202 <= 0x03FF);
	*(esp_182 - 0x04) = esi_201;
	globals->t87D55C0 = (real32) ((real64) *(esp_182 - 0x04) * globals->t804A8CC + (real64) globals->r804A8D0 * globals->t87D55C0);
	if (globals->dw87D55C4 > 0x2F)
		globals->t87D55C0.u0 = 0x00;
}

// 08048A31: void fn08048A31(Stack Eq_687 rArg04, Stack (ptr Eq_688) dwArg08, Stack (arr real32) dwArg0C)
void fn08048A31(Eq_687 rArg04, Eq_688 * dwArg08, real32 dwArg0C[])
{
	int32 eax_107 = 0x00;
	do
	{
		real64 rLoc1_18 = (real64) rArg04;
		real64 rLoc3_23 = (real64) rArg04;
		real64 rLoc1_20 = (rLoc1_18 + rLoc1_18) * rArg04;
		real64 rLoc3_24 = rLoc3_23 * rLoc3_23;
		Eq_701 rLoc6_68 = globals->t87D4848 + 1.0;
		real32 rLoc08_25 = (real32) rLoc3_24;
		real64 rLoc4_59 = 1.0 - globals->t87D4848;
		Eq_713 rLoc3_57 = globals->t87D484C + 1.0;
		real64 rLoc7_70 = rLoc6_68 * rLoc6_68;
		real32 rLoc0C_55 = (real32) (1.0 - globals->t87D4844);
		real64 rLoc2_22 = (real64) rArg04 * rLoc1_20;
		real64 rLoc2_80 = ((real64) rLoc08_25 * rArg04 - rLoc1_20 + rArg04) * ((rLoc7_70 + (rLoc4_59 * rLoc3_57) * ((real64) ((dwArg08->a000C))[eax_107].t0000 - dwArg08[(eax_107 * 0x04) / 0x0024])) * (real64) rLoc0C_55);
		rLoc5 = (real64) rLoc0C_55;
		dwArg0C[eax_107] = (real32) ((real64) globals->t804A8DC * rLoc2_80 * (((rArg04 - 1.0) * (real64) rLoc08_25) * (((((real64) ((dwArg08->a0018))[eax_107].t0000 - ((dwArg08->a000C))[eax_107].t0000) * rLoc7_70) * (rLoc6_68 * rLoc3_57) + ((1.0 - globals->t87D484C) * (real32) rLoc4_59) * ((real64) (dwArg08->a0024)[eax_107] - ((dwArg08->a0018))[eax_107].t0000)) * rLoc5)) + (rLoc2_80 + ((rLoc2_22 + 1.0) * ((dwArg08->a000C))[eax_107].t0000 + ((rLoc2_22 - rLoc3_24 * globals->t804A8D4) + rLoc5 * globals->t804A8D8) * ((dwArg08->a0018))[eax_107].t0000)));
		eax_107 = eax_107 + 0x01;
	} while (eax_107 <= 0x01);
}

// 08048B1E: void fn08048B1E(Stack real32 rArg04)
void fn08048B1E(real32 rArg04)
{
	int32 esi_108 = 0x00;
	uint32 dwLoc14_113 = 0x00;
	do
	{
		int32 edi_109 = 0x00;
		do
		{
			ui32 ebx_59 = dwLoc14_113 * 0x03;
			real64 rLoc1_69 = (real64) globals->r804A8E0 * (real64) edi_109;
			fn08048A31((real32) rLoc1_69, (ebx_59 << 0x02) + 0x0804A800, globals->a87D4864);
			Eq_687 rLoc18_70 = (real32) rLoc1_69;
			fn08048A31(rLoc18_70, (ebx_59 << 0x02) + 0x0804A860, globals->a87D4870);
			int32 edx_82 = 0x00;
			do
			{
				Eq_836 rLoc2_152 = (real64) rArg04 * (globals->a87D4870)[edx_82];
				globals->a87D48A0[(esi_108 * 0x03 + edx_82) * 0x04] = (real32) ((globals->r804A8E4 - (real64) rArg04) * (globals->a87D4864)[edx_82 * 0x04] + rLoc2_152);
				edx_82 = edx_82 + 0x01;
			} while (edx_82 <= 0x02);
			globals->a87D48A8[esi_108 * 0x03 * 0x04] = (real32) (sin((real64) globals->r804A8E8 * (real64) esi_108) * globals->t804A8EC);
			esi_108 = esi_108 + 0x01;
			edi_109 = edi_109 + 0x01;
		} while (edi_109 <= 0x0F);
		uint32 v15_112 = dwLoc14_113 + 0x01;
		dwLoc14_113 = v15_112;
	} while (v15_112 <= 0x03);
	int32 dwLoc14_116 = 0x00;
	if (0x00 < esi_108 - 0x01)
	{
		do
		{
			ui32 ebx_155 = dwLoc14_116 * 0x03;
			globals->r87D487C = (real32) ((real64) globals->a87D48B4[ebx_155 * 0x04] - (globals->a87D48A8)[ebx_155 * 0x04]);
			globals->r87D4880 = (real32) ((real64) globals->a87D48A0[ebx_155 * 0x04] - (globals->a87D48AC)[ebx_155]);
			globals->r87D4884 = (real32) ((real64) globals->a87D48B0[ebx_155 * 0x04] - (globals->a87D48A4)[ebx_155]);
			real64 rLoc4_170 = (real64) globals->r804A8F0;
			real64 rLoc3_169 = (real64) globals->r87D55C8;
			real64 rLoc4_178 = sin(rLoc2_152 * globals->t804A8DC + rLoc4_170 * rLoc4_170) * globals->t87D55C0;
			real64 rLoc5_180 = rLoc4_170 * globals->t804A8F4;
			globals->a87D48A4[ebx_155] = (struct Eq_1947) (real32) (rLoc4_170 * (rLoc5_180 * rLoc4_178) + (globals->a87D48A4)[ebx_155]);
			real64 rLoc2_205 = rLoc5_180 + 1.0 + (real64) dwLoc14_116;
			globals->a87D48A8[ebx_155 * 0x04] = (real32) (sin((rLoc5_180 + 1.0) * globals->t804A8F8 + rLoc3_169 * globals->t804A8FC) * globals->t87D55C0 * rLoc2_205 * globals->t804A900 + (globals->a87D48A8)[ebx_155 * 0x04]);
			word32 esp_214;
			word32 ebp_215;
			word32 edi_216;
			word32 esi_217;
			word32 ebx_218;
			byte SCZO_219;
			byte SZO_220;
			byte C_221;
			word32 eax_222;
			word32 edx_223;
			byte CZ_224;
			byte SO_225;
			word32 ecx_226;
			globals->ptr87D558C();
			word32 esp_228;
			word32 ebp_229;
			word32 edi_230;
			word32 esi_231;
			word32 ebx_232;
			byte SCZO_233;
			byte SZO_234;
			byte C_235;
			word32 eax_236;
			word32 edx_237;
			byte CZ_238;
			byte SO_239;
			word32 ecx_240;
			globals->ptr87D558C();
			word32 esp_242;
			word32 ebp_243;
			word32 edi_244;
			word32 esi_245;
			word32 ebx_246;
			byte SCZO_247;
			byte SZO_248;
			byte C_249;
			word32 eax_250;
			word32 edx_251;
			byte CZ_252;
			byte SO_253;
			word32 ecx_254;
			globals->ptr87D558C();
			word32 esp_264;
			word32 ebp_265;
			word32 edi_266;
			word32 esi_267;
			word32 ebx_268;
			byte SCZO_269;
			byte SZO_270;
			byte C_271;
			word32 eax_272;
			word32 edx_273;
			byte CZ_274;
			byte SO_275;
			word32 ecx_276;
			globals->ptr87D5580();
			word32 esp_278;
			word32 ebp_279;
			word32 edi_280;
			word32 esi_281;
			word32 ebx_282;
			byte SCZO_283;
			byte SZO_284;
			byte C_285;
			word32 eax_286;
			word32 edx_287;
			byte CZ_288;
			byte SO_289;
			word32 ecx_290;
			globals->ptr87D5598();
			word32 esp_292;
			word32 ebp_293;
			word32 edi_294;
			word32 esi_295;
			word32 ebx_296;
			byte SCZO_297;
			byte SZO_298;
			byte C_299;
			word32 eax_300;
			word32 edx_301;
			byte CZ_302;
			byte SO_303;
			word32 ecx_304;
			globals->ptr87D5564();
			word32 esp_321;
			word32 ebp_322;
			word32 edi_323;
			word32 esi_324;
			word32 ebx_325;
			byte SCZO_326;
			byte SZO_327;
			byte C_328;
			word32 eax_329;
			word32 edx_330;
			byte CZ_331;
			byte SO_332;
			word32 ecx_333;
			globals->ptr87D556C();
			word32 esp_350;
			word32 ebp_351;
			word32 edi_352;
			word32 esi_353;
			word32 ebx_354;
			byte SCZO_355;
			byte SZO_356;
			byte C_357;
			word32 eax_358;
			word32 edx_359;
			byte CZ_360;
			byte SO_361;
			word32 ecx_362;
			globals->ptr87D556C();
			word32 esp_376;
			word32 ebp_377;
			word32 edi_378;
			word32 esi_379;
			word32 ebx_380;
			byte SCZO_381;
			byte SZO_382;
			byte C_383;
			word32 eax_384;
			word32 edx_385;
			byte CZ_386;
			byte SO_387;
			word32 ecx_388;
			globals->ptr87D556C();
			word32 esp_402;
			word32 ebp_403;
			word32 edi_404;
			word32 esi_405;
			word32 ebx_406;
			byte SCZO_407;
			byte SZO_408;
			byte C_409;
			word32 eax_410;
			word32 edx_411;
			byte CZ_412;
			byte SO_413;
			word32 ecx_414;
			globals->ptr87D556C();
			word32 esp_415;
			word32 ebp_416;
			word32 edi_417;
			word32 esi_418;
			word32 ebx_419;
			byte SCZO_420;
			byte SZO_421;
			byte C_422;
			word32 eax_423;
			word32 edx_424;
			byte CZ_425;
			byte SO_426;
			word32 ecx_427;
			globals->ptr87D5568();
			word32 esp_437;
			word32 ebp_438;
			word32 edi_439;
			word32 esi_440;
			word32 ebx_441;
			byte SCZO_442;
			byte SZO_443;
			byte C_444;
			word32 eax_445;
			word32 edx_446;
			byte CZ_447;
			byte SO_448;
			word32 ecx_449;
			globals->ptr87D5580();
			word32 esp_451;
			word32 ebp_452;
			word32 edi_453;
			word32 esi_454;
			word32 ebx_455;
			byte SCZO_456;
			byte SZO_457;
			byte C_458;
			word32 eax_459;
			word32 edx_460;
			byte CZ_461;
			byte SO_462;
			word32 ecx_463;
			globals->ptr87D5590();
			word32 esp_465;
			word32 ebp_466;
			word32 edi_467;
			word32 esi_468;
			word32 ebx_469;
			byte SCZO_470;
			byte SZO_471;
			byte C_472;
			word32 eax_473;
			word32 edx_474;
			byte CZ_475;
			byte SO_476;
			word32 ecx_477;
			globals->ptr87D5564();
			word32 esp_494;
			word32 ebp_495;
			word32 edi_496;
			word32 esi_497;
			word32 ebx_498;
			byte SCZO_499;
			byte SZO_500;
			byte C_501;
			word32 eax_502;
			word32 edx_503;
			byte CZ_504;
			byte SO_505;
			word32 ecx_506;
			globals->ptr87D556C();
			word32 esp_523;
			word32 ebp_524;
			word32 edi_525;
			word32 esi_526;
			word32 ebx_527;
			byte SCZO_528;
			byte SZO_529;
			byte C_530;
			word32 eax_531;
			word32 edx_532;
			byte CZ_533;
			byte SO_534;
			word32 ecx_535;
			globals->ptr87D556C();
			word32 esp_549;
			word32 ebp_550;
			word32 edi_551;
			word32 esi_552;
			word32 ebx_553;
			byte SCZO_554;
			byte SZO_555;
			byte C_556;
			word32 eax_557;
			word32 edx_558;
			byte CZ_559;
			byte SO_560;
			word32 ecx_561;
			globals->ptr87D556C();
			word32 esp_575;
			word32 ebp_576;
			word32 edi_577;
			word32 esi_578;
			word32 ebx_579;
			byte SCZO_580;
			byte SZO_581;
			byte C_582;
			word32 eax_583;
			word32 edx_584;
			byte CZ_585;
			byte SO_586;
			word32 ecx_587;
			globals->ptr87D556C();
			word32 esp_588;
			word32 ebp_589;
			word32 edi_590;
			int32 esi_591;
			word32 ebx_592;
			byte SCZO_593;
			byte SZO_594;
			byte C_595;
			word32 eax_596;
			word32 edx_597;
			byte CZ_598;
			byte SO_599;
			word32 ecx_600;
			globals->ptr87D5568();
			int32 v40_602 = dwLoc14_116 + 0x01;
			rLoc2_152 = rLoc2_205 * globals->t804A904 * globals->t804A908;
			dwLoc14_116 = v40_602;
		} while (v40_602 < esi_591 - 0x01);
	}
}

// 08048E99: void fn08048E99(Stack word32 dwArg04)
void fn08048E99(word32 dwArg04)
{
	globals->r87D55C8 = (real32) (real64) dwArg04;
	real64 rLoc1_26 = ((real64) globals->r804A914 * (real64) globals->dw804A72E - globals->t804A918) * globals->t804A91C;
	uint16 wLoc12_27 = __fstcw();
	uint16 ax_30 = DPB(wLoc12_27, 0x0C, 8);
	__fldcw(ax_30);
	globals->dw87D55C4 = (int32) rLoc1_26;
	__fldcw(wLoc12_27);
	if (globals->dw87D55C4 > 0x3A)
		globals->b804A74C = 0x01;
	real64 rLoc1_38 = (real64) globals->r804A920 * (real64) dwArg04;
	__fldcw(ax_30);
	__fldcw(wLoc12_27);
	int32 dwLoc18_40 = (int32) rLoc1_38;
	if (dwLoc18_40 != globals->dw804A8B4)
	{
		globals->dw804A8B4 = dwLoc18_40;
		struct Eq_1392 * ebx_110 = null;
		do
		{
			int32 eax_115 = (int32) ebx_684->a804A769[ebx_684].b0000;
			if (globals->dw87D55C4 < eax_115)
			{
				struct Eq_1399 * ecx_660 = (struct Eq_1399 *) 0x01;
				do
				{
					globals->a87D4840[ecx_660 * 0x04] = (real32) ((real64) globals->r804A924 * (real64) (globals->a87D4840)[ecx_660 * 0x04] + (real64) ((int16) ((ecx_660->a804A760))[ebx_684].b0000) * globals->t804A928);
					ecx_660 = (struct Eq_1399 *) ((char *) ecx_660 + 0x01);
				} while (ecx_660 <= (struct Eq_1399 *) 0x09);
				break;
			}
			ebx_110 = (struct Eq_1392 *) ((char *) ebx_684 + 0x01);
			struct Eq_1392 * ebx_684 = ebx_110;
		} while (ebx_110 <= (struct Eq_1392 *) 0x0F);
		word32 esp_129;
		word32 ebp_130;
		word32 edi_131;
		word32 esi_132;
		word32 ebx_133;
		byte SCZO_134;
		word16 ax_135;
		byte ah_136;
		byte SZO_137;
		word32 eax_138;
		byte Z_139;
		byte C_140;
		byte SO_141;
		word32 ecx_142;
		word32 edx_143;
		byte CZ_144;
		globals->ptr87D5578();
		word32 esp_146;
		word32 ebp_147;
		word32 edi_148;
		word32 esi_149;
		word32 ebx_150;
		byte SCZO_151;
		word16 ax_152;
		byte ah_153;
		byte SZO_154;
		word32 eax_155;
		byte Z_156;
		byte C_157;
		byte SO_158;
		word32 ecx_159;
		word32 edx_160;
		byte CZ_161;
		globals->ptr87D557C();
		word32 esp_163;
		word32 ebp_164;
		word32 edi_165;
		word32 esi_166;
		word32 ebx_167;
		byte SCZO_168;
		word16 ax_169;
		byte ah_170;
		byte SZO_171;
		word32 eax_172;
		byte Z_173;
		byte C_174;
		byte SO_175;
		word32 ecx_176;
		word32 edx_177;
		byte CZ_178;
		globals->ptr87D5570();
		word32 esp_179;
		word32 ebp_180;
		word32 edi_181;
		word32 esi_182;
		word32 ebx_183;
		byte SCZO_184;
		word16 ax_185;
		byte ah_186;
		byte SZO_187;
		word32 eax_188;
		byte Z_189;
		byte C_190;
		byte SO_191;
		word32 ecx_192;
		word32 edx_193;
		byte CZ_194;
		globals->ptr87D5574();
		word32 esp_221;
		word32 ebp_222;
		word32 edi_223;
		word32 esi_224;
		word32 ebx_225;
		byte SCZO_226;
		word16 ax_227;
		byte ah_228;
		byte SZO_229;
		word32 eax_230;
		byte Z_231;
		byte C_232;
		byte SO_233;
		word32 ecx_234;
		word32 edx_235;
		byte CZ_236;
		globals->ptr87D55A0();
		word32 esp_241;
		word32 ebp_242;
		word32 edi_243;
		word32 esi_244;
		word32 ebx_245;
		byte SCZO_246;
		word16 ax_247;
		byte ah_248;
		byte SZO_249;
		word32 eax_250;
		byte Z_251;
		byte C_252;
		byte SO_253;
		word32 ecx_254;
		word32 edx_255;
		byte CZ_256;
		globals->ptr87D5570();
		word32 esp_257;
		word32 ebp_258;
		word32 edi_259;
		word32 esi_260;
		word32 ebx_261;
		byte SCZO_262;
		word16 ax_263;
		byte ah_264;
		byte SZO_265;
		word32 eax_266;
		byte Z_267;
		byte C_268;
		byte SO_269;
		word32 ecx_270;
		word32 edx_271;
		byte CZ_272;
		globals->ptr87D5574();
		word32 esp_283;
		word32 ebp_284;
		word32 edi_285;
		word32 esi_286;
		word32 ebx_287;
		byte SCZO_288;
		word16 ax_289;
		byte ah_290;
		byte SZO_291;
		word32 eax_292;
		byte Z_293;
		byte C_294;
		byte SO_295;
		word32 ecx_296;
		word32 edx_297;
		byte CZ_298;
		globals->ptr87D5588();
		word32 esp_311;
		word32 ebp_312;
		word32 edi_313;
		word32 esi_314;
		word32 ebx_315;
		byte SCZO_316;
		word16 ax_317;
		byte ah_318;
		byte SZO_319;
		word32 eax_320;
		byte Z_321;
		byte C_322;
		byte SO_323;
		word32 ecx_324;
		word32 edx_325;
		byte CZ_326;
		globals->ptr87D5584();
		globals->t87D5560 = (real32) ((real64) globals->r804A930 * globals->t87D485C + globals->t87D5560);
		word32 esp_341;
		word32 ebp_342;
		word32 edi_343;
		word32 esi_344;
		word32 ebx_345;
		byte SCZO_346;
		word16 ax_347;
		byte ah_348;
		byte SZO_349;
		word32 eax_350;
		byte Z_351;
		byte C_352;
		byte SO_353;
		word32 ecx_354;
		word32 edx_355;
		byte CZ_356;
		globals->ptr87D5584();
		if (globals->dw87D55C4 <= 0x2F)
		{
			word32 esp_489;
			word32 ebp_490;
			word32 edi_491;
			word32 esi_492;
			word32 ebx_493;
			byte SCZO_494;
			word16 ax_495;
			byte ah_496;
			byte SZO_497;
			word32 eax_498;
			byte Z_499;
			byte C_500;
			byte SO_501;
			word32 ecx_502;
			word32 edx_503;
			byte CZ_504;
			globals->ptr87D5590();
			word32 esp_506;
			word32 ebp_507;
			word32 edi_508;
			word32 esi_509;
			word32 ebx_510;
			byte SCZO_511;
			word16 ax_512;
			byte ah_513;
			byte SZO_514;
			word32 eax_515;
			byte Z_516;
			byte C_517;
			byte SO_518;
			word32 ecx_519;
			word32 edx_520;
			byte CZ_521;
			globals->ptr87D559C();
			do
			{
				word32 esp_534;
				word32 ebp_535;
				word32 edi_536;
				word32 esi_537;
				word32 ebx_538;
				byte SCZO_539;
				word16 ax_540;
				byte ah_541;
				byte SZO_542;
				word32 eax_543;
				byte Z_544;
				byte C_545;
				byte SO_546;
				word32 ecx_547;
				word32 edx_548;
				byte CZ_549;
				globals->ptr87D5564();
				word32 ebx_550 = 0x00;
				do
				{
					sin((real64) ebx_550 * globals->t804A934);
					word32 esp_566;
					word32 ebp_567;
					word32 edi_568;
					word32 esi_569;
					word32 ebx_570;
					byte SCZO_571;
					word16 ax_572;
					byte ah_573;
					byte SZO_574;
					word32 eax_575;
					byte Z_576;
					byte C_577;
					byte SO_578;
					word32 ecx_579;
					word32 edx_580;
					byte CZ_581;
					globals->ptr87D5580();
					word32 esp_595;
					word32 ebp_596;
					word32 edi_597;
					word32 esi_598;
					int32 ebx_599;
					byte SCZO_600;
					word16 ax_601;
					byte ah_602;
					byte SZO_603;
					word32 eax_604;
					byte Z_605;
					byte C_606;
					byte SO_607;
					word32 ecx_608;
					word32 edx_609;
					byte CZ_610;
					globals->ptr87D556C();
					ebx_550 = ebx_599 + 0x01;
				} while (ebx_599 <= ~0x03FD);
				word32 esp_615;
				word32 ebp_616;
				word32 edi_617;
				word32 esi_618;
				word32 ebx_619;
				byte SCZO_620;
				word16 ax_621;
				byte ah_622;
				byte SZO_623;
				word32 eax_624;
				byte Z_625;
				byte C_626;
				byte SO_627;
				word32 ecx_628;
				word32 edx_629;
				byte CZ_630;
				globals->ptr87D5568();
				word32 esp_640;
				word32 ebp_641;
				word32 edi_642;
				int32 esi_643;
				word32 ebx_644;
				byte SCZO_645;
				word16 ax_646;
				byte ah_647;
				byte SZO_648;
				word32 eax_649;
				byte Z_650;
				byte C_651;
				byte SO_652;
				word32 ecx_653;
				word32 edx_654;
				byte CZ_655;
				globals->ptr87D5584();
			} while (esi_643 <= 0x00);
		}
		word32 esp_371;
		word32 ebp_372;
		word32 edi_373;
		word32 esi_374;
		word32 ebx_375;
		byte SCZO_376;
		word16 ax_377;
		byte ah_378;
		byte SZO_379;
		word32 eax_380;
		byte Z_381;
		byte C_382;
		byte SO_383;
		word32 ecx_384;
		word32 edx_385;
		byte CZ_386;
		globals->ptr87D5594();
		word32 esp_388;
		word32 ebp_389;
		word32 edi_390;
		word32 esi_391;
		word32 ebx_392;
		byte SCZO_393;
		word16 ax_394;
		byte ah_395;
		byte SZO_396;
		word32 eax_397;
		byte Z_398;
		byte C_399;
		byte SO_400;
		word32 ecx_401;
		word32 edx_402;
		byte CZ_403;
		globals->ptr87D558C();
		word32 esp_405;
		word32 ebp_406;
		word32 edi_407;
		word32 esi_408;
		word32 ebx_409;
		byte SCZO_410;
		word16 ax_411;
		byte ah_412;
		byte SZO_413;
		word32 eax_414;
		byte Z_415;
		byte C_416;
		byte SO_417;
		word32 ecx_418;
		word32 edx_419;
		byte CZ_420;
		globals->ptr87D558C();
		word32 esp_430;
		word32 ebp_431;
		word32 edi_432;
		word32 esi_433;
		word32 ebx_434;
		byte SCZO_435;
		word16 ax_436;
		byte ah_437;
		byte SZO_438;
		word32 eax_439;
		byte Z_440;
		byte C_441;
		byte SO_442;
		word32 ecx_443;
		word32 edx_444;
		byte CZ_445;
		globals->ptr87D5584();
		do
		{
			word32 esp_458;
			word32 ebp_459;
			word32 edi_460;
			word32 esi_461;
			int32 ebx_462;
			byte SCZO_463;
			word16 ax_464;
			byte ah_465;
			byte SZO_466;
			word32 eax_467;
			byte Z_468;
			byte C_469;
			byte SO_470;
			word32 ecx_471;
			word32 edx_472;
			byte CZ_473;
			globals->ptr87D5584();
			fn08048B1E((real32) (sin((real64) globals->t804A900 * (real64) edi_460) * globals->t804A8DC + globals->t804A8DC));
		} while (ebx_462 <= ~0x09);
	}
}

// 080491C0: void fn080491C0()
void fn080491C0()
{
	word32 esp_34;
	word32 eax_35;
	word32 ecx_36;
	word32 edx_37;
	word32 ebx_38;
	word32 ebp_39;
	word32 esi_40;
	word32 edi_41;
	byte SZO_42;
	byte C_43;
	byte SCZO_44;
	byte Z_45;
	!dlopen();
	word32 * esi_52 = &globals->dw804A945;
	while (true)
	{
		word32 eax_65 = *esi_52;
		if (eax_65 == 0x00)
			break;
		word32 esp_73;
		word32 eax_74;
		word32 ecx_75;
		word32 edx_76;
		word32 ebx_77;
		word32 ebp_78;
		word32 * edi_80;
		byte SZO_81;
		byte C_82;
		byte SCZO_83;
		byte Z_84;
		!dlsym();
		*edi_80 = eax_74;
	}
}

