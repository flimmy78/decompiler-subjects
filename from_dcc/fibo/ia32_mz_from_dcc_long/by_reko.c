// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0800:010D: void __exit()
void __exit()
{
	struct Eq_32 * ds_3 = seg0800->ptr01C7;
	byte al_4 = __restorezero(ds_3);
	struct Eq_40 Eq_46::* sp_7;
	struct Eq_41 * ds_8;
	struct Eq_42 * cs_9;
	word16 bp_10;
	byte ah_11;
	byte al_12;
	struct Eq_46 * ss_13;
	(cs->*ds_3->ptr0540)();
	msdos_terminate((ss_13->*sp_7).b0004);
}

// 0800:0172: Register byte __restorezero(Register (ptr Eq_32) ds)
byte __restorezero(Eq_32 * ds)
{
	msdos_set_interrupt_vector(0x00, ds->ptr005B);
	msdos_set_interrupt_vector(0x04, ds->ptr005F);
	msdos_set_interrupt_vector(0x05, ds->ptr0063);
	msdos_set_interrupt_vector(0x06, ds->ptr0067);
	return 0x06;
}

// 0800:03B2: void __REALCVT()
void __REALCVT()
{
	word16 sp_4;
	struct Eq_93 * ds_5;
	ds->ptr0544();
}

// 0800:03B6: void __scantod()
void __scantod()
{
	word16 sp_4;
	struct Eq_98 * ds_5;
	ds->ptr0548();
}

// 0800:03BA: void __scanrslt()
void __scanrslt()
{
	word16 sp_4;
	struct Eq_103 * ds_5;
	ds->ptr054C();
}

// 0800:03BE: void __scanpop()
void __scanpop()
{
	word16 sp_4;
	struct Eq_108 * ds_5;
	ds->ptr0550();
}

// 083C:0002: void _main(Register word16 bp, Register Eq_113 ds)
void _main(word16 bp, Eq_113 ds)
{
	word16 si_20;
	word16 di_21;
	uint16 bx_22 = _printf(ds, 0x94, ds, out si_20, out di_21);
	_scanf(bx_22, di_21, ds, 177, ds);
	union Eq_113 Eq_113::* bp_46 = fp - 0x02;
	Eq_113 si_114 = 0x01;
	while (si_114 <= ss->*(bp_46 - 0x04))
	{
		ss->*(fp - 0x0C) = ds;
		(ss->*(fp - 0x0E)).u0 = 0xB4;
		word16 si_71;
		word16 di_72;
		uint16 bx_73 = _printf(ds, wArg00, wArg02, out si_71, out di_72);
		ss->*(fp - 0x0C) = ss;
		ss->*(fp - 0x0E) = bp_46 - 0x02;
		ss->*(fp - 0x10) = ds;
		(ss->*(fp - 0x12)).u0 = 0xC3;
		_scanf(bx_73, di_72, ds, wArg00, wArg02);
		ss->*(fp - 0x0C) = ss->*(bp_46 - 0x02);
		word16 si_94;
		ss->*(fp - 0x0C) = _fib(bp_46, wArg00, out bp_46, out si_94);
		ss->*(fp - 0x0E) = ss->*(bp_46 - 0x02);
		ss->*(fp - 0x10) = ds;
		(ss->*(fp - 0x12)).u0 = 0xC6;
		word16 si_109;
		word16 di_110;
		_printf(ds, wArg00, wArg02, out si_109, out di_110);
		si_114 = si_109 + 0x01;
	}
	(ss->*(fp - 0x0C)).u0 = 0x00;
	_exit(ds, wArg00);
}

// 083C:007C: Register word16 _fib(Register (memptr Eq_113 Eq_113) bp, Stack Eq_120 wArg04, Register out Eq_208 bpOut, Register out ptr16 siOut)
word16 _fib(Eq_113 Eq_113::*bp, Eq_120 wArg04, Eq_208 & bpOut, ptr16 & siOut)
{
	word16 ax_17;
	struct Eq_259 Eq_276::* sp_19 = fp - 0x04;
	if (wArg04 > 0x02)
	{
		union Eq_113 Eq_113::* bp_34;
		word16 si_35;
		ss->*(fp - 0x08) = _fib(fp - 0x02, wArg04 - 0x01, out bp_34, out si_35);
		ss->*(fp - 0x0A) = si_35 + ~0x01;
		sp_19 = fp - 0x08;
		word16 bp_48;
		word16 si_49;
		ax_17 = Mem45[ss:fp - 0x0A + 0x00:word16] + _fib(bp_34, wArg02, out bp_48, out si_49);
	}
	else
		ax_17 = 0x01;
	word16 si_22;
	*siOut = (ss->*sp_19).t0000;
	word16 bp_24;
	*bpOut = (ss->*sp_19).w0002;
	return ax_17;
}

// 084A:000A: void _exit(Register Eq_113 ds, Stack Eq_120 wArg04)
void _exit(Eq_113 ds, Eq_120 wArg04)
{
	while (true)
	{
		ui16 ax_19 = *((word32) ds + 0x0144);
		*((word32) ds + 0x0144) = *((word32) ds + 0x0144) - 0x01;
		if (ax_19 == 0x00)
			break;
		word16 sp_71;
		word16 bp_72;
		struct Eq_326 * ss_73;
		word16 ax_74;
		byte SZO_76;
		byte C_77;
		byte Z_78;
		word16 cx_79;
		word16 bx_80;
		byte SCZO_81;
		SEQ(ds, 0x0554)[Mem21[ds:0x0144:word16] * 0x04]();
	}
	word16 sp_26;
	word16 bp_27;
	struct Eq_343 * ss_28;
	word16 ax_29;
	struct Eq_345 * ds_30;
	byte SZO_31;
	byte C_32;
	byte Z_33;
	word16 cx_34;
	word16 bx_35;
	byte SCZO_36;
	(*((word32) ds + 0x0136))();
	word16 sp_37;
	word16 bp_38;
	struct Eq_356 * ss_39;
	word16 ax_40;
	struct Eq_358 * ds_41;
	byte SZO_42;
	byte C_43;
	byte Z_44;
	word16 cx_45;
	word16 bx_46;
	byte SCZO_47;
	ds_30->ptr013A();
	union Eq_120 Eq_369::* sp_48;
	word16 bp_49;
	struct Eq_369 * ss_50;
	word16 ax_51;
	struct Eq_371 * ds_52;
	byte SZO_53;
	byte C_54;
	byte Z_55;
	word16 cx_56;
	word16 bx_57;
	byte SCZO_58;
	ds_41->ptr013E();
	ss_50->*(sp_48 - 0x02) = wArg04;
	__exit();
}

// 0918:000A: void __LONGTOA(Stack byte bArg04, Stack byte bArg06, Stack Eq_390 wArg08, Stack (ptr byte) ptrArg0A, Stack (memptr Eq_113 byte) wArg0C, Stack Eq_113 wArg0E, Stack Eq_394 wArg10)
void __LONGTOA(byte bArg04, byte bArg06, Eq_390 wArg08, byte * ptrArg0A, byte Eq_113::*wArg0C, Eq_113 wArg0E, Eq_394 wArg10)
{
	byte Eq_397::* di_122 = (word16) ptrArg0A;
	struct Eq_397 * es_19 = SLICE(ptrArg0A, selector, 16);
	cu8 bl_22 = (byte) wArg08;
	if (wArg08 > 0x24 || bl_22 < 0x02)
	{
l0918_007A:
		es_19->*di_122 = 0x00;
		return;
	}
	Eq_113 ax_105 = wArg0E;
	Eq_394 cx_149 = wArg10;
	if (wArg10 < 0x00 && bArg06 != 0x00)
	{
		*ptrArg0A = 0x2D;
		ax_105 = -wArg0E;
		di_122 = di_122 + 0x01;
		cx_149 = -wArg10 - (ax_105 == 0x00);
	}
	byte Eq_438::* si_106 = fp - 0x24;
	if (cx_149 != 0x00)
	{
		do
		{
			uint32 dx_ax_156 = (uint32) (uint16) cx_149;
			uint32 dx_ax_162 = SEQ((uint16) (dx_ax_156 % wArg08), ax_105);
			ss->*si_106 = (byte) (uint16) (dx_ax_162 % wArg08);
			Eq_394 ax_159 = (uint16) (dx_ax_156 /u wArg08);
			cx_149 = ax_159;
			ax_105 = (uint16) (dx_ax_162 /u wArg08);
			si_106 = si_106 + 0x01;
		} while (ax_159 != 0x00);
l0918_005C:
		if (ax_105 == 0x00)
		{
			word16 cx_115 = si_106 + (0x24 - fp);
			do
			{
				byte al_134;
				si_106 = si_106 - 0x01;
				cu8 al_126 = ss->*si_106;
				if (al_126 < 0x0A)
					al_134 = al_126 + 0x30;
				else
					al_134 = al_126 - 0x0A + bArg04;
				es_19->*di_122 = al_134;
				di_122 = di_122 + 0x01;
				cx_115 = cx_115 - 0x01;
			} while (cx_115 != 0x00);
			goto l0918_007A;
		}
	}
	uint32 dx_ax_89 = (uint32) (uint16) ax_105;
	ss->*si_106 = (byte) (uint16) (dx_ax_89 % wArg08);
	ax_105 = (uint16) (dx_ax_89 /u wArg08);
	si_106 = si_106 + 0x01;
	goto l0918_005C;
}

// 093D:000E: Register word16 _printf(Register Eq_113 ds, Stack Eq_120 wArg04, Stack Eq_113 wArg06, Register out ptr16 siOut, Register out ptr16 diOut)
word16 _printf(Eq_113 ds, Eq_120 wArg04, Eq_113 wArg06, ptr16 & siOut, ptr16 & diOut)
{
	word16 si_36;
	word16 di_37;
	word16 bx_38 = __VPRINTER(fp - 0x02, ds, DPB(ptrLoc12, fp + 0x08, 0), DPB(ptrLoc0E, wArg04, 0), wArg06, out si_36, out di_37);
	return bx_38;
}

// 0967:000C: Register Eq_522 fn0967_000C(Register Eq_522 di, Register Eq_113 es, Register Eq_113 ds, Stack word16 wArg02)
Eq_522 fn0967_000C(Eq_522 di, Eq_113 es, Eq_113 ds, word16 wArg02)
{
	bcu8 dh_8 = SLICE(wArg02, byte, 8);
	es->*di = ds->*((word16) ((uint16) (dh_8 >> 0x04)) + 1101);
	es->*((word32) di + 0x01) = ds->*((word16) ((uint16) (dh_8 & 0x0F)) + 1101);
	bcu8 dl_9 = (byte) wArg02;
	es->*((word32) di + 0x02) = ds->*((word16) ((uint16) (dl_9 >> 0x04)) + 1101);
	es->*((word32) di + 0x03) = ds->*((word16) ((uint16) (dl_9 & 0x0F)) + 1101);
	return (word32) di + 0x04;
}

// 0967:0037: Register Eq_113 __VPRINTER(Register mp16 bp, Register Eq_113 ds, Stack (ptr Eq_505) ptrArg04, Stack segptr32 ptrArg08, Stack Eq_113 psegArg0A, Register out ptr16 siOut, Register out ptr16 diOut)
Eq_113 __VPRINTER(mp16 bp, Eq_113 ds, Eq_505 * ptrArg04, segptr32 ptrArg08, Eq_113 psegArg0A, ptr16 & siOut, ptr16 & diOut)
{
	ci8 bLoc57_129 = 0x50;
	union Eq_113 Eq_113::* sp_1028 = fp - 0xA0;
	byte Eq_113::* wLoc98_22 = fp - 0x56;
l0967_009F:
	byte Eq_113::* di_1136 = wLoc98_22;
l0967_00A3:
	struct Eq_626 * es_137 = SLICE(ptrArg08, selector, 16);
	byte Eq_113::* si_138 = (word16) ptrArg08;
	while (true)
	{
		byte al_153 = ds->*si_138;
		si_138 = si_138 + 0x01;
		byte al_156 = al_153;
		ax = DPB(ax, al_153, 0);
		if (al_153 == 0x00)
			break;
		if (al_153 == 0x25)
		{
			al_156 = ds->*si_138;
			ax = DPB(ax, al_156, 0);
			si_138 = si_138 + 0x01;
			if (al_156 != 0x25)
			{
				wLoc98_22 = di_1136;
				cu8 ch_1530 = 0x00;
				wchar_t wLoc8E_1003 = 0x00;
				cui16 wLoc9A_1019 = 0x20;
				byte bLoc8F_1020 = 0x00;
				Eq_113 wLoc94_261 = ~0x00;
				Eq_113 wLoc92_262 = ~0x00;
				while (true)
				{
					Eq_113 ax_284 = DPB(ax, 0x00, 8);
					cu8 bl_289 = (byte) ax_284;
					byte dl_287 = (byte) ax_284;
					struct Eq_666 Eq_113::* bx_292 = DPB(ax_284, bl_289 - 0x20, 0);
					if (bl_289 >= 0x80)
						break;
					Eq_113 bx_351 = DPB(ax_284, (ds->*bx_292).b045D, 0);
					Eq_113 ax_353 = bx_351;
					if (bx_351 > 0x17)
						goto l0967_0546;
					Eq_113 cx_1409;
					Eq_113 es_1033;
					Eq_113 di_1032;
					byte bh_1047;
					Eq_113 dx_1056;
					struct Eq_695 * es_1059;
					word16 di_1058;
					Eq_113 ax_1055;
					byte bLoc95_1044;
					Eq_113 dx_1039;
					bx = bx_351 << 0x01;
					switch (sp_1028)
					{
					case 0x00:
						if (ch_1530 > 0x00)
							goto l0967_0144;
						if (bLoc8F_1020 != 0x2B)
							bLoc8F_1020 = dl_287;
						break;
					case 0x01:
						if (ch_1530 > 0x00)
							goto l0967_0144;
						wLoc9A_1019 = wLoc9A_1019 | 0x01;
						break;
					case 0x02:
						struct Eq_626 * Eq_113::* sp_442 = sp_1028 - 0x02;
						ss->*sp_442 = es_137;
						ax_353 = ptrArg04->t0000;
						es_137 = ss->*sp_442;
						if (ch_1530 < 0x02)
						{
							wLoc94_261 = ax_353;
							ch_1530 = 0x03;
							goto l0967_01B7;
						}
						if (ch_1530 != 0x04)
							goto l0967_019D;
						wLoc92_262 = ax_353;
						ch_1530 = ch_1530 + 0x01;
						break;
					case 0x03:
						if (ch_1530 > 0x00)
							goto l0967_0144;
						wLoc9A_1019 = wLoc9A_1019 | 0x02;
						break;
					case 0x04:
						if (ch_1530 >= 0x04)
							goto l0967_019D;
						ch_1530 = 0x04;
						break;
					case 0x05:
l0967_01D2:
						Eq_113 ax_485 = (int16) ((byte) ax_284 - 0x30);
						if (ch_1530 <= 0x02)
						{
							ch_1530 = 0x02;
							wLoc94_261 = ax_485;
							ax_353 = wLoc94_261;
							if (wLoc94_261 < 0x00)
								goto l0967_01B7;
							ui16 ax_503 = wLoc94_261 << 0x01;
							ax_353 = ax_503 * 0x05;
							wLoc94_261 = (word32) ax_485 + ax_503 * 0x05;
						}
						else
						{
							if (ch_1530 != 0x04)
							{
l0967_019D:
								goto l0967_0546;
							}
							wLoc92_262 = ax_485;
							ax_353 = wLoc92_262;
							if (wLoc92_262 < 0x00)
								goto l0967_01B7;
							ui16 ax_523 = wLoc92_262 << 0x01;
							ax_353 = ax_523 * 0x05;
							wLoc92_262 = (word32) ax_485 + ax_523 * 0x05;
						}
						break;
					case 0x06:
						wLoc9A_1019 = wLoc9A_1019 | 0x10;
						ch_1530 = 0x05;
						break;
					case 0x07:
						wLoc9A_1019 = (wLoc9A_1019 | 0x0100) & ~0x10;
						ch_1530 = 0x05;
						break;
					case 0x08:
						wLoc9A_1019 = wLoc9A_1019 & ~0x10 | 0x80;
						ch_1530 = 0x05;
						break;
					case 0x09:
						if (ch_1530 > 0x00)
							goto l0967_01D2;
						if ((wLoc9A_1019 & 0x02) == 0x00)
						{
							wLoc9A_1019 = wLoc9A_1019 | 0x08;
							ch_1530 = 0x01;
						}
						else
						{
l0967_01B7:
						}
						break;
					case 0x0A:
						int32 dx_ax_1197 = (int32) ptrArg04->t0000;
						bh_1047 = 0x0A;
						bx = DPB(bx_351 << 0x01, 0x0A, 8);
						bLoc95_1044 = 0x01;
						di_1058 = (word16) ptrArg04;
						es_1059 = SLICE(ptrArg04, selector, 16);
						ax_1055 = (word16) dx_ax_1197;
						dx_1056 = SLICE(dx_ax_1197, word16, 16);
						goto l0967_0276;
					case 11:
						bh_1047 = 0x08;
						bx = DPB(bx_351 << 0x01, 0x08, 8);
						goto l0967_024C;
					case 0x0C:
						bh_1047 = 0x0A;
						bx = DPB(bx_351 << 0x01, 0x0A, 8);
						goto l0967_0251;
					case 0x0D:
						bh_1047 = 0x10;
						bx = DPB(bx_351 << 0x01, dl_287 + 233, 0);
l0967_024C:
						bLoc8F_1020 = 0x00;
l0967_0251:
						bLoc95_1044 = 0x00;
						di_1058 = (word16) ptrArg04;
						es_1059 = SLICE(ptrArg04, selector, 16);
						ax_1055 = ptrArg04->t0000;
						dx_1056.u0 = 0x00;
l0967_0276:
						struct Eq_918 Eq_695::* di_1060 = di_1058 + 0x01;
						Eq_390 di_1061 = &di_1060->t0001;
						if ((wLoc9A_1019 & 0x10) != 0x00)
						{
							dx_1056 = (es_1059->*di_1060).t0001;
							di_1061 = (char *) &di_1060->t0001 + 0x02;
						}
						di_1032 = fp - 0x89;
						ax = ax_1055;
						if (ax_1055 == 0x00 && dx_1056 == 0x00)
						{
							if (wLoc92_262 == 0x00)
							{
								if (wLoc94_261 != 0x00 && wLoc94_261 != ~0x00)
								{
									byte dl_1162;
									ax = wLoc9A_1019 & 0x08;
									if (ax != 0x00)
										dl_1162 = 0x30;
									else
										dl_1162 = 0x20;
									do
									{
										sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFE);
										byte Eq_113::* di_1540 = di_1136;
										word16 dx_1168;
										struct Eq_1045 * es_1171;
									} while (fn0967_005D(dl_1162, fp - 0x02, di_1540, out dx_1168, out bx, out di_1136, out es_1171) != 0x01);
								}
								goto l0967_00A3;
							}
						}
						else
							wLoc9A_1019 = wLoc9A_1019 | 0x04;
						union Eq_113 Eq_113::* sp_1084 = sp_1028 - 0x02;
						ss->*sp_1084 = dx_1056;
						ss->*(sp_1084 - 0x02) = ax_1055;
						ss->*(sp_1084 - 0x04) = ss;
						ss->*(sp_1084 - 0x06) = fp - 0x89;
						Eq_113 ax_1093 = (int16) bh_1047;
						ss->*(sp_1084 - 0x08) = ax_1093;
						ss->*(sp_1084 - 0x0A) = DPB(ax_1093, bLoc95_1044, 0);
						ss->*(sp_1084 - 0x0C) = bx;
						__LONGTOA(bArg00, bArg02, di_1061, ptrArg06, si_138, psegArg0A, wArg0C);
						ss->*sp_1084 = ss;
						es_1033 = ss->*sp_1084;
						sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1084 + 0x02);
						dx_1039 = wLoc92_262;
						if (wLoc92_262 <= 0x00)
							goto l0967_040A;
						goto l0967_041A;
					case 0x0E:
						union Eq_113 Eq_113::* sp_1248 = sp_1028 - 0x02;
						ss->*sp_1248 = ptrArg04->t0000;
						Eq_522 di_1242 = fp - 0x8A;
						if ((wLoc9A_1019 & 0x20) != 0x00)
						{
							ss->*(sp_1248 - 0x02) = ptrArg04->t0002;
							ss->*(sp_1248 - 0x04) = ss;
							Eq_113 es_1298 = ss->*(sp_1248 - 0x04);
							Eq_1308 di_1300 = fn0967_000C(fp - 0x8A, es_1298, ds, wArg00);
							es_1298->*di_1300 = 0x3A;
							di_1242 = (word32) di_1300 + 0x01;
						}
						ss->*(sp_1248 - 0x02) = ss;
						es_1033 = ss->*(sp_1248 - 0x02);
						Eq_1308 di_1271 = fn0967_000C(di_1242, es_1033, ds, wArg00);
						ss->*di_1271 = 0x00;
						sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1248 + 0x02);
						wLoc9A_1019 = wLoc9A_1019 & ~0x04;
						di_1032 = fp - 0x8A;
						goto l0967_040A;
					case 0x0F:
						Eq_113 di_1309 = (word16) ptrArg04;
						Eq_113 es_1310 = SLICE(ptrArg04, selector, 16);
						Eq_113 cx_1312 = wLoc92_262;
						if (wLoc92_262 < 0x00)
							cx_1312.u0 = 0x06;
						Eq_113 ax_1351;
						union Eq_113 Eq_113::* sp_1321 = sp_1028 - 0x02;
						ss->*sp_1321 = es_1310;
						ss->*(sp_1321 - 0x02) = di_1309;
						ss->*(sp_1321 - 0x04) = cx_1312;
						ss->*(sp_1321 - 0x06) = ss;
						ss->*(sp_1321 - 0x08) = fp - 0x89;
						ss->*(sp_1321 - 0x0A) = ax_284;
						ss->*(sp_1321 - 0x0C) = wLoc9A_1019 & 0x01;
						if ((wLoc9A_1019 & 0x80) != 0x00)
							ax_1351.u0 = 0x02;
						else if ((wLoc9A_1019 & 0x0100) != 0x00)
							ax_1351.u0 = 0x08;
						else
							ax_1351.u0 = 0x06;
						ss->*(sp_1321 - 0x0E) = ax_1351;
						__REALCVT();
						ss->*(sp_1321 - 0x10) = ss;
						es_1033 = ss->*(sp_1321 - 0x10);
						sp_1028 = sp_1321 - 0x0E;
						di_1032 = fp - 0x89;
l0967_040A:
						if ((wLoc9A_1019 & 0x08) != 0x00)
						{
							dx_1039 = wLoc94_261;
							if (wLoc94_261 > 0x00)
							{
l0967_041A:
								Eq_113 cx_1004 = fn0967_0050(di_1032, es_1033);
								if (es_1033->*di_1032.u0 == 0x2D)
									cx_1004 = cx_1004 - 0x01;
								wchar_t dx_998 = dx_1039 - cx_1004;
								if (dx_998 > 0x00)
									wLoc8E_1003 = dx_998;
							}
						}
						if (bLoc8F_1020 != 0x00 && es_1033->*di_1032.u0 != 0x2D)
						{
							di_1032 = di_1032 - 0x01;
							es_1033->*di_1032.u0 = bLoc8F_1020;
							wLoc8E_1003 = v42;
						}
						cx_1409 = fn0967_0050(di_1032, es_1033);
						goto l0967_044B;
					case 0x10:
						union Eq_113 Eq_113::* sp_1396 = sp_1028 - 0x02;
						ss->*sp_1396 = ss;
						es_1033 = ss->*sp_1396;
						sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1396 + 0x02);
						di_1032 = fp - 0x89;
						cx_1409.u0 = 0x01;
						goto l0967_044B;
					case 0x11:
						bool Z_1426;
						union Eq_896 Eq_113::* di_1415 = (word16) ptrArg04;
						if ((wLoc9A_1019 & 0x20) == 0x00)
						{
							Eq_113 di_1459 = ptrArg04->t0000;
							union Eq_113 Eq_113::* sp_1462 = sp_1028 - 0x02;
							ss->*sp_1462 = ds;
							es_1033 = ss->*sp_1462;
							di_1032 = di_1459;
							Z_1426 = cond(di_1459);
						}
						else
						{
							Eq_896 es_di_1476 = ds->*di_1415;
							di_1032 = (word16) es_di_1476;
							es_1033 = SLICE(es_di_1476, selector, 16);
							Z_1426 = cond(es_1033 | di_1032);
						}
						if (!Z_1426)
						{
							union Eq_113 Eq_113::* sp_1451 = sp_1028 - 0x02;
							ss->*sp_1451 = ds;
							es_1033 = ss->*sp_1451;
							di_1032.u0 = 0x0446;
						}
						cx_1409 = fn0967_0050(di_1032, es_1033);
						if (cx_1409 > wLoc92_262)
							cx_1409 = wLoc92_262;
l0967_044B:
						Eq_113 si_590 = di_1032;
						Eq_113 bx_594 = wLoc94_261;
						ax = wLoc9A_1019 & 0x05;
						if (ax == 0x05)
						{
							ax = DPB(ax, dl_287, 8);
							if (dl_287 != 111)
							{
								if (dl_287 == 0x78 || dl_287 == 88)
								{
									wchar_t v38_899 = wLoc8E_1003 - 0x02;
									wLoc9A_1019 = wLoc9A_1019 | 0x40;
									bx_594 = wLoc94_261 - 0x02;
									wLoc8E_1003 = v38_899;
									if (v38_899 < 0x00)
										wLoc8E_1003 = 0x00;
								}
l0967_0498:
								Eq_113 cx_615 = (byte) cx_1409.u0 + wLoc8E_1003;
								if ((wLoc9A_1019 & 0x02) == 0x00)
								{
									while (bx_594 > cx_615)
									{
										word16 dx_860;
										word16 bx_861;
										cx_615 = fn0967_005D(0x20, fp - 0x02, di_1136, out dx_860, out bx_861, out di_1136, out es_1033);
										sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFE);
										bx_594 = bx_861 - 0x01;
									}
								}
								if ((wLoc9A_1019 & 0x40) != 0x00)
								{
									word16 dx_830;
									word16 bx_831;
									byte Eq_113::* di_832;
									struct Eq_1100 * es_833;
									fn0967_005D(0x30, fp - 0x02, di_1136, out dx_830, out bx_831, out di_832, out es_833);
									word16 dx_837;
									cx_615 = fn0967_005D(dl_287, fp - 0x02, di_832, out dx_837, out bx_594, out di_1136, out es_1033);
									sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFC);
								}
								wchar_t dx_646 = wLoc8E_1003;
								if (wLoc8E_1003 > 0x00)
								{
									byte al_753 = es_1033->*di_1032.u0;
									Eq_113 cx_746 = cx_615 - wLoc8E_1003;
									bx_594 = bx_594 - wLoc8E_1003;
									ax = DPB(ax, al_753, 0);
									if (al_753 == 0x2D || (al_753 == 0x20 || al_753 == 0x2B))
									{
										si_590 = (byte) di_1032.u0 + 0x01;
										sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFE);
										word16 bx_812;
										struct Eq_1140 * es_814;
										cx_746 = fn0967_005D(ds->*di_1032.u0, fp - 0x02, di_1136, out dx_646, out bx_812, out di_1136, out es_814) - 0x01;
										bx_594 = bx_812 - 0x01;
									}
									Eq_113 dx_776 = cx_746;
									if (dx_646 != 0x00)
									{
										do
										{
											sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFE);
											byte Eq_113::* di_1539 = di_1136;
											struct Eq_1183 * es_801;
										} while (fn0967_005D(0x30, fp - 0x02, di_1539, out dx_776, out bx_594, out di_1136, out es_801) != 0x01);
									}
									cx_615 = dx_776;
								}
								if (cx_615 != 0x00)
								{
									bx_594 = bx_594 - cx_615;
									do
									{
										ss->*di_1136 = ds->*si_590;
										ci8 v43_728 = bLoc57_129 - 0x01;
										si_590 = (word32) si_590 + 0x01;
										di_1136 = di_1136 + 0x01;
										bLoc57_129 = v43_728;
										if (v43_728 <= 0x00)
										{
											word16 dx_739;
											struct Eq_1215 * es_742;
											cx_615 = fn0967_0066(fp - 0x02, di_1136, out dx_739, out bx_594, out di_1136, out es_742);
										}
										cx_615 = cx_615 - 0x01;
									} while (cx_615 != 0x00);
								}
								bx = bx_594;
								if (bx_594 > 0x00)
								{
									do
									{
										sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFE);
										byte Eq_113::* di_1538 = di_1136;
										word16 dx_701;
										struct Eq_1242 * es_704;
									} while (fn0967_005D(0x20, fp - 0x02, di_1538, out dx_701, out bx, out di_1136, out es_704) != 0x01);
								}
								goto l0967_00A3;
							}
							if (wLoc8E_1003 <= 0x00)
								wLoc8E_1003 = 0x01;
						}
						goto l0967_0498;
					case 0x12:
						Eq_113 es_1502;
						Eq_113 di_1501;
						union Eq_870 Eq_113::* di_1491 = (word16) ptrArg04;
						if ((wLoc9A_1019 & 0x20) == 0x00)
						{
							di_1501 = ptrArg04->t0000;
							union Eq_113 Eq_113::* sp_1513 = sp_1028 - 0x02;
							ss->*sp_1513 = ds;
							es_1502 = ss->*sp_1513;
						}
						else
						{
							Eq_870 es_di_1520 = ds->*di_1491;
							di_1501 = (word16) es_di_1520;
							es_1502 = SLICE(es_di_1520, selector, 16);
						}
						Eq_113 ax_1505 = DPB(0x50, 0x50 - bLoc57_129, 0);
						es_1502->*di_1501 = ax_1505;
						ax = ax_1505;
						goto l0967_009F;
					case 0x13:
					case 0x14:
					case 0x15:
l0967_0546:
						byte Eq_113::* si_310 = si_138;
						byte al_316 = 0x25;
						do
						{
							word16 dx_325;
							struct Eq_706 * es_328;
							fn0967_005D(al_316, fp - 0x02, di_1136, out dx_325, out bx, out di_1136, out es_328);
							byte al_331 = ds->*si_310;
							sp_1028 = (union Eq_113 Eq_113::*) ((char *) sp_1028 + 0x0000FFFE);
							si_310 = si_310 + 0x01;
							al_316 = al_331;
						} while (al_331 != 0x00);
						goto l0967_055C;
					case 22:
						wLoc9A_1019 = wLoc9A_1019 & ~0x20;
						ch_1530 = 0x05;
						break;
					case 0x17:
						wLoc9A_1019 = wLoc9A_1019 | 0x20;
						ch_1530 = 0x05;
						break;
					}
					ax = DPB(ax_353, ds->*si_138, 0);
					si_138 = si_138 + 0x01;
				}
l0967_0144:
				goto l0967_0546;
			}
		}
		ss->*di_1136 = al_156;
		ci8 v16_236 = bLoc57_129 - 0x01;
		di_1136 = di_1136 + 0x01;
		bLoc57_129 = v16_236;
		if (v16_236 <= 0x00)
		{
			word16 dx_239;
			fn0967_0066(fp - 0x02, di_1136, out dx_239, out bx, out di_1136, out es_137);
		}
	}
l0967_055C:
	if (bLoc57_129 < 0x50)
	{
		word16 dx_218;
		word16 di_220;
		struct Eq_639 * es_221;
		fn0967_0066(fp - 0x02, di_1136, out dx_218, out bx, out di_220, out es_221);
	}
	struct Eq_631 Eq_113::* sp_202 = (char *) sp_1028 + 0x02;
	word16 di_206;
	*diOut = (ss->*sp_202).w0000;
	word16 si_209;
	*siOut = (ss->*sp_202).w0002;
	return bx;
}

// 0967:0050: Register word16 fn0967_0050(Register Eq_113 di, Register Eq_113 es)
word16 fn0967_0050(Eq_113 di, Eq_113 es)
{
	word16 cx_13 = ~0x00;
	while (cx_13 != 0x00)
	{
		di = (word16) di_29 + 0x01;
		cx_13 = cx_13 - 0x01;
		Eq_113 di_29 = di;
		if (0x00 != es->*di_29)
			return ~cx_13 - 0x01;
	}
	return ~cx_13 - 0x01;
}

// 0967:005D: Register Eq_113 fn0967_005D(Register byte al, Register (memptr Eq_113 Eq_615) bp, Register (memptr Eq_113 byte) di, Register out Eq_712 dxOut, Register out Eq_713 bxOut, Register out Eq_714 diOut, Register out (ptr Eq_715) esOut)
Eq_113 fn0967_005D(byte al, Eq_615 Eq_113::*bp, byte Eq_113::*di, Eq_712 & dxOut, Eq_713 & bxOut, Eq_714 & diOut, Eq_715 * & esOut)
{
	*dxOut = dx;
	*bxOut = bx;
	*esOut = es;
	ss->*di = al;
	ci8 v8_8 = ss->*(bp - 0x55) - 0x01;
	ss->*(bp - 0x55) = v8_8;
	word16 di_6;
	*diOut = di + 0x01;
	if (v8_8 <= 0x00)
		return cx;
	else
	{
		word16 dx_20;
		word16 bx_21;
		word16 di_22;
		struct Eq_1478 * es_23;
		return fn0967_0066(bp, di + 0x01, out dx_20, out bx_21, out di_22, out es_23);
	}
}

// 0967:0066: Register word16 fn0967_0066(Register (memptr Eq_113 Eq_615) bp, Register (memptr Eq_113 byte) di, Register out ptr16 dxOut, Register out Eq_618 bxOut, Register out Eq_619 diOut, Register out (ptr Eq_620) esOut)
word16 fn0967_0066(Eq_615 Eq_113::*bp, byte Eq_113::*di, ptr16 & dxOut, Eq_618 & bxOut, Eq_619 & diOut, Eq_620 * & esOut)
{
	struct Eq_1487 Eq_1489::* sp_34;
	word16 bx_35;
	struct Eq_1489 * ss_36;
	word16 cx_37;
	word16 dx_38;
	struct Eq_1492 * es_39;
	union Eq_1506 Eq_1489::* bp_40;
	word16 ax_41;
	word16 di_42;
	byte SCZO_43;
	byte SZO_44;
	byte C_45;
	byte Z_46;
	(ss->*bp).ptr0012();
	if (ax_41 == 0x00)
		(ss_36->*(bp_40 - 0x02)).u1 = 0x01;
	(ss_36->*(bp_40 - 0x55)).u0 = 0x50;
	(ss_36->*(bp_40 - 88)).u1 = (word16) (ss_36->*(bp_40 - 88)).u1 + di_42;
	word16 di_55;
	*diOut = bp_40 - 0x54;
	struct Eq_1527 * es_56;
	*esOut = (ss_36->*sp_34).ptr0000;
	word16 dx_58;
	*dxOut = (ss_36->*sp_34).w0002;
	word16 cx_60 = (ss_36->*sp_34).w0004;
	word16 bx_62;
	*bxOut = (ss_36->*sp_34).w0006;
	return cx_60;
}

// 09F1:0007: void _scanf(Register uint16 bx, Register word16 di, Register Eq_113 ds, Stack Eq_120 wArg04, Stack Eq_113 wArg06)
void _scanf(uint16 bx, word16 di, Eq_113 ds, Eq_120 wArg04, Eq_113 wArg06)
{
	__scanner(bx, fp - 0x02, di, ds, DPB(ptrLoc16, 0xF3, 0), 2222, DPB(ptrLoc12, 0x0E, 0), 0x0A63, 0x0256, ds, wArg04, wArg06);
}

// 09F4:0005: Register mp16 __scanner(Register uint16 bx, Register mp16 bp, Register word16 di, Register Eq_113 ds, Stack (ptr code) ptrArg04, Stack Eq_113 wArg06, Stack (ptr code) ptrArg08, Stack Eq_113 wArg0A, Stack Eq_113 wArg0C, Stack Eq_113 wArg0E, Stack Eq_120 wArg10, Stack Eq_113 psegArg12)
mp16 __scanner(uint16 bx, mp16 bp, word16 di, Eq_113 ds, code * ptrArg04, Eq_113 wArg06, code * ptrArg08, Eq_113 wArg0A, Eq_113 wArg0C, Eq_113 wArg0E, Eq_120 wArg10, Eq_113 psegArg12)
{
	struct Eq_1579 Eq_113::* bp_1014 = fp - 0x02;
	word16 wLoc28_1079 = 0x00;
	struct Eq_1585 Eq_113::* sp_1009 = fp - 0x32;
l09F4_0037:
	Eq_120 si_171 = wArg10;
	do
	{
l09F4_003A:
		byte al_104 = ds->*si_171;
		Eq_120 si_105 = (word16) si_171 + 0x01;
		if (al_104 == 0x00)
		{
			mp16 bp_1262;
			fn09F4_0460(bp_1014, out bp_1262);
			return bp_1262;
		}
		if (al_104 == 0x25)
		{
			int16 wLoc24_402 = ~0x00;
			Eq_113 es_403 = psegArg12;
			byte bLoc2B_1255 = 0x20;
			si_416 = si_105;
			while (true)
			{
				Eq_120 si_416;
				si_416 = (word32) si_416 + 0x01;
				int16 ax_421 = (int16) (ds->*si_416);
				wArg10 = si_416;
				if (ax_421 < 0x00)
					goto l09F4_0112;
				cu16 bx_443 = DPB(bx, 0x00, 8);
				if (bx_443 > 0x15)
					break;
				Eq_113 si_1246;
				word16 ax_1237;
				word16 dx_1240;
				bx = bx_443 << 0x01;
				switch (bx_443)
				{
				case 0x00:
				case 0x01:
				case 0x02:
l09F4_0112:
					mp16 bp_439;
					fn09F4_0460(bp_1014, out bp_439);
					return bp_439;
				case 0x03:
					goto l09F4_0047;
				case 0x04:
					bLoc2B_1255 = bLoc2B_1255 | 0x01;
					break;
				case 0x05:
					wLoc24_402 = ax_421 - 0x30;
					int16 wLoc24_1264 = wLoc24_402;
					if (wLoc24_1264 >= 0x00)
						wLoc24_402 = ax_421 - 0x26;
					break;
				case 0x06:
					if ((bLoc2B_1255 & 0x01) == 0x00)
						fn09F4_001A(bp_1014, ds, out es_403);
					if (wLoc24_1264 != 0x00)
					{
						do
						{
							union Eq_113 Eq_113::* sp_530 = sp_1009 - 0x02;
							ss->*sp_530 = es_403;
							ss->*(sp_530 - 0x02) = wArg0E;
							ss->*(sp_530 - 0x04) = wArg0C;
							wLoc28_1079 = wLoc28_1079 + 0x01;
							struct Eq_2170 Eq_113::* sp_538;
							byte SCZO_541;
							ci16 si_542;
							byte Eq_113::* di_543;
							struct Eq_2174 * es_544;
							byte D_545;
							byte al_546;
							byte SZO_548;
							byte C_549;
							byte Z_550;
							ci16 ax_551;
							word16 cx_552;
							byte SO_553;
							byte S_554;
							byte bl_556;
							byte bh_557;
							byte CZ_558;
							word16 dx_559;
							byte ah_560;
							byte dl_561;
							byte cl_562;
							byte ch_563;
							ptrArg04();
							es_403 = (ss->*sp_538).t0004;
							sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) &sp_538->t0004 + 0x02);
							if ((bLoc2B_1255 & 0x01) == 0x00)
								es_403->*di_543 = al_546;
							if (ax_551 < 0x00)
							{
								mp16 bp_583;
								fn09F4_0460(bp_1014, out bp_583);
								return bp_583;
							}
						} while (si_542 > 0x01);
					}
					goto l09F4_0037;
				case 0x07:
				case 0x08:
					si_1246.u0 = 0x0A;
					goto l09F4_0170;
				case 0x09:
					si_1246.u0 = 0x00;
					goto l09F4_0170;
				case 0x0A:
					union Eq_113 Eq_113::* sp_718 = sp_1009 - 0x02;
					ss->*sp_718 = ss;
					ss->*(sp_718 - 0x02) = fp - 0x26;
					ss->*(sp_718 - 0x04) = ss;
					ss->*(sp_718 - 0x06) = fp - 0x28;
					ss->*(sp_718 - 0x08) = wLoc24_1264 & 0x7FFF;
					ss->*(sp_718 - 0x0A) = wArg0E;
					ss->*(sp_718 - 0x0C) = wArg0C;
					ss->*(sp_718 - 0x0E) = wArg0A;
					ss->*(sp_718 - 0x10) = wArg08;
					ss->*(sp_718 - 0x12) = wArg06;
					ss->*(sp_718 - 0x14) = wArg04;
					__scantod();
					sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) sp_718 + 0x02);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1255 & 0x01) != 0x00)
							__scanpop();
						else
						{
							Eq_113 ax_776;
							Eq_113 es_763;
							Eq_113 di_764 = fn09F4_001A(bp_1014, ds, out es_763);
							if ((bLoc2B_1255 & 0x04) != 0x00)
								ax_776.u0 = 0x04;
							else if ((bLoc2B_1255 & 0x08) != 0x00)
								ax_776.u0 = 0x08;
							else
								ax_776.u0 = 0x00;
							ss->*sp_718 = ax_776;
							ss->*(sp_718 - 0x02) = es_763;
							ss->*(sp_718 - 0x04) = di_764;
							__scanrslt();
							sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) sp_718 + 0x02);
						}
						goto l09F4_0037;
					}
					__scanpop();
					if (wLoc26 < 0x00)
					{
						mp16 bp_804;
						fn09F4_0460(bp_1014, out bp_804);
						return bp_804;
					}
					else
					{
						mp16 bp_802;
						fn09F4_0478(bp_1014, out bp_802);
						return bp_802;
					}
				case 11:
					bLoc2B_1255 = bLoc2B_1255 | 0x08;
					break;
				case 0x0C:
					bLoc2B_1255 = bLoc2B_1255 | 0x02;
					break;
				case 0x0D:
					bLoc2B_1255 = bLoc2B_1255 | 0x04;
					break;
				case 0x0E:
					si_1246.u0 = 0x08;
					goto l09F4_0170;
				case 0x0F:
					struct Eq_1579 Eq_113::* bp_819;
					cu16 ax_820 = fn09F4_02C8(bx_443, bp_1014, ds, out bp_819);
					mp16 bp_824;
					fn09F4_02C8(ax_820, bp_819, ds, out bp_824);
					return bp_824;
				case 0x10:
					union Eq_113 Eq_113::* sp_826 = sp_1009 - 0x02;
					ss->*sp_826 = psegArg12;
					ss->*(sp_826 - 0x02) = ss;
					Eq_113 es_836 = ss->*(sp_826 - 0x02);
					word16 Eq_113::* di_838 = fp - 0x22;
					word16 cx_839 = 0x10;
					while (cx_839 != 0x00)
					{
						es_836->*di_838 = 0x00;
						di_838 = di_838 + 0x01;
						cx_839 = cx_839 - 0x01;
					}
					cu8 al_1233 = ds->*si_416;
					byte v47_857 = bLoc2B_1255 & ~0x10;
					Eq_113 es_1032 = ss->*sp_826;
					sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) sp_826 + 0x02);
					word16 ax_1234 = (word16) al_1233;
					Eq_120 si_1236 = (word32) si_416 + 0x01;
					byte bLoc2B_1230 = v47_857;
					if (al_1233 == 0x5E)
					{
						al_1233 = ds->*((word32) si_416 + 0x01);
						bLoc2B_1230 = v47_857 | 0x10;
						ax_1234 = DPB(ax_1234, al_1233, 0);
						si_1236 = (word32) si_416 + 0x02;
					}
					cu16 ax_870 = DPB(ax_1234, 0x00, 8);
l09F4_038C:
					Eq_113 di_1033 = ax_870 >> 0x03;
					Eq_2238 ch_888 = 0x01 << (al_1233 & 0x07);
					Mem891[ss:bp_1014 - 0x20 + di_1033:byte] = Mem835[ss:bp_1014 - 0x20 + di_1033:byte] | ch_888;
					cu8 dl_880 = al_1233;
					while (true)
					{
						al_1233 = ds->*si_1236;
						ax_870 = DPB(ax_870, al_1233, 0);
						si_1236 = (word32) si_1236 + 0x01;
						if (al_1233 == 0x00)
							break;
						if (al_1233 == 0x5D)
						{
							ci16 v70_951 = wLoc24_1264 & 0x7FFF;
							wArg10 = si_1236;
							ci16 si_1143 = v70_951;
							if ((bLoc2B_1230 & 0x01) == 0x00)
								di_1033 = fn09F4_001A(bp_1014, ds, out es_1032);
							while (true)
							{
								ci16 si_984 = si_1143 - 0x01;
								if (si_984 < 0x00)
									break;
								struct Eq_2367 Eq_113::* sp_1081 = sp_1009 - 0x02;
								(ss->*sp_1081).t0000 = es_1032;
								(ss->*(sp_1081 - 0x02)).t0000 = wArg0E;
								(ss->*(sp_1081 - 0x04)).t0000 = wArg0C;
								wLoc28_1079 = wLoc28_1079 + 0x01;
								struct Eq_2385 Eq_113::* sp_1089;
								byte SCZO_1092;
								ci16 si_1093;
								struct Eq_2388 * es_1095;
								byte D_1096;
								byte al_1097;
								byte SZO_1099;
								byte C_1100;
								byte Z_1101;
								Eq_113 ax_1102;
								word16 cx_1103;
								byte SO_1104;
								byte S_1105;
								word16 bx_1106;
								byte bl_1107;
								byte bh_1108;
								byte CZ_1109;
								word16 dx_1110;
								byte ah_1111;
								byte dl_1112;
								byte cl_1113;
								byte ch_1114;
								ptrArg04();
								es_1032 = (ss->*sp_1089).t0004;
								sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) &(ss->*sp_1089).t0004 + 0x02);
								if (ax_1102 < 0x00)
								{
									if (si_1093 + 0x01 >= v70_951)
									{
										mp16 bp_1223;
										fn09F4_0460(bp_1014, out bp_1223);
										return bp_1223;
									}
									if ((bLoc2B_1230 & 0x01) != 0x00)
									{
										mp16 bp_1221;
										fn09F4_0460(bp_1014, out bp_1221);
										return bp_1221;
									}
									else
									{
										es_1032->*di_1033 = 0x00;
										mp16 bp_1219;
										fn09F4_0460(bp_1014, out bp_1219);
										return bp_1219;
									}
								}
								Eq_2417 ch_1137 = 0x01 << ((byte) ax_1102 & 0x07);
								si_1143 = si_1093;
								byte al_1146 = (byte) ax_1102;
								bx = ax_1102 >> 0x03;
								if ((Mem1088[ss:bp_1014 - 0x20 + (ax_1102 >>u 0x03):byte] & ch_1137) != 0x00)
								{
									if ((bLoc2B_1230 & 0x10) != 0x00)
										goto l09F4_0427;
								}
								else if ((bLoc2B_1230 & 0x10) == 0x00)
								{
l09F4_0427:
									(ss->*sp_1089).t0004 = es_1032;
									(ss->*sp_1089).t0002 = wArg0E;
									(ss->*sp_1089).t0000 = wArg0C;
									(ss->*(sp_1089 - 0x02)).t0000 = ax_1102;
									struct Eq_2461 Eq_113::* sp_1162;
									byte SCZO_1165;
									ci16 si_1166;
									struct Eq_2464 * es_1168;
									byte D_1169;
									byte al_1170;
									byte SZO_1172;
									byte C_1173;
									byte Z_1174;
									word16 ax_1175;
									word16 cx_1176;
									byte SO_1177;
									byte S_1178;
									byte bl_1180;
									byte bh_1181;
									byte CZ_1182;
									word16 dx_1183;
									byte ah_1184;
									byte dl_1185;
									byte cl_1186;
									byte ch_1187;
									ptrArg08();
									es_1032 = (ss->*sp_1162).t0006;
									sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) &(ss->*sp_1162).t0006 + 0x02);
									if (si_1166 + 0x01 < v70_951)
										break;
									goto l09F4_0448;
								}
								if ((bLoc2B_1230 & 0x01) == 0x00)
								{
									es_1032->*di_1033 = al_1146;
									di_1033 = (word32) di_1033 + 0x01;
								}
							}
							if ((bLoc2B_1230 & 0x01) == 0x00)
							{
l09F4_0448:
								es_1032->*di_1033 = 0x00;
							}
							goto l09F4_0037;
						}
						if (al_1233 != 0x2D || (dl_880 > es_1032->*si_1236 || es_1032->*si_1236 == 0x5D))
							goto l09F4_038C;
						cu8 al_921 = ds->*si_1236 - dl_880;
						si_1236 = (word32) si_1236 + 0x01;
						ax_870 = DPB(ax_870, al_921, 0);
						if (al_921 != 0x00)
						{
							dl_880 = dl_880 + al_921;
							do
							{
								ch_888 = __rol(ch_888, 0x01);
								di_1033 = di_1033 + ((ch_888 & 0x80) != 0x00);
								Mem942[ss:bp_1014 - 0x20 + di_1033:byte] = Mem891[ss:bp_1014 - 0x20 + di_1033:byte] | ch_888;
								al_921 = al_921 - 0x01;
								ax_870 = DPB(ax_870, al_921, 0);
							} while (al_921 != 0x00);
						}
					}
					mp16 bp_1227;
					fn09F4_0478(bp_1014, out bp_1227);
					return bp_1227;
				case 0x11:
					ax_1237 = wLoc28_1079;
					dx_1240 = 0x00;
					if ((bLoc2B_1255 & 0x01) == 0x00)
						goto l09F4_01B7;
					break;
				case 0x12:
					si_1246.u0 = 0x10;
l09F4_0170:
					if ((ax_421 & 0x20) == 0x00)
						bLoc2B_1255 = bLoc2B_1255 | 0x04;
					union Eq_113 Eq_113::* sp_642 = sp_1009 - 0x02;
					ss->*sp_642 = ss;
					ss->*(sp_642 - 0x02) = fp - 0x26;
					ss->*(sp_642 - 0x04) = ss;
					ss->*(sp_642 - 0x06) = fp - 0x28;
					ss->*(sp_642 - 0x08) = wLoc24_1264 & 0x7FFF;
					ss->*(sp_642 - 0x0A) = si_1246;
					ss->*(sp_642 - 0x0C) = wArg0E;
					ss->*(sp_642 - 0x0E) = wArg0C;
					ss->*(sp_642 - 0x10) = wArg0A;
					ss->*(sp_642 - 0x12) = wArg08;
					ss->*(sp_642 - 0x14) = wArg06;
					ss->*(sp_642 - 22) = wArg04;
					word16 di_688;
					ax_1237 = __scantol(si_1246, bx_443 << 0x01, ds, ptrArg00, ptrArg04, wArg08, wArg0A, wArg0C, wArg0E, ptrArg10, ptrArg14, out dx_1240, out bx, out di_688);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1255 & 0x01) == 0x00)
						{
l09F4_01B7:
							struct Eq_1987 * es_625;
							Eq_113 di_626 = fn09F4_001A(bp_1014, ds, out es_625);
							es_625->*di_626 = ax_1237;
							if ((bLoc2B_1255 & 0x04) != 0x00)
								es_625->*((word32) di_626 + 0x02) = dx_1240;
						}
						goto l09F4_0037;
					}
					if (wLoc26 < 0x00)
					{
						mp16 bp_710;
						fn09F4_0460(bp_1014, out bp_710);
						return bp_710;
					}
					else
					{
						mp16 bp_708;
						fn09F4_0478(bp_1014, out bp_708);
						return bp_708;
					}
				case 0x13:
					struct Eq_1579 Eq_113::* bp_1247;
					cu16 ax_1248 = fn09F4_01D1(bx_443, bp_1014, ds, out bp_1247);
					mp16 bp_1252;
					fn09F4_01D1(ax_1248, bp_1247, ds, out bp_1252);
					return bp_1252;
				case 0x14:
					bLoc2B_1255 = bLoc2B_1255 & 223;
					break;
				case 0x15:
					bLoc2B_1255 = bLoc2B_1255 | 0x20;
					break;
				}
			}
			mp16 bp_450;
			fn09F4_0460(bp_1014, out bp_450);
			return bp_450;
		}
l09F4_0047:
		union Eq_113 Eq_113::* sp_160 = sp_1009 - 0x02;
		ss->*sp_160 = wArg0E;
		ss->*(sp_160 - 0x02) = wArg0C;
		wLoc28_1079 = wLoc28_1079 + 0x01;
		struct Eq_1612 Eq_113::* sp_167;
		byte SCZO_170;
		Eq_113 di_172;
		struct Eq_1615 * es_173;
		byte D_174;
		byte al_175;
		byte SZO_177;
		byte C_178;
		byte Z_179;
		Eq_113 ax_180;
		word16 cx_181;
		byte SO_182;
		byte S_183;
		byte bl_185;
		byte bh_186;
		byte CZ_187;
		word16 dx_188;
		byte ah_189;
		byte dl_190;
		byte cl_191;
		byte ch_192;
		ptrArg04();
		sp_1009 = (struct Eq_1585 Eq_113::*) ((char *) &sp_167->t0002 + 0x02);
		Eq_113 ax_197 = ax_180;
		if (ax_180 < 0x00)
		{
l09F4_0084:
			mp16 bp_232;
			fn09F4_0460(bp_1014, out bp_232);
			return bp_232;
		}
		if (di_172 >= 0x00 && ds->*((word32) di_172 + 1214) == 0x01)
		{
			do
			{
				ci8 bl_310 = (byte) ax_197;
				Eq_113 bx_313 = DPB(ax_197, bl_310, 0);
				if (bl_310 < 0x00 || ds->*((word32) bx_313 + 1214) != 0x01)
				{
					union Eq_113 Eq_113::* sp_318 = sp_1009 - 0x02;
					ss->*sp_318 = wArg0E;
					ss->*(sp_318 - 0x02) = wArg0C;
					ss->*(sp_318 - 0x04) = bx_313;
					word16 sp_325;
					byte SCZO_328;
					word16 di_330;
					struct Eq_1671 * es_331;
					byte D_332;
					byte al_333;
					byte SZO_335;
					byte C_336;
					byte Z_337;
					word16 ax_338;
					word16 cx_339;
					byte SO_340;
					byte S_341;
					byte bl_343;
					byte bh_344;
					byte CZ_345;
					word16 dx_346;
					byte ah_347;
					byte dl_348;
					byte cl_349;
					byte ch_350;
					ptrArg08();
					sp_1009 = sp_325 + 0x06;
					wLoc28_1079 = wLoc28_1079 - 0x01;
					goto l09F4_003A;
				}
				union Eq_113 Eq_113::* sp_362 = sp_1009 - 0x02;
				ss->*sp_362 = wArg0E;
				ss->*(sp_362 - 0x02) = wArg0C;
				wLoc28_1079 = wLoc28_1079 + 0x01;
				word16 sp_367;
				byte SCZO_370;
				word16 si_371;
				word16 di_372;
				struct Eq_1715 * es_373;
				byte D_374;
				byte al_375;
				byte SZO_377;
				byte C_378;
				byte Z_379;
				Eq_113 ax_380;
				word16 cx_381;
				byte SO_382;
				byte S_383;
				word16 bx_384;
				byte bl_385;
				byte bh_386;
				byte CZ_387;
				word16 dx_388;
				byte ah_389;
				byte dl_390;
				byte cl_391;
				byte ch_392;
				ptrArg04();
				sp_1009 = sp_367 + 0x04;
				ax_197 = ax_380;
			} while (ax_380 > 0x00);
			goto l09F4_0084;
		}
	} while (ax_180 == di_172);
	(ss->*sp_167).t0002 = wArg0E;
	(ss->*sp_167).t0000 = wArg0C;
	(ss->*(sp_167 - 0x02)).t0000 = ax_180;
	word16 sp_249;
	struct Eq_1579 Eq_113::* bp_250;
	struct Eq_1759 * ss_251;
	byte SCZO_252;
	word16 si_253;
	word16 di_254;
	struct Eq_1763 * es_255;
	byte D_256;
	byte al_257;
	struct Eq_1766 * ds_258;
	byte SZO_259;
	byte C_260;
	byte Z_261;
	word16 ax_262;
	word16 cx_263;
	byte SO_264;
	byte S_265;
	word16 bx_266;
	byte bl_267;
	byte bh_268;
	byte CZ_269;
	word16 dx_270;
	byte ah_271;
	byte dl_272;
	byte cl_273;
	byte ch_274;
	ptrArg08();
	mp16 bp_280;
	fn09F4_0460(bp_250, out bp_280);
	return bp_280;
}

// 09F4:001A: Register word16 fn09F4_001A(Register (memptr Eq_113 Eq_1579) bp, Register Eq_113 ds, Register out (ptr Eq_1951) esOut)
word16 fn09F4_001A(Eq_1579 Eq_113::*bp, Eq_113 ds, Eq_1951 * & esOut)
{
	Eq_2530 es_di_5 = (ss->*bp).t0016;
	union Eq_2560 Eq_113::* di_6 = (word16) es_di_5;
	if (((ss->*(bp - 0x29)).t0000 & 0x20) == 0x00)
	{
		word16 di_26 = *es_di_5;
		(ss->*bp).t0016.u0 = (word16) (ss->*bp).t0016.u0 + 0x02;
		struct Eq_2558 * es_29;
		*esOut = ds;
		return di_26;
	}
	else
	{
		Eq_2560 es_di_19 = ds->*di_6;
		(ss->*bp).t0016.u0 = (word16) (ss->*bp).t0016.u0 + 0x04;
		struct Eq_2572 * es_21;
		*esOut = SLICE(es_di_19, selector, 16);
		return (word16) es_di_19;
	}
}

// 09F4:01D1: Register cu16 fn09F4_01D1(Register cu16 ax, Register (memptr Eq_113 Eq_1579) bp, Register Eq_113 ds, Register out ptr16 bpOut)
cu16 fn09F4_01D1(cu16 ax, Eq_1579 Eq_113::*bp, Eq_113 ds, ptr16 & bpOut)
{
	word16 bp_5;
	return fn09F4_047F(ax, bp, ds, out bp_5);
}

// 09F4:02C8: Register cu16 fn09F4_02C8(Register cu16 ax, Register (memptr Eq_113 Eq_1579) bp, Register Eq_113 ds, Register out ptr16 bpOut)
cu16 fn09F4_02C8(cu16 ax, Eq_1579 Eq_113::*bp, Eq_113 ds, ptr16 & bpOut)
{
	word16 bp_5;
	return fn09F4_047F(ax, bp, ds, out bp_5);
}

// 09F4:0460: Register word16 fn09F4_0460(Register (memptr Eq_113 Eq_1579) bp, Register out ptr16 bpOut)
word16 fn09F4_0460(Eq_1579 Eq_113::*bp, ptr16 & bpOut)
{
	ss->*(v3 - 0x02) = (ss->*bp).w0010;
	ss->*(v3 - 0x04) = (ss->*bp).w000E;
	ss->*(v3 - 0x06) = ~0x00;
	word16 sp_14;
	Eq_113 ss_15;
	struct Eq_1579 Eq_113::* bp_16;
	word16 ax_17;
	byte SCZO_18;
	byte C_19;
	struct Eq_2620 * es_20;
	word16 di_21;
	word16 si_22;
	(ss->*bp).ptr000A();
	ss_15->*(bp_16 - 0x28) = ss_15->*(bp_16 - 0x28) - (ss_15->*(bp_16 - 0x28) < 0x01);
	word16 bp_29;
	return fn09F4_0478(bp_16, out bp_29);
}

// 09F4:0478: Register Eq_2246 fn09F4_0478(Register (memptr Eq_113 Eq_1579) bp, Register out ptr16 bpOut)
Eq_2246 fn09F4_0478(Eq_1579 Eq_113::*bp, ptr16 & bpOut)
{
	Eq_2246 ax_7 = ss->*(bp - 0x28);
	word16 bp_12;
	*bpOut = (ss->*bp).a0000[0x00];
	return ax_7;
}

// 09F4:047F: Register cu16 fn09F4_047F(Register cu16 ax, Register (memptr Eq_113 Eq_1579) bp, Register Eq_113 ds, Register out ptr16 bpOut)
cu16 fn09F4_047F(cu16 ax, Eq_1579 Eq_113::*bp, Eq_113 ds, ptr16 & bpOut)
{
	do
	{
		ss->*(bp - 0x26) = (word16) (ss->*(bp - 0x26)) + 0x01;
		ss->*(v3 - 0x02) = (ss->*bp).w0010;
		ss->*(v3 - 0x04) = (ss->*bp).w000E;
		struct Eq_2691 Eq_113::* sp_16;
		byte SZO_19;
		word16 cx_20;
		ci16 ax_21;
		byte C_22;
		byte al_23;
		byte S_24;
		word16 bx_25;
		struct Eq_2699 * ds_26;
		byte SCZO_27;
		byte Z_28;
		(ss->*bp).ptr0006();
		ci8 al_34 = (byte) ax_21;
		if (ax_21 <= 0x00)
		{
			if (ax_21 == 0x00)
				break;
			word16 bp_87;
			return fn09F4_0460(bp, out bp_87);
		}
		Eq_2709 ax_72 = DPB(ax_21, al_34, 0);
	} while (al_34 >= 0x00 && ds_26->*((word32) ax_72 + 1214) == 0x01);
	word16 sp_58;
	struct Eq_2719 * ss_59;
	word16 bp_60;
	byte SZO_61;
	word16 cx_62;
	cu16 ax_63;
	byte C_64;
	byte al_65;
	byte S_66;
	word16 bx_67;
	struct Eq_2728 * ds_68;
	byte SCZO_69;
	byte Z_70;
	(ss->*((word32) (ss->*sp_16).t0004 + 0x03))();
	return ax_63;
}

// 0A45:0003: FlagGroup bool fn0A45_0003(Register cu8 cl, Register cu8 bl)
bool fn0A45_0003(cu8 cl, cu8 bl)
{
	bool C_13;
	cu8 bl_26 = bl - 0x30;
	if (bl >= 0x30)
	{
		if (bl <= 0x39)
		{
l0A45_0020:
			if (bl_26 < cl)
			{
				C_13 = false;
				return C_13;
			}
			goto l0A45_002C;
		}
		if (bl <= 0x5A)
			bl_26 = bl - 55;
		else
			bl_26 = bl - 0x57;
		if (bl_26 > 0x09)
			goto l0A45_0020;
	}
l0A45_002C:
	C_13 = true;
	return C_13;
}

// 0A45:0031: Register Eq_113 __scantol(Register Eq_113 ax, Register ui16 bx, Register Eq_113 ds, Stack (ptr code) ptrArg04, Stack (ptr code) ptrArg08, Stack Eq_113 wArg0C, Stack Eq_113 wArg0E, Stack Eq_113 wArg10, Stack Eq_113 wArg12, Stack (ptr word16) ptrArg14, Stack (ptr word16) ptrArg18, Register out ptr16 dxOut, Register out Eq_2116 bxOut, Register out ptr16 diOut)
Eq_113 __scantol(Eq_113 ax, ui16 bx, Eq_113 ds, code * ptrArg04, code * ptrArg08, Eq_113 wArg0C, Eq_113 wArg0E, Eq_113 wArg10, Eq_113 wArg12, word16 * ptrArg14, word16 * ptrArg18, ptr16 & dxOut, Eq_2116 & bxOut, ptr16 & diOut)
{
	cu8 bLoc07_14 = 0x00;
	word16 wLoc06_142 = 0x00;
	word16 wLoc04_139 = 0x01;
	mp16 sp_106 = fp - 0x0E;
	do
	{
		Eq_113 ax_188;
		word16 v9_29 = wLoc06_142 + 0x01;
		union Eq_113 Eq_2807::* sp_34 = sp_106 - 0x02;
		ss->*sp_34 = wArg0E;
		ss->*(sp_34 - 0x02) = wArg0C;
		wLoc06_142 = v9_29;
		struct Eq_2816 Eq_2807::* sp_41;
		word16 bp_42;
		byte SCZO_44;
		word16 si_45;
		byte Eq_2792::* di_46;
		struct Eq_2820 * es_47;
		byte SZO_48;
		word16 cx_49;
		Eq_113 ax_50;
		byte C_51;
		byte SO_52;
		byte al_53;
		word16 bx_54;
		byte bl_55;
		byte Z_56;
		struct Eq_2792 * ds_57;
		byte CZ_58;
		byte cl_59;
		word16 dx_60;
		byte dl_61;
		byte dh_62;
		byte ah_63;
		ptrArg04();
		sp_106 = (char *) &(ds_57->*sp_41).t0002 + 0x02;
		Eq_113 ax_143 = ax_50;
		byte al_72 = (byte) ax_50;
		if (ax_50 < 0x00)
			goto l0A45_00CB;
		Eq_113 ax_225 = (int16) al_72;
		byte bl_234 = (byte) ax_225;
	} while ((bl_234 & 0x80) == 0x00 && (Mem39[ds_57:ax_225 + di_46:byte] & 0x01) != 0x00);
	ax_143 = ax_225;
	byte al_244 = (byte) ax_225;
	ci16 wArg12_249 = wArg12 - 0x01;
	if (wArg12 < 0x01)
	{
l0A45_00D2:
		wLoc04_139 = 0x00;
l0A45_00D7:
		union Eq_113 Eq_2807::* sp_149 = sp_106 - 0x02;
		ss->*sp_149 = wArg0E;
		ss->*(sp_149 - 0x02) = wArg0C;
		ss->*(sp_149 - 0x04) = ax_143;
		word16 sp_157;
		word16 bp_158;
		byte SCZO_160;
		word16 si_161;
		word16 di_162;
		struct Eq_2881 * es_163;
		byte SZO_164;
		word16 cx_165;
		word16 ax_166;
		byte C_167;
		byte SO_168;
		byte al_169;
		word16 bx_170;
		byte bl_171;
		byte Z_172;
		struct Eq_2891 * ds_173;
		byte CZ_174;
		byte cl_175;
		word16 dx_176;
		byte dl_177;
		byte dh_178;
		byte ah_179;
		ptrArg08();
		sp_106 = sp_157 + 0x06;
		wLoc06_142 = wLoc06_142 - 0x01;
		ax_188.u0 = 0x00;
		word16 dx_190;
		*dxOut = 0x00;
		goto l0A45_01A4;
	}
	if (al_244 != 0x2B)
	{
		if (al_244 != 0x2D)
			goto l0A45_0091;
		bLoc07_14 = 0x01;
	}
	wArg12_249 = wArg12 - 0x02;
	if (wArg12 < 0x02)
		goto l0A45_00D2;
	(ss->*sp_41).t0002 = wArg0E;
	(ss->*sp_41).t0000 = wArg0C;
	wLoc06_142 = v9_29 + 0x01;
	word16 sp_862;
	word16 bp_863;
	byte SCZO_865;
	word16 si_866;
	word16 di_867;
	struct Eq_2919 * es_868;
	byte SZO_869;
	word16 cx_870;
	Eq_113 ax_871;
	byte C_872;
	byte SO_873;
	byte al_874;
	word16 bx_875;
	byte bl_876;
	byte Z_877;
	struct Eq_2929 * ds_878;
	byte CZ_879;
	byte cl_880;
	word16 dx_881;
	byte dl_882;
	byte dh_883;
	byte ah_884;
	ptrArg04();
	sp_106 = sp_862 + 0x04;
	ax_143 = ax_871;
	al_244 = (byte) ax_871;
	if (ax_871 < 0x00)
	{
l0A45_00CB:
		wLoc04_139 = ~0x00;
		goto l0A45_00D7;
	}
l0A45_0091:
	Eq_113 ax_418;
	Eq_113 si_311 = 0x00;
	ui16 di_314 = 0x00;
	cu8 cl_319 = (byte) wArg10;
	if (wArg10 != 0x00)
	{
		if (wArg10 > 0x24 || cl_319 < 0x02)
			goto l0A45_00D2;
		if (al_244 == 0x30)
		{
			if (cl_319 != 0x10)
				goto l0A45_011E;
			ci16 v32_749 = wArg12_249 - 0x01;
			wArg12_249 = v32_749;
			if (v32_749 >= 0x00)
			{
				union Eq_113 Eq_2807::* sp_757 = sp_106 - 0x02;
				ss->*sp_757 = wArg0E;
				ss->*(sp_757 - 0x02) = wArg0C;
				wLoc06_142 = wLoc06_142 + 0x01;
				word16 sp_762;
				word16 bp_763;
				byte SCZO_765;
				struct Eq_2978 * es_768;
				byte SZO_769;
				word16 cx_770;
				byte C_772;
				byte SO_773;
				byte al_774;
				word16 bx_775;
				byte bl_776;
				byte Z_777;
				struct Eq_2987 * ds_778;
				byte CZ_779;
				byte cl_780;
				word16 dx_781;
				byte dl_782;
				byte dh_783;
				byte ah_784;
				ptrArg04();
				sp_106 = sp_762 + 0x04;
				if (al_774 != 0x78 && al_774 != 88)
					goto l0A45_014A;
				goto l0A45_011E;
			}
l0A45_00ED:
			goto l0A45_0194;
		}
	}
	else
	{
		wArg10.u0 = 0x0A;
		if (al_244 == 0x30)
		{
			ci16 v70_797 = wArg12_249 - 0x01;
			wArg12_249 = v70_797;
			if (v70_797 >= 0x00)
			{
				union Eq_113 Eq_2807::* sp_805 = sp_106 - 0x02;
				ss->*sp_805 = wArg0E;
				ss->*(sp_805 - 0x02) = wArg0C;
				wLoc06_142 = wLoc06_142 + 0x01;
				word16 sp_810;
				word16 bp_811;
				byte SCZO_813;
				struct Eq_3232 * es_816;
				byte SZO_817;
				word16 cx_818;
				byte C_820;
				byte SO_821;
				byte al_822;
				word16 bx_823;
				byte bl_824;
				byte Z_825;
				struct Eq_3241 * ds_826;
				byte CZ_827;
				byte cl_828;
				word16 dx_829;
				byte dl_830;
				byte dh_831;
				byte ah_832;
				ptrArg04();
				sp_106 = sp_810 + 0x04;
				wArg10.u0 = 0x08;
				if (al_822 != 0x78 && al_822 != 88)
				{
l0A45_014A:
					cu8 cl_460 = (byte) wArg10;
					cu8 bl_464 = (byte) ax_418;
					bool C_465 = fn0A45_0003(cl_460, bl_464);
					Eq_113 ax_467 = ax_418;
					if (!C_465)
					{
l0A45_0184:
						union Eq_113 Eq_2807::* sp_486 = sp_106 - 0x02;
						ss->*sp_486 = wArg0E;
						ss->*(sp_486 - 0x02) = wArg0C;
						ss->*(sp_486 - 0x04) = ax_467;
						word16 sp_493;
						word16 bp_494;
						byte SCZO_496;
						struct Eq_3058 * es_499;
						byte SZO_500;
						word16 cx_501;
						word16 ax_502;
						byte C_503;
						byte SO_504;
						byte al_505;
						word16 bx_506;
						byte bl_507;
						byte Z_508;
						struct Eq_3068 * ds_509;
						byte CZ_510;
						byte cl_511;
						word16 dx_512;
						byte dl_513;
						byte dh_514;
						byte ah_515;
						ptrArg08();
						sp_106 = sp_493 + 0x06;
						wLoc06_142 = wLoc06_142 - 0x01;
l0A45_0194:
						word16 dx_342;
						*dxOut = di_314;
						ax_188 = si_311;
						if (bLoc07_14 != 0x00)
						{
							ax_188 = -si_311;
							word16 dx_362;
							*dxOut = -di_314 - (ax_188 == 0x00);
						}
						goto l0A45_01A4;
					}
					Eq_3028 dx_ax_525 = wArg10 * si_311;
					ui32 di_si_532 = (word32) dx_ax_525 + SEQ(di_314, (word32) ax_418 + (word16) dx_ax_525);
					di_314 = SLICE(di_si_532, word16, 16);
					si_311 = (word16) di_si_532;
					if (di_si_532 != 0x00)
					{
						do
						{
							ci16 v54_566 = wArg12_249 - 0x01;
							wArg12_249 = v54_566;
							if (v54_566 < 0x00)
								goto l0A45_0194;
							union Eq_113 Eq_2807::* sp_574 = sp_106 - 0x02;
							ss->*sp_574 = wArg0E;
							ss->*(sp_574 - 0x02) = wArg0C;
							wLoc06_142 = wLoc06_142 + 0x01;
							word16 sp_579;
							word16 bp_580;
							byte SCZO_582;
							uint16 si_583;
							uint16 di_584;
							struct Eq_3152 * es_585;
							byte SZO_586;
							word16 cx_587;
							Eq_113 ax_588;
							byte C_589;
							byte SO_590;
							byte al_591;
							word16 bx_592;
							byte bl_593;
							byte Z_594;
							struct Eq_3162 * ds_595;
							byte CZ_596;
							byte cl_597;
							word16 dx_598;
							byte dl_599;
							byte dh_600;
							byte ah_601;
							ptrArg04();
							sp_106 = sp_579 + 0x04;
							ax_467 = ax_588;
							if (!fn0A45_0003((byte) wArg10, (byte) ax_588))
								goto l0A45_0184;
							Eq_3175 dx_ax_625 = wArg10 * si_583;
							uint16 ax_626 = (word16) dx_ax_625;
							uint32 ax_si_641 = SEQ(di_584, (word32) ax_588 + ax_626) + SEQ(SLICE(dx_ax_625, word16, 16), ax_626);
							Eq_3185 dx_ax_635 = wArg10 * di_584;
							si_311 = (word16) ax_si_641;
							di_314 = SLICE(ax_si_641, word16, 16);
						} while (SLICE(dx_ax_635, byte, 16) + SLICE(dx_ax_635, byte, 24) + (ax_si_641 < 0x00) == 0x00);
						Eq_3197 ah_666 = (bLoc07_14 < ~0x00) + ~0x00;
						ax_188 = DPB(~0x00, ah_666, 8);
						word16 dx_672;
						*dxOut = (ah_666 < 0x00) + 0x7FFF;
						wLoc04_139 = 0x02;
l0A45_01A4:
						*ptrArg14 = *ptrArg14 + wLoc06_142;
						*ptrArg18 = wLoc04_139;
						word16 bx_119;
						*bxOut = wLoc04_139;
						word16 Eq_2807::* sp_123 = sp_106 + 0x02;
						word16 di_124;
						*diOut = ss->*sp_123;
						return ax_188;
					}
l0A45_0137:
					ci16 v44_396 = wArg12_249 - 0x01;
					wArg12_249 = v44_396;
					if (v44_396 < 0x00)
						goto l0A45_0194;
					union Eq_113 Eq_2807::* sp_404 = sp_106 - 0x02;
					ss->*sp_404 = wArg0E;
					ss->*(sp_404 - 0x02) = wArg0C;
					wLoc06_142 = wLoc06_142 + 0x01;
					word16 sp_409;
					word16 bp_410;
					byte SCZO_412;
					struct Eq_3104 * es_415;
					byte SZO_416;
					word16 cx_417;
					byte C_419;
					byte SO_420;
					byte al_421;
					word16 bx_422;
					byte bl_423;
					byte Z_424;
					struct Eq_3113 * ds_425;
					byte CZ_426;
					byte cl_427;
					word16 dx_428;
					byte dl_429;
					byte dh_430;
					byte ah_431;
					ptrArg04();
					sp_106 = sp_409 + 0x04;
					goto l0A45_014A;
				}
				wArg10.u0 = 0x10;
l0A45_011E:
				goto l0A45_0137;
			}
			goto l0A45_00ED;
		}
	}
	if (!fn0A45_0003(0x0A, (byte) ax_143))
	{
		si_311 = ax_143;
		goto l0A45_0137;
	}
	goto l0A45_00D2;
}

