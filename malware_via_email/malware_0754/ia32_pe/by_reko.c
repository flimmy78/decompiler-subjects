// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: void fn00401000(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401000(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem13[0x00404090:word32] = 0x0067083F >> (byte) (8035583 - dwLoc1C);
	word32 eax_23 = GetDesktopWindow();
	GetTextFaceA(GetDC(eax_23), eax_23, 0xFF);
	word32 dwLoc0C_41 = 0x00;
	while (dwLoc0C_41 < dwArg0C)
	{
		Mem64[dwArg04 + dwLoc0C_41:byte] = Mem13[dwArg08 + dwLoc0C_41:byte];
		dwLoc0C_41 = dwLoc0C_41 + 0x01;
	}
}

// 004010C0: void fn004010C0(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn004010C0(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem12[0x00404094:word32] = 0x000D9B4B << (byte) Mem0[0x004040B0:word32];
	if (GetKeyboardType(0x00) <= 124007797)
	{
		if (dwArg0C >=u 0x01)
		{
			byte cl_60 = Mem12[dwArg04 + 0x00:byte];
			word32 dwLoc0C_102 = 0x01;
			word32 dwLoc1C_118 = 0x00;
			do
			{
				byte al_76 = Mem12[dwArg04 + dwLoc0C_102:byte];
				Mem86[0x004040C0:word32] = 0x00088CAE << (byte) (Mem12[0x004040D0:word32] - 0x00011F4B);
				word32 ecx_79 = dwLoc0C_102 + 0x01;
				dwLoc0C_102 = ecx_79;
				if ((word32) al_76 == (word32) cl_60)
				{
					if ((word32) Mem86[dwArg04 + ecx_79:byte] == 0x00)
					{
						Mem132[dwArg08 + dwLoc1C_118:byte] = cl_60;
						Mem140[0x004040C0:word32] = 169311 >> (byte) dwLoc38;
						dwLoc1C_118 = dwLoc1C_118 + 0x01;
						dwLoc0C_102 = ecx_79 + 0x01;
					}
					else
					{
						Mem153[0x0040408C:word32] = Mem86[0x004040BC:word32] *s 0x0008FD55 *s dwLoc10 << (byte) dwLoc28;
						word32 eax_164 = fn004012A0(fp - 0x14, dwArg04 + ecx_79) + ecx_79;
						Mem168[0x004040BC:word32] = Mem153[0x004040D0:word32] *s 1190;
						dwLoc0C_102 = fn004012A0(fp - 44, dwArg04 + eax_164) + eax_164;
						word32 dwLoc20_182 = 0x00;
						while (dwLoc20_182 <u dwLoc14)
						{
							Mem197[0x004040C0:word32] = Mem168[0x004040D0:word32] >> (byte) dwLoc38;
							Mem205[dwArg08 + dwLoc1C_118:byte] = Mem197[dwArg08 + (dwLoc1C_118 - dwLoc2C):byte];
							dwLoc1C_118 = dwLoc1C_118 + 0x01;
							dwLoc20_182 = dwLoc20_182 + 0x01;
						}
					}
				}
				else
				{
					Mem217[dwArg08 + dwLoc1C_118:byte] = al_76;
					dwLoc1C_118 = dwLoc1C_118 + 0x01;
					dwLoc38 = dwLoc24 - Mem217[0x00404098:word32] >> (byte) (Mem217[0x004040BC:word32] + dwLoc24);
				}
			} while (dwLoc0C_102 <u dwArg0C);
		}
	}
	else
	{
		Mem18[0x004040B0:word32] = 0x02;
		ExitProcess(0x0581);
	}
}

// 004012A0: Register word32 fn004012A0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn004012A0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_12 = 0x00;
	word32 dwLoc24_13 = 0x00;
	do
	{
		word32 ecx_16 = (word32) Mem0[dwArg08 + 0x00:byte];
		Mem37[0x004040D0:word32] = Mem0[0x00404098:word32] - dwLoc14 << ~0x7E;
		word32 ecx_32 = dwLoc0C_12 << 0x07 | ecx_16 & 0x7F;
		word32 ecx_39 = dwLoc24_13 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc0C_12 = ecx_32;
		dwLoc24_13 = ecx_39;
	} while ((ecx_16 & 0x80) != 0x00);
	Mem49[dwArg04 + 0x00:word32] = ecx_32;
	return ecx_39;
}

// 00401320: Register word32 fn00401320(Stack word32 dwArg04)
word32 fn00401320(word32 dwArg04)
{
	word32 eax_33;
	word32 eax_24 = CreateFileA(dwArg04, 0x80000000, 0x01, 0x00, 0x03, 0x80, 0x00);
	Mem30[0x0040408C:word32] = Mem0[0x004040C0:word32] - Mem0[0x004040C0:word32] - Mem0[0x004040D0:word32];
	if (eax_24 == ~0x00)
		eax_33 = 0x00;
	else
		eax_33 = eax_24;
	return eax_33;
}

// 00401380: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Mem17[0x0040408C:word32] = CreateDesktopA;
	Mem28[0x004040D0:word32] = Mem17[0x00404098:word32] - 0x00075C75;
	word32 eax_45 = dwLoc24 << ~0x2A >> ~0x79;
	word32 edx_41 = dwLoc24 - Mem28[0x0040408C:word32] << (byte) (374848 - dwLoc14 << 0x43) >> (byte) Mem28[0x004040C0:word32];
	Mem49[0x00404098:word32] = Mem28[0x004040D0:word32] + eax_45;
	Mem67[0x004040BC:word32] = Mem49[0x004040BC:word32] << (byte) (edx_41 *s edx_41 + 642669);
	word32 ecx_79 = Mem67[0x004040D0:word32] *s Mem67[0x004040C0:word32] *s 212554 + Mem67[0x004040C0:word32];
	word32 edx_85 = eax_45 >> (byte) Mem67[0x004040D0:word32];
	GetModuleHandleA(0x00);
	Mem97[0x00404098:word32] = Mem67[0x004040C0:word32] + Mem67[0x0040408C:word32] << (byte) Mem67[0x00404098:word32] << ~0x12;
	LoadIconA(GetModuleHandleA(0x00), 0x00);
	Mem113[0x004040C0:word32] = 0x000C7590 >> (byte) (Mem97[0x0040408C:word32] + 0x00020CA3) << 0x6B;
	LoadCursorA(0x00, 0x7F00);
	Mem124[0x004040D0:word32] = edx_85 >> (byte) Mem113[0x004040D0:word32];
	Mem135[0x004040BC:word32] = 953338 - edx_41 - edx_41;
	Mem144[0x004040D0:word32] = ecx_79 << (byte) ecx_79 << (byte) Mem135[0x004040C0:word32];
	word32 eax_148 = DPB(fp - 0x70, RegisterClassA(fp - 0x70), 0);
	word32 edx_129 = 174407 >> (byte) ecx_79;
	if ((word32) RegisterClassA(fp - 0x70) != 0x00)
	{
		if (dwArg08 != 0x01)
			Mem831[0x004040B8:word32] = 0x00;
		else
		{
			Mem832[0x004040B8:word32] = 0x01;
			Mem834[0x004040A0:word32] = dwArg04;
		}
		word32 dwLoc30_334;
		Mem299[0x004040C0:word32] = 0x00080768 - ecx_79 *s edx_41 - 525665;
		CreateWindowExA(0x00, 0x00404048, 0x00404038, 0x01, 0x1982, 1554, 136515, 18002, 0x00, 0x00, GetModuleHandleA(0x00), 0x00);
		Mem330[0x004040BC:word32] = InvalidateRect;
		word32 esp_325 = fp - 0x01E0;
		if (Mem330[0x004040B8:word32] == 0x00)
		{
			esp_325 = fp - 484;
			dwLoc30_334 = GetModuleHandleA(0x00);
		}
		else
			dwLoc30_334 = dwArg04;
		Mem336[0x004040C0:word32] = 4204190;
		word32 edx_340 = dwLoc28 << (byte) Mem336[0x00404090:word32];
		word32 esp_342 = esp_325 - 0x04;
		Mem343[esp_342 + 0x00:word32] = 0x00;
		if (GetKeyboardType(Mem343[esp_342 + 0x00:int32]) > 0x7787)
		{
			Mem348[0x00404094:word32] = edx_340;
			Mem350[esp_342 - 0x04 + 0x00:word32] = 884;
			ExitProcess(Mem350[esp_342 - 0x04 + 0x00:UINT]);
		}
		Mem356[0x0040408C:word32] = DrawTextW;
		word32 eax_359 = dwLoc30_334 + Mem356[dwLoc30_334 + 0x3C:word32];
		Mem365[esp_342 - 0x04 + 0x00:word32] = 0x00404060;
		word32 eax_366 = DPB(eax_359, AddAtomA(Mem365[esp_342 - 0x04 + 0x00:LPCSTR]), 0);
		if ((word32) AddAtomA(Mem365[esp_342 - 0x04 + 0x00:LPCSTR]) == 0x00)
		{
			Mem378[esp_342 - 0x08 + 0x00:word32] = 0x9314;
			ExitProcess(Mem378[esp_342 - 0x08 + 0x00:UINT]);
		}
		Mem381[0x004040D0:word32] = IsDialogMessageW;
		word32 eax_391 = ((word32) Mem381[eax_359 + 0x06:word16] - 0x01) *s 0x28 + ((eax_359 + 0x18) + (word32) Mem381[eax_359 + 0x14:word16]);
		word32 eax_407 = (uint32) ((uint64) (uint32) (Mem381[eax_391 + 0x10:word32] - 0x01 + Mem381[eax_359 + 0x3C:word32]) /u Mem381[eax_359 + 0x3C:word32]) *s Mem381[eax_359 + 0x3C:word32] + Mem381[eax_391 + 0x14:word32];
		Mem411[0x004040BC:word32] = DestroyIcon;
		Mem413[esp_342 - 0x08 + 0x00:word32] = 0x0200;
		word32 eax_415 = fn004025F0(dwArg00);
		if (eax_415 != 0x00)
		{
			Mem426[0x004040D0:word32] = SetScrollInfo;
			Mem428[esp_342 - 0x08 + 0x00:word32] = 0x0200;
			Mem431[esp_342 - 0x0C + 0x00:word32] = eax_415;
			Mem434[esp_342 - 0x10 + 0x00:word32] = dwLoc30_334;
			GetModuleFileNameA(Mem434[esp_342 - 0x10 + 0x00:HMODULE], Mem434[esp_342 - 0x0C + 0x00:LPSTR], Mem434[esp_342 - 0x08 + 0x00:DWORD]);
			Mem440[esp_342 - 0x14 + 0x00:word32] = 0x0040407C;
			word32 eax_441 = DPB(16416625, AddAtomA(Mem440[esp_342 - 0x14 + 0x00:LPCSTR]), 0);
			word16 ax_442 = AddAtomA(Mem440[esp_342 - 0x14 + 0x00:LPCSTR]);
			if ((word32) ax_442 == 0x00)
			{
				Mem448[0x004040B0:word32] = 0x6501AD56;
				Mem450[esp_342 - 0x18 + 0x00:word32] = 0x00412544;
				ExitProcess(Mem450[esp_342 - 0x18 + 0x00:UINT]);
			}
			Mem456[esp_342 - 0x18 + 0x00:word32] = eax_415;
			word32 eax_457 = fn00401320(dwArg00);
			if (eax_457 != 0x00)
			{
				word32 edx_471 = edx_129 *s 1154054400 >> (byte) Mem456[0x004040BC:word32];
				Mem474[0x004040BC:word32] = EnumPropsW;
				Mem476[esp_342 - 0x18 + 0x00:word32] = 0x00;
				Mem479[esp_342 - 0x1C + 0x00:word32] = eax_457;
				word32 eax_481 = GetFileSize(Mem479[esp_342 - 0x1C + 0x00:HANDLE], Mem479[esp_342 - 0x18 + 0x00:LPDWORD]) - eax_407;
				Mem486[0x0040408C:word32] = CreateAcceleratorTableW;
				if (eax_481 != 0x00)
				{
					Mem496[esp_342 - 0x20 + 0x00:word32] = eax_481 + 0x10;
					word32 eax_497 = fn004025F0(dwArg00);
					if (eax_497 != 0x00)
					{
						Mem514[0x004040D0:word32] = edx_471 >> 0x00 >> (byte) edx_471;
						Mem516[esp_342 - 0x20 + 0x00:word32] = 0x00;
						Mem518[esp_342 - 0x24 + 0x00:word32] = 0x00;
						Mem521[esp_342 - 0x28 + 0x00:word32] = eax_407;
						Mem524[esp_342 - 44 + 0x00:word32] = eax_457;
						SetFilePointer(Mem524[esp_342 - 44 + 0x00:HANDLE], Mem524[esp_342 - 0x28 + 0x00:LONG], Mem524[esp_342 - 0x24 + 0x00:PLONG], Mem524[esp_342 - 0x20 + 0x00:DWORD]);
						Mem527[esp_342 - 0x30 + 0x00:word32] = 0x00;
						Mem530[esp_342 - 0x34 + 0x00:word32] = fp - 0x38;
						Mem533[esp_342 - 0x38 + 0x00:word32] = eax_481;
						Mem536[esp_342 - 0x3C + 0x00:word32] = eax_497;
						Mem539[esp_342 - 0x40 + 0x00:word32] = eax_457;
						if (ReadFile(Mem539[esp_342 - 0x40 + 0x00:HANDLE], Mem539[esp_342 - 0x3C + 0x00:LPVOID], Mem539[esp_342 - 0x38 + 0x00:DWORD], Mem539[esp_342 - 0x34 + 0x00:LPDWORD], Mem539[esp_342 - 0x30 + 0x00:LPOVERLAPPED]) != 0x00)
						{
							Mem550[0x004040D0:word32] = FindWindowExA;
							Mem553[0x004040D0:word32] = ecx_79 >> ~0x7B;
							Mem556[esp_342 - 0x44 + 0x00:word32] = eax_457;
							CloseHandle(Mem556[esp_342 - 0x44 + 0x00:HANDLE]);
							Mem559[0x004040BC:word32] = DestroyWindow;
							if (dwLoc38 == eax_481)
							{
								Mem570[esp_342 - 0x48 + 0x00:word32] = 0x50;
								if (GetSystemMetrics(Mem570[esp_342 - 0x48 + 0x00:int32]) != 0x00)
								{
									Mem578[0x0040408C:word32] = BroadcastSystemMessageA;
									word32 ecx_586 = edx_471 + Mem578[0x00404098:word32] - Mem578[0x004040C0:word32];
									Mem590[esp_342 - 0x4C + 0x00:word32] = fp - 0x017C;
									Mem592[esp_342 - 0x50 + 0x00:word32] = 0xFF;
									Mem595[esp_342 - 0x54 + 0x00:word32] = GetDesktopWindow();
									Mem598[esp_342 - 88 + 0x00:word32] = GetDC(Mem595[esp_342 - 0x54 + 0x00:HWND]);
									GetTextFaceA(Mem598[esp_342 - 88 + 0x00:HDC], Mem598[esp_342 - 0x54 + 0x00:int32], Mem598[esp_342 - 0x50 + 0x00:LPSTR]);
									if (false)
									{
										Mem618[esp_342 - 0x5C + 0x00:word32] = 0x40;
										Mem623[esp_342 - 0x60 + 0x00:word32] = eax_497 - 0x40 + eax_481;
										Mem626[esp_342 - 100 + 0x00:word32] = eax_497;
										fn00401000(dwArg00, dwArg04, dwArg08);
										word32 ecx_631 = Mem626[eax_497 + 0x00:word32];
										word32 eax_634 = Mem626[eax_497 + 0x04:word32];
										word32 dwLoc10_636 = 0x00;
										while (dwLoc10_636 <u ecx_631)
										{
											Mem649[0x004040D0:word32] = Mem626[0x0040408C:word32] *s 0x000666C5 << (byte) edx_471;
											Mem656[eax_497 + dwLoc10_636 + 0x08:word32] = Mem649[eax_497 + dwLoc10_636 + 0x08:word32] ^ 2222222222;
											Mem663[0x004040BC:word32] = 466094 << (byte) (Mem656[0x00404098:word32] + ecx_586);
											dwLoc10_636 = dwLoc10_636 + 0x08;
										}
										Mem670[esp_342 - 0x5C + 0x00:word32] = eax_634;
										Mem673[0x004040B4:word32] = fn004025F0(dwArg00);
										if (Mem673[0x004040B4:word32] != 0x00)
										{
											word32 esp_736;
											Mem680[esp_342 - 0x5C + 0x00:word32] = ecx_631;
											Mem683[esp_342 - 0x60 + 0x00:word32] = Mem680[0x004040B4:word32];
											Mem688[esp_342 - 100 + 0x00:word32] = eax_497 + 0x08;
											fn004010C0(dwArg00, dwArg04, dwArg08);
											Mem692[esp_342 - 0x5C + 0x00:word32] = 4201260;
											word32 eax_695 = Mem692[0x0040408C:word32] + ~0x3CE9 + Mem692[0x00404098:word32];
											word32 eax_698 = Mem692[esp_342 - 0x5C + 0x00:word32];
											Mem704[0x00404098:word32] = Mem692[0x004040BC:word32] - 594909 >> ~0x74;
											Mem707[0x004040C8:word32] = Mem704[fs:0x18:word32];
											Mem714[0x004040D0:word32] = Mem707[0x00404098:word32] + 781188 << (byte) (eax_695 >> ~0x43) >> ~0x7B;
											Mem715[0x0040409C:word32] = edi;
											Mem716[0x00404088:word32] = esi;
											Mem717[0x004040AC:word32] = ebx;
											Mem724[0x004040A4:word32] = fp - 0x04;
											if (Mem724[0x004040B8:word32] != 0x00)
											{
												Mem812[esp_342 - 0x5C + 0x00:word32] = eax_698 - Mem724[0x004040A0:word32];
												fn00401C10(fp - 0x04, dwArg00);
												esp_736 = esp_342 - 88;
											}
											else
											{
												Mem816[esp_342 - 0x5C + 0x00:word32] = 0x00;
												Mem822[esp_342 - 0x60 + 0x00:word32] = eax_698 - GetModuleHandleA(Mem816[(esp_342 - 0x5C) + 0x00:LPCSTR]);
												fn00401C10(fp - 0x04, dwArg00);
												esp_736 = esp_342 - 0x5C;
											}
											word32 esp_738 = esp_736 - 0x04;
											Mem739[esp_738 + 0x00:word32] = Mem724[0x004040B4:word32];
											if (fn00401E40(fp - 0x04, dwArg00) != 0x00)
											{
												Mem758[0x00404098:word32] = Mem739[fp - 0x18 + 0x00:word32] << (byte) (Mem739[(fp - 0x24) + 0x00:word32] + 215881);
												Mem765[0x004040BC:word32] = Mem758[fp - 0x0C + 0x00:word32] << (byte) (Mem758[0x00404098:word32] - Mem758[0x004040BC:word32]);
												Mem772[0x00404098:word32] = Mem765[0x00404098:word32] << (byte) Mem765[0x004040C0:word32] >> ~0x54;
												word32 eax_780 = 474822 >> (byte) Mem772[0x00404098:word32] >> (byte) Mem772[0x00404098:word32];
												Mem781[fp - 0x14 + 0x00:word32] = eax_780;
												word32 ecx_788 = Mem781[fp - 0x0C + 0x00:word32];
												byte cl_789 = (byte) ecx_788;
												word32 edx_790 = Mem781[0x00404098:word32] *s 701812 << (byte) Mem781[(fp - 0x0C) + 0x00:word32] >> cl_789;
												Mem792[0x00404098:word32] = edx_790;
												word32 esp_793;
												word32 ebp_794;
												byte SCZO_795;
												word32 ebx_796;
												word32 esi_797;
												word32 edi_798;
												word32 eax_799;
												word32 edx_800;
												word32 ecx_801;
												byte cl_802;
												word16 ax_803;
												byte SZO_804;
												byte C_805;
												byte Z_806;
												selector fs_807;
												Mem792[0x004040CC:word32]();
												return eax_799;
											}
											else
											{
												Mem747[esp_738 + 0x00:word32] = Mem739[0x004040B4:word32];
												fn004025B0(dwArg00);
												Mem751[esp_738 + 0x00:word32] = 0x0195;
												ExitProcess(Mem751[esp_738 + 0x00:UINT]);
											}
										}
										else
										{
											Mem677[esp_342 - 0x5C + 0x00:word32] = 0x00038638;
											ExitProcess(Mem677[esp_342 - 0x5C + 0x00:UINT]);
										}
									}
									else
									{
										Mem609[esp_342 - 0x5C + 0x00:word32] = 9667734;
										ExitProcess(Mem609[esp_342 - 0x5C + 0x00:UINT]);
									}
								}
								else
								{
									Mem576[esp_342 - 0x4C + 0x00:word32] = 0x02426385;
									ExitProcess(Mem576[esp_342 - 0x4C + 0x00:UINT]);
								}
							}
						}
					}
				}
			}
		}
	}
	return 0x00;
}

// 00401C10: void fn00401C10(Register word32 ebp, Stack word32 dwArg04)
void fn00401C10(word32 ebp, word32 dwArg04)
{
	word32 dwLoc34_18;
	word32 esp_21 = fp - 0x38;
	if (Mem0[0x004040B8:word32] != 0x00)
		dwLoc34_18 = Mem0[0x004040A0:word32];
	else
	{
		esp_21 = fp - 0x3C;
		dwLoc34_18 = GetModuleHandleA(0x00);
	}
	if (dwLoc34_18 != 0x00)
	{
		word32 eax_70 = dwLoc34_18 + Mem0[dwLoc34_18 + 0x3C:word32];
		word32 esp_72 = esp_21 - 0x04;
		Mem73[esp_72 + 0x00:word32] = 0x40;
		Mem75[esp_72 - 0x04 + 0x00:word32] = 0x3000;
		Mem79[esp_72 - 0x08 + 0x00:word32] = Mem75[eax_70 + 0x50:word32];
		Mem81[esp_72 - 0x0C + 0x00:word32] = 0x00;
		Mem83[0x004040C4:word32] = VirtualAlloc(Mem81[esp_72 - 0x0C + 0x00:LPVOID], Mem81[esp_72 - 0x08 + 0x00:SIZE_T], Mem81[esp_72 - 0x04 + 0x00:DWORD], Mem81[esp_72 + 0x00:DWORD]);
		if (Mem83[0x004040C4:word32] != 0x00)
		{
			Mem93[esp_72 - 0x10 + 0x00:word32] = Mem83[eax_70 + 0x50:word32];
			Mem96[esp_72 - 0x14 + 0x00:word32] = dwLoc34_18;
			Mem99[esp_72 - 0x18 + 0x00:word32] = Mem96[0x004040C4:word32];
			fn00401000(dwArg00, dwArg04, dwArg08);
			word32 ecx_105 = Mem99[0x004040C4:word32] - dwLoc34_18;
			if (Mem99[eax_70 + 0xA4:word32] != 0x00)
			{
				word32 dwLoc10_140 = dwLoc34_18 + Mem99[eax_70 + 0xA0:word32];
				while (Mem99[dwLoc10_140 + 0x04:word32] != 0x00)
				{
					word32 edx_162 = Mem99[dwLoc10_140 + 0x04:word32] - 0x08 >>u 0x01;
					Mem174[0x0040408C:word32] = Mem99[0x004040D0:word32] >> 0x5F;
					word32 ecx_169 = dwLoc10_140 + 0x08;
					word32 dwLoc0C_175 = 0x00;
					while (dwLoc0C_175 <u edx_162)
					{
						Mem189[0x004040BC:word32] = 166259 >> (byte) Mem174[0x00404098:word32];
						if ((word32) ecx_169[dwLoc0C_175 * 0x02] >> 0x0C == 0x03)
							Mem222[Mem189[0x004040C4:word32] + Mem189[dwLoc10_140 + 0x00:word32] + ((word32) ecx_169[dwLoc0C_175 * 0x02] & 0x0FFF):word32] = Mem189[Mem189[0x004040C4:word32] + Mem189[dwLoc10_140 + 0x00:word32] + ((word32) ecx_169[dwLoc0C_175 * 0x02] & 0x0FFF):word32] + ecx_105;
						dwLoc0C_175 = dwLoc0C_175 + 0x01;
					}
					dwLoc10_140 = dwLoc10_140 + Mem174[dwLoc10_140 + 0x04:word32];
				}
			}
			Mem118[esp_72 - 0x10 + 0x00:word32] = dwArg04;
			word32 eax_121 = Mem118[esp_72 - 0x10 + 0x00:word32] + Mem118[0x004040C4:word32];
			word32 esp_125;
			word32 ebp_126;
			byte SCZO_127;
			word32 esi_128;
			word32 eax_129;
			byte Z_130;
			word32 ecx_131;
			byte SZO_132;
			byte C_133;
			word32 edx_134;
			byte cl_135;
			eax_121();
		}
	}
}

// 00401E40: Register word32 fn00401E40(Register word32 ebp, Stack word32 dwArg04)
word32 fn00401E40(word32 ebp, word32 dwArg04)
{
	word32 eax_269;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc30_120 = edx_16 + 0x18 + (word32) Mem0[edx_16 + 0x14:word16];
	word32 eax_33 = VirtualAlloc(0x00, Mem0[edx_16 + 0x50:word32], 0x3000, 0x40);
	if (eax_33 == 0x00)
	{
		eax_269 = 0x00;
		return eax_269;
	}
	Mem94[0x004040D0:word32] = dwLoc48 - dwLoc14 + 735473;
	fn00401000(eax_33, dwArg04, Mem94[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem94[edx_16 + 0x06:word16] *s 0x28);
	word32 esp_110 = fp - 0x70;
	word32 dwLoc10_112 = 0x00;
	while (dwLoc10_112 <u (word32) Mem94[edx_16 + 0x06:word16])
	{
		if (Mem94[dwLoc30_120 + 0x14:word32] != 0x00 && Mem94[dwLoc30_120 + 0x10:word32] != 0x00)
		{
			fn00401000(eax_33 + Mem94[dwLoc30_120 + 0x0C:word32], dwArg04 + Mem94[dwLoc30_120 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem94[dwLoc30_120 + 0x10:word32] - 0x01 + Mem94[edx_16 + 0x3C:word32]) /u Mem94[edx_16 + 0x3C:word32]) *s Mem94[edx_16 + 0x3C:word32]);
			esp_110 = fp - 0x70;
		}
		Mem148[0x0040408C:word32] = dwLoc08 << 0x49;
		dwLoc30_120 = dwLoc30_120 + 0x28;
		dwLoc10_112 = dwLoc10_112 + 0x01;
	}
	word32 edx_192 = eax_33 + Mem94[eax_33 + 0x3C:word32];
	word32 dwLoc5C_198 = eax_33 + Mem94[edx_192 + 0x80:word32];
	while (Mem94[dwLoc5C_198 + 0x10:word32] != 0x00)
	{
		esp_110 = esp_110 - 0x04;
		Mem218[esp_110 + 0x00:word32] = eax_33 + Mem94[dwLoc5C_198 + 0x0C:word32];
		word32 eax_219 = GetModuleHandleA(Mem218[esp_110 + 0x00:LPCSTR]);
		word32 dwLoc1C_220 = eax_219;
		if (eax_219 == 0x00)
		{
			if (Mem218[0x004040B8:word32] != 0x00)
			{
				eax_269 = 0x00;
				return eax_269;
			}
			Mem344[esp_110 - 0x04 + 0x00:word32] = eax_33 + Mem218[dwLoc5C_198 + 0x0C:word32];
			word32 eax_345 = LoadLibraryA(Mem344[esp_110 - 0x04 + 0x00:LPCSTR]);
			Mem347[0x004040BC:word32] = 0x00;
			esp_110 = esp_110 - 0x04;
			dwLoc1C_220 = eax_345;
			if (eax_345 == 0x00)
			{
				eax_269 = 0x00;
				return eax_269;
			}
		}
		word32 dwLoc44_232;
		word32 dwLoc2C_231;
		Mem227[0x004040D0:word32] = 0x00;
		if (Mem227[dwLoc5C_198 + 0x00:word32] != 0x00)
		{
			dwLoc2C_231 = eax_33 + Mem227[dwLoc5C_198 + 0x00:word32];
			dwLoc44_232 = eax_33 + Mem227[dwLoc5C_198 + 0x10:word32];
		}
		else
		{
			dwLoc2C_231 = eax_33 + Mem227[dwLoc5C_198 + 0x10:word32];
			dwLoc44_232 = eax_33 + Mem227[dwLoc5C_198 + 0x00:word32];
		}
		word32 dwLoc18_235 = 0x00;
		if (Mem227[dwLoc5C_198 + 0x10:word32] != 0x00 && Mem227[dwLoc5C_198 + 0x00:word32] != 0x00)
			dwLoc18_235 = 0x01;
		while (Mem227[dwLoc2C_231 + 0x00:word32] != 0x00)
		{
			if ((Mem227[dwLoc2C_231 + 0x00:word32] & 0x80000000) != 0x00)
			{
				word32 esp_292 = esp_110 - 0x04;
				Mem293[esp_292 + 0x00:word32] = Mem227[dwLoc2C_231 + 0x00:word32] & 0x7FFFFFFF;
				Mem296[esp_292 - 0x04 + 0x00:word32] = dwLoc1C_220;
				Mem299[dwLoc2C_231 + 0x00:word32] = GetProcAddress(Mem296[esp_292 - 0x04 + 0x00:HMODULE], Mem296[esp_292 + 0x00:LPCSTR]);
			}
			else
			{
				word32 esp_304 = esp_110 - 0x04;
				Mem305[esp_304 + 0x00:word32] = Mem227[dwLoc2C_231 + 0x00:word32] + 0x02 + eax_33;
				Mem308[esp_304 - 0x04 + 0x00:word32] = dwLoc1C_220;
				Mem311[dwLoc2C_231 + 0x00:word32] = GetProcAddress(Mem308[esp_304 - 0x04 + 0x00:HMODULE], Mem308[esp_304 + 0x00:LPCSTR]);
			}
			esp_110 = esp_110 - 0x08;
			if (Mem227[dwLoc2C_231 + 0x00:word32] == 0x00)
			{
				eax_269 = 0x00;
				return eax_269;
			}
			if (dwLoc18_235 != 0x00)
				Mem286[dwLoc44_232 + 0x00:word32] = Mem227[dwLoc2C_231 + 0x00:word32];
			dwLoc2C_231 = dwLoc2C_231 + 0x04;
			dwLoc44_232 = dwLoc44_232 + 0x04;
		}
		dwLoc5C_198 = dwLoc5C_198 + 0x14;
	}
	if (Mem94[0x004040B8:word32] != 0x00)
	{
		word32 ecx_641 = Mem94[0x004040A0:word32] - Mem94[edx_192 + 0x34:word32];
		if (Mem94[edx_192 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc20_650 = eax_33 + Mem94[edx_192 + 0xA0:word32];
			while (Mem94[dwLoc20_650 + 0x04:word32] != 0x00)
			{
				word32 ecx_665 = Mem94[dwLoc20_650 + 0x04:word32] - 0x08 >>u 0x01;
				word32 edx_668 = dwLoc20_650 + 0x08;
				word32 dwLoc10_671 = 0x00;
				while (dwLoc10_671 <u ecx_665)
				{
					Mem682[0x0040408C:word32] = dwLoc34 *s Mem94[0x004040C0:word32];
					if ((word32) edx_668[dwLoc10_671 * 0x02] >> 0x0C == 0x03)
						Mem715[eax_33 + Mem682[dwLoc20_650 + 0x00:word32] + ((word32) edx_668[dwLoc10_671 * 0x02] & 0x0FFF):word32] = Mem682[eax_33 + Mem682[dwLoc20_650 + 0x00:word32] + ((word32) edx_668[dwLoc10_671 * 0x02] & 0x0FFF):word32] + ecx_641;
					dwLoc10_671 = dwLoc10_671 + 0x01;
				}
				dwLoc20_650 = dwLoc20_650 + Mem94[dwLoc20_650 + 0x04:word32];
			}
		}
	}
	word32 esp_368 = esp_110 - 0x04;
	Mem369[esp_368 + 0x00:word32] = 0x00;
	Mem373[esp_368 - 0x04 + 0x00:word32] = Mem369[edx_192 + 0x50:word32];
	Mem375[esp_368 - 0x08 + 0x00:word32] = 0x00;
	Mem377[esp_368 - 0x0C + 0x00:word32] = 0x04;
	Mem379[esp_368 - 0x10 + 0x00:word32] = 0x00;
	Mem381[esp_368 - 0x14 + 0x00:word32] = ~0x00;
	word32 eax_382 = CreateFileMappingA(Mem381[esp_368 - 0x14 + 0x00:HANDLE], Mem381[esp_368 - 0x10 + 0x00:LPSECURITY_ATTRIBUTES], Mem381[esp_368 - 0x0C + 0x00:DWORD], Mem381[esp_368 - 0x08 + 0x00:DWORD], Mem381[esp_368 - 0x04 + 0x00:DWORD], Mem381[esp_368 + 0x00:LPCSTR]);
	if (eax_382 == 0x00)
	{
		eax_269 = 0x00;
		return eax_269;
	}
	Mem394[0x00404098:word32] = 857055 >> (byte) Mem381[0x00404098:word32];
	if (Mem394[0x004040B8:word32] != 0x00)
	{
		Mem608[esp_368 - 0x18 + 0x00:word32] = Mem394[0x004040A0:word32];
		Mem610[esp_368 - 0x1C + 0x00:word32] = 0x00;
		Mem612[esp_368 - 0x20 + 0x00:word32] = 0x00;
		Mem614[esp_368 - 0x24 + 0x00:word32] = 0x00;
		Mem616[esp_368 - 0x28 + 0x00:word32] = 0x22;
		Mem619[esp_368 - 44 + 0x00:word32] = eax_382;
		Mem621[0x004040C4:word32] = MapViewOfFileEx(Mem619[esp_368 - 44 + 0x00:HANDLE], Mem619[esp_368 - 0x28 + 0x00:DWORD], Mem619[esp_368 - 0x24 + 0x00:DWORD], Mem619[esp_368 - 0x20 + 0x00:DWORD], Mem619[esp_368 - 0x1C + 0x00:SIZE_T], Mem619[esp_368 - 0x18 + 0x00:LPVOID]);
	}
	else
	{
		Mem625[esp_368 - 0x18 + 0x00:word32] = Mem394[edx_192 + 0x34:word32];
		Mem627[esp_368 - 0x1C + 0x00:word32] = 0x00;
		Mem629[esp_368 - 0x20 + 0x00:word32] = 0x00;
		Mem631[esp_368 - 0x24 + 0x00:word32] = 0x00;
		Mem633[esp_368 - 0x28 + 0x00:word32] = 0x22;
		Mem636[esp_368 - 44 + 0x00:word32] = eax_382;
		Mem638[0x004040C4:word32] = MapViewOfFileEx(Mem636[esp_368 - 44 + 0x00:HANDLE], Mem636[esp_368 - 0x28 + 0x00:DWORD], Mem636[esp_368 - 0x24 + 0x00:DWORD], Mem636[esp_368 - 0x20 + 0x00:DWORD], Mem636[esp_368 - 0x1C + 0x00:SIZE_T], Mem636[esp_368 - 0x18 + 0x00:LPVOID]);
	}
	word32 esp_400 = esp_110 - 0x30;
	if (Mem394[0x004040C4:word32] == 0x00)
	{
		word32 esp_473;
		Mem465[0x00404098:word32] = dwLoc34 *s Mem394[0x004040BC:word32];
		if (Mem465[0x004040B8:word32] != 0x00)
		{
			Mem556[esp_400 - 0x04 + 0x00:word32] = Mem465[0x004040A0:word32];
			esp_473 = esp_400 - 0x04;
			if (UnmapViewOfFile(Mem556[esp_400 - 0x04 + 0x00:LPCVOID]) == 0x00)
			{
				Mem568[esp_400 - 0x08 + 0x00:word32] = 0x8000;
				Mem570[esp_400 - 0x0C + 0x00:word32] = 0x00;
				Mem573[esp_400 - 0x10 + 0x00:word32] = Mem570[0x004040A0:word32];
				esp_473 = esp_400 - 0x10;
				if (VirtualFree(Mem573[esp_400 - 0x10 + 0x00:LPVOID], Mem573[esp_400 - 0x0C + 0x00:SIZE_T], Mem573[esp_400 - 0x08 + 0x00:DWORD]) == 0x00)
				{
					eax_269 = 0x00;
					return eax_269;
				}
			}
		}
		else
		{
			Mem585[esp_400 - 0x04 + 0x00:word32] = Mem465[edx_192 + 0x34:word32];
			esp_473 = esp_400 - 0x04;
			if (UnmapViewOfFile(Mem585[esp_400 - 0x04 + 0x00:LPCVOID]) == 0x00)
			{
				Mem591[esp_400 - 0x08 + 0x00:word32] = 0x8000;
				Mem593[esp_400 - 0x0C + 0x00:word32] = 0x00;
				Mem597[esp_400 - 0x10 + 0x00:word32] = Mem593[edx_192 + 0x34:word32];
				esp_473 = esp_400 - 0x10;
				if (VirtualFree(Mem597[esp_400 - 0x10 + 0x00:LPVOID], Mem597[esp_400 - 0x0C + 0x00:SIZE_T], Mem597[esp_400 - 0x08 + 0x00:DWORD]) == 0x00)
				{
					eax_269 = 0x00;
					return eax_269;
				}
			}
		}
		if (Mem465[0x004040B8:word32] != 0x00)
		{
			word32 esp_522 = esp_473 - 0x04;
			Mem523[esp_522 + 0x00:word32] = Mem465[0x004040A0:word32];
			Mem525[esp_522 - 0x04 + 0x00:word32] = 0x00;
			Mem527[esp_522 - 0x08 + 0x00:word32] = 0x00;
			Mem529[esp_522 - 0x0C + 0x00:word32] = 0x00;
			Mem531[esp_522 - 0x10 + 0x00:word32] = 0x22;
			Mem534[esp_522 - 0x14 + 0x00:word32] = eax_382;
			Mem536[0x004040C4:word32] = MapViewOfFileEx(Mem534[esp_522 - 0x14 + 0x00:HANDLE], Mem534[esp_522 - 0x10 + 0x00:DWORD], Mem534[esp_522 - 0x0C + 0x00:DWORD], Mem534[esp_522 - 0x08 + 0x00:DWORD], Mem534[esp_522 - 0x04 + 0x00:SIZE_T], Mem534[esp_522 + 0x00:LPVOID]);
		}
		else
		{
			word32 esp_539 = esp_473 - 0x04;
			Mem540[esp_539 + 0x00:word32] = Mem465[edx_192 + 0x34:word32];
			Mem542[esp_539 - 0x04 + 0x00:word32] = 0x00;
			Mem544[esp_539 - 0x08 + 0x00:word32] = 0x00;
			Mem546[esp_539 - 0x0C + 0x00:word32] = 0x00;
			Mem548[esp_539 - 0x10 + 0x00:word32] = 0x22;
			Mem551[esp_539 - 0x14 + 0x00:word32] = eax_382;
			Mem553[0x004040C4:word32] = MapViewOfFileEx(Mem551[esp_539 - 0x14 + 0x00:HANDLE], Mem551[esp_539 - 0x10 + 0x00:DWORD], Mem551[esp_539 - 0x0C + 0x00:DWORD], Mem551[esp_539 - 0x08 + 0x00:DWORD], Mem551[esp_539 - 0x04 + 0x00:SIZE_T], Mem551[esp_539 + 0x00:LPVOID]);
		}
		esp_400 = esp_473 - 0x18;
		if (Mem465[0x004040C4:word32] == 0x00)
		{
			if (Mem465[0x004040B8:word32] != 0x00)
			{
				Mem495[esp_400 - 0x04 + 0x00:word32] = 0x40;
				Mem497[esp_400 - 0x08 + 0x00:word32] = 0x3000;
				Mem501[esp_400 - 0x0C + 0x00:word32] = Mem497[edx_192 + 0x50:word32];
				Mem504[esp_400 - 0x10 + 0x00:word32] = Mem501[0x004040A0:word32];
				Mem506[0x004040C4:word32] = VirtualAlloc(Mem504[esp_400 - 0x10 + 0x00:LPVOID], Mem504[esp_400 - 0x0C + 0x00:SIZE_T], Mem504[esp_400 - 0x08 + 0x00:DWORD], Mem504[esp_400 - 0x04 + 0x00:DWORD]);
			}
			else
			{
				Mem508[esp_400 - 0x04 + 0x00:word32] = 0x40;
				Mem510[esp_400 - 0x08 + 0x00:word32] = 0x3000;
				Mem514[esp_400 - 0x0C + 0x00:word32] = Mem510[edx_192 + 0x50:word32];
				Mem518[esp_400 - 0x10 + 0x00:word32] = Mem514[edx_192 + 0x34:word32];
				Mem520[0x004040C4:word32] = VirtualAlloc(Mem518[esp_400 - 0x10 + 0x00:LPVOID], Mem518[esp_400 - 0x0C + 0x00:SIZE_T], Mem518[esp_400 - 0x08 + 0x00:DWORD], Mem518[esp_400 - 0x04 + 0x00:DWORD]);
			}
			esp_400 = esp_473 - 0x28;
			if (Mem465[0x004040C4:word32] == 0x00)
			{
				eax_269 = 0x00;
				return eax_269;
			}
		}
	}
	Mem409[0x004040C0:word32] = Mem394[0x004040BC:word32] >> ~0x47;
	word32 esp_412 = esp_400 - 0x04;
	Mem413[esp_412 + 0x00:word32] = Mem409[edx_192 + 0x50:word32];
	Mem416[esp_412 - 0x04 + 0x00:word32] = eax_33;
	Mem419[esp_412 - 0x08 + 0x00:word32] = Mem416[0x004040C4:word32];
	fn00401000(dwArg00, dwArg04, dwArg08);
	if (Mem419[0x004040B8:word32] != 0x00)
	{
		Mem451[esp_412 + 0x00:word32] = Mem419[0x004040C4:word32] + Mem419[edx_192 + 0x28:word32];
		Mem454[esp_412 - 0x04 + 0x00:word32] = Mem451[0x004040A0:word32];
		fn00402440(dwArg00, dwArg04);
	}
	else
	{
		Mem459[esp_412 + 0x00:word32] = Mem419[0x004040C4:word32];
		fn00402540(dwArg00);
	}
	Mem436[0x004040CC:word32] = Mem419[0x004040C4:word32] + Mem419[edx_192 + 0x28:word32];
	Mem439[edx_192 + 0x28:word32] = Mem436[0x004040CC:word32];
	Mem443[0x004040C0:word32] = dwLoc14 + 618225 + Mem439[0x004040BC:word32];
	eax_269 = 0x01;
	return eax_269;
}

// 00402440: void fn00402440(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00402440(word32 dwArg04, word32 dwArg08)
{
	word32 eax_16 = Mem0[Mem0[Mem0[0x004040C8:word32] + 0x30:word32] + 0x0C:word32];
	Mem20[0x004040BC:word32] = Mem0[0x004040D0:word32] *s 604095;
	word32 edx_22 = Mem20[eax_16 + 0x0C:word32];
	Mem32[0x004040D0:word32] = 104064 << (byte) dwLoc08;
	word32 dwLoc1C_101 = edx_22;
	while (0x01 != 0x00 && dwLoc1C_101 != 0x00)
	{
		if (Mem32[dwLoc1C_101 + 0x18:word32] == dwArg04)
		{
			Mem85[dwLoc1C_101 + 0x1C:word32] = dwArg08;
			return;
		}
		word32 ecx_100 = Mem32[dwLoc1C_101 + 0x00:word32];
		dwLoc1C_101 = ecx_100;
		if (ecx_100 == edx_22)
			return;
	}
}

// 00402540: void fn00402540(Stack word32 dwArg04)
void fn00402540(word32 dwArg04)
{
	Mem12[0x0040408C:word32] = Mem0[0x00404098:word32] *s 466522 + dwLoc08;
	Mem40[Mem12[Mem12[0x004040C8:word32] + 0x30:word32] + 0x08:word32] = dwArg04;
}

// 004025B0: void fn004025B0(Stack word32 dwArg04)
void fn004025B0(word32 dwArg04)
{
	Mem15[0x00404098:word32] = Mem0[0x0040408C:word32] << (byte) dwLoc10;
	HeapFree(GetProcessHeap(), 0x00, dwArg04);
}

// 004025F0: Register word32 fn004025F0(Stack word32 dwArg04)
word32 fn004025F0(word32 dwArg04)
{
	word32 eax_8 = GetDesktopWindow();
	Mem26[0x004040C0:word32] = dwLoc18 *s 0x000B600B << (byte) (Mem0[0x00404098:word32] - dwLoc24);
	GetWindowTextA(eax_8, fp - 300, 200);
	Mem41[0x004040C0:word32] = dwLoc10 - Mem26[0x004040D0:word32] - dwLoc10 + 999084;
	word32 eax_51 = HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
	Mem59[0x0040408C:word32] = dwLoc14 - dwLoc08 *s Mem41[0x0040408C:word32];
	return eax_51;
}

